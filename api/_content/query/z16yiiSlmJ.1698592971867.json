{"_path":"/blog/tools/linux-screen-command","_dir":"tools","_draft":false,"_partial":false,"_locale":"","title":"掌握Linux Screen命令：一站式终端管理器神器","description":"linux的screen命令是一个非常实用的命令行工具，它可以在多个进程之间复用一个物理终端。你可以将其理解为一个可以运行多个独立会话的终端管理器。他可以免除你打开多个物理终端进行不同对话管理这种麻烦的步骤，并且他还允许你将任务任务放至后台运行，特别是针对SSH会话，即使你退出了SSH会话，使用screen命令运行的程序也会继续在后台运行。","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"掌握linux-screen命令一站式终端管理器神器"},"children":[{"type":"text","value":"掌握Linux Screen命令：一站式终端管理器神器"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"linux的screen命令是一个非常实用的命令行工具，它可以在"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"多个进程之间复用一个物理终端"}]},{"type":"text","value":"。你可以将其理解为一个可以运行多个独立会话的终端管理器。他可以免除你打开多个物理终端进行不同对话管理这种麻烦的步骤，并且他还"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"允许你将任务任务放至后台运行"}]},{"type":"text","value":"，特别是针对SSH会话，即使你退出了SSH会话，使用screen命令运行的程序也会继续在后台运行。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"下面用一个完整的示例重点介绍几个重要的命令"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"启动一个名称为 image_classification 的会话窗口, 并运行一段循环打印的程序。"},{"type":"element","tag":"pre","props":{"className":["language-shell"],"code":"screen -S image_classification\n","language":"shell","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"screen -S image_classification\n"}]}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"其命名功能则是一个很实用的特性。当你在一个物理终端下开启多个screen会话时，使用命名可以帮助你更好地管理和区分这些会话。你可以为每一个会话设置一个有意义的名字，这样在查看、切换或者管理会话时就可以更加直观易懂。以上，我们创建了一个名为\"image_classification\"的screen会话用来循环打印日志，也可以另外创建一个名为\"editing\"的screen会话用来编辑文档。当你需要查看打印日志进度时，你可以快速找到名为\"image_classification\"的会话，而不是需要去记忆或者查看每个会话的编号。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"在会话窗口中运行一段循环打印的程序"},{"type":"element","tag":"pre","props":{"className":["language-shell"],"code":"# 将以下代码复制到新打开的terminal\nfor i in {1..100}\ndo\necho \"Number: $i\"\nsleep 5\ndone\n","language":"shell","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# 将以下代码复制到新打开的terminal\nfor i in {1..100}\ndo\necho \"Number: $i\"\nsleep 5\ndone\n"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"退出 image_classification screen terminal"},{"type":"element","tag":"pre","props":{"className":["language-shell"],"code":"ctrl+a+d\n","language":"shell","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"ctrl+a+d\n"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"展示已打开的screen terminal, 红线部分是terminal的名称, 后面跟着的Detached表明我们现在已经通过ctrl+a+d快捷键退出了这个terminal，但是其内部的任务依然在运行。"},{"type":"element","tag":"pre","props":{"className":["language-shell"],"code":"screen -ls\n","language":"shell","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"screen -ls\n"}]}]},{"type":"element","tag":"image","props":{"src":"/image/tools/linux-screen-command/screen_ls.jpg"},"children":[]},{"type":"text","value":"\n "}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"重新连接进名称为 15802.image_classification 的terminal查看正在执行的内容"},{"type":"element","tag":"pre","props":{"className":["language-shell"],"code":"screen -r 15802.image_classification\n","language":"shell","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"screen -r 15802.image_classification\n"}]}]},{"type":"element","tag":"image","props":{"src":"/image/tools/linux-screen-command/screen_r.gif"},"children":[]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"上面几步是一个相对比较完整的流程了，展示创建->退出->再连接的整体流程，以下是screen指令的一些其他的好处，使用screen命令可以大大提高你在远程服务器上工作的效率："}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"多任务：在一个SSH会话中，你可以使用screen命令在多个shell之间切换，这样你就可以同时进行多个任务，而不需要开启多个SSH会话。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"后台运行：即使你退出了SSH会话，使用screen命令运行的程序也会继续在后台运行。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"共享会话：screen命令允许你共享你的会话，这对于多人协作非常有用。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"窗口切换：你可以在不同的窗口之间快速切换，每个窗口都有自己的命令历史记录和shell状态。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"自定义：你可以自定义screen的快捷键，以及窗口的布局和行为。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"滚动和搜索：在screen中，你可以向上滚动查看之前的输出，也可以搜索文本。"}]}]},{"type":"element","tag":"h1","props":{"id":"screen-cheat-sheet-原始地址"},"children":[{"type":"text","value":"Screen Cheat Sheet  "},{"type":"element","tag":"a","props":{"href":"https://devhints.io/screen","rel":["nofollow"]},"children":[{"type":"text","value":"原始地址"}]}]},{"type":"element","tag":"image","props":{"src":"/image/tools/linux-screen-command/screen_cheat_sheet.jpg"},"children":[]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:blog:tools:linux-screen-command.md","_source":"content","_file":"blog/tools/linux-screen-command.md","_extension":"md"}