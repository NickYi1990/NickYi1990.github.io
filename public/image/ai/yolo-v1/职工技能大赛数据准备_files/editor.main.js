/*!-----------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.31.0(158bb6b4822ce98cdd4189bb366b02490b2e2e84)
 * Released under the MIT license
 * https://github.com/microsoft/vscode/blob/main/LICENSE.txt
 *-----------------------------------------------------------*/(function(){var ee=["require","exports","vs/base/common/lifecycle","vs/editor/common/core/range","vs/base/common/event","vs/nls","vs/nls!vs/editor/editor.main","vs/base/browser/dom","vs/base/common/strings","vs/platform/instantiation/common/instantiation","vs/base/common/async","vs/css!vs/editor/editor.main","vs/base/common/errors","vs/editor/common/core/position","vs/platform/theme/common/themeService","vs/base/common/platform","vs/editor/browser/editorExtensions","vs/platform/contextkey/common/contextkey","vs/editor/common/modes","vs/base/common/arrays","vs/base/common/types","vs/base/common/cancellation","vs/base/common/uri","vs/editor/common/core/selection","vs/platform/theme/common/colorRegistry","vs/editor/common/editorContextKeys","vs/platform/commands/common/commands","vs/base/common/codicons","vs/base/common/color","vs/editor/common/config/editorOptions","vs/editor/browser/services/codeEditorService","vs/editor/common/model/textModel","vs/base/browser/fastDomNode","vs/base/common/resources","vs/base/common/objects","vs/platform/registry/common/platform","vs/base/browser/browser","vs/platform/configuration/common/configuration","vs/platform/actions/common/actions","vs/editor/common/services/modeService","vs/editor/common/modes/languageConfigurationRegistry","vs/platform/notification/common/notification","vs/base/common/network","vs/platform/keybinding/common/keybinding","vs/base/browser/keyboardEvent","vs/base/browser/ui/aria/aria","vs/base/common/actions","vs/editor/common/services/modelService","vs/base/common/map","vs/editor/common/model","vs/editor/common/controller/cursorCommon","vs/editor/browser/view/viewPart","vs/editor/common/view/editorColorRegistry","vs/base/browser/ui/widget","vs/platform/opener/common/opener","vs/base/common/iterator","vs/base/common/keyCodes","vs/base/browser/touch","vs/base/common/path","vs/base/browser/mouseEvent","vs/editor/common/core/editOperation","vs/platform/progress/common/progress","vs/platform/accessibility/common/accessibility","vs/editor/browser/config/configuration","vs/base/browser/ui/scrollbar/scrollableElement","vs/editor/common/viewModel/viewModel","vs/editor/common/standaloneStrings","vs/editor/common/services/editorWorkerService","vs/editor/common/services/resolverService","vs/platform/contextview/browser/contextView","vs/editor/browser/core/editorState","vs/platform/theme/common/iconRegistry","vs/base/common/filters","vs/base/common/htmlContent","vs/platform/instantiation/common/extensions","vs/platform/log/common/log","vs/platform/quickinput/common/quickInput","vs/platform/keybinding/common/keybindingsRegistry","vs/platform/storage/common/storage","vs/base/common/functional","vs/base/common/linkedList","vs/base/browser/event","vs/base/common/severity","vs/editor/common/modes/nullMode","vs/base/browser/ui/actionbar/actionbar","vs/platform/clipboard/common/clipboardService","vs/platform/telemetry/common/telemetry","vs/base/common/stopwatch","vs/base/common/hash","vs/editor/common/core/stringBuilder","vs/editor/common/model/bracketPairs/bracketPairsTree/length","vs/editor/common/model/textModelEvents","vs/editor/common/core/lineTokens","vs/platform/markers/common/markers","vs/editor/contrib/suggest/suggest","vs/base/browser/ui/tree/tree","vs/base/common/decorators","vs/base/common/keybindings","vs/base/common/buffer","vs/base/browser/globalMouseMoveMonitor","vs/base/browser/ui/list/listWidget","vs/editor/common/core/characterClassifier","vs/editor/common/commands/replaceCommand","vs/editor/browser/view/dynamicViewOverlay","vs/base/browser/ui/actionbar/actionViewItems","vs/platform/configuration/common/configurationRegistry","vs/editor/browser/core/markdownRenderer","vs/platform/quickinput/common/quickAccess","vs/platform/theme/common/theme","vs/base/common/numbers","vs/base/common/iconLabels","vs/base/browser/ui/iconLabel/iconLabels","vs/base/common/mime","vs/base/browser/ui/sash/sash","vs/editor/common/controller/wordCharacterClassifier","vs/editor/common/editorCommon","vs/editor/browser/editorBrowser","vs/editor/common/model/bracketPairs/bracketPairsTree/smallImmutableSet","vs/editor/common/modes/languageConfiguration","vs/editor/common/view/renderingContext","vs/editor/common/viewLayout/viewLineRenderer","vs/editor/common/viewModel/viewEventHandler","vs/editor/contrib/snippet/snippetParser","vs/editor/contrib/gotoSymbol/referencesModel","vs/editor/common/model/tokensStore","vs/editor/standalone/common/standaloneThemeService","vs/platform/dialogs/common/dialogs","vs/platform/label/common/label","vs/editor/common/modes/modesRegistry","vs/editor/browser/editorDom","vs/platform/theme/common/styler","vs/platform/undoRedo/common/undoRedo","vs/editor/contrib/peekView/peekView","vs/base/common/idGenerator","vs/base/common/json","vs/base/common/range","vs/base/common/scrollable","vs/base/common/diff/diff","vs/base/common/extpath","vs/base/common/uint","vs/base/common/labels","vs/base/browser/ui/codicons/codiconStyles","vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/base/parts/quickinput/browser/media/quickInput","vs/editor/common/config/editorZoom","vs/editor/common/controller/cursorColumns","vs/editor/common/core/token","vs/editor/common/model/bracketPairs/bracketPairsTree/ast","vs/editor/common/model/textModelSearch","vs/editor/common/model/wordHelper","vs/editor/common/modes/supports","vs/editor/common/viewLayout/lineDecorations","vs/editor/contrib/codeAction/types","vs/base/browser/ui/inputbox/inputBox","vs/editor/browser/services/bulkEditService","vs/editor/common/modes/languageFeatureRegistry","vs/editor/common/services/textResourceConfigurationService","vs/platform/instantiation/common/serviceCollection","vs/platform/layout/browser/layoutService","vs/editor/contrib/codeAction/codeAction","vs/editor/contrib/message/messageController","vs/platform/list/browser/listService","vs/editor/common/controller/cursorWordOperations","vs/editor/browser/controller/coreCommands","vs/editor/browser/widget/codeEditorWidget","vs/editor/browser/widget/embeddedCodeEditorWidget","vs/editor/contrib/find/findModel","vs/platform/workspace/common/workspace","vs/base/common/lazy","vs/base/browser/canIUse","vs/base/browser/ui/tree/indexTreeModel","vs/base/browser/ui/tree/objectTreeModel","vs/base/browser/formattedTextRenderer","vs/base/browser/ui/scrollbar/scrollbarArrow","vs/base/browser/dnd","vs/base/browser/ui/list/listView","vs/editor/browser/controller/textAreaInput","vs/editor/browser/view/viewLayer","vs/editor/common/modes/supports/richEditBrackets","vs/editor/common/standalone/standaloneEnums","vs/editor/common/view/viewEvents","vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/editor/common/viewModel/viewModelEventDispatcher","vs/editor/contrib/folding/foldingRanges","vs/editor/contrib/inlineCompletions/ghostText","vs/editor/contrib/inlineCompletions/inlineCompletionToGhostText","vs/base/browser/ui/iconLabel/iconLabel","vs/base/browser/ui/tree/abstractTree","vs/base/browser/ui/checkbox/checkbox","vs/base/common/keybindingLabels","vs/editor/common/config/fontInfo","vs/platform/instantiation/common/descriptors","vs/editor/common/services/markersDecorationService","vs/editor/contrib/parameterHints/provideSignatureHelp","vs/platform/jsonschemas/common/jsonContributionRegistry","vs/editor/common/config/commonEditorConfig","vs/platform/actions/browser/menuEntryActionViewItem","vs/editor/common/commands/shiftCommand","vs/editor/browser/controller/mouseTarget","vs/editor/common/controller/cursorMoveOperations","vs/editor/common/controller/cursorDeleteOperations","vs/editor/common/controller/cursorTypeOperations","vs/editor/common/controller/cursorMoveCommands","vs/editor/browser/widget/diffEditorWidget","vs/editor/contrib/inlineCompletions/inlineCompletionsModel","vs/editor/standalone/browser/simpleServices","vs/editor/contrib/snippet/snippetController2","vs/base/browser/iframe","vs/base/browser/ui/scrollbar/scrollbarState","vs/base/common/assert","vs/base/common/collections","vs/base/common/stream","vs/base/common/marshalling","vs/base/browser/markdownRenderer","vs/base/browser/ui/highlightedlabel/highlightedLabel","vs/base/browser/ui/scrollbar/abstractScrollbar","vs/base/common/comparers","vs/base/common/glob","vs/base/common/worker/simpleWorker","vs/base/parts/quickinput/common/quickInput","vs/css!vs/base/browser/ui/actionbar/actionbar","vs/base/browser/ui/contextview/contextview","vs/base/browser/ui/countBadge/countBadge","vs/css!vs/base/browser/ui/dropdown/dropdown","vs/css!vs/base/browser/ui/findinput/findInput","vs/css!vs/base/browser/ui/list/list","vs/base/browser/ui/hover/hoverWidget","vs/base/browser/ui/splitview/splitview","vs/base/parts/quickinput/browser/quickInputUtils","vs/editor/browser/config/elementSizeObserver","vs/editor/browser/viewParts/minimap/minimapCharSheet","vs/editor/browser/controller/textAreaState","vs/editor/browser/widget/diffNavigator","vs/editor/common/core/rgba","vs/editor/common/editorAction","vs/editor/common/model/bracketPairs/bracketPairsTree/beforeEditPositionMapper","vs/editor/common/model/textChange","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeBase","vs/editor/common/modes/unicodeTextModelHighlighter","vs/editor/common/standalone/standaloneBase","vs/editor/common/view/overviewZoneManager","vs/editor/common/viewModel/modelLineProjectionData","vs/editor/common/viewModel/prefixSumComputer","vs/editor/browser/viewParts/margin/margin","vs/editor/contrib/folding/syntaxRangeProvider","vs/editor/contrib/format/formattingEdit","vs/editor/contrib/gotoSymbol/link/clickLinkGesture","vs/editor/contrib/hover/hoverOperation","vs/editor/contrib/hover/hoverTypes","vs/editor/contrib/indentation/indentUtils","vs/editor/contrib/inlineCompletions/consts","vs/editor/contrib/inlineCompletions/utils","vs/editor/contrib/smartSelect/bracketSelections","vs/editor/contrib/suggest/resizable","vs/editor/standalone/common/monarch/monarchCommon","vs/base/browser/ui/tree/objectTree","vs/base/browser/ui/findinput/findInputCheckboxes","vs/base/common/errorMessage","vs/editor/common/viewModel/viewModelDecorations","vs/editor/common/model/editStack","vs/editor/common/model/bracketPairs/bracketPairsTree/tokenizer","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer","vs/editor/common/modes/textToHtmlTokenizer","vs/editor/common/viewModel/minimapTokensColorTracker","vs/editor/contrib/documentSymbols/outlineModel","vs/editor/standalone/common/monarch/monarchLexer","vs/editor/common/services/getSemanticTokens","vs/editor/contrib/codelens/codelens","vs/editor/contrib/colorPicker/color","vs/editor/contrib/comment/blockCommentCommand","vs/platform/contextkey/common/contextkeys","vs/platform/files/common/files","vs/platform/keybinding/common/keybindingResolver","vs/platform/keybinding/common/resolvedKeybindingItem","vs/editor/common/services/editorWorkerServiceImpl","vs/editor/contrib/suggest/suggestWidgetDetails","vs/platform/remote/common/remoteHosts","vs/editor/browser/viewParts/lines/viewLine","vs/editor/common/services/semanticTokensProviderStyling","vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/editor/contrib/quickAccess/editorNavigationQuickAccess","vs/editor/contrib/symbolIcons/symbolIcons","vs/editor/standalone/browser/standaloneCodeServiceImpl","vs/editor/contrib/format/format","vs/editor/contrib/gotoSymbol/goToSymbol","vs/editor/contrib/hover/markdownHoverParticipant","vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode","vs/editor/common/controller/cursorAtomicMoveOperations","vs/editor/browser/view/viewUserInputEvents","vs/editor/common/controller/cursor","vs/editor/common/services/modelServiceImpl","vs/editor/contrib/codeAction/codeActionCommands","vs/editor/contrib/colorPicker/colorDetector","vs/editor/contrib/find/findController","vs/editor/contrib/wordOperations/wordOperations","vs/editor/contrib/gotoError/gotoError","vs/editor/contrib/gotoSymbol/peek/referencesController","vs/editor/contrib/gotoSymbol/goToCommands","vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition","vs/platform/workspace/common/workspaceTrust","vs/editor/contrib/unicodeHighlighter/unicodeHighlighter","vs/editor/standalone/browser/standaloneServices","vs/editor/contrib/snippet/snippetSession","vs/editor/contrib/suggest/suggestController","vs/editor/contrib/inlineCompletions/ghostTextController","vs/editor/contrib/hover/hover","vs/base/browser/ui/list/list","vs/base/browser/ui/list/splice","vs/base/common/diff/diffChange","vs/base/common/jsonFormatter","vs/base/common/jsonEdit","vs/base/common/navigator","vs/base/common/history","vs/base/common/process","vs/base/browser/ui/list/rangeMap","vs/base/browser/ui/tree/compressedObjectTreeModel","vs/base/common/search","vs/base/browser/dompurify/dompurify","vs/base/browser/ui/list/rowCache","vs/base/browser/ui/scrollbar/scrollbarVisibilityController","vs/base/browser/ui/selectBox/selectBoxNative","vs/base/browser/ui/scrollbar/horizontalScrollbar","vs/base/browser/ui/scrollbar/verticalScrollbar","vs/base/common/fuzzyScorer","vs/base/common/uuid","vs/base/parts/storage/common/storage","vs/base/worker/defaultWorkerFactory","vs/css!vs/base/browser/ui/aria/aria","vs/css!vs/base/browser/ui/button/button","vs/css!vs/base/browser/ui/checkbox/checkbox","vs/css!vs/base/browser/ui/codicons/codicon/codicon","vs/css!vs/base/browser/ui/codicons/codicon/codicon-modifiers","vs/css!vs/base/browser/ui/contextview/contextview","vs/css!vs/base/browser/ui/countBadge/countBadge","vs/css!vs/base/browser/ui/hover/hover","vs/css!vs/base/browser/ui/iconLabel/iconlabel","vs/css!vs/base/browser/ui/inputbox/inputBox","vs/css!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/css!vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/base/browser/ui/progressbar/progressbar","vs/base/browser/ui/progressbar/progressbar","vs/css!vs/base/browser/ui/sash/sash","vs/css!vs/base/browser/ui/scrollbar/media/scrollbars","vs/base/browser/ui/list/listPaging","vs/css!vs/base/browser/ui/selectBox/selectBox","vs/css!vs/base/browser/ui/selectBox/selectBoxCustom","vs/css!vs/base/browser/ui/splitview/splitview","vs/css!vs/base/browser/ui/table/table","vs/base/browser/ui/table/tableWidget","vs/css!vs/base/browser/ui/tree/media/tree","vs/css!vs/editor/browser/controller/textAreaHandler","vs/css!vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/css!vs/editor/browser/viewParts/decorations/decorations","vs/css!vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/css!vs/editor/browser/viewParts/indentGuides/indentGuides","vs/css!vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/css!vs/editor/browser/viewParts/lines/viewLines","vs/css!vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/css!vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/css!vs/editor/browser/viewParts/minimap/minimap","vs/css!vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/css!vs/editor/browser/viewParts/rulers/rulers","vs/css!vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/css!vs/editor/browser/viewParts/selections/selections","vs/css!vs/editor/browser/viewParts/viewCursors/viewCursors","vs/css!vs/editor/browser/widget/media/diffEditor","vs/css!vs/editor/browser/widget/media/diffReview","vs/css!vs/editor/browser/widget/media/editor","vs/css!vs/editor/contrib/anchorSelect/anchorSelect","vs/css!vs/editor/contrib/bracketMatching/bracketMatching","vs/css!vs/editor/contrib/codeAction/lightBulbWidget","vs/css!vs/editor/contrib/codelens/codelensWidget","vs/css!vs/editor/contrib/colorPicker/colorPicker","vs/css!vs/editor/contrib/dnd/dnd","vs/css!vs/editor/contrib/find/findWidget","vs/css!vs/editor/contrib/folding/folding","vs/css!vs/editor/contrib/gotoError/media/gotoErrorWidget","vs/css!vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition","vs/css!vs/editor/contrib/gotoSymbol/peek/referencesWidget","vs/css!vs/editor/contrib/inlineCompletions/ghostText","vs/css!vs/editor/contrib/links/links","vs/css!vs/editor/contrib/message/messageController","vs/css!vs/editor/contrib/parameterHints/parameterHints","vs/css!vs/editor/contrib/peekView/media/peekViewWidget","vs/css!vs/editor/contrib/rename/renameInputField","vs/css!vs/editor/contrib/snippet/snippetSession","vs/css!vs/editor/contrib/suggest/media/suggest","vs/css!vs/editor/contrib/unicodeHighlighter/bannerController","vs/css!vs/editor/contrib/unicodeHighlighter/unicodeHighlighter","vs/css!vs/editor/contrib/zoneWidget/zoneWidget","vs/css!vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp","vs/css!vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/css!vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/css!vs/editor/standalone/browser/quickInput/standaloneQuickInput","vs/css!vs/editor/standalone/browser/standalone-tokens","vs/css!vs/platform/actions/browser/menuEntryActionViewItem","vs/css!vs/platform/contextview/browser/contextMenuHandler","vs/editor/browser/services/abstractCodeEditorService","vs/editor/browser/viewParts/minimap/minimapCharRenderer","vs/editor/browser/viewParts/minimap/minimapPreBaked","vs/editor/browser/viewParts/minimap/minimapCharRendererFactory","vs/editor/common/commands/trimTrailingWhitespaceCommand","vs/editor/common/commands/surroundSelectionCommand","vs/editor/common/diff/diffComputer","vs/editor/common/model/bracketPairs/bracketPairs","vs/editor/common/model/bracketPairs/bracketPairsTree/nodeReader","vs/editor/common/model/bracketPairs/bracketPairsTree/concat23Trees","vs/editor/common/model/bracketPairs/bracketPairsTree/parser","vs/editor/common/model/indentationGuesser","vs/editor/common/model/intervalTree","vs/editor/common/model/pieceTreeTextBuffer/rbTreeBase","vs/editor/common/modes/languageSelector","vs/editor/common/modes/linkComputer","vs/editor/common/modes/supports/characterPair","vs/editor/common/modes/supports/indentRules","vs/editor/common/modes/supports/inplaceReplaceSupport","vs/editor/common/modes/supports/onEnter","vs/editor/common/modes/supports/electricCharacter","vs/editor/common/modes/supports/tokenization","vs/editor/common/modes/tokenizationRegistry","vs/editor/common/services/semanticTokensDto","vs/editor/browser/viewParts/lines/rangeUtil","vs/editor/common/view/viewContext","vs/editor/common/viewLayout/linesLayout","vs/editor/common/viewLayout/viewLinesViewportData","vs/editor/common/viewModel/monospaceLineBreaksComputer","vs/editor/common/model/mirrorTextModel","vs/editor/common/services/editorSimpleWorker","vs/editor/browser/viewParts/contentWidgets/contentWidgets","vs/editor/browser/viewParts/decorations/decorations","vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/editor/browser/viewParts/overviewRuler/overviewRuler","vs/editor/browser/viewParts/viewZones/viewZones","vs/editor/common/viewLayout/viewLayout","vs/editor/contrib/caretOperations/moveCaretCommand","vs/editor/contrib/colorPicker/colorPickerModel","vs/editor/contrib/dnd/dragAndDropCommand","vs/editor/contrib/find/replaceAllCommand","vs/editor/contrib/find/replacePattern","vs/editor/contrib/folding/foldingModel","vs/editor/contrib/folding/intializingRangeProvider","vs/editor/contrib/inPlaceReplace/inPlaceReplaceCommand","vs/editor/contrib/linesOperations/copyLinesCommand","vs/editor/contrib/linesOperations/sortLinesCommand","vs/editor/contrib/smartSelect/wordSelections","vs/editor/contrib/suggest/completionModel","vs/editor/contrib/suggest/suggestCommitCharacters","vs/editor/contrib/suggest/suggestOvertypingCapturer","vs/editor/contrib/suggest/wordDistance","vs/editor/standalone/common/monarch/monarchCompile","vs/nls!vs/base/browser/ui/actionbar/actionViewItems","vs/nls!vs/base/browser/ui/findinput/findInput","vs/nls!vs/base/browser/ui/findinput/findInputCheckboxes","vs/nls!vs/base/browser/ui/findinput/replaceInput","vs/nls!vs/base/browser/ui/iconLabel/iconLabelHover","vs/base/browser/ui/iconLabel/iconLabelHover","vs/nls!vs/base/browser/ui/inputbox/inputBox","vs/nls!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/browser/ui/menu/menu","vs/nls!vs/base/browser/ui/selectBox/selectBoxCustom","vs/base/browser/ui/selectBox/selectBoxCustom","vs/base/browser/ui/selectBox/selectBox","vs/nls!vs/base/browser/ui/tree/abstractTree","vs/base/browser/ui/tree/dataTree","vs/base/browser/ui/tree/asyncDataTree","vs/nls!vs/base/common/actions","vs/base/browser/ui/button/button","vs/base/browser/ui/dropdown/dropdown","vs/base/browser/ui/dropdown/dropdownActionViewItem","vs/base/browser/ui/findinput/findInput","vs/base/browser/ui/findinput/replaceInput","vs/base/browser/ui/menu/menu","vs/base/parts/quickinput/browser/quickInputBox","vs/nls!vs/base/common/errorMessage","vs/nls!vs/base/common/keybindingLabels","vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/parts/quickinput/browser/quickInput","vs/nls!vs/base/parts/quickinput/browser/quickInputList","vs/base/parts/quickinput/browser/quickInputList","vs/base/parts/quickinput/browser/quickInput","vs/nls!vs/editor/browser/controller/coreCommands","vs/nls!vs/editor/browser/controller/textAreaHandler","vs/nls!vs/editor/browser/core/keybindingCancellation","vs/nls!vs/editor/browser/editorExtensions","vs/nls!vs/editor/browser/widget/codeEditorWidget","vs/nls!vs/editor/browser/widget/diffEditorWidget","vs/nls!vs/editor/browser/widget/diffReview","vs/nls!vs/editor/browser/widget/inlineDiffMargin","vs/editor/browser/widget/inlineDiffMargin","vs/nls!vs/editor/common/config/commonEditorConfig","vs/nls!vs/editor/common/config/editorOptions","vs/editor/browser/config/charWidthReader","vs/nls!vs/editor/common/editorContextKeys","vs/nls!vs/editor/common/model/editStack","vs/nls!vs/editor/common/modes/modesRegistry","vs/nls!vs/editor/common/standaloneStrings","vs/nls!vs/editor/common/view/editorColorRegistry","vs/nls!vs/editor/contrib/anchorSelect/anchorSelect","vs/nls!vs/editor/contrib/bracketMatching/bracketMatching","vs/nls!vs/editor/contrib/caretOperations/caretOperations","vs/nls!vs/editor/contrib/caretOperations/transpose","vs/nls!vs/editor/contrib/clipboard/clipboard","vs/nls!vs/editor/contrib/codeAction/codeActionCommands","vs/nls!vs/editor/contrib/codeAction/lightBulbWidget","vs/nls!vs/editor/contrib/codelens/codelensController","vs/nls!vs/editor/contrib/colorPicker/colorPickerWidget","vs/nls!vs/editor/contrib/comment/comment","vs/nls!vs/editor/contrib/contextmenu/contextmenu","vs/nls!vs/editor/contrib/cursorUndo/cursorUndo","vs/nls!vs/editor/contrib/find/findController","vs/nls!vs/editor/contrib/find/findWidget","vs/nls!vs/editor/contrib/folding/folding","vs/nls!vs/editor/contrib/folding/foldingDecorations","vs/nls!vs/editor/contrib/fontZoom/fontZoom","vs/nls!vs/editor/contrib/format/format","vs/nls!vs/editor/contrib/format/formatActions","vs/nls!vs/editor/contrib/gotoError/gotoError","vs/nls!vs/editor/contrib/gotoError/gotoErrorWidget","vs/nls!vs/editor/contrib/gotoSymbol/goToCommands","vs/nls!vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition","vs/nls!vs/editor/contrib/gotoSymbol/peek/referencesController","vs/nls!vs/editor/contrib/gotoSymbol/peek/referencesTree","vs/nls!vs/editor/contrib/gotoSymbol/peek/referencesWidget","vs/nls!vs/editor/contrib/gotoSymbol/referencesModel","vs/nls!vs/editor/contrib/gotoSymbol/symbolNavigation","vs/nls!vs/editor/contrib/hover/hover","vs/nls!vs/editor/contrib/hover/markdownHoverParticipant","vs/nls!vs/editor/contrib/hover/markerHoverParticipant","vs/nls!vs/editor/contrib/inPlaceReplace/inPlaceReplace","vs/nls!vs/editor/contrib/indentation/indentation","vs/nls!vs/editor/contrib/inlineCompletions/ghostTextController","vs/nls!vs/editor/contrib/inlineCompletions/inlineCompletionsHoverParticipant","vs/nls!vs/editor/contrib/lineSelection/lineSelection","vs/nls!vs/editor/contrib/linesOperations/linesOperations","vs/nls!vs/editor/contrib/linkedEditing/linkedEditing","vs/nls!vs/editor/contrib/links/links","vs/nls!vs/editor/contrib/message/messageController","vs/nls!vs/editor/contrib/multicursor/multicursor","vs/nls!vs/editor/contrib/parameterHints/parameterHints","vs/nls!vs/editor/contrib/parameterHints/parameterHintsWidget","vs/nls!vs/editor/contrib/peekView/peekView","vs/nls!vs/editor/contrib/quickAccess/gotoLineQuickAccess","vs/nls!vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","vs/nls!vs/editor/contrib/rename/rename","vs/nls!vs/editor/contrib/rename/renameInputField","vs/nls!vs/editor/contrib/smartSelect/smartSelect","vs/nls!vs/editor/contrib/snippet/snippetController2","vs/nls!vs/editor/contrib/snippet/snippetVariables","vs/nls!vs/editor/contrib/suggest/suggest","vs/nls!vs/editor/contrib/suggest/suggestController","vs/nls!vs/editor/contrib/suggest/suggestWidget","vs/nls!vs/editor/contrib/suggest/suggestWidgetDetails","vs/nls!vs/editor/contrib/suggest/suggestWidgetRenderer","vs/nls!vs/editor/contrib/suggest/suggestWidgetStatus","vs/nls!vs/editor/contrib/symbolIcons/symbolIcons","vs/nls!vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode","vs/nls!vs/editor/contrib/tokenization/tokenization","vs/nls!vs/editor/contrib/unicodeHighlighter/unicodeHighlighter","vs/nls!vs/editor/contrib/unusualLineTerminators/unusualLineTerminators","vs/nls!vs/editor/contrib/wordHighlighter/wordHighlighter","vs/nls!vs/editor/contrib/wordOperations/wordOperations","vs/nls!vs/platform/actions/browser/menuEntryActionViewItem","vs/nls!vs/platform/configuration/common/configurationRegistry","vs/nls!vs/platform/contextkey/browser/contextKeyService","vs/nls!vs/platform/contextkey/common/contextkeys","vs/nls!vs/platform/dialogs/common/dialogs","vs/nls!vs/platform/files/common/files","vs/nls!vs/platform/keybinding/common/abstractKeybindingService","vs/nls!vs/platform/list/browser/listService","vs/nls!vs/platform/markers/common/markers","vs/nls!vs/platform/quickinput/browser/commandsQuickAccess","vs/nls!vs/platform/quickinput/browser/helpQuickAccess","vs/nls!vs/platform/theme/common/colorRegistry","vs/nls!vs/platform/theme/common/iconRegistry","vs/nls!vs/platform/undoRedo/common/undoRedoService","vs/nls!vs/platform/workspace/common/workspaceTrust","vs/nls!vs/platform/workspaces/common/workspaces","vs/platform/browser/historyWidgetKeybindingHint","vs/platform/clipboard/browser/clipboardService","vs/platform/editor/common/editor","vs/platform/instantiation/common/graph","vs/editor/common/model/bracketPairs/bracketPairsTree/brackets","vs/editor/common/model/bracketPairs/bracketPairsTree/bracketPairsTree","vs/editor/common/model/bracketPairs/bracketPairsImpl","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder","vs/editor/common/model/textModelTokens","vs/editor/common/viewModel/modelLineProjection","vs/editor/contrib/folding/hiddenRangeModel","vs/editor/standalone/browser/colorizer","vs/editor/contrib/documentSymbols/documentSymbols","vs/editor/contrib/links/getLinks","vs/editor/contrib/comment/lineCommentCommand","vs/editor/contrib/parameterHints/parameterHintsModel","vs/editor/contrib/suggest/suggestAlternatives","vs/editor/contrib/suggest/wordContextKey","vs/platform/accessibility/browser/accessibilityService","vs/platform/instantiation/common/instantiationService","vs/platform/keybinding/common/abstractKeybindingService","vs/platform/keybinding/common/baseResolvedKeybinding","vs/platform/contextkey/browser/contextKeyService","vs/platform/keybinding/common/usLayoutResolvedKeybinding","vs/platform/contextview/browser/contextViewService","vs/editor/common/services/webWorker","vs/editor/contrib/gotoError/markerNavigationService","vs/platform/markers/common/markerService","vs/editor/browser/services/openerService","vs/platform/quickinput/browser/pickerQuickAccess","vs/editor/browser/view/domLineBreaksComputer","vs/editor/browser/view/viewOverlays","vs/editor/browser/viewParts/viewCursors/viewCursor","vs/editor/common/services/getIconClasses","vs/editor/common/services/languagesRegistry","vs/editor/common/services/modeServiceImpl","vs/editor/contrib/hover/modesGlyphHover","vs/platform/configuration/common/configurationModels","vs/platform/quickinput/browser/helpQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneHelpQuickAccess","vs/platform/quickinput/browser/quickAccess","vs/platform/extensions/common/extensions","vs/editor/contrib/codelens/codeLensCache","vs/editor/contrib/suggest/suggestMemory","vs/platform/quickinput/browser/commandsQuickAccess","vs/editor/contrib/quickAccess/commandsQuickAccess","vs/editor/browser/viewParts/lines/viewLines","vs/platform/contextview/browser/contextMenuHandler","vs/editor/browser/services/codeEditorServiceImpl","vs/editor/browser/viewParts/editorScrollbar/editorScrollbar","vs/editor/browser/viewParts/minimap/minimap","vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/editor/browser/viewParts/selections/selections","vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/editor/browser/controller/textAreaHandler","vs/editor/browser/viewParts/overviewRuler/decorationsOverviewRuler","vs/editor/browser/viewParts/rulers/rulers","vs/editor/browser/viewParts/viewCursors/viewCursors","vs/editor/common/model/bracketPairs/colorizedBracketPairsDecorationProvider","vs/editor/common/services/markerDecorationsServiceImpl","vs/editor/contrib/colorPicker/colorPickerWidget","vs/editor/contrib/gotoSymbol/peek/referencesTree","vs/editor/contrib/inlineCompletions/ghostTextWidget","vs/editor/contrib/quickAccess/gotoLineQuickAccess","vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","vs/editor/contrib/rename/renameInputField","vs/editor/standalone/common/themes","vs/editor/browser/core/keybindingCancellation","vs/editor/browser/services/markerDecorations","vs/editor/contrib/anchorSelect/anchorSelect","vs/editor/contrib/caretOperations/caretOperations","vs/editor/contrib/clipboard/clipboard","vs/editor/contrib/codeAction/codeActionMenu","vs/editor/contrib/codeAction/codeActionModel","vs/editor/contrib/comment/comment","vs/editor/contrib/contextmenu/contextmenu","vs/editor/contrib/cursorUndo/cursorUndo","vs/editor/contrib/fontZoom/fontZoom","vs/editor/contrib/format/formatActions","vs/editor/contrib/gotoSymbol/symbolNavigation","vs/editor/contrib/hover/getHover","vs/editor/contrib/inlayHints/inlayHintsController","vs/editor/contrib/rename/rename","vs/editor/contrib/smartSelect/smartSelect","vs/editor/contrib/tokenization/tokenization","vs/editor/contrib/unusualLineTerminators/unusualLineTerminators","vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp","vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/editor/standalone/browser/quickAccess/standaloneCommandsQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoLineQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoSymbolQuickAccess","vs/editor/standalone/browser/toggleHighContrast/toggleHighContrast","vs/editor/contrib/suggest/suggestWidgetStatus","vs/platform/actions/common/menuService","vs/platform/browser/contextScopedHistoryWidget","vs/platform/contextview/browser/contextMenuService","vs/platform/opener/browser/link","vs/platform/quickinput/browser/quickInput","vs/editor/standalone/browser/quickInput/standaloneQuickInputServiceImpl","vs/platform/severityIcon/common/severityIcon","vs/editor/browser/widget/diffReview","vs/editor/contrib/parameterHints/parameterHintsWidget","vs/editor/contrib/parameterHints/parameterHints","vs/editor/contrib/suggest/suggestWidgetRenderer","vs/editor/contrib/unicodeHighlighter/bannerController","vs/platform/theme/browser/iconsStyleSheet","vs/editor/standalone/browser/standaloneThemeServiceImpl","vs/editor/browser/viewParts/indentGuides/indentGuides","vs/editor/browser/controller/mouseHandler","vs/editor/browser/controller/pointerHandler","vs/editor/common/controller/cursorColumnSelection","vs/editor/browser/view/viewController","vs/editor/browser/view/viewImpl","vs/editor/common/controller/oneCursor","vs/editor/common/controller/cursorCollection","vs/editor/common/viewModel/viewModelLines","vs/editor/common/viewModel/viewModelImpl","vs/editor/contrib/bracketMatching/bracketMatching","vs/editor/contrib/caretOperations/transpose","vs/editor/contrib/codeAction/lightBulbWidget","vs/editor/contrib/codeAction/codeActionUi","vs/editor/contrib/codeAction/codeActionContributions","vs/editor/contrib/codelens/codelensWidget","vs/editor/contrib/codelens/codelensController","vs/editor/contrib/dnd/dnd","vs/editor/contrib/find/findDecorations","vs/editor/contrib/find/findOptionsWidget","vs/editor/contrib/find/findState","vs/editor/contrib/find/findWidget","vs/editor/contrib/folding/foldingDecorations","vs/editor/contrib/folding/indentRangeProvider","vs/editor/contrib/folding/folding","vs/editor/contrib/hover/colorHoverParticipant","vs/editor/contrib/inPlaceReplace/inPlaceReplace","vs/editor/contrib/indentation/indentation","vs/editor/contrib/lineSelection/lineSelection","vs/editor/contrib/linesOperations/moveLinesCommand","vs/editor/contrib/linesOperations/linesOperations","vs/editor/contrib/linkedEditing/linkedEditing","vs/editor/contrib/links/links","vs/editor/contrib/multicursor/multicursor","vs/editor/contrib/suggest/suggestWidget","vs/editor/contrib/viewportSemanticTokens/viewportSemanticTokens","vs/editor/contrib/wordHighlighter/wordHighlighter","vs/editor/contrib/wordPartOperations/wordPartOperations","vs/editor/contrib/zoneWidget/zoneWidget","vs/editor/contrib/gotoError/gotoErrorWidget","vs/editor/contrib/gotoSymbol/peek/referencesWidget","vs/editor/contrib/hover/markerHoverParticipant","vs/editor/standalone/browser/referenceSearch/standaloneReferenceSearch","vs/platform/undoRedo/common/undoRedoService","vs/editor/standalone/browser/standaloneCodeEditor","vs/editor/standalone/browser/standaloneEditor","vs/editor/standalone/browser/standaloneLanguages","vs/editor/editor.api","vs/platform/workspaces/common/workspaces","vs/editor/contrib/snippet/snippetVariables","vs/editor/contrib/suggest/suggestModel","vs/editor/contrib/inlineCompletions/suggestWidgetInlineCompletionProvider","vs/editor/contrib/inlineCompletions/suggestWidgetPreviewModel","vs/editor/contrib/inlineCompletions/ghostTextModel","vs/editor/contrib/inlineCompletions/inlineCompletionsHoverParticipant","vs/editor/contrib/hover/modesContentHover","vs/editor/contrib/colorPicker/colorContributions","vs/editor/editor.all","vs/base/common/marked/marked","vs/base/common/performance","vs/editor/editor.main"],te=function(Q){for(var e=[],L=0,N=Q.length;L<N;L++)e[L]=ee[Q[L]];return e},mi;(function(Q){var e=function(){function N(){this._pendingLoads=0}return N.prototype.attachListeners=function(M,E,g,S){var b=function(){E.removeEventListener("load",p),E.removeEventListener("error",v)},p=function(i){b(),g()},v=function(i){b(),S(i)};E.addEventListener("load",p),E.addEventListener("error",v)},N.prototype._onLoad=function(M,E){this._pendingLoads--,E()},N.prototype._onLoadError=function(M,E,g){this._pendingLoads--,E(g)},N.prototype._insertLinkNode=function(M){this._pendingLoads++;var E=document.head||document.getElementsByTagName("head")[0];E.appendChild(M)},N.prototype.createLinkTag=function(M,E,g,S){var b=this,p=document.createElement("link");p.setAttribute("rel","stylesheet"),p.setAttribute("type","text/css"),p.setAttribute("data-name",M);var v=function(){return b._onLoad(M,g)},i=function(t){return b._onLoadError(M,S,t)};return this.attachListeners(M,p,v,i),p.setAttribute("href",E),p},N.prototype._linkTagExists=function(M,E){var g,S,b,p,v=document.getElementsByTagName("link");for(g=0,S=v.length;g<S;g++)if(b=v[g].getAttribute("data-name"),p=v[g].getAttribute("href"),b===M||p===E)return!0;return!1},N.prototype.load=function(M,E,g,S){if(this._linkTagExists(M,E)){g();return}var b=this.createLinkTag(M,E,g,S);this._insertLinkNode(b)},N}(),L=function(){function N(){this._cssLoader=new e}return N.prototype.load=function(M,E,g,S){S=S||{};var b=S["vs/css"]||{};if(b.disabled){g({});return}var p=E.toUrl(M+".css");this._cssLoader.load(M,p,function(v){g({})},function(v){typeof g.error=="function"&&g.error("Could not find "+p+" or it was empty")})},N}();Q.CSSPlugin=L,define("vs/css",new L)})(mi||(mi={}));var sn=this&&this.__spreadArrays||function(){for(var Q=0,e=0,L=arguments.length;e<L;e++)Q+=arguments[e].length;for(var N=Array(Q),M=0,e=0;e<L;e++)for(var E=arguments[e],g=0,S=E.length;g<S;g++,M++)N[M]=E[g];return N},pi;(function(Q){var e=function(){function S(){this._detected=!1,this._isPseudo=!1}return Object.defineProperty(S.prototype,"isPseudo",{get:function(){return this._detect(),this._isPseudo},enumerable:!1,configurable:!0}),S.prototype._detect=function(){this._detected||(this._detected=!0,this._isPseudo=typeof document!="undefined"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0)},S}();function L(S,b,p){var v;return b.length===0?v=S:v=S.replace(/\{(\d+)\}/g,function(i,t){var a=t[0],l=b[a],h=i;return typeof l=="string"?h=l:(typeof l=="number"||typeof l=="boolean"||l===void 0||l===null)&&(h=String(l)),h}),p.isPseudo&&(v="\uFF3B"+v.replace(/[aouei]/g,"$&$&")+"\uFF3D"),v}function N(S,b){var p=S[b];return p||(p=S["*"],p)?p:null}function M(S,b,p){for(var v=[],i=3;i<arguments.length;i++)v[i-3]=arguments[i];return L(p,v,S)}function E(S,b){return function(p,v){var i=Array.prototype.slice.call(arguments,2);return L(S[p],i,b)}}var g=function(){function S(b){var p=this;this._env=b,this.localize=function(v,i){for(var t=[],a=2;a<arguments.length;a++)t[a-2]=arguments[a];return M.apply(void 0,sn([p._env,v,i],t))}}return S.prototype.setPseudoTranslation=function(b){this._env._isPseudo=b},S.prototype.create=function(b,p){return{localize:E(p[b],this._env)}},S.prototype.load=function(b,p,v,i){var t=this;if(i=i||{},!b||b.length===0)v({localize:this.localize});else{var a=i["vs/nls"]||{},l=a.availableLanguages?N(a.availableLanguages,b):null,h=".nls";l!==null&&l!==S.DEFAULT_TAG&&(h=h+"."+l);var d=function(u){Array.isArray(u)?u.localize=E(u,t._env):u.localize=E(u[b],t._env),v(u)};typeof a.loadBundle=="function"?a.loadBundle(b,l,function(u,n){u?p([b+".nls"],d):d(n)}):p([b+h],d)}},S.DEFAULT_TAG="i-default",S}();Q.NLSPlugin=g,define("vs/nls",new g(new e))})(pi||(pi={}));/*! @license DOMPurify 2.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.1/LICENSE */function rn(Q){if(Array.isArray(Q)){for(var e=0,L=Array(Q.length);e<Q.length;e++)L[e]=Q[e];return L}else return Array.from(Q)}var on=Object.hasOwnProperty,Ci=Object.setPrototypeOf,an=Object.isFrozen,ln=Object.getPrototypeOf,dn=Object.getOwnPropertyDescriptor,ft=Object.freeze,Lt=Object.seal,cn=Object.create,vi=typeof Reflect!="undefined"&&Reflect,Vt=vi.apply,Qt=vi.construct;Vt||(Vt=function(e,L,N){return e.apply(L,N)}),ft||(ft=function(e){return e}),Lt||(Lt=function(e){return e}),Qt||(Qt=function(e,L){return new(Function.prototype.bind.apply(e,[null].concat(rn(L))))});var un=_t(Array.prototype.forEach),bi=_t(Array.prototype.pop),Pt=_t(Array.prototype.push),kt=_t(String.prototype.toLowerCase),_i=_t(String.prototype.match),It=_t(String.prototype.replace),hn=_t(String.prototype.indexOf),gn=_t(String.prototype.trim),Et=_t(RegExp.prototype.test),Si=fn(TypeError);function _t(Q){return function(e){for(var L=arguments.length,N=Array(L>1?L-1:0),M=1;M<L;M++)N[M-1]=arguments[M];return Vt(Q,e,N)}}function fn(Q){return function(){for(var e=arguments.length,L=Array(e),N=0;N<e;N++)L[N]=arguments[N];return Qt(Q,L)}}function nt(Q,e){Ci&&Ci(Q,null);for(var L=e.length;L--;){var N=e[L];if(typeof N=="string"){var M=kt(N);M!==N&&(an(e)||(e[L]=M),N=M)}Q[N]=!0}return Q}function Nt(Q){var e=cn(null),L=void 0;for(L in Q)Vt(on,Q,[L])&&(e[L]=Q[L]);return e}function xt(Q,e){for(;Q!==null;){var L=dn(Q,e);if(L){if(L.get)return _t(L.get);if(typeof L.value=="function")return _t(L.value)}Q=ln(Q)}function N(M){return console.warn("fallback value for",M),null}return N}var wi=ft(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Jt=ft(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ei=ft(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),mn=ft(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ti=ft(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),pn=ft(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),yi=ft(["#text"]),Li=ft(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),ii=ft(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ei=ft(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),zt=ft(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Cn=Lt(/\{\{[\s\S]*|[\s\S]*\}\}/gm),vn=Lt(/<%[\s\S]*|[\s\S]*%>/gm),bn=Lt(/^data-[\-\w.\u00B7-\uFFFF]/),_n=Lt(/^aria-[\-\w]+$/),Sn=Lt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),wn=Lt(/^(?:\w+script|data):/i),yn=Lt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ot=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q};function wt(Q){if(Array.isArray(Q)){for(var e=0,L=Array(Q.length);e<Q.length;e++)L[e]=Q[e];return L}else return Array.from(Q)}var Ln=function(){return typeof window=="undefined"?null:window},En=function(e,L){if((typeof e=="undefined"?"undefined":Ot(e))!=="object"||typeof e.createPolicy!="function")return null;var N=null,M="data-tt-policy-suffix";L.currentScript&&L.currentScript.hasAttribute(M)&&(N=L.currentScript.getAttribute(M));var E="dompurify"+(N?"#"+N:"");try{return e.createPolicy(E,{createHTML:function(S){return S}})}catch(g){return console.warn("TrustedTypes policy "+E+" could not be created."),null}};function Di(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ln(),e=function(ye){return Di(ye)};if(e.version="2.3.1",e.removed=[],!Q||!Q.document||Q.document.nodeType!==9)return e.isSupported=!1,e;var L=Q.document,N=Q.document,M=Q.DocumentFragment,E=Q.HTMLTemplateElement,g=Q.Node,S=Q.Element,b=Q.NodeFilter,p=Q.NamedNodeMap,v=p===void 0?Q.NamedNodeMap||Q.MozNamedAttrMap:p,i=Q.Text,t=Q.Comment,a=Q.DOMParser,l=Q.trustedTypes,h=S.prototype,d=xt(h,"cloneNode"),u=xt(h,"nextSibling"),n=xt(h,"childNodes"),r=xt(h,"parentNode");if(typeof E=="function"){var s=N.createElement("template");s.content&&s.content.ownerDocument&&(N=s.content.ownerDocument)}var o=En(l,L),m=o&&re?o.createHTML(""):"",_=N,f=_.implementation,c=_.createNodeIterator,C=_.createDocumentFragment,y=_.getElementsByTagName,w=L.importNode,D={};try{D=Nt(N).documentMode?N.documentMode:{}}catch(Ee){}var I={};e.isSupported=typeof r=="function"&&f&&typeof f.createHTMLDocument!="undefined"&&D!==9;var T=Cn,F=vn,P=bn,R=_n,A=wn,O=yn,k=Sn,V=null,B=nt({},[].concat(wt(wi),wt(Jt),wt(ei),wt(ti),wt(yi))),x=null,K=nt({},[].concat(wt(Li),wt(ii),wt(Ei),wt(zt))),X=null,Z=null,q=!0,H=!0,G=!1,z=!1,W=!1,j=!1,U=!1,Y=!1,ne=!1,J=!0,re=!1,ge=!0,pe=!0,oe=!1,$={},ie=null,le=nt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),de=null,fe=nt({},["audio","video","img","source","image","track"]),he=null,se=nt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ce="http://www.w3.org/1998/Math/MathML",Se="http://www.w3.org/2000/svg",Le="http://www.w3.org/1999/xhtml",ue=Le,we=!1,ae=null,me=N.createElement("form"),Ie=function(ye){ae&&ae===ye||((!ye||(typeof ye=="undefined"?"undefined":Ot(ye))!=="object")&&(ye={}),ye=Nt(ye),V="ALLOWED_TAGS"in ye?nt({},ye.ALLOWED_TAGS):B,x="ALLOWED_ATTR"in ye?nt({},ye.ALLOWED_ATTR):K,he="ADD_URI_SAFE_ATTR"in ye?nt(Nt(se),ye.ADD_URI_SAFE_ATTR):se,de="ADD_DATA_URI_TAGS"in ye?nt(Nt(fe),ye.ADD_DATA_URI_TAGS):fe,ie="FORBID_CONTENTS"in ye?nt({},ye.FORBID_CONTENTS):le,X="FORBID_TAGS"in ye?nt({},ye.FORBID_TAGS):{},Z="FORBID_ATTR"in ye?nt({},ye.FORBID_ATTR):{},$="USE_PROFILES"in ye?ye.USE_PROFILES:!1,q=ye.ALLOW_ARIA_ATTR!==!1,H=ye.ALLOW_DATA_ATTR!==!1,G=ye.ALLOW_UNKNOWN_PROTOCOLS||!1,z=ye.SAFE_FOR_TEMPLATES||!1,W=ye.WHOLE_DOCUMENT||!1,Y=ye.RETURN_DOM||!1,ne=ye.RETURN_DOM_FRAGMENT||!1,J=ye.RETURN_DOM_IMPORT!==!1,re=ye.RETURN_TRUSTED_TYPE||!1,U=ye.FORCE_BODY||!1,ge=ye.SANITIZE_DOM!==!1,pe=ye.KEEP_CONTENT!==!1,oe=ye.IN_PLACE||!1,k=ye.ALLOWED_URI_REGEXP||k,ue=ye.NAMESPACE||Le,z&&(H=!1),ne&&(Y=!0),$&&(V=nt({},[].concat(wt(yi))),x=[],$.html===!0&&(nt(V,wi),nt(x,Li)),$.svg===!0&&(nt(V,Jt),nt(x,ii),nt(x,zt)),$.svgFilters===!0&&(nt(V,ei),nt(x,ii),nt(x,zt)),$.mathMl===!0&&(nt(V,ti),nt(x,Ei),nt(x,zt))),ye.ADD_TAGS&&(V===B&&(V=Nt(V)),nt(V,ye.ADD_TAGS)),ye.ADD_ATTR&&(x===K&&(x=Nt(x)),nt(x,ye.ADD_ATTR)),ye.ADD_URI_SAFE_ATTR&&nt(he,ye.ADD_URI_SAFE_ATTR),ye.FORBID_CONTENTS&&(ie===le&&(ie=Nt(ie)),nt(ie,ye.FORBID_CONTENTS)),pe&&(V["#text"]=!0),W&&nt(V,["html","head","body"]),V.table&&(nt(V,["tbody"]),delete X.tbody),ft&&ft(ye),ae=ye)},Fe=nt({},["mi","mo","mn","ms","mtext"]),ze=nt({},["foreignobject","desc","title","annotation-xml"]),Ke=nt({},Jt);nt(Ke,ei),nt(Ke,mn);var be=nt({},ti);nt(be,pn);var Ne=function(ye){var We=r(ye);(!We||!We.tagName)&&(We={namespaceURI:Le,tagName:"template"});var Oe=kt(ye.tagName),Ue=kt(We.tagName);if(ye.namespaceURI===Se)return We.namespaceURI===Le?Oe==="svg":We.namespaceURI===ce?Oe==="svg"&&(Ue==="annotation-xml"||Fe[Ue]):Boolean(Ke[Oe]);if(ye.namespaceURI===ce)return We.namespaceURI===Le?Oe==="math":We.namespaceURI===Se?Oe==="math"&&ze[Ue]:Boolean(be[Oe]);if(ye.namespaceURI===Le){if(We.namespaceURI===Se&&!ze[Ue]||We.namespaceURI===ce&&!Fe[Ue])return!1;var Ye=nt({},["title","style","font","a","script"]);return!be[Oe]&&(Ye[Oe]||!Ke[Oe])}return!1},Be=function(ye){Pt(e.removed,{element:ye});try{ye.parentNode.removeChild(ye)}catch(We){try{ye.outerHTML=m}catch(Oe){ye.remove()}}},$e=function(ye,We){try{Pt(e.removed,{attribute:We.getAttributeNode(ye),from:We})}catch(Oe){Pt(e.removed,{attribute:null,from:We})}if(We.removeAttribute(ye),ye==="is"&&!x[ye])if(Y||ne)try{Be(We)}catch(Oe){}else try{We.setAttribute(ye,"")}catch(Oe){}},je=function(ye){var We=void 0,Oe=void 0;if(U)ye="<remove></remove>"+ye;else{var Ue=_i(ye,/^[\r\n\t ]+/);Oe=Ue&&Ue[0]}var Ye=o?o.createHTML(ye):ye;if(ue===Le)try{We=new a().parseFromString(Ye,"text/html")}catch(Xe){}if(!We||!We.documentElement){We=f.createDocument(ue,"template",null);try{We.documentElement.innerHTML=we?"":Ye}catch(Xe){}}var Ge=We.body||We.documentElement;return ye&&Oe&&Ge.insertBefore(N.createTextNode(Oe),Ge.childNodes[0]||null),ue===Le?y.call(We,W?"html":"body")[0]:W?We.documentElement:Ge},He=function(ye){return c.call(ye.ownerDocument||ye,ye,b.SHOW_ELEMENT|b.SHOW_COMMENT|b.SHOW_TEXT,null,!1)},qe=function(ye){return ye instanceof i||ye instanceof t?!1:typeof ye.nodeName!="string"||typeof ye.textContent!="string"||typeof ye.removeChild!="function"||!(ye.attributes instanceof v)||typeof ye.removeAttribute!="function"||typeof ye.setAttribute!="function"||typeof ye.namespaceURI!="string"||typeof ye.insertBefore!="function"},Pe=function(ye){return(typeof g=="undefined"?"undefined":Ot(g))==="object"?ye instanceof g:ye&&(typeof ye=="undefined"?"undefined":Ot(ye))==="object"&&typeof ye.nodeType=="number"&&typeof ye.nodeName=="string"},Ae=function(ye,We,Oe){!I[ye]||un(I[ye],function(Ue){Ue.call(e,We,Oe,ae)})},Re=function(ye){var We=void 0;if(Ae("beforeSanitizeElements",ye,null),qe(ye)||_i(ye.nodeName,/[\u0080-\uFFFF]/))return Be(ye),!0;var Oe=kt(ye.nodeName);if(Ae("uponSanitizeElement",ye,{tagName:Oe,allowedTags:V}),!Pe(ye.firstElementChild)&&(!Pe(ye.content)||!Pe(ye.content.firstElementChild))&&Et(/<[/\w]/g,ye.innerHTML)&&Et(/<[/\w]/g,ye.textContent)||Oe==="select"&&Et(/<template/i,ye.innerHTML))return Be(ye),!0;if(!V[Oe]||X[Oe]){if(pe&&!ie[Oe]){var Ue=r(ye)||ye.parentNode,Ye=n(ye)||ye.childNodes;if(Ye&&Ue)for(var Ge=Ye.length,Xe=Ge-1;Xe>=0;--Xe)Ue.insertBefore(d(Ye[Xe],!0),u(ye))}return Be(ye),!0}return ye instanceof S&&!Ne(ye)||(Oe==="noscript"||Oe==="noembed")&&Et(/<\/no(script|embed)/i,ye.innerHTML)?(Be(ye),!0):(z&&ye.nodeType===3&&(We=ye.textContent,We=It(We,T," "),We=It(We,F," "),ye.textContent!==We&&(Pt(e.removed,{element:ye.cloneNode()}),ye.textContent=We)),Ae("afterSanitizeElements",ye,null),!1)},ve=function(ye,We,Oe){if(ge&&(We==="id"||We==="name")&&(Oe in N||Oe in me))return!1;if(!(H&&!Z[We]&&Et(P,We))){if(!(q&&Et(R,We))){if(!x[We]||Z[We])return!1;if(!he[We]){if(!Et(k,It(Oe,O,""))){if(!((We==="src"||We==="xlink:href"||We==="href")&&ye!=="script"&&hn(Oe,"data:")===0&&de[ye])){if(!(G&&!Et(A,It(Oe,O,"")))){if(Oe)return!1}}}}}}return!0},_e=function(ye){var We=void 0,Oe=void 0,Ue=void 0,Ye=void 0;Ae("beforeSanitizeAttributes",ye,null);var Ge=ye.attributes;if(!!Ge){var Xe={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:x};for(Ye=Ge.length;Ye--;){We=Ge[Ye];var et=We,Ze=et.name,it=et.namespaceURI;if(Oe=gn(We.value),Ue=kt(Ze),Xe.attrName=Ue,Xe.attrValue=Oe,Xe.keepAttr=!0,Xe.forceKeepAttr=void 0,Ae("uponSanitizeAttribute",ye,Xe),Oe=Xe.attrValue,!Xe.forceKeepAttr&&($e(Ze,ye),!!Xe.keepAttr)){if(Et(/\/>/i,Oe)){$e(Ze,ye);continue}z&&(Oe=It(Oe,T," "),Oe=It(Oe,F," "));var tt=ye.nodeName.toLowerCase();if(!!ve(tt,Ue,Oe))try{it?ye.setAttributeNS(it,Ze,Oe):ye.setAttribute(Ze,Oe),bi(e.removed)}catch(ot){}}}Ae("afterSanitizeAttributes",ye,null)}},Te=function Ee(ye){var We=void 0,Oe=He(ye);for(Ae("beforeSanitizeShadowDOM",ye,null);We=Oe.nextNode();)Ae("uponSanitizeShadowNode",We,null),!Re(We)&&(We.content instanceof M&&Ee(We.content),_e(We));Ae("afterSanitizeShadowDOM",ye,null)};return e.sanitize=function(Ee,ye){var We=void 0,Oe=void 0,Ue=void 0,Ye=void 0,Ge=void 0;if(we=!Ee,we&&(Ee="<!-->"),typeof Ee!="string"&&!Pe(Ee)){if(typeof Ee.toString!="function")throw Si("toString is not a function");if(Ee=Ee.toString(),typeof Ee!="string")throw Si("dirty is not a string, aborting")}if(!e.isSupported){if(Ot(Q.toStaticHTML)==="object"||typeof Q.toStaticHTML=="function"){if(typeof Ee=="string")return Q.toStaticHTML(Ee);if(Pe(Ee))return Q.toStaticHTML(Ee.outerHTML)}return Ee}if(j||Ie(ye),e.removed=[],typeof Ee=="string"&&(oe=!1),!oe)if(Ee instanceof g)We=je("<!---->"),Oe=We.ownerDocument.importNode(Ee,!0),Oe.nodeType===1&&Oe.nodeName==="BODY"||Oe.nodeName==="HTML"?We=Oe:We.appendChild(Oe);else{if(!Y&&!z&&!W&&Ee.indexOf("<")===-1)return o&&re?o.createHTML(Ee):Ee;if(We=je(Ee),!We)return Y?null:m}We&&U&&Be(We.firstChild);for(var Xe=He(oe?Ee:We);Ue=Xe.nextNode();)Ue.nodeType===3&&Ue===Ye||Re(Ue)||(Ue.content instanceof M&&Te(Ue.content),_e(Ue),Ye=Ue);if(Ye=null,oe)return Ee;if(Y){if(ne)for(Ge=C.call(We.ownerDocument);We.firstChild;)Ge.appendChild(We.firstChild);else Ge=We;return J&&(Ge=w.call(L,Ge,!0)),Ge}var et=W?We.outerHTML:We.innerHTML;return z&&(et=It(et,T," "),et=It(et,F," ")),o&&re?o.createHTML(et):et},e.setConfig=function(Ee){Ie(Ee),j=!0},e.clearConfig=function(){ae=null,j=!1},e.isValidAttribute=function(Ee,ye,We){ae||Ie({});var Oe=kt(Ee),Ue=kt(ye);return ve(Oe,Ue,We)},e.addHook=function(Ee,ye){typeof ye=="function"&&(I[Ee]=I[Ee]||[],Pt(I[Ee],ye))},e.removeHook=function(Ee){I[Ee]&&bi(I[Ee])},e.removeHooks=function(Ee){I[Ee]&&(I[Ee]=[])},e.removeAllHooks=function(){I={}},e}var Dn=Di();define("vs/base/browser/dompurify/dompurify",function(){return Dn}),define(ee[32],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFastDomNode=e.FastDomNode=void 0;class L{constructor(E){this.domNode=E,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._fontFeatureSettings="",this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(E){this._maxWidth!==E&&(this._maxWidth=E,this.domNode.style.maxWidth=this._maxWidth+"px")}setWidth(E){this._width!==E&&(this._width=E,this.domNode.style.width=this._width+"px")}setHeight(E){this._height!==E&&(this._height=E,this.domNode.style.height=this._height+"px")}setTop(E){this._top!==E&&(this._top=E,this.domNode.style.top=this._top+"px")}unsetTop(){this._top!==-1&&(this._top=-1,this.domNode.style.top="")}setLeft(E){this._left!==E&&(this._left=E,this.domNode.style.left=this._left+"px")}setBottom(E){this._bottom!==E&&(this._bottom=E,this.domNode.style.bottom=this._bottom+"px")}setRight(E){this._right!==E&&(this._right=E,this.domNode.style.right=this._right+"px")}setFontFamily(E){this._fontFamily!==E&&(this._fontFamily=E,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(E){this._fontWeight!==E&&(this._fontWeight=E,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(E){this._fontSize!==E&&(this._fontSize=E,this.domNode.style.fontSize=this._fontSize+"px")}setFontFeatureSettings(E){this._fontFeatureSettings!==E&&(this._fontFeatureSettings=E,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setLineHeight(E){this._lineHeight!==E&&(this._lineHeight=E,this.domNode.style.lineHeight=this._lineHeight+"px")}setLetterSpacing(E){this._letterSpacing!==E&&(this._letterSpacing=E,this.domNode.style.letterSpacing=this._letterSpacing+"px")}setClassName(E){this._className!==E&&(this._className=E,this.domNode.className=this._className)}toggleClassName(E,g){this.domNode.classList.toggle(E,g),this._className=this.domNode.className}setDisplay(E){this._display!==E&&(this._display=E,this.domNode.style.display=this._display)}setPosition(E){this._position!==E&&(this._position=E,this.domNode.style.position=this._position)}setVisibility(E){this._visibility!==E&&(this._visibility=E,this.domNode.style.visibility=this._visibility)}setBackgroundColor(E){this._backgroundColor!==E&&(this._backgroundColor=E,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(E){this._layerHint!==E&&(this._layerHint=E,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(E){this._boxShadow!==E&&(this._boxShadow=E,this.domNode.style.boxShadow=E)}setContain(E){this._contain!==E&&(this._contain=E,this.domNode.style.contain=this._contain)}setAttribute(E,g){this.domNode.setAttribute(E,g)}removeAttribute(E){this.domNode.removeAttribute(E)}appendChild(E){this.domNode.appendChild(E.domNode)}removeChild(E){this.domNode.removeChild(E.domNode)}}e.FastDomNode=L;function N(M){return new L(M)}e.createFastDomNode=N}),define(ee[207],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IframeUtils=void 0;let L=!1,N=null;function M(g){if(!g.parent||g.parent===g)return null;try{let S=g.location,b=g.parent.location;if(S.origin!=="null"&&b.origin!=="null"&&S.origin!==b.origin)return L=!0,null}catch(S){return L=!0,null}return g.parent}class E{static getSameOriginWindowChain(){if(!N){N=[];let S=window,b;do b=M(S),b?N.push({window:S,iframeElement:S.frameElement||null}):N.push({window:S,iframeElement:null}),S=b;while(S)}return N.slice(0)}static hasDifferentOriginAncestor(){return N||this.getSameOriginWindowChain(),L}static getPositionOfChildWindowRelativeToAncestorWindow(S,b){if(!b||S===b)return{top:0,left:0};let p=0,v=0,i=this.getSameOriginWindowChain();for(const t of i){if(p+=t.window.scrollY,v+=t.window.scrollX,t.window===b||!t.iframeElement)break;let a=t.iframeElement.getBoundingClientRect();p+=a.top,v+=a.left}return{top:p,left:v}}}e.IframeUtils=E}),define(ee[306],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CachedListVirtualDelegate=e.ListError=e.ListDragOverReactions=void 0,e.ListDragOverReactions={reject(){return{accept:!1}},accept(){return{accept:!0}}};class L extends Error{constructor(E,g){super(`ListError [${E}] ${g}`)}}e.ListError=L;class N{constructor(){this.cache=new WeakMap}getHeight(E){var g;return(g=this.cache.get(E))!==null&&g!==void 0?g:this.estimateHeight(E)}setDynamicHeight(E,g){g>0&&this.cache.set(E,g)}}e.CachedListVirtualDelegate=N}),define(ee[307],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CombinedSpliceable=void 0;class L{constructor(M){this.spliceables=M}splice(M,E,g){this.spliceables.forEach(S=>S.splice(M,E,g))}}e.CombinedSpliceable=L}),define(ee[208],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarState=void 0;const L=20;class N{constructor(E,g,S,b,p,v){this._scrollbarSize=Math.round(g),this._oppositeScrollbarSize=Math.round(S),this._arrowSize=Math.round(E),this._visibleSize=b,this._scrollSize=p,this._scrollPosition=v,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new N(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(E){const g=Math.round(E);return this._visibleSize!==g?(this._visibleSize=g,this._refreshComputedValues(),!0):!1}setScrollSize(E){const g=Math.round(E);return this._scrollSize!==g?(this._scrollSize=g,this._refreshComputedValues(),!0):!1}setScrollPosition(E){const g=Math.round(E);return this._scrollPosition!==g?(this._scrollPosition=g,this._refreshComputedValues(),!0):!1}setScrollbarSize(E){this._scrollbarSize=Math.round(E)}setOppositeScrollbarSize(E){this._oppositeScrollbarSize=Math.round(E)}static _computeValues(E,g,S,b,p){const v=Math.max(0,S-E),i=Math.max(0,v-2*g),t=b>0&&b>S;if(!t)return{computedAvailableSize:Math.round(v),computedIsNeeded:t,computedSliderSize:Math.round(i),computedSliderRatio:0,computedSliderPosition:0};const a=Math.round(Math.max(L,Math.floor(S*i/b))),l=(i-a)/(b-S),h=p*l;return{computedAvailableSize:Math.round(v),computedIsNeeded:t,computedSliderSize:Math.round(a),computedSliderRatio:l,computedSliderPosition:Math.round(h)}}_refreshComputedValues(){const E=N._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=E.computedAvailableSize,this._computedIsNeeded=E.computedIsNeeded,this._computedSliderSize=E.computedSliderSize,this._computedSliderRatio=E.computedSliderRatio,this._computedSliderPosition=E.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(E){if(!this._computedIsNeeded)return 0;const g=E-this._arrowSize-this._computedSliderSize/2;return Math.round(g/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(E){if(!this._computedIsNeeded)return 0;const g=E-this._arrowSize;let S=this._scrollPosition;return g<this._computedSliderPosition?S-=this._visibleSize:S+=this._visibleSize,S}getDesiredScrollPositionFromDelta(E){if(!this._computedIsNeeded)return 0;const g=this._computedSliderPosition+E;return Math.round(g/this._computedSliderRatio)}}e.ScrollbarState=N}),define(ee[95],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WeakMapper=e.TreeError=e.TreeDragOverReactions=e.TreeMouseEventTarget=void 0;var L;(function(E){E[E.Unknown=0]="Unknown",E[E.Twistie=1]="Twistie",E[E.Element=2]="Element"})(L=e.TreeMouseEventTarget||(e.TreeMouseEventTarget={})),e.TreeDragOverReactions={acceptBubbleUp(){return{accept:!0,bubble:1}},acceptBubbleDown(E=!1){return{accept:!0,bubble:0,autoExpand:E}},acceptCopyBubbleUp(){return{accept:!0,bubble:1,effect:0}},acceptCopyBubbleDown(E=!1){return{accept:!0,bubble:0,effect:0,autoExpand:E}}};class N extends Error{constructor(g,S){super(`TreeError [${g}] ${S}`)}}e.TreeError=N;class M{constructor(g){this.fn=g,this._map=new WeakMap}map(g){let S=this._map.get(g);return S||(S=this.fn(g),this._map.set(g,S)),S}}e.WeakMapper=M}),define(ee[209],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ok=void 0;function L(N,M){if(!N)throw new Error(M?`Assertion failed (${M})`:"Assertion Failed")}e.ok=L}),define(ee[210],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SetMap=e.diffMaps=e.diffSets=e.fromMap=e.groupBy=e.forEach=e.values=void 0;const L=Object.prototype.hasOwnProperty;function N(v){const i=[];for(let t in v)L.call(v,t)&&i.push(v[t]);return i}e.values=N;function M(v,i){for(let t in v)if(L.call(v,t)&&i({key:t,value:v[t]},function(){delete v[t]})===!1)return}e.forEach=M;function E(v,i){const t=Object.create(null);for(const a of v){const l=i(a);let h=t[l];h||(h=t[l]=[]),h.push(a)}return t}e.groupBy=E;function g(v){const i=Object.create(null);return v&&v.forEach((t,a)=>{i[a]=t}),i}e.fromMap=g;function S(v,i){const t=[],a=[];for(let l of v)i.has(l)||t.push(l);for(let l of i)v.has(l)||a.push(l);return{removed:t,added:a}}e.diffSets=S;function b(v,i){const t=[],a=[];for(let[l,h]of v)i.has(l)||t.push(h);for(let[l,h]of i)v.has(l)||a.push(h);return{removed:t,added:a}}e.diffMaps=b;class p{constructor(){this.map=new Map}add(i,t){let a=this.map.get(i);a||(a=new Set,this.map.set(i,a)),a.add(t)}delete(i,t){const a=this.map.get(i);!a||(a.delete(t),a.size===0&&this.map.delete(i))}forEach(i,t){const a=this.map.get(i);!a||a.forEach(t)}}e.SetMap=p}),define(ee[28],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Color=e.HSVA=e.HSLA=e.RGBA=void 0;function L(S,b){const p=Math.pow(10,b);return Math.round(S*p)/p}class N{constructor(b,p,v,i=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,b))|0,this.g=Math.min(255,Math.max(0,p))|0,this.b=Math.min(255,Math.max(0,v))|0,this.a=L(Math.max(Math.min(1,i),0),3)}static equals(b,p){return b.r===p.r&&b.g===p.g&&b.b===p.b&&b.a===p.a}}e.RGBA=N;class M{constructor(b,p,v,i){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,b),0)|0,this.s=L(Math.max(Math.min(1,p),0),3),this.l=L(Math.max(Math.min(1,v),0),3),this.a=L(Math.max(Math.min(1,i),0),3)}static equals(b,p){return b.h===p.h&&b.s===p.s&&b.l===p.l&&b.a===p.a}static fromRGBA(b){const p=b.r/255,v=b.g/255,i=b.b/255,t=b.a,a=Math.max(p,v,i),l=Math.min(p,v,i);let h=0,d=0;const u=(l+a)/2,n=a-l;if(n>0){switch(d=Math.min(u<=.5?n/(2*u):n/(2-2*u),1),a){case p:h=(v-i)/n+(v<i?6:0);break;case v:h=(i-p)/n+2;break;case i:h=(p-v)/n+4;break}h*=60,h=Math.round(h)}return new M(h,d,u,t)}static _hue2rgb(b,p,v){return v<0&&(v+=1),v>1&&(v-=1),v<1/6?b+(p-b)*6*v:v<1/2?p:v<2/3?b+(p-b)*(2/3-v)*6:b}static toRGBA(b){const p=b.h/360,{s:v,l:i,a:t}=b;let a,l,h;if(v===0)a=l=h=i;else{const d=i<.5?i*(1+v):i+v-i*v,u=2*i-d;a=M._hue2rgb(u,d,p+1/3),l=M._hue2rgb(u,d,p),h=M._hue2rgb(u,d,p-1/3)}return new N(Math.round(a*255),Math.round(l*255),Math.round(h*255),t)}}e.HSLA=M;class E{constructor(b,p,v,i){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,b),0)|0,this.s=L(Math.max(Math.min(1,p),0),3),this.v=L(Math.max(Math.min(1,v),0),3),this.a=L(Math.max(Math.min(1,i),0),3)}static equals(b,p){return b.h===p.h&&b.s===p.s&&b.v===p.v&&b.a===p.a}static fromRGBA(b){const p=b.r/255,v=b.g/255,i=b.b/255,t=Math.max(p,v,i),a=Math.min(p,v,i),l=t-a,h=t===0?0:l/t;let d;return l===0?d=0:t===p?d=((v-i)/l%6+6)%6:t===v?d=(i-p)/l+2:d=(p-v)/l+4,new E(Math.round(d*60),h,t,b.a)}static toRGBA(b){const{h:p,s:v,v:i,a:t}=b,a=i*v,l=a*(1-Math.abs(p/60%2-1)),h=i-a;let[d,u,n]=[0,0,0];return p<60?(d=a,u=l):p<120?(d=l,u=a):p<180?(u=a,n=l):p<240?(u=l,n=a):p<300?(d=l,n=a):p<=360&&(d=a,n=l),d=Math.round((d+h)*255),u=Math.round((u+h)*255),n=Math.round((n+h)*255),new N(d,u,n,t)}}e.HSVA=E;class g{constructor(b){if(b)if(b instanceof N)this.rgba=b;else if(b instanceof M)this._hsla=b,this.rgba=M.toRGBA(b);else if(b instanceof E)this._hsva=b,this.rgba=E.toRGBA(b);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}static fromHex(b){return g.Format.CSS.parseHex(b)||g.red}get hsla(){return this._hsla?this._hsla:M.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:E.fromRGBA(this.rgba)}equals(b){return!!b&&N.equals(this.rgba,b.rgba)&&M.equals(this.hsla,b.hsla)&&E.equals(this.hsva,b.hsva)}getRelativeLuminance(){const b=g._relativeLuminanceForComponent(this.rgba.r),p=g._relativeLuminanceForComponent(this.rgba.g),v=g._relativeLuminanceForComponent(this.rgba.b),i=.2126*b+.7152*p+.0722*v;return L(i,4)}static _relativeLuminanceForComponent(b){const p=b/255;return p<=.03928?p/12.92:Math.pow((p+.055)/1.055,2.4)}getContrastRatio(b){const p=this.getRelativeLuminance(),v=b.getRelativeLuminance();return p>v?(p+.05)/(v+.05):(v+.05)/(p+.05)}isDarker(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3<128}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(b){const p=this.getRelativeLuminance(),v=b.getRelativeLuminance();return p>v}isDarkerThan(b){const p=this.getRelativeLuminance(),v=b.getRelativeLuminance();return p<v}lighten(b){return new g(new M(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*b,this.hsla.a))}darken(b){return new g(new M(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*b,this.hsla.a))}transparent(b){const{r:p,g:v,b:i,a:t}=this.rgba;return new g(new N(p,v,i,t*b))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new g(new N(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}blend(b){const p=b.rgba,v=this.rgba.a,i=p.a,t=v+i*(1-v);if(t<1e-6)return g.transparent;const a=this.rgba.r*v/t+p.r*i*(1-v)/t,l=this.rgba.g*v/t+p.g*i*(1-v)/t,h=this.rgba.b*v/t+p.b*i*(1-v)/t;return new g(new N(a,l,h,t))}makeOpaque(b){if(this.isOpaque()||b.rgba.a!==1)return this;const{r:p,g:v,b:i,a:t}=this.rgba;return new g(new N(b.rgba.r-t*(b.rgba.r-p),b.rgba.g-t*(b.rgba.g-v),b.rgba.b-t*(b.rgba.b-i),1))}flatten(...b){const p=b.reduceRight((v,i)=>g._flatten(i,v));return g._flatten(this,p)}static _flatten(b,p){const v=1-b.rgba.a;return new g(new N(v*p.rgba.r+b.rgba.a*b.rgba.r,v*p.rgba.g+b.rgba.a*b.rgba.g,v*p.rgba.b+b.rgba.a*b.rgba.b))}toString(){return this._toString||(this._toString=g.Format.CSS.format(this)),this._toString}static getLighterColor(b,p,v){if(b.isLighterThan(p))return b;v=v||.5;const i=b.getRelativeLuminance(),t=p.getRelativeLuminance();return v=v*(t-i)/t,b.lighten(v)}static getDarkerColor(b,p,v){if(b.isDarkerThan(p))return b;v=v||.5;const i=b.getRelativeLuminance(),t=p.getRelativeLuminance();return v=v*(i-t)/i,b.darken(v)}}e.Color=g,g.white=new g(new N(255,255,255,1)),g.black=new g(new N(0,0,0,1)),g.red=new g(new N(255,0,0,1)),g.blue=new g(new N(0,0,255,1)),g.green=new g(new N(0,255,0,1)),g.cyan=new g(new N(0,255,255,1)),g.lightgrey=new g(new N(211,211,211,1)),g.transparent=new g(new N(0,0,0,0)),function(S){let b;(function(p){let v;(function(i){function t(m){return m.rgba.a===1?`rgb(${m.rgba.r}, ${m.rgba.g}, ${m.rgba.b})`:S.Format.CSS.formatRGBA(m)}i.formatRGB=t;function a(m){return`rgba(${m.rgba.r}, ${m.rgba.g}, ${m.rgba.b}, ${+m.rgba.a.toFixed(2)})`}i.formatRGBA=a;function l(m){return m.hsla.a===1?`hsl(${m.hsla.h}, ${(m.hsla.s*100).toFixed(2)}%, ${(m.hsla.l*100).toFixed(2)}%)`:S.Format.CSS.formatHSLA(m)}i.formatHSL=l;function h(m){return`hsla(${m.hsla.h}, ${(m.hsla.s*100).toFixed(2)}%, ${(m.hsla.l*100).toFixed(2)}%, ${m.hsla.a.toFixed(2)})`}i.formatHSLA=h;function d(m){const _=m.toString(16);return _.length!==2?"0"+_:_}function u(m){return`#${d(m.rgba.r)}${d(m.rgba.g)}${d(m.rgba.b)}`}i.formatHex=u;function n(m,_=!1){return _&&m.rgba.a===1?S.Format.CSS.formatHex(m):`#${d(m.rgba.r)}${d(m.rgba.g)}${d(m.rgba.b)}${d(Math.round(m.rgba.a*255))}`}i.formatHexA=n;function r(m){return m.isOpaque()?S.Format.CSS.formatHex(m):S.Format.CSS.formatRGBA(m)}i.format=r;function s(m){const _=m.length;if(_===0||m.charCodeAt(0)!==35)return null;if(_===7){const f=16*o(m.charCodeAt(1))+o(m.charCodeAt(2)),c=16*o(m.charCodeAt(3))+o(m.charCodeAt(4)),C=16*o(m.charCodeAt(5))+o(m.charCodeAt(6));return new S(new N(f,c,C,1))}if(_===9){const f=16*o(m.charCodeAt(1))+o(m.charCodeAt(2)),c=16*o(m.charCodeAt(3))+o(m.charCodeAt(4)),C=16*o(m.charCodeAt(5))+o(m.charCodeAt(6)),y=16*o(m.charCodeAt(7))+o(m.charCodeAt(8));return new S(new N(f,c,C,y/255))}if(_===4){const f=o(m.charCodeAt(1)),c=o(m.charCodeAt(2)),C=o(m.charCodeAt(3));return new S(new N(16*f+f,16*c+c,16*C+C))}if(_===5){const f=o(m.charCodeAt(1)),c=o(m.charCodeAt(2)),C=o(m.charCodeAt(3)),y=o(m.charCodeAt(4));return new S(new N(16*f+f,16*c+c,16*C+C,(16*y+y)/255))}return null}i.parseHex=s;function o(m){switch(m){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(v=p.CSS||(p.CSS={}))})(b=S.Format||(S.Format={}))}(g=e.Color||(e.Color={}))}),define(ee[96],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.throttle=e.debounce=e.memoize=e.createDecorator=void 0;function L(g){return(S,b,p)=>{let v=null,i=null;if(typeof p.value=="function"?(v="value",i=p.value):typeof p.get=="function"&&(v="get",i=p.get),!i)throw new Error("not supported");p[v]=g(i,b)}}e.createDecorator=L;function N(g,S,b){let p=null,v=null;if(typeof b.value=="function"?(p="value",v=b.value,v.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof b.get=="function"&&(p="get",v=b.get),!v)throw new Error("not supported");const i=`$memoize$${S}`;b[p]=function(...t){return this.hasOwnProperty(i)||Object.defineProperty(this,i,{configurable:!1,enumerable:!1,writable:!1,value:v.apply(this,t)}),this[i]}}e.memoize=N;function M(g,S,b){return L((p,v)=>{const i=`$debounce$${v}`,t=`$debounce$result$${v}`;return function(...a){this[t]||(this[t]=b?b():void 0),clearTimeout(this[i]),S&&(this[t]=S(this[t],...a),a=[this[t]]),this[i]=setTimeout(()=>{p.apply(this,a),this[t]=b?b():void 0},g)}})}e.debounce=M;function E(g,S,b){return L((p,v)=>{const i=`$throttle$timer$${v}`,t=`$throttle$result$${v}`,a=`$throttle$lastRun$${v}`,l=`$throttle$pending$${v}`;return function(...h){if(this[t]||(this[t]=b?b():void 0),(this[a]===null||this[a]===void 0)&&(this[a]=-Number.MAX_VALUE),S&&(this[t]=S(this[t],...h)),this[l])return;const d=this[a]+g;d<=Date.now()?(this[a]=Date.now(),p.apply(this,[this[t]]),this[t]=b?b():void 0):(this[l]=!0,this[i]=setTimeout(()=>{this[l]=!1,this[a]=Date.now(),p.apply(this,[this[t]]),this[t]=b?b():void 0},d-Date.now()))}})}e.throttle=E}),define(ee[308],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffChange=void 0;class L{constructor(M,E,g,S){this.originalStart=M,this.originalLength=E,this.modifiedStart=g,this.modifiedLength=S}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}e.DiffChange=L}),define(ee[12],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createErrorWithActions=e.isErrorWithActions=e.ExpectedError=e.NotSupportedError=e.NotImplementedError=e.getErrorMessage=e.disposed=e.readonly=e.illegalState=e.illegalArgument=e.canceled=e.CancellationError=e.isPromiseCanceledError=e.transformErrorForSerialization=e.onUnexpectedExternalError=e.onUnexpectedError=e.setUnexpectedErrorHandler=e.errorHandler=e.ErrorHandler=void 0;class L{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(m){setTimeout(()=>{throw m.stack?new Error(m.message+`

`+m.stack):m},0)}}addListener(m){return this.listeners.push(m),()=>{this._removeListener(m)}}emit(m){this.listeners.forEach(_=>{_(m)})}_removeListener(m){this.listeners.splice(this.listeners.indexOf(m),1)}setUnexpectedErrorHandler(m){this.unexpectedErrorHandler=m}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(m){this.unexpectedErrorHandler(m),this.emit(m)}onUnexpectedExternalError(m){this.unexpectedErrorHandler(m)}}e.ErrorHandler=L,e.errorHandler=new L;function N(o){e.errorHandler.setUnexpectedErrorHandler(o)}e.setUnexpectedErrorHandler=N;function M(o){b(o)||e.errorHandler.onUnexpectedError(o)}e.onUnexpectedError=M;function E(o){b(o)||e.errorHandler.onUnexpectedExternalError(o)}e.onUnexpectedExternalError=E;function g(o){if(o instanceof Error){let{name:m,message:_}=o;const f=o.stacktrace||o.stack;return{$isError:!0,name:m,message:_,stack:f}}return o}e.transformErrorForSerialization=g;const S="Canceled";function b(o){return o instanceof Error&&o.name===S&&o.message===S}e.isPromiseCanceledError=b;class p extends Error{constructor(){super(S);this.name=this.message}}e.CancellationError=p;function v(){const o=new Error(S);return o.name=o.message,o}e.canceled=v;function i(o){return o?new Error(`Illegal argument: ${o}`):new Error("Illegal argument")}e.illegalArgument=i;function t(o){return o?new Error(`Illegal state: ${o}`):new Error("Illegal state")}e.illegalState=t;function a(o){return o?new Error(`readonly property '${o} cannot be changed'`):new Error("readonly property cannot be changed")}e.readonly=a;function l(o){const m=new Error(`${o} has been disposed`);return m.name="DISPOSED",m}e.disposed=l;function h(o){return o?o.message?o.message:o.stack?o.stack.split(`
`)[0]:String(o):"Error"}e.getErrorMessage=h;class d extends Error{constructor(m){super("NotImplemented");m&&(this.message=m)}}e.NotImplementedError=d;class u extends Error{constructor(m){super("NotSupported");m&&(this.message=m)}}e.NotSupportedError=u;class n extends Error{constructor(){super(...arguments);this.isExpected=!0}}e.ExpectedError=n;function r(o){const m=o;return m instanceof Error&&Array.isArray(m.actions)}e.isErrorWithActions=r;function s(o,m=Object.create(null)){const _=new Error(o);return m.actions&&(_.actions=m.actions),_}e.createErrorWithActions=s});var Me=this&&this.__awaiter||function(Q,e,L,N){function M(E){return E instanceof L?E:new L(function(g){g(E)})}return new(L||(L=Promise))(function(E,g){function S(v){try{p(N.next(v))}catch(i){g(i)}}function b(v){try{p(N.throw(v))}catch(i){g(i)}}function p(v){v.done?E(v.value):M(v.value).then(S,b)}p((N=N.apply(Q,e||[])).next())})};define(ee[19],te([0,1,12]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayQueue=e.maxIndex=e.minIndex=e.splice=e.insertInto=e.mapFind=e.getRandomElement=e.asArray=e.mapArrayOrNot=e.pushToEnd=e.pushToStart=e.shuffle=e.arrayInsert=e.remove=e.insert=e.index=e.range=e.flatten=e.commonPrefixLength=e.firstOrDefault=e.lastIndex=e.findLast=e.uniqueFilter=e.distinct=e.isNonEmptyArray=e.isFalsyOrEmpty=e.move=e.coalesceInPlace=e.coalesce=e.topAsync=e.top=e.delta=e.sortedDiff=e.groupBy=e.quickSelect=e.findFirstInSorted=e.binarySearch=e.equals=e.tail2=e.tail=void 0;function N(H,G=0){return H[H.length-(1+G)]}e.tail=N;function M(H){if(H.length===0)throw new Error("Invalid tail call");return[H.slice(0,H.length-1),H[H.length-1]]}e.tail2=M;function E(H,G,z=(W,j)=>W===j){if(H===G)return!0;if(!H||!G||H.length!==G.length)return!1;for(let W=0,j=H.length;W<j;W++)if(!z(H[W],G[W]))return!1;return!0}e.equals=E;function g(H,G,z){let W=0,j=H.length-1;for(;W<=j;){const U=(W+j)/2|0,Y=z(H[U],G);if(Y<0)W=U+1;else if(Y>0)j=U-1;else return U}return-(W+1)}e.binarySearch=g;function S(H,G){let z=0,W=H.length;if(W===0)return 0;for(;z<W;){const j=Math.floor((z+W)/2);G(H[j])?W=j:z=j+1}return z}e.findFirstInSorted=S;function b(H,G,z){if(H=H|0,H>=G.length)throw new TypeError("invalid index");let W=G[Math.floor(G.length*Math.random())],j=[],U=[],Y=[];for(let ne of G){const J=z(ne,W);J<0?j.push(ne):J>0?U.push(ne):Y.push(ne)}return H<j.length?b(H,j,z):H<j.length+Y.length?Y[0]:b(H-(j.length+Y.length),U,z)}e.quickSelect=b;function p(H,G){const z=[];let W;for(const j of H.slice(0).sort(G))!W||G(W[0],j)!==0?(W=[j],z.push(W)):W.push(j);return z}e.groupBy=p;function v(H,G,z){const W=[];function j(ne,J,re){if(J===0&&re.length===0)return;const ge=W[W.length-1];ge&&ge.start+ge.deleteCount===ne?(ge.deleteCount+=J,ge.toInsert.push(...re)):W.push({start:ne,deleteCount:J,toInsert:re})}let U=0,Y=0;for(;;){if(U===H.length){j(U,0,G.slice(Y));break}if(Y===G.length){j(U,H.length-U,[]);break}const ne=H[U],J=G[Y],re=z(ne,J);re===0?(U+=1,Y+=1):re<0?(j(U,1,[]),U+=1):re>0&&(j(U,0,[J]),Y+=1)}return W}e.sortedDiff=v;function i(H,G,z){const W=v(H,G,z),j=[],U=[];for(const Y of W)j.push(...H.slice(Y.start,Y.start+Y.deleteCount)),U.push(...Y.toInsert);return{removed:j,added:U}}e.delta=i;function t(H,G,z){if(z===0)return[];const W=H.slice(0,z).sort(G);return l(H,G,W,z,H.length),W}e.top=t;function a(H,G,z,W,j){return z===0?Promise.resolve([]):new Promise((U,Y)=>{(()=>Me(this,void 0,void 0,function*(){const ne=H.length,J=H.slice(0,z).sort(G);for(let re=z,ge=Math.min(z+W,ne);re<ne;re=ge,ge=Math.min(ge+W,ne)){if(re>z&&(yield new Promise(pe=>setTimeout(pe))),j&&j.isCancellationRequested)throw(0,L.canceled)();l(H,G,J,re,ge)}return J}))().then(U,Y)})}e.topAsync=a;function l(H,G,z,W,j){for(const U=z.length;W<j;W++){const Y=H[W];if(G(Y,z[U-1])<0){z.pop();const ne=S(z,J=>G(Y,J)<0);z.splice(ne,0,Y)}}}function h(H){return H.filter(G=>!!G)}e.coalesce=h;function d(H){let G=0;for(let z=0;z<H.length;z++)H[z]&&(H[G]=H[z],G+=1);H.length=G}e.coalesceInPlace=d;function u(H,G,z){H.splice(z,0,H.splice(G,1)[0])}e.move=u;function n(H){return!Array.isArray(H)||H.length===0}e.isFalsyOrEmpty=n;function r(H){return Array.isArray(H)&&H.length>0}e.isNonEmptyArray=r;function s(H,G=z=>z){const z=new Set;return H.filter(W=>{const j=G(W);return z.has(j)?!1:(z.add(j),!0)})}e.distinct=s;function o(H){const G=Object.create(null);return z=>{const W=H(z);return G[W]?!1:(G[W]=!0,!0)}}e.uniqueFilter=o;function m(H,G){const z=_(H,G);if(z!==-1)return H[z]}e.findLast=m;function _(H,G){for(let z=H.length-1;z>=0;z--){const W=H[z];if(G(W))return z}return-1}e.lastIndex=_;function f(H,G){return H.length>0?H[0]:G}e.firstOrDefault=f;function c(H,G,z=(W,j)=>W===j){let W=0;for(let j=0,U=Math.min(H.length,G.length);j<U&&z(H[j],G[j]);j++)W++;return W}e.commonPrefixLength=c;function C(H){return[].concat(...H)}e.flatten=C;function y(H,G){let z=typeof G=="number"?H:0;typeof G=="number"?z=H:(z=0,G=H);const W=[];if(z<=G)for(let j=z;j<G;j++)W.push(j);else for(let j=z;j>G;j--)W.push(j);return W}e.range=y;function w(H,G,z){return H.reduce((W,j)=>(W[G(j)]=z?z(j):j,W),Object.create(null))}e.index=w;function D(H,G){return H.push(G),()=>I(H,G)}e.insert=D;function I(H,G){const z=H.indexOf(G);if(z>-1)return H.splice(z,1),G}e.remove=I;function T(H,G,z){const W=H.slice(0,G),j=H.slice(G);return W.concat(z,j)}e.arrayInsert=T;function F(H,G){let z;if(typeof G=="number"){let W=G;z=()=>{const j=Math.sin(W++)*179426549;return j-Math.floor(j)}}else z=Math.random;for(let W=H.length-1;W>0;W-=1){const j=Math.floor(z()*(W+1)),U=H[W];H[W]=H[j],H[j]=U}}e.shuffle=F;function P(H,G){const z=H.indexOf(G);z>-1&&(H.splice(z,1),H.unshift(G))}e.pushToStart=P;function R(H,G){const z=H.indexOf(G);z>-1&&(H.splice(z,1),H.push(G))}e.pushToEnd=R;function A(H,G){return Array.isArray(H)?H.map(G):G(H)}e.mapArrayOrNot=A;function O(H){return Array.isArray(H)?H:[H]}e.asArray=O;function k(H){return H[Math.floor(Math.random()*H.length)]}e.getRandomElement=k;function V(H,G){for(const z of H){const W=G(z);if(W!==void 0)return W}}e.mapFind=V;function B(H,G,z){const W=K(H,G),j=H.length,U=z.length;H.length=j+U;for(let Y=j-1;Y>=W;Y--)H[Y+U]=H[Y];for(let Y=0;Y<U;Y++)H[Y+W]=z[Y]}e.insertInto=B;function x(H,G,z,W){const j=K(H,G),U=H.splice(j,z);return B(H,j,W),U}e.splice=x;function K(H,G){return G<0?Math.max(G+H.length,0):Math.min(G,H.length)}function X(H,G){let z=Number.MAX_SAFE_INTEGER,W=0;return H.forEach((j,U)=>{const Y=G(j);Y<z&&(z=Y,W=U)}),W}e.minIndex=X;function Z(H,G){let z=Number.MIN_SAFE_INTEGER,W=0;return H.forEach((j,U)=>{const Y=G(j);Y>z&&(z=Y,W=U)}),W}e.maxIndex=Z;class q{constructor(G){this.items=G,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(G){let z=this.firstIdx;for(;z<this.items.length&&G(this.items[z]);)z++;const W=z===this.firstIdx?null:this.items.slice(this.firstIdx,z);return this.firstIdx=z,W}takeFromEndWhile(G){let z=this.lastIdx;for(;z>=0&&G(this.items[z]);)z--;const W=z===this.lastIdx?null:this.items.slice(z+1,this.lastIdx+1);return this.lastIdx=z,W}peek(){return this.items[this.firstIdx]}dequeue(){const G=this.items[this.firstIdx];return this.firstIdx++,G}takeCount(G){const z=this.items.slice(this.firstIdx,this.firstIdx+G);return this.firstIdx+=G,z}}e.ArrayQueue=q}),define(ee[79],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.once=void 0;function L(N){const M=this;let E=!1,g;return function(){return E||(E=!0,g=N.apply(M,arguments)),g}}e.once=L}),define(ee[133],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultGenerator=e.IdGenerator=void 0;class L{constructor(M){this._prefix=M,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}e.IdGenerator=L,e.defaultGenerator=new L("id#")}),define(ee[55],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Iterable=void 0;var L;(function(N){function M(o){return o&&typeof o=="object"&&typeof o[Symbol.iterator]=="function"}N.is=M;const E=Object.freeze([]);function g(){return E}N.empty=g;function*S(o){yield o}N.single=S;function b(o){return o||E}N.from=b;function p(o){return!o||o[Symbol.iterator]().next().done===!0}N.isEmpty=p;function v(o){return o[Symbol.iterator]().next().value}N.first=v;function i(o,m){for(const _ of o)if(m(_))return!0;return!1}N.some=i;function t(o,m){for(const _ of o)if(m(_))return _}N.find=t;function*a(o,m){for(const _ of o)m(_)&&(yield _)}N.filter=a;function*l(o,m){let _=0;for(const f of o)yield m(f,_++)}N.map=l;function*h(...o){for(const m of o)for(const _ of m)yield _}N.concat=h;function*d(o){for(const m of o)for(const _ of m)yield _}N.concatNested=d;function u(o,m,_){let f=_;for(const c of o)f=m(f,c);return f}N.reduce=u;function*n(o,m,_=o.length){for(m<0&&(m+=o.length),_<0?_+=o.length:_>o.length&&(_=o.length);m<_;m++)yield o[m]}N.slice=n;function r(o,m=Number.POSITIVE_INFINITY){const _=[];if(m===0)return[_,o];const f=o[Symbol.iterator]();for(let c=0;c<m;c++){const C=f.next();if(C.done)return[_,N.empty()];_.push(C.value)}return[_,{[Symbol.iterator](){return f}}]}N.consume=r;function s(o,m,_=(f,c)=>f===c){const f=o[Symbol.iterator](),c=m[Symbol.iterator]();for(;;){const C=f.next(),y=c.next();if(C.done!==y.done)return!1;if(C.done)return!0;if(!_(C.value,y.value))return!1}}N.equals=s})(L=e.Iterable||(e.Iterable={}))}),define(ee[134],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getNodeType=e.stripComments=e.visit=e.findNodeAtOffset=e.contains=e.getNodeValue=e.getNodePath=e.findNodeAtLocation=e.parseTree=e.parse=e.getLocation=e.createScanner=e.ParseOptions=void 0;var L;(function(n){n.DEFAULT={allowTrailingComma:!0}})(L=e.ParseOptions||(e.ParseOptions={}));function N(n,r=!1){let s=0,o=n.length,m="",_=0,f=16,c=0;function C(P){let R=0,A=0;for(;R<P;){const O=n.charCodeAt(s);if(O>=48&&O<=57)A=A*16+O-48;else if(O>=65&&O<=70)A=A*16+O-65+10;else if(O>=97&&O<=102)A=A*16+O-97+10;else break;s++,R++}return R<P&&(A=-1),A}function y(P){s=P,m="",_=0,f=16,c=0}function w(){const P=s;if(n.charCodeAt(s)===48)s++;else for(s++;s<n.length&&g(n.charCodeAt(s));)s++;if(s<n.length&&n.charCodeAt(s)===46)if(s++,s<n.length&&g(n.charCodeAt(s)))for(s++;s<n.length&&g(n.charCodeAt(s));)s++;else return c=3,n.substring(P,s);let R=s;if(s<n.length&&(n.charCodeAt(s)===69||n.charCodeAt(s)===101))if(s++,(s<n.length&&n.charCodeAt(s)===43||n.charCodeAt(s)===45)&&s++,s<n.length&&g(n.charCodeAt(s))){for(s++;s<n.length&&g(n.charCodeAt(s));)s++;R=s}else c=3;return n.substring(P,R)}function D(){let P="",R=s;for(;;){if(s>=o){P+=n.substring(R,s),c=2;break}const A=n.charCodeAt(s);if(A===34){P+=n.substring(R,s),s++;break}if(A===92){if(P+=n.substring(R,s),s++,s>=o){c=2;break}switch(n.charCodeAt(s++)){case 34:P+='"';break;case 92:P+="\\";break;case 47:P+="/";break;case 98:P+="\b";break;case 102:P+="\f";break;case 110:P+=`
`;break;case 114:P+="\r";break;case 116:P+="	";break;case 117:const k=C(4);k>=0?P+=String.fromCharCode(k):c=4;break;default:c=5}R=s;continue}if(A>=0&&A<=31)if(E(A)){P+=n.substring(R,s),c=2;break}else c=6;s++}return P}function I(){if(m="",c=0,_=s,s>=o)return _=o,f=17;let P=n.charCodeAt(s);if(M(P)){do s++,m+=String.fromCharCode(P),P=n.charCodeAt(s);while(M(P));return f=15}if(E(P))return s++,m+=String.fromCharCode(P),P===13&&n.charCodeAt(s)===10&&(s++,m+=`
`),f=14;switch(P){case 123:return s++,f=1;case 125:return s++,f=2;case 91:return s++,f=3;case 93:return s++,f=4;case 58:return s++,f=6;case 44:return s++,f=5;case 34:return s++,m=D(),f=10;case 47:const R=s-1;if(n.charCodeAt(s+1)===47){for(s+=2;s<o&&!E(n.charCodeAt(s));)s++;return m=n.substring(R,s),f=12}if(n.charCodeAt(s+1)===42){s+=2;const A=o-1;let O=!1;for(;s<A;){if(n.charCodeAt(s)===42&&n.charCodeAt(s+1)===47){s+=2,O=!0;break}s++}return O||(s++,c=1),m=n.substring(R,s),f=13}return m+=String.fromCharCode(P),s++,f=16;case 45:if(m+=String.fromCharCode(P),s++,s===o||!g(n.charCodeAt(s)))return f=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return m+=w(),f=11;default:for(;s<o&&T(P);)s++,P=n.charCodeAt(s);if(_!==s){switch(m=n.substring(_,s),m){case"true":return f=8;case"false":return f=9;case"null":return f=7}return f=16}return m+=String.fromCharCode(P),s++,f=16}}function T(P){if(M(P)||E(P))return!1;switch(P){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function F(){let P;do P=I();while(P>=12&&P<=15);return P}return{setPosition:y,getPosition:()=>s,scan:r?F:I,getToken:()=>f,getTokenValue:()=>m,getTokenOffset:()=>_,getTokenLength:()=>s-_,getTokenError:()=>c}}e.createScanner=N;function M(n){return n===32||n===9||n===11||n===12||n===160||n===5760||n>=8192&&n<=8203||n===8239||n===8287||n===12288||n===65279}function E(n){return n===10||n===13||n===8232||n===8233}function g(n){return n>=48&&n<=57}function S(n,r){const s=[],o=new Object;let m;const _={value:{},offset:0,length:0,type:"object",parent:void 0};let f=!1;function c(C,y,w,D){_.value=C,_.offset=y,_.length=w,_.type=D,_.colonOffset=void 0,m=_}try{h(n,{onObjectBegin:(C,y)=>{if(r<=C)throw o;m=void 0,f=r>C,s.push("")},onObjectProperty:(C,y,w)=>{if(r<y||(c(C,y,w,"property"),s[s.length-1]=C,r<=y+w))throw o},onObjectEnd:(C,y)=>{if(r<=C)throw o;m=void 0,s.pop()},onArrayBegin:(C,y)=>{if(r<=C)throw o;m=void 0,s.push(0)},onArrayEnd:(C,y)=>{if(r<=C)throw o;m=void 0,s.pop()},onLiteralValue:(C,y,w)=>{if(r<y||(c(C,y,w,u(C)),r<=y+w))throw o},onSeparator:(C,y,w)=>{if(r<=y)throw o;if(C===":"&&m&&m.type==="property")m.colonOffset=y,f=!1,m=void 0;else if(C===","){const D=s[s.length-1];typeof D=="number"?s[s.length-1]=D+1:(f=!0,s[s.length-1]=""),m=void 0}}})}catch(C){if(C!==o)throw C}return{path:s,previousNode:m,isAtPropertyKey:f,matches:C=>{let y=0;for(let w=0;y<C.length&&w<s.length;w++)if(C[y]===s[w]||C[y]==="*")y++;else if(C[y]!=="**")return!1;return y===C.length}}}e.getLocation=S;function b(n,r=[],s=L.DEFAULT){let o=null,m=[];const _=[];function f(C){Array.isArray(m)?m.push(C):o!==null&&(m[o]=C)}return h(n,{onObjectBegin:()=>{const C={};f(C),_.push(m),m=C,o=null},onObjectProperty:C=>{o=C},onObjectEnd:()=>{m=_.pop()},onArrayBegin:()=>{const C=[];f(C),_.push(m),m=C,o=null},onArrayEnd:()=>{m=_.pop()},onLiteralValue:f,onError:(C,y,w)=>{r.push({error:C,offset:y,length:w})}},s),m[0]}e.parse=b;function p(n,r=[],s=L.DEFAULT){let o={type:"array",offset:-1,length:-1,children:[],parent:void 0};function m(C){o.type==="property"&&(o.length=C-o.offset,o=o.parent)}function _(C){return o.children.push(C),C}h(n,{onObjectBegin:C=>{o=_({type:"object",offset:C,length:-1,parent:o,children:[]})},onObjectProperty:(C,y,w)=>{o=_({type:"property",offset:y,length:-1,parent:o,children:[]}),o.children.push({type:"string",value:C,offset:y,length:w,parent:o})},onObjectEnd:(C,y)=>{o.length=C+y-o.offset,o=o.parent,m(C+y)},onArrayBegin:(C,y)=>{o=_({type:"array",offset:C,length:-1,parent:o,children:[]})},onArrayEnd:(C,y)=>{o.length=C+y-o.offset,o=o.parent,m(C+y)},onLiteralValue:(C,y,w)=>{_({type:u(C),offset:y,length:w,parent:o,value:C}),m(y+w)},onSeparator:(C,y,w)=>{o.type==="property"&&(C===":"?o.colonOffset=y:C===","&&m(y))},onError:(C,y,w)=>{r.push({error:C,offset:y,length:w})}},s);const c=o.children[0];return c&&delete c.parent,c}e.parseTree=p;function v(n,r){if(!n)return;let s=n;for(let o of r)if(typeof o=="string"){if(s.type!=="object"||!Array.isArray(s.children))return;let m=!1;for(const _ of s.children)if(Array.isArray(_.children)&&_.children[0].value===o){s=_.children[1],m=!0;break}if(!m)return}else{const m=o;if(s.type!=="array"||m<0||!Array.isArray(s.children)||m>=s.children.length)return;s=s.children[m]}return s}e.findNodeAtLocation=v;function i(n){if(!n.parent||!n.parent.children)return[];const r=i(n.parent);if(n.parent.type==="property"){const s=n.parent.children[0].value;r.push(s)}else if(n.parent.type==="array"){const s=n.parent.children.indexOf(n);s!==-1&&r.push(s)}return r}e.getNodePath=i;function t(n){switch(n.type){case"array":return n.children.map(t);case"object":const r=Object.create(null);for(let s of n.children){const o=s.children[1];o&&(r[s.children[0].value]=t(o))}return r;case"null":case"string":case"number":case"boolean":return n.value;default:return}}e.getNodeValue=t;function a(n,r,s=!1){return r>=n.offset&&r<n.offset+n.length||s&&r===n.offset+n.length}e.contains=a;function l(n,r,s=!1){if(a(n,r,s)){const o=n.children;if(Array.isArray(o))for(let m=0;m<o.length&&o[m].offset<=r;m++){const _=l(o[m],r,s);if(_)return _}return n}}e.findNodeAtOffset=l;function h(n,r,s=L.DEFAULT){const o=N(n,!1);function m(Z){return Z?()=>Z(o.getTokenOffset(),o.getTokenLength()):()=>!0}function _(Z){return Z?q=>Z(q,o.getTokenOffset(),o.getTokenLength()):()=>!0}const f=m(r.onObjectBegin),c=_(r.onObjectProperty),C=m(r.onObjectEnd),y=m(r.onArrayBegin),w=m(r.onArrayEnd),D=_(r.onLiteralValue),I=_(r.onSeparator),T=m(r.onComment),F=_(r.onError),P=s&&s.disallowComments,R=s&&s.allowTrailingComma;function A(){for(;;){const Z=o.scan();switch(o.getTokenError()){case 4:O(14);break;case 5:O(15);break;case 3:O(13);break;case 1:P||O(11);break;case 2:O(12);break;case 6:O(16);break}switch(Z){case 12:case 13:P?O(10):T();break;case 16:O(1);break;case 15:case 14:break;default:return Z}}}function O(Z,q=[],H=[]){if(F(Z),q.length+H.length>0){let G=o.getToken();for(;G!==17;){if(q.indexOf(G)!==-1){A();break}else if(H.indexOf(G)!==-1)break;G=A()}}}function k(Z){const q=o.getTokenValue();return Z?D(q):c(q),A(),!0}function V(){switch(o.getToken()){case 11:let Z=0;try{Z=JSON.parse(o.getTokenValue()),typeof Z!="number"&&(O(2),Z=0)}catch(q){O(2)}D(Z);break;case 7:D(null);break;case 8:D(!0);break;case 9:D(!1);break;default:return!1}return A(),!0}function B(){return o.getToken()!==10?(O(3,[],[2,5]),!1):(k(!1),o.getToken()===6?(I(":"),A(),X()||O(4,[],[2,5])):O(5,[],[2,5]),!0)}function x(){f(),A();let Z=!1;for(;o.getToken()!==2&&o.getToken()!==17;){if(o.getToken()===5){if(Z||O(4,[],[]),I(","),A(),o.getToken()===2&&R)break}else Z&&O(6,[],[]);B()||O(4,[],[2,5]),Z=!0}return C(),o.getToken()!==2?O(7,[2],[]):A(),!0}function K(){y(),A();let Z=!1;for(;o.getToken()!==4&&o.getToken()!==17;){if(o.getToken()===5){if(Z||O(4,[],[]),I(","),A(),o.getToken()===4&&R)break}else Z&&O(6,[],[]);X()||O(4,[],[4,5]),Z=!0}return w(),o.getToken()!==4?O(8,[4],[]):A(),!0}function X(){switch(o.getToken()){case 3:return K();case 1:return x();case 10:return k(!0);default:return V()}}return A(),o.getToken()===17?s.allowEmptyContent?!0:(O(4,[],[]),!1):X()?(o.getToken()!==17&&O(9,[],[]),!0):(O(4,[],[]),!1)}e.visit=h;function d(n,r){let s=N(n),o=[],m,_=0,f;do switch(f=s.getPosition(),m=s.scan(),m){case 12:case 13:case 17:_!==f&&o.push(n.substring(_,f)),r!==void 0&&o.push(s.getTokenValue().replace(/[^\r\n]/g,r)),_=s.getPosition();break}while(m!==17);return o.join("")}e.stripComments=d;function u(n){switch(typeof n){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":{if(n){if(Array.isArray(n))return"array"}else return"null";return"object"}default:return"null"}}e.getNodeType=u}),define(ee[309],te([0,1,134]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isEOL=e.getEOL=e.format=void 0;function N(b,p,v){let i,t,a,l,h;if(p){for(l=p.offset,h=l+p.length,a=l;a>0&&!S(b,a-1);)a--;let y=h;for(;y<b.length&&!S(b,y);)y++;t=b.substring(a,y),i=E(t,v)}else t=b,i=0,a=0,l=0,h=b.length;const d=g(v,b);let u=!1,n=0,r;v.insertSpaces?r=M(" ",v.tabSize||4):r="	";const s=(0,L.createScanner)(t,!1);let o=!1;function m(){return d+M(r,i+n)}function _(){let y=s.scan();for(u=!1;y===15||y===14;)u=u||y===14,y=s.scan();return o=y===16||s.getTokenError()!==0,y}const f=[];function c(y,w,D){!o&&w<h&&D>l&&b.substring(w,D)!==y&&f.push({offset:w,length:D-w,content:y})}let C=_();if(C!==17){const y=s.getTokenOffset()+a,w=M(r,i);c(w,a,y)}for(;C!==17;){let y=s.getTokenOffset()+s.getTokenLength()+a,w=_(),D="";for(;!u&&(w===12||w===13);){const T=s.getTokenOffset()+a;c(" ",y,T),y=s.getTokenOffset()+s.getTokenLength()+a,D=w===12?m():"",w=_()}if(w===2)C!==1&&(n--,D=m());else if(w===4)C!==3&&(n--,D=m());else{switch(C){case 3:case 1:n++,D=m();break;case 5:case 12:D=m();break;case 13:u?D=m():D=" ";break;case 6:D=" ";break;case 10:if(w===6){D="";break}case 7:case 8:case 9:case 11:case 2:case 4:w===12||w===13?D=" ":w!==5&&w!==17&&(o=!0);break;case 16:o=!0;break}u&&(w===12||w===13)&&(D=m())}const I=s.getTokenOffset()+a;c(D,y,I),C=w}return f}e.format=N;function M(b,p){let v="";for(let i=0;i<p;i++)v+=b;return v}function E(b,p){let v=0,i=0;const t=p.tabSize||4;for(;v<b.length;){const a=b.charAt(v);if(a===" ")i++;else if(a==="	")i+=t;else break;v++}return Math.floor(i/t)}function g(b,p){for(let v=0;v<p.length;v++){const i=p.charAt(v);if(i==="\r")return v+1<p.length&&p.charAt(v+1)===`
`?`\r
`:"\r";if(i===`
`)return`
`}return b&&b.eol||`
`}e.getEOL=g;function S(b,p){return`\r
`.indexOf(b.charAt(p))!==-1}e.isEOL=S}),define(ee[310],te([0,1,134,309]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.applyEdits=e.applyEdit=e.withFormatting=e.setProperty=e.removeProperty=void 0;function M(p,v,i){return E(p,v,void 0,i)}e.removeProperty=M;function E(p,v,i,t,a){const l=v.slice(),h=[],d=(0,L.parseTree)(p,h);let u,n;for(;l.length>0&&(n=l.pop(),u=(0,L.findNodeAtLocation)(d,l),u===void 0&&i!==void 0);)typeof n=="string"?i={[n]:i}:i=[i];if(u)if(u.type==="object"&&typeof n=="string"&&Array.isArray(u.children)){const r=(0,L.findNodeAtLocation)(u,[n]);if(r!==void 0)if(i===void 0){if(!r.parent)throw new Error("Malformed AST");const s=u.children.indexOf(r.parent);let o,m=r.parent.offset+r.parent.length;if(s>0){const _=u.children[s-1];o=_.offset+_.length}else o=u.offset+1,u.children.length>1&&(m=u.children[1].offset);return g(p,{offset:o,length:m-o,content:""},t)}else return g(p,{offset:r.offset,length:r.length,content:JSON.stringify(i)},t);else{if(i===void 0)return[];const s=`${JSON.stringify(n)}: ${JSON.stringify(i)}`,o=a?a(u.children.map(_=>_.children[0].value)):u.children.length;let m;if(o>0){const _=u.children[o-1];m={offset:_.offset+_.length,length:0,content:","+s}}else u.children.length===0?m={offset:u.offset+1,length:0,content:s}:m={offset:u.offset+1,length:0,content:s+","};return g(p,m,t)}}else if(u.type==="array"&&typeof n=="number"&&Array.isArray(u.children))if(i!==void 0){const r=`${JSON.stringify(i)}`;let s;if(u.children.length===0||n===0)s={offset:u.offset+1,length:0,content:u.children.length===0?r:r+","};else{const o=n===-1||n>u.children.length?u.children.length:n,m=u.children[o-1];s={offset:m.offset+m.length,length:0,content:","+r}}return g(p,s,t)}else{const r=n,s=u.children[r];let o;if(u.children.length===1)o={offset:u.offset+1,length:u.length-2,content:""};else if(u.children.length-1===r){const m=u.children[r-1],_=m.offset+m.length,f=u.offset+u.length;o={offset:_,length:f-2-_,content:""}}else o={offset:s.offset,length:u.children[r+1].offset-s.offset,content:""};return g(p,o,t)}else throw new Error(`Can not add ${typeof n!="number"?"index":"property"} to parent of type ${u.type}`);else{if(i===void 0)throw new Error("Can not delete in empty document");return g(p,{offset:d?d.offset:0,length:d?d.length:0,content:JSON.stringify(i)},t)}}e.setProperty=E;function g(p,v,i){let t=S(p,v),a=v.offset,l=v.offset+v.content.length;if(v.length===0||v.content.length===0){for(;a>0&&!(0,N.isEOL)(t,a-1);)a--;for(;l<t.length&&!(0,N.isEOL)(t,l);)l++}const h=(0,N.format)(t,{offset:a,length:l-a},i);for(let u=h.length-1;u>=0;u--){const n=h[u];t=S(t,n),a=Math.min(a,n.offset),l=Math.max(l,n.offset+n.length),l+=n.content.length-n.length}const d=p.length-(t.length-l)-a;return[{offset:a,length:d,content:t.substring(a,l)}]}e.withFormatting=g;function S(p,v){return p.substring(0,v.offset)+v.content+p.substring(v.offset+v.length)}e.applyEdit=S;function b(p,v){let i=v.slice(0).sort((a,l)=>{const h=a.offset-l.offset;return h===0?a.length-l.length:h}),t=p.length;for(let a=i.length-1;a>=0;a--){let l=i[a];if(l.offset+l.length<=t)p=S(p,l);else throw new Error("Overlapping edit");t=l.offset}return p}e.applyEdits=b}),define(ee[56],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyChord=e.KeyCodeUtils=e.IMMUTABLE_KEY_CODE_TO_CODE=e.IMMUTABLE_CODE_TO_KEY_CODE=e.ScanCodeUtils=e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE=e.EVENT_KEY_CODE_MAP=void 0;class L{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(t,a){this._keyCodeToStr[t]=a,this._strToKeyCode[a.toLowerCase()]=t}keyCodeToStr(t){return this._keyCodeToStr[t]}strToKeyCode(t){return this._strToKeyCode[t.toLowerCase()]||0}}const N=new L,M=new L,E=new L;e.EVENT_KEY_CODE_MAP=new Array(230),e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE={};const g=[],S=Object.create(null),b=Object.create(null);e.ScanCodeUtils={lowerCaseToEnum:i=>b[i]||0,toEnum:i=>S[i]||0,toString:i=>g[i]||"None"},e.IMMUTABLE_CODE_TO_KEY_CODE=[],e.IMMUTABLE_KEY_CODE_TO_CODE=[];for(let i=0;i<=193;i++)e.IMMUTABLE_CODE_TO_KEY_CODE[i]=-1;for(let i=0;i<=126;i++)e.IMMUTABLE_KEY_CODE_TO_CODE[i]=-1;(function(){const i="",t=[[0,1,0,"None",0,"unknown",0,"VK_UNKNOWN",i,i],[0,1,1,"Hyper",0,i,0,i,i,i],[0,1,2,"Super",0,i,0,i,i,i],[0,1,3,"Fn",0,i,0,i,i,i],[0,1,4,"FnLock",0,i,0,i,i,i],[0,1,5,"Suspend",0,i,0,i,i,i],[0,1,6,"Resume",0,i,0,i,i,i],[0,1,7,"Turbo",0,i,0,i,i,i],[0,1,8,"Sleep",0,i,0,"VK_SLEEP",i,i],[0,1,9,"WakeUp",0,i,0,i,i,i],[31,0,10,"KeyA",31,"A",65,"VK_A",i,i],[32,0,11,"KeyB",32,"B",66,"VK_B",i,i],[33,0,12,"KeyC",33,"C",67,"VK_C",i,i],[34,0,13,"KeyD",34,"D",68,"VK_D",i,i],[35,0,14,"KeyE",35,"E",69,"VK_E",i,i],[36,0,15,"KeyF",36,"F",70,"VK_F",i,i],[37,0,16,"KeyG",37,"G",71,"VK_G",i,i],[38,0,17,"KeyH",38,"H",72,"VK_H",i,i],[39,0,18,"KeyI",39,"I",73,"VK_I",i,i],[40,0,19,"KeyJ",40,"J",74,"VK_J",i,i],[41,0,20,"KeyK",41,"K",75,"VK_K",i,i],[42,0,21,"KeyL",42,"L",76,"VK_L",i,i],[43,0,22,"KeyM",43,"M",77,"VK_M",i,i],[44,0,23,"KeyN",44,"N",78,"VK_N",i,i],[45,0,24,"KeyO",45,"O",79,"VK_O",i,i],[46,0,25,"KeyP",46,"P",80,"VK_P",i,i],[47,0,26,"KeyQ",47,"Q",81,"VK_Q",i,i],[48,0,27,"KeyR",48,"R",82,"VK_R",i,i],[49,0,28,"KeyS",49,"S",83,"VK_S",i,i],[50,0,29,"KeyT",50,"T",84,"VK_T",i,i],[51,0,30,"KeyU",51,"U",85,"VK_U",i,i],[52,0,31,"KeyV",52,"V",86,"VK_V",i,i],[53,0,32,"KeyW",53,"W",87,"VK_W",i,i],[54,0,33,"KeyX",54,"X",88,"VK_X",i,i],[55,0,34,"KeyY",55,"Y",89,"VK_Y",i,i],[56,0,35,"KeyZ",56,"Z",90,"VK_Z",i,i],[22,0,36,"Digit1",22,"1",49,"VK_1",i,i],[23,0,37,"Digit2",23,"2",50,"VK_2",i,i],[24,0,38,"Digit3",24,"3",51,"VK_3",i,i],[25,0,39,"Digit4",25,"4",52,"VK_4",i,i],[26,0,40,"Digit5",26,"5",53,"VK_5",i,i],[27,0,41,"Digit6",27,"6",54,"VK_6",i,i],[28,0,42,"Digit7",28,"7",55,"VK_7",i,i],[29,0,43,"Digit8",29,"8",56,"VK_8",i,i],[30,0,44,"Digit9",30,"9",57,"VK_9",i,i],[21,0,45,"Digit0",21,"0",48,"VK_0",i,i],[3,1,46,"Enter",3,"Enter",13,"VK_RETURN",i,i],[9,1,47,"Escape",9,"Escape",27,"VK_ESCAPE",i,i],[1,1,48,"Backspace",1,"Backspace",8,"VK_BACK",i,i],[2,1,49,"Tab",2,"Tab",9,"VK_TAB",i,i],[10,1,50,"Space",10,"Space",32,"VK_SPACE",i,i],[83,0,51,"Minus",83,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[81,0,52,"Equal",81,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[87,0,53,"BracketLeft",87,"[",219,"VK_OEM_4","[","OEM_4"],[89,0,54,"BracketRight",89,"]",221,"VK_OEM_6","]","OEM_6"],[88,0,55,"Backslash",88,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,0,56,"IntlHash",0,i,0,i,i,i],[80,0,57,"Semicolon",80,";",186,"VK_OEM_1",";","OEM_1"],[90,0,58,"Quote",90,"'",222,"VK_OEM_7","'","OEM_7"],[86,0,59,"Backquote",86,"`",192,"VK_OEM_3","`","OEM_3"],[82,0,60,"Comma",82,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[84,0,61,"Period",84,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[85,0,62,"Slash",85,"/",191,"VK_OEM_2","/","OEM_2"],[8,1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",i,i],[59,1,64,"F1",59,"F1",112,"VK_F1",i,i],[60,1,65,"F2",60,"F2",113,"VK_F2",i,i],[61,1,66,"F3",61,"F3",114,"VK_F3",i,i],[62,1,67,"F4",62,"F4",115,"VK_F4",i,i],[63,1,68,"F5",63,"F5",116,"VK_F5",i,i],[64,1,69,"F6",64,"F6",117,"VK_F6",i,i],[65,1,70,"F7",65,"F7",118,"VK_F7",i,i],[66,1,71,"F8",66,"F8",119,"VK_F8",i,i],[67,1,72,"F9",67,"F9",120,"VK_F9",i,i],[68,1,73,"F10",68,"F10",121,"VK_F10",i,i],[69,1,74,"F11",69,"F11",122,"VK_F11",i,i],[70,1,75,"F12",70,"F12",123,"VK_F12",i,i],[0,1,76,"PrintScreen",0,i,0,i,i,i],[79,1,77,"ScrollLock",79,"ScrollLock",145,"VK_SCROLL",i,i],[7,1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",i,i],[19,1,79,"Insert",19,"Insert",45,"VK_INSERT",i,i],[14,1,80,"Home",14,"Home",36,"VK_HOME",i,i],[11,1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",i,i],[20,1,82,"Delete",20,"Delete",46,"VK_DELETE",i,i],[13,1,83,"End",13,"End",35,"VK_END",i,i],[12,1,84,"PageDown",12,"PageDown",34,"VK_NEXT",i,i],[17,1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",i],[15,1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",i],[18,1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",i],[16,1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",i],[78,1,89,"NumLock",78,"NumLock",144,"VK_NUMLOCK",i,i],[108,1,90,"NumpadDivide",108,"NumPad_Divide",111,"VK_DIVIDE",i,i],[103,1,91,"NumpadMultiply",103,"NumPad_Multiply",106,"VK_MULTIPLY",i,i],[106,1,92,"NumpadSubtract",106,"NumPad_Subtract",109,"VK_SUBTRACT",i,i],[104,1,93,"NumpadAdd",104,"NumPad_Add",107,"VK_ADD",i,i],[3,1,94,"NumpadEnter",3,i,0,i,i,i],[94,1,95,"Numpad1",94,"NumPad1",97,"VK_NUMPAD1",i,i],[95,1,96,"Numpad2",95,"NumPad2",98,"VK_NUMPAD2",i,i],[96,1,97,"Numpad3",96,"NumPad3",99,"VK_NUMPAD3",i,i],[97,1,98,"Numpad4",97,"NumPad4",100,"VK_NUMPAD4",i,i],[98,1,99,"Numpad5",98,"NumPad5",101,"VK_NUMPAD5",i,i],[99,1,100,"Numpad6",99,"NumPad6",102,"VK_NUMPAD6",i,i],[100,1,101,"Numpad7",100,"NumPad7",103,"VK_NUMPAD7",i,i],[101,1,102,"Numpad8",101,"NumPad8",104,"VK_NUMPAD8",i,i],[102,1,103,"Numpad9",102,"NumPad9",105,"VK_NUMPAD9",i,i],[93,1,104,"Numpad0",93,"NumPad0",96,"VK_NUMPAD0",i,i],[107,1,105,"NumpadDecimal",107,"NumPad_Decimal",110,"VK_DECIMAL",i,i],[92,0,106,"IntlBackslash",92,"OEM_102",226,"VK_OEM_102",i,i],[58,1,107,"ContextMenu",58,"ContextMenu",93,i,i,i],[0,1,108,"Power",0,i,0,i,i,i],[0,1,109,"NumpadEqual",0,i,0,i,i,i],[71,1,110,"F13",71,"F13",124,"VK_F13",i,i],[72,1,111,"F14",72,"F14",125,"VK_F14",i,i],[73,1,112,"F15",73,"F15",126,"VK_F15",i,i],[74,1,113,"F16",74,"F16",127,"VK_F16",i,i],[75,1,114,"F17",75,"F17",128,"VK_F17",i,i],[76,1,115,"F18",76,"F18",129,"VK_F18",i,i],[77,1,116,"F19",77,"F19",130,"VK_F19",i,i],[0,1,117,"F20",0,i,0,"VK_F20",i,i],[0,1,118,"F21",0,i,0,"VK_F21",i,i],[0,1,119,"F22",0,i,0,"VK_F22",i,i],[0,1,120,"F23",0,i,0,"VK_F23",i,i],[0,1,121,"F24",0,i,0,"VK_F24",i,i],[0,1,122,"Open",0,i,0,i,i,i],[0,1,123,"Help",0,i,0,i,i,i],[0,1,124,"Select",0,i,0,i,i,i],[0,1,125,"Again",0,i,0,i,i,i],[0,1,126,"Undo",0,i,0,i,i,i],[0,1,127,"Cut",0,i,0,i,i,i],[0,1,128,"Copy",0,i,0,i,i,i],[0,1,129,"Paste",0,i,0,i,i,i],[0,1,130,"Find",0,i,0,i,i,i],[0,1,131,"AudioVolumeMute",112,"AudioVolumeMute",173,"VK_VOLUME_MUTE",i,i],[0,1,132,"AudioVolumeUp",113,"AudioVolumeUp",175,"VK_VOLUME_UP",i,i],[0,1,133,"AudioVolumeDown",114,"AudioVolumeDown",174,"VK_VOLUME_DOWN",i,i],[105,1,134,"NumpadComma",105,"NumPad_Separator",108,"VK_SEPARATOR",i,i],[110,0,135,"IntlRo",110,"ABNT_C1",193,"VK_ABNT_C1",i,i],[0,1,136,"KanaMode",0,i,0,i,i,i],[0,0,137,"IntlYen",0,i,0,i,i,i],[0,1,138,"Convert",0,i,0,i,i,i],[0,1,139,"NonConvert",0,i,0,i,i,i],[0,1,140,"Lang1",0,i,0,i,i,i],[0,1,141,"Lang2",0,i,0,i,i,i],[0,1,142,"Lang3",0,i,0,i,i,i],[0,1,143,"Lang4",0,i,0,i,i,i],[0,1,144,"Lang5",0,i,0,i,i,i],[0,1,145,"Abort",0,i,0,i,i,i],[0,1,146,"Props",0,i,0,i,i,i],[0,1,147,"NumpadParenLeft",0,i,0,i,i,i],[0,1,148,"NumpadParenRight",0,i,0,i,i,i],[0,1,149,"NumpadBackspace",0,i,0,i,i,i],[0,1,150,"NumpadMemoryStore",0,i,0,i,i,i],[0,1,151,"NumpadMemoryRecall",0,i,0,i,i,i],[0,1,152,"NumpadMemoryClear",0,i,0,i,i,i],[0,1,153,"NumpadMemoryAdd",0,i,0,i,i,i],[0,1,154,"NumpadMemorySubtract",0,i,0,i,i,i],[0,1,155,"NumpadClear",0,i,0,i,i,i],[0,1,156,"NumpadClearEntry",0,i,0,i,i,i],[5,1,0,i,5,"Ctrl",17,"VK_CONTROL",i,i],[4,1,0,i,4,"Shift",16,"VK_SHIFT",i,i],[6,1,0,i,6,"Alt",18,"VK_MENU",i,i],[57,1,0,i,57,"Meta",0,"VK_COMMAND",i,i],[5,1,157,"ControlLeft",5,i,0,"VK_LCONTROL",i,i],[4,1,158,"ShiftLeft",4,i,0,"VK_LSHIFT",i,i],[6,1,159,"AltLeft",6,i,0,"VK_LMENU",i,i],[57,1,160,"MetaLeft",57,i,0,"VK_LWIN",i,i],[5,1,161,"ControlRight",5,i,0,"VK_RCONTROL",i,i],[4,1,162,"ShiftRight",4,i,0,"VK_RSHIFT",i,i],[6,1,163,"AltRight",6,i,0,"VK_RMENU",i,i],[57,1,164,"MetaRight",57,i,0,"VK_RWIN",i,i],[0,1,165,"BrightnessUp",0,i,0,i,i,i],[0,1,166,"BrightnessDown",0,i,0,i,i,i],[0,1,167,"MediaPlay",0,i,0,i,i,i],[0,1,168,"MediaRecord",0,i,0,i,i,i],[0,1,169,"MediaFastForward",0,i,0,i,i,i],[0,1,170,"MediaRewind",0,i,0,i,i,i],[114,1,171,"MediaTrackNext",119,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",i,i],[115,1,172,"MediaTrackPrevious",120,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",i,i],[116,1,173,"MediaStop",121,"MediaStop",178,"VK_MEDIA_STOP",i,i],[0,1,174,"Eject",0,i,0,i,i,i],[117,1,175,"MediaPlayPause",122,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",i,i],[0,1,176,"MediaSelect",123,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",i,i],[0,1,177,"LaunchMail",124,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",i,i],[0,1,178,"LaunchApp2",125,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",i,i],[0,1,179,"LaunchApp1",0,i,0,"VK_MEDIA_LAUNCH_APP1",i,i],[0,1,180,"SelectTask",0,i,0,i,i,i],[0,1,181,"LaunchScreenSaver",0,i,0,i,i,i],[0,1,182,"BrowserSearch",115,"BrowserSearch",170,"VK_BROWSER_SEARCH",i,i],[0,1,183,"BrowserHome",116,"BrowserHome",172,"VK_BROWSER_HOME",i,i],[112,1,184,"BrowserBack",117,"BrowserBack",166,"VK_BROWSER_BACK",i,i],[113,1,185,"BrowserForward",118,"BrowserForward",167,"VK_BROWSER_FORWARD",i,i],[0,1,186,"BrowserStop",0,i,0,"VK_BROWSER_STOP",i,i],[0,1,187,"BrowserRefresh",0,i,0,"VK_BROWSER_REFRESH",i,i],[0,1,188,"BrowserFavorites",0,i,0,"VK_BROWSER_FAVORITES",i,i],[0,1,189,"ZoomToggle",0,i,0,i,i,i],[0,1,190,"MailReply",0,i,0,i,i,i],[0,1,191,"MailForward",0,i,0,i,i,i],[0,1,192,"MailSend",0,i,0,i,i,i],[109,1,0,i,109,"KeyInComposition",229,i,i,i],[111,1,0,i,111,"ABNT_C2",194,"VK_ABNT_C2",i,i],[91,1,0,i,91,"OEM_8",223,"VK_OEM_8",i,i],[0,1,0,i,0,i,0,"VK_CLEAR",i,i],[0,1,0,i,0,i,0,"VK_KANA",i,i],[0,1,0,i,0,i,0,"VK_HANGUL",i,i],[0,1,0,i,0,i,0,"VK_JUNJA",i,i],[0,1,0,i,0,i,0,"VK_FINAL",i,i],[0,1,0,i,0,i,0,"VK_HANJA",i,i],[0,1,0,i,0,i,0,"VK_KANJI",i,i],[0,1,0,i,0,i,0,"VK_CONVERT",i,i],[0,1,0,i,0,i,0,"VK_NONCONVERT",i,i],[0,1,0,i,0,i,0,"VK_ACCEPT",i,i],[0,1,0,i,0,i,0,"VK_MODECHANGE",i,i],[0,1,0,i,0,i,0,"VK_SELECT",i,i],[0,1,0,i,0,i,0,"VK_PRINT",i,i],[0,1,0,i,0,i,0,"VK_EXECUTE",i,i],[0,1,0,i,0,i,0,"VK_SNAPSHOT",i,i],[0,1,0,i,0,i,0,"VK_HELP",i,i],[0,1,0,i,0,i,0,"VK_APPS",i,i],[0,1,0,i,0,i,0,"VK_PROCESSKEY",i,i],[0,1,0,i,0,i,0,"VK_PACKET",i,i],[0,1,0,i,0,i,0,"VK_DBE_SBCSCHAR",i,i],[0,1,0,i,0,i,0,"VK_DBE_DBCSCHAR",i,i],[0,1,0,i,0,i,0,"VK_ATTN",i,i],[0,1,0,i,0,i,0,"VK_CRSEL",i,i],[0,1,0,i,0,i,0,"VK_EXSEL",i,i],[0,1,0,i,0,i,0,"VK_EREOF",i,i],[0,1,0,i,0,i,0,"VK_PLAY",i,i],[0,1,0,i,0,i,0,"VK_ZOOM",i,i],[0,1,0,i,0,i,0,"VK_NONAME",i,i],[0,1,0,i,0,i,0,"VK_PA1",i,i],[0,1,0,i,0,i,0,"VK_OEM_CLEAR",i,i]];let a=[],l=[];for(const h of t){const[d,u,n,r,s,o,m,_,f,c]=h;if(l[n]||(l[n]=!0,g[n]=r,S[r]=n,b[r.toLowerCase()]=n,u&&(e.IMMUTABLE_CODE_TO_KEY_CODE[n]=s,s!==0&&s!==3&&s!==5&&s!==4&&s!==6&&s!==57&&(e.IMMUTABLE_KEY_CODE_TO_CODE[s]=n))),!a[s]){if(a[s]=!0,!o)throw new Error(`String representation missing for key code ${s} around scan code ${r}`);N.define(s,o),M.define(s,f||o),E.define(s,c||f||o)}m&&(e.EVENT_KEY_CODE_MAP[m]=s),_&&(e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE[_]=s)}e.IMMUTABLE_KEY_CODE_TO_CODE[3]=46})();var p;(function(i){function t(n){return N.keyCodeToStr(n)}i.toString=t;function a(n){return N.strToKeyCode(n)}i.fromString=a;function l(n){return M.keyCodeToStr(n)}i.toUserSettingsUS=l;function h(n){return E.keyCodeToStr(n)}i.toUserSettingsGeneral=h;function d(n){return M.strToKeyCode(n)||E.strToKeyCode(n)}i.fromUserSettings=d;function u(n){if(n>=93&&n<=108)return null;switch(n){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return N.keyCodeToStr(n)}i.toElectronAccelerator=u})(p=e.KeyCodeUtils||(e.KeyCodeUtils={}));function v(i,t){const a=(t&65535)<<16>>>0;return(i|a)>>>0}e.KeyChord=v}),define(ee[97],te([0,1,12]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedKeybinding=e.ResolvedKeybindingPart=e.ScanCodeBinding=e.ChordKeybinding=e.SimpleKeybinding=e.createSimpleKeybinding=e.createKeybinding=void 0;function N(v,i){if(v===0)return null;const t=(v&65535)>>>0,a=(v&4294901760)>>>16;return a!==0?new g([M(t,i),M(a,i)]):new g([M(t,i)])}e.createKeybinding=N;function M(v,i){const t=!!(v&2048),a=!!(v&256),l=i===2?a:t,h=!!(v&1024),d=!!(v&512),u=i===2?t:a,n=v&255;return new E(l,h,d,u,n)}e.createSimpleKeybinding=M;class E{constructor(i,t,a,l,h){this.ctrlKey=i,this.shiftKey=t,this.altKey=a,this.metaKey=l,this.keyCode=h}equals(i){return this.ctrlKey===i.ctrlKey&&this.shiftKey===i.shiftKey&&this.altKey===i.altKey&&this.metaKey===i.metaKey&&this.keyCode===i.keyCode}getHashCode(){const i=this.ctrlKey?"1":"0",t=this.shiftKey?"1":"0",a=this.altKey?"1":"0",l=this.metaKey?"1":"0";return`${i}${t}${a}${l}${this.keyCode}`}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}toChord(){return new g([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}e.SimpleKeybinding=E;class g{constructor(i){if(i.length===0)throw(0,L.illegalArgument)("parts");this.parts=i}getHashCode(){let i="";for(let t=0,a=this.parts.length;t<a;t++)t!==0&&(i+=";"),i+=this.parts[t].getHashCode();return i}equals(i){if(i===null||this.parts.length!==i.parts.length)return!1;for(let t=0;t<this.parts.length;t++)if(!this.parts[t].equals(i.parts[t]))return!1;return!0}}e.ChordKeybinding=g;class S{constructor(i,t,a,l,h){this.ctrlKey=i,this.shiftKey=t,this.altKey=a,this.metaKey=l,this.scanCode=h}equals(i){return this.ctrlKey===i.ctrlKey&&this.shiftKey===i.shiftKey&&this.altKey===i.altKey&&this.metaKey===i.metaKey&&this.scanCode===i.scanCode}isDuplicateModifierCase(){return this.ctrlKey&&(this.scanCode===157||this.scanCode===161)||this.shiftKey&&(this.scanCode===158||this.scanCode===162)||this.altKey&&(this.scanCode===159||this.scanCode===163)||this.metaKey&&(this.scanCode===160||this.scanCode===164)}}e.ScanCodeBinding=S;class b{constructor(i,t,a,l,h,d){this.ctrlKey=i,this.shiftKey=t,this.altKey=a,this.metaKey=l,this.keyLabel=h,this.keyAriaLabel=d}}e.ResolvedKeybindingPart=b;class p{}e.ResolvedKeybinding=p}),define(ee[168],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Lazy=void 0;class L{constructor(M){this.executor=M,this._didRun=!1}hasValue(){return this._didRun}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(M){this._error=M}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}map(M){return new L(()=>M(this.getValue()))}}e.Lazy=L}),define(ee[2],te([0,1,79,55]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.disposeOnReturn=e.ImmortalReference=e.AsyncReferenceCollection=e.ReferenceCollection=e.RefCountedDisposable=e.MutableDisposable=e.Disposable=e.DisposableStore=e.toDisposable=e.combinedDisposable=e.dispose=e.isDisposable=e.MultiDisposeError=e.markAsSingleton=e.setDisposableTracker=void 0;const M=!1;let E=null;function g(c){E=c}if(e.setDisposableTracker=g,M){const c="__is_disposable_tracked__";g(new class{trackDisposable(C){const y=new Error("Potentially leaked disposable").stack;setTimeout(()=>{C[c]||console.log(y)},3e3)}setParent(C,y){if(C&&C!==n.None)try{C[c]=!0}catch(w){}}markAsDisposed(C){if(C&&C!==n.None)try{C[c]=!0}catch(y){}}markAsSingleton(C){}})}function S(c){return E==null||E.trackDisposable(c),c}function b(c){E==null||E.markAsDisposed(c)}function p(c,C){E==null||E.setParent(c,C)}function v(c,C){if(!!E)for(const y of c)E.setParent(y,C)}function i(c){return E==null||E.markAsSingleton(c),c}e.markAsSingleton=i;class t extends Error{constructor(C){super(`Encountered errors while disposing of store. Errors: [${C.join(", ")}]`);this.errors=C}}e.MultiDisposeError=t;function a(c){return typeof c.dispose=="function"&&c.dispose.length===0}e.isDisposable=a;function l(c){if(N.Iterable.is(c)){let C=[];for(const y of c)if(y)try{y.dispose()}catch(w){C.push(w)}if(C.length===1)throw C[0];if(C.length>1)throw new t(C);return Array.isArray(c)?[]:c}else if(c)return c.dispose(),c}e.dispose=l;function h(...c){const C=d(()=>l(c));return v(c,C),C}e.combinedDisposable=h;function d(c){const C=S({dispose:(0,L.once)(()=>{b(C),c()})});return C}e.toDisposable=d;class u{constructor(){this._toDispose=new Set,this._isDisposed=!1,S(this)}dispose(){this._isDisposed||(b(this),this._isDisposed=!0,this.clear())}clear(){try{l(this._toDispose.values())}finally{this._toDispose.clear()}}add(C){if(!C)return C;if(C===this)throw new Error("Cannot register a disposable on itself!");return p(C,this),this._isDisposed?u.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(C),C}}e.DisposableStore=u,u.DISABLE_DISPOSED_WARNING=!1;class n{constructor(){this._store=new u,S(this),p(this._store,this)}dispose(){b(this),this._store.dispose()}_register(C){if(C===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(C)}}e.Disposable=n,n.None=Object.freeze({dispose(){}});class r{constructor(){this._isDisposed=!1,S(this)}get value(){return this._isDisposed?void 0:this._value}set value(C){var y;this._isDisposed||C===this._value||((y=this._value)===null||y===void 0||y.dispose(),C&&p(C,this),this._value=C)}clear(){this.value=void 0}dispose(){var C;this._isDisposed=!0,b(this),(C=this._value)===null||C===void 0||C.dispose(),this._value=void 0}clearAndLeak(){const C=this._value;return this._value=void 0,C&&p(C,null),C}}e.MutableDisposable=r;class s{constructor(C){this._disposable=C,this._counter=1}acquire(){return this._counter++,this}release(){return--this._counter==0&&this._disposable.dispose(),this}}e.RefCountedDisposable=s;class o{constructor(){this.references=new Map}acquire(C,...y){let w=this.references.get(C);w||(w={counter:0,object:this.createReferencedObject(C,...y)},this.references.set(C,w));const{object:D}=w,I=(0,L.once)(()=>{--w.counter==0&&(this.destroyReferencedObject(C,w.object),this.references.delete(C))});return w.counter++,{object:D,dispose:I}}}e.ReferenceCollection=o;class m{constructor(C){this.referenceCollection=C}acquire(C,...y){return Me(this,void 0,void 0,function*(){const w=this.referenceCollection.acquire(C,...y);try{return{object:yield w.object,dispose:()=>w.dispose()}}catch(D){throw w.dispose(),D}})}}e.AsyncReferenceCollection=m;class _{constructor(C){this.object=C}dispose(){}}e.ImmortalReference=_;function f(c){const C=new u;try{c(C)}finally{C.dispose()}}e.disposeOnReturn=f}),define(ee[80],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedList=void 0;class L{constructor(E){this.element=E,this.next=L.Undefined,this.prev=L.Undefined}}L.Undefined=new L(void 0);class N{constructor(){this._first=L.Undefined,this._last=L.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===L.Undefined}clear(){let E=this._first;for(;E!==L.Undefined;){const g=E.next;E.prev=L.Undefined,E.next=L.Undefined,E=g}this._first=L.Undefined,this._last=L.Undefined,this._size=0}unshift(E){return this._insert(E,!1)}push(E){return this._insert(E,!0)}_insert(E,g){const S=new L(E);if(this._first===L.Undefined)this._first=S,this._last=S;else if(g){const p=this._last;this._last=S,S.prev=p,p.next=S}else{const p=this._first;this._first=S,S.next=p,p.prev=S}this._size+=1;let b=!1;return()=>{b||(b=!0,this._remove(S))}}shift(){if(this._first!==L.Undefined){const E=this._first.element;return this._remove(this._first),E}}pop(){if(this._last!==L.Undefined){const E=this._last.element;return this._remove(this._last),E}}_remove(E){if(E.prev!==L.Undefined&&E.next!==L.Undefined){const g=E.prev;g.next=E.next,E.next.prev=g}else E.prev===L.Undefined&&E.next===L.Undefined?(this._first=L.Undefined,this._last=L.Undefined):E.next===L.Undefined?(this._last=this._last.prev,this._last.next=L.Undefined):E.prev===L.Undefined&&(this._first=this._first.next,this._first.prev=L.Undefined);this._size-=1}*[Symbol.iterator](){let E=this._first;for(;E!==L.Undefined;)yield E.element,E=E.next}}e.LinkedList=N}),function(Q,e){typeof exports=="object"&&typeof module!="undefined"?module.exports=e():typeof define=="function"&&define.amd?define("vs/base/common/marked/marked",e):(Q=typeof globalThis!="undefined"?globalThis:Q||self,Q.marked=e())}(this,function(){"use strict";function Q(Pe,Ae){for(var Re=0;Re<Ae.length;Re++){var ve=Ae[Re];ve.enumerable=ve.enumerable||!1,ve.configurable=!0,"value"in ve&&(ve.writable=!0),Object.defineProperty(Pe,ve.key,ve)}}function e(Pe,Ae,Re){return Ae&&Q(Pe.prototype,Ae),Re&&Q(Pe,Re),Pe}function L(Pe,Ae){if(!!Pe){if(typeof Pe=="string")return N(Pe,Ae);var Re=Object.prototype.toString.call(Pe).slice(8,-1);if(Re==="Object"&&Pe.constructor&&(Re=Pe.constructor.name),Re==="Map"||Re==="Set")return Array.from(Pe);if(Re==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Re))return N(Pe,Ae)}}function N(Pe,Ae){(Ae==null||Ae>Pe.length)&&(Ae=Pe.length);for(var Re=0,ve=new Array(Ae);Re<Ae;Re++)ve[Re]=Pe[Re];return ve}function M(Pe,Ae){var Re=typeof Symbol!="undefined"&&Pe[Symbol.iterator]||Pe["@@iterator"];if(Re)return(Re=Re.call(Pe)).next.bind(Re);if(Array.isArray(Pe)||(Re=L(Pe))||Ae&&Pe&&typeof Pe.length=="number"){Re&&(Pe=Re);var ve=0;return function(){return ve>=Pe.length?{done:!0}:{done:!1,value:Pe[ve++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var E={exports:{}};function g(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function S(Pe){E.exports.defaults=Pe}E.exports={defaults:g(),getDefaults:g,changeDefaults:S};var b=/[&<>"']/,p=/[&<>"']/g,v=/[<>"']|&(?!#?\w+;)/,i=/[<>"']|&(?!#?\w+;)/g,t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},a=function(Ae){return t[Ae]};function l(Pe,Ae){if(Ae){if(b.test(Pe))return Pe.replace(p,a)}else if(v.test(Pe))return Pe.replace(i,a);return Pe}var h=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function d(Pe){return Pe.replace(h,function(Ae,Re){return Re=Re.toLowerCase(),Re==="colon"?":":Re.charAt(0)==="#"?Re.charAt(1)==="x"?String.fromCharCode(parseInt(Re.substring(2),16)):String.fromCharCode(+Re.substring(1)):""})}var u=/(^|[^\[])\^/g;function n(Pe,Ae){Pe=Pe.source||Pe,Ae=Ae||"";var Re={replace:function(_e,Te){return Te=Te.source||Te,Te=Te.replace(u,"$1"),Pe=Pe.replace(_e,Te),Re},getRegex:function(){return new RegExp(Pe,Ae)}};return Re}var r=/[^\w:]/g,s=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function o(Pe,Ae,Re){if(Pe){var ve;try{ve=decodeURIComponent(d(Re)).replace(r,"").toLowerCase()}catch(_e){return null}if(ve.indexOf("javascript:")===0||ve.indexOf("vbscript:")===0||ve.indexOf("data:")===0)return null}Ae&&!s.test(Re)&&(Re=C(Ae,Re));try{Re=encodeURI(Re).replace(/%25/g,"%")}catch(_e){return null}return Re}var m={},_=/^[^:]+:\/*[^/]*$/,f=/^([^:]+:)[\s\S]*$/,c=/^([^:]+:\/*[^/]*)[\s\S]*$/;function C(Pe,Ae){m[" "+Pe]||(_.test(Pe)?m[" "+Pe]=Pe+"/":m[" "+Pe]=I(Pe,"/",!0)),Pe=m[" "+Pe];var Re=Pe.indexOf(":")===-1;return Ae.substring(0,2)==="//"?Re?Ae:Pe.replace(f,"$1")+Ae:Ae.charAt(0)==="/"?Re?Ae:Pe.replace(c,"$1")+Ae:Pe+Ae}var y={exec:function(){}};function w(Pe){for(var Ae=1,Re,ve;Ae<arguments.length;Ae++){Re=arguments[Ae];for(ve in Re)Object.prototype.hasOwnProperty.call(Re,ve)&&(Pe[ve]=Re[ve])}return Pe}function D(Pe,Ae){var Re=Pe.replace(/\|/g,function(Te,Ee,ye){for(var We=!1,Oe=Ee;--Oe>=0&&ye[Oe]==="\\";)We=!We;return We?"|":" |"}),ve=Re.split(/ \|/),_e=0;if(ve[0].trim()||ve.shift(),ve[ve.length-1].trim()||ve.pop(),ve.length>Ae)ve.splice(Ae);else for(;ve.length<Ae;)ve.push("");for(;_e<ve.length;_e++)ve[_e]=ve[_e].trim().replace(/\\\|/g,"|");return ve}function I(Pe,Ae,Re){var ve=Pe.length;if(ve===0)return"";for(var _e=0;_e<ve;){var Te=Pe.charAt(ve-_e-1);if(Te===Ae&&!Re)_e++;else if(Te!==Ae&&Re)_e++;else break}return Pe.substr(0,ve-_e)}function T(Pe,Ae){if(Pe.indexOf(Ae[1])===-1)return-1;for(var Re=Pe.length,ve=0,_e=0;_e<Re;_e++)if(Pe[_e]==="\\")_e++;else if(Pe[_e]===Ae[0])ve++;else if(Pe[_e]===Ae[1]&&(ve--,ve<0))return _e;return-1}function F(Pe){Pe&&Pe.sanitize&&!Pe.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function P(Pe,Ae){if(Ae<1)return"";for(var Re="";Ae>1;)Ae&1&&(Re+=Pe),Ae>>=1,Pe+=Pe;return Re+Pe}var R={escape:l,unescape:d,edit:n,cleanUrl:o,resolveUrl:C,noopTest:y,merge:w,splitCells:D,rtrim:I,findClosingBracket:T,checkSanitizeDeprecation:F,repeatString:P},A=E.exports.defaults,O=R.rtrim,k=R.splitCells,V=R.escape,B=R.findClosingBracket;function x(Pe,Ae,Re,ve){var _e=Ae.href,Te=Ae.title?V(Ae.title):null,Ee=Pe[1].replace(/\\([\[\]])/g,"$1");if(Pe[0].charAt(0)!=="!"){ve.state.inLink=!0;var ye={type:"link",raw:Re,href:_e,title:Te,text:Ee,tokens:ve.inlineTokens(Ee,[])};return ve.state.inLink=!1,ye}else return{type:"image",raw:Re,href:_e,title:Te,text:V(Ee)}}function K(Pe,Ae){var Re=Pe.match(/^(\s+)(?:```)/);if(Re===null)return Ae;var ve=Re[1];return Ae.split(`
`).map(function(_e){var Te=_e.match(/^\s+/);if(Te===null)return _e;var Ee=Te[0];return Ee.length>=ve.length?_e.slice(ve.length):_e}).join(`
`)}var X=function(){function Pe(Re){this.options=Re||A}var Ae=Pe.prototype;return Ae.space=function(ve){var _e=this.rules.block.newline.exec(ve);if(_e)return _e[0].length>1?{type:"space",raw:_e[0]}:{raw:`
`}},Ae.code=function(ve){var _e=this.rules.block.code.exec(ve);if(_e){var Te=_e[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:_e[0],codeBlockStyle:"indented",text:this.options.pedantic?Te:O(Te,`
`)}}},Ae.fences=function(ve){var _e=this.rules.block.fences.exec(ve);if(_e){var Te=_e[0],Ee=K(Te,_e[3]||"");return{type:"code",raw:Te,lang:_e[2]?_e[2].trim():_e[2],text:Ee}}},Ae.heading=function(ve){var _e=this.rules.block.heading.exec(ve);if(_e){var Te=_e[2].trim();if(/#$/.test(Te)){var Ee=O(Te,"#");(this.options.pedantic||!Ee||/ $/.test(Ee))&&(Te=Ee.trim())}var ye={type:"heading",raw:_e[0],depth:_e[1].length,text:Te,tokens:[]};return this.lexer.inline(ye.text,ye.tokens),ye}},Ae.hr=function(ve){var _e=this.rules.block.hr.exec(ve);if(_e)return{type:"hr",raw:_e[0]}},Ae.blockquote=function(ve){var _e=this.rules.block.blockquote.exec(ve);if(_e){var Te=_e[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:_e[0],tokens:this.lexer.blockTokens(Te,[]),text:Te}}},Ae.list=function(ve){var _e=this.rules.block.list.exec(ve);if(_e){var Te,Ee,ye,We,Oe,Ue,Ye,Ge,Xe,et,Ze=_e[1].trim(),it=Ze.length>1,tt={type:"list",raw:"",ordered:it,start:it?+Ze.slice(0,-1):"",loose:!1,items:[]};Ze=it?"\\d{1,9}\\"+Ze.slice(-1):"\\"+Ze,this.options.pedantic&&(Ze=it?Ze:"[*+-]");for(var ot=new RegExp("^( {0,3}"+Ze+")((?: [^\\n]*| *)(?:\\n[^\\n]*)*(?:\\n|$))");ve&&!(this.rules.block.hr.test(ve)||!(_e=ot.exec(ve)));){Xe=_e[2].split(`
`),this.options.pedantic?(We=2,et=Xe[0].trimLeft()):(We=_e[2].search(/[^ ]/),We=_e[1].length+(We>4?1:We),et=Xe[0].slice(We-_e[1].length)),Ue=!1,Te=_e[0],!Xe[0]&&/^ *$/.test(Xe[1])&&(Te=_e[1]+Xe.slice(0,2).join(`
`)+`
`,tt.loose=!0,Xe=[]);var ht=new RegExp("^ {0,"+Math.min(3,We-1)+"}(?:[*+-]|\\d{1,9}[.)])");for(Oe=1;Oe<Xe.length;Oe++){if(Ge=Xe[Oe],this.options.pedantic&&(Ge=Ge.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),ht.test(Ge)){Te=_e[1]+Xe.slice(0,Oe).join(`
`)+`
`;break}if(!Ue){Ge.trim()||(Ue=!0),Ge.search(/[^ ]/)>=We?et+=`
`+Ge.slice(We):et+=`
`+Ge;continue}if(Ge.search(/[^ ]/)>=We||!Ge.trim()){et+=`
`+Ge.slice(We);continue}else{Te=_e[1]+Xe.slice(0,Oe).join(`
`)+`
`;break}}tt.loose||(Ye?tt.loose=!0:/\n *\n *$/.test(Te)&&(Ye=!0)),this.options.gfm&&(Ee=/^\[[ xX]\] /.exec(et),Ee&&(ye=Ee[0]!=="[ ] ",et=et.replace(/^\[[ xX]\] +/,""))),tt.items.push({type:"list_item",raw:Te,task:!!Ee,checked:ye,loose:!1,text:et}),tt.raw+=Te,ve=ve.slice(Te.length)}tt.items[tt.items.length-1].raw=Te.trimRight(),tt.items[tt.items.length-1].text=et.trimRight(),tt.raw=tt.raw.trimRight();var st=tt.items.length;for(Oe=0;Oe<st;Oe++)this.lexer.state.top=!1,tt.items[Oe].tokens=this.lexer.blockTokens(tt.items[Oe].text,[]),tt.items[Oe].tokens.some(function(ct){return ct.type==="space"})&&(tt.loose=!0,tt.items[Oe].loose=!0);return tt}},Ae.html=function(ve){var _e=this.rules.block.html.exec(ve);if(_e){var Te={type:"html",raw:_e[0],pre:!this.options.sanitizer&&(_e[1]==="pre"||_e[1]==="script"||_e[1]==="style"),text:_e[0]};return this.options.sanitize&&(Te.type="paragraph",Te.text=this.options.sanitizer?this.options.sanitizer(_e[0]):V(_e[0]),Te.tokens=[],this.lexer.inline(Te.text,Te.tokens)),Te}},Ae.def=function(ve){var _e=this.rules.block.def.exec(ve);if(_e){_e[3]&&(_e[3]=_e[3].substring(1,_e[3].length-1));var Te=_e[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:Te,raw:_e[0],href:_e[2],title:_e[3]}}},Ae.table=function(ve){var _e=this.rules.block.table.exec(ve);if(_e){var Te={type:"table",header:k(_e[1]).map(function(Ye){return{text:Ye}}),align:_e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:_e[3]?_e[3].replace(/\n$/,"").split(`
`):[]};if(Te.header.length===Te.align.length){Te.raw=_e[0];var Ee=Te.align.length,ye,We,Oe,Ue;for(ye=0;ye<Ee;ye++)/^ *-+: *$/.test(Te.align[ye])?Te.align[ye]="right":/^ *:-+: *$/.test(Te.align[ye])?Te.align[ye]="center":/^ *:-+ *$/.test(Te.align[ye])?Te.align[ye]="left":Te.align[ye]=null;for(Ee=Te.rows.length,ye=0;ye<Ee;ye++)Te.rows[ye]=k(Te.rows[ye],Te.header.length).map(function(Ye){return{text:Ye}});for(Ee=Te.header.length,We=0;We<Ee;We++)Te.header[We].tokens=[],this.lexer.inlineTokens(Te.header[We].text,Te.header[We].tokens);for(Ee=Te.rows.length,We=0;We<Ee;We++)for(Ue=Te.rows[We],Oe=0;Oe<Ue.length;Oe++)Ue[Oe].tokens=[],this.lexer.inlineTokens(Ue[Oe].text,Ue[Oe].tokens);return Te}}},Ae.lheading=function(ve){var _e=this.rules.block.lheading.exec(ve);if(_e){var Te={type:"heading",raw:_e[0],depth:_e[2].charAt(0)==="="?1:2,text:_e[1],tokens:[]};return this.lexer.inline(Te.text,Te.tokens),Te}},Ae.paragraph=function(ve){var _e=this.rules.block.paragraph.exec(ve);if(_e){var Te={type:"paragraph",raw:_e[0],text:_e[1].charAt(_e[1].length-1)===`
`?_e[1].slice(0,-1):_e[1],tokens:[]};return this.lexer.inline(Te.text,Te.tokens),Te}},Ae.text=function(ve){var _e=this.rules.block.text.exec(ve);if(_e){var Te={type:"text",raw:_e[0],text:_e[0],tokens:[]};return this.lexer.inline(Te.text,Te.tokens),Te}},Ae.escape=function(ve){var _e=this.rules.inline.escape.exec(ve);if(_e)return{type:"escape",raw:_e[0],text:V(_e[1])}},Ae.tag=function(ve){var _e=this.rules.inline.tag.exec(ve);if(_e)return!this.lexer.state.inLink&&/^<a /i.test(_e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(_e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(_e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(_e[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:_e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(_e[0]):V(_e[0]):_e[0]}},Ae.link=function(ve){var _e=this.rules.inline.link.exec(ve);if(_e){var Te=_e[2].trim();if(!this.options.pedantic&&/^</.test(Te)){if(!/>$/.test(Te))return;var Ee=O(Te.slice(0,-1),"\\");if((Te.length-Ee.length)%2==0)return}else{var ye=B(_e[2],"()");if(ye>-1){var We=_e[0].indexOf("!")===0?5:4,Oe=We+_e[1].length+ye;_e[2]=_e[2].substring(0,ye),_e[0]=_e[0].substring(0,Oe).trim(),_e[3]=""}}var Ue=_e[2],Ye="";if(this.options.pedantic){var Ge=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Ue);Ge&&(Ue=Ge[1],Ye=Ge[3])}else Ye=_e[3]?_e[3].slice(1,-1):"";return Ue=Ue.trim(),/^</.test(Ue)&&(this.options.pedantic&&!/>$/.test(Te)?Ue=Ue.slice(1):Ue=Ue.slice(1,-1)),x(_e,{href:Ue&&Ue.replace(this.rules.inline._escapes,"$1"),title:Ye&&Ye.replace(this.rules.inline._escapes,"$1")},_e[0],this.lexer)}},Ae.reflink=function(ve,_e){var Te;if((Te=this.rules.inline.reflink.exec(ve))||(Te=this.rules.inline.nolink.exec(ve))){var Ee=(Te[2]||Te[1]).replace(/\s+/g," ");if(Ee=_e[Ee.toLowerCase()],!Ee||!Ee.href){var ye=Te[0].charAt(0);return{type:"text",raw:ye,text:ye}}return x(Te,Ee,Te[0],this.lexer)}},Ae.emStrong=function(ve,_e,Te){Te===void 0&&(Te="");var Ee=this.rules.inline.emStrong.lDelim.exec(ve);if(!!Ee&&!(Ee[3]&&Te.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var ye=Ee[1]||Ee[2]||"";if(!ye||ye&&(Te===""||this.rules.inline.punctuation.exec(Te))){var We=Ee[0].length-1,Oe,Ue,Ye=We,Ge=0,Xe=Ee[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Xe.lastIndex=0,_e=_e.slice(-1*ve.length+We);(Ee=Xe.exec(_e))!=null;)if(Oe=Ee[1]||Ee[2]||Ee[3]||Ee[4]||Ee[5]||Ee[6],!!Oe){if(Ue=Oe.length,Ee[3]||Ee[4]){Ye+=Ue;continue}else if((Ee[5]||Ee[6])&&We%3&&!((We+Ue)%3)){Ge+=Ue;continue}if(Ye-=Ue,!(Ye>0)){if(Ue=Math.min(Ue,Ue+Ye+Ge),Math.min(We,Ue)%2){var et=ve.slice(1,We+Ee.index+Ue);return{type:"em",raw:ve.slice(0,We+Ee.index+Ue+1),text:et,tokens:this.lexer.inlineTokens(et,[])}}var Ze=ve.slice(2,We+Ee.index+Ue-1);return{type:"strong",raw:ve.slice(0,We+Ee.index+Ue+1),text:Ze,tokens:this.lexer.inlineTokens(Ze,[])}}}}}},Ae.codespan=function(ve){var _e=this.rules.inline.code.exec(ve);if(_e){var Te=_e[2].replace(/\n/g," "),Ee=/[^ ]/.test(Te),ye=/^ /.test(Te)&&/ $/.test(Te);return Ee&&ye&&(Te=Te.substring(1,Te.length-1)),Te=V(Te,!0),{type:"codespan",raw:_e[0],text:Te}}},Ae.br=function(ve){var _e=this.rules.inline.br.exec(ve);if(_e)return{type:"br",raw:_e[0]}},Ae.del=function(ve){var _e=this.rules.inline.del.exec(ve);if(_e)return{type:"del",raw:_e[0],text:_e[2],tokens:this.lexer.inlineTokens(_e[2],[])}},Ae.autolink=function(ve,_e){var Te=this.rules.inline.autolink.exec(ve);if(Te){var Ee,ye;return Te[2]==="@"?(Ee=V(this.options.mangle?_e(Te[1]):Te[1]),ye="mailto:"+Ee):(Ee=V(Te[1]),ye=Ee),{type:"link",raw:Te[0],text:Ee,href:ye,tokens:[{type:"text",raw:Ee,text:Ee}]}}},Ae.url=function(ve,_e){var Te;if(Te=this.rules.inline.url.exec(ve)){var Ee,ye;if(Te[2]==="@")Ee=V(this.options.mangle?_e(Te[0]):Te[0]),ye="mailto:"+Ee;else{var We;do We=Te[0],Te[0]=this.rules.inline._backpedal.exec(Te[0])[0];while(We!==Te[0]);Ee=V(Te[0]),Te[1]==="www."?ye="http://"+Ee:ye=Ee}return{type:"link",raw:Te[0],text:Ee,href:ye,tokens:[{type:"text",raw:Ee,text:Ee}]}}},Ae.inlineText=function(ve,_e){var Te=this.rules.inline.text.exec(ve);if(Te){var Ee;return this.lexer.state.inRawBlock?Ee=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Te[0]):V(Te[0]):Te[0]:Ee=V(this.options.smartypants?_e(Te[0]):Te[0]),{type:"text",raw:Te[0],text:Ee}}},Pe}(),Z=R.noopTest,q=R.edit,H=R.merge,G={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:Z,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/};G._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,G._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,G.def=q(G.def).replace("label",G._label).replace("title",G._title).getRegex(),G.bullet=/(?:[*+-]|\d{1,9}[.)])/,G.listItemStart=q(/^( *)(bull) */).replace("bull",G.bullet).getRegex(),G.list=q(G.list).replace(/bull/g,G.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+G.def.source+")").getRegex(),G._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",G._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,G.html=q(G.html,"i").replace("comment",G._comment).replace("tag",G._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),G.paragraph=q(G._paragraph).replace("hr",G.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",G._tag).getRegex(),G.blockquote=q(G.blockquote).replace("paragraph",G.paragraph).getRegex(),G.normal=H({},G),G.gfm=H({},G.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)\\|?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),G.gfm.table=q(G.gfm.table).replace("hr",G.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",G._tag).getRegex(),G.pedantic=H({},G.normal,{html:q(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",G._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Z,paragraph:q(G.normal._paragraph).replace("hr",G.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",G.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var z={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Z,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/\_\_[^_*]*?\*[^_*]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/\*\*[^_*]*?\_[^_*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Z,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};z._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",z.punctuation=q(z.punctuation).replace(/punctuation/g,z._punctuation).getRegex(),z.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,z.escapedEmSt=/\\\*|\\_/g,z._comment=q(G._comment).replace("(?:-->|$)","-->").getRegex(),z.emStrong.lDelim=q(z.emStrong.lDelim).replace(/punct/g,z._punctuation).getRegex(),z.emStrong.rDelimAst=q(z.emStrong.rDelimAst,"g").replace(/punct/g,z._punctuation).getRegex(),z.emStrong.rDelimUnd=q(z.emStrong.rDelimUnd,"g").replace(/punct/g,z._punctuation).getRegex(),z._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,z._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,z._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,z.autolink=q(z.autolink).replace("scheme",z._scheme).replace("email",z._email).getRegex(),z._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,z.tag=q(z.tag).replace("comment",z._comment).replace("attribute",z._attribute).getRegex(),z._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,z._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,z._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,z.link=q(z.link).replace("label",z._label).replace("href",z._href).replace("title",z._title).getRegex(),z.reflink=q(z.reflink).replace("label",z._label).getRegex(),z.reflinkSearch=q(z.reflinkSearch,"g").replace("reflink",z.reflink).replace("nolink",z.nolink).getRegex(),z.normal=H({},z),z.pedantic=H({},z.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:q(/^!?\[(label)\]\((.*?)\)/).replace("label",z._label).getRegex(),reflink:q(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",z._label).getRegex()}),z.gfm=H({},z.normal,{escape:q(z.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),z.gfm.url=q(z.gfm.url,"i").replace("email",z.gfm._extended_email).getRegex(),z.breaks=H({},z.gfm,{br:q(z.br).replace("{2,}","*").getRegex(),text:q(z.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var W={block:G,inline:z},j=X,U=E.exports.defaults,Y=W.block,ne=W.inline,J=R.repeatString;function re(Pe){return Pe.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function ge(Pe){var Ae="",Re,ve,_e=Pe.length;for(Re=0;Re<_e;Re++)ve=Pe.charCodeAt(Re),Math.random()>.5&&(ve="x"+ve.toString(16)),Ae+="&#"+ve+";";return Ae}var pe=function(){function Pe(Re){this.tokens=[],this.tokens.links=Object.create(null),this.options=Re||U,this.options.tokenizer=this.options.tokenizer||new j,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var ve={block:Y.normal,inline:ne.normal};this.options.pedantic?(ve.block=Y.pedantic,ve.inline=ne.pedantic):this.options.gfm&&(ve.block=Y.gfm,this.options.breaks?ve.inline=ne.breaks:ve.inline=ne.gfm),this.tokenizer.rules=ve}Pe.lex=function(ve,_e){var Te=new Pe(_e);return Te.lex(ve)},Pe.lexInline=function(ve,_e){var Te=new Pe(_e);return Te.inlineTokens(ve)};var Ae=Pe.prototype;return Ae.lex=function(ve){ve=ve.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(ve,this.tokens);for(var _e;_e=this.inlineQueue.shift();)this.inlineTokens(_e.src,_e.tokens);return this.tokens},Ae.blockTokens=function(ve,_e){var Te=this;_e===void 0&&(_e=[]),this.options.pedantic&&(ve=ve.replace(/^ +$/gm,""));for(var Ee,ye,We,Oe;ve;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(Ye){return(Ee=Ye.call({lexer:Te},ve,_e))?(ve=ve.substring(Ee.raw.length),_e.push(Ee),!0):!1}))){if(Ee=this.tokenizer.space(ve)){ve=ve.substring(Ee.raw.length),Ee.type&&_e.push(Ee);continue}if(Ee=this.tokenizer.code(ve)){ve=ve.substring(Ee.raw.length),ye=_e[_e.length-1],ye&&(ye.type==="paragraph"||ye.type==="text")?(ye.raw+=`
`+Ee.raw,ye.text+=`
`+Ee.text,this.inlineQueue[this.inlineQueue.length-1].src=ye.text):_e.push(Ee);continue}if(Ee=this.tokenizer.fences(ve)){ve=ve.substring(Ee.raw.length),_e.push(Ee);continue}if(Ee=this.tokenizer.heading(ve)){ve=ve.substring(Ee.raw.length),_e.push(Ee);continue}if(Ee=this.tokenizer.hr(ve)){ve=ve.substring(Ee.raw.length),_e.push(Ee);continue}if(Ee=this.tokenizer.blockquote(ve)){ve=ve.substring(Ee.raw.length),_e.push(Ee);continue}if(Ee=this.tokenizer.list(ve)){ve=ve.substring(Ee.raw.length),_e.push(Ee);continue}if(Ee=this.tokenizer.html(ve)){ve=ve.substring(Ee.raw.length),_e.push(Ee);continue}if(Ee=this.tokenizer.def(ve)){ve=ve.substring(Ee.raw.length),ye=_e[_e.length-1],ye&&(ye.type==="paragraph"||ye.type==="text")?(ye.raw+=`
`+Ee.raw,ye.text+=`
`+Ee.raw,this.inlineQueue[this.inlineQueue.length-1].src=ye.text):this.tokens.links[Ee.tag]||(this.tokens.links[Ee.tag]={href:Ee.href,title:Ee.title});continue}if(Ee=this.tokenizer.table(ve)){ve=ve.substring(Ee.raw.length),_e.push(Ee);continue}if(Ee=this.tokenizer.lheading(ve)){ve=ve.substring(Ee.raw.length),_e.push(Ee);continue}if(We=ve,this.options.extensions&&this.options.extensions.startBlock&&function(){var Ye=Infinity,Ge=ve.slice(1),Xe=void 0;Te.options.extensions.startBlock.forEach(function(et){Xe=et.call({lexer:this},Ge),typeof Xe=="number"&&Xe>=0&&(Ye=Math.min(Ye,Xe))}),Ye<Infinity&&Ye>=0&&(We=ve.substring(0,Ye+1))}(),this.state.top&&(Ee=this.tokenizer.paragraph(We))){ye=_e[_e.length-1],Oe&&ye.type==="paragraph"?(ye.raw+=`
`+Ee.raw,ye.text+=`
`+Ee.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=ye.text):_e.push(Ee),Oe=We.length!==ve.length,ve=ve.substring(Ee.raw.length);continue}if(Ee=this.tokenizer.text(ve)){ve=ve.substring(Ee.raw.length),ye=_e[_e.length-1],ye&&ye.type==="text"?(ye.raw+=`
`+Ee.raw,ye.text+=`
`+Ee.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=ye.text):_e.push(Ee);continue}if(ve){var Ue="Infinite loop on byte: "+ve.charCodeAt(0);if(this.options.silent){console.error(Ue);break}else throw new Error(Ue)}}return this.state.top=!0,_e},Ae.inline=function(ve,_e){this.inlineQueue.push({src:ve,tokens:_e})},Ae.inlineTokens=function(ve,_e){var Te=this;_e===void 0&&(_e=[]);var Ee,ye,We,Oe=ve,Ue,Ye,Ge;if(this.tokens.links){var Xe=Object.keys(this.tokens.links);if(Xe.length>0)for(;(Ue=this.tokenizer.rules.inline.reflinkSearch.exec(Oe))!=null;)Xe.includes(Ue[0].slice(Ue[0].lastIndexOf("[")+1,-1))&&(Oe=Oe.slice(0,Ue.index)+"["+J("a",Ue[0].length-2)+"]"+Oe.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(Ue=this.tokenizer.rules.inline.blockSkip.exec(Oe))!=null;)Oe=Oe.slice(0,Ue.index)+"["+J("a",Ue[0].length-2)+"]"+Oe.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(Ue=this.tokenizer.rules.inline.escapedEmSt.exec(Oe))!=null;)Oe=Oe.slice(0,Ue.index)+"++"+Oe.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;ve;)if(Ye||(Ge=""),Ye=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(Ze){return(Ee=Ze.call({lexer:Te},ve,_e))?(ve=ve.substring(Ee.raw.length),_e.push(Ee),!0):!1}))){if(Ee=this.tokenizer.escape(ve)){ve=ve.substring(Ee.raw.length),_e.push(Ee);continue}if(Ee=this.tokenizer.tag(ve)){ve=ve.substring(Ee.raw.length),ye=_e[_e.length-1],ye&&Ee.type==="text"&&ye.type==="text"?(ye.raw+=Ee.raw,ye.text+=Ee.text):_e.push(Ee);continue}if(Ee=this.tokenizer.link(ve)){ve=ve.substring(Ee.raw.length),_e.push(Ee);continue}if(Ee=this.tokenizer.reflink(ve,this.tokens.links)){ve=ve.substring(Ee.raw.length),ye=_e[_e.length-1],ye&&Ee.type==="text"&&ye.type==="text"?(ye.raw+=Ee.raw,ye.text+=Ee.text):_e.push(Ee);continue}if(Ee=this.tokenizer.emStrong(ve,Oe,Ge)){ve=ve.substring(Ee.raw.length),_e.push(Ee);continue}if(Ee=this.tokenizer.codespan(ve)){ve=ve.substring(Ee.raw.length),_e.push(Ee);continue}if(Ee=this.tokenizer.br(ve)){ve=ve.substring(Ee.raw.length),_e.push(Ee);continue}if(Ee=this.tokenizer.del(ve)){ve=ve.substring(Ee.raw.length),_e.push(Ee);continue}if(Ee=this.tokenizer.autolink(ve,ge)){ve=ve.substring(Ee.raw.length),_e.push(Ee);continue}if(!this.state.inLink&&(Ee=this.tokenizer.url(ve,ge))){ve=ve.substring(Ee.raw.length),_e.push(Ee);continue}if(We=ve,this.options.extensions&&this.options.extensions.startInline&&function(){var Ze=Infinity,it=ve.slice(1),tt=void 0;Te.options.extensions.startInline.forEach(function(ot){tt=ot.call({lexer:this},it),typeof tt=="number"&&tt>=0&&(Ze=Math.min(Ze,tt))}),Ze<Infinity&&Ze>=0&&(We=ve.substring(0,Ze+1))}(),Ee=this.tokenizer.inlineText(We,re)){ve=ve.substring(Ee.raw.length),Ee.raw.slice(-1)!=="_"&&(Ge=Ee.raw.slice(-1)),Ye=!0,ye=_e[_e.length-1],ye&&ye.type==="text"?(ye.raw+=Ee.raw,ye.text+=Ee.text):_e.push(Ee);continue}if(ve){var et="Infinite loop on byte: "+ve.charCodeAt(0);if(this.options.silent){console.error(et);break}else throw new Error(et)}}return _e},e(Pe,null,[{key:"rules",get:function(){return{block:Y,inline:ne}}}]),Pe}(),oe=E.exports.defaults,$=R.cleanUrl,ie=R.escape,le=function(){function Pe(Re){this.options=Re||oe}var Ae=Pe.prototype;return Ae.code=function(ve,_e,Te){var Ee=(_e||"").match(/\S*/)[0];if(this.options.highlight){var ye=this.options.highlight(ve,Ee);ye!=null&&ye!==ve&&(Te=!0,ve=ye)}return ve=ve.replace(/\n$/,"")+`
`,Ee?'<pre><code class="'+this.options.langPrefix+ie(Ee,!0)+'">'+(Te?ve:ie(ve,!0))+`</code></pre>
`:"<pre><code>"+(Te?ve:ie(ve,!0))+`</code></pre>
`},Ae.blockquote=function(ve){return`<blockquote>
`+ve+`</blockquote>
`},Ae.html=function(ve){return ve},Ae.heading=function(ve,_e,Te,Ee){return this.options.headerIds?"<h"+_e+' id="'+this.options.headerPrefix+Ee.slug(Te)+'">'+ve+"</h"+_e+`>
`:"<h"+_e+">"+ve+"</h"+_e+`>
`},Ae.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},Ae.list=function(ve,_e,Te){var Ee=_e?"ol":"ul",ye=_e&&Te!==1?' start="'+Te+'"':"";return"<"+Ee+ye+`>
`+ve+"</"+Ee+`>
`},Ae.listitem=function(ve){return"<li>"+ve+`</li>
`},Ae.checkbox=function(ve){return"<input "+(ve?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},Ae.paragraph=function(ve){return"<p>"+ve+`</p>
`},Ae.table=function(ve,_e){return _e&&(_e="<tbody>"+_e+"</tbody>"),`<table>
<thead>
`+ve+`</thead>
`+_e+`</table>
`},Ae.tablerow=function(ve){return`<tr>
`+ve+`</tr>
`},Ae.tablecell=function(ve,_e){var Te=_e.header?"th":"td",Ee=_e.align?"<"+Te+' align="'+_e.align+'">':"<"+Te+">";return Ee+ve+"</"+Te+`>
`},Ae.strong=function(ve){return"<strong>"+ve+"</strong>"},Ae.em=function(ve){return"<em>"+ve+"</em>"},Ae.codespan=function(ve){return"<code>"+ve+"</code>"},Ae.br=function(){return this.options.xhtml?"<br/>":"<br>"},Ae.del=function(ve){return"<del>"+ve+"</del>"},Ae.link=function(ve,_e,Te){if(ve=$(this.options.sanitize,this.options.baseUrl,ve),ve===null)return Te;var Ee='<a href="'+ie(ve)+'"';return _e&&(Ee+=' title="'+_e+'"'),Ee+=">"+Te+"</a>",Ee},Ae.image=function(ve,_e,Te){if(ve=$(this.options.sanitize,this.options.baseUrl,ve),ve===null)return Te;var Ee='<img src="'+ve+'" alt="'+Te+'"';return _e&&(Ee+=' title="'+_e+'"'),Ee+=this.options.xhtml?"/>":">",Ee},Ae.text=function(ve){return ve},Pe}(),de=function(){function Pe(){}var Ae=Pe.prototype;return Ae.strong=function(ve){return ve},Ae.em=function(ve){return ve},Ae.codespan=function(ve){return ve},Ae.del=function(ve){return ve},Ae.html=function(ve){return ve},Ae.text=function(ve){return ve},Ae.link=function(ve,_e,Te){return""+Te},Ae.image=function(ve,_e,Te){return""+Te},Ae.br=function(){return""},Pe}(),fe=function(){function Pe(){this.seen={}}var Ae=Pe.prototype;return Ae.serialize=function(ve){return ve.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},Ae.getNextSafeSlug=function(ve,_e){var Te=ve,Ee=0;if(this.seen.hasOwnProperty(Te)){Ee=this.seen[ve];do Ee++,Te=ve+"-"+Ee;while(this.seen.hasOwnProperty(Te))}return _e||(this.seen[ve]=Ee,this.seen[Te]=0),Te},Ae.slug=function(ve,_e){_e===void 0&&(_e={});var Te=this.serialize(ve);return this.getNextSafeSlug(Te,_e.dryrun)},Pe}(),he=le,se=de,ce=fe,Se=E.exports.defaults,Le=R.unescape,ue=function(){function Pe(Re){this.options=Re||Se,this.options.renderer=this.options.renderer||new he,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new se,this.slugger=new ce}Pe.parse=function(ve,_e){var Te=new Pe(_e);return Te.parse(ve)},Pe.parseInline=function(ve,_e){var Te=new Pe(_e);return Te.parseInline(ve)};var Ae=Pe.prototype;return Ae.parse=function(ve,_e){_e===void 0&&(_e=!0);var Te="",Ee,ye,We,Oe,Ue,Ye,Ge,Xe,et,Ze,it,tt,ot,ht,st,ct,St,vt,bt,pt=ve.length;for(Ee=0;Ee<pt;Ee++){if(Ze=ve[Ee],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Ze.type]&&(bt=this.options.extensions.renderers[Ze.type].call({parser:this},Ze),bt!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(Ze.type))){Te+=bt||"";continue}switch(Ze.type){case"space":continue;case"hr":{Te+=this.renderer.hr();continue}case"heading":{Te+=this.renderer.heading(this.parseInline(Ze.tokens),Ze.depth,Le(this.parseInline(Ze.tokens,this.textRenderer)),this.slugger);continue}case"code":{Te+=this.renderer.code(Ze.text,Ze.lang,Ze.escaped);continue}case"table":{for(Xe="",Ge="",Oe=Ze.header.length,ye=0;ye<Oe;ye++)Ge+=this.renderer.tablecell(this.parseInline(Ze.header[ye].tokens),{header:!0,align:Ze.align[ye]});for(Xe+=this.renderer.tablerow(Ge),et="",Oe=Ze.rows.length,ye=0;ye<Oe;ye++){for(Ye=Ze.rows[ye],Ge="",Ue=Ye.length,We=0;We<Ue;We++)Ge+=this.renderer.tablecell(this.parseInline(Ye[We].tokens),{header:!1,align:Ze.align[We]});et+=this.renderer.tablerow(Ge)}Te+=this.renderer.table(Xe,et);continue}case"blockquote":{et=this.parse(Ze.tokens),Te+=this.renderer.blockquote(et);continue}case"list":{for(it=Ze.ordered,tt=Ze.start,ot=Ze.loose,Oe=Ze.items.length,et="",ye=0;ye<Oe;ye++)st=Ze.items[ye],ct=st.checked,St=st.task,ht="",st.task&&(vt=this.renderer.checkbox(ct),ot?st.tokens.length>0&&st.tokens[0].type==="paragraph"?(st.tokens[0].text=vt+" "+st.tokens[0].text,st.tokens[0].tokens&&st.tokens[0].tokens.length>0&&st.tokens[0].tokens[0].type==="text"&&(st.tokens[0].tokens[0].text=vt+" "+st.tokens[0].tokens[0].text)):st.tokens.unshift({type:"text",text:vt}):ht+=vt),ht+=this.parse(st.tokens,ot),et+=this.renderer.listitem(ht,St,ct);Te+=this.renderer.list(et,it,tt);continue}case"html":{Te+=this.renderer.html(Ze.text);continue}case"paragraph":{Te+=this.renderer.paragraph(this.parseInline(Ze.tokens));continue}case"text":{for(et=Ze.tokens?this.parseInline(Ze.tokens):Ze.text;Ee+1<pt&&ve[Ee+1].type==="text";)Ze=ve[++Ee],et+=`
`+(Ze.tokens?this.parseInline(Ze.tokens):Ze.text);Te+=_e?this.renderer.paragraph(et):et;continue}default:{var gt='Token with "'+Ze.type+'" type was not found.';if(this.options.silent){console.error(gt);return}else throw new Error(gt)}}}return Te},Ae.parseInline=function(ve,_e){_e=_e||this.renderer;var Te="",Ee,ye,We,Oe=ve.length;for(Ee=0;Ee<Oe;Ee++){if(ye=ve[Ee],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ye.type]&&(We=this.options.extensions.renderers[ye.type].call({parser:this},ye),We!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(ye.type))){Te+=We||"";continue}switch(ye.type){case"escape":{Te+=_e.text(ye.text);break}case"html":{Te+=_e.html(ye.text);break}case"link":{Te+=_e.link(ye.href,ye.title,this.parseInline(ye.tokens,_e));break}case"image":{Te+=_e.image(ye.href,ye.title,ye.text);break}case"strong":{Te+=_e.strong(this.parseInline(ye.tokens,_e));break}case"em":{Te+=_e.em(this.parseInline(ye.tokens,_e));break}case"codespan":{Te+=_e.codespan(ye.text);break}case"br":{Te+=_e.br();break}case"del":{Te+=_e.del(this.parseInline(ye.tokens,_e));break}case"text":{Te+=_e.text(ye.text);break}default:{var Ue='Token with "'+ye.type+'" type was not found.';if(this.options.silent){console.error(Ue);return}else throw new Error(Ue)}}}return Te},Pe}(),we=pe,ae=ue,me=X,Ie=le,Fe=de,ze=fe,Ke=R.merge,be=R.checkSanitizeDeprecation,Ne=R.escape,Be=E.exports.getDefaults,$e=E.exports.changeDefaults,je=E.exports.defaults;function He(Pe,Ae,Re){if(typeof Pe=="undefined"||Pe===null)throw new Error("marked(): input parameter is undefined or null");if(typeof Pe!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(Pe)+", string expected");if(typeof Ae=="function"&&(Re=Ae,Ae=null),Ae=Ke({},He.defaults,Ae||{}),be(Ae),Re){var ve=Ae.highlight,_e;try{_e=we.lex(Pe,Ae)}catch(We){return Re(We)}var Te=function(Oe){var Ue;if(!Oe)try{Ae.walkTokens&&He.walkTokens(_e,Ae.walkTokens),Ue=ae.parse(_e,Ae)}catch(Ye){Oe=Ye}return Ae.highlight=ve,Oe?Re(Oe):Re(null,Ue)};if(!ve||ve.length<3||(delete Ae.highlight,!_e.length))return Te();var Ee=0;He.walkTokens(_e,function(We){We.type==="code"&&(Ee++,setTimeout(function(){ve(We.text,We.lang,function(Oe,Ue){if(Oe)return Te(Oe);Ue!=null&&Ue!==We.text&&(We.text=Ue,We.escaped=!0),Ee--,Ee===0&&Te()})},0))}),Ee===0&&Te();return}try{var ye=we.lex(Pe,Ae);return Ae.walkTokens&&He.walkTokens(ye,Ae.walkTokens),ae.parse(ye,Ae)}catch(We){if(We.message+=`
Please report this to https://github.com/markedjs/marked.`,Ae.silent)return"<p>An error occurred:</p><pre>"+Ne(We.message+"",!0)+"</pre>";throw We}}He.options=He.setOptions=function(Pe){return Ke(He.defaults,Pe),$e(He.defaults),He},He.getDefaults=Be,He.defaults=je,He.use=function(){for(var Pe=this,Ae=arguments.length,Re=new Array(Ae),ve=0;ve<Ae;ve++)Re[ve]=arguments[ve];var _e=Ke.apply(void 0,[{}].concat(Re)),Te=He.defaults.extensions||{renderers:{},childTokens:{}},Ee;Re.forEach(function(ye){if(ye.extensions&&(Ee=!0,ye.extensions.forEach(function(Oe){if(!Oe.name)throw new Error("extension name required");if(Oe.renderer){var Ue=Te.renderers?Te.renderers[Oe.name]:null;Ue?Te.renderers[Oe.name]=function(){for(var Ye=arguments.length,Ge=new Array(Ye),Xe=0;Xe<Ye;Xe++)Ge[Xe]=arguments[Xe];var et=Oe.renderer.apply(this,Ge);return et===!1&&(et=Ue.apply(this,Ge)),et}:Te.renderers[Oe.name]=Oe.renderer}if(Oe.tokenizer){if(!Oe.level||Oe.level!=="block"&&Oe.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");Te[Oe.level]?Te[Oe.level].unshift(Oe.tokenizer):Te[Oe.level]=[Oe.tokenizer],Oe.start&&(Oe.level==="block"?Te.startBlock?Te.startBlock.push(Oe.start):Te.startBlock=[Oe.start]:Oe.level==="inline"&&(Te.startInline?Te.startInline.push(Oe.start):Te.startInline=[Oe.start]))}Oe.childTokens&&(Te.childTokens[Oe.name]=Oe.childTokens)})),ye.renderer&&function(){var Oe=He.defaults.renderer||new Ie,Ue=function(Xe){var et=Oe[Xe];Oe[Xe]=function(){for(var Ze=arguments.length,it=new Array(Ze),tt=0;tt<Ze;tt++)it[tt]=arguments[tt];var ot=ye.renderer[Xe].apply(Oe,it);return ot===!1&&(ot=et.apply(Oe,it)),ot}};for(var Ye in ye.renderer)Ue(Ye);_e.renderer=Oe}(),ye.tokenizer&&function(){var Oe=He.defaults.tokenizer||new me,Ue=function(Xe){var et=Oe[Xe];Oe[Xe]=function(){for(var Ze=arguments.length,it=new Array(Ze),tt=0;tt<Ze;tt++)it[tt]=arguments[tt];var ot=ye.tokenizer[Xe].apply(Oe,it);return ot===!1&&(ot=et.apply(Oe,it)),ot}};for(var Ye in ye.tokenizer)Ue(Ye);_e.tokenizer=Oe}(),ye.walkTokens){var We=He.defaults.walkTokens;_e.walkTokens=function(Oe){ye.walkTokens.call(Pe,Oe),We&&We(Oe)}}Ee&&(_e.extensions=Te),He.setOptions(_e)})},He.walkTokens=function(Pe,Ae){for(var Re=function(){var Ee=_e.value;switch(Ae(Ee),Ee.type){case"table":{for(var ye=M(Ee.header),We;!(We=ye()).done;){var Oe=We.value;He.walkTokens(Oe.tokens,Ae)}for(var Ue=M(Ee.rows),Ye;!(Ye=Ue()).done;)for(var Ge=Ye.value,Xe=M(Ge),et;!(et=Xe()).done;){var Ze=et.value;He.walkTokens(Ze.tokens,Ae)}break}case"list":{He.walkTokens(Ee.items,Ae);break}default:He.defaults.extensions&&He.defaults.extensions.childTokens&&He.defaults.extensions.childTokens[Ee.type]?He.defaults.extensions.childTokens[Ee.type].forEach(function(it){He.walkTokens(Ee[it],Ae)}):Ee.tokens&&He.walkTokens(Ee.tokens,Ae)}},ve=M(Pe),_e;!(_e=ve()).done;)Re()},He.parseInline=function(Pe,Ae){if(typeof Pe=="undefined"||Pe===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof Pe!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(Pe)+", string expected");Ae=Ke({},He.defaults,Ae||{}),be(Ae);try{var Re=we.lexInline(Pe,Ae);return Ae.walkTokens&&He.walkTokens(Re,Ae.walkTokens),ae.parseInline(Re,Ae)}catch(ve){if(ve.message+=`
Please report this to https://github.com/markedjs/marked.`,Ae.silent)return"<p>An error occurred:</p><pre>"+Ne(ve.message+"",!0)+"</pre>";throw ve}},He.Parser=ae,He.parser=ae.parse,He.Renderer=Ie,He.TextRenderer=Fe,He.Lexer=we,He.lexer=we.lex,He.Tokenizer=me,He.Slugger=ze,He.parse=He;var qe=He;return qe}),define(ee[311],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayNavigator=void 0;class L{constructor(M,E=0,g=M.length,S=E-1){this.items=M,this.start=E,this.end=g,this.index=S}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}e.ArrayNavigator=L}),define(ee[312],te([0,1,311]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryNavigator2=e.HistoryNavigator=void 0;class N{constructor(g=[],S=10){this._initialize(g),this._limit=S,this._onChange()}getHistory(){return this._elements}add(g){this._history.delete(g),this._history.add(g),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(g){return this._history.has(g)}clear(){this._initialize([]),this._onChange()}_onChange(){this._reduceToLimit();const g=this._elements;this._navigator=new L.ArrayNavigator(g,0,g.length,g.length)}_reduceToLimit(){const g=this._elements;g.length>this._limit&&this._initialize(g.slice(g.length-this._limit))}_currentPosition(){const g=this._navigator.current();return g?this._elements.indexOf(g):-1}_initialize(g){this._history=new Set;for(const S of g)this._history.add(S)}get _elements(){const g=[];return this._history.forEach(S=>g.push(S)),g}}e.HistoryNavigator=N;class M{constructor(g,S=10){if(this.capacity=S,g.length<1)throw new Error("not supported");this.size=1,this.head=this.tail=this.cursor={value:g[0],previous:void 0,next:void 0};for(let b=1;b<g.length;b++)this.add(g[b])}add(g){const S={value:g,previous:this.tail,next:void 0};for(this.tail.next=S,this.tail=S,this.cursor=this.tail,this.size++;this.size>this.capacity;)this.head=this.head.next,this.head.previous=void 0,this.size--}replaceLast(g){this.tail.value=g}isAtEnd(){return this.cursor===this.tail}current(){return this.cursor.value}previous(){return this.cursor.previous&&(this.cursor=this.cursor.previous),this.cursor.value}next(){return this.cursor.next&&(this.cursor=this.cursor.next),this.cursor.value}has(g){let S=this.head;for(;S;){if(S.value===g)return!0;S=S.next}return!1}resetCursor(){return this.cursor=this.tail,this.cursor.value}*[Symbol.iterator](){let g=this.head;for(;g;)yield g.value,g=g.next}}e.HistoryNavigator2=M}),define(ee[109],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MovingAverage=e.Counter=e.rot=e.clamp=void 0;function L(g,S,b){return Math.min(Math.max(g,S),b)}e.clamp=L;function N(g,S){return(S+g%S)%S}e.rot=N;class M{constructor(){this._next=0}getNext(){return this._next++}}e.Counter=M;class E{constructor(){this._n=1,this._val=0}update(S){return this._val=this._val+(S-this._val)/this._n,this._n+=1,this}get value(){return this._val}}e.MovingAverage=E}),function(){function Q(M){const E=[];typeof M=="number"&&E.push("code/timeOrigin",M);function g(b){E.push(b,Date.now())}function S(){const b=[];for(let p=0;p<E.length;p+=2)b.push({name:E[p],startTime:E[p+1]});return b}return{mark:g,getMarks:S}}function e(){if(typeof performance=="object"&&typeof performance.mark=="function"&&!performance.nodeTiming)return typeof performance.timeOrigin!="number"&&!performance.timing?Q():{mark(M){performance.mark(M)},getMarks(){let M=performance.timeOrigin;typeof M!="number"&&(M=performance.timing.navigationStart||performance.timing.redirectStart||performance.timing.fetchStart);const E=[{name:"code/timeOrigin",startTime:Math.round(M)}];for(const g of performance.getEntriesByType("mark"))E.push({name:g.name,startTime:Math.round(M+g.startTime)});return E}};if(typeof process=="object"){const M=Math.round((require.nodeRequire||require)("perf_hooks").performance.timeOrigin);return Q(M)}else return console.trace("perf-util loaded in UNKNOWN environment"),Q()}function L(M){return M.MonacoPerformanceMarks||(M.MonacoPerformanceMarks=e()),M.MonacoPerformanceMarks}var N;typeof global=="object"?N=global:typeof self=="object"?N=self:N={},typeof define=="function"?define("vs/base/common/performance",[],function(){return L(N)}):typeof module=="object"&&typeof module.exports=="object"?module.exports=L(N):(console.trace("perf-util defined in UNKNOWN context (neither requirejs or commonjs)"),N.perf=L(N))}(),define(ee[15],te([0,1]),function(Q,e){"use strict";var L;Object.defineProperty(e,"__esModule",{value:!0}),e.isLittleEndian=e.OS=e.setTimeout0=e.translationsConfigFile=e.locale=e.Language=e.language=e.userAgent=e.platform=e.isIOS=e.isWeb=e.isElectron=e.isNative=e.isLinuxSnap=e.isLinux=e.isMacintosh=e.isWindows=e.PlatformToString=e.isElectronSandboxed=e.globals=void 0;const N="en";let M=!1,E=!1,g=!1,S=!1,b=!1,p=!1,v=!1,i=!1,t,a=N,l,h;e.globals=typeof self=="object"?self:typeof global=="object"?global:{};let d;typeof e.globals.vscode!="undefined"&&typeof e.globals.vscode.process!="undefined"?d=e.globals.vscode.process:typeof process!="undefined"&&(d=process);const u=typeof((L=d==null?void 0:d.versions)===null||L===void 0?void 0:L.electron)=="string",n=u&&(d==null?void 0:d.type)==="renderer";if(e.isElectronSandboxed=n&&(d==null?void 0:d.sandboxed),typeof navigator=="object"&&!n)h=navigator.userAgent,M=h.indexOf("Windows")>=0,E=h.indexOf("Macintosh")>=0,i=(h.indexOf("Macintosh")>=0||h.indexOf("iPad")>=0||h.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,g=h.indexOf("Linux")>=0,p=!0,t=navigator.language,a=t;else if(typeof d=="object"){M=d.platform==="win32",E=d.platform==="darwin",g=d.platform==="linux",S=g&&!!d.env.SNAP&&!!d.env.SNAP_REVISION,v=u,t=N,a=N;const c=d.env.VSCODE_NLS_CONFIG;if(c)try{const C=JSON.parse(c),y=C.availableLanguages["*"];t=C.locale,a=y||N,l=C._translationsConfigFile}catch(C){}b=!0}else console.error("Unable to resolve platform.");function r(c){switch(c){case 0:return"Web";case 1:return"Mac";case 2:return"Linux";case 3:return"Windows"}}e.PlatformToString=r;let s=0;E?s=1:M?s=3:g&&(s=2),e.isWindows=M,e.isMacintosh=E,e.isLinux=g,e.isLinuxSnap=S,e.isNative=b,e.isElectron=v,e.isWeb=p,e.isIOS=i,e.platform=s,e.userAgent=h,e.language=a;var o;(function(c){function C(){return e.language}c.value=C;function y(){return e.language.length===2?e.language==="en":e.language.length>=3?e.language[0]==="e"&&e.language[1]==="n"&&e.language[2]==="-":!1}c.isDefaultVariant=y;function w(){return e.language==="en"}c.isDefault=w})(o=e.Language||(e.Language={})),e.locale=t,e.translationsConfigFile=l,e.setTimeout0=(()=>{if(typeof e.globals.postMessage=="function"&&!e.globals.importScripts){let c=[];e.globals.addEventListener("message",y=>{if(y.data&&y.data.vscodeScheduleAsyncWork)for(let w=0,D=c.length;w<D;w++){const I=c[w];if(I.id===y.data.vscodeScheduleAsyncWork){c.splice(w,1),I.callback();return}}});let C=0;return y=>{const w=++C;c.push({id:w,callback:y}),e.globals.postMessage({vscodeScheduleAsyncWork:w},"*")}}return c=>setTimeout(c)})(),e.OS=E||i?2:M?1:3;let m=!0,_=!1;function f(){if(!_){_=!0;const c=new Uint8Array(2);c[0]=1,c[1]=2,m=new Uint16Array(c.buffer)[0]===(2<<8)+1}return m}e.isLittleEndian=f}),define(ee[313],te([0,1,15]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.arch=e.platform=e.env=e.cwd=void 0;let N;if(typeof L.globals.vscode!="undefined"&&typeof L.globals.vscode.process!="undefined"){const M=L.globals.vscode.process;N={get platform(){return M.platform},get arch(){return M.arch},get env(){return M.env},cwd(){return M.cwd()}}}else typeof process!="undefined"?N={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:N={get platform(){return L.isWindows?"win32":L.isMacintosh?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};e.cwd=N.cwd,e.env=N.env,e.platform=N.platform,e.arch=N.arch}),define(ee[58],te([0,1,313]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.delimiter=e.sep=e.toNamespacedPath=e.parse=e.format=e.extname=e.basename=e.dirname=e.relative=e.resolve=e.join=e.isAbsolute=e.normalize=e.posix=e.win32=void 0;const N=65,M=97,E=90,g=122,S=46,b=47,p=92,v=58,i=63;class t extends Error{constructor(s,o,m){let _;typeof o=="string"&&o.indexOf("not ")===0?(_="must not be",o=o.replace(/^not /,"")):_="must be";const f=s.indexOf(".")!==-1?"property":"argument";let c=`The "${s}" ${f} ${_} of type ${o}`;c+=`. Received type ${typeof m}`,super(c),this.code="ERR_INVALID_ARG_TYPE"}}function a(r,s){if(typeof r!="string")throw new t(s,"string",r)}function l(r){return r===b||r===p}function h(r){return r===b}function d(r){return r>=N&&r<=E||r>=M&&r<=g}function u(r,s,o,m){let _="",f=0,c=-1,C=0,y=0;for(let w=0;w<=r.length;++w){if(w<r.length)y=r.charCodeAt(w);else{if(m(y))break;y=b}if(m(y)){if(!(c===w-1||C===1))if(C===2){if(_.length<2||f!==2||_.charCodeAt(_.length-1)!==S||_.charCodeAt(_.length-2)!==S){if(_.length>2){const D=_.lastIndexOf(o);D===-1?(_="",f=0):(_=_.slice(0,D),f=_.length-1-_.lastIndexOf(o)),c=w,C=0;continue}else if(_.length!==0){_="",f=0,c=w,C=0;continue}}s&&(_+=_.length>0?`${o}..`:"..",f=2)}else _.length>0?_+=`${o}${r.slice(c+1,w)}`:_=r.slice(c+1,w),f=w-c-1;c=w,C=0}else y===S&&C!==-1?++C:C=-1}return _}function n(r,s){if(s===null||typeof s!="object")throw new t("pathObject","Object",s);const o=s.dir||s.root,m=s.base||`${s.name||""}${s.ext||""}`;return o?o===s.root?`${o}${m}`:`${o}${r}${m}`:m}e.win32={resolve(...r){let s="",o="",m=!1;for(let _=r.length-1;_>=-1;_--){let f;if(_>=0){if(f=r[_],a(f,"path"),f.length===0)continue}else s.length===0?f=L.cwd():(f=L.env[`=${s}`]||L.cwd(),(f===void 0||f.slice(0,2).toLowerCase()!==s.toLowerCase()&&f.charCodeAt(2)===p)&&(f=`${s}\\`));const c=f.length;let C=0,y="",w=!1;const D=f.charCodeAt(0);if(c===1)l(D)&&(C=1,w=!0);else if(l(D))if(w=!0,l(f.charCodeAt(1))){let I=2,T=I;for(;I<c&&!l(f.charCodeAt(I));)I++;if(I<c&&I!==T){const F=f.slice(T,I);for(T=I;I<c&&l(f.charCodeAt(I));)I++;if(I<c&&I!==T){for(T=I;I<c&&!l(f.charCodeAt(I));)I++;(I===c||I!==T)&&(y=`\\\\${F}\\${f.slice(T,I)}`,C=I)}}}else C=1;else d(D)&&f.charCodeAt(1)===v&&(y=f.slice(0,2),C=2,c>2&&l(f.charCodeAt(2))&&(w=!0,C=3));if(y.length>0)if(s.length>0){if(y.toLowerCase()!==s.toLowerCase())continue}else s=y;if(m){if(s.length>0)break}else if(o=`${f.slice(C)}\\${o}`,m=w,w&&s.length>0)break}return o=u(o,!m,"\\",l),m?`${s}\\${o}`:`${s}${o}`||"."},normalize(r){a(r,"path");const s=r.length;if(s===0)return".";let o=0,m,_=!1;const f=r.charCodeAt(0);if(s===1)return h(f)?"\\":r;if(l(f))if(_=!0,l(r.charCodeAt(1))){let C=2,y=C;for(;C<s&&!l(r.charCodeAt(C));)C++;if(C<s&&C!==y){const w=r.slice(y,C);for(y=C;C<s&&l(r.charCodeAt(C));)C++;if(C<s&&C!==y){for(y=C;C<s&&!l(r.charCodeAt(C));)C++;if(C===s)return`\\\\${w}\\${r.slice(y)}\\`;C!==y&&(m=`\\\\${w}\\${r.slice(y,C)}`,o=C)}}}else o=1;else d(f)&&r.charCodeAt(1)===v&&(m=r.slice(0,2),o=2,s>2&&l(r.charCodeAt(2))&&(_=!0,o=3));let c=o<s?u(r.slice(o),!_,"\\",l):"";return c.length===0&&!_&&(c="."),c.length>0&&l(r.charCodeAt(s-1))&&(c+="\\"),m===void 0?_?`\\${c}`:c:_?`${m}\\${c}`:`${m}${c}`},isAbsolute(r){a(r,"path");const s=r.length;if(s===0)return!1;const o=r.charCodeAt(0);return l(o)||s>2&&d(o)&&r.charCodeAt(1)===v&&l(r.charCodeAt(2))},join(...r){if(r.length===0)return".";let s,o;for(let f=0;f<r.length;++f){const c=r[f];a(c,"path"),c.length>0&&(s===void 0?s=o=c:s+=`\\${c}`)}if(s===void 0)return".";let m=!0,_=0;if(typeof o=="string"&&l(o.charCodeAt(0))){++_;const f=o.length;f>1&&l(o.charCodeAt(1))&&(++_,f>2&&(l(o.charCodeAt(2))?++_:m=!1))}if(m){for(;_<s.length&&l(s.charCodeAt(_));)_++;_>=2&&(s=`\\${s.slice(_)}`)}return e.win32.normalize(s)},relative(r,s){if(a(r,"from"),a(s,"to"),r===s)return"";const o=e.win32.resolve(r),m=e.win32.resolve(s);if(o===m||(r=o.toLowerCase(),s=m.toLowerCase(),r===s))return"";let _=0;for(;_<r.length&&r.charCodeAt(_)===p;)_++;let f=r.length;for(;f-1>_&&r.charCodeAt(f-1)===p;)f--;const c=f-_;let C=0;for(;C<s.length&&s.charCodeAt(C)===p;)C++;let y=s.length;for(;y-1>C&&s.charCodeAt(y-1)===p;)y--;const w=y-C,D=c<w?c:w;let I=-1,T=0;for(;T<D;T++){const P=r.charCodeAt(_+T);if(P!==s.charCodeAt(C+T))break;P===p&&(I=T)}if(T!==D){if(I===-1)return m}else{if(w>D){if(s.charCodeAt(C+T)===p)return m.slice(C+T+1);if(T===2)return m.slice(C+T)}c>D&&(r.charCodeAt(_+T)===p?I=T:T===2&&(I=3)),I===-1&&(I=0)}let F="";for(T=_+I+1;T<=f;++T)(T===f||r.charCodeAt(T)===p)&&(F+=F.length===0?"..":"\\..");return C+=I,F.length>0?`${F}${m.slice(C,y)}`:(m.charCodeAt(C)===p&&++C,m.slice(C,y))},toNamespacedPath(r){if(typeof r!="string")return r;if(r.length===0)return"";const s=e.win32.resolve(r);if(s.length<=2)return r;if(s.charCodeAt(0)===p){if(s.charCodeAt(1)===p){const o=s.charCodeAt(2);if(o!==i&&o!==S)return`\\\\?\\UNC\\${s.slice(2)}`}}else if(d(s.charCodeAt(0))&&s.charCodeAt(1)===v&&s.charCodeAt(2)===p)return`\\\\?\\${s}`;return r},dirname(r){a(r,"path");const s=r.length;if(s===0)return".";let o=-1,m=0;const _=r.charCodeAt(0);if(s===1)return l(_)?r:".";if(l(_)){if(o=m=1,l(r.charCodeAt(1))){let C=2,y=C;for(;C<s&&!l(r.charCodeAt(C));)C++;if(C<s&&C!==y){for(y=C;C<s&&l(r.charCodeAt(C));)C++;if(C<s&&C!==y){for(y=C;C<s&&!l(r.charCodeAt(C));)C++;if(C===s)return r;C!==y&&(o=m=C+1)}}}}else d(_)&&r.charCodeAt(1)===v&&(o=s>2&&l(r.charCodeAt(2))?3:2,m=o);let f=-1,c=!0;for(let C=s-1;C>=m;--C)if(l(r.charCodeAt(C))){if(!c){f=C;break}}else c=!1;if(f===-1){if(o===-1)return".";f=o}return r.slice(0,f)},basename(r,s){s!==void 0&&a(s,"ext"),a(r,"path");let o=0,m=-1,_=!0,f;if(r.length>=2&&d(r.charCodeAt(0))&&r.charCodeAt(1)===v&&(o=2),s!==void 0&&s.length>0&&s.length<=r.length){if(s===r)return"";let c=s.length-1,C=-1;for(f=r.length-1;f>=o;--f){const y=r.charCodeAt(f);if(l(y)){if(!_){o=f+1;break}}else C===-1&&(_=!1,C=f+1),c>=0&&(y===s.charCodeAt(c)?--c==-1&&(m=f):(c=-1,m=C))}return o===m?m=C:m===-1&&(m=r.length),r.slice(o,m)}for(f=r.length-1;f>=o;--f)if(l(r.charCodeAt(f))){if(!_){o=f+1;break}}else m===-1&&(_=!1,m=f+1);return m===-1?"":r.slice(o,m)},extname(r){a(r,"path");let s=0,o=-1,m=0,_=-1,f=!0,c=0;r.length>=2&&r.charCodeAt(1)===v&&d(r.charCodeAt(0))&&(s=m=2);for(let C=r.length-1;C>=s;--C){const y=r.charCodeAt(C);if(l(y)){if(!f){m=C+1;break}continue}_===-1&&(f=!1,_=C+1),y===S?o===-1?o=C:c!==1&&(c=1):o!==-1&&(c=-1)}return o===-1||_===-1||c===0||c===1&&o===_-1&&o===m+1?"":r.slice(o,_)},format:n.bind(null,"\\"),parse(r){a(r,"path");const s={root:"",dir:"",base:"",ext:"",name:""};if(r.length===0)return s;const o=r.length;let m=0,_=r.charCodeAt(0);if(o===1)return l(_)?(s.root=s.dir=r,s):(s.base=s.name=r,s);if(l(_)){if(m=1,l(r.charCodeAt(1))){let I=2,T=I;for(;I<o&&!l(r.charCodeAt(I));)I++;if(I<o&&I!==T){for(T=I;I<o&&l(r.charCodeAt(I));)I++;if(I<o&&I!==T){for(T=I;I<o&&!l(r.charCodeAt(I));)I++;I===o?m=I:I!==T&&(m=I+1)}}}}else if(d(_)&&r.charCodeAt(1)===v){if(o<=2)return s.root=s.dir=r,s;if(m=2,l(r.charCodeAt(2))){if(o===3)return s.root=s.dir=r,s;m=3}}m>0&&(s.root=r.slice(0,m));let f=-1,c=m,C=-1,y=!0,w=r.length-1,D=0;for(;w>=m;--w){if(_=r.charCodeAt(w),l(_)){if(!y){c=w+1;break}continue}C===-1&&(y=!1,C=w+1),_===S?f===-1?f=w:D!==1&&(D=1):f!==-1&&(D=-1)}return C!==-1&&(f===-1||D===0||D===1&&f===C-1&&f===c+1?s.base=s.name=r.slice(c,C):(s.name=r.slice(c,f),s.base=r.slice(c,C),s.ext=r.slice(f,C))),c>0&&c!==m?s.dir=r.slice(0,c-1):s.dir=s.root,s},sep:"\\",delimiter:";",win32:null,posix:null},e.posix={resolve(...r){let s="",o=!1;for(let m=r.length-1;m>=-1&&!o;m--){const _=m>=0?r[m]:L.cwd();a(_,"path"),_.length!==0&&(s=`${_}/${s}`,o=_.charCodeAt(0)===b)}return s=u(s,!o,"/",h),o?`/${s}`:s.length>0?s:"."},normalize(r){if(a(r,"path"),r.length===0)return".";const s=r.charCodeAt(0)===b,o=r.charCodeAt(r.length-1)===b;return r=u(r,!s,"/",h),r.length===0?s?"/":o?"./":".":(o&&(r+="/"),s?`/${r}`:r)},isAbsolute(r){return a(r,"path"),r.length>0&&r.charCodeAt(0)===b},join(...r){if(r.length===0)return".";let s;for(let o=0;o<r.length;++o){const m=r[o];a(m,"path"),m.length>0&&(s===void 0?s=m:s+=`/${m}`)}return s===void 0?".":e.posix.normalize(s)},relative(r,s){if(a(r,"from"),a(s,"to"),r===s||(r=e.posix.resolve(r),s=e.posix.resolve(s),r===s))return"";const o=1,m=r.length,_=m-o,f=1,c=s.length-f,C=_<c?_:c;let y=-1,w=0;for(;w<C;w++){const I=r.charCodeAt(o+w);if(I!==s.charCodeAt(f+w))break;I===b&&(y=w)}if(w===C)if(c>C){if(s.charCodeAt(f+w)===b)return s.slice(f+w+1);if(w===0)return s.slice(f+w)}else _>C&&(r.charCodeAt(o+w)===b?y=w:w===0&&(y=0));let D="";for(w=o+y+1;w<=m;++w)(w===m||r.charCodeAt(w)===b)&&(D+=D.length===0?"..":"/..");return`${D}${s.slice(f+y)}`},toNamespacedPath(r){return r},dirname(r){if(a(r,"path"),r.length===0)return".";const s=r.charCodeAt(0)===b;let o=-1,m=!0;for(let _=r.length-1;_>=1;--_)if(r.charCodeAt(_)===b){if(!m){o=_;break}}else m=!1;return o===-1?s?"/":".":s&&o===1?"//":r.slice(0,o)},basename(r,s){s!==void 0&&a(s,"ext"),a(r,"path");let o=0,m=-1,_=!0,f;if(s!==void 0&&s.length>0&&s.length<=r.length){if(s===r)return"";let c=s.length-1,C=-1;for(f=r.length-1;f>=0;--f){const y=r.charCodeAt(f);if(y===b){if(!_){o=f+1;break}}else C===-1&&(_=!1,C=f+1),c>=0&&(y===s.charCodeAt(c)?--c==-1&&(m=f):(c=-1,m=C))}return o===m?m=C:m===-1&&(m=r.length),r.slice(o,m)}for(f=r.length-1;f>=0;--f)if(r.charCodeAt(f)===b){if(!_){o=f+1;break}}else m===-1&&(_=!1,m=f+1);return m===-1?"":r.slice(o,m)},extname(r){a(r,"path");let s=-1,o=0,m=-1,_=!0,f=0;for(let c=r.length-1;c>=0;--c){const C=r.charCodeAt(c);if(C===b){if(!_){o=c+1;break}continue}m===-1&&(_=!1,m=c+1),C===S?s===-1?s=c:f!==1&&(f=1):s!==-1&&(f=-1)}return s===-1||m===-1||f===0||f===1&&s===m-1&&s===o+1?"":r.slice(s,m)},format:n.bind(null,"/"),parse(r){a(r,"path");const s={root:"",dir:"",base:"",ext:"",name:""};if(r.length===0)return s;const o=r.charCodeAt(0)===b;let m;o?(s.root="/",m=1):m=0;let _=-1,f=0,c=-1,C=!0,y=r.length-1,w=0;for(;y>=m;--y){const D=r.charCodeAt(y);if(D===b){if(!C){f=y+1;break}continue}c===-1&&(C=!1,c=y+1),D===S?_===-1?_=y:w!==1&&(w=1):_!==-1&&(w=-1)}if(c!==-1){const D=f===0&&o?1:f;_===-1||w===0||w===1&&_===c-1&&_===f+1?s.base=s.name=r.slice(D,c):(s.name=r.slice(D,_),s.base=r.slice(D,c),s.ext=r.slice(_,c))}return f>0?s.dir=r.slice(0,f-1):o&&(s.dir="/"),s},sep:"/",delimiter:":",win32:null,posix:null},e.posix.win32=e.win32.win32=e.win32,e.posix.posix=e.win32.posix=e.posix,e.normalize=L.platform==="win32"?e.win32.normalize:e.posix.normalize,e.isAbsolute=L.platform==="win32"?e.win32.isAbsolute:e.posix.isAbsolute,e.join=L.platform==="win32"?e.win32.join:e.posix.join,e.resolve=L.platform==="win32"?e.win32.resolve:e.posix.resolve,e.relative=L.platform==="win32"?e.win32.relative:e.posix.relative,e.dirname=L.platform==="win32"?e.win32.dirname:e.posix.dirname,e.basename=L.platform==="win32"?e.win32.basename:e.posix.basename,e.extname=L.platform==="win32"?e.win32.extname:e.posix.extname,e.format=L.platform==="win32"?e.win32.format:e.posix.format,e.parse=L.platform==="win32"?e.win32.parse:e.posix.parse,e.toNamespacedPath=L.platform==="win32"?e.win32.toNamespacedPath:e.posix.toNamespacedPath,e.sep=L.platform==="win32"?e.win32.sep:e.posix.sep,e.delimiter=L.platform==="win32"?e.win32.delimiter:e.posix.delimiter}),define(ee[135],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;var L;(function(N){function M(b,p){if(b.start>=p.end||p.start>=b.end)return{start:0,end:0};const v=Math.max(b.start,p.start),i=Math.min(b.end,p.end);return i-v<=0?{start:0,end:0}:{start:v,end:i}}N.intersect=M;function E(b){return b.end-b.start<=0}N.isEmpty=E;function g(b,p){return!E(M(b,p))}N.intersects=g;function S(b,p){const v=[],i={start:b.start,end:Math.min(p.start,b.end)},t={start:Math.max(p.end,b.start),end:b.end};return E(i)||v.push(i),E(t)||v.push(t),v}N.relativeComplement=S})(L=e.Range||(e.Range={}))}),define(ee[314],te([0,1,135]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeMap=e.consolidate=e.shift=e.groupIntersect=void 0;function N(b,p){const v=[];for(let i of p){if(b.start>=i.range.end)continue;if(b.end<i.range.start)break;const t=L.Range.intersect(b,i.range);L.Range.isEmpty(t)||v.push({range:t,size:i.size})}return v}e.groupIntersect=N;function M({start:b,end:p},v){return{start:b+v,end:p+v}}e.shift=M;function E(b){const p=[];let v=null;for(let i of b){const t=i.range.start,a=i.range.end,l=i.size;if(v&&l===v.size){v.range.end=a;continue}v={range:{start:t,end:a},size:l},p.push(v)}return p}e.consolidate=E;function g(...b){return E(b.reduce((p,v)=>p.concat(v),[]))}class S{constructor(){this.groups=[],this._size=0}splice(p,v,i=[]){const t=i.length-v,a=N({start:0,end:p},this.groups),l=N({start:p+v,end:Number.POSITIVE_INFINITY},this.groups).map(d=>({range:M(d.range,t),size:d.size})),h=i.map((d,u)=>({range:{start:p+u,end:p+u+1},size:d.size}));this.groups=g(a,h,l),this._size=this.groups.reduce((d,u)=>d+u.size*(u.range.end-u.range.start),0)}get count(){const p=this.groups.length;return p?this.groups[p-1].range.end:0}get size(){return this._size}indexAt(p){if(p<0)return-1;let v=0,i=0;for(let t of this.groups){const a=t.range.end-t.range.start,l=i+a*t.size;if(p<l)return v+Math.floor((p-i)/t.size);v+=a,i=l}return v}indexAfter(p){return Math.min(this.indexAt(p)+1,this.count)}positionAt(p){if(p<0)return-1;let v=0,i=0;for(let t of this.groups){const a=t.range.end-t.range.start,l=i+a;if(p<l)return v+(p-i)*t.size;v+=a*t.size,i=l}return-1}}e.RangeMap=S}),define(ee[87],te([0,1,15]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StopWatch=void 0;const N=L.globals.performance&&typeof L.globals.performance.now=="function";class M{constructor(g){this._highResolution=N&&g,this._startTime=this._now(),this._stopTime=-1}static create(g=!0){return new M(g)}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?L.globals.performance.now():Date.now()}}e.StopWatch=M}),define(ee[4],te([0,1,12,79,2,80,87]),function(Q,e,L,N,M,E,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Relay=e.EventBufferer=e.EventMultiplexer=e.MicrotaskEmitter=e.DebounceEmitter=e.PauseableEmitter=e.AsyncEmitter=e.Emitter=e.setGlobalLeakWarningThreshold=e.Event=void 0;var S;(function(s){s.None=()=>M.Disposable.None;function o(V){return(B,x=null,K)=>{let X=!1,Z;return Z=V(q=>{if(!X)return Z?Z.dispose():X=!0,B.call(x,q)},null,K),X&&Z.dispose(),Z}}s.once=o;function m(V,B){return w((x,K=null,X)=>V(Z=>x.call(K,B(Z)),null,X))}s.map=m;function _(V,B){return w((x,K=null,X)=>V(Z=>{B(Z),x.call(K,Z)},null,X))}s.forEach=_;function f(V,B){return w((x,K=null,X)=>V(Z=>B(Z)&&x.call(K,Z),null,X))}s.filter=f;function c(V){return V}s.signal=c;function C(...V){return(B,x=null,K)=>(0,M.combinedDisposable)(...V.map(X=>X(Z=>B.call(x,Z),null,K)))}s.any=C;function y(V,B,x){let K=x;return m(V,X=>(K=B(K,X),K))}s.reduce=y;function w(V){let B;const x=new t({onFirstListenerAdd(){B=V(x.fire,x)},onLastListenerRemove(){B.dispose()}});return x.event}function D(V,B,x=100,K=!1,X){let Z,q,H,G=0;const z=new t({leakWarningThreshold:X,onFirstListenerAdd(){Z=V(W=>{G++,q=B(q,W),K&&!H&&(z.fire(q),q=void 0),clearTimeout(H),H=setTimeout(()=>{const j=q;q=void 0,H=void 0,(!K||G>1)&&z.fire(j),G=0},x)})},onLastListenerRemove(){Z.dispose()}});return z.event}s.debounce=D;function I(V,B=(x,K)=>x===K){let x=!0,K;return f(V,X=>{const Z=x||!B(X,K);return x=!1,K=X,Z})}s.latch=I;function T(V,B){return[s.filter(V,B),s.filter(V,x=>!B(x))]}s.split=T;function F(V,B=!1,x=[]){let K=x.slice(),X=V(H=>{K?K.push(H):q.fire(H)});const Z=()=>{K&&K.forEach(H=>q.fire(H)),K=null},q=new t({onFirstListenerAdd(){X||(X=V(H=>q.fire(H)))},onFirstListenerDidAdd(){K&&(B?setTimeout(Z):Z())},onLastListenerRemove(){X&&X.dispose(),X=null}});return q.event}s.buffer=F;class P{constructor(B){this.event=B}map(B){return new P(m(this.event,B))}forEach(B){return new P(_(this.event,B))}filter(B){return new P(f(this.event,B))}reduce(B,x){return new P(y(this.event,B,x))}latch(){return new P(I(this.event))}debounce(B,x=100,K=!1,X){return new P(D(this.event,B,x,K,X))}on(B,x,K){return this.event(B,x,K)}once(B,x,K){return o(this.event)(B,x,K)}}function R(V){return new P(V)}s.chain=R;function A(V,B,x=K=>K){const K=(...H)=>q.fire(x(...H)),X=()=>V.on(B,K),Z=()=>V.removeListener(B,K),q=new t({onFirstListenerAdd:X,onLastListenerRemove:Z});return q.event}s.fromNodeEventEmitter=A;function O(V,B,x=K=>K){const K=(...H)=>q.fire(x(...H)),X=()=>V.addEventListener(B,K),Z=()=>V.removeEventListener(B,K),q=new t({onFirstListenerAdd:X,onLastListenerRemove:Z});return q.event}s.fromDOMEventEmitter=O;function k(V){return new Promise(B=>o(V)(B))}s.toPromise=k})(S=e.Event||(e.Event={}));class b{constructor(o){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${o}_${b._idPool++}`}start(o){this._stopWatch=new g.StopWatch(!0),this._listenerCount=o}stop(){if(this._stopWatch){const o=this._stopWatch.elapsed();this._elapsedOverall+=o,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${o.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}b._idPool=0;let p=-1;function v(s){const o=p;return p=s,{dispose(){p=o}}}e.setGlobalLeakWarningThreshold=v;class i{constructor(o,m=Math.random().toString(18).slice(2,5)){this.customThreshold=o,this.name=m,this._warnCountdown=0}dispose(){this._stacks&&this._stacks.clear()}check(o){let m=p;if(typeof this.customThreshold=="number"&&(m=this.customThreshold),m<=0||o<m)return;this._stacks||(this._stacks=new Map);const _=new Error().stack.split(`
`).slice(3).join(`
`),f=this._stacks.get(_)||0;if(this._stacks.set(_,f+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=m*.5;let c,C=0;for(const[y,w]of this._stacks)(!c||C<w)&&(c=y,C=w);console.warn(`[${this.name}] potential listener LEAK detected, having ${o} listeners already. MOST frequent listener (${C}):`),console.warn(c)}return()=>{const c=this._stacks.get(_)||0;this._stacks.set(_,c-1)}}}class t{constructor(o){var m;this._disposed=!1,this._options=o,this._leakageMon=p>0?new i(this._options&&this._options.leakWarningThreshold):void 0,this._perfMon=((m=this._options)===null||m===void 0?void 0:m._profName)?new b(this._options._profName):void 0}get event(){return this._event||(this._event=(o,m,_)=>{var f;this._listeners||(this._listeners=new E.LinkedList);const c=this._listeners.isEmpty();c&&this._options&&this._options.onFirstListenerAdd&&this._options.onFirstListenerAdd(this);const C=this._listeners.push(m?[o,m]:o);c&&this._options&&this._options.onFirstListenerDidAdd&&this._options.onFirstListenerDidAdd(this),this._options&&this._options.onListenerDidAdd&&this._options.onListenerDidAdd(this,o,m);const y=(f=this._leakageMon)===null||f===void 0?void 0:f.check(this._listeners.size),w=(0,M.toDisposable)(()=>{y&&y(),this._disposed||(C(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))});return _ instanceof M.DisposableStore?_.add(w):Array.isArray(_)&&_.push(w),w}),this._event}fire(o){var m,_;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new E.LinkedList);for(let f of this._listeners)this._deliveryQueue.push([f,o]);for((m=this._perfMon)===null||m===void 0||m.start(this._deliveryQueue.size);this._deliveryQueue.size>0;){const[f,c]=this._deliveryQueue.shift();try{typeof f=="function"?f.call(void 0,c):f[0].call(f[1],c)}catch(C){(0,L.onUnexpectedError)(C)}}(_=this._perfMon)===null||_===void 0||_.stop()}}dispose(){var o,m,_,f,c;this._disposed||(this._disposed=!0,(o=this._listeners)===null||o===void 0||o.clear(),(m=this._deliveryQueue)===null||m===void 0||m.clear(),(f=(_=this._options)===null||_===void 0?void 0:_.onLastListenerRemove)===null||f===void 0||f.call(_),(c=this._leakageMon)===null||c===void 0||c.dispose())}}e.Emitter=t;class a extends t{fireAsync(o,m,_){return Me(this,void 0,void 0,function*(){if(!!this._listeners){this._asyncDeliveryQueue||(this._asyncDeliveryQueue=new E.LinkedList);for(const f of this._listeners)this._asyncDeliveryQueue.push([f,o]);for(;this._asyncDeliveryQueue.size>0&&!m.isCancellationRequested;){const[f,c]=this._asyncDeliveryQueue.shift(),C=[],y=Object.assign(Object.assign({},c),{waitUntil:w=>{if(Object.isFrozen(C))throw new Error("waitUntil can NOT be called asynchronous");_&&(w=_(w,typeof f=="function"?f:f[0])),C.push(w)}});try{typeof f=="function"?f.call(void 0,y):f[0].call(f[1],y)}catch(w){(0,L.onUnexpectedError)(w);continue}Object.freeze(C),yield Promise.allSettled(C).then(w=>{for(const D of w)D.status==="rejected"&&(0,L.onUnexpectedError)(D.reason)})}}})}}e.AsyncEmitter=a;class l extends t{constructor(o){super(o);this._isPaused=0,this._eventQueue=new E.LinkedList,this._mergeFn=o==null?void 0:o.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused==0)if(this._mergeFn){const o=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(o))}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(o){this._listeners&&(this._isPaused!==0?this._eventQueue.push(o):super.fire(o))}}e.PauseableEmitter=l;class h extends l{constructor(o){var m;super(o);this._delay=(m=o.delay)!==null&&m!==void 0?m:100}fire(o){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(o)}}e.DebounceEmitter=h;class d extends t{constructor(o){super(o);this._queuedEvents=[],this._mergeFn=o==null?void 0:o.merge}fire(o){this._queuedEvents.push(o),this._queuedEvents.length===1&&queueMicrotask(()=>{this._mergeFn?super.fire(this._mergeFn(this._queuedEvents)):this._queuedEvents.forEach(m=>super.fire(m)),this._queuedEvents=[]})}}e.MicrotaskEmitter=d;class u{constructor(){this.hasListeners=!1,this.events=[],this.emitter=new t({onFirstListenerAdd:()=>this.onFirstListenerAdd(),onLastListenerRemove:()=>this.onLastListenerRemove()})}get event(){return this.emitter.event}add(o){const m={event:o,listener:null};this.events.push(m),this.hasListeners&&this.hook(m);const _=()=>{this.hasListeners&&this.unhook(m);const f=this.events.indexOf(m);this.events.splice(f,1)};return(0,M.toDisposable)((0,N.once)(_))}onFirstListenerAdd(){this.hasListeners=!0,this.events.forEach(o=>this.hook(o))}onLastListenerRemove(){this.hasListeners=!1,this.events.forEach(o=>this.unhook(o))}hook(o){o.listener=o.event(m=>this.emitter.fire(m))}unhook(o){o.listener&&o.listener.dispose(),o.listener=null}dispose(){this.emitter.dispose()}}e.EventMultiplexer=u;class n{constructor(){this.buffers=[]}wrapEvent(o){return(m,_,f)=>o(c=>{const C=this.buffers[this.buffers.length-1];C?C.push(()=>m.call(_,c)):m.call(_,c)},void 0,f)}bufferEvents(o){const m=[];this.buffers.push(m);const _=o();return this.buffers.pop(),m.forEach(f=>f()),_}}e.EventBufferer=n;class r{constructor(){this.listening=!1,this.inputEvent=S.None,this.inputEventListener=M.Disposable.None,this.emitter=new t({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(o){this.inputEvent=o,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=o(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}e.Relay=r}),define(ee[36],te([0,1,4]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isStandalone=e.isAndroid=e.isElectron=e.isEdgeLegacyWebView=e.isWebkitWebView=e.isSafari=e.isChrome=e.isWebKit=e.isFirefox=e.onDidChangeFullscreen=e.isFullscreen=e.setFullscreen=e.getPixelRatio=e.setZoomFactor=e.getZoomFactor=e.onDidChangeZoomLevel=e.getTimeSinceLastZoomLevelChanged=e.getZoomLevel=e.setZoomLevel=void 0;class N{constructor(){this._zoomLevel=0,this._lastZoomLevelChangeTime=0,this._onDidChangeZoomLevel=new L.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event,this._zoomFactor=1,this._fullscreen=!1,this._onDidChangeFullscreen=new L.Emitter,this.onDidChangeFullscreen=this._onDidChangeFullscreen.event}getZoomLevel(){return this._zoomLevel}getTimeSinceLastZoomLevelChanged(){return Date.now()-this._lastZoomLevelChangeTime}setZoomLevel(h,d){this._zoomLevel!==h&&(this._zoomLevel=h,this._lastZoomLevelChangeTime=d?0:Date.now(),this._onDidChangeZoomLevel.fire(this._zoomLevel))}getZoomFactor(){return this._zoomFactor}setZoomFactor(h){this._zoomFactor=h}getPixelRatio(){let h=document.createElement("canvas").getContext("2d"),d=window.devicePixelRatio||1,u=h.webkitBackingStorePixelRatio||h.mozBackingStorePixelRatio||h.msBackingStorePixelRatio||h.oBackingStorePixelRatio||h.backingStorePixelRatio||1;return d/u}setFullscreen(h){this._fullscreen!==h&&(this._fullscreen=h,this._onDidChangeFullscreen.fire())}isFullscreen(){return this._fullscreen}}N.INSTANCE=new N;function M(l,h){N.INSTANCE.setZoomLevel(l,h)}e.setZoomLevel=M;function E(){return N.INSTANCE.getZoomLevel()}e.getZoomLevel=E;function g(){return N.INSTANCE.getTimeSinceLastZoomLevelChanged()}e.getTimeSinceLastZoomLevelChanged=g;function S(l){return N.INSTANCE.onDidChangeZoomLevel(l)}e.onDidChangeZoomLevel=S;function b(){return N.INSTANCE.getZoomFactor()}e.getZoomFactor=b;function p(l){N.INSTANCE.setZoomFactor(l)}e.setZoomFactor=p;function v(){return N.INSTANCE.getPixelRatio()}e.getPixelRatio=v;function i(l){N.INSTANCE.setFullscreen(l)}e.setFullscreen=i;function t(){return N.INSTANCE.isFullscreen()}e.isFullscreen=t,e.onDidChangeFullscreen=N.INSTANCE.onDidChangeFullscreen;const a=navigator.userAgent;e.isFirefox=a.indexOf("Firefox")>=0,e.isWebKit=a.indexOf("AppleWebKit")>=0,e.isChrome=a.indexOf("Chrome")>=0,e.isSafari=!e.isChrome&&a.indexOf("Safari")>=0,e.isWebkitWebView=!e.isChrome&&!e.isSafari&&e.isWebKit,e.isEdgeLegacyWebView=a.indexOf("Edge/")>=0&&a.indexOf("WebView/")>=0,e.isElectron=a.indexOf("Electron/")>=0,e.isAndroid=a.indexOf("Android")>=0,e.isStandalone=window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches}),define(ee[169],te([0,1,36,15]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserFeatures=void 0,e.BrowserFeatures={clipboard:{writeText:N.isNative||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:N.isNative||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:(()=>N.isNative||L.isStandalone?0:navigator.keyboard||L.isSafari?1:2)(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}}),define(ee[81],te([0,1,4]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stop=e.stopEvent=e.DomEmitter=void 0;class N{constructor(S,b,p){const v=i=>this.emitter.fire(i);this.emitter=new L.Emitter({onFirstListenerAdd:()=>S.addEventListener(b,v,p),onLastListenerRemove:()=>S.removeEventListener(b,v,p)})}get event(){return this.emitter.event}dispose(){this.emitter.dispose()}}e.DomEmitter=N;function M(g){return g.preventDefault(),g.stopPropagation(),g}e.stopEvent=M;function E(g){return L.Event.map(g,M)}e.stop=E}),define(ee[44],te([0,1,36,56,97,15]),function(Q,e,L,N,M,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardKeyboardEvent=e.printStandardKeyboardEvent=e.printKeyboardEvent=void 0;function g(l){if(l.charCode){let d=String.fromCharCode(l.charCode).toUpperCase();return N.KeyCodeUtils.fromString(d)}const h=l.keyCode;if(h===3)return 7;if(L.isFirefox){if(h===59)return 80;if(h===107)return 81;if(h===109)return 83;if(E.isMacintosh&&h===224)return 57}else if(L.isWebKit){if(h===91)return 57;if(E.isMacintosh&&h===93)return 57;if(!E.isMacintosh&&h===92)return 57}return N.EVENT_KEY_CODE_MAP[h]||0}const S=E.isMacintosh?256:2048,b=512,p=1024,v=E.isMacintosh?2048:256;function i(l){let h=[];return l.ctrlKey&&h.push("ctrl"),l.shiftKey&&h.push("shift"),l.altKey&&h.push("alt"),l.metaKey&&h.push("meta"),`modifiers: [${h.join(",")}], code: ${l.code}, keyCode: ${l.keyCode}, key: ${l.key}`}e.printKeyboardEvent=i;function t(l){let h=[];return l.ctrlKey&&h.push("ctrl"),l.shiftKey&&h.push("shift"),l.altKey&&h.push("alt"),l.metaKey&&h.push("meta"),`modifiers: [${h.join(",")}], code: ${l.code}, keyCode: ${l.keyCode} ('${N.KeyCodeUtils.toString(l.keyCode)}')`}e.printStandardKeyboardEvent=t;class a{constructor(h){this._standardKeyboardEventBrand=!0;let d=h;this.browserEvent=d,this.target=d.target,this.ctrlKey=d.ctrlKey,this.shiftKey=d.shiftKey,this.altKey=d.altKey,this.metaKey=d.metaKey,this.keyCode=g(d),this.code=d.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(h){return this._asKeybinding===h}_computeKeybinding(){let h=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(h=this.keyCode);let d=0;return this.ctrlKey&&(d|=S),this.altKey&&(d|=b),this.shiftKey&&(d|=p),this.metaKey&&(d|=v),d|=h,d}_computeRuntimeKeybinding(){let h=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(h=this.keyCode),new M.SimpleKeybinding(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,h)}}e.StandardKeyboardEvent=a}),define(ee[59],te([0,1,36,207,15]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardWheelEvent=e.DragMouseEvent=e.StandardMouseEvent=void 0;class E{constructor(p){this.timestamp=Date.now(),this.browserEvent=p,this.leftButton=p.button===0,this.middleButton=p.button===1,this.rightButton=p.button===2,this.buttons=p.buttons,this.target=p.target,this.detail=p.detail||1,p.type==="dblclick"&&(this.detail=2),this.ctrlKey=p.ctrlKey,this.shiftKey=p.shiftKey,this.altKey=p.altKey,this.metaKey=p.metaKey,typeof p.pageX=="number"?(this.posx=p.pageX,this.posy=p.pageY):(this.posx=p.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=p.clientY+document.body.scrollTop+document.documentElement.scrollTop);let v=N.IframeUtils.getPositionOfChildWindowRelativeToAncestorWindow(self,p.view);this.posx-=v.left,this.posy-=v.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}e.StandardMouseEvent=E;class g extends E{constructor(p){super(p);this.dataTransfer=p.dataTransfer}}e.DragMouseEvent=g;class S{constructor(p,v=0,i=0){if(this.browserEvent=p||null,this.target=p?p.target||p.targetNode||p.srcElement:null,this.deltaY=i,this.deltaX=v,p){let t=p,a=p;if(typeof t.wheelDeltaY!="undefined")this.deltaY=t.wheelDeltaY/120;else if(typeof a.VERTICAL_AXIS!="undefined"&&a.axis===a.VERTICAL_AXIS)this.deltaY=-a.detail/3;else if(p.type==="wheel"){const l=p;l.deltaMode===l.DOM_DELTA_LINE?L.isFirefox&&!M.isMacintosh?this.deltaY=-p.deltaY/3:this.deltaY=-p.deltaY:this.deltaY=-p.deltaY/40}if(typeof t.wheelDeltaX!="undefined")L.isSafari&&M.isWindows?this.deltaX=-(t.wheelDeltaX/120):this.deltaX=t.wheelDeltaX/120;else if(typeof a.HORIZONTAL_AXIS!="undefined"&&a.axis===a.HORIZONTAL_AXIS)this.deltaX=-p.detail/3;else if(p.type==="wheel"){const l=p;l.deltaMode===l.DOM_DELTA_LINE?L.isFirefox&&!M.isMacintosh?this.deltaX=-p.deltaX/3:this.deltaX=-p.deltaX:this.deltaX=-p.deltaX/40}this.deltaY===0&&this.deltaX===0&&p.wheelDelta&&(this.deltaY=p.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}e.StandardWheelEvent=S}),define(ee[21],te([0,1,4]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0;const N=Object.freeze(function(S,b){const p=setTimeout(S.bind(b),0);return{dispose(){clearTimeout(p)}}});var M;(function(S){function b(p){return p===S.None||p===S.Cancelled||p instanceof E?!0:!p||typeof p!="object"?!1:typeof p.isCancellationRequested=="boolean"&&typeof p.onCancellationRequested=="function"}S.isCancellationToken=b,S.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:L.Event.None}),S.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:N})})(M=e.CancellationToken||(e.CancellationToken={}));class E{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?N:(this._emitter||(this._emitter=new L.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class g{constructor(b){this._token=void 0,this._parentListener=void 0,this._parentListener=b&&b.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new E),this._token}cancel(){this._token?this._token instanceof E&&this._token.cancel():this._token=M.Cancelled}dispose(b=!1){b&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof E&&this._token.dispose():this._token=M.None}}e.CancellationTokenSource=g}),define(ee[27],te([0,1,4]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CSSIcon=e.getClassNamesArray=e.Codicon=e.getCodiconAriaLabel=e.iconRegistry=void 0;class N{constructor(){this._icons=new Map,this._onDidRegister=new L.Emitter}add(v){const i=this._icons.get(v.id);i?v.description?i.description=v.description:console.error(`Duplicate registration of codicon ${v.id}`):(this._icons.set(v.id,v),this._onDidRegister.fire(v))}get(v){return this._icons.get(v)}get all(){return this._icons.values()}get onDidRegister(){return this._onDidRegister.event}}const M=new N;e.iconRegistry=M;function E(p){return p?p.replace(/\$\((.*?)\)/g,(v,i)=>` ${i} `).trim():""}e.getCodiconAriaLabel=E;class g{constructor(v,i,t){this.id=v,this.definition=i,this.description=t,M.add(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}}e.Codicon=g,g.add=new g("add",{fontCharacter:"\\ea60"}),g.plus=new g("plus",g.add.definition),g.gistNew=new g("gist-new",g.add.definition),g.repoCreate=new g("repo-create",g.add.definition),g.lightbulb=new g("lightbulb",{fontCharacter:"\\ea61"}),g.lightBulb=new g("light-bulb",{fontCharacter:"\\ea61"}),g.repo=new g("repo",{fontCharacter:"\\ea62"}),g.repoDelete=new g("repo-delete",{fontCharacter:"\\ea62"}),g.gistFork=new g("gist-fork",{fontCharacter:"\\ea63"}),g.repoForked=new g("repo-forked",{fontCharacter:"\\ea63"}),g.gitPullRequest=new g("git-pull-request",{fontCharacter:"\\ea64"}),g.gitPullRequestAbandoned=new g("git-pull-request-abandoned",{fontCharacter:"\\ea64"}),g.recordKeys=new g("record-keys",{fontCharacter:"\\ea65"}),g.keyboard=new g("keyboard",{fontCharacter:"\\ea65"}),g.tag=new g("tag",{fontCharacter:"\\ea66"}),g.tagAdd=new g("tag-add",{fontCharacter:"\\ea66"}),g.tagRemove=new g("tag-remove",{fontCharacter:"\\ea66"}),g.person=new g("person",{fontCharacter:"\\ea67"}),g.personFollow=new g("person-follow",{fontCharacter:"\\ea67"}),g.personOutline=new g("person-outline",{fontCharacter:"\\ea67"}),g.personFilled=new g("person-filled",{fontCharacter:"\\ea67"}),g.gitBranch=new g("git-branch",{fontCharacter:"\\ea68"}),g.gitBranchCreate=new g("git-branch-create",{fontCharacter:"\\ea68"}),g.gitBranchDelete=new g("git-branch-delete",{fontCharacter:"\\ea68"}),g.sourceControl=new g("source-control",{fontCharacter:"\\ea68"}),g.mirror=new g("mirror",{fontCharacter:"\\ea69"}),g.mirrorPublic=new g("mirror-public",{fontCharacter:"\\ea69"}),g.star=new g("star",{fontCharacter:"\\ea6a"}),g.starAdd=new g("star-add",{fontCharacter:"\\ea6a"}),g.starDelete=new g("star-delete",{fontCharacter:"\\ea6a"}),g.starEmpty=new g("star-empty",{fontCharacter:"\\ea6a"}),g.comment=new g("comment",{fontCharacter:"\\ea6b"}),g.commentAdd=new g("comment-add",{fontCharacter:"\\ea6b"}),g.alert=new g("alert",{fontCharacter:"\\ea6c"}),g.warning=new g("warning",{fontCharacter:"\\ea6c"}),g.search=new g("search",{fontCharacter:"\\ea6d"}),g.searchSave=new g("search-save",{fontCharacter:"\\ea6d"}),g.logOut=new g("log-out",{fontCharacter:"\\ea6e"}),g.signOut=new g("sign-out",{fontCharacter:"\\ea6e"}),g.logIn=new g("log-in",{fontCharacter:"\\ea6f"}),g.signIn=new g("sign-in",{fontCharacter:"\\ea6f"}),g.eye=new g("eye",{fontCharacter:"\\ea70"}),g.eyeUnwatch=new g("eye-unwatch",{fontCharacter:"\\ea70"}),g.eyeWatch=new g("eye-watch",{fontCharacter:"\\ea70"}),g.circleFilled=new g("circle-filled",{fontCharacter:"\\ea71"}),g.primitiveDot=new g("primitive-dot",{fontCharacter:"\\ea71"}),g.closeDirty=new g("close-dirty",{fontCharacter:"\\ea71"}),g.debugBreakpoint=new g("debug-breakpoint",{fontCharacter:"\\ea71"}),g.debugBreakpointDisabled=new g("debug-breakpoint-disabled",{fontCharacter:"\\ea71"}),g.debugHint=new g("debug-hint",{fontCharacter:"\\ea71"}),g.primitiveSquare=new g("primitive-square",{fontCharacter:"\\ea72"}),g.edit=new g("edit",{fontCharacter:"\\ea73"}),g.pencil=new g("pencil",{fontCharacter:"\\ea73"}),g.info=new g("info",{fontCharacter:"\\ea74"}),g.issueOpened=new g("issue-opened",{fontCharacter:"\\ea74"}),g.gistPrivate=new g("gist-private",{fontCharacter:"\\ea75"}),g.gitForkPrivate=new g("git-fork-private",{fontCharacter:"\\ea75"}),g.lock=new g("lock",{fontCharacter:"\\ea75"}),g.mirrorPrivate=new g("mirror-private",{fontCharacter:"\\ea75"}),g.close=new g("close",{fontCharacter:"\\ea76"}),g.removeClose=new g("remove-close",{fontCharacter:"\\ea76"}),g.x=new g("x",{fontCharacter:"\\ea76"}),g.repoSync=new g("repo-sync",{fontCharacter:"\\ea77"}),g.sync=new g("sync",{fontCharacter:"\\ea77"}),g.clone=new g("clone",{fontCharacter:"\\ea78"}),g.desktopDownload=new g("desktop-download",{fontCharacter:"\\ea78"}),g.beaker=new g("beaker",{fontCharacter:"\\ea79"}),g.microscope=new g("microscope",{fontCharacter:"\\ea79"}),g.vm=new g("vm",{fontCharacter:"\\ea7a"}),g.deviceDesktop=new g("device-desktop",{fontCharacter:"\\ea7a"}),g.file=new g("file",{fontCharacter:"\\ea7b"}),g.fileText=new g("file-text",{fontCharacter:"\\ea7b"}),g.more=new g("more",{fontCharacter:"\\ea7c"}),g.ellipsis=new g("ellipsis",{fontCharacter:"\\ea7c"}),g.kebabHorizontal=new g("kebab-horizontal",{fontCharacter:"\\ea7c"}),g.mailReply=new g("mail-reply",{fontCharacter:"\\ea7d"}),g.reply=new g("reply",{fontCharacter:"\\ea7d"}),g.organization=new g("organization",{fontCharacter:"\\ea7e"}),g.organizationFilled=new g("organization-filled",{fontCharacter:"\\ea7e"}),g.organizationOutline=new g("organization-outline",{fontCharacter:"\\ea7e"}),g.newFile=new g("new-file",{fontCharacter:"\\ea7f"}),g.fileAdd=new g("file-add",{fontCharacter:"\\ea7f"}),g.newFolder=new g("new-folder",{fontCharacter:"\\ea80"}),g.fileDirectoryCreate=new g("file-directory-create",{fontCharacter:"\\ea80"}),g.trash=new g("trash",{fontCharacter:"\\ea81"}),g.trashcan=new g("trashcan",{fontCharacter:"\\ea81"}),g.history=new g("history",{fontCharacter:"\\ea82"}),g.clock=new g("clock",{fontCharacter:"\\ea82"}),g.folder=new g("folder",{fontCharacter:"\\ea83"}),g.fileDirectory=new g("file-directory",{fontCharacter:"\\ea83"}),g.symbolFolder=new g("symbol-folder",{fontCharacter:"\\ea83"}),g.logoGithub=new g("logo-github",{fontCharacter:"\\ea84"}),g.markGithub=new g("mark-github",{fontCharacter:"\\ea84"}),g.github=new g("github",{fontCharacter:"\\ea84"}),g.terminal=new g("terminal",{fontCharacter:"\\ea85"}),g.console=new g("console",{fontCharacter:"\\ea85"}),g.repl=new g("repl",{fontCharacter:"\\ea85"}),g.zap=new g("zap",{fontCharacter:"\\ea86"}),g.symbolEvent=new g("symbol-event",{fontCharacter:"\\ea86"}),g.error=new g("error",{fontCharacter:"\\ea87"}),g.stop=new g("stop",{fontCharacter:"\\ea87"}),g.variable=new g("variable",{fontCharacter:"\\ea88"}),g.symbolVariable=new g("symbol-variable",{fontCharacter:"\\ea88"}),g.array=new g("array",{fontCharacter:"\\ea8a"}),g.symbolArray=new g("symbol-array",{fontCharacter:"\\ea8a"}),g.symbolModule=new g("symbol-module",{fontCharacter:"\\ea8b"}),g.symbolPackage=new g("symbol-package",{fontCharacter:"\\ea8b"}),g.symbolNamespace=new g("symbol-namespace",{fontCharacter:"\\ea8b"}),g.symbolObject=new g("symbol-object",{fontCharacter:"\\ea8b"}),g.symbolMethod=new g("symbol-method",{fontCharacter:"\\ea8c"}),g.symbolFunction=new g("symbol-function",{fontCharacter:"\\ea8c"}),g.symbolConstructor=new g("symbol-constructor",{fontCharacter:"\\ea8c"}),g.symbolBoolean=new g("symbol-boolean",{fontCharacter:"\\ea8f"}),g.symbolNull=new g("symbol-null",{fontCharacter:"\\ea8f"}),g.symbolNumeric=new g("symbol-numeric",{fontCharacter:"\\ea90"}),g.symbolNumber=new g("symbol-number",{fontCharacter:"\\ea90"}),g.symbolStructure=new g("symbol-structure",{fontCharacter:"\\ea91"}),g.symbolStruct=new g("symbol-struct",{fontCharacter:"\\ea91"}),g.symbolParameter=new g("symbol-parameter",{fontCharacter:"\\ea92"}),g.symbolTypeParameter=new g("symbol-type-parameter",{fontCharacter:"\\ea92"}),g.symbolKey=new g("symbol-key",{fontCharacter:"\\ea93"}),g.symbolText=new g("symbol-text",{fontCharacter:"\\ea93"}),g.symbolReference=new g("symbol-reference",{fontCharacter:"\\ea94"}),g.goToFile=new g("go-to-file",{fontCharacter:"\\ea94"}),g.symbolEnum=new g("symbol-enum",{fontCharacter:"\\ea95"}),g.symbolValue=new g("symbol-value",{fontCharacter:"\\ea95"}),g.symbolRuler=new g("symbol-ruler",{fontCharacter:"\\ea96"}),g.symbolUnit=new g("symbol-unit",{fontCharacter:"\\ea96"}),g.activateBreakpoints=new g("activate-breakpoints",{fontCharacter:"\\ea97"}),g.archive=new g("archive",{fontCharacter:"\\ea98"}),g.arrowBoth=new g("arrow-both",{fontCharacter:"\\ea99"}),g.arrowDown=new g("arrow-down",{fontCharacter:"\\ea9a"}),g.arrowLeft=new g("arrow-left",{fontCharacter:"\\ea9b"}),g.arrowRight=new g("arrow-right",{fontCharacter:"\\ea9c"}),g.arrowSmallDown=new g("arrow-small-down",{fontCharacter:"\\ea9d"}),g.arrowSmallLeft=new g("arrow-small-left",{fontCharacter:"\\ea9e"}),g.arrowSmallRight=new g("arrow-small-right",{fontCharacter:"\\ea9f"}),g.arrowSmallUp=new g("arrow-small-up",{fontCharacter:"\\eaa0"}),g.arrowUp=new g("arrow-up",{fontCharacter:"\\eaa1"}),g.bell=new g("bell",{fontCharacter:"\\eaa2"}),g.bold=new g("bold",{fontCharacter:"\\eaa3"}),g.book=new g("book",{fontCharacter:"\\eaa4"}),g.bookmark=new g("bookmark",{fontCharacter:"\\eaa5"}),g.debugBreakpointConditionalUnverified=new g("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"}),g.debugBreakpointConditional=new g("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"}),g.debugBreakpointConditionalDisabled=new g("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"}),g.debugBreakpointDataUnverified=new g("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"}),g.debugBreakpointData=new g("debug-breakpoint-data",{fontCharacter:"\\eaa9"}),g.debugBreakpointDataDisabled=new g("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"}),g.debugBreakpointLogUnverified=new g("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"}),g.debugBreakpointLog=new g("debug-breakpoint-log",{fontCharacter:"\\eaab"}),g.debugBreakpointLogDisabled=new g("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"}),g.briefcase=new g("briefcase",{fontCharacter:"\\eaac"}),g.broadcast=new g("broadcast",{fontCharacter:"\\eaad"}),g.browser=new g("browser",{fontCharacter:"\\eaae"}),g.bug=new g("bug",{fontCharacter:"\\eaaf"}),g.calendar=new g("calendar",{fontCharacter:"\\eab0"}),g.caseSensitive=new g("case-sensitive",{fontCharacter:"\\eab1"}),g.check=new g("check",{fontCharacter:"\\eab2"}),g.checklist=new g("checklist",{fontCharacter:"\\eab3"}),g.chevronDown=new g("chevron-down",{fontCharacter:"\\eab4"}),g.dropDownButton=new g("drop-down-button",g.chevronDown.definition),g.chevronLeft=new g("chevron-left",{fontCharacter:"\\eab5"}),g.chevronRight=new g("chevron-right",{fontCharacter:"\\eab6"}),g.chevronUp=new g("chevron-up",{fontCharacter:"\\eab7"}),g.chromeClose=new g("chrome-close",{fontCharacter:"\\eab8"}),g.chromeMaximize=new g("chrome-maximize",{fontCharacter:"\\eab9"}),g.chromeMinimize=new g("chrome-minimize",{fontCharacter:"\\eaba"}),g.chromeRestore=new g("chrome-restore",{fontCharacter:"\\eabb"}),g.circleOutline=new g("circle-outline",{fontCharacter:"\\eabc"}),g.debugBreakpointUnverified=new g("debug-breakpoint-unverified",{fontCharacter:"\\eabc"}),g.circleSlash=new g("circle-slash",{fontCharacter:"\\eabd"}),g.circuitBoard=new g("circuit-board",{fontCharacter:"\\eabe"}),g.clearAll=new g("clear-all",{fontCharacter:"\\eabf"}),g.clippy=new g("clippy",{fontCharacter:"\\eac0"}),g.closeAll=new g("close-all",{fontCharacter:"\\eac1"}),g.cloudDownload=new g("cloud-download",{fontCharacter:"\\eac2"}),g.cloudUpload=new g("cloud-upload",{fontCharacter:"\\eac3"}),g.code=new g("code",{fontCharacter:"\\eac4"}),g.collapseAll=new g("collapse-all",{fontCharacter:"\\eac5"}),g.colorMode=new g("color-mode",{fontCharacter:"\\eac6"}),g.commentDiscussion=new g("comment-discussion",{fontCharacter:"\\eac7"}),g.compareChanges=new g("compare-changes",{fontCharacter:"\\eafd"}),g.creditCard=new g("credit-card",{fontCharacter:"\\eac9"}),g.dash=new g("dash",{fontCharacter:"\\eacc"}),g.dashboard=new g("dashboard",{fontCharacter:"\\eacd"}),g.database=new g("database",{fontCharacter:"\\eace"}),g.debugContinue=new g("debug-continue",{fontCharacter:"\\eacf"}),g.debugDisconnect=new g("debug-disconnect",{fontCharacter:"\\ead0"}),g.debugPause=new g("debug-pause",{fontCharacter:"\\ead1"}),g.debugRestart=new g("debug-restart",{fontCharacter:"\\ead2"}),g.debugStart=new g("debug-start",{fontCharacter:"\\ead3"}),g.debugStepInto=new g("debug-step-into",{fontCharacter:"\\ead4"}),g.debugStepOut=new g("debug-step-out",{fontCharacter:"\\ead5"}),g.debugStepOver=new g("debug-step-over",{fontCharacter:"\\ead6"}),g.debugStop=new g("debug-stop",{fontCharacter:"\\ead7"}),g.debug=new g("debug",{fontCharacter:"\\ead8"}),g.deviceCameraVideo=new g("device-camera-video",{fontCharacter:"\\ead9"}),g.deviceCamera=new g("device-camera",{fontCharacter:"\\eada"}),g.deviceMobile=new g("device-mobile",{fontCharacter:"\\eadb"}),g.diffAdded=new g("diff-added",{fontCharacter:"\\eadc"}),g.diffIgnored=new g("diff-ignored",{fontCharacter:"\\eadd"}),g.diffModified=new g("diff-modified",{fontCharacter:"\\eade"}),g.diffRemoved=new g("diff-removed",{fontCharacter:"\\eadf"}),g.diffRenamed=new g("diff-renamed",{fontCharacter:"\\eae0"}),g.diff=new g("diff",{fontCharacter:"\\eae1"}),g.discard=new g("discard",{fontCharacter:"\\eae2"}),g.editorLayout=new g("editor-layout",{fontCharacter:"\\eae3"}),g.emptyWindow=new g("empty-window",{fontCharacter:"\\eae4"}),g.exclude=new g("exclude",{fontCharacter:"\\eae5"}),g.extensions=new g("extensions",{fontCharacter:"\\eae6"}),g.eyeClosed=new g("eye-closed",{fontCharacter:"\\eae7"}),g.fileBinary=new g("file-binary",{fontCharacter:"\\eae8"}),g.fileCode=new g("file-code",{fontCharacter:"\\eae9"}),g.fileMedia=new g("file-media",{fontCharacter:"\\eaea"}),g.filePdf=new g("file-pdf",{fontCharacter:"\\eaeb"}),g.fileSubmodule=new g("file-submodule",{fontCharacter:"\\eaec"}),g.fileSymlinkDirectory=new g("file-symlink-directory",{fontCharacter:"\\eaed"}),g.fileSymlinkFile=new g("file-symlink-file",{fontCharacter:"\\eaee"}),g.fileZip=new g("file-zip",{fontCharacter:"\\eaef"}),g.files=new g("files",{fontCharacter:"\\eaf0"}),g.filter=new g("filter",{fontCharacter:"\\eaf1"}),g.flame=new g("flame",{fontCharacter:"\\eaf2"}),g.foldDown=new g("fold-down",{fontCharacter:"\\eaf3"}),g.foldUp=new g("fold-up",{fontCharacter:"\\eaf4"}),g.fold=new g("fold",{fontCharacter:"\\eaf5"}),g.folderActive=new g("folder-active",{fontCharacter:"\\eaf6"}),g.folderOpened=new g("folder-opened",{fontCharacter:"\\eaf7"}),g.gear=new g("gear",{fontCharacter:"\\eaf8"}),g.gift=new g("gift",{fontCharacter:"\\eaf9"}),g.gistSecret=new g("gist-secret",{fontCharacter:"\\eafa"}),g.gist=new g("gist",{fontCharacter:"\\eafb"}),g.gitCommit=new g("git-commit",{fontCharacter:"\\eafc"}),g.gitCompare=new g("git-compare",{fontCharacter:"\\eafd"}),g.gitMerge=new g("git-merge",{fontCharacter:"\\eafe"}),g.githubAction=new g("github-action",{fontCharacter:"\\eaff"}),g.githubAlt=new g("github-alt",{fontCharacter:"\\eb00"}),g.globe=new g("globe",{fontCharacter:"\\eb01"}),g.grabber=new g("grabber",{fontCharacter:"\\eb02"}),g.graph=new g("graph",{fontCharacter:"\\eb03"}),g.gripper=new g("gripper",{fontCharacter:"\\eb04"}),g.heart=new g("heart",{fontCharacter:"\\eb05"}),g.home=new g("home",{fontCharacter:"\\eb06"}),g.horizontalRule=new g("horizontal-rule",{fontCharacter:"\\eb07"}),g.hubot=new g("hubot",{fontCharacter:"\\eb08"}),g.inbox=new g("inbox",{fontCharacter:"\\eb09"}),g.issueClosed=new g("issue-closed",{fontCharacter:"\\eba4"}),g.issueReopened=new g("issue-reopened",{fontCharacter:"\\eb0b"}),g.issues=new g("issues",{fontCharacter:"\\eb0c"}),g.italic=new g("italic",{fontCharacter:"\\eb0d"}),g.jersey=new g("jersey",{fontCharacter:"\\eb0e"}),g.json=new g("json",{fontCharacter:"\\eb0f"}),g.kebabVertical=new g("kebab-vertical",{fontCharacter:"\\eb10"}),g.key=new g("key",{fontCharacter:"\\eb11"}),g.law=new g("law",{fontCharacter:"\\eb12"}),g.lightbulbAutofix=new g("lightbulb-autofix",{fontCharacter:"\\eb13"}),g.linkExternal=new g("link-external",{fontCharacter:"\\eb14"}),g.link=new g("link",{fontCharacter:"\\eb15"}),g.listOrdered=new g("list-ordered",{fontCharacter:"\\eb16"}),g.listUnordered=new g("list-unordered",{fontCharacter:"\\eb17"}),g.liveShare=new g("live-share",{fontCharacter:"\\eb18"}),g.loading=new g("loading",{fontCharacter:"\\eb19"}),g.location=new g("location",{fontCharacter:"\\eb1a"}),g.mailRead=new g("mail-read",{fontCharacter:"\\eb1b"}),g.mail=new g("mail",{fontCharacter:"\\eb1c"}),g.markdown=new g("markdown",{fontCharacter:"\\eb1d"}),g.megaphone=new g("megaphone",{fontCharacter:"\\eb1e"}),g.mention=new g("mention",{fontCharacter:"\\eb1f"}),g.milestone=new g("milestone",{fontCharacter:"\\eb20"}),g.mortarBoard=new g("mortar-board",{fontCharacter:"\\eb21"}),g.move=new g("move",{fontCharacter:"\\eb22"}),g.multipleWindows=new g("multiple-windows",{fontCharacter:"\\eb23"}),g.mute=new g("mute",{fontCharacter:"\\eb24"}),g.noNewline=new g("no-newline",{fontCharacter:"\\eb25"}),g.note=new g("note",{fontCharacter:"\\eb26"}),g.octoface=new g("octoface",{fontCharacter:"\\eb27"}),g.openPreview=new g("open-preview",{fontCharacter:"\\eb28"}),g.package_=new g("package",{fontCharacter:"\\eb29"}),g.paintcan=new g("paintcan",{fontCharacter:"\\eb2a"}),g.pin=new g("pin",{fontCharacter:"\\eb2b"}),g.play=new g("play",{fontCharacter:"\\eb2c"}),g.run=new g("run",{fontCharacter:"\\eb2c"}),g.plug=new g("plug",{fontCharacter:"\\eb2d"}),g.preserveCase=new g("preserve-case",{fontCharacter:"\\eb2e"}),g.preview=new g("preview",{fontCharacter:"\\eb2f"}),g.project=new g("project",{fontCharacter:"\\eb30"}),g.pulse=new g("pulse",{fontCharacter:"\\eb31"}),g.question=new g("question",{fontCharacter:"\\eb32"}),g.quote=new g("quote",{fontCharacter:"\\eb33"}),g.radioTower=new g("radio-tower",{fontCharacter:"\\eb34"}),g.reactions=new g("reactions",{fontCharacter:"\\eb35"}),g.references=new g("references",{fontCharacter:"\\eb36"}),g.refresh=new g("refresh",{fontCharacter:"\\eb37"}),g.regex=new g("regex",{fontCharacter:"\\eb38"}),g.remoteExplorer=new g("remote-explorer",{fontCharacter:"\\eb39"}),g.remote=new g("remote",{fontCharacter:"\\eb3a"}),g.remove=new g("remove",{fontCharacter:"\\eb3b"}),g.replaceAll=new g("replace-all",{fontCharacter:"\\eb3c"}),g.replace=new g("replace",{fontCharacter:"\\eb3d"}),g.repoClone=new g("repo-clone",{fontCharacter:"\\eb3e"}),g.repoForcePush=new g("repo-force-push",{fontCharacter:"\\eb3f"}),g.repoPull=new g("repo-pull",{fontCharacter:"\\eb40"}),g.repoPush=new g("repo-push",{fontCharacter:"\\eb41"}),g.report=new g("report",{fontCharacter:"\\eb42"}),g.requestChanges=new g("request-changes",{fontCharacter:"\\eb43"}),g.rocket=new g("rocket",{fontCharacter:"\\eb44"}),g.rootFolderOpened=new g("root-folder-opened",{fontCharacter:"\\eb45"}),g.rootFolder=new g("root-folder",{fontCharacter:"\\eb46"}),g.rss=new g("rss",{fontCharacter:"\\eb47"}),g.ruby=new g("ruby",{fontCharacter:"\\eb48"}),g.saveAll=new g("save-all",{fontCharacter:"\\eb49"}),g.saveAs=new g("save-as",{fontCharacter:"\\eb4a"}),g.save=new g("save",{fontCharacter:"\\eb4b"}),g.screenFull=new g("screen-full",{fontCharacter:"\\eb4c"}),g.screenNormal=new g("screen-normal",{fontCharacter:"\\eb4d"}),g.searchStop=new g("search-stop",{fontCharacter:"\\eb4e"}),g.server=new g("server",{fontCharacter:"\\eb50"}),g.settingsGear=new g("settings-gear",{fontCharacter:"\\eb51"}),g.settings=new g("settings",{fontCharacter:"\\eb52"}),g.shield=new g("shield",{fontCharacter:"\\eb53"}),g.smiley=new g("smiley",{fontCharacter:"\\eb54"}),g.sortPrecedence=new g("sort-precedence",{fontCharacter:"\\eb55"}),g.splitHorizontal=new g("split-horizontal",{fontCharacter:"\\eb56"}),g.splitVertical=new g("split-vertical",{fontCharacter:"\\eb57"}),g.squirrel=new g("squirrel",{fontCharacter:"\\eb58"}),g.starFull=new g("star-full",{fontCharacter:"\\eb59"}),g.starHalf=new g("star-half",{fontCharacter:"\\eb5a"}),g.symbolClass=new g("symbol-class",{fontCharacter:"\\eb5b"}),g.symbolColor=new g("symbol-color",{fontCharacter:"\\eb5c"}),g.symbolConstant=new g("symbol-constant",{fontCharacter:"\\eb5d"}),g.symbolEnumMember=new g("symbol-enum-member",{fontCharacter:"\\eb5e"}),g.symbolField=new g("symbol-field",{fontCharacter:"\\eb5f"}),g.symbolFile=new g("symbol-file",{fontCharacter:"\\eb60"}),g.symbolInterface=new g("symbol-interface",{fontCharacter:"\\eb61"}),g.symbolKeyword=new g("symbol-keyword",{fontCharacter:"\\eb62"}),g.symbolMisc=new g("symbol-misc",{fontCharacter:"\\eb63"}),g.symbolOperator=new g("symbol-operator",{fontCharacter:"\\eb64"}),g.symbolProperty=new g("symbol-property",{fontCharacter:"\\eb65"}),g.wrench=new g("wrench",{fontCharacter:"\\eb65"}),g.wrenchSubaction=new g("wrench-subaction",{fontCharacter:"\\eb65"}),g.symbolSnippet=new g("symbol-snippet",{fontCharacter:"\\eb66"}),g.tasklist=new g("tasklist",{fontCharacter:"\\eb67"}),g.telescope=new g("telescope",{fontCharacter:"\\eb68"}),g.textSize=new g("text-size",{fontCharacter:"\\eb69"}),g.threeBars=new g("three-bars",{fontCharacter:"\\eb6a"}),g.thumbsdown=new g("thumbsdown",{fontCharacter:"\\eb6b"}),g.thumbsup=new g("thumbsup",{fontCharacter:"\\eb6c"}),g.tools=new g("tools",{fontCharacter:"\\eb6d"}),g.triangleDown=new g("triangle-down",{fontCharacter:"\\eb6e"}),g.triangleLeft=new g("triangle-left",{fontCharacter:"\\eb6f"}),g.triangleRight=new g("triangle-right",{fontCharacter:"\\eb70"}),g.triangleUp=new g("triangle-up",{fontCharacter:"\\eb71"}),g.twitter=new g("twitter",{fontCharacter:"\\eb72"}),g.unfold=new g("unfold",{fontCharacter:"\\eb73"}),g.unlock=new g("unlock",{fontCharacter:"\\eb74"}),g.unmute=new g("unmute",{fontCharacter:"\\eb75"}),g.unverified=new g("unverified",{fontCharacter:"\\eb76"}),g.verified=new g("verified",{fontCharacter:"\\eb77"}),g.versions=new g("versions",{fontCharacter:"\\eb78"}),g.vmActive=new g("vm-active",{fontCharacter:"\\eb79"}),g.vmOutline=new g("vm-outline",{fontCharacter:"\\eb7a"}),g.vmRunning=new g("vm-running",{fontCharacter:"\\eb7b"}),g.watch=new g("watch",{fontCharacter:"\\eb7c"}),g.whitespace=new g("whitespace",{fontCharacter:"\\eb7d"}),g.wholeWord=new g("whole-word",{fontCharacter:"\\eb7e"}),g.window=new g("window",{fontCharacter:"\\eb7f"}),g.wordWrap=new g("word-wrap",{fontCharacter:"\\eb80"}),g.zoomIn=new g("zoom-in",{fontCharacter:"\\eb81"}),g.zoomOut=new g("zoom-out",{fontCharacter:"\\eb82"}),g.listFilter=new g("list-filter",{fontCharacter:"\\eb83"}),g.listFlat=new g("list-flat",{fontCharacter:"\\eb84"}),g.listSelection=new g("list-selection",{fontCharacter:"\\eb85"}),g.selection=new g("selection",{fontCharacter:"\\eb85"}),g.listTree=new g("list-tree",{fontCharacter:"\\eb86"}),g.debugBreakpointFunctionUnverified=new g("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"}),g.debugBreakpointFunction=new g("debug-breakpoint-function",{fontCharacter:"\\eb88"}),g.debugBreakpointFunctionDisabled=new g("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"}),g.debugStackframeActive=new g("debug-stackframe-active",{fontCharacter:"\\eb89"}),g.debugStackframeDot=new g("debug-stackframe-dot",{fontCharacter:"\\eb8a"}),g.debugStackframe=new g("debug-stackframe",{fontCharacter:"\\eb8b"}),g.debugStackframeFocused=new g("debug-stackframe-focused",{fontCharacter:"\\eb8b"}),g.debugBreakpointUnsupported=new g("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"}),g.symbolString=new g("symbol-string",{fontCharacter:"\\eb8d"}),g.debugReverseContinue=new g("debug-reverse-continue",{fontCharacter:"\\eb8e"}),g.debugStepBack=new g("debug-step-back",{fontCharacter:"\\eb8f"}),g.debugRestartFrame=new g("debug-restart-frame",{fontCharacter:"\\eb90"}),g.callIncoming=new g("call-incoming",{fontCharacter:"\\eb92"}),g.callOutgoing=new g("call-outgoing",{fontCharacter:"\\eb93"}),g.menu=new g("menu",{fontCharacter:"\\eb94"}),g.expandAll=new g("expand-all",{fontCharacter:"\\eb95"}),g.feedback=new g("feedback",{fontCharacter:"\\eb96"}),g.groupByRefType=new g("group-by-ref-type",{fontCharacter:"\\eb97"}),g.ungroupByRefType=new g("ungroup-by-ref-type",{fontCharacter:"\\eb98"}),g.account=new g("account",{fontCharacter:"\\eb99"}),g.bellDot=new g("bell-dot",{fontCharacter:"\\eb9a"}),g.debugConsole=new g("debug-console",{fontCharacter:"\\eb9b"}),g.library=new g("library",{fontCharacter:"\\eb9c"}),g.output=new g("output",{fontCharacter:"\\eb9d"}),g.runAll=new g("run-all",{fontCharacter:"\\eb9e"}),g.syncIgnored=new g("sync-ignored",{fontCharacter:"\\eb9f"}),g.pinned=new g("pinned",{fontCharacter:"\\eba0"}),g.githubInverted=new g("github-inverted",{fontCharacter:"\\eba1"}),g.debugAlt=new g("debug-alt",{fontCharacter:"\\eb91"}),g.serverProcess=new g("server-process",{fontCharacter:"\\eba2"}),g.serverEnvironment=new g("server-environment",{fontCharacter:"\\eba3"}),g.pass=new g("pass",{fontCharacter:"\\eba4"}),g.stopCircle=new g("stop-circle",{fontCharacter:"\\eba5"}),g.playCircle=new g("play-circle",{fontCharacter:"\\eba6"}),g.record=new g("record",{fontCharacter:"\\eba7"}),g.debugAltSmall=new g("debug-alt-small",{fontCharacter:"\\eba8"}),g.vmConnect=new g("vm-connect",{fontCharacter:"\\eba9"}),g.cloud=new g("cloud",{fontCharacter:"\\ebaa"}),g.merge=new g("merge",{fontCharacter:"\\ebab"}),g.exportIcon=new g("export",{fontCharacter:"\\ebac"}),g.graphLeft=new g("graph-left",{fontCharacter:"\\ebad"}),g.magnet=new g("magnet",{fontCharacter:"\\ebae"}),g.notebook=new g("notebook",{fontCharacter:"\\ebaf"}),g.redo=new g("redo",{fontCharacter:"\\ebb0"}),g.checkAll=new g("check-all",{fontCharacter:"\\ebb1"}),g.pinnedDirty=new g("pinned-dirty",{fontCharacter:"\\ebb2"}),g.passFilled=new g("pass-filled",{fontCharacter:"\\ebb3"}),g.circleLargeFilled=new g("circle-large-filled",{fontCharacter:"\\ebb4"}),g.circleLargeOutline=new g("circle-large-outline",{fontCharacter:"\\ebb5"}),g.combine=new g("combine",{fontCharacter:"\\ebb6"}),g.gather=new g("gather",{fontCharacter:"\\ebb6"}),g.table=new g("table",{fontCharacter:"\\ebb7"}),g.variableGroup=new g("variable-group",{fontCharacter:"\\ebb8"}),g.typeHierarchy=new g("type-hierarchy",{fontCharacter:"\\ebb9"}),g.typeHierarchySub=new g("type-hierarchy-sub",{fontCharacter:"\\ebba"}),g.typeHierarchySuper=new g("type-hierarchy-super",{fontCharacter:"\\ebbb"}),g.gitPullRequestCreate=new g("git-pull-request-create",{fontCharacter:"\\ebbc"}),g.runAbove=new g("run-above",{fontCharacter:"\\ebbd"}),g.runBelow=new g("run-below",{fontCharacter:"\\ebbe"}),g.notebookTemplate=new g("notebook-template",{fontCharacter:"\\ebbf"}),g.debugRerun=new g("debug-rerun",{fontCharacter:"\\ebc0"}),g.workspaceTrusted=new g("workspace-trusted",{fontCharacter:"\\ebc1"}),g.workspaceUntrusted=new g("workspace-untrusted",{fontCharacter:"\\ebc2"}),g.workspaceUnspecified=new g("workspace-unspecified",{fontCharacter:"\\ebc3"}),g.terminalCmd=new g("terminal-cmd",{fontCharacter:"\\ebc4"}),g.terminalDebian=new g("terminal-debian",{fontCharacter:"\\ebc5"}),g.terminalLinux=new g("terminal-linux",{fontCharacter:"\\ebc6"}),g.terminalPowershell=new g("terminal-powershell",{fontCharacter:"\\ebc7"}),g.terminalTmux=new g("terminal-tmux",{fontCharacter:"\\ebc8"}),g.terminalUbuntu=new g("terminal-ubuntu",{fontCharacter:"\\ebc9"}),g.terminalBash=new g("terminal-bash",{fontCharacter:"\\ebca"}),g.arrowSwap=new g("arrow-swap",{fontCharacter:"\\ebcb"}),g.copy=new g("copy",{fontCharacter:"\\ebcc"}),g.personAdd=new g("person-add",{fontCharacter:"\\ebcd"}),g.filterFilled=new g("filter-filled",{fontCharacter:"\\ebce"}),g.wand=new g("wand",{fontCharacter:"\\ebcf"}),g.debugLineByLine=new g("debug-line-by-line",{fontCharacter:"\\ebd0"}),g.inspect=new g("inspect",{fontCharacter:"\\ebd1"}),g.layers=new g("layers",{fontCharacter:"\\ebd2"}),g.layersDot=new g("layers-dot",{fontCharacter:"\\ebd3"}),g.layersActive=new g("layers-active",{fontCharacter:"\\ebd4"}),g.compass=new g("compass",{fontCharacter:"\\ebd5"}),g.compassDot=new g("compass-dot",{fontCharacter:"\\ebd6"}),g.compassActive=new g("compass-active",{fontCharacter:"\\ebd7"}),g.azure=new g("azure",{fontCharacter:"\\ebd8"}),g.issueDraft=new g("issue-draft",{fontCharacter:"\\ebd9"}),g.gitPullRequestClosed=new g("git-pull-request-closed",{fontCharacter:"\\ebda"}),g.gitPullRequestDraft=new g("git-pull-request-draft",{fontCharacter:"\\ebdb"}),g.debugAll=new g("debug-all",{fontCharacter:"\\ebdc"}),g.debugCoverage=new g("debug-coverage",{fontCharacter:"\\ebdd"}),g.runErrors=new g("run-errors",{fontCharacter:"\\ebde"}),g.folderLibrary=new g("folder-library",{fontCharacter:"\\ebdf"}),g.debugContinueSmall=new g("debug-continue-small",{fontCharacter:"\\ebe0"}),g.beakerStop=new g("beaker-stop",{fontCharacter:"\\ebe1"}),g.graphLine=new g("graph-line",{fontCharacter:"\\ebe2"}),g.graphScatter=new g("graph-scatter",{fontCharacter:"\\ebe3"}),g.pieChart=new g("pie-chart",{fontCharacter:"\\ebe4"}),g.bracket=new g("bracket",g.json.definition),g.bracketDot=new g("bracket-dot",{fontCharacter:"\\ebe5"}),g.bracketError=new g("bracket-error",{fontCharacter:"\\ebe6"}),g.lockSmall=new g("lock-small",{fontCharacter:"\\ebe7"}),g.azureDevops=new g("azure-devops",{fontCharacter:"\\ebe8"}),g.verifiedFilled=new g("verified-filled",{fontCharacter:"\\ebe9"}),g.newLine=new g("newline",{fontCharacter:"\\ebea"}),g.layout=new g("layout",{fontCharacter:"\\ebeb"}),g.dialogError=new g("dialog-error",g.error.definition),g.dialogWarning=new g("dialog-warning",g.warning.definition),g.dialogInfo=new g("dialog-info",g.info.definition),g.dialogClose=new g("dialog-close",g.close.definition),g.treeItemExpanded=new g("tree-item-expanded",g.chevronDown.definition),g.treeFilterOnTypeOn=new g("tree-filter-on-type-on",g.listFilter.definition),g.treeFilterOnTypeOff=new g("tree-filter-on-type-off",g.listSelection.definition),g.treeFilterClear=new g("tree-filter-clear",g.close.definition),g.treeItemLoading=new g("tree-item-loading",g.loading.definition),g.menuSelection=new g("menu-selection",g.check.definition),g.menuSubmenu=new g("menu-submenu",g.chevronRight.definition),g.menuBarMore=new g("menubar-more",g.more.definition),g.scrollbarButtonLeft=new g("scrollbar-button-left",g.triangleLeft.definition),g.scrollbarButtonRight=new g("scrollbar-button-right",g.triangleRight.definition),g.scrollbarButtonUp=new g("scrollbar-button-up",g.triangleUp.definition),g.scrollbarButtonDown=new g("scrollbar-button-down",g.triangleDown.definition),g.toolBarMore=new g("toolbar-more",g.more.definition),g.quickInputBack=new g("quick-input-back",g.arrowLeft.definition);function S(p,v){const i=["codicon","codicon-"+p];return v&&i.push("codicon-modifier-"+v),i}e.getClassNamesArray=S;var b;(function(p){p.iconNameSegment="[A-Za-z0-9]+",p.iconNameExpression="[A-Za-z0-9-]+",p.iconModifierExpression="~[A-Za-z]+",p.iconNameCharacter="[A-Za-z0-9~-]";const v=new RegExp(`^(${p.iconNameExpression})(${p.iconModifierExpression})?$`);function i(l){if(l instanceof g)return["codicon","codicon-"+l.id];const h=v.exec(l.id);if(!h)return i(g.error);let[,d,u]=h;const n=["codicon","codicon-"+d];return u&&n.push("codicon-modifier-"+u.substr(1)),n}p.asClassNameArray=i;function t(l){return i(l).join(" ")}p.asClassName=t;function a(l){return"."+i(l).join(".")}p.asCSSSelector=a})(b=e.CSSIcon||(e.CSSIcon={}))}),define(ee[136],te([0,1,4,2]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SmoothScrollingOperation=e.SmoothScrollingUpdate=e.Scrollable=e.ScrollState=void 0;class M{constructor(a,l,h,d,u,n){this._scrollStateBrand=void 0,a=a|0,l=l|0,h=h|0,d=d|0,u=u|0,n=n|0,this.rawScrollLeft=h,this.rawScrollTop=n,a<0&&(a=0),h+a>l&&(h=l-a),h<0&&(h=0),d<0&&(d=0),n+d>u&&(n=u-d),n<0&&(n=0),this.width=a,this.scrollWidth=l,this.scrollLeft=h,this.height=d,this.scrollHeight=u,this.scrollTop=n}equals(a){return this.rawScrollLeft===a.rawScrollLeft&&this.rawScrollTop===a.rawScrollTop&&this.width===a.width&&this.scrollWidth===a.scrollWidth&&this.scrollLeft===a.scrollLeft&&this.height===a.height&&this.scrollHeight===a.scrollHeight&&this.scrollTop===a.scrollTop}withScrollDimensions(a,l){return new M(typeof a.width!="undefined"?a.width:this.width,typeof a.scrollWidth!="undefined"?a.scrollWidth:this.scrollWidth,l?this.rawScrollLeft:this.scrollLeft,typeof a.height!="undefined"?a.height:this.height,typeof a.scrollHeight!="undefined"?a.scrollHeight:this.scrollHeight,l?this.rawScrollTop:this.scrollTop)}withScrollPosition(a){return new M(this.width,this.scrollWidth,typeof a.scrollLeft!="undefined"?a.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof a.scrollTop!="undefined"?a.scrollTop:this.rawScrollTop)}createScrollEvent(a,l){const h=this.width!==a.width,d=this.scrollWidth!==a.scrollWidth,u=this.scrollLeft!==a.scrollLeft,n=this.height!==a.height,r=this.scrollHeight!==a.scrollHeight,s=this.scrollTop!==a.scrollTop;return{inSmoothScrolling:l,oldWidth:a.width,oldScrollWidth:a.scrollWidth,oldScrollLeft:a.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:a.height,oldScrollHeight:a.scrollHeight,oldScrollTop:a.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:h,scrollWidthChanged:d,scrollLeftChanged:u,heightChanged:n,scrollHeightChanged:r,scrollTopChanged:s}}}e.ScrollState=M;class E extends N.Disposable{constructor(a,l){super();this._scrollableBrand=void 0,this._onScroll=this._register(new L.Emitter),this.onScroll=this._onScroll.event,this._smoothScrollDuration=a,this._scheduleAtNextAnimationFrame=l,this._state=new M(0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(a){this._smoothScrollDuration=a}validateScrollPosition(a){return this._state.withScrollPosition(a)}getScrollDimensions(){return this._state}setScrollDimensions(a,l){const h=this._state.withScrollDimensions(a,l);this._setState(h,Boolean(this._smoothScrolling)),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(a){const l=this._state.withScrollPosition(a);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(l,!1)}setScrollPositionSmooth(a,l){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(a);if(this._smoothScrolling){a={scrollLeft:typeof a.scrollLeft=="undefined"?this._smoothScrolling.to.scrollLeft:a.scrollLeft,scrollTop:typeof a.scrollTop=="undefined"?this._smoothScrolling.to.scrollTop:a.scrollTop};const h=this._state.withScrollPosition(a);if(this._smoothScrolling.to.scrollLeft===h.scrollLeft&&this._smoothScrolling.to.scrollTop===h.scrollTop)return;let d;l?d=new p(this._smoothScrolling.from,h,this._smoothScrolling.startTime,this._smoothScrolling.duration):d=this._smoothScrolling.combine(this._state,h,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=d}else{const h=this._state.withScrollPosition(a);this._smoothScrolling=p.start(this._state,h,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!this._smoothScrolling)return;const a=this._smoothScrolling.tick(),l=this._state.withScrollPosition(a);if(this._setState(l,!0),!!this._smoothScrolling){if(a.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(a,l){const h=this._state;h.equals(a)||(this._state=a,this._onScroll.fire(this._state.createScrollEvent(h,l)))}}e.Scrollable=E;class g{constructor(a,l,h){this.scrollLeft=a,this.scrollTop=l,this.isDone=h}}e.SmoothScrollingUpdate=g;function S(t,a){const l=a-t;return function(h){return t+l*i(h)}}function b(t,a,l){return function(h){return h<l?t(h/l):a((h-l)/(1-l))}}class p{constructor(a,l,h,d){this.from=a,this.to=l,this.duration=d,this.startTime=h,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(a,l,h){if(Math.abs(a-l)>2.5*h){let u,n;return a<l?(u=a+.75*h,n=l-.75*h):(u=a-.75*h,n=l+.75*h),b(S(a,u),S(n,l),.33)}return S(a,l)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(a){this.to=a.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(a){const l=(a-this.startTime)/this.duration;if(l<1){const h=this.scrollLeft(l),d=this.scrollTop(l);return new g(h,d,!1)}return new g(this.to.scrollLeft,this.to.scrollTop,!0)}combine(a,l,h){return p.start(a,l,h)}static start(a,l,h){h=h+10;const d=Date.now()-10;return new p(a,l,d,h)}}e.SmoothScrollingOperation=p;function v(t){return Math.pow(t,3)}function i(t){return 1-v(1-t)}}),define(ee[211],te([0,1,12,2]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prefixedStream=e.prefixedReadable=e.transform=e.toReadable=e.emptyStream=e.toStream=e.peekStream=e.listenStream=e.consumeStream=e.peekReadable=e.consumeReadable=e.newWriteableStream=e.isReadableBufferedStream=e.isReadableStream=void 0;function M(r){const s=r;return s?[s.on,s.pause,s.resume,s.destroy].every(o=>typeof o=="function"):!1}e.isReadableStream=M;function E(r){const s=r;return s?M(s.stream)&&Array.isArray(s.buffer)&&typeof s.ended=="boolean":!1}e.isReadableBufferedStream=E;function g(r,s){return new S(r,s)}e.newWriteableStream=g;class S{constructor(s,o){this.reducer=s,this.options=o,this.state={flowing:!1,ended:!1,destroyed:!1},this.buffer={data:[],error:[]},this.listeners={data:[],error:[],end:[]},this.pendingWritePromises=[]}pause(){this.state.destroyed||(this.state.flowing=!1)}resume(){this.state.destroyed||this.state.flowing||(this.state.flowing=!0,this.flowData(),this.flowErrors(),this.flowEnd())}write(s){var o;if(!this.state.destroyed){if(this.state.flowing)this.emitData(s);else if(this.buffer.data.push(s),typeof((o=this.options)===null||o===void 0?void 0:o.highWaterMark)=="number"&&this.buffer.data.length>this.options.highWaterMark)return new Promise(m=>this.pendingWritePromises.push(m))}}error(s){this.state.destroyed||(this.state.flowing?this.emitError(s):this.buffer.error.push(s))}end(s){this.state.destroyed||(typeof s!="undefined"&&this.write(s),this.state.flowing?(this.emitEnd(),this.destroy()):this.state.ended=!0)}emitData(s){this.listeners.data.slice(0).forEach(o=>o(s))}emitError(s){this.listeners.error.length===0?(0,L.onUnexpectedError)(s):this.listeners.error.slice(0).forEach(o=>o(s))}emitEnd(){this.listeners.end.slice(0).forEach(s=>s())}on(s,o){if(!this.state.destroyed)switch(s){case"data":this.listeners.data.push(o),this.resume();break;case"end":this.listeners.end.push(o),this.state.flowing&&this.flowEnd()&&this.destroy();break;case"error":this.listeners.error.push(o),this.state.flowing&&this.flowErrors();break}}removeListener(s,o){if(this.state.destroyed)return;let m;switch(s){case"data":m=this.listeners.data;break;case"end":m=this.listeners.end;break;case"error":m=this.listeners.error;break}if(m){const _=m.indexOf(o);_>=0&&m.splice(_,1)}}flowData(){if(this.buffer.data.length>0){const s=this.reducer(this.buffer.data);this.emitData(s),this.buffer.data.length=0;const o=[...this.pendingWritePromises];this.pendingWritePromises.length=0,o.forEach(m=>m())}}flowErrors(){if(this.listeners.error.length>0){for(const s of this.buffer.error)this.emitError(s);this.buffer.error.length=0}}flowEnd(){return this.state.ended?(this.emitEnd(),this.listeners.end.length>0):!1}destroy(){this.state.destroyed||(this.state.destroyed=!0,this.state.ended=!0,this.buffer.data.length=0,this.buffer.error.length=0,this.listeners.data.length=0,this.listeners.error.length=0,this.listeners.end.length=0,this.pendingWritePromises.length=0)}}function b(r,s){const o=[];let m;for(;(m=r.read())!==null;)o.push(m);return s(o)}e.consumeReadable=b;function p(r,s,o){const m=[];let _;for(;(_=r.read())!==null&&m.length<o;)m.push(_);return _===null&&m.length>0?s(m):{read:()=>{if(m.length>0)return m.shift();if(typeof _!="undefined"){const f=_;return _=void 0,f}return r.read()}}}e.peekReadable=p;function v(r,s){return new Promise((o,m)=>{const _=[];i(r,{onData:f=>{s&&_.push(f)},onError:f=>{s?m(f):o(void 0)},onEnd:()=>{o(s?s(_):void 0)}})})}e.consumeStream=v;function i(r,s){r.on("error",o=>s.onError(o)),r.on("end",()=>s.onEnd()),r.on("data",o=>s.onData(o))}e.listenStream=i;function t(r,s){return new Promise((o,m)=>{const _=new N.DisposableStore,f=[],c=w=>{if(f.push(w),f.length>s)return _.dispose(),r.pause(),o({stream:r,buffer:f,ended:!1})},C=w=>m(w),y=()=>o({stream:r,buffer:f,ended:!0});_.add((0,N.toDisposable)(()=>r.removeListener("error",C))),r.on("error",C),_.add((0,N.toDisposable)(()=>r.removeListener("end",y))),r.on("end",y),_.add((0,N.toDisposable)(()=>r.removeListener("data",c))),r.on("data",c)})}e.peekStream=t;function a(r,s){const o=g(s);return o.end(r),o}e.toStream=a;function l(){const r=g(()=>{throw new Error("not supported")});return r.end(),r}e.emptyStream=l;function h(r){let s=!1;return{read:()=>s?null:(s=!0,r)}}e.toReadable=h;function d(r,s,o){const m=g(o);return i(r,{onData:_=>m.write(s.data(_)),onError:_=>m.error(s.error?s.error(_):_),onEnd:()=>m.end()}),m}e.transform=d;function u(r,s,o){let m=!1;return{read:()=>{const _=s.read();return m?_:(m=!0,_!==null?o([r,_]):r)}}}e.prefixedReadable=u;function n(r,s,o){let m=!1;const _=g(o);return i(s,{onData:f=>m?_.write(f):(m=!0,_.write(o([r,f]))),onError:f=>_.error(f),onEnd:()=>{m||(m=!0,_.write(r)),_.end()}}),_}e.prefixedStream=n}),define(ee[98],te([0,1,211]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prefixedBufferStream=e.prefixedBufferReadable=e.newWriteableBufferStream=e.streamToBufferReadableStream=e.bufferToStream=e.bufferedStreamToBuffer=e.streamToBuffer=e.bufferToReadable=e.readableToBuffer=e.writeUInt8=e.readUInt8=e.writeUInt32LE=e.readUInt32LE=e.writeUInt32BE=e.readUInt32BE=e.writeUInt16LE=e.readUInt16LE=e.VSBuffer=void 0;const N=typeof Buffer!="undefined";let M,E;class g{constructor(c){this.buffer=c,this.byteLength=this.buffer.byteLength}static alloc(c){return N?new g(Buffer.allocUnsafe(c)):new g(new Uint8Array(c))}static wrap(c){return N&&!Buffer.isBuffer(c)&&(c=Buffer.from(c.buffer,c.byteOffset,c.byteLength)),new g(c)}static fromString(c,C){return!((C==null?void 0:C.dontUseNodeBuffer)||!1)&&N?new g(Buffer.from(c)):(M||(M=new TextEncoder),new g(M.encode(c)))}static fromByteArray(c){const C=g.alloc(c.length);for(let y=0,w=c.length;y<w;y++)C.buffer[y]=c[y];return C}static concat(c,C){if(typeof C=="undefined"){C=0;for(let D=0,I=c.length;D<I;D++)C+=c[D].byteLength}const y=g.alloc(C);let w=0;for(let D=0,I=c.length;D<I;D++){const T=c[D];y.set(T,w),w+=T.byteLength}return y}clone(){const c=g.alloc(this.byteLength);return c.set(this),c}toString(){return N?this.buffer.toString():(E||(E=new TextDecoder),E.decode(this.buffer))}slice(c,C){return new g(this.buffer.subarray(c,C))}set(c,C){if(c instanceof g)this.buffer.set(c.buffer,C);else if(c instanceof Uint8Array)this.buffer.set(c,C);else if(c instanceof ArrayBuffer)this.buffer.set(new Uint8Array(c),C);else if(ArrayBuffer.isView(c))this.buffer.set(new Uint8Array(c.buffer,c.byteOffset,c.byteLength),C);else throw new Error("Unkown argument 'array'")}readUInt32BE(c){return p(this.buffer,c)}writeUInt32BE(c,C){v(this.buffer,c,C)}readUInt32LE(c){return i(this.buffer,c)}writeUInt32LE(c,C){t(this.buffer,c,C)}readUInt8(c){return a(this.buffer,c)}writeUInt8(c,C){l(this.buffer,c,C)}}e.VSBuffer=g;function S(f,c){return f[c+0]<<0>>>0|f[c+1]<<8>>>0}e.readUInt16LE=S;function b(f,c,C){f[C+0]=c&255,c=c>>>8,f[C+1]=c&255}e.writeUInt16LE=b;function p(f,c){return f[c]*Math.pow(2,24)+f[c+1]*Math.pow(2,16)+f[c+2]*Math.pow(2,8)+f[c+3]}e.readUInt32BE=p;function v(f,c,C){f[C+3]=c,c=c>>>8,f[C+2]=c,c=c>>>8,f[C+1]=c,c=c>>>8,f[C]=c}e.writeUInt32BE=v;function i(f,c){return f[c+0]<<0>>>0|f[c+1]<<8>>>0|f[c+2]<<16>>>0|f[c+3]<<24>>>0}e.readUInt32LE=i;function t(f,c,C){f[C+0]=c&255,c=c>>>8,f[C+1]=c&255,c=c>>>8,f[C+2]=c&255,c=c>>>8,f[C+3]=c&255}e.writeUInt32LE=t;function a(f,c){return f[c]}e.readUInt8=a;function l(f,c,C){f[C]=c}e.writeUInt8=l;function h(f){return L.consumeReadable(f,c=>g.concat(c))}e.readableToBuffer=h;function d(f){return L.toReadable(f)}e.bufferToReadable=d;function u(f){return L.consumeStream(f,c=>g.concat(c))}e.streamToBuffer=u;function n(f){return Me(this,void 0,void 0,function*(){return f.ended?g.concat(f.buffer):g.concat([...f.buffer,yield u(f.stream)])})}e.bufferedStreamToBuffer=n;function r(f){return L.toStream(f,c=>g.concat(c))}e.bufferToStream=r;function s(f){return L.transform(f,{data:c=>typeof c=="string"?g.fromString(c):g.wrap(c)},c=>g.concat(c))}e.streamToBufferReadableStream=s;function o(f){return L.newWriteableStream(c=>g.concat(c),f)}e.newWriteableBufferStream=o;function m(f,c){return L.prefixedReadable(f,c,C=>g.concat(C))}e.prefixedBufferReadable=m;function _(f,c){return L.prefixedStream(f,c,C=>g.concat(C))}e.prefixedBufferStream=_}),define(ee[8],te([0,1,15]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InvisibleCharacters=e.AmbiguousCharacters=e.noBreakWhitespace=e.getLeftDeleteOffset=e.breakBetweenGraphemeBreakType=e.getGraphemeBreakType=e.singleLetterHash=e.getNLines=e.uppercaseFirstLetter=e.containsUppercaseCharacter=e.fuzzyContains=e.stripUTF8BOM=e.startsWithUTF8BOM=e.UTF8_BOM_CHARACTER=e.removeAnsiEscapeCodes=e.lcut=e.isEmojiImprecise=e.isFullWidthCharacter=e.containsFullWidthCharacter=e.containsUnusualLineTerminators=e.UNUSUAL_LINE_TERMINATORS=e.isBasicASCII=e.containsEmoji=e.containsRTL=e.getCharContainingOffset=e.prevCharLength=e.nextCharLength=e.getNextCodePoint=e.computeCodePoint=e.isLowSurrogate=e.isHighSurrogate=e.commonSuffixLength=e.commonPrefixLength=e.startsWithIgnoreCase=e.equalsIgnoreCase=e.isUpperAsciiLetter=e.isLowerAsciiLetter=e.compareSubstringIgnoreCase=e.compareIgnoreCase=e.compareSubstring=e.compare=e.lastNonWhitespaceIndex=e.getLeadingWhitespace=e.firstNonWhitespaceIndex=e.splitLines=e.regExpFlags=e.regExpContainsBackreference=e.regExpLeadsToEndlessLoop=e.createRegExp=e.stripWildcards=e.convertSimple2RegExpPattern=e.rtrim=e.ltrim=e.trim=e.truncate=e.count=e.escapeRegExpCharacters=e.escape=e.format2=e.format=e.isFalsyOrWhitespace=void 0;function N(be){return!be||typeof be!="string"?!0:be.trim().length===0}e.isFalsyOrWhitespace=N;const M=/{(\d+)}/g;function E(be,...Ne){return Ne.length===0?be:be.replace(M,function(Be,$e){const je=parseInt($e,10);return isNaN(je)||je<0||je>=Ne.length?Be:Ne[je]})}e.format=E;const g=/{([^}]+)}/g;function S(be,Ne){return be.replace(g,(Be,$e)=>{var je;return(je=Ne[$e])!==null&&je!==void 0?je:Be})}e.format2=S;function b(be){return be.replace(/[<>&]/g,function(Ne){switch(Ne){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return Ne}})}e.escape=b;function p(be){return be.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}e.escapeRegExpCharacters=p;function v(be,Ne){let Be=0;const $e=Ne.charCodeAt(0);for(let je=be.length-1;je>=0;je--)be.charCodeAt(je)===$e&&Be++;return Be}e.count=v;function i(be,Ne,Be="\u2026"){return be.length<=Ne?be:`${be.substr(0,Ne)}${Be}`}e.truncate=i;function t(be,Ne=" "){const Be=a(be,Ne);return l(Be,Ne)}e.trim=t;function a(be,Ne){if(!be||!Ne)return be;const Be=Ne.length;if(Be===0||be.length===0)return be;let $e=0;for(;be.indexOf(Ne,$e)===$e;)$e=$e+Be;return be.substring($e)}e.ltrim=a;function l(be,Ne){if(!be||!Ne)return be;const Be=Ne.length,$e=be.length;if(Be===0||$e===0)return be;let je=$e,He=-1;for(;He=be.lastIndexOf(Ne,je-1),!(He===-1||He+Be!==je);){if(He===0)return"";je=He}return be.substring(0,je)}e.rtrim=l;function h(be){return be.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}e.convertSimple2RegExpPattern=h;function d(be){return be.replace(/\*/g,"")}e.stripWildcards=d;function u(be,Ne,Be={}){if(!be)throw new Error("Cannot create regex from empty string");Ne||(be=p(be)),Be.wholeWord&&(/\B/.test(be.charAt(0))||(be="\\b"+be),/\B/.test(be.charAt(be.length-1))||(be=be+"\\b"));let $e="";return Be.global&&($e+="g"),Be.matchCase||($e+="i"),Be.multiline&&($e+="m"),Be.unicode&&($e+="u"),new RegExp(be,$e)}e.createRegExp=u;function n(be){return be.source==="^"||be.source==="^$"||be.source==="$"||be.source==="^\\s*$"?!1:!!(be.exec("")&&be.lastIndex===0)}e.regExpLeadsToEndlessLoop=n;function r(be){return!!be.match(/([^\\]|^)(\\\\)*\\\d+/)}e.regExpContainsBackreference=r;function s(be){return(be.global?"g":"")+(be.ignoreCase?"i":"")+(be.multiline?"m":"")+(be.unicode?"u":"")}e.regExpFlags=s;function o(be){return be.split(/\r\n|\r|\n/)}e.splitLines=o;function m(be){for(let Ne=0,Be=be.length;Ne<Be;Ne++){const $e=be.charCodeAt(Ne);if($e!==32&&$e!==9)return Ne}return-1}e.firstNonWhitespaceIndex=m;function _(be,Ne=0,Be=be.length){for(let $e=Ne;$e<Be;$e++){const je=be.charCodeAt($e);if(je!==32&&je!==9)return be.substring(Ne,$e)}return be.substring(Ne,Be)}e.getLeadingWhitespace=_;function f(be,Ne=be.length-1){for(let Be=Ne;Be>=0;Be--){const $e=be.charCodeAt(Be);if($e!==32&&$e!==9)return Be}return-1}e.lastNonWhitespaceIndex=f;function c(be,Ne){return be<Ne?-1:be>Ne?1:0}e.compare=c;function C(be,Ne,Be=0,$e=be.length,je=0,He=Ne.length){for(;Be<$e&&je<He;Be++,je++){let Ae=be.charCodeAt(Be),Re=Ne.charCodeAt(je);if(Ae<Re)return-1;if(Ae>Re)return 1}const qe=$e-Be,Pe=He-je;return qe<Pe?-1:qe>Pe?1:0}e.compareSubstring=C;function y(be,Ne){return w(be,Ne,0,be.length,0,Ne.length)}e.compareIgnoreCase=y;function w(be,Ne,Be=0,$e=be.length,je=0,He=Ne.length){for(;Be<$e&&je<He;Be++,je++){let Ae=be.charCodeAt(Be),Re=Ne.charCodeAt(je);if(Ae===Re)continue;if(Ae>=128||Re>=128)return C(be.toLowerCase(),Ne.toLowerCase(),Be,$e,je,He);D(Ae)&&(Ae-=32),D(Re)&&(Re-=32);const ve=Ae-Re;if(ve!==0)return ve}const qe=$e-Be,Pe=He-je;return qe<Pe?-1:qe>Pe?1:0}e.compareSubstringIgnoreCase=w;function D(be){return be>=97&&be<=122}e.isLowerAsciiLetter=D;function I(be){return be>=65&&be<=90}e.isUpperAsciiLetter=I;function T(be,Ne){return be.length===Ne.length&&w(be,Ne)===0}e.equalsIgnoreCase=T;function F(be,Ne){const Be=Ne.length;return Ne.length>be.length?!1:w(be,Ne,0,Be)===0}e.startsWithIgnoreCase=F;function P(be,Ne){let Be,$e=Math.min(be.length,Ne.length);for(Be=0;Be<$e;Be++)if(be.charCodeAt(Be)!==Ne.charCodeAt(Be))return Be;return $e}e.commonPrefixLength=P;function R(be,Ne){let Be,$e=Math.min(be.length,Ne.length);const je=be.length-1,He=Ne.length-1;for(Be=0;Be<$e;Be++)if(be.charCodeAt(je-Be)!==Ne.charCodeAt(He-Be))return Be;return $e}e.commonSuffixLength=R;function A(be){return 55296<=be&&be<=56319}e.isHighSurrogate=A;function O(be){return 56320<=be&&be<=57343}e.isLowSurrogate=O;function k(be,Ne){return(be-55296<<10)+(Ne-56320)+65536}e.computeCodePoint=k;function V(be,Ne,Be){const $e=be.charCodeAt(Be);if(A($e)&&Be+1<Ne){const je=be.charCodeAt(Be+1);if(O(je))return k($e,je)}return $e}e.getNextCodePoint=V;function B(be,Ne){const Be=be.charCodeAt(Ne-1);if(O(Be)&&Ne>1){const $e=be.charCodeAt(Ne-2);if(A($e))return k($e,Be)}return Be}function x(be,Ne){const Be=ue.getInstance(),$e=Ne,je=be.length,He=V(be,je,Ne);Ne+=He>=65536?2:1;let qe=Be.getGraphemeBreakType(He);for(;Ne<je;){const Pe=V(be,je,Ne),Ae=Be.getGraphemeBreakType(Pe);if(Le(qe,Ae))break;Ne+=Pe>=65536?2:1,qe=Ae}return Ne-$e}e.nextCharLength=x;function K(be,Ne){const Be=ue.getInstance(),$e=Ne,je=B(be,Ne);Ne-=je>=65536?2:1;let He=Be.getGraphemeBreakType(je);for(;Ne>0;){const qe=B(be,Ne),Pe=Be.getGraphemeBreakType(qe);if(Le(Pe,He))break;Ne-=qe>=65536?2:1,He=Pe}return $e-Ne}e.prevCharLength=K;function X(be,Ne){const Be=ue.getInstance(),$e=be.length,je=Ne,He=V(be,$e,Ne),qe=Be.getGraphemeBreakType(He);Ne+=He>=65536?2:1;let Pe=qe;for(;Ne<$e;){const Re=V(be,$e,Ne),ve=Be.getGraphemeBreakType(Re);if(Le(Pe,ve))break;Ne+=Re>=65536?2:1,Pe=ve}const Ae=Ne;for(Ne=je,Pe=qe;Ne>0;){const Re=B(be,Ne),ve=Be.getGraphemeBreakType(Re);if(Le(ve,Pe))break;Ne-=Re>=65536?2:1,Pe=ve}return[Ne,Ae]}function Z(be,Ne){return Ne>0&&O(be.charCodeAt(Ne))?X(be,Ne-1):X(be,Ne)}e.getCharContainingOffset=Z;const q=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function H(be){return q.test(be)}e.containsRTL=H;const G=/(?:[\u231A\u231B\u23F0\u23F3\u2600-\u27BF\u2B50\u2B55]|\uD83C[\uDDE6-\uDDFF\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEFC\uDFE0-\uDFF0]|\uD83E[\uDD00-\uDDFF\uDE70-\uDEF6])/;function z(be){return G.test(be)}e.containsEmoji=z;const W=/^[\t\n\r\x20-\x7E]*$/;function j(be){return W.test(be)}e.isBasicASCII=j,e.UNUSUAL_LINE_TERMINATORS=/[\u2028\u2029]/;function U(be){return e.UNUSUAL_LINE_TERMINATORS.test(be)}e.containsUnusualLineTerminators=U;function Y(be){for(let Ne=0,Be=be.length;Ne<Be;Ne++)if(ne(be.charCodeAt(Ne)))return!0;return!1}e.containsFullWidthCharacter=Y;function ne(be){return be>=11904&&be<=55215||be>=63744&&be<=64255||be>=65281&&be<=65374}e.isFullWidthCharacter=ne;function J(be){return be>=127462&&be<=127487||be===8986||be===8987||be===9200||be===9203||be>=9728&&be<=10175||be===11088||be===11093||be>=127744&&be<=128591||be>=128640&&be<=128764||be>=128992&&be<=129008||be>=129280&&be<=129535||be>=129648&&be<=129782}e.isEmojiImprecise=J;function re(be,Ne){if(be.length<Ne)return be;const Be=/\b/g;let $e=0;for(;Be.test(be)&&!(be.length-Be.lastIndex<Ne);)$e=Be.lastIndex,Be.lastIndex+=1;return be.substring($e).replace(/^\s/,"")}e.lcut=re;const ge=/\x1B\x5B[12]?K/g,pe=/\x1b\[\d+m/g,oe=/\x1b\[0?m/g;function $(be){return be&&(be=be.replace(ge,""),be=be.replace(pe,""),be=be.replace(oe,"")),be}e.removeAnsiEscapeCodes=$,e.UTF8_BOM_CHARACTER=String.fromCharCode(65279);function ie(be){return!!(be&&be.length>0&&be.charCodeAt(0)===65279)}e.startsWithUTF8BOM=ie;function le(be){return ie(be)?be.substr(1):be}e.stripUTF8BOM=le;function de(be,Ne){if(!be||!Ne||be.length<Ne.length)return!1;const Be=Ne.length,$e=be.toLowerCase();let je=0,He=-1;for(;je<Be;){const qe=$e.indexOf(Ne[je],He+1);if(qe<0)return!1;He=qe,je++}return!0}e.fuzzyContains=de;function fe(be,Ne=!1){return be?(Ne&&(be=be.replace(/\\./g,"")),be.toLowerCase()!==be):!1}e.containsUppercaseCharacter=fe;function he(be){return be.charAt(0).toUpperCase()+be.slice(1)}e.uppercaseFirstLetter=he;function se(be,Ne=1){if(Ne===0)return"";let Be=-1;do Be=be.indexOf(`
`,Be+1),Ne--;while(Ne>0&&Be>=0);return Be===-1?be:(be[Be-1]==="\r"&&Be--,be.substr(0,Be))}e.getNLines=se;function ce(be){const Ne=90-65+1;return be=be%(2*Ne),be<Ne?String.fromCharCode(97+be):String.fromCharCode(65+be-Ne)}e.singleLetterHash=ce;function Se(be){return ue.getInstance().getGraphemeBreakType(be)}e.getGraphemeBreakType=Se;function Le(be,Ne){return be===0?Ne!==5&&Ne!==7:be===2&&Ne===3?!1:be===4||be===2||be===3||Ne===4||Ne===2||Ne===3?!0:!(be===8&&(Ne===8||Ne===9||Ne===11||Ne===12)||(be===11||be===9)&&(Ne===9||Ne===10)||(be===12||be===10)&&Ne===10||Ne===5||Ne===13||Ne===7||be===1||be===13&&Ne===14||be===6&&Ne===6)}e.breakBetweenGraphemeBreakType=Le;class ue{constructor(){this._data=we()}static getInstance(){return ue._INSTANCE||(ue._INSTANCE=new ue),ue._INSTANCE}getGraphemeBreakType(Ne){if(Ne<32)return Ne===10?3:Ne===13?2:4;if(Ne<127)return 0;const Be=this._data,$e=Be.length/3;let je=1;for(;je<=$e;)if(Ne<Be[3*je])je=2*je;else if(Ne>Be[3*je+1])je=2*je+1;else return Be[3*je+2];return 0}}ue._INSTANCE=null;function we(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function ae(be,Ne){if(be===0)return 0;const Be=me(be,Ne);if(Be!==void 0)return Be;const $e=B(Ne,be);return be-=Ie($e),be}e.getLeftDeleteOffset=ae;function me(be,Ne){let Be=B(Ne,be);for(be-=Ie(Be);Fe(Be)||Be===65039||Be===8419;){if(be===0)return;Be=B(Ne,be),be-=Ie(Be)}if(!!J(Be)){if(be>=0){const $e=B(Ne,be);$e===8205&&(be-=Ie($e))}return be}}function Ie(be){return be>=65536?2:1}function Fe(be){return 127995<=be&&be<=127999}e.noBreakWhitespace="\xA0";class ze{static getData(){return JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,40,10088,40,10098,40,12308,40,64830,40,65341,41,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,124,8739,124,9213,124,65512,124,1633,124,1777,124,66336,124,125127,124,120783,124,120793,124,120803,124,120813,124,120823,124,130033,124,65321,124,8544,124,8464,124,8465,124,119816,124,119868,124,119920,124,120024,124,120128,124,120180,124,120232,124,120284,124,120336,124,120388,124,120440,124,406,124,65356,124,8572,124,8467,124,119845,124,119897,124,119949,124,120001,124,120053,124,120105,124,120157,124,120209,124,120261,124,120313,124,120365,124,120417,124,120469,124,448,124,120496,124,120554,124,120612,124,120670,124,120728,124,11410,124,1030,124,1216,124,1493,124,1503,124,1575,124,126464,124,126592,124,65166,124,65165,124,1994,124,11599,124,5825,124,42226,124,93992,124,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90],"_default":[160,32,8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,124,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89],"cs":[65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,124,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89],"de":[65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,124,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89],"es":[8211,45,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89],"fr":[65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,124,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89],"it":[160,32,8211,45,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,124,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,124,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89],"ko":[8211,45,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,124,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89],"pl":[65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,124,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89],"pt-BR":[65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,124,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89],"qps-ploc":[160,32,8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,124,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89],"ru":[65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,124,1009,112,215,120],"tr":[160,32,8211,45,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,124,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89],"zh-hans":[65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,124,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89],"zh-hant":[8211,45,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,124,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89]}')}static getConfusablesForCurrentLocale(){if(!ze.map){let $e=function(qe){const Pe=new Map;for(let Ae=0;Ae<qe.length;Ae+=2)Pe.set(qe[Ae],qe[Ae+1]);return Pe};const Ne=ze.getData();let Be=L.locale;(!Be||!(Be in Ne))&&(Be=L.language),(!Be||!(Be in Ne))&&(Be="_default");const je=$e(Ne._common),He=$e(Ne[Be]);for(const[qe,Pe]of He)je.set(qe,Pe);ze.map=je}return ze.map}static isAmbiguous(Ne){return ze.getConfusablesForCurrentLocale().has(Ne)}static getPrimaryConfusable(Ne){return ze.getConfusablesForCurrentLocale().get(Ne)}static getPrimaryConfusableCodePoints(){return new Set(ze.getConfusablesForCurrentLocale().keys())}}e.AmbiguousCharacters=ze;class Ke{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(Ke.getRawData())),this._data}static isInvisibleCharacter(Ne){return Ke.getData().has(Ne)}static get codePoints(){return Ke.getData()}}e.InvisibleCharacters=Ke,Ke._data=void 0}),define(ee[88],te([0,1,8]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringSHA1=e.toHexString=e.Hasher=e.stringHash=e.numberHash=e.doHash=e.hash=void 0;function N(d){return M(d,0)}e.hash=N;function M(d,u){switch(typeof d){case"object":return d===null?E(349,u):Array.isArray(d)?b(d,u):p(d,u);case"string":return S(d,u);case"boolean":return g(d,u);case"number":return E(d,u);case"undefined":return E(937,u);default:return E(617,u)}}e.doHash=M;function E(d,u){return(u<<5)-u+d|0}e.numberHash=E;function g(d,u){return E(d?433:863,u)}function S(d,u){u=E(149417,u);for(let n=0,r=d.length;n<r;n++)u=E(d.charCodeAt(n),u);return u}e.stringHash=S;function b(d,u){return u=E(104579,u),d.reduce((n,r)=>M(r,n),u)}function p(d,u){return u=E(181387,u),Object.keys(d).sort().reduce((n,r)=>(n=S(r,n),M(d[r],n)),u)}class v{constructor(){this._value=0}get value(){return this._value}hash(u){return this._value=M(u,this._value),this._value}}e.Hasher=v;function i(d,u,n=32){const r=n-u,s=~((1<<r)-1);return(d<<u|(s&d)>>>r)>>>0}function t(d,u=0,n=d.byteLength,r=0){for(let s=0;s<n;s++)d[u+s]=r}function a(d,u,n="0"){for(;d.length<u;)d=n+d;return d}function l(d,u=32){return d instanceof ArrayBuffer?Array.from(new Uint8Array(d)).map(n=>n.toString(16).padStart(2,"0")).join(""):a((d>>>0).toString(16),u/4)}e.toHexString=l;class h{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(u){const n=u.length;if(n===0)return;const r=this._buff;let s=this._buffLen,o=this._leftoverHighSurrogate,m,_;for(o!==0?(m=o,_=-1,o=0):(m=u.charCodeAt(0),_=0);;){let f=m;if(L.isHighSurrogate(m))if(_+1<n){const c=u.charCodeAt(_+1);L.isLowSurrogate(c)?(_++,f=L.computeCodePoint(m,c)):f=65533}else{o=m;break}else L.isLowSurrogate(m)&&(f=65533);if(s=this._push(r,s,f),_++,_<n)m=u.charCodeAt(_);else break}this._buffLen=s,this._leftoverHighSurrogate=o}_push(u,n,r){return r<128?u[n++]=r:r<2048?(u[n++]=192|(r&1984)>>>6,u[n++]=128|(r&63)>>>0):r<65536?(u[n++]=224|(r&61440)>>>12,u[n++]=128|(r&4032)>>>6,u[n++]=128|(r&63)>>>0):(u[n++]=240|(r&1835008)>>>18,u[n++]=128|(r&258048)>>>12,u[n++]=128|(r&4032)>>>6,u[n++]=128|(r&63)>>>0),n>=64&&(this._step(),n-=64,this._totalLen+=64,u[0]=u[64+0],u[1]=u[64+1],u[2]=u[64+2]),n}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),l(this._h0)+l(this._h1)+l(this._h2)+l(this._h3)+l(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,t(this._buff,this._buffLen),this._buffLen>56&&(this._step(),t(this._buff));const u=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(u/4294967296),!1),this._buffDV.setUint32(60,u%4294967296,!1),this._step()}_step(){const u=h._bigBlock32,n=this._buffDV;for(let y=0;y<64;y+=4)u.setUint32(y,n.getUint32(y,!1),!1);for(let y=64;y<320;y+=4)u.setUint32(y,i(u.getUint32(y-12,!1)^u.getUint32(y-32,!1)^u.getUint32(y-56,!1)^u.getUint32(y-64,!1),1),!1);let r=this._h0,s=this._h1,o=this._h2,m=this._h3,_=this._h4,f,c,C;for(let y=0;y<80;y++)y<20?(f=s&o|~s&m,c=1518500249):y<40?(f=s^o^m,c=1859775393):y<60?(f=s&o|s&m|o&m,c=2400959708):(f=s^o^m,c=3395469782),C=i(r,5)+f+_+c+u.getUint32(y*4,!1)&4294967295,_=m,m=o,o=i(s,30),s=r,r=C;this._h0=this._h0+r&4294967295,this._h1=this._h1+s&4294967295,this._h2=this._h2+o&4294967295,this._h3=this._h3+m&4294967295,this._h4=this._h4+_&4294967295}}e.StringSHA1=h,h._bigBlock32=new DataView(new ArrayBuffer(320))}),define(ee[137],te([0,1,308,88]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LcsDiff=e.MyArray=e.Debug=e.stringDiff=e.StringDiffSequence=void 0;class M{constructor(i){this.source=i}getElements(){const i=this.source,t=new Int32Array(i.length);for(let a=0,l=i.length;a<l;a++)t[a]=i.charCodeAt(a);return t}}e.StringDiffSequence=M;function E(v,i,t){return new p(new M(v),new M(i)).ComputeDiff(t).changes}e.stringDiff=E;class g{static Assert(i,t){if(!i)throw new Error(t)}}e.Debug=g;class S{static Copy(i,t,a,l,h){for(let d=0;d<h;d++)a[l+d]=i[t+d]}static Copy2(i,t,a,l,h){for(let d=0;d<h;d++)a[l+d]=i[t+d]}}e.MyArray=S;class b{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new L.DiffChange(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(i,t){this.m_originalStart=Math.min(this.m_originalStart,i),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_originalCount++}AddModifiedElement(i,t){this.m_originalStart=Math.min(this.m_originalStart,i),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class p{constructor(i,t,a=null){this.ContinueProcessingPredicate=a,this._originalSequence=i,this._modifiedSequence=t;const[l,h,d]=p._getElements(i),[u,n,r]=p._getElements(t);this._hasStrings=d&&r,this._originalStringElements=l,this._originalElementsOrHash=h,this._modifiedStringElements=u,this._modifiedElementsOrHash=n,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(i){return i.length>0&&typeof i[0]=="string"}static _getElements(i){const t=i.getElements();if(p._isStringArray(t)){const a=new Int32Array(t.length);for(let l=0,h=t.length;l<h;l++)a[l]=(0,N.stringHash)(t[l],0);return[t,a,!0]}return t instanceof Int32Array?[[],t,!1]:[[],new Int32Array(t),!1]}ElementsAreEqual(i,t){return this._originalElementsOrHash[i]!==this._modifiedElementsOrHash[t]?!1:this._hasStrings?this._originalStringElements[i]===this._modifiedStringElements[t]:!0}ElementsAreStrictEqual(i,t){if(!this.ElementsAreEqual(i,t))return!1;const a=p._getStrictElement(this._originalSequence,i),l=p._getStrictElement(this._modifiedSequence,t);return a===l}static _getStrictElement(i,t){return typeof i.getStrictElement=="function"?i.getStrictElement(t):null}OriginalElementsAreEqual(i,t){return this._originalElementsOrHash[i]!==this._originalElementsOrHash[t]?!1:this._hasStrings?this._originalStringElements[i]===this._originalStringElements[t]:!0}ModifiedElementsAreEqual(i,t){return this._modifiedElementsOrHash[i]!==this._modifiedElementsOrHash[t]?!1:this._hasStrings?this._modifiedStringElements[i]===this._modifiedStringElements[t]:!0}ComputeDiff(i){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,i)}_ComputeDiff(i,t,a,l,h){const d=[!1];let u=this.ComputeDiffRecursive(i,t,a,l,d);return h&&(u=this.PrettifyChanges(u)),{quitEarly:d[0],changes:u}}ComputeDiffRecursive(i,t,a,l,h){for(h[0]=!1;i<=t&&a<=l&&this.ElementsAreEqual(i,a);)i++,a++;for(;t>=i&&l>=a&&this.ElementsAreEqual(t,l);)t--,l--;if(i>t||a>l){let o;return a<=l?(g.Assert(i===t+1,"originalStart should only be one more than originalEnd"),o=[new L.DiffChange(i,0,a,l-a+1)]):i<=t?(g.Assert(a===l+1,"modifiedStart should only be one more than modifiedEnd"),o=[new L.DiffChange(i,t-i+1,a,0)]):(g.Assert(i===t+1,"originalStart should only be one more than originalEnd"),g.Assert(a===l+1,"modifiedStart should only be one more than modifiedEnd"),o=[]),o}const d=[0],u=[0],n=this.ComputeRecursionPoint(i,t,a,l,d,u,h),r=d[0],s=u[0];if(n!==null)return n;if(!h[0]){const o=this.ComputeDiffRecursive(i,r,a,s,h);let m=[];return h[0]?m=[new L.DiffChange(r+1,t-(r+1)+1,s+1,l-(s+1)+1)]:m=this.ComputeDiffRecursive(r+1,t,s+1,l,h),this.ConcatenateChanges(o,m)}return[new L.DiffChange(i,t-i+1,a,l-a+1)]}WALKTRACE(i,t,a,l,h,d,u,n,r,s,o,m,_,f,c,C,y,w){let D=null,I=null,T=new b,F=t,P=a,R=_[0]-C[0]-l,A=-1073741824,O=this.m_forwardHistory.length-1;do{const k=R+i;k===F||k<P&&r[k-1]<r[k+1]?(o=r[k+1],f=o-R-l,o<A&&T.MarkNextChange(),A=o,T.AddModifiedElement(o+1,f),R=k+1-i):(o=r[k-1]+1,f=o-R-l,o<A&&T.MarkNextChange(),A=o-1,T.AddOriginalElement(o,f+1),R=k-1-i),O>=0&&(r=this.m_forwardHistory[O],i=r[0],F=1,P=r.length-1)}while(--O>=-1);if(D=T.getReverseChanges(),w[0]){let k=_[0]+1,V=C[0]+1;if(D!==null&&D.length>0){const B=D[D.length-1];k=Math.max(k,B.getOriginalEnd()),V=Math.max(V,B.getModifiedEnd())}I=[new L.DiffChange(k,m-k+1,V,c-V+1)]}else{T=new b,F=d,P=u,R=_[0]-C[0]-n,A=1073741824,O=y?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const k=R+h;k===F||k<P&&s[k-1]>=s[k+1]?(o=s[k+1]-1,f=o-R-n,o>A&&T.MarkNextChange(),A=o+1,T.AddOriginalElement(o+1,f+1),R=k+1-h):(o=s[k-1],f=o-R-n,o>A&&T.MarkNextChange(),A=o,T.AddModifiedElement(o+1,f+1),R=k-1-h),O>=0&&(s=this.m_reverseHistory[O],h=s[0],F=1,P=s.length-1)}while(--O>=-1);I=T.getChanges()}return this.ConcatenateChanges(D,I)}ComputeRecursionPoint(i,t,a,l,h,d,u){let n=0,r=0,s=0,o=0,m=0,_=0;i--,a--,h[0]=0,d[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const f=t-i+(l-a),c=f+1,C=new Int32Array(c),y=new Int32Array(c),w=l-a,D=t-i,I=i-a,T=t-l,P=(D-w)%2==0;C[w]=i,y[D]=t,u[0]=!1;for(let R=1;R<=f/2+1;R++){let A=0,O=0;s=this.ClipDiagonalBound(w-R,R,w,c),o=this.ClipDiagonalBound(w+R,R,w,c);for(let V=s;V<=o;V+=2){V===s||V<o&&C[V-1]<C[V+1]?n=C[V+1]:n=C[V-1]+1,r=n-(V-w)-I;const B=n;for(;n<t&&r<l&&this.ElementsAreEqual(n+1,r+1);)n++,r++;if(C[V]=n,n+r>A+O&&(A=n,O=r),!P&&Math.abs(V-D)<=R-1&&n>=y[V])return h[0]=n,d[0]=r,B<=y[V]&&1447>0&&R<=1447+1?this.WALKTRACE(w,s,o,I,D,m,_,T,C,y,n,t,h,r,l,d,P,u):null}const k=(A-i+(O-a)-R)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(A,k))return u[0]=!0,h[0]=A,d[0]=O,k>0&&1447>0&&R<=1447+1?this.WALKTRACE(w,s,o,I,D,m,_,T,C,y,n,t,h,r,l,d,P,u):(i++,a++,[new L.DiffChange(i,t-i+1,a,l-a+1)]);m=this.ClipDiagonalBound(D-R,R,D,c),_=this.ClipDiagonalBound(D+R,R,D,c);for(let V=m;V<=_;V+=2){V===m||V<_&&y[V-1]>=y[V+1]?n=y[V+1]-1:n=y[V-1],r=n-(V-D)-T;const B=n;for(;n>i&&r>a&&this.ElementsAreEqual(n,r);)n--,r--;if(y[V]=n,P&&Math.abs(V-w)<=R&&n<=C[V])return h[0]=n,d[0]=r,B>=C[V]&&1447>0&&R<=1447+1?this.WALKTRACE(w,s,o,I,D,m,_,T,C,y,n,t,h,r,l,d,P,u):null}if(R<=1447){let V=new Int32Array(o-s+2);V[0]=w-s+1,S.Copy2(C,s,V,1,o-s+1),this.m_forwardHistory.push(V),V=new Int32Array(_-m+2),V[0]=D-m+1,S.Copy2(y,m,V,1,_-m+1),this.m_reverseHistory.push(V)}}return this.WALKTRACE(w,s,o,I,D,m,_,T,C,y,n,t,h,r,l,d,P,u)}PrettifyChanges(i){for(let t=0;t<i.length;t++){const a=i[t],l=t<i.length-1?i[t+1].originalStart:this._originalElementsOrHash.length,h=t<i.length-1?i[t+1].modifiedStart:this._modifiedElementsOrHash.length,d=a.originalLength>0,u=a.modifiedLength>0;for(;a.originalStart+a.originalLength<l&&a.modifiedStart+a.modifiedLength<h&&(!d||this.OriginalElementsAreEqual(a.originalStart,a.originalStart+a.originalLength))&&(!u||this.ModifiedElementsAreEqual(a.modifiedStart,a.modifiedStart+a.modifiedLength));){const r=this.ElementsAreStrictEqual(a.originalStart,a.modifiedStart);if(this.ElementsAreStrictEqual(a.originalStart+a.originalLength,a.modifiedStart+a.modifiedLength)&&!r)break;a.originalStart++,a.modifiedStart++}let n=[null];if(t<i.length-1&&this.ChangesOverlap(i[t],i[t+1],n)){i[t]=n[0],i.splice(t+1,1),t--;continue}}for(let t=i.length-1;t>=0;t--){const a=i[t];let l=0,h=0;if(t>0){const o=i[t-1];l=o.originalStart+o.originalLength,h=o.modifiedStart+o.modifiedLength}const d=a.originalLength>0,u=a.modifiedLength>0;let n=0,r=this._boundaryScore(a.originalStart,a.originalLength,a.modifiedStart,a.modifiedLength);for(let o=1;;o++){const m=a.originalStart-o,_=a.modifiedStart-o;if(m<l||_<h||d&&!this.OriginalElementsAreEqual(m,m+a.originalLength)||u&&!this.ModifiedElementsAreEqual(_,_+a.modifiedLength))break;const c=(m===l&&_===h?5:0)+this._boundaryScore(m,a.originalLength,_,a.modifiedLength);c>r&&(r=c,n=o)}a.originalStart-=n,a.modifiedStart-=n;const s=[null];if(t>0&&this.ChangesOverlap(i[t-1],i[t],s)){i[t-1]=s[0],i.splice(t,1),t++;continue}}if(this._hasStrings)for(let t=1,a=i.length;t<a;t++){const l=i[t-1],h=i[t],d=h.originalStart-l.originalStart-l.originalLength,u=l.originalStart,n=h.originalStart+h.originalLength,r=n-u,s=l.modifiedStart,o=h.modifiedStart+h.modifiedLength,m=o-s;if(d<5&&r<20&&m<20){const _=this._findBetterContiguousSequence(u,r,s,m,d);if(_){const[f,c]=_;(f!==l.originalStart+l.originalLength||c!==l.modifiedStart+l.modifiedLength)&&(l.originalLength=f-l.originalStart,l.modifiedLength=c-l.modifiedStart,h.originalStart=f+d,h.modifiedStart=c+d,h.originalLength=n-h.originalStart,h.modifiedLength=o-h.modifiedStart)}}}return i}_findBetterContiguousSequence(i,t,a,l,h){if(t<h||l<h)return null;const d=i+t-h+1,u=a+l-h+1;let n=0,r=0,s=0;for(let o=i;o<d;o++)for(let m=a;m<u;m++){const _=this._contiguousSequenceScore(o,m,h);_>0&&_>n&&(n=_,r=o,s=m)}return n>0?[r,s]:null}_contiguousSequenceScore(i,t,a){let l=0;for(let h=0;h<a;h++){if(!this.ElementsAreEqual(i+h,t+h))return 0;l+=this._originalStringElements[i+h].length}return l}_OriginalIsBoundary(i){return i<=0||i>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[i])}_OriginalRegionIsBoundary(i,t){if(this._OriginalIsBoundary(i)||this._OriginalIsBoundary(i-1))return!0;if(t>0){const a=i+t;if(this._OriginalIsBoundary(a-1)||this._OriginalIsBoundary(a))return!0}return!1}_ModifiedIsBoundary(i){return i<=0||i>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[i])}_ModifiedRegionIsBoundary(i,t){if(this._ModifiedIsBoundary(i)||this._ModifiedIsBoundary(i-1))return!0;if(t>0){const a=i+t;if(this._ModifiedIsBoundary(a-1)||this._ModifiedIsBoundary(a))return!0}return!1}_boundaryScore(i,t,a,l){const h=this._OriginalRegionIsBoundary(i,t)?1:0,d=this._ModifiedRegionIsBoundary(a,l)?1:0;return h+d}ConcatenateChanges(i,t){let a=[];if(i.length===0||t.length===0)return t.length>0?t:i;if(this.ChangesOverlap(i[i.length-1],t[0],a)){const l=new Array(i.length+t.length-1);return S.Copy(i,0,l,0,i.length-1),l[i.length-1]=a[0],S.Copy(t,1,l,i.length,t.length-1),l}else{const l=new Array(i.length+t.length);return S.Copy(i,0,l,0,i.length),S.Copy(t,0,l,i.length,t.length),l}}ChangesOverlap(i,t,a){if(g.Assert(i.originalStart<=t.originalStart,"Left change is not less than or equal to right change"),g.Assert(i.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change"),i.originalStart+i.originalLength>=t.originalStart||i.modifiedStart+i.modifiedLength>=t.modifiedStart){const l=i.originalStart;let h=i.originalLength;const d=i.modifiedStart;let u=i.modifiedLength;return i.originalStart+i.originalLength>=t.originalStart&&(h=t.originalStart+t.originalLength-i.originalStart),i.modifiedStart+i.modifiedLength>=t.modifiedStart&&(u=t.modifiedStart+t.modifiedLength-i.modifiedStart),a[0]=new L.DiffChange(l,h,d,u),!0}else return a[0]=null,!1}ClipDiagonalBound(i,t,a,l){if(i>=0&&i<l)return i;const h=a,d=l-a-1,u=t%2==0;if(i<0){const n=h%2==0;return u===n?0:1}else{const n=d%2==0;return u===n?l-1:l-2}}}e.LcsDiff=p}),define(ee[170],te([0,1,95,19,137,4,55]),function(Q,e,L,N,M,E,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndexTreeModel=e.getVisibleState=e.isFilterResult=void 0;function S(i){return typeof i=="object"&&"visibility"in i&&"data"in i}e.isFilterResult=S;function b(i){switch(i){case!0:return 1;case!1:return 0;default:return i}}e.getVisibleState=b;function p(i){return typeof i.collapsible=="boolean"}class v{constructor(t,a,l,h={}){this.user=t,this.list=a,this.rootRef=[],this.eventBufferer=new E.EventBufferer,this._onDidChangeCollapseState=new E.Emitter,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new E.Emitter,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new E.Emitter,this.onDidSplice=this._onDidSplice.event,this.collapseByDefault=typeof h.collapseByDefault=="undefined"?!1:h.collapseByDefault,this.filter=h.filter,this.autoExpandSingleChildren=typeof h.autoExpandSingleChildren=="undefined"?!1:h.autoExpandSingleChildren,this.root={parent:void 0,element:l,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(t,a,l=g.Iterable.empty(),h={}){if(t.length===0)throw new L.TreeError(this.user,"Invalid tree location");h.diffIdentityProvider?this.spliceSmart(h.diffIdentityProvider,t,a,l,h):this.spliceSimple(t,a,l,h)}spliceSmart(t,a,l,h,d,u){var n;h===void 0&&(h=g.Iterable.empty()),u===void 0&&(u=(n=d.diffDepth)!==null&&n!==void 0?n:0);const{parentNode:r}=this.getParentNodeWithListIndex(a);if(!r.lastDiffIds)return this.spliceSimple(a,l,h,d);const s=[...h],o=a[a.length-1],m=new M.LcsDiff({getElements:()=>r.lastDiffIds},{getElements:()=>[...r.children.slice(0,o),...s,...r.children.slice(o+l)].map(y=>t.getId(y.element).toString())}).ComputeDiff(!1);if(m.quitEarly)return r.lastDiffIds=void 0,this.spliceSimple(a,l,s,d);const _=a.slice(0,-1),f=(y,w,D)=>{if(u>0)for(let I=0;I<D;I++)y--,w--,this.spliceSmart(t,[..._,y,0],Number.MAX_SAFE_INTEGER,s[w].children,d,u-1)};let c=Math.min(r.children.length,o+l),C=s.length;for(const y of m.changes.sort((w,D)=>D.originalStart-w.originalStart))f(c,C,c-(y.originalStart+y.originalLength)),c=y.originalStart,C=y.modifiedStart-o,this.spliceSimple([..._,c],y.originalLength,g.Iterable.slice(s,C,C+y.modifiedLength),d);f(c,C,c)}spliceSimple(t,a,l=g.Iterable.empty(),{onDidCreateNode:h,onDidDeleteNode:d,diffIdentityProvider:u}){const{parentNode:n,listIndex:r,revealed:s,visible:o}=this.getParentNodeWithListIndex(t),m=[],_=g.Iterable.map(l,R=>this.createTreeNode(R,n,n.visible?1:0,s,m,h)),f=t[t.length-1],c=n.children.length>0;let C=0;for(let R=f;R>=0&&R<n.children.length;R--){const A=n.children[R];if(A.visible){C=A.visibleChildIndex;break}}const y=[];let w=0,D=0;for(const R of _)y.push(R),D+=R.renderNodeCount,R.visible&&(R.visibleChildIndex=C+w++);const I=(0,N.splice)(n.children,f,a,y);u?n.lastDiffIds?(0,N.splice)(n.lastDiffIds,f,a,y.map(R=>u.getId(R.element).toString())):n.lastDiffIds=n.children.map(R=>u.getId(R.element).toString()):n.lastDiffIds=void 0;let T=0;for(const R of I)R.visible&&T++;if(T!==0)for(let R=f+y.length;R<n.children.length;R++){const A=n.children[R];A.visible&&(A.visibleChildIndex-=T)}if(n.visibleChildrenCount+=w-T,s&&o){const R=I.reduce((A,O)=>A+(O.visible?O.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(n,D-R),this.list.splice(r,R,m)}if(I.length>0&&d){const R=A=>{d(A),A.children.forEach(R)};I.forEach(R)}const F=n.children.length>0;c!==F&&this.setCollapsible(t.slice(0,-1),F),this._onDidSplice.fire({insertedNodes:y,deletedNodes:I});let P=n;for(;P;){if(P.visibility===2){this.refilter();break}P=P.parent}}rerender(t){if(t.length===0)throw new L.TreeError(this.user,"Invalid tree location");const{node:a,listIndex:l,revealed:h}=this.getTreeNodeWithListIndex(t);a.visible&&h&&this.list.splice(l,1,[a])}updateElementHeight(t,a){if(t.length===0)throw new L.TreeError(this.user,"Invalid tree location");const{listIndex:l}=this.getTreeNodeWithListIndex(t);this.list.updateElementHeight(l,a)}has(t){return this.hasTreeNode(t)}getListIndex(t){const{listIndex:a,visible:l,revealed:h}=this.getTreeNodeWithListIndex(t);return l&&h?a:-1}getListRenderCount(t){return this.getTreeNode(t).renderNodeCount}isCollapsible(t){return this.getTreeNode(t).collapsible}setCollapsible(t,a){const l=this.getTreeNode(t);typeof a=="undefined"&&(a=!l.collapsible);const h={collapsible:a};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(t,h))}isCollapsed(t){return this.getTreeNode(t).collapsed}setCollapsed(t,a,l){const h=this.getTreeNode(t);typeof a=="undefined"&&(a=!h.collapsed);const d={collapsed:a,recursive:l||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(t,d))}_setCollapseState(t,a){const{node:l,listIndex:h,revealed:d}=this.getTreeNodeWithListIndex(t),u=this._setListNodeCollapseState(l,h,d,a);if(l!==this.root&&this.autoExpandSingleChildren&&u&&!p(a)&&l.collapsible&&!l.collapsed&&!a.recursive){let n=-1;for(let r=0;r<l.children.length;r++)if(l.children[r].visible)if(n>-1){n=-1;break}else n=r;n>-1&&this._setCollapseState([...t,n],a)}return u}_setListNodeCollapseState(t,a,l,h){const d=this._setNodeCollapseState(t,h,!1);if(!l||!t.visible||!d)return d;const u=t.renderNodeCount,n=this.updateNodeAfterCollapseChange(t),r=u-(a===-1?0:1);return this.list.splice(a+1,r,n.slice(1)),d}_setNodeCollapseState(t,a,l){let h;if(t===this.root?h=!1:(p(a)?(h=t.collapsible!==a.collapsible,t.collapsible=a.collapsible):t.collapsible?(h=t.collapsed!==a.collapsed,t.collapsed=a.collapsed):h=!1,h&&this._onDidChangeCollapseState.fire({node:t,deep:l})),!p(a)&&a.recursive)for(const d of t.children)h=this._setNodeCollapseState(d,a,!0)||h;return h}expandTo(t){this.eventBufferer.bufferEvents(()=>{let a=this.getTreeNode(t);for(;a.parent;)a=a.parent,t=t.slice(0,t.length-1),a.collapsed&&this._setCollapseState(t,{collapsed:!1,recursive:!1})})}refilter(){const t=this.root.renderNodeCount,a=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,t,a)}createTreeNode(t,a,l,h,d,u){const n={parent:a,element:t.element,children:[],depth:a.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof t.collapsible=="boolean"?t.collapsible:typeof t.collapsed!="undefined",collapsed:typeof t.collapsed=="undefined"?this.collapseByDefault:t.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},r=this._filterNode(n,l);n.visibility=r,h&&d.push(n);const s=t.children||g.Iterable.empty(),o=h&&r!==0&&!n.collapsed,m=g.Iterable.map(s,c=>this.createTreeNode(c,n,r,o,d,u));let _=0,f=1;for(const c of m)n.children.push(c),f+=c.renderNodeCount,c.visible&&(c.visibleChildIndex=_++);return n.collapsible=n.collapsible||n.children.length>0,n.visibleChildrenCount=_,n.visible=r===2?_>0:r===1,n.visible?n.collapsed||(n.renderNodeCount=f):(n.renderNodeCount=0,h&&d.pop()),u&&u(n),n}updateNodeAfterCollapseChange(t){const a=t.renderNodeCount,l=[];return this._updateNodeAfterCollapseChange(t,l),this._updateAncestorsRenderNodeCount(t.parent,l.length-a),l}_updateNodeAfterCollapseChange(t,a){if(t.visible===!1)return 0;if(a.push(t),t.renderNodeCount=1,!t.collapsed)for(const l of t.children)t.renderNodeCount+=this._updateNodeAfterCollapseChange(l,a);return this._onDidChangeRenderNodeCount.fire(t),t.renderNodeCount}updateNodeAfterFilterChange(t){const a=t.renderNodeCount,l=[];return this._updateNodeAfterFilterChange(t,t.visible?1:0,l),this._updateAncestorsRenderNodeCount(t.parent,l.length-a),l}_updateNodeAfterFilterChange(t,a,l,h=!0){let d;if(t!==this.root){if(d=this._filterNode(t,a),d===0)return t.visible=!1,t.renderNodeCount=0,!1;h&&l.push(t)}const u=l.length;t.renderNodeCount=t===this.root?0:1;let n=!1;if(!t.collapsed||d!==0){let r=0;for(const s of t.children)n=this._updateNodeAfterFilterChange(s,d,l,h&&!t.collapsed)||n,s.visible&&(s.visibleChildIndex=r++);t.visibleChildrenCount=r}else t.visibleChildrenCount=0;return t!==this.root&&(t.visible=d===2?n:d===1,t.visibility=d),t.visible?t.collapsed||(t.renderNodeCount+=l.length-u):(t.renderNodeCount=0,h&&l.pop()),this._onDidChangeRenderNodeCount.fire(t),t.visible}_updateAncestorsRenderNodeCount(t,a){if(a!==0)for(;t;)t.renderNodeCount+=a,this._onDidChangeRenderNodeCount.fire(t),t=t.parent}_filterNode(t,a){const l=this.filter?this.filter.filter(t.element,a):1;return typeof l=="boolean"?(t.filterData=void 0,l?1:0):S(l)?(t.filterData=l.data,b(l.visibility)):(t.filterData=void 0,b(l))}hasTreeNode(t,a=this.root){if(!t||t.length===0)return!0;const[l,...h]=t;return l<0||l>a.children.length?!1:this.hasTreeNode(h,a.children[l])}getTreeNode(t,a=this.root){if(!t||t.length===0)return a;const[l,...h]=t;if(l<0||l>a.children.length)throw new L.TreeError(this.user,"Invalid tree location");return this.getTreeNode(h,a.children[l])}getTreeNodeWithListIndex(t){if(t.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:a,listIndex:l,revealed:h,visible:d}=this.getParentNodeWithListIndex(t),u=t[t.length-1];if(u<0||u>a.children.length)throw new L.TreeError(this.user,"Invalid tree location");const n=a.children[u];return{node:n,listIndex:l,revealed:h,visible:d&&n.visible}}getParentNodeWithListIndex(t,a=this.root,l=0,h=!0,d=!0){const[u,...n]=t;if(u<0||u>a.children.length)throw new L.TreeError(this.user,"Invalid tree location");for(let r=0;r<u;r++)l+=a.children[r].renderNodeCount;return h=h&&!a.collapsed,d=d&&a.visible,n.length===0?{parentNode:a,listIndex:l,revealed:h,visible:d}:this.getParentNodeWithListIndex(n,a.children[u],l+1,h,d)}getNode(t=[]){return this.getTreeNode(t)}getNodeLocation(t){const a=[];let l=t;for(;l.parent;)a.push(l.parent.children.indexOf(l)),l=l.parent;return a.reverse()}getParentNodeLocation(t){if(t.length!==0)return t.length===1?[]:(0,N.tail2)(t)[0]}getFirstElementChild(t){const a=this.getTreeNode(t);if(a.children.length!==0)return a.children[0].element}getLastElementAncestor(t=[]){const a=this.getTreeNode(t);if(a.children.length!==0)return this._getLastElementAncestor(a)}_getLastElementAncestor(t){return t.children.length===0?t.element:this._getLastElementAncestor(t.children[t.children.length-1])}}e.IndexTreeModel=v}),define(ee[171],te([0,1,170,95,55]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectTreeModel=void 0;class E{constructor(S,b,p={}){this.user=S,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new L.IndexTreeModel(S,b,null,p),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,p.sorter&&(this.sorter={compare(v,i){return p.sorter.compare(v.element,i.element)}}),this.identityProvider=p.identityProvider}get size(){return this.nodes.size}setChildren(S,b=M.Iterable.empty(),p={}){const v=this.getElementLocation(S);this._setChildren(v,this.preserveCollapseState(b),p)}_setChildren(S,b=M.Iterable.empty(),p){const v=new Set,i=new Set,t=l=>{var h;if(l.element===null)return;const d=l;if(v.add(d.element),this.nodes.set(d.element,d),this.identityProvider){const u=this.identityProvider.getId(d.element).toString();i.add(u),this.nodesByIdentity.set(u,d)}(h=p.onDidCreateNode)===null||h===void 0||h.call(p,d)},a=l=>{var h;if(l.element===null)return;const d=l;if(v.has(d.element)||this.nodes.delete(d.element),this.identityProvider){const u=this.identityProvider.getId(d.element).toString();i.has(u)||this.nodesByIdentity.delete(u)}(h=p.onDidDeleteNode)===null||h===void 0||h.call(p,d)};this.model.splice([...S,0],Number.MAX_VALUE,b,Object.assign(Object.assign({},p),{onDidCreateNode:t,onDidDeleteNode:a}))}preserveCollapseState(S=M.Iterable.empty()){return this.sorter&&(S=[...S].sort(this.sorter.compare.bind(this.sorter))),M.Iterable.map(S,b=>{let p=this.nodes.get(b.element);if(!p&&this.identityProvider){const t=this.identityProvider.getId(b.element).toString();p=this.nodesByIdentity.get(t)}if(!p)return Object.assign(Object.assign({},b),{children:this.preserveCollapseState(b.children)});const v=typeof b.collapsible=="boolean"?b.collapsible:p.collapsible,i=typeof b.collapsed!="undefined"?b.collapsed:p.collapsed;return Object.assign(Object.assign({},b),{collapsible:v,collapsed:i,children:this.preserveCollapseState(b.children)})})}rerender(S){const b=this.getElementLocation(S);this.model.rerender(b)}updateElementHeight(S,b){const p=this.getElementLocation(S);this.model.updateElementHeight(p,b)}resort(S=null,b=!0){if(!this.sorter)return;const p=this.getElementLocation(S),v=this.model.getNode(p);this._setChildren(p,this.resortChildren(v,b),{})}resortChildren(S,b,p=!0){let v=[...S.children];return(b||p)&&(v=v.sort(this.sorter.compare.bind(this.sorter))),M.Iterable.map(v,i=>({element:i.element,collapsible:i.collapsible,collapsed:i.collapsed,children:this.resortChildren(i,b,!1)}))}getFirstElementChild(S=null){const b=this.getElementLocation(S);return this.model.getFirstElementChild(b)}getLastElementAncestor(S=null){const b=this.getElementLocation(S);return this.model.getLastElementAncestor(b)}has(S){return this.nodes.has(S)}getListIndex(S){const b=this.getElementLocation(S);return this.model.getListIndex(b)}getListRenderCount(S){const b=this.getElementLocation(S);return this.model.getListRenderCount(b)}isCollapsible(S){const b=this.getElementLocation(S);return this.model.isCollapsible(b)}setCollapsible(S,b){const p=this.getElementLocation(S);return this.model.setCollapsible(p,b)}isCollapsed(S){const b=this.getElementLocation(S);return this.model.isCollapsed(b)}setCollapsed(S,b,p){const v=this.getElementLocation(S);return this.model.setCollapsed(v,b,p)}expandTo(S){const b=this.getElementLocation(S);this.model.expandTo(b)}refilter(){this.model.refilter()}getNode(S=null){if(S===null)return this.model.getNode(this.model.rootRef);const b=this.nodes.get(S);if(!b)throw new N.TreeError(this.user,`Tree element not found: ${S}`);return b}getNodeLocation(S){return S.element}getParentNodeLocation(S){if(S===null)throw new N.TreeError(this.user,"Invalid getParentNodeLocation call");const b=this.nodes.get(S);if(!b)throw new N.TreeError(this.user,`Tree element not found: ${S}`);const p=this.model.getNodeLocation(b),v=this.model.getParentNodeLocation(p);return this.model.getNode(v).element}getElementLocation(S){if(S===null)return[];const b=this.nodes.get(S);if(!b)throw new N.TreeError(this.user,`Tree element not found: ${S}`);return this.model.getNodeLocation(b)}}e.ObjectTreeModel=E}),define(ee[315],te([0,1,171,95,4,55]),function(Q,e,L,N,M,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTreeModel=e.DefaultElementMapper=e.CompressedObjectTreeModel=e.decompress=e.compress=void 0;function g(n){const r=[n.element],s=n.incompressible||!1;return{element:{elements:r,incompressible:s},children:E.Iterable.map(E.Iterable.from(n.children),g),collapsible:n.collapsible,collapsed:n.collapsed}}function S(n){const r=[n.element],s=n.incompressible||!1;let o,m;for(;[m,o]=E.Iterable.consume(E.Iterable.from(n.children),2),!(m.length!==1||m[0].incompressible);)n=m[0],r.push(n.element);return{element:{elements:r,incompressible:s},children:E.Iterable.map(E.Iterable.concat(m,o),S),collapsible:n.collapsible,collapsed:n.collapsed}}e.compress=S;function b(n,r=0){let s;return r<n.element.elements.length-1?s=[b(n,r+1)]:s=E.Iterable.map(E.Iterable.from(n.children),o=>b(o,0)),r===0&&n.element.incompressible?{element:n.element.elements[r],children:s,incompressible:!0,collapsible:n.collapsible,collapsed:n.collapsed}:{element:n.element.elements[r],children:s,collapsible:n.collapsible,collapsed:n.collapsed}}function p(n){return b(n,0)}e.decompress=p;function v(n,r,s){return n.element===r?Object.assign(Object.assign({},n),{children:s}):Object.assign(Object.assign({},n),{children:E.Iterable.map(E.Iterable.from(n.children),o=>v(o,r,s))})}const i=n=>({getId(r){return r.elements.map(s=>n.getId(s).toString()).join("\0")}});class t{constructor(r,s,o={}){this.user=r,this.rootRef=null,this.nodes=new Map,this.model=new L.ObjectTreeModel(r,s,o),this.enabled=typeof o.compressionEnabled=="undefined"?!0:o.compressionEnabled,this.identityProvider=o.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}get size(){return this.nodes.size}setChildren(r,s=E.Iterable.empty(),o){const m=o.diffIdentityProvider&&i(o.diffIdentityProvider);if(r===null){const T=E.Iterable.map(s,this.enabled?S:g);this._setChildren(null,T,{diffIdentityProvider:m,diffDepth:Infinity});return}const _=this.nodes.get(r);if(!_)throw new Error("Unknown compressed tree node");const f=this.model.getNode(_),c=this.model.getParentNodeLocation(_),C=this.model.getNode(c),y=p(f),w=v(y,r,s),D=(this.enabled?S:g)(w),I=C.children.map(T=>T===f?D:T);this._setChildren(C.element,I,{diffIdentityProvider:m,diffDepth:f.depth-C.depth})}isCompressionEnabled(){return this.enabled}setCompressionEnabled(r){if(r===this.enabled)return;this.enabled=r;const o=this.model.getNode().children,m=E.Iterable.map(o,p),_=E.Iterable.map(m,r?S:g);this._setChildren(null,_,{diffIdentityProvider:this.identityProvider,diffDepth:Infinity})}_setChildren(r,s,o){const m=new Set,_=c=>{for(const C of c.element.elements)m.add(C),this.nodes.set(C,c.element)},f=c=>{for(const C of c.element.elements)m.has(C)||this.nodes.delete(C)};this.model.setChildren(r,s,Object.assign(Object.assign({},o),{onDidCreateNode:_,onDidDeleteNode:f}))}has(r){return this.nodes.has(r)}getListIndex(r){const s=this.getCompressedNode(r);return this.model.getListIndex(s)}getListRenderCount(r){const s=this.getCompressedNode(r);return this.model.getListRenderCount(s)}getNode(r){if(typeof r=="undefined")return this.model.getNode();const s=this.getCompressedNode(r);return this.model.getNode(s)}getNodeLocation(r){const s=this.model.getNodeLocation(r);return s===null?null:s.elements[s.elements.length-1]}getParentNodeLocation(r){const s=this.getCompressedNode(r),o=this.model.getParentNodeLocation(s);return o===null?null:o.elements[o.elements.length-1]}getFirstElementChild(r){const s=this.getCompressedNode(r);return this.model.getFirstElementChild(s)}getLastElementAncestor(r){const s=typeof r=="undefined"?void 0:this.getCompressedNode(r);return this.model.getLastElementAncestor(s)}isCollapsible(r){const s=this.getCompressedNode(r);return this.model.isCollapsible(s)}setCollapsible(r,s){const o=this.getCompressedNode(r);return this.model.setCollapsible(o,s)}isCollapsed(r){const s=this.getCompressedNode(r);return this.model.isCollapsed(s)}setCollapsed(r,s,o){const m=this.getCompressedNode(r);return this.model.setCollapsed(m,s,o)}expandTo(r){const s=this.getCompressedNode(r);this.model.expandTo(s)}rerender(r){const s=this.getCompressedNode(r);this.model.rerender(s)}updateElementHeight(r,s){const o=this.getCompressedNode(r);!o||this.model.updateElementHeight(o,s)}refilter(){this.model.refilter()}resort(r=null,s=!0){const o=this.getCompressedNode(r);this.model.resort(o,s)}getCompressedNode(r){if(r===null)return null;const s=this.nodes.get(r);if(!s)throw new N.TreeError(this.user,`Tree element not found: ${r}`);return s}}e.CompressedObjectTreeModel=t;const a=n=>n[n.length-1];e.DefaultElementMapper=a;class l{constructor(r,s){this.unwrapper=r,this.node=s}get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(r=>new l(this.unwrapper,r))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}function h(n,r){return{splice(s,o,m){r.splice(s,o,m.map(_=>n.map(_)))},updateElementHeight(s,o){r.updateElementHeight(s,o)}}}function d(n,r){return Object.assign(Object.assign({},r),{identityProvider:r.identityProvider&&{getId(s){return r.identityProvider.getId(n(s))}},sorter:r.sorter&&{compare(s,o){return r.sorter.compare(s.elements[0],o.elements[0])}},filter:r.filter&&{filter(s,o){return r.filter.filter(n(s),o)}}})}class u{constructor(r,s,o={}){this.rootRef=null,this.elementMapper=o.elementMapper||e.DefaultElementMapper;const m=_=>this.elementMapper(_.elements);this.nodeMapper=new N.WeakMapper(_=>new l(m,_)),this.model=new t(r,h(this.nodeMapper,s),d(m,o))}get onDidSplice(){return M.Event.map(this.model.onDidSplice,({insertedNodes:r,deletedNodes:s})=>({insertedNodes:r.map(o=>this.nodeMapper.map(o)),deletedNodes:s.map(o=>this.nodeMapper.map(o))}))}get onDidChangeCollapseState(){return M.Event.map(this.model.onDidChangeCollapseState,({node:r,deep:s})=>({node:this.nodeMapper.map(r),deep:s}))}get onDidChangeRenderNodeCount(){return M.Event.map(this.model.onDidChangeRenderNodeCount,r=>this.nodeMapper.map(r))}setChildren(r,s=E.Iterable.empty(),o={}){this.model.setChildren(r,s,o)}isCompressionEnabled(){return this.model.isCompressionEnabled()}setCompressionEnabled(r){this.model.setCompressionEnabled(r)}has(r){return this.model.has(r)}getListIndex(r){return this.model.getListIndex(r)}getListRenderCount(r){return this.model.getListRenderCount(r)}getNode(r){return this.nodeMapper.map(this.model.getNode(r))}getNodeLocation(r){return r.element}getParentNodeLocation(r){return this.model.getParentNodeLocation(r)}getFirstElementChild(r){const s=this.model.getFirstElementChild(r);return s===null||typeof s=="undefined"?s:this.elementMapper(s.elements)}getLastElementAncestor(r){const s=this.model.getLastElementAncestor(r);return s===null||typeof s=="undefined"?s:this.elementMapper(s.elements)}isCollapsible(r){return this.model.isCollapsible(r)}setCollapsible(r,s){return this.model.setCollapsible(r,s)}isCollapsed(r){return this.model.isCollapsed(r)}setCollapsed(r,s,o){return this.model.setCollapsed(r,s,o)}expandTo(r){return this.model.expandTo(r)}rerender(r){return this.model.rerender(r)}updateElementHeight(r,s){this.model.updateElementHeight(r,s)}refilter(){return this.model.refilter()}resort(r=null,s=!0){return this.model.resort(r,s)}getCompressedTreeNode(r=null){return this.model.getNode(r)}}e.CompressibleObjectTreeModel=u});var Ft=this&&this.__classPrivateFieldSet||function(Q,e,L,N,M){if(N==="m")throw new TypeError("Private method is not writable");if(N==="a"&&!M)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?Q!==e||!M:!e.has(Q))throw new TypeError("Cannot write private member to an object whose class did not declare it");return N==="a"?M.call(Q,L):M?M.value=L:e.set(Q,L),L},mt=this&&this.__classPrivateFieldGet||function(Q,e,L,N){if(L==="a"&&!N)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?Q!==e||!N:!e.has(Q))throw new TypeError("Cannot read private member from an object whose class did not declare it");return L==="m"?N:L==="a"?N.call(Q):N?N.value:e.get(Q)};define(ee[48],te([0,1,19,8]),function(Q,e,L,N){"use strict";var M,E,g;Object.defineProperty(e,"__esModule",{value:!0}),e.ReadonlyMapView=e.LRUCache=e.LinkedMap=e.ResourceMap=e.TernarySearchTree=e.UriIterator=e.PathIterator=e.ConfigKeysIterator=e.StringIterator=e.setToString=e.mapToString=e.getOrSet=void 0;function S(o,m,_){let f=o.get(m);return f===void 0&&(f=_,o.set(m,f)),f}e.getOrSet=S;function b(o){const m=[];return o.forEach((_,f)=>{m.push(`${f} => ${_}`)}),`Map(${o.size}) {${m.join(", ")}}`}e.mapToString=b;function p(o){const m=[];return o.forEach(_=>{m.push(_)}),`Set(${o.size}) {${m.join(", ")}}`}e.setToString=p;class v{constructor(){this._value="",this._pos=0}reset(m){return this._value=m,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(m){const _=m.charCodeAt(0),f=this._value.charCodeAt(this._pos);return _-f}value(){return this._value[this._pos]}}e.StringIterator=v;class i{constructor(m=!0){this._caseSensitive=m}reset(m){return this._value=m,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let m=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(m)this._from++;else break;else m=!1;return this}cmp(m){return this._caseSensitive?(0,N.compareSubstring)(m,this._value,0,m.length,this._from,this._to):(0,N.compareSubstringIgnoreCase)(m,this._value,0,m.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.ConfigKeysIterator=i;class t{constructor(m=!0,_=!0){this._splitOnBackslash=m,this._caseSensitive=_}reset(m){return this._value=m.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let m=!0;for(;this._to<this._value.length;this._to++){const _=this._value.charCodeAt(this._to);if(_===47||this._splitOnBackslash&&_===92)if(m)this._from++;else break;else m=!1}return this}cmp(m){return this._caseSensitive?(0,N.compareSubstring)(m,this._value,0,m.length,this._from,this._to):(0,N.compareSubstringIgnoreCase)(m,this._value,0,m.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.PathIterator=t;class a{constructor(m){this._ignorePathCasing=m,this._states=[],this._stateIdx=0}reset(m){return this._value=m,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new t(!1,!this._ignorePathCasing(m)),this._pathIterator.reset(m.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(m){if(this._states[this._stateIdx]===1)return(0,N.compareIgnoreCase)(m,this._value.scheme);if(this._states[this._stateIdx]===2)return(0,N.compareIgnoreCase)(m,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(m);if(this._states[this._stateIdx]===4)return(0,N.compare)(m,this._value.query);if(this._states[this._stateIdx]===5)return(0,N.compare)(m,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}e.UriIterator=a;class l{constructor(){this.height=1}isEmpty(){return!this.left&&!this.mid&&!this.right&&!this.value}rotateLeft(){const m=this.right;return this.right=m.left,m.left=this,this.updateHeight(),m.updateHeight(),m}rotateRight(){const m=this.left;return this.left=m.right,m.right=this,this.updateHeight(),m.updateHeight(),m}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var m,_;return(_=(m=this.left)===null||m===void 0?void 0:m.height)!==null&&_!==void 0?_:0}get heightRight(){var m,_;return(_=(m=this.right)===null||m===void 0?void 0:m.height)!==null&&_!==void 0?_:0}}class h{constructor(m){this._iter=m}static forUris(m=()=>!1){return new h(new a(m))}static forPaths(){return new h(new t)}static forStrings(){return new h(new v)}static forConfigKeys(){return new h(new i)}clear(){this._root=void 0}fill(m,_){if(_){const f=_.slice(0);(0,L.shuffle)(f);for(let c of f)this.set(c,m)}else{const f=m.slice(0);(0,L.shuffle)(f);for(let c of f)this.set(c[0],c[1])}}set(m,_){const f=this._iter.reset(m);let c;this._root||(this._root=new l,this._root.segment=f.value());const C=[];for(c=this._root;;){const w=f.cmp(c.segment);if(w>0)c.left||(c.left=new l,c.left.segment=f.value()),C.push([-1,c]),c=c.left;else if(w<0)c.right||(c.right=new l,c.right.segment=f.value()),C.push([1,c]),c=c.right;else if(f.hasNext())f.next(),c.mid||(c.mid=new l,c.mid.segment=f.value()),C.push([0,c]),c=c.mid;else break}const y=c.value;c.value=_,c.key=m;for(let w=C.length-1;w>=0;w--){const D=C[w][1];D.updateHeight();const I=D.balanceFactor();if(I<-1||I>1){const T=C[w][0],F=C[w+1][0];if(T===1&&F===1)C[w][1]=D.rotateLeft();else if(T===-1&&F===-1)C[w][1]=D.rotateRight();else if(T===1&&F===-1)D.right=C[w+1][1]=C[w+1][1].rotateRight(),C[w][1]=D.rotateLeft();else if(T===-1&&F===1)D.left=C[w+1][1]=C[w+1][1].rotateLeft(),C[w][1]=D.rotateRight();else throw new Error;if(w>0)switch(C[w-1][0]){case-1:C[w-1][1].left=C[w][1];break;case 1:C[w-1][1].right=C[w][1];break;case 0:C[w-1][1].mid=C[w][1];break}else this._root=C[0][1]}}return y}get(m){var _;return(_=this._getNode(m))===null||_===void 0?void 0:_.value}_getNode(m){const _=this._iter.reset(m);let f=this._root;for(;f;){const c=_.cmp(f.segment);if(c>0)f=f.left;else if(c<0)f=f.right;else if(_.hasNext())_.next(),f=f.mid;else break}return f}has(m){const _=this._getNode(m);return!((_==null?void 0:_.value)===void 0&&(_==null?void 0:_.mid)===void 0)}delete(m){return this._delete(m,!1)}deleteSuperstr(m){return this._delete(m,!0)}_delete(m,_){var f;const c=this._iter.reset(m),C=[];let y=this._root;for(;y;){const w=c.cmp(y.segment);if(w>0)C.push([-1,y]),y=y.left;else if(w<0)C.push([1,y]),y=y.right;else if(c.hasNext())c.next(),C.push([0,y]),y=y.mid;else break}if(!!y){if(_?(y.left=void 0,y.mid=void 0,y.right=void 0,y.height=1):(y.key=void 0,y.value=void 0),!y.mid&&!y.value)if(y.left&&y.right){const w=this._min(y.right),{key:D,value:I,segment:T}=w;this._delete(w.key,!1),y.key=D,y.value=I,y.segment=T}else{const w=(f=y.left)!==null&&f!==void 0?f:y.right;if(C.length>0){const[D,I]=C[C.length-1];switch(D){case-1:I.left=w;break;case 0:I.mid=w;break;case 1:I.right=w;break}}else this._root=w}for(let w=C.length-1;w>=0;w--){const D=C[w][1];D.updateHeight();const I=D.balanceFactor();if(I>1?(D.right.balanceFactor()>=0||(D.right=C[w+1][1]=C[w+1][1].rotateRight()),C[w][1]=D.rotateLeft()):I<-1&&(D.left.balanceFactor()<=0||(D.left=C[w+1][1]=C[w+1][1].rotateLeft()),C[w][1]=D.rotateRight()),w>0)switch(C[w-1][0]){case-1:C[w-1][1].left=C[w][1];break;case 1:C[w-1][1].right=C[w][1];break;case 0:C[w-1][1].mid=C[w][1];break}else this._root=C[0][1]}}}_min(m){for(;m.left;)m=m.left;return m}findSubstr(m){const _=this._iter.reset(m);let f=this._root,c;for(;f;){const C=_.cmp(f.segment);if(C>0)f=f.left;else if(C<0)f=f.right;else if(_.hasNext())_.next(),c=f.value||c,f=f.mid;else break}return f&&f.value||c}findSuperstr(m){const _=this._iter.reset(m);let f=this._root;for(;f;){const c=_.cmp(f.segment);if(c>0)f=f.left;else if(c<0)f=f.right;else if(_.hasNext())_.next(),f=f.mid;else return f.mid?this._entries(f.mid):void 0}}forEach(m){for(const[_,f]of this)m(f,_)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(m){!m||(m.left&&(yield*this._entries(m.left)),m.value&&(yield[m.key,m.value]),m.mid&&(yield*this._entries(m.mid)),m.right&&(yield*this._entries(m.right)))}_isBalanced(){const m=_=>{if(!_)return!0;const f=_.balanceFactor();return f<-1||f>1?!1:m(_.left)&&m(_.right)};return m(this._root)}}e.TernarySearchTree=h;class d{constructor(m,_){this.uri=m,this.value=_}}class u{constructor(m,_){this[M]="ResourceMap",m instanceof u?(this.map=new Map(m.map),this.toKey=_!=null?_:u.defaultToKey):(this.map=new Map,this.toKey=m!=null?m:u.defaultToKey)}set(m,_){return this.map.set(this.toKey(m),new d(m,_)),this}get(m){var _;return(_=this.map.get(this.toKey(m)))===null||_===void 0?void 0:_.value}has(m){return this.map.has(this.toKey(m))}get size(){return this.map.size}clear(){this.map.clear()}delete(m){return this.map.delete(this.toKey(m))}forEach(m,_){typeof _!="undefined"&&(m=m.bind(_));for(let[f,c]of this.map)m(c.value,c.uri,this)}*values(){for(let m of this.map.values())yield m.value}*keys(){for(let m of this.map.values())yield m.uri}*entries(){for(let m of this.map.values())yield[m.uri,m.value]}*[(M=Symbol.toStringTag,Symbol.iterator)](){for(let[,m]of this.map)yield[m.uri,m.value]}}e.ResourceMap=u,u.defaultToKey=o=>o.toString();class n{constructor(){this[E]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var m;return(m=this._head)===null||m===void 0?void 0:m.value}get last(){var m;return(m=this._tail)===null||m===void 0?void 0:m.value}has(m){return this._map.has(m)}get(m,_=0){const f=this._map.get(m);if(!!f)return _!==0&&this.touch(f,_),f.value}set(m,_,f=0){let c=this._map.get(m);if(c)c.value=_,f!==0&&this.touch(c,f);else{switch(c={key:m,value:_,next:void 0,previous:void 0},f){case 0:this.addItemLast(c);break;case 1:this.addItemFirst(c);break;case 2:this.addItemLast(c);break;default:this.addItemLast(c);break}this._map.set(m,c),this._size++}return this}delete(m){return!!this.remove(m)}remove(m){const _=this._map.get(m);if(!!_)return this._map.delete(m),this.removeItem(_),this._size--,_.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const m=this._head;return this._map.delete(m.key),this.removeItem(m),this._size--,m.value}forEach(m,_){const f=this._state;let c=this._head;for(;c;){if(_?m.bind(_)(c.value,c.key,this):m(c.value,c.key,this),this._state!==f)throw new Error("LinkedMap got modified during iteration.");c=c.next}}keys(){const m=this,_=this._state;let f=this._head;const c={[Symbol.iterator](){return c},next(){if(m._state!==_)throw new Error("LinkedMap got modified during iteration.");if(f){const C={value:f.key,done:!1};return f=f.next,C}else return{value:void 0,done:!0}}};return c}values(){const m=this,_=this._state;let f=this._head;const c={[Symbol.iterator](){return c},next(){if(m._state!==_)throw new Error("LinkedMap got modified during iteration.");if(f){const C={value:f.value,done:!1};return f=f.next,C}else return{value:void 0,done:!0}}};return c}entries(){const m=this,_=this._state;let f=this._head;const c={[Symbol.iterator](){return c},next(){if(m._state!==_)throw new Error("LinkedMap got modified during iteration.");if(f){const C={value:[f.key,f.value],done:!1};return f=f.next,C}else return{value:void 0,done:!0}}};return c}[(E=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(m){if(m>=this.size)return;if(m===0){this.clear();return}let _=this._head,f=this.size;for(;_&&f>m;)this._map.delete(_.key),_=_.next,f--;this._head=_,this._size=f,_&&(_.previous=void 0),this._state++}addItemFirst(m){if(!this._head&&!this._tail)this._tail=m;else if(this._head)m.next=this._head,this._head.previous=m;else throw new Error("Invalid list");this._head=m,this._state++}addItemLast(m){if(!this._head&&!this._tail)this._head=m;else if(this._tail)m.previous=this._tail,this._tail.next=m;else throw new Error("Invalid list");this._tail=m,this._state++}removeItem(m){if(m===this._head&&m===this._tail)this._head=void 0,this._tail=void 0;else if(m===this._head){if(!m.next)throw new Error("Invalid list");m.next.previous=void 0,this._head=m.next}else if(m===this._tail){if(!m.previous)throw new Error("Invalid list");m.previous.next=void 0,this._tail=m.previous}else{const _=m.next,f=m.previous;if(!_||!f)throw new Error("Invalid list");_.previous=f,f.next=_}m.next=void 0,m.previous=void 0,this._state++}touch(m,_){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(_!==1&&_!==2)){if(_===1){if(m===this._head)return;const f=m.next,c=m.previous;m===this._tail?(c.next=void 0,this._tail=c):(f.previous=c,c.next=f),m.previous=void 0,m.next=this._head,this._head.previous=m,this._head=m,this._state++}else if(_===2){if(m===this._tail)return;const f=m.next,c=m.previous;m===this._head?(f.previous=void 0,this._head=f):(f.previous=c,c.next=f),m.next=void 0,m.previous=this._tail,this._tail.next=m,this._tail=m,this._state++}}}toJSON(){const m=[];return this.forEach((_,f)=>{m.push([f,_])}),m}fromJSON(m){this.clear();for(const[_,f]of m)this.set(_,f)}}e.LinkedMap=n;class r extends n{constructor(m,_=1){super();this._limit=m,this._ratio=Math.min(Math.max(0,_),1)}get limit(){return this._limit}set limit(m){this._limit=m,this.checkTrim()}get ratio(){return this._ratio}set ratio(m){this._ratio=Math.min(Math.max(0,m),1),this.checkTrim()}get(m,_=2){return super.get(m,_)}peek(m){return super.get(m,0)}set(m,_){return super.set(m,_,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}e.LRUCache=r;class s{constructor(m){g.set(this,void 0),Ft(this,g,m,"f")}get size(){return mt(this,g,"f").size}forEach(m,_){mt(this,g,"f").forEach(m,_)}get(m){return mt(this,g,"f").get(m)}has(m){return mt(this,g,"f").has(m)}entries(){return mt(this,g,"f").entries()}keys(){return mt(this,g,"f").keys()}values(){return mt(this,g,"f").values()}[(g=new WeakMap,Symbol.iterator)](){return mt(this,g,"f").entries()}}e.ReadonlyMapView=s}),define(ee[72],te([0,1,48,8]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fuzzyScoreGraceful=e.fuzzyScoreGracefulAggressive=e.fuzzyScore=e.FuzzyScore=e.isPatternInWord=e.createMatches=e.anyScore=e.matchesFuzzy2=e.matchesFuzzy=e.matchesWords=e.matchesCamelCase=e.isUpper=e.matchesSubString=e.matchesContiguousSubString=e.matchesPrefix=e.matchesStrictPrefix=e.or=void 0;function M(...$){return function(ie,le){for(let de=0,fe=$.length;de<fe;de++){const he=$[de](ie,le);if(he)return he}return null}}e.or=M,e.matchesStrictPrefix=E.bind(void 0,!1),e.matchesPrefix=E.bind(void 0,!0);function E($,ie,le){if(!le||le.length<ie.length)return null;let de;return $?de=N.startsWithIgnoreCase(le,ie):de=le.indexOf(ie)===0,de?ie.length>0?[{start:0,end:ie.length}]:[]:null}function g($,ie){const le=ie.toLowerCase().indexOf($.toLowerCase());return le===-1?null:[{start:le,end:le+$.length}]}e.matchesContiguousSubString=g;function S($,ie){return b($.toLowerCase(),ie.toLowerCase(),0,0)}e.matchesSubString=S;function b($,ie,le,de){if(le===$.length)return[];if(de===ie.length)return null;if($[le]===ie[de]){let fe=null;return(fe=b($,ie,le+1,de+1))?u({start:de,end:de+1},fe):null}return b($,ie,le,de+1)}function p($){return 97<=$&&$<=122}function v($){return 65<=$&&$<=90}e.isUpper=v;function i($){return 48<=$&&$<=57}function t($){return $===32||$===9||$===10||$===13}const a=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach($=>a.add($.charCodeAt(0)));function l($){return t($)||a.has($)}function h($,ie){return $===ie||l($)&&l(ie)}function d($){return p($)||v($)||i($)}function u($,ie){return ie.length===0?ie=[$]:$.end===ie[0].start?ie[0].start=$.start:ie.unshift($),ie}function n($,ie){for(let le=ie;le<$.length;le++){const de=$.charCodeAt(le);if(v(de)||i(de)||le>0&&!d($.charCodeAt(le-1)))return le}return $.length}function r($,ie,le,de){if(le===$.length)return[];if(de===ie.length)return null;if($[le]!==ie[de].toLowerCase())return null;{let fe=null,he=de+1;for(fe=r($,ie,le+1,de+1);!fe&&(he=n(ie,he))<ie.length;)fe=r($,ie,le+1,he),he++;return fe===null?null:u({start:de,end:de+1},fe)}}function s($){let ie=0,le=0,de=0,fe=0,he=0;for(let ue=0;ue<$.length;ue++)he=$.charCodeAt(ue),v(he)&&ie++,p(he)&&le++,d(he)&&de++,i(he)&&fe++;const se=ie/$.length,ce=le/$.length,Se=de/$.length,Le=fe/$.length;return{upperPercent:se,lowerPercent:ce,alphaPercent:Se,numericPercent:Le}}function o($){const{upperPercent:ie,lowerPercent:le}=$;return le===0&&ie>.6}function m($){const{upperPercent:ie,lowerPercent:le,alphaPercent:de,numericPercent:fe}=$;return le>.2&&ie<.8&&de>.6&&fe<.2}function _($){let ie=0,le=0,de=0,fe=0;for(let he=0;he<$.length;he++)de=$.charCodeAt(he),v(de)&&ie++,p(de)&&le++,t(de)&&fe++;return(ie===0||le===0)&&fe===0?$.length<=30:ie<=5}function f($,ie){if(!ie||(ie=ie.trim(),ie.length===0)||!_($)||ie.length>60)return null;const le=s(ie);if(!m(le)){if(!o(le))return null;ie=ie.toLowerCase()}let de=null,fe=0;for($=$.toLowerCase();fe<ie.length&&(de=r($,ie,0,fe))===null;)fe=n(ie,fe+1);return de}e.matchesCamelCase=f;function c($,ie,le=!1){if(!ie||ie.length===0)return null;let de=null,fe=0;for($=$.toLowerCase(),ie=ie.toLowerCase();fe<ie.length&&(de=C($,ie,0,fe,le))===null;)fe=y(ie,fe+1);return de}e.matchesWords=c;function C($,ie,le,de,fe){if(le===$.length)return[];if(de===ie.length)return null;if(h($.charCodeAt(le),ie.charCodeAt(de))){let he=null,se=de+1;if(he=C($,ie,le+1,de+1,fe),!fe)for(;!he&&(se=y(ie,se))<ie.length;)he=C($,ie,le+1,se,fe),se++;return he===null?null:u({start:de,end:de+1},he)}else return null}function y($,ie){for(let le=ie;le<$.length;le++)if(l($.charCodeAt(le))||le>0&&l($.charCodeAt(le-1)))return le;return $.length}const w=M(e.matchesPrefix,f,g),D=M(e.matchesPrefix,f,S),I=new L.LRUCache(1e4);function T($,ie,le=!1){if(typeof $!="string"||typeof ie!="string")return null;let de=I.get($);de||(de=new RegExp(N.convertSimple2RegExpPattern($),"i"),I.set($,de));const fe=de.exec(ie);return fe?[{start:fe.index,end:fe.index+fe[0].length}]:le?D($,ie):w($,ie)}e.matchesFuzzy=T;function F($,ie){const le=Y($,$.toLowerCase(),0,ie,ie.toLowerCase(),0,!0);return le?R(le):null}e.matchesFuzzy2=F;function P($,ie,le,de,fe,he){const se=Math.min(13,$.length);for(;le<se;le++){const ce=Y($,ie,le,de,fe,he,!1);if(ce)return ce}return[0,he]}e.anyScore=P;function R($){if(typeof $=="undefined")return[];const ie=[],le=$[1];for(let de=$.length-1;de>1;de--){const fe=$[de]+le,he=ie[ie.length-1];he&&he.end===fe?he.end=fe+1:ie.push({start:fe,end:fe+1})}return ie}e.createMatches=R;const A=128;function O(){const $=[],ie=[];for(let le=0;le<=A;le++)ie[le]=0;for(let le=0;le<=A;le++)$.push(ie.slice(0));return $}function k($){const ie=[];for(let le=0;le<=$;le++)ie[le]=0;return ie}const V=k(2*A),B=k(2*A),x=O(),K=O(),X=O(),Z=!1;function q($,ie,le,de,fe){function he(ce,Se,Le=" "){for(;ce.length<Se;)ce=Le+ce;return ce}let se=` |   |${de.split("").map(ce=>he(ce,3)).join("|")}
`;for(let ce=0;ce<=le;ce++)ce===0?se+=" |":se+=`${ie[ce-1]}|`,se+=$[ce].slice(0,fe+1).map(Se=>he(Se.toString(),3)).join("|")+`
`;return se}function H($,ie,le,de){$=$.substr(ie),le=le.substr(de),console.log(q(K,$,$.length,le,le.length)),console.log(q(X,$,$.length,le,le.length)),console.log(q(x,$,$.length,le,le.length))}function G($,ie){if(ie<0||ie>=$.length)return!1;const le=$.codePointAt(ie);switch(le){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 40:case 91:return!0;case void 0:return!1;default:return!!N.isEmojiImprecise(le)}}function z($,ie){if(ie<0||ie>=$.length)return!1;switch($.charCodeAt(ie)){case 32:case 9:return!0;default:return!1}}function W($,ie,le){return ie[$]!==le[$]}function j($,ie,le,de,fe,he,se=!1){for(;ie<le&&fe<he;)$[ie]===de[fe]&&(se&&(V[ie]=fe),ie+=1),fe+=1;return ie===le}e.isPatternInWord=j;var U;(function($){$.Default=[-100,0];function ie(le){return!le||le.length===2&&le[0]===-100&&le[1]===0}$.isDefault=ie})(U=e.FuzzyScore||(e.FuzzyScore={}));function Y($,ie,le,de,fe,he,se){const ce=$.length>A?A:$.length,Se=de.length>A?A:de.length;if(le>=ce||he>=Se||ce-le>Se-he||!j(ie,le,ce,fe,he,Se,!0))return;ne(ce,Se,le,he,ie,fe);let Le=1,ue=1,we=le,ae=he;const me=[!1];for(Le=1,we=le;we<ce;Le++,we++){const be=V[we],Ne=B[we],Be=we+1<ce?B[we+1]:Se;for(ue=be-he+1,ae=be;ae<Be;ue++,ae++){let $e=Number.MIN_SAFE_INTEGER,je=!1;ae<=Ne&&($e=J($,ie,we,le,de,fe,ae,Se,he,x[Le-1][ue-1]===0,me));let He=0;$e!==Number.MAX_SAFE_INTEGER&&(je=!0,He=$e+K[Le-1][ue-1]);const qe=ae>be,Pe=qe?K[Le][ue-1]+(x[Le][ue-1]>0?-5:0):0,Ae=ae>be+1&&x[Le][ue-1]>0,Re=Ae?K[Le][ue-2]+(x[Le][ue-2]>0?-5:0):0;if(Ae&&(!qe||Re>=Pe)&&(!je||Re>=He))K[Le][ue]=Re,X[Le][ue]=3,x[Le][ue]=0;else if(qe&&(!je||Pe>=He))K[Le][ue]=Pe,X[Le][ue]=2,x[Le][ue]=0;else if(je)K[Le][ue]=He,X[Le][ue]=1,x[Le][ue]=x[Le-1][ue-1]+1;else throw new Error("not possible")}}if(Z&&H($,le,de,he),!me[0]&&!se)return;Le--,ue--;const Ie=[K[Le][ue],he];let Fe=0,ze=0;for(;Le>=1;){let be=ue;do{const Ne=X[Le][be];if(Ne===3)be=be-2;else if(Ne===2)be=be-1;else break}while(be>=1);Fe>1&&ie[le+Le-1]===fe[he+ue-1]&&!W(be+he-1,de,fe)&&Fe+1>x[Le][be]&&(be=ue),be===ue?Fe++:Fe=1,ze||(ze=be),Le--,ue=be-1,Ie.push(ue)}Se===ce&&(Ie[0]+=2);const Ke=ze-ce;return Ie[0]-=Ke,Ie}e.fuzzyScore=Y;function ne($,ie,le,de,fe,he){let se=$-1,ce=ie-1;for(;se>=le&&ce>=de;)fe[se]===he[ce]&&(B[se]=ce,se--),ce--}function J($,ie,le,de,fe,he,se,ce,Se,Le,ue){if(ie[le]!==he[se])return Number.MIN_SAFE_INTEGER;let we=1,ae=!1;return se===le-de?we=$[le]===fe[se]?7:5:W(se,fe,he)&&(se===0||!W(se-1,fe,he))?(we=$[le]===fe[se]?7:5,ae=!0):G(he,se)&&(se===0||!G(he,se-1))?we=5:(G(he,se-1)||z(he,se-1))&&(we=5,ae=!0),we>1&&le===de&&(ue[0]=!0),ae||(ae=W(se,fe,he)||G(he,se-1)||z(he,se-1)),le===de?se>Se&&(we-=ae?3:5):Le?we+=ae?2:0:we+=ae?0:1,se+1===ce&&(we-=ae?3:5),we}function re($,ie,le,de,fe,he,se){return pe($,ie,le,de,fe,he,!0,se)}e.fuzzyScoreGracefulAggressive=re;function ge($,ie,le,de,fe,he,se){return pe($,ie,le,de,fe,he,!1,se)}e.fuzzyScoreGraceful=ge;function pe($,ie,le,de,fe,he,se,ce){let Se=Y($,ie,le,de,fe,he,ce);if(Se&&!se)return Se;if($.length>=3){const Le=Math.min(7,$.length-1);for(let ue=le+1;ue<Le;ue++){const we=oe($,ue);if(we){const ae=Y(we,we.toLowerCase(),le,de,fe,he,ce);ae&&(ae[0]-=3,(!Se||ae[0]>Se[0])&&(Se=ae))}}}return Se}function oe($,ie){if(ie+1>=$.length)return;const le=$[ie],de=$[ie+1];if(le!==de)return $.slice(0,ie)+de+le+$.slice(ie+2)}}),define(ee[110],te([0,1,27,72,8]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchesFuzzyIconAware=e.parseLabelWithIcons=e.stripIcons=e.markdownEscapeEscapedIcons=e.escapeIcons=e.iconStartMarker=void 0,e.iconStartMarker="$(";const E=new RegExp(`\\$\\(${L.CSSIcon.iconNameExpression}(?:${L.CSSIcon.iconModifierExpression})?\\)`,"g"),g=new RegExp(L.CSSIcon.iconNameCharacter),S=new RegExp(`(\\\\)?${E.source}`,"g");function b(d){return d.replace(S,(u,n)=>n?u:`\\${u}`)}e.escapeIcons=b;const p=new RegExp(`\\\\${E.source}`,"g");function v(d){return d.replace(p,u=>`\\${u}`)}e.markdownEscapeEscapedIcons=v;const i=new RegExp(`(\\s)?(\\\\)?${E.source}(\\s)?`,"g");function t(d){return d.indexOf(e.iconStartMarker)===-1?d:d.replace(i,(u,n,r,s)=>r?u:n||s||"")}e.stripIcons=t;function a(d){const u=d.indexOf(e.iconStartMarker);return u===-1?{text:d}:l(d,u)}e.parseLabelWithIcons=a;function l(d,u){const n=[];let r="";function s(w){if(w){r+=w;for(const D of w)n.push(_)}}let o=-1,m="",_=0,f,c,C=u;const y=d.length;for(s(d.substr(0,u));C<y;)f=d[C],c=d[C+1],f===e.iconStartMarker[0]&&c===e.iconStartMarker[1]?(o=C,s(m),m=e.iconStartMarker,C++):f===")"&&o!==-1?(_+=C-o+1,o=-1,m=""):o!==-1?g.test(f)?m+=f:(s(m),o=-1,m=""):s(f),C++;return s(m),{text:r,iconOffsets:n}}function h(d,u,n=!1){const{text:r,iconOffsets:s}=u;if(!s||s.length===0)return(0,N.matchesFuzzy)(d,r,n);const o=(0,M.ltrim)(r," "),m=r.length-o.length,_=(0,N.matchesFuzzy)(d,o,n);if(_)for(const f of _){const c=s[f.start+m]+m;f.start+=c,f.end+=c}return _}e.matchesFuzzyIconAware=h}),define(ee[73],te([0,1,12,110]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseHrefAndDimensions=e.removeMarkdownEscapes=e.escapeMarkdownSyntaxTokens=e.markdownStringEqual=e.isMarkdownString=e.isEmptyMarkdownString=e.MarkdownString=void 0;class M{constructor(t="",a=!1){var l,h,d;if(this.value=t,typeof this.value!="string")throw(0,L.illegalArgument)("value");typeof a=="boolean"?(this.isTrusted=a,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(l=a.isTrusted)!==null&&l!==void 0?l:void 0,this.supportThemeIcons=(h=a.supportThemeIcons)!==null&&h!==void 0?h:!1,this.supportHtml=(d=a.supportHtml)!==null&&d!==void 0?d:!1)}appendText(t,a=0){return this.value+=b(this.supportThemeIcons?(0,N.escapeIcons)(t):t).replace(/([ \t]+)/g,(l,h)=>"&nbsp;".repeat(h.length)).replace(/\>/gm,"\\>").replace(/\n/g,a===1?`\\
`:`

`),this}appendMarkdown(t){return this.value+=t,this}appendCodeblock(t,a){return this.value+="\n```",this.value+=t,this.value+=`
`,this.value+=a,this.value+="\n```\n",this}}e.MarkdownString=M;function E(i){return g(i)?!i.value:Array.isArray(i)?i.every(E):!0}e.isEmptyMarkdownString=E;function g(i){return i instanceof M?!0:i&&typeof i=="object"?typeof i.value=="string"&&(typeof i.isTrusted=="boolean"||i.isTrusted===void 0)&&(typeof i.supportThemeIcons=="boolean"||i.supportThemeIcons===void 0):!1}e.isMarkdownString=g;function S(i,t){return i===t?!0:!i||!t?!1:i.value===t.value&&i.isTrusted===t.isTrusted&&i.supportThemeIcons===t.supportThemeIcons}e.markdownStringEqual=S;function b(i){return i.replace(/[\\`*_{}[\]()#+\-!]/g,"\\$&")}e.escapeMarkdownSyntaxTokens=b;function p(i){return i&&i.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}e.removeMarkdownEscapes=p;function v(i){const t=[],a=i.split("|").map(h=>h.trim());i=a[0];const l=a[1];if(l){const h=/height=(\d+)/.exec(l),d=/width=(\d+)/.exec(l),u=h?h[1]:"",n=d?d[1]:"",r=isFinite(parseInt(n)),s=isFinite(parseInt(u));r&&t.push(`width="${n}"`),s&&t.push(`height="${u}"`)}return{href:i,dimensions:t}}e.parseHrefAndDimensions=v}),define(ee[316],te([0,1,8]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildReplaceStringWithCasePreserved=void 0;function N(g,S){if(g&&g[0]!==""){const b=M(g,S,"-"),p=M(g,S,"_");return b&&!p?E(g,S,"-"):!b&&p?E(g,S,"_"):g[0].toUpperCase()===g[0]?S.toUpperCase():g[0].toLowerCase()===g[0]?S.toLowerCase():L.containsUppercaseCharacter(g[0][0])&&S.length>0?S[0].toUpperCase()+S.substr(1):g[0][0].toUpperCase()!==g[0][0]&&S.length>0?S[0].toLowerCase()+S.substr(1):S}else return S}e.buildReplaceStringWithCasePreserved=N;function M(g,S,b){return g[0].indexOf(b)!==-1&&S.indexOf(b)!==-1&&g[0].split(b).length===S.split(b).length}function E(g,S,b){const p=S.split(b),v=g[0].split(b);let i="";return p.forEach((t,a)=>{i+=N([v[a]],t)+b}),i.slice(0,-1)}}),define(ee[82],te([0,1,8]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var N;(function(M){M[M.Ignore=0]="Ignore",M[M.Info=1]="Info",M[M.Warning=2]="Warning",M[M.Error=3]="Error"})(N||(N={})),function(M){const E="error",g="warning",S="warn",b="info",p="ignore";function v(t){return t?L.equalsIgnoreCase(E,t)?M.Error:L.equalsIgnoreCase(g,t)||L.equalsIgnoreCase(S,t)?M.Warning:L.equalsIgnoreCase(b,t)?M.Info:M.Ignore:M.Ignore}M.fromValue=v;function i(t){switch(t){case M.Error:return E;case M.Warning:return g;case M.Info:return b;default:return p}}M.toString=i}(N||(N={})),e.default=N}),define(ee[20],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isPromise=e.assertNever=e.NotImplementedProxy=e.withUndefinedAsNull=e.withNullAsUndefined=e.createProxyObject=e.getAllMethodNames=e.getAllPropertyNames=e.validateConstraint=e.validateConstraints=e.areFunctions=e.isFunction=e.isEmptyObject=e.assertAllDefined=e.assertIsDefined=e.assertType=e.isUndefinedOrNull=e.isDefined=e.isUndefined=e.isBoolean=e.isIterable=e.isNumber=e.isObject=e.isStringArray=e.isString=e.isArray=void 0;function L(D){return Array.isArray(D)}e.isArray=L;function N(D){return typeof D=="string"}e.isString=N;function M(D){return Array.isArray(D)&&D.every(I=>N(I))}e.isStringArray=M;function E(D){return typeof D=="object"&&D!==null&&!Array.isArray(D)&&!(D instanceof RegExp)&&!(D instanceof Date)}e.isObject=E;function g(D){return typeof D=="number"&&!isNaN(D)}e.isNumber=g;function S(D){return!!D&&typeof D[Symbol.iterator]=="function"}e.isIterable=S;function b(D){return D===!0||D===!1}e.isBoolean=b;function p(D){return typeof D=="undefined"}e.isUndefined=p;function v(D){return!i(D)}e.isDefined=v;function i(D){return p(D)||D===null}e.isUndefinedOrNull=i;function t(D,I){if(!D)throw new Error(I?`Unexpected type, expected '${I}'`:"Unexpected type")}e.assertType=t;function a(D){if(i(D))throw new Error("Assertion Failed: argument is undefined or null");return D}e.assertIsDefined=a;function l(...D){const I=[];for(let T=0;T<D.length;T++){const F=D[T];if(i(F))throw new Error(`Assertion Failed: argument at index ${T} is undefined or null`);I.push(F)}return I}e.assertAllDefined=l;const h=Object.prototype.hasOwnProperty;function d(D){if(!E(D))return!1;for(let I in D)if(h.call(D,I))return!1;return!0}e.isEmptyObject=d;function u(D){return typeof D=="function"}e.isFunction=u;function n(...D){return D.length>0&&D.every(u)}e.areFunctions=n;function r(D,I){const T=Math.min(D.length,I.length);for(let F=0;F<T;F++)s(D[F],I[F])}e.validateConstraints=r;function s(D,I){if(N(I)){if(typeof D!==I)throw new Error(`argument does not match constraint: typeof ${I}`)}else if(u(I)){try{if(D instanceof I)return}catch(T){}if(!i(D)&&D.constructor===I||I.length===1&&I.call(void 0,D)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}e.validateConstraint=s;function o(D){let I=[],T=Object.getPrototypeOf(D);for(;Object.prototype!==T;)I=I.concat(Object.getOwnPropertyNames(T)),T=Object.getPrototypeOf(T);return I}e.getAllPropertyNames=o;function m(D){const I=[];for(const T of o(D))typeof D[T]=="function"&&I.push(T);return I}e.getAllMethodNames=m;function _(D,I){const T=P=>function(){const R=Array.prototype.slice.call(arguments,0);return I(P,R)};let F={};for(const P of D)F[P]=T(P);return F}e.createProxyObject=_;function f(D){return D===null?void 0:D}e.withNullAsUndefined=f;function c(D){return typeof D=="undefined"?null:D}e.withUndefinedAsNull=c;function C(D){return class{constructor(){return new Proxy({},{get(I,T){if(I[T])return I[T];throw new Error(`Not Implemented: ${D}->${String(T)}`)}})}}}e.NotImplementedProxy=C;function y(D,I="Unreachable"){throw new Error(I)}e.assertNever=y;function w(D){return!!D&&typeof D.then=="function"&&typeof D.catch=="function"}e.isPromise=w}),define(ee[138],te([0,1,58,15,8,20]),function(Q,e,L,N,M,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseLineAndColumnAware=e.indexOfPath=e.getDriveLetter=e.hasDriveLetter=e.isRootOrDriveLetter=e.sanitizeFilePath=e.isWindowsDriveLetter=e.isEqualOrParent=e.isEqual=e.isValidBasename=e.isUNC=e.getRoot=e.toPosixPath=e.toSlashes=e.isPathSeparator=void 0;function g(f){return f===47||f===92}e.isPathSeparator=g;function S(f){return f.replace(/[\\/]/g,L.posix.sep)}e.toSlashes=S;function b(f){return f.indexOf("/")===-1&&(f=S(f)),/^[a-zA-Z]:(\/|$)/.test(f)&&(f="/"+f),f}e.toPosixPath=b;function p(f,c=L.posix.sep){if(!f)return"";const C=f.length,y=f.charCodeAt(0);if(g(y)){if(g(f.charCodeAt(1))&&!g(f.charCodeAt(2))){let D=3;const I=D;for(;D<C&&!g(f.charCodeAt(D));D++);if(I!==D&&!g(f.charCodeAt(D+1))){for(D+=1;D<C;D++)if(g(f.charCodeAt(D)))return f.slice(0,D+1).replace(/[\\/]/g,c)}}return c}else if(u(y)&&f.charCodeAt(1)===58)return g(f.charCodeAt(2))?f.slice(0,2)+c:f.slice(0,2);let w=f.indexOf("://");if(w!==-1){for(w+=3;w<C;w++)if(g(f.charCodeAt(w)))return f.slice(0,w+1)}return""}e.getRoot=p;function v(f){if(!N.isWindows||!f||f.length<5)return!1;let c=f.charCodeAt(0);if(c!==92||(c=f.charCodeAt(1),c!==92))return!1;let C=2;const y=C;for(;C<f.length&&(c=f.charCodeAt(C),c!==92);C++);return!(y===C||(c=f.charCodeAt(C+1),isNaN(c)||c===92))}e.isUNC=v;const i=/[\\/:\*\?"<>\|]/g,t=/[\\/]/g,a=/^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])(\.(.*?))?$/i;function l(f,c=N.isWindows){const C=c?i:t;return!(!f||f.length===0||/^\s+$/.test(f)||(C.lastIndex=0,C.test(f))||c&&a.test(f)||f==="."||f===".."||c&&f[f.length-1]==="."||c&&f.length!==f.trim().length||f.length>255)}e.isValidBasename=l;function h(f,c,C){const y=f===c;return!C||y?y:!f||!c?!1:(0,M.equalsIgnoreCase)(f,c)}e.isEqual=h;function d(f,c,C,y=L.sep){if(f===c)return!0;if(!f||!c||c.length>f.length)return!1;if(C){if(!(0,M.startsWithIgnoreCase)(f,c))return!1;if(c.length===f.length)return!0;let D=c.length;return c.charAt(c.length-1)===y&&D--,f.charAt(D)===y}return c.charAt(c.length-1)!==y&&(c+=y),f.indexOf(c)===0}e.isEqualOrParent=d;function u(f){return f>=65&&f<=90||f>=97&&f<=122}e.isWindowsDriveLetter=u;function n(f,c){return N.isWindows&&f.endsWith(":")&&(f+=L.sep),(0,L.isAbsolute)(f)||(f=(0,L.join)(c,f)),f=(0,L.normalize)(f),N.isWindows?(f=(0,M.rtrim)(f,L.sep),f.endsWith(":")&&(f+=L.sep)):(f=(0,M.rtrim)(f,L.sep),f||(f=L.sep)),f}e.sanitizeFilePath=n;function r(f){const c=(0,L.normalize)(f);return N.isWindows?f.length>3?!1:s(c)&&(f.length===2||c.charCodeAt(2)===92):c===L.posix.sep}e.isRootOrDriveLetter=r;function s(f,c){return(c!==void 0?c:N.isWindows)?u(f.charCodeAt(0))&&f.charCodeAt(1)===58:!1}e.hasDriveLetter=s;function o(f){return s(f)?f[0]:void 0}e.getDriveLetter=o;function m(f,c,C){return c.length>f.length?-1:f===c?0:(C&&(f=f.toLowerCase(),c=c.toLowerCase()),f.indexOf(c))}e.indexOfPath=m;function _(f){const c=f.split(":");let C,y,w;if(c.forEach(D=>{const I=Number(D);(0,E.isNumber)(I)?y===void 0?y=I:w===void 0&&(w=I):C=C?[C,D].join(":"):D}),!C)throw new Error("Format for `--goto` should be: `FILE:LINE(:COLUMN)`");return{path:C,line:y!==void 0?y:void 0,column:w!==void 0?w:y!==void 0?1:void 0}}e.parseLineAndColumnAware=_}),define(ee[34],te([0,1,20]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.filter=e.getCaseInsensitive=e.distinct=e.getOrDefault=e.safeStringify=e.equals=e.mixin=e.cloneAndChange=e.deepFreeze=e.deepClone=void 0;function N(h){if(!h||typeof h!="object"||h instanceof RegExp)return h;const d=Array.isArray(h)?[]:{};return Object.keys(h).forEach(u=>{h[u]&&typeof h[u]=="object"?d[u]=N(h[u]):d[u]=h[u]}),d}e.deepClone=N;function M(h){if(!h||typeof h!="object")return h;const d=[h];for(;d.length>0;){const u=d.shift();Object.freeze(u);for(const n in u)if(E.call(u,n)){const r=u[n];typeof r=="object"&&!Object.isFrozen(r)&&d.push(r)}}return h}e.deepFreeze=M;const E=Object.prototype.hasOwnProperty;function g(h,d){return S(h,d,new Set)}e.cloneAndChange=g;function S(h,d,u){if((0,L.isUndefinedOrNull)(h))return h;const n=d(h);if(typeof n!="undefined")return n;if((0,L.isArray)(h)){const r=[];for(const s of h)r.push(S(s,d,u));return r}if((0,L.isObject)(h)){if(u.has(h))throw new Error("Cannot clone recursive data-structure");u.add(h);const r={};for(let s in h)E.call(h,s)&&(r[s]=S(h[s],d,u));return u.delete(h),r}return h}function b(h,d,u=!0){return(0,L.isObject)(h)?((0,L.isObject)(d)&&Object.keys(d).forEach(n=>{n in h?u&&((0,L.isObject)(h[n])&&(0,L.isObject)(d[n])?b(h[n],d[n],u):h[n]=d[n]):h[n]=d[n]}),h):d}e.mixin=b;function p(h,d){if(h===d)return!0;if(h==null||d===null||d===void 0||typeof h!=typeof d||typeof h!="object"||Array.isArray(h)!==Array.isArray(d))return!1;let u,n;if(Array.isArray(h)){if(h.length!==d.length)return!1;for(u=0;u<h.length;u++)if(!p(h[u],d[u]))return!1}else{const r=[];for(n in h)r.push(n);r.sort();const s=[];for(n in d)s.push(n);if(s.sort(),!p(r,s))return!1;for(u=0;u<r.length;u++)if(!p(h[r[u]],d[r[u]]))return!1}return!0}e.equals=p;function v(h){const d=new Set;return JSON.stringify(h,(u,n)=>{if((0,L.isObject)(n)||Array.isArray(n)){if(d.has(n))return"[Circular]";d.add(n)}return n})}e.safeStringify=v;function i(h,d,u){const n=d(h);return typeof n=="undefined"?u:n}e.getOrDefault=i;function t(h,d){const u=Object.create(null);return!h||!d||Object.keys(d).forEach(r=>{const s=h[r],o=d[r];p(s,o)||(u[r]=o)}),u}e.distinct=t;function a(h,d){const u=d.toLowerCase(),n=Object.keys(h).find(r=>r.toLowerCase()===u);return n?h[n]:h[d]}e.getCaseInsensitive=a;function l(h,d){const u=Object.create(null);for(const[n,r]of Object.entries(h))d(n,r)&&(u[n]=r);return u}e.filter=l}),define(ee[139],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toUint32=e.toUint8=void 0;function L(M){return M<0?0:M>255?255:M|0}e.toUint8=L;function N(M){return M<0?0:M>4294967295?4294967295:M|0}e.toUint32=N}),define(ee[22],te([0,1,58,15]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uriToFsPath=e.URI=void 0;const M=/^\w[\w\d+.-]*$/,E=/^\//,g=/^\/\//;function S(f,c){if(!f.scheme&&c)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${f.authority}", path: "${f.path}", query: "${f.query}", fragment: "${f.fragment}"}`);if(f.scheme&&!M.test(f.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(f.path){if(f.authority){if(!E.test(f.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(g.test(f.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function b(f,c){return!f&&!c?"file":f}function p(f,c){switch(f){case"https":case"http":case"file":c?c[0]!==i&&(c=i+c):c=i;break}return c}const v="",i="/",t=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class a{constructor(c,C,y,w,D,I=!1){typeof c=="object"?(this.scheme=c.scheme||v,this.authority=c.authority||v,this.path=c.path||v,this.query=c.query||v,this.fragment=c.fragment||v):(this.scheme=b(c,I),this.authority=C||v,this.path=p(this.scheme,y||v),this.query=w||v,this.fragment=D||v,S(this,I))}static isUri(c){return c instanceof a?!0:c?typeof c.authority=="string"&&typeof c.fragment=="string"&&typeof c.path=="string"&&typeof c.query=="string"&&typeof c.scheme=="string"&&typeof c.fsPath=="string"&&typeof c.with=="function"&&typeof c.toString=="function":!1}get fsPath(){return r(this,!1)}with(c){if(!c)return this;let{scheme:C,authority:y,path:w,query:D,fragment:I}=c;return C===void 0?C=this.scheme:C===null&&(C=v),y===void 0?y=this.authority:y===null&&(y=v),w===void 0?w=this.path:w===null&&(w=v),D===void 0?D=this.query:D===null&&(D=v),I===void 0?I=this.fragment:I===null&&(I=v),C===this.scheme&&y===this.authority&&w===this.path&&D===this.query&&I===this.fragment?this:new h(C,y,w,D,I)}static parse(c,C=!1){const y=t.exec(c);return y?new h(y[2]||v,_(y[4]||v),_(y[5]||v),_(y[7]||v),_(y[9]||v),C):new h(v,v,v,v,v)}static file(c){let C=v;if(N.isWindows&&(c=c.replace(/\\/g,i)),c[0]===i&&c[1]===i){const y=c.indexOf(i,2);y===-1?(C=c.substring(2),c=i):(C=c.substring(2,y),c=c.substring(y)||i)}return new h("file",C,c,v,v)}static from(c){const C=new h(c.scheme,c.authority,c.path,c.query,c.fragment);return S(C,!0),C}static joinPath(c,...C){if(!c.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let y;return N.isWindows&&c.scheme==="file"?y=a.file(L.win32.join(r(c,!0),...C)).path:y=L.posix.join(c.path,...C),c.with({path:y})}toString(c=!1){return s(this,c)}toJSON(){return this}static revive(c){if(c){if(c instanceof a)return c;{const C=new h(c);return C._formatted=c.external,C._fsPath=c._sep===l?c.fsPath:null,C}}else return c}}e.URI=a;const l=N.isWindows?1:void 0;class h extends a{constructor(){super(...arguments);this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=r(this,!1)),this._fsPath}toString(c=!1){return c?s(this,!0):(this._formatted||(this._formatted=s(this,!1)),this._formatted)}toJSON(){const c={$mid:1};return this._fsPath&&(c.fsPath=this._fsPath,c._sep=l),this._formatted&&(c.external=this._formatted),this.path&&(c.path=this.path),this.scheme&&(c.scheme=this.scheme),this.authority&&(c.authority=this.authority),this.query&&(c.query=this.query),this.fragment&&(c.fragment=this.fragment),c}}const d={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};function u(f,c){let C,y=-1;for(let w=0;w<f.length;w++){const D=f.charCodeAt(w);if(D>=97&&D<=122||D>=65&&D<=90||D>=48&&D<=57||D===45||D===46||D===95||D===126||c&&D===47)y!==-1&&(C+=encodeURIComponent(f.substring(y,w)),y=-1),C!==void 0&&(C+=f.charAt(w));else{C===void 0&&(C=f.substr(0,w));const I=d[D];I!==void 0?(y!==-1&&(C+=encodeURIComponent(f.substring(y,w)),y=-1),C+=I):y===-1&&(y=w)}}return y!==-1&&(C+=encodeURIComponent(f.substring(y))),C!==void 0?C:f}function n(f){let c;for(let C=0;C<f.length;C++){const y=f.charCodeAt(C);y===35||y===63?(c===void 0&&(c=f.substr(0,C)),c+=d[y]):c!==void 0&&(c+=f[C])}return c!==void 0?c:f}function r(f,c){let C;return f.authority&&f.path.length>1&&f.scheme==="file"?C=`//${f.authority}${f.path}`:f.path.charCodeAt(0)===47&&(f.path.charCodeAt(1)>=65&&f.path.charCodeAt(1)<=90||f.path.charCodeAt(1)>=97&&f.path.charCodeAt(1)<=122)&&f.path.charCodeAt(2)===58?c?C=f.path.substr(1):C=f.path[1].toLowerCase()+f.path.substr(2):C=f.path,N.isWindows&&(C=C.replace(/\//g,"\\")),C}e.uriToFsPath=r;function s(f,c){const C=c?n:u;let y="",{scheme:w,authority:D,path:I,query:T,fragment:F}=f;if(w&&(y+=w,y+=":"),(D||w==="file")&&(y+=i,y+=i),D){let P=D.indexOf("@");if(P!==-1){const R=D.substr(0,P);D=D.substr(P+1),P=R.indexOf(":"),P===-1?y+=C(R,!1):(y+=C(R.substr(0,P),!1),y+=":",y+=C(R.substr(P+1),!1)),y+="@"}D=D.toLowerCase(),P=D.indexOf(":"),P===-1?y+=C(D,!1):(y+=C(D.substr(0,P),!1),y+=D.substr(P))}if(I){if(I.length>=3&&I.charCodeAt(0)===47&&I.charCodeAt(2)===58){const P=I.charCodeAt(1);P>=65&&P<=90&&(I=`/${String.fromCharCode(P+32)}:${I.substr(3)}`)}else if(I.length>=2&&I.charCodeAt(1)===58){const P=I.charCodeAt(0);P>=65&&P<=90&&(I=`${String.fromCharCode(P+32)}:${I.substr(2)}`)}y+=C(I,!0)}return T&&(y+="?",y+=C(T,!1)),F&&(y+="#",y+=c?F:u(F,!1)),y}function o(f){try{return decodeURIComponent(f)}catch(c){return f.length>3?f.substr(0,3)+o(f.substr(3)):f}}const m=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function _(f){return f.match(m)?f.replace(m,c=>o(c)):f}}),define(ee[212],te([0,1,98,8,22]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.revive=e.parse=e.stringify=void 0;function E(p){return JSON.stringify(p,S)}e.stringify=E;function g(p){let v=JSON.parse(p);return v=b(v),v}e.parse=g;function S(p,v){return v instanceof RegExp?{$mid:2,source:v.source,flags:(0,N.regExpFlags)(v)}:v}function b(p,v=0){if(!p||v>200)return p;if(typeof p=="object"){switch(p.$mid){case 1:return M.URI.revive(p);case 2:return new RegExp(p.source,p.flags)}if(p instanceof L.VSBuffer||p instanceof Uint8Array)return p;if(Array.isArray(p))for(let i=0;i<p.length;++i)p[i]=b(p[i],v+1);else for(const i in p)Object.hasOwnProperty.call(p,i)&&(p[i]=b(p[i],v+1))}return p}e.revive=b}),define(ee[42],te([0,1,15,22]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileAccess=e.RemoteAuthorities=e.Schemas=void 0;var M;(function(S){S.inMemory="inmemory",S.vscode="vscode",S.internal="private",S.walkThrough="walkThrough",S.walkThroughSnippet="walkThroughSnippet",S.http="http",S.https="https",S.file="file",S.mailto="mailto",S.untitled="untitled",S.data="data",S.command="command",S.vscodeRemote="vscode-remote",S.vscodeRemoteResource="vscode-remote-resource",S.userData="vscode-userdata",S.vscodeCustomEditor="vscode-custom-editor",S.vscodeNotebook="vscode-notebook",S.vscodeNotebookCell="vscode-notebook-cell",S.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",S.vscodeNotebookCellOutput="vscode-notebook-cell-output",S.vscodeInteractive="vscode-interactive",S.vscodeInteractiveInput="vscode-interactive-input",S.vscodeSettings="vscode-settings",S.vscodeWorkspaceTrust="vscode-workspace-trust",S.vscodeTerminal="vscode-terminal",S.webviewPanel="webview-panel",S.vscodeWebview="vscode-webview",S.extension="extension",S.vscodeFileResource="vscode-file",S.tmp="tmp",S.vsls="vsls"})(M=e.Schemas||(e.Schemas={}));class E{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(b){this._preferredWebSchema=b}setDelegate(b){this._delegate=b}set(b,p,v){this._hosts[b]=p,this._ports[b]=v}setConnectionToken(b,p){this._connectionTokens[b]=p}rewrite(b){if(this._delegate)return this._delegate(b);const p=b.authority;let v=this._hosts[p];v&&v.indexOf(":")!==-1&&(v=`[${v}]`);const i=this._ports[p],t=this._connectionTokens[p];let a=`path=${encodeURIComponent(b.path)}`;return typeof t=="string"&&(a+=`&tkn=${encodeURIComponent(t)}`),N.URI.from({scheme:L.isWeb?this._preferredWebSchema:M.vscodeRemoteResource,authority:`${v}:${i}`,path:"/vscode-remote-resource",query:a})}}e.RemoteAuthorities=new E;class g{asBrowserUri(b,p){const v=this.toUri(b,p);return v.scheme===M.vscodeRemote?e.RemoteAuthorities.rewrite(v):v.scheme===M.file&&(L.isNative||typeof L.globals.importScripts=="function"&&L.globals.origin===`${M.vscodeFileResource}://${g.FALLBACK_AUTHORITY}`)?v.with({scheme:M.vscodeFileResource,authority:v.authority||g.FALLBACK_AUTHORITY,query:null,fragment:null}):v}asFileUri(b,p){const v=this.toUri(b,p);return v.scheme===M.vscodeFileResource?v.with({scheme:M.file,authority:v.authority!==g.FALLBACK_AUTHORITY?v.authority:null,query:null,fragment:null}):v}toUri(b,p){return N.URI.isUri(b)?b:N.URI.parse(p.toUrl(b))}}g.FALLBACK_AUTHORITY="vscode-app",e.FileAccess=new g}),define(ee[33],te([0,1,138,42,58,15,8,22]),function(Q,e,L,N,M,E,g,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toLocalResource=e.DataUri=e.distinctParents=e.addTrailingPathSeparator=e.removeTrailingPathSeparator=e.hasTrailingPathSeparator=e.isEqualAuthority=e.isAbsolutePath=e.resolvePath=e.relativePath=e.normalizePath=e.joinPath=e.dirname=e.extname=e.basename=e.basenameOrAuthority=e.getComparisonKey=e.isEqualOrParent=e.isEqual=e.extUriIgnorePathCase=e.extUriBiasedIgnorePathCase=e.extUri=e.ExtUri=e.originalFSPath=void 0;function b(a){return(0,S.uriToFsPath)(a,!0)}e.originalFSPath=b;class p{constructor(l){this._ignorePathCasing=l}compare(l,h,d=!1){return l===h?0:(0,g.compare)(this.getComparisonKey(l,d),this.getComparisonKey(h,d))}isEqual(l,h,d=!1){return l===h?!0:!l||!h?!1:this.getComparisonKey(l,d)===this.getComparisonKey(h,d)}getComparisonKey(l,h=!1){return l.with({path:this._ignorePathCasing(l)?l.path.toLowerCase():void 0,fragment:h?null:void 0}).toString()}ignorePathCasing(l){return this._ignorePathCasing(l)}isEqualOrParent(l,h,d=!1){if(l.scheme===h.scheme){if(l.scheme===N.Schemas.file)return L.isEqualOrParent(b(l),b(h),this._ignorePathCasing(l))&&l.query===h.query&&(d||l.fragment===h.fragment);if((0,e.isEqualAuthority)(l.authority,h.authority))return L.isEqualOrParent(l.path,h.path,this._ignorePathCasing(l),"/")&&l.query===h.query&&(d||l.fragment===h.fragment)}return!1}joinPath(l,...h){return S.URI.joinPath(l,...h)}basenameOrAuthority(l){return(0,e.basename)(l)||l.authority}basename(l){return M.posix.basename(l.path)}extname(l){return M.posix.extname(l.path)}dirname(l){if(l.path.length===0)return l;let h;return l.scheme===N.Schemas.file?h=S.URI.file(M.dirname(b(l))).path:(h=M.posix.dirname(l.path),l.authority&&h.length&&h.charCodeAt(0)!==47&&(console.error(`dirname("${l.toString})) resulted in a relative path`),h="/")),l.with({path:h})}normalizePath(l){if(!l.path.length)return l;let h;return l.scheme===N.Schemas.file?h=S.URI.file(M.normalize(b(l))).path:h=M.posix.normalize(l.path),l.with({path:h})}relativePath(l,h){if(l.scheme!==h.scheme||!(0,e.isEqualAuthority)(l.authority,h.authority))return;if(l.scheme===N.Schemas.file){const n=M.relative(b(l),b(h));return E.isWindows?L.toSlashes(n):n}let d=l.path||"/",u=h.path||"/";if(this._ignorePathCasing(l)){let n=0;for(const r=Math.min(d.length,u.length);n<r&&!(d.charCodeAt(n)!==u.charCodeAt(n)&&d.charAt(n).toLowerCase()!==u.charAt(n).toLowerCase());n++);d=u.substr(0,n)+d.substr(n)}return M.posix.relative(d,u)}resolvePath(l,h){if(l.scheme===N.Schemas.file){const d=S.URI.file(M.resolve(b(l),h));return l.with({authority:d.authority,path:d.path})}return h=L.toPosixPath(h),l.with({path:M.posix.resolve(l.path,h)})}isAbsolutePath(l){return!!l.path&&l.path[0]==="/"}isEqualAuthority(l,h){return l===h||l!==void 0&&h!==void 0&&(0,g.equalsIgnoreCase)(l,h)}hasTrailingPathSeparator(l,h=M.sep){if(l.scheme===N.Schemas.file){const d=b(l);return d.length>L.getRoot(d).length&&d[d.length-1]===h}else{const d=l.path;return d.length>1&&d.charCodeAt(d.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(l.fsPath)}}removeTrailingPathSeparator(l,h=M.sep){return(0,e.hasTrailingPathSeparator)(l,h)?l.with({path:l.path.substr(0,l.path.length-1)}):l}addTrailingPathSeparator(l,h=M.sep){let d=!1;if(l.scheme===N.Schemas.file){const u=b(l);d=u!==void 0&&u.length===L.getRoot(u).length&&u[u.length-1]===h}else{h="/";const u=l.path;d=u.length===1&&u.charCodeAt(u.length-1)===47}return!d&&!(0,e.hasTrailingPathSeparator)(l,h)?l.with({path:l.path+"/"}):l}}e.ExtUri=p,e.extUri=new p(()=>!1),e.extUriBiasedIgnorePathCase=new p(a=>a.scheme===N.Schemas.file?!E.isLinux:!0),e.extUriIgnorePathCase=new p(a=>!0),e.isEqual=e.extUri.isEqual.bind(e.extUri),e.isEqualOrParent=e.extUri.isEqualOrParent.bind(e.extUri),e.getComparisonKey=e.extUri.getComparisonKey.bind(e.extUri),e.basenameOrAuthority=e.extUri.basenameOrAuthority.bind(e.extUri),e.basename=e.extUri.basename.bind(e.extUri),e.extname=e.extUri.extname.bind(e.extUri),e.dirname=e.extUri.dirname.bind(e.extUri),e.joinPath=e.extUri.joinPath.bind(e.extUri),e.normalizePath=e.extUri.normalizePath.bind(e.extUri),e.relativePath=e.extUri.relativePath.bind(e.extUri),e.resolvePath=e.extUri.resolvePath.bind(e.extUri),e.isAbsolutePath=e.extUri.isAbsolutePath.bind(e.extUri),e.isEqualAuthority=e.extUri.isEqualAuthority.bind(e.extUri),e.hasTrailingPathSeparator=e.extUri.hasTrailingPathSeparator.bind(e.extUri),e.removeTrailingPathSeparator=e.extUri.removeTrailingPathSeparator.bind(e.extUri),e.addTrailingPathSeparator=e.extUri.addTrailingPathSeparator.bind(e.extUri);function v(a,l){const h=[];for(let d=0;d<a.length;d++){const u=l(a[d]);a.some((n,r)=>r===d?!1:(0,e.isEqualOrParent)(u,l(n)))||h.push(a[d])}return h}e.distinctParents=v;var i;(function(a){a.META_DATA_LABEL="label",a.META_DATA_DESCRIPTION="description",a.META_DATA_SIZE="size",a.META_DATA_MIME="mime";function l(h){const d=new Map;h.path.substring(h.path.indexOf(";")+1,h.path.lastIndexOf(";")).split(";").forEach(r=>{const[s,o]=r.split(":");s&&o&&d.set(s,o)});const n=h.path.substring(0,h.path.indexOf(";"));return n&&d.set(a.META_DATA_MIME,n),d}a.parseMetaData=l})(i=e.DataUri||(e.DataUri={}));function t(a,l,h){if(l){let d=a.path;return d&&d[0]!==M.posix.sep&&(d=M.posix.sep+d),a.with({scheme:h,authority:l,path:d})}return a.with({scheme:h})}e.toLocalResource=t});var Tt=this&&this.__asyncValues||function(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=Q[Symbol.asyncIterator],L;return e?e.call(Q):(Q=typeof __values=="function"?__values(Q):Q[Symbol.iterator](),L={},N("next"),N("throw"),N("return"),L[Symbol.asyncIterator]=function(){return this},L);function N(E){L[E]=Q[E]&&function(g){return new Promise(function(S,b){g=Q[E](g),M(S,b,g.done,g.value)})}}function M(E,g,S,b){Promise.resolve(b).then(function(p){E({value:p,done:S})},g)}};define(ee[10],te([0,1,21,12,4,2,33,15]),function(Q,e,L,N,M,E,g,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCancelableAsyncIterable=e.CancelableAsyncIterableObject=e.AsyncIterableObject=e.Promises=e.DeferredPromise=e.IntervalCounter=e.TaskSequentializer=e.retry=e.IdleValue=e.runWhenIdle=e.ThrottledWorker=e.RunOnceWorker=e.ProcessTimeRunOnceScheduler=e.RunOnceScheduler=e.IntervalTimer=e.TimeoutTimer=e.ResourceQueue=e.Queue=e.Limiter=e.firstParallel=e.first=e.sequence=e.disposableTimeout=e.timeout=e.AutoOpenBarrier=e.Barrier=e.ThrottledDelayer=e.Delayer=e.SequencerByKey=e.Sequencer=e.Throttler=e.asPromise=e.raceTimeout=e.raceCancellablePromises=e.raceCancellation=e.createCancelablePromise=e.isThenable=void 0;function b(q){return!!q&&typeof q.then=="function"}e.isThenable=b;function p(q){const H=new L.CancellationTokenSource,G=q(H.token),z=new Promise((W,j)=>{const U=H.token.onCancellationRequested(()=>{U.dispose(),H.dispose(),j((0,N.canceled)())});Promise.resolve(G).then(Y=>{U.dispose(),H.dispose(),W(Y)},Y=>{U.dispose(),H.dispose(),j(Y)})});return new class{cancel(){H.cancel()}then(W,j){return z.then(W,j)}catch(W){return this.then(void 0,W)}finally(W){return z.finally(W)}}}e.createCancelablePromise=p;function v(q,H,G){return Promise.race([q,new Promise(z=>H.onCancellationRequested(()=>z(G)))])}e.raceCancellation=v;function i(q){return Me(this,void 0,void 0,function*(){let H=-1;const G=q.map((W,j)=>W.then(U=>(H=j,U))),z=yield Promise.race(G);return q.forEach((W,j)=>{j!==H&&W.cancel()}),z})}e.raceCancellablePromises=i;function t(q,H,G){let z;const W=setTimeout(()=>{z==null||z(void 0),G==null||G()},H);return Promise.race([q.finally(()=>clearTimeout(W)),new Promise(j=>z=j)])}e.raceTimeout=t;function a(q){return new Promise((H,G)=>{const z=q();b(z)?z.then(H,G):H(z)})}e.asPromise=a;class l{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(H){if(this.activePromise){if(this.queuedPromiseFactory=H,!this.queuedPromise){const G=()=>{this.queuedPromise=null;const z=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,z};this.queuedPromise=new Promise(z=>{this.activePromise.then(G,G).then(z)})}return new Promise((G,z)=>{this.queuedPromise.then(G,z)})}return this.activePromise=H(),new Promise((G,z)=>{this.activePromise.then(W=>{this.activePromise=null,G(W)},W=>{this.activePromise=null,z(W)})})}}e.Throttler=l;class h{constructor(){this.current=Promise.resolve(null)}queue(H){return this.current=this.current.then(()=>H(),()=>H())}}e.Sequencer=h;class d{constructor(){this.promiseMap=new Map}queue(H,G){var z;const j=((z=this.promiseMap.get(H))!==null&&z!==void 0?z:Promise.resolve()).catch(()=>{}).then(G).finally(()=>{this.promiseMap.get(H)===j&&this.promiseMap.delete(H)});return this.promiseMap.set(H,j),j}}e.SequencerByKey=d;class u{constructor(H){this.defaultDelay=H,this.timeout=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(H,G=this.defaultDelay){return this.task=H,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((z,W)=>{this.doResolve=z,this.doReject=W}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const z=this.task;return this.task=null,z()}})),this.timeout=setTimeout(()=>{this.timeout=null,this.doResolve&&this.doResolve(null)},G),this.completionPromise}isTriggered(){return this.timeout!==null}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject((0,N.canceled)()),this.completionPromise=null)}cancelTimeout(){this.timeout!==null&&(clearTimeout(this.timeout),this.timeout=null)}dispose(){this.cancel()}}e.Delayer=u;class n{constructor(H){this.delayer=new u(H),this.throttler=new l}trigger(H,G){return this.delayer.trigger(()=>this.throttler.queue(H),G)}isTriggered(){return this.delayer.isTriggered()}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose()}}e.ThrottledDelayer=n;class r{constructor(){this._isOpen=!1,this._promise=new Promise((H,G)=>{this._completePromise=H})}isOpen(){return this._isOpen}open(){this._isOpen=!0,this._completePromise(!0)}wait(){return this._promise}}e.Barrier=r;class s extends r{constructor(H){super();this._timeout=setTimeout(()=>this.open(),H)}open(){clearTimeout(this._timeout),super.open()}}e.AutoOpenBarrier=s;function o(q,H){return H?new Promise((G,z)=>{const W=setTimeout(()=>{j.dispose(),G()},q),j=H.onCancellationRequested(()=>{clearTimeout(W),j.dispose(),z((0,N.canceled)())})}):p(G=>o(q,G))}e.timeout=o;function m(q,H=0){const G=setTimeout(q,H);return(0,E.toDisposable)(()=>clearTimeout(G))}e.disposableTimeout=m;function _(q){const H=[];let G=0;const z=q.length;function W(){return G<z?q[G++]():null}function j(U){U!=null&&H.push(U);const Y=W();return Y?Y.then(j):Promise.resolve(H)}return Promise.resolve(null).then(j)}e.sequence=_;function f(q,H=z=>!!z,G=null){let z=0;const W=q.length,j=()=>{if(z>=W)return Promise.resolve(G);const U=q[z++];return Promise.resolve(U()).then(ne=>H(ne)?Promise.resolve(ne):j())};return j()}e.first=f;function c(q,H=z=>!!z,G=null){if(q.length===0)return Promise.resolve(G);let z=q.length;const W=()=>{var j,U;z=-1;for(const Y of q)(U=(j=Y).cancel)===null||U===void 0||U.call(j)};return new Promise((j,U)=>{for(const Y of q)Y.then(ne=>{--z>=0&&H(ne)?(W(),j(ne)):z===0&&j(G)}).catch(ne=>{--z>=0&&(W(),U(ne))})})}e.firstParallel=c;class C{constructor(H){this._size=0,this.maxDegreeOfParalellism=H,this.outstandingPromises=[],this.runningPromises=0,this._onFinished=new M.Emitter}get onFinished(){return this._onFinished.event}get size(){return this._size}queue(H){return this._size++,new Promise((G,z)=>{this.outstandingPromises.push({factory:H,c:G,e:z}),this.consume()})}consume(){for(;this.outstandingPromises.length&&this.runningPromises<this.maxDegreeOfParalellism;){const H=this.outstandingPromises.shift();this.runningPromises++;const G=H.factory();G.then(H.c,H.e),G.then(()=>this.consumed(),()=>this.consumed())}}consumed(){this._size--,this.runningPromises--,this.outstandingPromises.length>0?this.consume():this._onFinished.fire()}dispose(){this._onFinished.dispose()}}e.Limiter=C;class y extends C{constructor(){super(1)}}e.Queue=y;class w{constructor(){this.queues=new Map}queueFor(H,G=g.extUri){const z=G.getComparisonKey(H);let W=this.queues.get(z);return W||(W=new y,M.Event.once(W.onFinished)(()=>{W==null||W.dispose(),this.queues.delete(z)}),this.queues.set(z,W)),W}dispose(){this.queues.forEach(H=>H.dispose()),this.queues.clear()}}e.ResourceQueue=w;class D{constructor(H,G){this._token=-1,typeof H=="function"&&typeof G=="number"&&this.setIfNotSet(H,G)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(H,G){this.cancel(),this._token=setTimeout(()=>{this._token=-1,H()},G)}setIfNotSet(H,G){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,H()},G))}}e.TimeoutTimer=D;class I{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(H,G){this.cancel(),this._token=setInterval(()=>{H()},G)}}e.IntervalTimer=I;class T{constructor(H,G){this.timeoutToken=-1,this.runner=H,this.timeout=G,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(H=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,H)}get delay(){return this.timeout}set delay(H){this.timeout=H}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}}e.RunOnceScheduler=T;class F{constructor(H,G){G%1e3!=0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${G}ms is not a multiple of 1000ms.`),this.runner=H,this.timeout=G,this.counter=0,this.intervalToken=-1,this.intervalHandler=this.onInterval.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearInterval(this.intervalToken),this.intervalToken=-1)}schedule(H=this.timeout){H%1e3!=0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${H}ms is not a multiple of 1000ms.`),this.cancel(),this.counter=Math.ceil(H/1e3),this.intervalToken=setInterval(this.intervalHandler,1e3)}isScheduled(){return this.intervalToken!==-1}onInterval(){this.counter--,!(this.counter>0)&&(clearInterval(this.intervalToken),this.intervalToken=-1,this.runner&&this.runner())}}e.ProcessTimeRunOnceScheduler=F;class P extends T{constructor(H,G){super(H,G);this.units=[]}work(H){this.units.push(H),this.isScheduled()||this.schedule()}doRun(){const H=this.units;this.units=[],this.runner&&this.runner(H)}dispose(){this.units=[],super.dispose()}}e.RunOnceWorker=P;class R extends E.Disposable{constructor(H,G,z,W){super();this.maxWorkChunkSize=H,this.maxPendingWork=G,this.throttleDelay=z,this.handler=W,this.pendingWork=[],this.throttler=this._register(new E.MutableDisposable),this.disposed=!1}get pending(){return this.pendingWork.length}work(H){if(this.disposed)return!1;if(typeof this.maxPendingWork=="number"){if(this.throttler.value){if(this.pending+H.length>this.maxPendingWork)return!1}else if(this.pending+H.length-this.maxWorkChunkSize>this.maxPendingWork)return!1}return this.pendingWork.push(...H),this.throttler.value||this.doWork(),!0}doWork(){this.handler(this.pendingWork.splice(0,this.maxWorkChunkSize)),this.pendingWork.length>0&&(this.throttler.value=new T(()=>{this.throttler.clear(),this.doWork()},this.throttleDelay),this.throttler.value.schedule())}dispose(){super.dispose(),this.disposed=!0}}e.ThrottledWorker=R,function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?e.runWhenIdle=q=>{(0,S.setTimeout0)(()=>{if(H)return;const G=Date.now()+3;q(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,G-Date.now())}}))});let H=!1;return{dispose(){H||(H=!0)}}}:e.runWhenIdle=(q,H)=>{const G=requestIdleCallback(q,typeof H=="number"?{timeout:H}:void 0);let z=!1;return{dispose(){z||(z=!0,cancelIdleCallback(G))}}}}();class A{constructor(H){this._didRun=!1,this._executor=()=>{try{this._value=H()}catch(G){this._error=G}finally{this._didRun=!0}},this._handle=(0,e.runWhenIdle)(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}e.IdleValue=A;function O(q,H,G){return Me(this,void 0,void 0,function*(){let z;for(let W=0;W<G;W++)try{return yield q()}catch(j){z=j,yield o(H)}throw z})}e.retry=O;class k{hasPending(H){return this._pending?typeof H=="number"?this._pending.taskId===H:!!this._pending:!1}get pending(){return this._pending?this._pending.promise:void 0}cancelPending(){var H;(H=this._pending)===null||H===void 0||H.cancel()}setPending(H,G,z){return this._pending={taskId:H,cancel:()=>z==null?void 0:z(),promise:G},G.then(()=>this.donePending(H),()=>this.donePending(H)),G}donePending(H){this._pending&&H===this._pending.taskId&&(this._pending=void 0,this.triggerNext())}triggerNext(){if(this._next){const H=this._next;this._next=void 0,H.run().then(H.promiseResolve,H.promiseReject)}}setNext(H){if(this._next)this._next.run=H;else{let G,z;const W=new Promise((j,U)=>{G=j,z=U});this._next={run:H,promise:W,promiseResolve:G,promiseReject:z}}return this._next.promise}}e.TaskSequentializer=k;class V{constructor(H,G=()=>Date.now()){this.interval=H,this.nowFn=G,this.lastIncrementTime=0,this.value=0}increment(){const H=this.nowFn();return H-this.lastIncrementTime>this.interval&&(this.lastIncrementTime=H,this.value=0),this.value++,this.value}}e.IntervalCounter=V;class B{constructor(){this.rejected=!1,this.resolved=!1,this.p=new Promise((H,G)=>{this.completeCallback=H,this.errorCallback=G})}get isRejected(){return this.rejected}get isResolved(){return this.resolved}get isSettled(){return this.rejected||this.resolved}complete(H){return new Promise(G=>{this.completeCallback(H),this.resolved=!0,G()})}error(H){return new Promise(G=>{this.errorCallback(H),this.rejected=!0,G()})}cancel(){new Promise(H=>{this.errorCallback((0,N.canceled)()),this.rejected=!0,H()})}}e.DeferredPromise=B;var x;(function(q){function H(z){return Me(this,void 0,void 0,function*(){let W;const j=yield Promise.all(z.map(U=>U.then(Y=>Y,Y=>{W||(W=Y)})));if(typeof W!="undefined")throw W;return j})}q.settled=H;function G(z){return new Promise((W,j)=>Me(this,void 0,void 0,function*(){try{yield z(W,j)}catch(U){j(U)}}))}q.withAsyncBody=G})(x=e.Promises||(e.Promises={}));class K{constructor(H){this._state=0,this._results=[],this._error=null,this._onStateChanged=new M.Emitter,queueMicrotask(()=>Me(this,void 0,void 0,function*(){const G={emitOne:z=>this.emitOne(z),emitMany:z=>this.emitMany(z),reject:z=>this.reject(z)};try{yield Promise.resolve(H(G)),this.resolve()}catch(z){this.reject(z)}finally{G.emitOne=void 0,G.emitMany=void 0,G.reject=void 0}}))}static fromArray(H){return new K(G=>{G.emitMany(H)})}static fromPromise(H){return new K(G=>Me(this,void 0,void 0,function*(){G.emitMany(yield H)}))}static fromPromises(H){return new K(G=>Me(this,void 0,void 0,function*(){yield Promise.all(H.map(z=>Me(this,void 0,void 0,function*(){return G.emitOne(yield z)})))}))}static merge(H){return new K(G=>Me(this,void 0,void 0,function*(){yield Promise.all(H.map(z=>{var W,j;return Me(this,void 0,void 0,function*(){var U,Y;try{for(W=Tt(z);j=yield W.next(),!j.done;){const ne=j.value;G.emitOne(ne)}}catch(ne){U={error:ne}}finally{try{j&&!j.done&&(Y=W.return)&&(yield Y.call(W))}finally{if(U)throw U.error}}})}))}))}[Symbol.asyncIterator](){let H=0;return{next:()=>Me(this,void 0,void 0,function*(){do{if(this._state===2)throw this._error;if(H<this._results.length)return{done:!1,value:this._results[H++]};if(this._state===1)return{done:!0,value:void 0};yield M.Event.toPromise(this._onStateChanged.event)}while(!0)})}}static map(H,G){return new K(z=>Me(this,void 0,void 0,function*(){var W,j;try{for(var U=Tt(H),Y;Y=yield U.next(),!Y.done;){const ne=Y.value;z.emitOne(G(ne))}}catch(ne){W={error:ne}}finally{try{Y&&!Y.done&&(j=U.return)&&(yield j.call(U))}finally{if(W)throw W.error}}}))}map(H){return K.map(this,H)}static filter(H,G){return new K(z=>Me(this,void 0,void 0,function*(){var W,j;try{for(var U=Tt(H),Y;Y=yield U.next(),!Y.done;){const ne=Y.value;G(ne)&&z.emitOne(ne)}}catch(ne){W={error:ne}}finally{try{Y&&!Y.done&&(j=U.return)&&(yield j.call(U))}finally{if(W)throw W.error}}}))}filter(H){return K.filter(this,H)}static coalesce(H){return K.filter(H,G=>!!G)}coalesce(){return K.coalesce(this)}static toPromise(H){var G,z,W,j;return Me(this,void 0,void 0,function*(){const U=[];try{for(G=Tt(H);z=yield G.next(),!z.done;){const Y=z.value;U.push(Y)}}catch(Y){W={error:Y}}finally{try{z&&!z.done&&(j=G.return)&&(yield j.call(G))}finally{if(W)throw W.error}}return U})}toPromise(){return K.toPromise(this)}emitOne(H){this._state===0&&(this._results.push(H),this._onStateChanged.fire())}emitMany(H){this._state===0&&(this._results=this._results.concat(H),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(H){this._state===0&&(this._state=2,this._error=H,this._onStateChanged.fire())}}e.AsyncIterableObject=K,K.EMPTY=K.fromArray([]);class X extends K{constructor(H,G){super(G);this._source=H}cancel(){this._source.cancel()}}e.CancelableAsyncIterableObject=X;function Z(q){const H=new L.CancellationTokenSource,G=q(H.token);return new X(H,z=>Me(this,void 0,void 0,function*(){var W,j;const U=H.token.onCancellationRequested(()=>{U.dispose(),H.dispose(),z.reject((0,N.canceled)())});try{try{for(var Y=Tt(G),ne;ne=yield Y.next(),!ne.done;){const J=ne.value;if(H.token.isCancellationRequested)return;z.emitOne(J)}}catch(J){W={error:J}}finally{try{ne&&!ne.done&&(j=Y.return)&&(yield j.call(Y))}finally{if(W)throw W.error}}U.dispose(),H.dispose()}catch(J){U.dispose(),H.dispose(),z.reject(J)}}))}e.createCancelableAsyncIterable=Z}),define(ee[7],te([0,1,36,169,44,59,10,12,4,317,2,42,15,20,22]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addMatchMediaChangeListener=e.getCookieValue=e.ModifierKeyEmitter=e.WebFileSystemAccess=e.multibyteAwareBtoa=e.safeInnerHtml=e.detectFullscreen=e.DetectedFullscreenMode=e.triggerUpload=e.triggerDownload=e.asCSSPropertyValue=e.asCSSUrl=e.animate=e.windowOpenWithSuccess=e.windowOpenPopup=e.windowOpenNoOpener=e.computeScreenAwareSize=e.domContentLoaded=e.finalHandler=e.getElementsByTagName=e.removeTabIndexAndUpdateFocus=e.hide=e.show=e.join=e.$=e.Namespace=e.reset=e.prepend=e.append=e.after=e.trackFocus=e.restoreParentsScrollTop=e.saveParentsScrollTop=e.EventHelper=e.EventType=e.isHTMLElement=e.removeCSSRulesContainingSelector=e.createCSSRule=e.createMetaElement=e.createStyleSheet=e.getActiveElement=e.getShadowRoot=e.isInShadowDOM=e.isShadowRoot=e.hasParentWithClass=e.findParentWithClass=e.isAncestorUsingFlowTo=e.setParentFlowTo=e.isAncestor=e.getLargestChildWidth=e.getTotalHeight=e.getContentHeight=e.getTotalScrollWidth=e.getContentWidth=e.getTotalWidth=e.StandardWindow=e.getDomNodePagePosition=e.position=e.size=e.getTopLeftOffset=e.Dimension=e.getClientArea=e.getComputedStyle=e.addDisposableThrottledListener=e.modify=e.measure=e.scheduleAtNextAnimationFrame=e.runAtThisOrScheduleAtNextAnimationFrame=e.createEventEmitter=e.addDisposableNonBubblingPointerOutListener=e.addDisposableNonBubblingMouseOutListener=e.addDisposableGenericMouseUpListner=e.addDisposableGenericMouseMoveListner=e.addDisposableGenericMouseDownListner=e.addStandardDisposableGenericMouseUpListner=e.addStandardDisposableGenericMouseDownListner=e.addStandardDisposableListener=e.addDisposableListener=e.isInDOM=e.clearNode=void 0;function h(De){for(;De.firstChild;)De.firstChild.remove()}e.clearNode=h;function d(De){var ke;return(ke=De==null?void 0:De.isConnected)!==null&&ke!==void 0?ke:!1}e.isInDOM=d;class u{constructor(ke,xe,Qe,Je){this._node=ke,this._type=xe,this._handler=Qe,this._options=Je||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){!this._handler||(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function n(De,ke,xe,Qe){return new u(De,ke,xe,Qe)}e.addDisposableListener=n;function r(De){return function(ke){return De(new E.StandardMouseEvent(ke))}}function s(De){return function(ke){return De(new M.StandardKeyboardEvent(ke))}}let o=function(ke,xe,Qe,Je){let rt=Qe;return xe==="click"||xe==="mousedown"?rt=r(Qe):(xe==="keydown"||xe==="keypress"||xe==="keyup")&&(rt=s(Qe)),n(ke,xe,rt,Je)};e.addStandardDisposableListener=o;let m=function(ke,xe,Qe){let Je=r(xe);return f(ke,Je,Qe)};e.addStandardDisposableGenericMouseDownListner=m;let _=function(ke,xe,Qe){let Je=r(xe);return C(ke,Je,Qe)};e.addStandardDisposableGenericMouseUpListner=_;function f(De,ke,xe){return n(De,t.isIOS&&N.BrowserFeatures.pointerEvents?e.EventType.POINTER_DOWN:e.EventType.MOUSE_DOWN,ke,xe)}e.addDisposableGenericMouseDownListner=f;function c(De,ke,xe){return n(De,t.isIOS&&N.BrowserFeatures.pointerEvents?e.EventType.POINTER_MOVE:e.EventType.MOUSE_MOVE,ke,xe)}e.addDisposableGenericMouseMoveListner=c;function C(De,ke,xe){return n(De,t.isIOS&&N.BrowserFeatures.pointerEvents?e.EventType.POINTER_UP:e.EventType.MOUSE_UP,ke,xe)}e.addDisposableGenericMouseUpListner=C;function y(De,ke){return n(De,"mouseout",xe=>{let Qe=xe.relatedTarget;for(;Qe&&Qe!==De;)Qe=Qe.parentNode;Qe!==De&&ke(xe)})}e.addDisposableNonBubblingMouseOutListener=y;function w(De,ke){return n(De,"pointerout",xe=>{let Qe=xe.relatedTarget;for(;Qe&&Qe!==De;)Qe=Qe.parentNode;Qe!==De&&ke(xe)})}e.addDisposableNonBubblingPointerOutListener=w;function D(De,ke,xe){let Qe=null;const Je=Dt=>ut.fire(Dt),rt=()=>{Qe||(Qe=new u(De,ke,Je,xe))},at=()=>{Qe&&(Qe.dispose(),Qe=null)},ut=new b.Emitter({onFirstListenerAdd:rt,onLastListenerRemove:at});return ut}e.createEventEmitter=D;let I=null;function T(De){if(!I){const ke=xe=>setTimeout(()=>xe(new Date().getTime()),0);I=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||ke}return I.call(self,De)}class F{constructor(ke,xe=0){this._runner=ke,this.priority=xe,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(ke){(0,S.onUnexpectedError)(ke)}}static sort(ke,xe){return xe.priority-ke.priority}}(function(){let De=[],ke=null,xe=!1,Qe=!1,Je=()=>{for(xe=!1,ke=De,De=[],Qe=!0;ke.length>0;)ke.sort(F.sort),ke.shift().execute();Qe=!1};e.scheduleAtNextAnimationFrame=(rt,at=0)=>{let ut=new F(rt,at);return De.push(ut),xe||(xe=!0,T(Je)),ut},e.runAtThisOrScheduleAtNextAnimationFrame=(rt,at)=>{if(Qe){let ut=new F(rt,at);return ke.push(ut),ut}else return(0,e.scheduleAtNextAnimationFrame)(rt,at)}})();function P(De){return(0,e.scheduleAtNextAnimationFrame)(De,1e4)}e.measure=P;function R(De){return(0,e.scheduleAtNextAnimationFrame)(De,-1e4)}e.modify=R;const A=8,O=function(De,ke){return ke};class k extends v.Disposable{constructor(ke,xe,Qe,Je=O,rt=A){super();let at=null,ut=0,Dt=this._register(new g.TimeoutTimer),Ii=()=>{ut=new Date().getTime(),Qe(at),at=null};this._register(n(ke,xe,kn=>{at=Je(at,kn);let ki=new Date().getTime()-ut;ki>=rt?(Dt.cancel(),Ii()):Dt.setIfNotSet(Ii,rt-ki)}))}}function V(De,ke,xe,Qe,Je){return new k(De,ke,xe,Qe,Je)}e.addDisposableThrottledListener=V;function B(De){return document.defaultView.getComputedStyle(De,null)}e.getComputedStyle=B;function x(De){if(De!==document.body)return new X(De.clientWidth,De.clientHeight);if(t.isIOS&&window.visualViewport)return new X(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new X(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new X(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new X(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}e.getClientArea=x;class K{static convertToPixels(ke,xe){return parseFloat(xe)||0}static getDimension(ke,xe,Qe){let Je=B(ke),rt="0";return Je&&(Je.getPropertyValue?rt=Je.getPropertyValue(xe):rt=Je.getAttribute(Qe)),K.convertToPixels(ke,rt)}static getBorderLeftWidth(ke){return K.getDimension(ke,"border-left-width","borderLeftWidth")}static getBorderRightWidth(ke){return K.getDimension(ke,"border-right-width","borderRightWidth")}static getBorderTopWidth(ke){return K.getDimension(ke,"border-top-width","borderTopWidth")}static getBorderBottomWidth(ke){return K.getDimension(ke,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(ke){return K.getDimension(ke,"padding-left","paddingLeft")}static getPaddingRight(ke){return K.getDimension(ke,"padding-right","paddingRight")}static getPaddingTop(ke){return K.getDimension(ke,"padding-top","paddingTop")}static getPaddingBottom(ke){return K.getDimension(ke,"padding-bottom","paddingBottom")}static getMarginLeft(ke){return K.getDimension(ke,"margin-left","marginLeft")}static getMarginTop(ke){return K.getDimension(ke,"margin-top","marginTop")}static getMarginRight(ke){return K.getDimension(ke,"margin-right","marginRight")}static getMarginBottom(ke){return K.getDimension(ke,"margin-bottom","marginBottom")}}class X{constructor(ke,xe){this.width=ke,this.height=xe}with(ke=this.width,xe=this.height){return ke!==this.width||xe!==this.height?new X(ke,xe):this}static is(ke){return typeof ke=="object"&&typeof ke.height=="number"&&typeof ke.width=="number"}static lift(ke){return ke instanceof X?ke:new X(ke.width,ke.height)}static equals(ke,xe){return ke===xe?!0:!ke||!xe?!1:ke.width===xe.width&&ke.height===xe.height}}e.Dimension=X,X.None=new X(0,0);function Z(De){let ke=De.offsetParent,xe=De.offsetTop,Qe=De.offsetLeft;for(;(De=De.parentNode)!==null&&De!==document.body&&De!==document.documentElement;){xe-=De.scrollTop;const Je=de(De)?null:B(De);Je&&(Qe-=Je.direction!=="rtl"?De.scrollLeft:-De.scrollLeft),De===ke&&(Qe+=K.getBorderLeftWidth(De),xe+=K.getBorderTopWidth(De),xe+=De.offsetTop,Qe+=De.offsetLeft,ke=De.offsetParent)}return{left:Qe,top:xe}}e.getTopLeftOffset=Z;function q(De,ke,xe){typeof ke=="number"&&(De.style.width=`${ke}px`),typeof xe=="number"&&(De.style.height=`${xe}px`)}e.size=q;function H(De,ke,xe,Qe,Je,rt="absolute"){typeof ke=="number"&&(De.style.top=`${ke}px`),typeof xe=="number"&&(De.style.right=`${xe}px`),typeof Qe=="number"&&(De.style.bottom=`${Qe}px`),typeof Je=="number"&&(De.style.left=`${Je}px`),De.style.position=rt}e.position=H;function G(De){let ke=De.getBoundingClientRect();return{left:ke.left+e.StandardWindow.scrollX,top:ke.top+e.StandardWindow.scrollY,width:ke.width,height:ke.height}}e.getDomNodePagePosition=G,e.StandardWindow=new class{get scrollX(){return typeof window.scrollX=="number"?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return typeof window.scrollY=="number"?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function z(De){let ke=K.getMarginLeft(De)+K.getMarginRight(De);return De.offsetWidth+ke}e.getTotalWidth=z;function W(De){let ke=K.getBorderLeftWidth(De)+K.getBorderRightWidth(De),xe=K.getPaddingLeft(De)+K.getPaddingRight(De);return De.offsetWidth-ke-xe}e.getContentWidth=W;function j(De){let ke=K.getMarginLeft(De)+K.getMarginRight(De);return De.scrollWidth+ke}e.getTotalScrollWidth=j;function U(De){let ke=K.getBorderTopWidth(De)+K.getBorderBottomWidth(De),xe=K.getPaddingTop(De)+K.getPaddingBottom(De);return De.offsetHeight-ke-xe}e.getContentHeight=U;function Y(De){let ke=K.getMarginTop(De)+K.getMarginBottom(De);return De.offsetHeight+ke}e.getTotalHeight=Y;function ne(De,ke){if(De===null)return 0;let xe=Z(De),Qe=Z(ke);return xe.left-Qe.left}function J(De,ke){let xe=ke.map(Je=>Math.max(j(Je),z(Je))+ne(Je,De)||0);return Math.max(...xe)}e.getLargestChildWidth=J;function re(De,ke){for(;De;){if(De===ke)return!0;De=De.parentNode}return!1}e.isAncestor=re;const ge="parentFlowToElementId";function pe(De,ke){De.dataset[ge]=ke.id}e.setParentFlowTo=pe;function oe(De){const ke=De.dataset[ge];return typeof ke=="string"?document.getElementById(ke):null}function $(De,ke){let xe=De;for(;xe;){if(xe===ke)return!0;if(xe instanceof HTMLElement){const Qe=oe(xe);if(Qe){xe=Qe;continue}}xe=xe.parentNode}return!1}e.isAncestorUsingFlowTo=$;function ie(De,ke,xe){for(;De&&De.nodeType===De.ELEMENT_NODE;){if(De.classList.contains(ke))return De;if(xe){if(typeof xe=="string"){if(De.classList.contains(xe))return null}else if(De===xe)return null}De=De.parentNode}return null}e.findParentWithClass=ie;function le(De,ke,xe){return!!ie(De,ke,xe)}e.hasParentWithClass=le;function de(De){return De&&!!De.host&&!!De.mode}e.isShadowRoot=de;function fe(De){return!!he(De)}e.isInShadowDOM=fe;function he(De){for(;De.parentNode;){if(De===document.body)return null;De=De.parentNode}return de(De)?De:null}e.getShadowRoot=he;function se(){let De=document.activeElement;for(;De==null?void 0:De.shadowRoot;)De=De.shadowRoot.activeElement;return De}e.getActiveElement=se;function ce(De=document.getElementsByTagName("head")[0]){let ke=document.createElement("style");return ke.type="text/css",ke.media="screen",De.appendChild(ke),ke}e.createStyleSheet=ce;function Se(De=document.getElementsByTagName("head")[0]){let ke=document.createElement("meta");return De.appendChild(ke),ke}e.createMetaElement=Se;let Le=null;function ue(){return Le||(Le=ce()),Le}function we(De){var ke,xe;return((ke=De==null?void 0:De.sheet)===null||ke===void 0?void 0:ke.rules)?De.sheet.rules:((xe=De==null?void 0:De.sheet)===null||xe===void 0?void 0:xe.cssRules)?De.sheet.cssRules:[]}function ae(De,ke,xe=ue()){!xe||!ke||xe.sheet.insertRule(De+"{"+ke+"}",0)}e.createCSSRule=ae;function me(De,ke=ue()){if(!ke)return;let xe=we(ke),Qe=[];for(let Je=0;Je<xe.length;Je++)xe[Je].selectorText.indexOf(De)!==-1&&Qe.push(Je);for(let Je=Qe.length-1;Je>=0;Je--)ke.sheet.deleteRule(Qe[Je])}e.removeCSSRulesContainingSelector=me;function Ie(De){return typeof HTMLElement=="object"?De instanceof HTMLElement:De&&typeof De=="object"&&De.nodeType===1&&typeof De.nodeName=="string"}e.isHTMLElement=Ie,e.EventType={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:L.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:L.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:L.isWebKit?"webkitAnimationIteration":"animationiteration"},e.EventHelper={stop:function(De,ke){De.preventDefault?De.preventDefault():De.returnValue=!1,ke&&(De.stopPropagation?De.stopPropagation():De.cancelBubble=!0)}};function Fe(De){let ke=[];for(let xe=0;De&&De.nodeType===De.ELEMENT_NODE;xe++)ke[xe]=De.scrollTop,De=De.parentNode;return ke}e.saveParentsScrollTop=Fe;function ze(De,ke){for(let xe=0;De&&De.nodeType===De.ELEMENT_NODE;xe++)De.scrollTop!==ke[xe]&&(De.scrollTop=ke[xe]),De=De.parentNode}e.restoreParentsScrollTop=ze;class Ke extends v.Disposable{constructor(ke){super();this._onDidFocus=this._register(new b.Emitter),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new b.Emitter),this.onDidBlur=this._onDidBlur.event;let xe=Ke.hasFocusWithin(ke),Qe=!1;const Je=()=>{Qe=!1,xe||(xe=!0,this._onDidFocus.fire())},rt=()=>{xe&&(Qe=!0,window.setTimeout(()=>{Qe&&(Qe=!1,xe=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{Ke.hasFocusWithin(ke)!==xe&&(xe?rt():Je())},this._register(n(ke,e.EventType.FOCUS,Je,!0)),this._register(n(ke,e.EventType.BLUR,rt,!0)),this._register(n(ke,e.EventType.FOCUS_IN,()=>this._refreshStateHandler())),this._register(n(ke,e.EventType.FOCUS_OUT,()=>this._refreshStateHandler()))}static hasFocusWithin(ke){const xe=he(ke),Qe=xe?xe.activeElement:document.activeElement;return re(Qe,ke)}refreshState(){this._refreshStateHandler()}}function be(De){return new Ke(De)}e.trackFocus=be;function Ne(De,ke){return De.after(ke),ke}e.after=Ne;function Be(De,...ke){if(De.append(...ke),ke.length===1&&typeof ke[0]!="string")return ke[0]}e.append=Be;function $e(De,ke){return De.insertBefore(ke,De.firstChild),ke}e.prepend=$e;function je(De,...ke){De.innerText="",Be(De,...ke)}e.reset=je;const He=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var qe;(function(De){De.HTML="http://www.w3.org/1999/xhtml",De.SVG="http://www.w3.org/2000/svg"})(qe=e.Namespace||(e.Namespace={}));function Pe(De,ke,xe,...Qe){let Je=He.exec(ke);if(!Je)throw new Error("Bad use of emmet");xe=Object.assign({},xe||{});let rt=Je[1]||"div",at;return De!==qe.HTML?at=document.createElementNS(De,rt):at=document.createElement(rt),Je[3]&&(at.id=Je[3]),Je[4]&&(at.className=Je[4].replace(/\./g," ").trim()),Object.keys(xe).forEach(ut=>{const Dt=xe[ut];typeof Dt!="undefined"&&(/^on\w+$/.test(ut)?at[ut]=Dt:ut==="selected"?Dt&&at.setAttribute(ut,"true"):at.setAttribute(ut,Dt))}),at.append(...Qe),at}function Ae(De,ke,...xe){return Pe(qe.HTML,De,ke,...xe)}e.$=Ae,Ae.SVG=function(De,ke,...xe){return Pe(qe.SVG,De,ke,...xe)};function Re(De,ke){const xe=[];return De.forEach((Qe,Je)=>{Je>0&&(ke instanceof Node?xe.push(ke.cloneNode()):xe.push(document.createTextNode(ke))),xe.push(Qe)}),xe}e.join=Re;function ve(...De){for(let ke of De)ke.style.display="",ke.removeAttribute("aria-hidden")}e.show=ve;function _e(...De){for(let ke of De)ke.style.display="none",ke.setAttribute("aria-hidden","true")}e.hide=_e;function Te(De,ke){for(;De&&De.nodeType===De.ELEMENT_NODE;){if(De instanceof HTMLElement&&De.hasAttribute(ke))return De;De=De.parentNode}return null}function Ee(De){if(!(!De||!De.hasAttribute("tabIndex"))){if(document.activeElement===De){let ke=Te(De.parentElement,"tabIndex");ke&&ke.focus()}De.removeAttribute("tabindex")}}e.removeTabIndexAndUpdateFocus=Ee;function ye(De){return Array.prototype.slice.call(document.getElementsByTagName(De),0)}e.getElementsByTagName=ye;function We(De){return ke=>{ke.preventDefault(),ke.stopPropagation(),De(ke)}}e.finalHandler=We;function Oe(){return new Promise(De=>{document.readyState==="complete"||document&&document.body!==null?De(void 0):window.addEventListener("DOMContentLoaded",De,!1)})}e.domContentLoaded=Oe;function Ue(De){const ke=window.devicePixelRatio*De;return Math.max(1,Math.floor(ke))/window.devicePixelRatio}e.computeScreenAwareSize=Ue;function Ye(De){window.open(De,"_blank","noopener")}e.windowOpenNoOpener=Ye;const Ge=780,Xe=640;function et(De){const ke=Math.floor(window.screenLeft+window.innerWidth/2-Ge/2),xe=Math.floor(window.screenTop+window.innerHeight/2-Xe/2);window.open(De,"_blank",`width=${Ge},height=${Xe},top=${xe},left=${ke}`)}e.windowOpenPopup=et;function Ze(De,ke=!0){const xe=window.open();return xe?(ke&&(xe.opener=null),xe.location.href=De,!0):!1}e.windowOpenWithSuccess=Ze;function it(De){const ke=()=>{De(),xe=(0,e.scheduleAtNextAnimationFrame)(ke)};let xe=(0,e.scheduleAtNextAnimationFrame)(ke);return(0,v.toDisposable)(()=>xe.dispose())}e.animate=it,i.RemoteAuthorities.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");function tt(De){return De?`url('${i.FileAccess.asBrowserUri(De).toString(!0).replace(/'/g,"%27")}')`:"url('')"}e.asCSSUrl=tt;function ot(De){return`'${De.replace(/'/g,"%27")}'`}e.asCSSPropertyValue=ot;function ht(De,ke){let xe;if(l.URI.isUri(De))xe=De.toString(!0);else{const Je=new Blob([De]);xe=URL.createObjectURL(Je),setTimeout(()=>URL.revokeObjectURL(xe))}const Qe=document.createElement("a");document.body.appendChild(Qe),Qe.download=ke,Qe.href=xe,Qe.click(),setTimeout(()=>document.body.removeChild(Qe))}e.triggerDownload=ht;function st(){return new Promise(De=>{const ke=document.createElement("input");document.body.appendChild(ke),ke.type="file",ke.multiple=!0,b.Event.once(b.Event.fromDOMEventEmitter(ke,"input"))(()=>{De((0,a.withNullAsUndefined)(ke.files))}),ke.click(),setTimeout(()=>document.body.removeChild(ke))})}e.triggerUpload=st;var ct;(function(De){De[De.DOCUMENT=1]="DOCUMENT",De[De.BROWSER=2]="BROWSER"})(ct=e.DetectedFullscreenMode||(e.DetectedFullscreenMode={}));function St(){return document.fullscreenElement||document.webkitFullscreenElement||document.webkitIsFullScreen?{mode:ct.DOCUMENT,guess:!1}:window.innerHeight===screen.height?{mode:ct.BROWSER,guess:!1}:(t.isMacintosh||t.isLinux)&&window.outerHeight===screen.height&&window.outerWidth===screen.width?{mode:ct.BROWSER,guess:!0}:null}e.detectFullscreen=St;function vt(De,ke){const xe={ALLOWED_TAGS:["a","button","blockquote","code","div","h1","h2","h3","h4","h5","h6","hr","input","label","li","p","pre","select","small","span","strong","textarea","ul","ol"],ALLOWED_ATTR:["href","data-href","data-command","target","title","name","src","alt","class","id","role","tabindex","style","data-code","width","height","align","x-dispatch","required","checked","placeholder","type"],RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1},Qe=[i.Schemas.http,i.Schemas.https,i.Schemas.command];p.addHook("afterSanitizeAttributes",Je=>{const rt=document.createElement("a");for(const at in["href","src"])Je.hasAttribute(at)&&(rt.href=Je.getAttribute(at),Qe.includes(rt.protocol)||Je.removeAttribute(at))});try{const Je=p.sanitize(ke,Object.assign(Object.assign({},xe),{RETURN_TRUSTED_TYPE:!0}));De.innerHTML=Je}finally{p.removeHook("afterSanitizeAttributes")}}e.safeInnerHtml=vt;function bt(De){const ke=new Uint16Array(De.length);for(let Je=0;Je<ke.length;Je++)ke[Je]=De.charCodeAt(Je);let xe="";const Qe=new Uint8Array(ke.buffer);for(let Je=0;Je<Qe.length;Je++)xe+=String.fromCharCode(Qe[Je]);return xe}function pt(De){return btoa(bt(De))}e.multibyteAwareBtoa=pt;var gt;(function(De){function ke(xe){return typeof(xe==null?void 0:xe.showDirectoryPicker)=="function"}De.supported=ke})(gt=e.WebFileSystemAccess||(e.WebFileSystemAccess={}));class Ct extends b.Emitter{constructor(){super();this._subscriptions=new v.DisposableStore,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(n(window,"keydown",ke=>{if(ke.defaultPrevented)return;const xe=new M.StandardKeyboardEvent(ke);if(!(xe.keyCode===6&&ke.repeat)){if(ke.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(ke.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(ke.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(ke.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(xe.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=ke.altKey,this._keyStatus.ctrlKey=ke.ctrlKey,this._keyStatus.metaKey=ke.metaKey,this._keyStatus.shiftKey=ke.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=ke,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(n(window,"keyup",ke=>{ke.defaultPrevented||(!ke.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!ke.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!ke.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!ke.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=ke.altKey,this._keyStatus.ctrlKey=ke.ctrlKey,this._keyStatus.metaKey=ke.metaKey,this._keyStatus.shiftKey=ke.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=ke,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(n(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(n(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(n(document.body,"mousemove",ke=>{ke.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(n(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}get isModifierPressed(){return this._keyStatus.altKey||this._keyStatus.ctrlKey||this._keyStatus.metaKey||this._keyStatus.shiftKey}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return Ct.instance||(Ct.instance=new Ct),Ct.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}e.ModifierKeyEmitter=Ct;function Ht(De){const ke=document.cookie.match("(^|[^;]+)\\s*"+De+"\\s*=\\s*([^;]+)");return ke?ke.pop():void 0}e.getCookieValue=Ht;function Ut(De,ke){const xe=window.matchMedia(De);typeof xe.addEventListener=="function"?xe.addEventListener("change",ke):xe.addListener(ke)}e.addMatchMediaChangeListener=Ut}),define(ee[172],te([0,1,7]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createElement=e.renderFormattedText=e.renderText=void 0;function N(i,t={}){const a=E(t);return a.textContent=i,a}e.renderText=N;function M(i,t={}){const a=E(t);return S(a,b(i,!!t.renderCodeSegments),t.actionHandler,t.renderCodeSegments),a}e.renderFormattedText=M;function E(i){const t=i.inline?"span":"div",a=document.createElement(t);return i.className&&(a.className=i.className),a}e.createElement=E;class g{constructor(t){this.source=t,this.index=0}eos(){return this.index>=this.source.length}next(){const t=this.peek();return this.advance(),t}peek(){return this.source[this.index]}advance(){this.index++}}function S(i,t,a,l){let h;if(t.type===2)h=document.createTextNode(t.content||"");else if(t.type===3)h=document.createElement("b");else if(t.type===4)h=document.createElement("i");else if(t.type===7&&l)h=document.createElement("code");else if(t.type===5&&a){const d=document.createElement("a");d.href="#",a.disposables.add(L.addStandardDisposableListener(d,"click",u=>{a.callback(String(t.index),u)})),h=d}else t.type===8?h=document.createElement("br"):t.type===1&&(h=i);h&&i!==h&&i.appendChild(h),h&&Array.isArray(t.children)&&t.children.forEach(d=>{S(h,d,a,l)})}function b(i,t){const a={type:1,children:[]};let l=0,h=a;const d=[],u=new g(i);for(;!u.eos();){let n=u.next();const r=n==="\\"&&v(u.peek(),t)!==0;if(r&&(n=u.next()),!r&&p(n,t)&&n===u.peek()){u.advance(),h.type===2&&(h=d.pop());const s=v(n,t);if(h.type===s||h.type===5&&s===6)h=d.pop();else{const o={type:s,children:[]};s===5&&(o.index=l,l++),h.children.push(o),d.push(h),h=o}}else if(n===`
`)h.type===2&&(h=d.pop()),h.children.push({type:8});else if(h.type!==2){const s={type:2,content:n};h.children.push(s),d.push(h),h=s}else h.content+=n}return h.type===2&&(h=d.pop()),d.length,a}function p(i,t){return v(i,t)!==0}function v(i,t){switch(i){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return t?7:0;default:return 0}}}),define(ee[99],te([0,1,7,207,59,2,15]),function(Q,e,L,N,M,E,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalMouseMoveMonitor=e.standardMouseMoveMerger=void 0;function S(p,v){let i=new M.StandardMouseEvent(v);return i.preventDefault(),{leftButton:i.leftButton,buttons:i.buttons,posx:i.posx,posy:i.posy}}e.standardMouseMoveMerger=S;class b{constructor(){this._hooks=new E.DisposableStore,this._mouseMoveEventMerger=null,this._mouseMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(v,i){if(!this.isMonitoring())return;this._hooks.clear(),this._mouseMoveEventMerger=null,this._mouseMoveCallback=null;const t=this._onStopCallback;this._onStopCallback=null,v&&t&&t(i)}isMonitoring(){return!!this._mouseMoveEventMerger}startMonitoring(v,i,t,a,l){if(this.isMonitoring())return;this._mouseMoveEventMerger=t,this._mouseMoveCallback=a,this._onStopCallback=l;const h=N.IframeUtils.getSameOriginWindowChain(),d=g.isIOS?"pointermove":"mousemove",u="mouseup",n=h.map(s=>s.window.document),r=L.getShadowRoot(v);r&&n.unshift(r);for(const s of n)this._hooks.add(L.addDisposableThrottledListener(s,d,o=>{if(o.buttons!==i){this.stopMonitoring(!0);return}this._mouseMoveCallback(o)},(o,m)=>this._mouseMoveEventMerger(o,m))),this._hooks.add(L.addDisposableListener(s,u,o=>this.stopMonitoring(!0)));if(N.IframeUtils.hasDifferentOriginAncestor()){let s=h[h.length-1];this._hooks.add(L.addDisposableListener(s.window.document,"mouseout",o=>{new M.StandardMouseEvent(o).target.tagName.toLowerCase()==="html"&&this.stopMonitoring(!0)})),this._hooks.add(L.addDisposableListener(s.window.document,"mouseover",o=>{new M.StandardMouseEvent(o).target.tagName.toLowerCase()==="html"&&this.stopMonitoring(!0)})),this._hooks.add(L.addDisposableListener(s.window.document.body,"mouseleave",o=>{this.stopMonitoring(!0)}))}}}e.GlobalMouseMoveMonitor=b});var Ve=this&&this.__decorate||function(Q,e,L,N){var M=arguments.length,E=M<3?e:N===null?N=Object.getOwnPropertyDescriptor(e,L):N,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(Q,e,L,N);else for(var S=Q.length-1;S>=0;S--)(g=Q[S])&&(E=(M<3?g(E):M>3?g(e,L,E):g(e,L))||E);return M>3&&E&&Object.defineProperty(e,L,E),E};define(ee[57],te([0,1,7,19,96,2]),function(Q,e,L,N,M,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Gesture=e.EventType=void 0;var g;(function(b){b.Tap="-monaco-gesturetap",b.Change="-monaco-gesturechange",b.Start="-monaco-gesturestart",b.End="-monaco-gesturesend",b.Contextmenu="-monaco-gesturecontextmenu"})(g=e.EventType||(e.EventType={}));class S extends E.Disposable{constructor(){super();this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(L.addDisposableListener(document,"touchstart",p=>this.onTouchStart(p),{passive:!1})),this._register(L.addDisposableListener(document,"touchend",p=>this.onTouchEnd(p))),this._register(L.addDisposableListener(document,"touchmove",p=>this.onTouchMove(p),{passive:!1}))}static addTarget(p){return S.isTouchDevice()?(S.INSTANCE||(S.INSTANCE=new S),S.INSTANCE.targets.push(p),{dispose:()=>{S.INSTANCE.targets=S.INSTANCE.targets.filter(v=>v!==p)}}):E.Disposable.None}static ignoreTarget(p){return S.isTouchDevice()?(S.INSTANCE||(S.INSTANCE=new S),S.INSTANCE.ignoreTargets.push(p),{dispose:()=>{S.INSTANCE.ignoreTargets=S.INSTANCE.ignoreTargets.filter(v=>v!==p)}}):E.Disposable.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(p){let v=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let i=0,t=p.targetTouches.length;i<t;i++){let a=p.targetTouches.item(i);this.activeTouches[a.identifier]={id:a.identifier,initialTarget:a.target,initialTimeStamp:v,initialPageX:a.pageX,initialPageY:a.pageY,rollingTimestamps:[v],rollingPageX:[a.pageX],rollingPageY:[a.pageY]};let l=this.newGestureEvent(g.Start,a.target);l.pageX=a.pageX,l.pageY=a.pageY,this.dispatchEvent(l)}this.dispatched&&(p.preventDefault(),p.stopPropagation(),this.dispatched=!1)}onTouchEnd(p){let v=Date.now(),i=Object.keys(this.activeTouches).length;for(let t=0,a=p.changedTouches.length;t<a;t++){let l=p.changedTouches.item(t);if(!this.activeTouches.hasOwnProperty(String(l.identifier))){console.warn("move of an UNKNOWN touch",l);continue}let h=this.activeTouches[l.identifier],d=Date.now()-h.initialTimeStamp;if(d<S.HOLD_DELAY&&Math.abs(h.initialPageX-N.tail(h.rollingPageX))<30&&Math.abs(h.initialPageY-N.tail(h.rollingPageY))<30){let u=this.newGestureEvent(g.Tap,h.initialTarget);u.pageX=N.tail(h.rollingPageX),u.pageY=N.tail(h.rollingPageY),this.dispatchEvent(u)}else if(d>=S.HOLD_DELAY&&Math.abs(h.initialPageX-N.tail(h.rollingPageX))<30&&Math.abs(h.initialPageY-N.tail(h.rollingPageY))<30){let u=this.newGestureEvent(g.Contextmenu,h.initialTarget);u.pageX=N.tail(h.rollingPageX),u.pageY=N.tail(h.rollingPageY),this.dispatchEvent(u)}else if(i===1){let u=N.tail(h.rollingPageX),n=N.tail(h.rollingPageY),r=N.tail(h.rollingTimestamps)-h.rollingTimestamps[0],s=u-h.rollingPageX[0],o=n-h.rollingPageY[0];const m=this.targets.filter(_=>h.initialTarget instanceof Node&&_.contains(h.initialTarget));this.inertia(m,v,Math.abs(s)/r,s>0?1:-1,u,Math.abs(o)/r,o>0?1:-1,n)}this.dispatchEvent(this.newGestureEvent(g.End,h.initialTarget)),delete this.activeTouches[l.identifier]}this.dispatched&&(p.preventDefault(),p.stopPropagation(),this.dispatched=!1)}newGestureEvent(p,v){let i=document.createEvent("CustomEvent");return i.initEvent(p,!1,!0),i.initialTarget=v,i.tapCount=0,i}dispatchEvent(p){if(p.type===g.Tap){const v=new Date().getTime();let i=0;v-this._lastSetTapCountTime>S.CLEAR_TAP_COUNT_TIME?i=1:i=2,this._lastSetTapCountTime=v,p.tapCount=i}else(p.type===g.Change||p.type===g.Contextmenu)&&(this._lastSetTapCountTime=0);for(let v=0;v<this.ignoreTargets.length;v++)if(p.initialTarget instanceof Node&&this.ignoreTargets[v].contains(p.initialTarget))return;this.targets.forEach(v=>{p.initialTarget instanceof Node&&v.contains(p.initialTarget)&&(v.dispatchEvent(p),this.dispatched=!0)})}inertia(p,v,i,t,a,l,h,d){this.handle=L.scheduleAtNextAnimationFrame(()=>{let u=Date.now(),n=u-v,r=0,s=0,o=!0;i+=S.SCROLL_FRICTION*n,l+=S.SCROLL_FRICTION*n,i>0&&(o=!1,r=t*i*n),l>0&&(o=!1,s=h*l*n);let m=this.newGestureEvent(g.Change);m.translationX=r,m.translationY=s,p.forEach(_=>_.dispatchEvent(m)),o||this.inertia(p,u,i,t,a+r,l,h,d+s)})}onTouchMove(p){let v=Date.now();for(let i=0,t=p.changedTouches.length;i<t;i++){let a=p.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(a.identifier))){console.warn("end of an UNKNOWN touch",a);continue}let l=this.activeTouches[a.identifier],h=this.newGestureEvent(g.Change,l.initialTarget);h.translationX=a.pageX-N.tail(l.rollingPageX),h.translationY=a.pageY-N.tail(l.rollingPageY),h.pageX=a.pageX,h.pageY=a.pageY,this.dispatchEvent(h),l.rollingPageX.length>3&&(l.rollingPageX.shift(),l.rollingPageY.shift(),l.rollingTimestamps.shift()),l.rollingPageX.push(a.pageX),l.rollingPageY.push(a.pageY),l.rollingTimestamps.push(v)}this.dispatched&&(p.preventDefault(),p.stopPropagation(),this.dispatched=!1)}}S.SCROLL_FRICTION=-.005,S.HOLD_DELAY=700,S.CLEAR_TAP_COUNT_TIME=400,Ve([M.memoize],S,"isTouchDevice",null),e.Gesture=S}),define(ee[111],te([0,1,7,27]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderIcon=e.renderLabelWithIcons=void 0;const M=new RegExp(`(\\\\)?\\$\\((${N.CSSIcon.iconNameExpression}(?:${N.CSSIcon.iconModifierExpression})?)\\)`,"g");function E(S){const b=new Array;let p,v=0,i=0;for(;(p=M.exec(S))!==null;){i=p.index||0,b.push(S.substring(v,i)),v=(p.index||0)+p[0].length;const[,t,a]=p;b.push(t?`$(${a})`:g({id:a}))}return v<S.length&&b.push(S.substring(v)),b}e.renderLabelWithIcons=E;function g(S){const b=L.$("span");return b.classList.add(...N.CSSIcon.asClassNameArray(S)),b}e.renderIcon=g}),define(ee[213],te([0,1,7,317,81,172,59,111,10,21,12,4,73,110,133,2,745,212,42,34,33,8,22]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u,n,r,s,o,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderMarkdownAsPlaintext=e.renderStringAsPlaintext=e.renderMarkdown=void 0;function _(w,D={},I={}){var T;const F=new h.DisposableStore;let P=!1;const R=F.add(new p.CancellationTokenSource),A=(0,E.createElement)(D),O=function(H){let G;try{G=(0,u.parse)(decodeURIComponent(H))}catch(z){}return G?(G=(0,r.cloneAndChange)(G,z=>{if(w.uris&&w.uris[z])return m.URI.revive(w.uris[z])}),encodeURIComponent(JSON.stringify(G))):H},k=function(H,G){const z=w.uris&&w.uris[H];let W=m.URI.revive(z);return G?H.startsWith(n.Schemas.data+":")?H:(W||(W=m.URI.parse(H)),n.FileAccess.asBrowserUri(W).toString(!0)):!W||m.URI.parse(H).toString()===W.toString()?H:(W.query&&(W=W.with({query:O(W.query)})),W.toString())};let V;const B=new Promise(H=>V=H),x=new d.Renderer;if(x.image=(H,G,z)=>{let W=[],j=[];return H&&({href:H,dimensions:W}=(0,t.parseHrefAndDimensions)(H),j.push(`src="${H}"`)),z&&j.push(`alt="${z}"`),G&&j.push(`title="${G}"`),W.length&&(j=j.concat(W)),"<img "+j.join(" ")+">"},x.link=(H,G,z)=>(H===z&&(z=(0,t.removeMarkdownEscapes)(z)),H=k(H,!1),D.baseUrl&&(/^\w[\w\d+.-]*:/.test(H)||(H=(0,s.resolvePath)(D.baseUrl,H).toString())),G=(0,t.removeMarkdownEscapes)(G),H=(0,t.removeMarkdownEscapes)(H),!H||H.match(/^data:|javascript:/i)||H.match(/^command:/i)&&!w.isTrusted||H.match(/^command:(\/\/\/)?_workbench\.downloadResource/i)?z:(H=H.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="#" data-href="${H}" title="${G||H}">${z}</a>`)),x.paragraph=H=>`<p>${H}</p>`,D.codeBlockRenderer&&(x.code=(H,G)=>{const z=D.codeBlockRenderer(G,H),W=l.defaultGenerator.nextId();return(0,b.raceCancellation)(Promise.all([z,B]),R.token).then(j=>{var U;if(!P&&j){const Y=A.querySelector(`div[data-code="${W}"]`);Y&&L.reset(Y,j[0]),(U=D.asyncRenderCallback)===null||U===void 0||U.call(D)}}).catch(()=>{}),`<div class="code" data-code="${W}">${(0,o.escape)(H)}</div>`}),D.actionHandler){const H=D.actionHandler.disposables.add(new M.DomEmitter(A,"click")),G=D.actionHandler.disposables.add(new M.DomEmitter(A,"auxclick"));D.actionHandler.disposables.add(i.Event.any(H.event,G.event)(z=>{const W=new g.StandardMouseEvent(z);if(!W.leftButton&&!W.middleButton)return;let j=W.target;if(!(j.tagName!=="A"&&(j=j.parentElement,!j||j.tagName!=="A")))try{const U=j.dataset.href;U&&D.actionHandler.callback(U,W)}catch(U){(0,v.onUnexpectedError)(U)}finally{W.preventDefault()}}))}w.supportHtml||(I.sanitizer=H=>(w.isTrusted?H.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?H:"",I.sanitize=!0,I.silent=!0),I.renderer=x;let K=(T=w.value)!==null&&T!==void 0?T:"";K.length>1e5&&(K=`${K.substr(0,1e5)}\u2026`),w.supportThemeIcons&&(K=(0,a.markdownEscapeEscapedIcons)(K));let X=d.parse(K,I);w.supportThemeIcons&&(X=(0,S.renderLabelWithIcons)(X).map(G=>typeof G=="string"?G:G.outerHTML).join(""));const q=new DOMParser().parseFromString(f(w,X),"text/html");if(q.body.querySelectorAll("img").forEach(H=>{if(H.src){let G=k(H.src,!0);try{const z=m.URI.parse(G);D.baseUrl&&z.scheme===n.Schemas.file&&(G=(0,s.resolvePath)(D.baseUrl,G).toString())}catch(z){}H.src=G}}),A.innerHTML=f(w,q.body.innerHTML),V(),D.asyncRenderCallback)for(const H of A.getElementsByTagName("img")){const G=F.add(L.addDisposableListener(H,"load",()=>{G.dispose(),D.asyncRenderCallback()}))}return{element:A,dispose:()=>{P=!0,R.cancel(),F.dispose()}}}e.renderMarkdown=_;function f(w,D){const{config:I,allowedSchemes:T}=c(w);N.addHook("uponSanitizeAttribute",(P,R)=>{if(R.attrName==="style"||R.attrName==="class"){if(P.tagName==="SPAN"){if(R.attrName==="style"){R.keepAttr=/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/.test(R.attrValue);return}else if(R.attrName==="class"){R.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(R.attrValue);return}}R.keepAttr=!1;return}});const F=document.createElement("a");N.addHook("afterSanitizeAttributes",P=>{for(const R of["href","src"])P.hasAttribute(R)&&(F.href=P.getAttribute(R),T.includes(F.protocol.replace(/:$/,""))||P.removeAttribute(R))});try{return N.sanitize(D,Object.assign(Object.assign({},I),{RETURN_TRUSTED_TYPE:!0}))}finally{N.removeHook("uponSanitizeAttribute"),N.removeHook("afterSanitizeAttributes")}}function c(w){const D=[n.Schemas.http,n.Schemas.https,n.Schemas.mailto,n.Schemas.data,n.Schemas.file,n.Schemas.vscodeFileResource,n.Schemas.vscodeRemote,n.Schemas.vscodeRemoteResource];return w.isTrusted&&D.push(n.Schemas.command),{config:{ALLOWED_TAGS:["ul","li","p","b","i","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],ALLOWED_ATTR:["href","data-href","target","title","src","alt","class","style","data-code","width","height","align"],ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:D}}function C(w){return typeof w=="string"?w:y(w)}e.renderStringAsPlaintext=C;function y(w){var D;const I=new d.Renderer;I.code=R=>R,I.blockquote=R=>R,I.html=R=>"",I.heading=(R,A,O)=>R+`
`,I.hr=()=>"",I.list=(R,A)=>R,I.listitem=R=>R+`
`,I.paragraph=R=>R+`
`,I.table=(R,A)=>R+A+`
`,I.tablerow=R=>R,I.tablecell=(R,A)=>R+" ",I.strong=R=>R,I.em=R=>R,I.codespan=R=>R,I.br=()=>`
`,I.del=R=>R,I.image=(R,A,O)=>"",I.text=R=>R,I.link=(R,A,O)=>O;let T=(D=w.value)!==null&&D!==void 0?D:"";T.length>1e5&&(T=`${T.substr(0,1e5)}\u2026`);const F=new Map([["&quot;",'"'],["&nbsp;"," "],["&amp;","&"],["&#39;","'"],["&lt;","<"],["&gt;",">"]]),P=d.parse(T,{renderer:I}).replace(/&(#\d+|[a-zA-Z]+);/g,R=>{var A;return(A=F.get(R))!==null&&A!==void 0?A:R});return f({isTrusted:!1},P).toString()}e.renderMarkdownAsPlaintext=y}),define(ee[214],te([0,1,7,111,34]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HighlightedLabel=void 0;class E{constructor(S,b){var p;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(p=b==null?void 0:b.supportIcons)!==null&&p!==void 0?p:!1,this.domNode=L.append(S,L.$("span.monaco-highlighted-label"))}get element(){return this.domNode}set(S,b=[],p="",v){S||(S=""),v&&(S=E.escapeNewLines(S,b)),!(this.didEverRender&&this.text===S&&this.title===p&&M.equals(this.highlights,b))&&(this.text=S,this.title=p,this.highlights=b,this.render())}render(){const S=[];let b=0;for(const p of this.highlights){if(p.end===p.start)continue;if(b<p.start){const t=this.text.substring(b,p.start);S.push(L.$("span",void 0,...this.supportIcons?(0,N.renderLabelWithIcons)(t):[t])),b=p.end}const v=this.text.substring(p.start,p.end),i=L.$("span.highlight",void 0,...this.supportIcons?(0,N.renderLabelWithIcons)(v):[v]);p.extraClasses&&i.classList.add(...p.extraClasses),S.push(i),b=p.end}if(b<this.text.length){const p=this.text.substring(b);S.push(L.$("span",void 0,...this.supportIcons?(0,N.renderLabelWithIcons)(p):[p]))}L.reset(this.domNode,...S),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(S,b){let p=0,v=0;return S.replace(/\r\n|\r|\n/g,(i,t)=>{v=i===`\r
`?-1:0,t+=p;for(const a of b)a.end<=t||(a.start>=t&&(a.start+=v),a.end>=t&&(a.end+=v));return p+=v,"\u23CE"})}}e.HighlightedLabel=E}),define(ee[318],te([0,1,7]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RowCache=void 0;function N(E){try{E.parentElement&&E.parentElement.removeChild(E)}catch(g){}}class M{constructor(g){this.renderers=g,this.cache=new Map}alloc(g){let S=this.getTemplateCache(g).pop();if(!S){const b=(0,L.$)(".monaco-list-row"),v=this.getRenderer(g).renderTemplate(b);S={domNode:b,templateId:g,templateData:v}}return S}release(g){!g||this.releaseRow(g)}releaseRow(g){const{domNode:S,templateId:b}=g;S&&(S.classList.remove("scrolling"),N(S)),this.getTemplateCache(b).push(g)}getTemplateCache(g){let S=this.cache.get(g);return S||(S=[],this.cache.set(g,S)),S}dispose(){this.cache.forEach((g,S)=>{for(const b of g)this.getRenderer(S).disposeTemplate(b.templateData),b.templateData=null}),this.cache.clear()}getRenderer(g){const S=this.renderers.get(g);if(!S)throw new Error(`No renderer found for ${g}`);return S}}e.RowCache=M}),define(ee[319],te([0,1,10,2]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarVisibilityController=void 0;class M extends N.Disposable{constructor(g,S,b){super();this._visibility=g,this._visibleClassName=S,this._invisibleClassName=b,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new L.TimeoutTimer)}setVisibility(g){this._visibility!==g&&(this._visibility=g,this._updateShouldBeVisible())}setShouldBeVisible(g){this._rawShouldBeVisible=g,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const g=this._applyVisibilitySetting();this._shouldBeVisible!==g&&(this._shouldBeVisible=g,this.ensureVisibility())}setIsNeeded(g){this._isNeeded!==g&&(this._isNeeded=g,this.ensureVisibility())}setDomNode(g){this._domNode=g,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode&&this._domNode.setClassName(this._visibleClassName)},0))}_hide(g){this._revealTimer.cancel(),!!this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(g?" fade":"")))}}e.ScrollbarVisibilityController=M}),define(ee[320],te([0,1,7,57,19,4,2,15]),function(Q,e,L,N,M,E,g,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectBoxNative=void 0;class b extends g.Disposable{constructor(v,i,t,a){super();this.selected=0,this.selectBoxOptions=a||Object.create(null),this.options=[],this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),this._onDidSelect=this._register(new E.Emitter),this.styles=t,this.registerListeners(),this.setOptions(v,i)}registerListeners(){this._register(N.Gesture.addTarget(this.selectElement)),[N.EventType.Tap].forEach(v=>{this._register(L.addDisposableListener(this.selectElement,v,i=>{this.selectElement.focus()}))}),this._register(L.addStandardDisposableListener(this.selectElement,"click",v=>{L.EventHelper.stop(v,!0)})),this._register(L.addStandardDisposableListener(this.selectElement,"change",v=>{this.selectElement.title=v.target.value,this._onDidSelect.fire({index:v.target.selectedIndex,selected:v.target.value})})),this._register(L.addStandardDisposableListener(this.selectElement,"keydown",v=>{let i=!1;S.isMacintosh?(v.keyCode===18||v.keyCode===16||v.keyCode===10)&&(i=!0):(v.keyCode===18&&v.altKey||v.keyCode===10||v.keyCode===3)&&(i=!0),i&&v.stopPropagation()}))}get onDidSelect(){return this._onDidSelect.event}setOptions(v,i){(!this.options||!M.equals(this.options,v))&&(this.options=v,this.selectElement.options.length=0,this.options.forEach((t,a)=>{this.selectElement.add(this.createOption(t.text,a,t.isDisabled))})),i!==void 0&&this.select(i)}select(v){this.options.length===0?this.selected=0:v>=0&&v<this.options.length?this.selected=v:v>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.selected<this.options.length&&typeof this.options[this.selected].text=="string"?this.selectElement.title=this.options[this.selected].text:this.selectElement.title=""}setAriaLabel(v){this.selectBoxOptions.ariaLabel=v,this.selectElement.setAttribute("aria-label",v)}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(v){this.selectElement.tabIndex=v?0:-1}render(v){v.classList.add("select-container"),v.appendChild(this.selectElement),this.setOptions(this.options,this.selected),this.applyStyles()}style(v){this.styles=v,this.applyStyles()}applyStyles(){if(this.selectElement){const v=this.styles.selectBackground?this.styles.selectBackground.toString():"",i=this.styles.selectForeground?this.styles.selectForeground.toString():"",t=this.styles.selectBorder?this.styles.selectBorder.toString():"";this.selectElement.style.backgroundColor=v,this.selectElement.style.color=i,this.selectElement.style.borderColor=t}}createOption(v,i,t){const a=document.createElement("option");return a.value=v,a.text=v,a.disabled=!!t,a}}e.SelectBoxNative=b}),define(ee[53],te([0,1,7,44,59,57,2]),function(Q,e,L,N,M,E,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Widget=void 0;class S extends g.Disposable{onclick(p,v){this._register(L.addDisposableListener(p,L.EventType.CLICK,i=>v(new M.StandardMouseEvent(i))))}onmousedown(p,v){this._register(L.addDisposableListener(p,L.EventType.MOUSE_DOWN,i=>v(new M.StandardMouseEvent(i))))}onmouseover(p,v){this._register(L.addDisposableListener(p,L.EventType.MOUSE_OVER,i=>v(new M.StandardMouseEvent(i))))}onnonbubblingmouseout(p,v){this._register(L.addDisposableNonBubblingMouseOutListener(p,i=>v(new M.StandardMouseEvent(i))))}onkeydown(p,v){this._register(L.addDisposableListener(p,L.EventType.KEY_DOWN,i=>v(new N.StandardKeyboardEvent(i))))}onkeyup(p,v){this._register(L.addDisposableListener(p,L.EventType.KEY_UP,i=>v(new N.StandardKeyboardEvent(i))))}oninput(p,v){this._register(L.addDisposableListener(p,L.EventType.INPUT,v))}onblur(p,v){this._register(L.addDisposableListener(p,L.EventType.BLUR,v))}onfocus(p,v){this._register(L.addDisposableListener(p,L.EventType.FOCUS,v))}onchange(p,v){this._register(L.addDisposableListener(p,L.EventType.CHANGE,v))}ignoreGesture(p){E.Gesture.ignoreTarget(p)}}e.Widget=S}),define(ee[173],te([0,1,99,53,10]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarArrow=e.ARROW_IMG_SIZE=void 0,e.ARROW_IMG_SIZE=11;class E extends N.Widget{constructor(S){super();this._onActivate=S.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=S.bgWidth+"px",this.bgDomNode.style.height=S.bgHeight+"px",typeof S.top!="undefined"&&(this.bgDomNode.style.top="0px"),typeof S.left!="undefined"&&(this.bgDomNode.style.left="0px"),typeof S.bottom!="undefined"&&(this.bgDomNode.style.bottom="0px"),typeof S.right!="undefined"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=S.className,this.domNode.classList.add(...S.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width=e.ARROW_IMG_SIZE+"px",this.domNode.style.height=e.ARROW_IMG_SIZE+"px",typeof S.top!="undefined"&&(this.domNode.style.top=S.top+"px"),typeof S.left!="undefined"&&(this.domNode.style.left=S.left+"px"),typeof S.bottom!="undefined"&&(this.domNode.style.bottom=S.bottom+"px"),typeof S.right!="undefined"&&(this.domNode.style.right=S.right+"px"),this._mouseMoveMonitor=this._register(new L.GlobalMouseMoveMonitor),this.onmousedown(this.bgDomNode,b=>this._arrowMouseDown(b)),this.onmousedown(this.domNode,b=>this._arrowMouseDown(b)),this._mousedownRepeatTimer=this._register(new M.IntervalTimer),this._mousedownScheduleRepeatTimer=this._register(new M.TimeoutTimer)}_arrowMouseDown(S){const b=()=>{this._mousedownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24)};this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet(b,200),this._mouseMoveMonitor.startMonitoring(S.target,S.buttons,L.standardMouseMoveMerger,p=>{},()=>{this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancel()}),S.preventDefault()}}e.ScrollbarArrow=E}),define(ee[215],te([0,1,7,32,99,173,319,53,15]),function(Q,e,L,N,M,E,g,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractScrollbar=void 0;const p=140;class v extends S.Widget{constructor(t){super();this._lazyRender=t.lazyRender,this._host=t.host,this._scrollable=t.scrollable,this._scrollByPage=t.scrollByPage,this._scrollbarState=t.scrollbarState,this._visibilityController=this._register(new g.ScrollbarVisibilityController(t.visibility,"visible scrollbar "+t.extraScrollbarClassName,"invisible scrollbar "+t.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._mouseMoveMonitor=this._register(new M.GlobalMouseMoveMonitor),this._shouldRender=!0,this.domNode=(0,N.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this.onmousedown(this.domNode.domNode,a=>this._domNodeMouseDown(a))}_createArrow(t){const a=this._register(new E.ScrollbarArrow(t));this.domNode.domNode.appendChild(a.bgDomNode),this.domNode.domNode.appendChild(a.domNode)}_createSlider(t,a,l,h){this.slider=(0,N.createFastDomNode)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(t),this.slider.setLeft(a),typeof l=="number"&&this.slider.setWidth(l),typeof h=="number"&&this.slider.setHeight(h),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,d=>{d.leftButton&&(d.preventDefault(),this._sliderMouseDown(d,()=>{}))}),this.onclick(this.slider.domNode,d=>{d.leftButton&&d.stopPropagation()})}_onElementSize(t){return this._scrollbarState.setVisibleSize(t)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(t){return this._scrollbarState.setScrollSize(t)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(t){return this._scrollbarState.setScrollPosition(t)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){!this._shouldRender||(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodeMouseDown(t){t.target===this.domNode.domNode&&this._onMouseDown(t)}delegateMouseDown(t){const a=this.domNode.domNode.getClientRects()[0].top,l=a+this._scrollbarState.getSliderPosition(),h=a+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),d=this._sliderMousePosition(t);l<=d&&d<=h?t.leftButton&&(t.preventDefault(),this._sliderMouseDown(t,()=>{})):this._onMouseDown(t)}_onMouseDown(t){let a,l;if(t.target===this.domNode.domNode&&typeof t.browserEvent.offsetX=="number"&&typeof t.browserEvent.offsetY=="number")a=t.browserEvent.offsetX,l=t.browserEvent.offsetY;else{const d=L.getDomNodePagePosition(this.domNode.domNode);a=t.posx-d.left,l=t.posy-d.top}const h=this._mouseDownRelativePosition(a,l);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(h):this._scrollbarState.getDesiredScrollPositionFromOffset(h)),t.leftButton&&(t.preventDefault(),this._sliderMouseDown(t,()=>{}))}_sliderMouseDown(t,a){const l=this._sliderMousePosition(t),h=this._sliderOrthogonalMousePosition(t),d=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,M.standardMouseMoveMerger,u=>{const n=this._sliderOrthogonalMousePosition(u),r=Math.abs(n-h);if(b.isWindows&&r>p){this._setDesiredScrollPositionNow(d.getScrollPosition());return}const o=this._sliderMousePosition(u)-l;this._setDesiredScrollPositionNow(d.getDesiredScrollPositionFromDelta(o))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd(),a()}),this._host.onDragStart()}_setDesiredScrollPositionNow(t){const a={};this.writeScrollPosition(a,t),this._scrollable.setScrollPositionNow(a)}updateScrollbarSize(t){this._updateScrollbarSize(t),this._scrollbarState.setScrollbarSize(t),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}e.AbstractScrollbar=v}),define(ee[321],te([0,1,59,215,173,208,27]),function(Q,e,L,N,M,E,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HorizontalScrollbar=void 0;class S extends N.AbstractScrollbar{constructor(p,v,i){const t=p.getScrollDimensions(),a=p.getCurrentScrollPosition();super({lazyRender:v.lazyRender,host:i,scrollbarState:new E.ScrollbarState(v.horizontalHasArrows?v.arrowSize:0,v.horizontal===2?0:v.horizontalScrollbarSize,v.vertical===2?0:v.verticalScrollbarSize,t.width,t.scrollWidth,a.scrollLeft),visibility:v.horizontal,extraScrollbarClassName:"horizontal",scrollable:p,scrollByPage:v.scrollByPage});if(v.horizontalHasArrows){const l=(v.arrowSize-M.ARROW_IMG_SIZE)/2,h=(v.horizontalScrollbarSize-M.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:g.Codicon.scrollbarButtonLeft,top:h,left:l,bottom:void 0,right:void 0,bgWidth:v.arrowSize,bgHeight:v.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new L.StandardWheelEvent(null,1,0))}),this._createArrow({className:"scra",icon:g.Codicon.scrollbarButtonRight,top:h,left:void 0,bottom:void 0,right:l,bgWidth:v.arrowSize,bgHeight:v.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new L.StandardWheelEvent(null,-1,0))})}this._createSlider(Math.floor((v.horizontalScrollbarSize-v.horizontalSliderSize)/2),0,void 0,v.horizontalSliderSize)}_updateSlider(p,v){this.slider.setWidth(p),this.slider.setLeft(v)}_renderDomNode(p,v){this.domNode.setWidth(p),this.domNode.setHeight(v),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(p){return this._shouldRender=this._onElementScrollSize(p.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(p.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(p.width)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(p,v){return p}_sliderMousePosition(p){return p.posx}_sliderOrthogonalMousePosition(p){return p.posy}_updateScrollbarSize(p){this.slider.setHeight(p)}writeScrollPosition(p,v){p.scrollLeft=v}updateOptions(p){this.updateScrollbarSize(p.horizontal===2?0:p.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(p.vertical===2?0:p.verticalScrollbarSize),this._visibilityController.setVisibility(p.horizontal),this._scrollByPage=p.scrollByPage}}e.HorizontalScrollbar=S}),define(ee[322],te([0,1,59,215,173,208,27]),function(Q,e,L,N,M,E,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VerticalScrollbar=void 0;class S extends N.AbstractScrollbar{constructor(p,v,i){const t=p.getScrollDimensions(),a=p.getCurrentScrollPosition();super({lazyRender:v.lazyRender,host:i,scrollbarState:new E.ScrollbarState(v.verticalHasArrows?v.arrowSize:0,v.vertical===2?0:v.verticalScrollbarSize,0,t.height,t.scrollHeight,a.scrollTop),visibility:v.vertical,extraScrollbarClassName:"vertical",scrollable:p,scrollByPage:v.scrollByPage});if(v.verticalHasArrows){const l=(v.arrowSize-M.ARROW_IMG_SIZE)/2,h=(v.verticalScrollbarSize-M.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:g.Codicon.scrollbarButtonUp,top:l,left:h,bottom:void 0,right:void 0,bgWidth:v.verticalScrollbarSize,bgHeight:v.arrowSize,onActivate:()=>this._host.onMouseWheel(new L.StandardWheelEvent(null,0,1))}),this._createArrow({className:"scra",icon:g.Codicon.scrollbarButtonDown,top:void 0,left:h,bottom:l,right:void 0,bgWidth:v.verticalScrollbarSize,bgHeight:v.arrowSize,onActivate:()=>this._host.onMouseWheel(new L.StandardWheelEvent(null,0,-1))})}this._createSlider(0,Math.floor((v.verticalScrollbarSize-v.verticalSliderSize)/2),v.verticalSliderSize,void 0)}_updateSlider(p,v){this.slider.setHeight(p),this.slider.setTop(v)}_renderDomNode(p,v){this.domNode.setWidth(v),this.domNode.setHeight(p),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(p){return this._shouldRender=this._onElementScrollSize(p.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(p.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(p.height)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(p,v){return v}_sliderMousePosition(p){return p.posy}_sliderOrthogonalMousePosition(p){return p.posx}_updateScrollbarSize(p){this.slider.setWidth(p)}writeScrollPosition(p,v){p.scrollTop=v}updateOptions(p){this.updateScrollbarSize(p.vertical===2?0:p.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(p.vertical),this._scrollByPage=p.scrollByPage}}e.VerticalScrollbar=S}),define(ee[216],te([0,1,10,58]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compareByPrefix=e.compareAnything=e.comparePaths=e.compareFileExtensionsUnicode=e.compareFileExtensionsLower=e.compareFileExtensionsUpper=e.compareFileExtensionsDefault=e.compareFileExtensions=e.noIntlCompareFileNames=e.compareFileNamesUnicode=e.compareFileNamesLower=e.compareFileNamesUpper=e.compareFileNamesDefault=e.compareFileNames=void 0;const M=new L.IdleValue(()=>{const I=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:I,collatorIsNumeric:I.resolvedOptions().numeric}}),E=new L.IdleValue(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),g=new L.IdleValue(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));function S(I,T,F=!1){const P=I||"",R=T||"",A=M.value.collator.compare(P,R);return M.value.collatorIsNumeric&&A===0&&P!==R?P<R?-1:1:A}e.compareFileNames=S;function b(I,T){const F=E.value.collator;return I=I||"",T=T||"",o(F,I,T)}e.compareFileNamesDefault=b;function p(I,T){const F=E.value.collator;return I=I||"",T=T||"",c(I,T)||o(F,I,T)}e.compareFileNamesUpper=p;function v(I,T){const F=E.value.collator;return I=I||"",T=T||"",f(I,T)||o(F,I,T)}e.compareFileNamesLower=v;function i(I,T){return I=I||"",T=T||"",I===T?0:I<T?-1:1}e.compareFileNamesUnicode=i;function t(I,T,F=!1){F||(I=I&&I.toLowerCase(),T=T&&T.toLowerCase());const[P,R]=r(I),[A,O]=r(T);return P!==A?P<A?-1:1:R===O?0:R<O?-1:1}e.noIntlCompareFileNames=t;function a(I,T){const[F,P]=r(I),[R,A]=r(T);let O=M.value.collator.compare(P,A);if(O===0){if(M.value.collatorIsNumeric&&P!==A)return P<A?-1:1;if(O=M.value.collator.compare(F,R),M.value.collatorIsNumeric&&O===0&&F!==R)return F<R?-1:1}return O}e.compareFileExtensions=a;function l(I,T){I=I||"",T=T||"";const F=s(I),P=s(T),R=E.value.collator,A=g.value.collator;return o(A,F,P)||o(R,I,T)}e.compareFileExtensionsDefault=l;function h(I,T){I=I||"",T=T||"";const F=s(I),P=s(T),R=E.value.collator,A=g.value.collator;return o(A,F,P)||c(I,T)||o(R,I,T)}e.compareFileExtensionsUpper=h;function d(I,T){I=I||"",T=T||"";const F=s(I),P=s(T),R=E.value.collator,A=g.value.collator;return o(A,F,P)||f(I,T)||o(R,I,T)}e.compareFileExtensionsLower=d;function u(I,T){I=I||"",T=T||"";const F=s(I).toLowerCase(),P=s(T).toLowerCase();return F!==P?F<P?-1:1:I!==T?I<T?-1:1:0}e.compareFileExtensionsUnicode=u;const n=/^(.*?)(\.([^.]*))?$/;function r(I,T=!1){const F=I?n.exec(I):[];let P=[F&&F[1]||"",F&&F[3]||""];return T&&(!P[0]&&P[1]||P[0]&&P[0].charAt(0)===".")&&(P=[P[0]+"."+P[1],""]),P}function s(I){const T=I?n.exec(I):[];return T&&T[1]&&T[1].charAt(0)!=="."&&T[3]||""}function o(I,T,F){let P=I.compare(T,F);return P!==0?P:T.length!==F.length?T.length<F.length?-1:1:0}function m(I){const T=I.charAt(0);return T.toLocaleUpperCase()!==T}function _(I){const T=I.charAt(0);return T.toLocaleLowerCase()!==T}function f(I,T){return m(I)&&_(T)?-1:_(I)&&m(T)?1:0}function c(I,T){return _(I)&&m(T)?-1:m(I)&&_(T)?1:0}function C(I,T,F=!1){return F||(I=I&&I.toLowerCase(),T=T&&T.toLowerCase()),I===T?0:I<T?-1:1}function y(I,T,F=!1){const P=I.split(N.sep),R=T.split(N.sep),A=P.length-1,O=R.length-1;let k,V;for(let B=0;;B++){if(k=A===B,V=O===B,k&&V)return S(P[B],R[B],F);if(k)return-1;if(V)return 1;const x=C(P[B],R[B],F);if(x!==0)return x}}e.comparePaths=y;function w(I,T,F){const P=I.toLowerCase(),R=T.toLowerCase(),A=D(I,T,F);if(A)return A;const O=P.endsWith(F),k=R.endsWith(F);if(O!==k)return O?-1:1;const V=S(P,R);return V!==0?V:P.localeCompare(R)}e.compareAnything=w;function D(I,T,F){const P=I.toLowerCase(),R=T.toLowerCase(),A=P.startsWith(F),O=R.startsWith(F);if(A!==O)return A?-1:1;if(A&&O){if(P.length<R.length)return-1;if(P.length>R.length)return 1}return 0}e.compareByPrefix=D}),define(ee[323],te([0,1,216,72,88,58,15,8]),function(Q,e,L,N,M,E,g,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pieceToQuery=e.prepareQuery=e.compareItemsByFuzzyScore=e.scoreItemFuzzy=e.scoreFuzzy2=e.scoreFuzzy=void 0;const b=0,p=[b,[]];function v(x,K,X,Z){if(!x||!K)return p;const q=x.length,H=K.length;if(q<H)return p;const G=x.toLowerCase();return i(K,X,H,x,G,q,Z)}e.scoreFuzzy=v;function i(x,K,X,Z,q,H,G){const z=[],W=[];for(let ne=0;ne<X;ne++){const J=ne*H,re=J-H,ge=ne>0,pe=x[ne],oe=K[ne];for(let $=0;$<H;$++){const ie=$>0,le=J+$,de=le-1,fe=re+$-1,he=ie?z[de]:0,se=ge&&ie?z[fe]:0,ce=ge&&ie?W[fe]:0;let Se;!se&&ge?Se=0:Se=t(pe,oe,Z,q,$,ce),Se&&se+Se>=he&&(G||ge||q.startsWith(K,$))?(W[le]=ce+1,z[le]=se+Se):(W[le]=b,z[le]=he)}}const j=[];let U=X-1,Y=H-1;for(;U>=0&&Y>=0;){const ne=U*H+Y;W[ne]===b||(j.push(Y),U--),Y--}return[z[X*H-1],j.reverse()]}function t(x,K,X,Z,q,H){let G=0;if(!a(K,Z[q]))return G;if(G+=1,H>0&&(G+=H*5),x===X[q]&&(G+=1),q===0)G+=8;else{const z=l(X.charCodeAt(q-1));z?G+=z:(0,N.isUpper)(X.charCodeAt(q))&&H===0&&(G+=2)}return G}function a(x,K){return x===K?!0:x==="/"||x==="\\"?K==="/"||K==="\\":!1}function l(x){switch(x){case 47:case 92:return 5;case 95:case 45:case 46:case 32:case 39:case 34:case 58:return 4;default:return 0}}const h=[void 0,[]];function d(x,K,X=0,Z=0){const q=K;return q.values&&q.values.length>1?u(x,q.values,X,Z):n(x,K,X,Z)}e.scoreFuzzy2=d;function u(x,K,X,Z){let q=0;const H=[];for(const G of K){const[z,W]=n(x,G,X,Z);if(typeof z!="number")return h;q+=z,H.push(...W)}return[q,D(H)]}function n(x,K,X,Z){const q=(0,N.fuzzyScore)(K.original,K.originalLowercase,X,x,x.toLowerCase(),Z,!0);return q?[q[0],(0,N.createMatches)(q)]:h}const r=Object.freeze({score:0}),s=1<<18,o=1<<17,m=1<<16;function _(x,K,X,Z){const q=Z.values?Z.values:[Z];return(0,M.hash)({[Z.normalized]:{values:q.map(G=>({value:G.normalized,expectContiguousMatch:G.expectContiguousMatch})),label:x,description:K,allowNonContiguousMatches:X}})}function f(x,K,X,Z,q){if(!x||!K.normalized)return r;const H=Z.getItemLabel(x);if(!H)return r;const G=Z.getItemDescription(x),z=_(H,G,X,K),W=q[z];if(W)return W;const j=c(H,G,Z.getItemPath(x),K,X);return q[z]=j,j}e.scoreItemFuzzy=f;function c(x,K,X,Z,q){const H=!X||!Z.containsPathSeparator;return X&&(g.isLinux?Z.pathNormalized===X:(0,S.equalsIgnoreCase)(Z.pathNormalized,X))?{score:s,labelMatch:[{start:0,end:x.length}],descriptionMatch:K?[{start:0,end:K.length}]:void 0}:Z.values&&Z.values.length>1?C(x,K,X,Z.values,H,q):y(x,K,X,Z,H,q)}function C(x,K,X,Z,q,H){let G=0;const z=[],W=[];for(const j of Z){const{score:U,labelMatch:Y,descriptionMatch:ne}=y(x,K,X,j,q,H);if(U===b)return r;G+=U,Y&&z.push(...Y),ne&&W.push(...ne)}return{score:G,labelMatch:D(z),descriptionMatch:D(W)}}function y(x,K,X,Z,q,H){if(q||!K){const[G,z]=v(x,Z.normalized,Z.normalizedLowercase,H&&!Z.expectContiguousMatch);if(G){const W=(0,N.matchesPrefix)(Z.normalized,x);let j;return W?(j=o,j+=Math.round(Z.normalized.length/x.length*100)):j=m,{score:j+G,labelMatch:W||w(z)}}}if(K){let G=K;X&&(G=`${K}${E.sep}`);const z=G.length,W=`${G}${x}`,[j,U]=v(W,Z.normalized,Z.normalizedLowercase,H&&!Z.expectContiguousMatch);if(j){const Y=w(U),ne=[],J=[];return Y.forEach(re=>{re.start<z&&re.end>z?(ne.push({start:0,end:re.end-z}),J.push({start:re.start,end:z})):re.start>=z?ne.push({start:re.start-z,end:re.end-z}):J.push(re)}),{score:j,labelMatch:ne,descriptionMatch:J}}}return r}function w(x){const K=[];if(!x)return K;let X;for(const Z of x)X&&X.end===Z?X.end+=1:(X={start:Z,end:Z+1},K.push(X));return K}function D(x){const K=x.sort((q,H)=>q.start-H.start),X=[];let Z;for(const q of K)!Z||!I(Z,q)?(Z=q,X.push(q)):(Z.start=Math.min(Z.start,q.start),Z.end=Math.max(Z.end,q.end));return X}function I(x,K){return!(x.end<K.start||K.end<x.start)}function T(x,K,X,Z,q,H){const G=f(x,X,Z,q,H),z=f(K,X,Z,q,H),W=G.score,j=z.score;if((W===s||j===s)&&W!==j)return W===s?-1:1;if(W>m||j>m){if(W!==j)return W>j?-1:1;if(W<o&&j<o){const pe=P(G.labelMatch,z.labelMatch);if(pe!==0)return pe}const re=q.getItemLabel(x)||"",ge=q.getItemLabel(K)||"";if(re.length!==ge.length)return re.length-ge.length}if(W!==j)return W>j?-1:1;const U=Array.isArray(G.labelMatch)&&G.labelMatch.length>0,Y=Array.isArray(z.labelMatch)&&z.labelMatch.length>0;if(U&&!Y)return-1;if(Y&&!U)return 1;const ne=F(x,G,q),J=F(K,z,q);return ne&&J&&ne!==J?J>ne?-1:1:R(x,K,X,q)}e.compareItemsByFuzzyScore=T;function F(x,K,X){let Z=-1,q=-1;if(K.descriptionMatch&&K.descriptionMatch.length?Z=K.descriptionMatch[0].start:K.labelMatch&&K.labelMatch.length&&(Z=K.labelMatch[0].start),K.labelMatch&&K.labelMatch.length){if(q=K.labelMatch[K.labelMatch.length-1].end,K.descriptionMatch&&K.descriptionMatch.length){const H=X.getItemDescription(x);H&&(q+=H.length)}}else K.descriptionMatch&&K.descriptionMatch.length&&(q=K.descriptionMatch[K.descriptionMatch.length-1].end);return q-Z}function P(x,K){if(!x&&!K||(!x||!x.length)&&(!K||!K.length))return 0;if(!K||!K.length)return-1;if(!x||!x.length)return 1;const X=x[0].start,q=x[x.length-1].end-X,H=K[0].start,z=K[K.length-1].end-H;return q===z?0:z<q?1:-1}function R(x,K,X,Z){const q=Z.getItemLabel(x)||"",H=Z.getItemLabel(K)||"",G=Z.getItemDescription(x),z=Z.getItemDescription(K),W=q.length+(G?G.length:0),j=H.length+(z?z.length:0);if(W!==j)return W-j;const U=Z.getItemPath(x),Y=Z.getItemPath(K);return U&&Y&&U.length!==Y.length?U.length-Y.length:q!==H?(0,L.compareAnything)(q,H,X.normalized):G&&z&&G!==z?(0,L.compareAnything)(G,z,X.normalized):U&&Y&&U!==Y?(0,L.compareAnything)(U,Y,X.normalized):0}function A(x){return x.startsWith('"')&&x.endsWith('"')}const O=" ";function k(x){typeof x!="string"&&(x="");const K=x.toLowerCase(),{pathNormalized:X,normalized:Z,normalizedLowercase:q}=V(x),H=X.indexOf(E.sep)>=0,G=A(x);let z;const W=x.split(O);if(W.length>1)for(const j of W){const U=A(j),{pathNormalized:Y,normalized:ne,normalizedLowercase:J}=V(j);ne&&(z||(z=[]),z.push({original:j,originalLowercase:j.toLowerCase(),pathNormalized:Y,normalized:ne,normalizedLowercase:J,expectContiguousMatch:U}))}return{original:x,originalLowercase:K,pathNormalized:X,normalized:Z,normalizedLowercase:q,values:z,containsPathSeparator:H,expectContiguousMatch:G}}e.prepareQuery=k;function V(x){let K;g.isWindows?K=x.replace(/\//g,E.sep):K=x.replace(/\\/g,E.sep);const X=(0,S.stripWildcards)(K).replace(/\s|"/g,"");return{pathNormalized:K,normalized:X,normalizedLowercase:X.toLowerCase()}}function B(x){return Array.isArray(x)?k(x.map(K=>K.original).join(O)):k(x.original)}e.pieceToQuery=B}),define(ee[217],te([0,1,10,138,48,58,8]),function(Q,e,L,N,M,E,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPathTerms=e.getBasenameTerms=e.isRelativePattern=e.hasSiblingFn=e.hasSiblingPromiseFn=e.parse=e.match=e.splitGlobAware=e.getEmptyExpression=void 0;function S(){return Object.create(null)}e.getEmptyExpression=S;const b="**",p="/",v="[/\\\\]",i="[^/\\\\]",t=/\//g;function a(Z){switch(Z){case 0:return"";case 1:return`${i}*?`;default:return`(?:${v}|${i}+${v}|${v}${i}+)*?`}}function l(Z,q){if(!Z)return[];const H=[];let G=!1,z=!1,W="";for(const j of Z){switch(j){case q:if(!G&&!z){H.push(W),W="";continue}break;case"{":G=!0;break;case"}":G=!1;break;case"[":z=!0;break;case"]":z=!1;break}W+=j}return W&&H.push(W),H}e.splitGlobAware=l;function h(Z){if(!Z)return"";let q="";const H=l(Z,p);if(H.every(G=>G===b))q=".*";else{let G=!1;H.forEach((z,W)=>{if(z===b){G||(q+=a(2),G=!0);return}let j=!1,U="",Y=!1,ne="";for(const J of z){if(J!=="}"&&j){U+=J;continue}if(Y&&(J!=="]"||!ne)){let re;J==="-"?re=J:(J==="^"||J==="!")&&!ne?re="^":J===p?re="":re=g.escapeRegExpCharacters(J),ne+=re;continue}switch(J){case"{":j=!0;continue;case"[":Y=!0;continue;case"}":q+=`(?:${l(U,",").map(pe=>h(pe)).join("|")})`,j=!1,U="";break;case"]":q+="["+ne+"]",Y=!1,ne="";break;case"?":q+=i;continue;case"*":q+=a(1);continue;default:q+=g.escapeRegExpCharacters(J)}}W<H.length-1&&(H[W+1]!==b||W+2<H.length)&&(q+=v),G=!1})}return q}const d=/^\*\*\/\*\.[\w\.-]+$/,u=/^\*\*\/([\w\.-]+)\/?$/,n=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,r=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,s=/^\*\*((\/[\w\.-]+)+)\/?$/,o=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,m=new M.LRUCache(1e4),_=function(){return!1},f=function(){return null};function c(Z,q){if(!Z)return f;let H;typeof Z!="string"?H=Z.pattern:H=Z,H=H.trim();const G=`${H}_${!!q.trimForExclusions}`;let z=m.get(G);if(z)return C(z,Z);let W;if(d.test(H)){const j=H.substr(4);z=function(U,Y){return typeof U=="string"&&U.endsWith(j)?H:null}}else(W=u.exec(y(H,q)))?z=w(W[1],H):(q.trimForExclusions?r:n).test(H)?z=D(H,q):(W=s.exec(y(H,q)))?z=I(W[1].substr(1),H,!0):(W=o.exec(y(H,q)))?z=I(W[1],H,!1):z=T(H);return m.set(G,z),C(z,Z)}function C(Z,q){return typeof q=="string"?Z:function(H,G){return N.isEqualOrParent(H,q.base)?Z(E.relative(q.base,H),G):null}}function y(Z,q){return q.trimForExclusions&&Z.endsWith("/**")?Z.substr(0,Z.length-2):Z}function w(Z,q){const H=`/${Z}`,G=`\\${Z}`,z=function(j,U){return typeof j!="string"?null:U?U===Z?q:null:j===Z||j.endsWith(H)||j.endsWith(G)?q:null},W=[Z];return z.basenames=W,z.patterns=[q],z.allBasenames=W,z}function D(Z,q){const H=X(Z.slice(1,-1).split(",").map(U=>c(U,q)).filter(U=>U!==f),Z),G=H.length;if(!G)return f;if(G===1)return H[0];const z=function(U,Y){for(let ne=0,J=H.length;ne<J;ne++)if(H[ne](U,Y))return Z;return null},W=H.find(U=>!!U.allBasenames);W&&(z.allBasenames=W.allBasenames);const j=H.reduce((U,Y)=>Y.allPaths?U.concat(Y.allPaths):U,[]);return j.length&&(z.allPaths=j),z}function I(Z,q,H){const G=E.sep===E.posix.sep,z=G?Z:Z.replace(t,E.sep),W=E.sep+z,j=E.posix.sep+Z,U=H?function(Y,ne){return typeof Y=="string"&&(Y===z||Y.endsWith(W)||!G&&(Y===Z||Y.endsWith(j)))?q:null}:function(Y,ne){return typeof Y=="string"&&(Y===z||!G&&Y===Z)?q:null};return U.allPaths=[(H?"*/":"./")+Z],U}function T(Z){try{const q=new RegExp(`^${h(Z)}$`);return function(H){return q.lastIndex=0,typeof H=="string"&&q.test(H)?Z:null}}catch(q){return f}}function F(Z,q,H){return!Z||typeof q!="string"?!1:P(Z)(q,void 0,H)}e.match=F;function P(Z,q={}){if(!Z)return _;if(typeof Z=="string"||k(Z)){const H=c(Z,q);if(H===f)return _;const G=function(z,W){return!!H(z,W)};return H.allBasenames&&(G.allBasenames=H.allBasenames),H.allPaths&&(G.allPaths=H.allPaths),G}return x(Z,q)}e.parse=P;function R(Z){if(!Z)return;let q;return H=>(q||(q=(Z()||Promise.resolve([])).then(G=>G?O(G):{})),q.then(G=>!!G[H]))}e.hasSiblingPromiseFn=R;function A(Z){if(!Z)return;let q;return H=>{if(!q){const G=Z();q=G?O(G):{}}return!!q[H]}}e.hasSiblingFn=A;function O(Z){const q={};for(const H of Z)q[H]=!0;return q}function k(Z){const q=Z;return q&&typeof q.base=="string"&&typeof q.pattern=="string"}e.isRelativePattern=k;function V(Z){return Z.allBasenames||[]}e.getBasenameTerms=V;function B(Z){return Z.allPaths||[]}e.getPathTerms=B;function x(Z,q){const H=X(Object.getOwnPropertyNames(Z).map(U=>K(U,Z[U],q)).filter(U=>U!==f)),G=H.length;if(!G)return f;if(!H.some(U=>!!U.requiresSiblings)){if(G===1)return H[0];const U=function(J,re){for(let ge=0,pe=H.length;ge<pe;ge++){const oe=H[ge](J,re);if(oe)return oe}return null},Y=H.find(J=>!!J.allBasenames);Y&&(U.allBasenames=Y.allBasenames);const ne=H.reduce((J,re)=>re.allPaths?J.concat(re.allPaths):J,[]);return ne.length&&(U.allPaths=ne),U}const z=function(U,Y,ne){let J;for(let re=0,ge=H.length;re<ge;re++){const pe=H[re];pe.requiresSiblings&&ne&&(Y||(Y=E.basename(U)),J||(J=Y.substr(0,Y.length-E.extname(U).length)));const oe=pe(U,Y,J,ne);if(oe)return oe}return null},W=H.find(U=>!!U.allBasenames);W&&(z.allBasenames=W.allBasenames);const j=H.reduce((U,Y)=>Y.allPaths?U.concat(Y.allPaths):U,[]);return j.length&&(z.allPaths=j),z}function K(Z,q,H){if(q===!1)return f;const G=c(Z,H);if(G===f)return f;if(typeof q=="boolean")return G;if(q){const z=q.when;if(typeof z=="string"){const W=(j,U,Y,ne)=>{if(!ne||!G(j,U))return null;const J=z.replace("$(basename)",Y),re=ne(J);return(0,L.isThenable)(re)?re.then(ge=>ge?Z:null):re?Z:null};return W.requiresSiblings=!0,W}}return G}function X(Z,q){const H=Z.filter(U=>!!U.basenames);if(H.length<2)return Z;const G=H.reduce((U,Y)=>{const ne=Y.basenames;return ne?U.concat(ne):U},[]);let z;if(q){z=[];for(let U=0,Y=G.length;U<Y;U++)z.push(q)}else z=H.reduce((U,Y)=>{const ne=Y.patterns;return ne?U.concat(ne):U},[]);const W=function(U,Y){if(typeof U!="string")return null;if(!Y){let J;for(J=U.length;J>0;J--){const re=U.charCodeAt(J-1);if(re===47||re===92)break}Y=U.substr(J)}const ne=G.indexOf(Y);return ne!==-1?z[ne]:null};W.basenames=G,W.patterns=z,W.allBasenames=G;const j=Z.filter(U=>!U.basenames);return j.push(W),j}}),define(ee[140],te([0,1,138,42,58,15,33,8,22]),function(Q,e,L,N,M,E,g,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.splitName=e.unmnemonicLabel=e.mnemonicButtonLabel=e.mnemonicMenuLabel=e.template=e.shorten=e.untildify=e.tildify=e.normalizeDriveLetter=e.getBaseLabel=e.getPathLabel=void 0;function p(c,C,y){if(typeof c=="string"&&(c=b.URI.file(c)),y){const D=y.getWorkspaceFolder(c);if(D){const I=y.getWorkspace().folders.length>1;let T;if((0,g.isEqual)(D.uri,c)?T="":T=(0,g.relativePath)(D.uri,c),I){const F=D.name?D.name:(0,g.basename)(D.uri);T=T?F+" \u2022 "+T:F}return T}}if(c.scheme!==N.Schemas.file&&c.scheme!==N.Schemas.untitled)return c.with({query:null,fragment:null}).toString(!0);if((0,L.hasDriveLetter)(c.fsPath))return(0,M.normalize)(i(c.fsPath));let w=(0,M.normalize)(c.fsPath);return!E.isWindows&&(C==null?void 0:C.userHome)&&(w=a(w,C.userHome.fsPath)),w}e.getPathLabel=p;function v(c){if(!c)return;typeof c=="string"&&(c=b.URI.file(c));const C=(0,g.basename)(c)||(c.scheme===N.Schemas.file?c.fsPath:c.path);return E.isWindows&&(0,L.isRootOrDriveLetter)(C)?i(C):C}e.getBaseLabel=v;function i(c,C){return(0,L.hasDriveLetter)(c,C)?c.charAt(0).toUpperCase()+c.slice(1):c}e.normalizeDriveLetter=i;let t=Object.create(null);function a(c,C){if(E.isWindows||!c||!C)return c;let y=t.original===C?t.normalized:void 0;return y||(y=`${(0,S.rtrim)(C,M.posix.sep)}${M.posix.sep}`,t={original:C,normalized:y}),(E.isLinux?c.startsWith(y):(0,S.startsWithIgnoreCase)(c,y))&&(c=`~/${c.substr(y.length)}`),c}e.tildify=a;function l(c,C){return c.replace(/^~($|\/|\\)/,`${C}$1`)}e.untildify=l;const h="\u2026",d="\\\\",u="~";function n(c,C=M.sep){const y=new Array(c.length);let w=!1;for(let D=0;D<c.length;D++){let I=c[D];if(I===""){y[D]=`.${C}`;continue}if(!I){y[D]=I;continue}w=!0;let T="";I.indexOf(d)===0?(T=I.substr(0,I.indexOf(d)+d.length),I=I.substr(I.indexOf(d)+d.length)):I.indexOf(C)===0?(T=I.substr(0,I.indexOf(C)+C.length),I=I.substr(I.indexOf(C)+C.length)):I.indexOf(u)===0&&(T=I.substr(0,I.indexOf(u)+u.length),I=I.substr(I.indexOf(u)+u.length));const F=I.split(C);for(let P=1;w&&P<=F.length;P++)for(let R=F.length-P;w&&R>=0;R--){w=!1;let A=F.slice(R,R+P).join(C);for(let O=0;!w&&O<c.length;O++)if(O!==D&&c[O]&&c[O].indexOf(A)>-1){const k=R+P===F.length,V=R>0&&c[O].indexOf(C)>-1?C+A:A,B=c[O].endsWith(V);w=!k||B}if(!w){let O="";(F[0].endsWith(":")||T!=="")&&(R===1&&(R=0,P++,A=F[0]+C+A),R>0&&(O=F[0]+C),O=T+O),R>0&&(O=O+h+C),O=O+A,R+P<F.length&&(O=O+C+h),y[D]=O}}w&&(y[D]=I)}return y}e.shorten=n;var r;(function(c){c[c.TEXT=0]="TEXT",c[c.VARIABLE=1]="VARIABLE",c[c.SEPARATOR=2]="SEPARATOR"})(r||(r={}));function s(c,C=Object.create(null)){const y=[];let w=!1,D="";for(const I of c)if(I==="$"||w&&I==="{")D&&y.push({value:D,type:r.TEXT}),D="",w=!0;else if(I==="}"&&w){const T=C[D];if(typeof T=="string")T.length&&y.push({value:T,type:r.VARIABLE});else if(T){const F=y[y.length-1];(!F||F.type!==r.SEPARATOR)&&y.push({value:T.label,type:r.SEPARATOR})}D="",w=!1}else D+=I;return D&&!w&&y.push({value:D,type:r.TEXT}),y.filter((I,T)=>{if(I.type===r.SEPARATOR){const F=y[T-1],P=y[T+1];return[F,P].every(R=>R&&(R.type===r.VARIABLE||R.type===r.TEXT)&&R.value.length>0)}return!0}).map(I=>I.value).join("")}e.template=s;function o(c,C){return E.isMacintosh||C?c.replace(/\(&&\w\)|&&/g,"").replace(/&/g,E.isMacintosh?"&":"&&"):c.replace(/&&|&/g,y=>y==="&"?"&&":"&")}e.mnemonicMenuLabel=o;function m(c,C){return E.isMacintosh||C?c.replace(/\(&&\w\)|&&/g,""):E.isWindows?c.replace(/&&|&/g,y=>y==="&"?"&&":"&"):c.replace(/&&/g,"_")}e.mnemonicButtonLabel=m;function _(c){return c.replace(/&/g,"&&")}e.unmnemonicLabel=_;function f(c){const C=c.indexOf("/")!==-1?M.posix:M.win32,y=C.basename(c),w=C.dirname(c);return y.length?{name:y,parentPath:w}:{name:w,parentPath:""}}e.splitName=f}),define(ee[112],te([0,1,217,42,58,33,8]),function(Q,e,L,N,M,E,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeMimeType=e.getExtensionForMimeType=e.getMediaMime=e.getMediaOrTextMime=e.isUnspecific=e.guessMimeTypes=e.clearTextMimes=e.registerTextMime=e.Mimes=void 0;var S;(function(c){c.text="text/plain",c.binary="application/octet-stream",c.unknown="application/unknown",c.markdown="text/markdown",c.latex="text/latex"})(S=e.Mimes||(e.Mimes={}));let b=[],p=[],v=[];function i(c,C=!1){const y=t(c);b.push(y),y.userConfigured?v.push(y):p.push(y),C&&!y.userConfigured&&b.forEach(w=>{w.mime===y.mime||w.userConfigured||(y.extension&&w.extension===y.extension&&console.warn(`Overwriting extension <<${y.extension}>> to now point to mime <<${y.mime}>>`),y.filename&&w.filename===y.filename&&console.warn(`Overwriting filename <<${y.filename}>> to now point to mime <<${y.mime}>>`),y.filepattern&&w.filepattern===y.filepattern&&console.warn(`Overwriting filepattern <<${y.filepattern}>> to now point to mime <<${y.mime}>>`),y.firstline&&w.firstline===y.firstline&&console.warn(`Overwriting firstline <<${y.firstline}>> to now point to mime <<${y.mime}>>`))})}e.registerTextMime=i;function t(c){return{id:c.id,mime:c.mime,filename:c.filename,extension:c.extension,filepattern:c.filepattern,firstline:c.firstline,userConfigured:c.userConfigured,filenameLowercase:c.filename?c.filename.toLowerCase():void 0,extensionLowercase:c.extension?c.extension.toLowerCase():void 0,filepatternLowercase:c.filepattern?(0,L.parse)(c.filepattern.toLowerCase()):void 0,filepatternOnPath:c.filepattern?c.filepattern.indexOf(M.posix.sep)>=0:!1}}function a(c){c?(b=b.filter(C=>!C.userConfigured),v=[]):(b=[],p=[],v=[])}e.clearTextMimes=a;function l(c,C){let y;if(c)switch(c.scheme){case N.Schemas.file:y=c.fsPath;break;case N.Schemas.data:y=E.DataUri.parseMetaData(c).get(E.DataUri.META_DATA_LABEL);break;default:y=c.path}if(!y)return[S.unknown];y=y.toLowerCase();const w=(0,M.basename)(y),D=h(y,w,v);if(D)return[D,S.text];const I=h(y,w,p);if(I)return[I,S.text];if(C){const T=d(C);if(T)return[T,S.text]}return[S.unknown]}e.guessMimeTypes=l;function h(c,C,y){var w;let D=null,I=null,T=null;for(let F=y.length-1;F>=0;F--){const P=y[F];if(C===P.filenameLowercase){D=P;break}if(P.filepattern&&(!I||P.filepattern.length>I.filepattern.length)){const R=P.filepatternOnPath?c:C;((w=P.filepatternLowercase)===null||w===void 0?void 0:w.call(P,R))&&(I=P)}P.extension&&(!T||P.extension.length>T.extension.length)&&C.endsWith(P.extensionLowercase)&&(T=P)}return D?D.mime:I?I.mime:T?T.mime:null}function d(c){if((0,g.startsWithUTF8BOM)(c)&&(c=c.substr(1)),c.length>0)for(let C=b.length-1;C>=0;C--){const y=b[C];if(!y.firstline)continue;const w=c.match(y.firstline);if(w&&w.length>0)return y.mime}return null}function u(c){return c?typeof c=="string"?c===S.binary||c===S.text||c===S.unknown:c.length===1&&u(c[0]):!0}e.isUnspecific=u;const n={".css":"text/css",".csv":"text/csv",".htm":"text/html",".html":"text/html",".ics":"text/calendar",".js":"text/javascript",".mjs":"text/javascript",".txt":"text/plain",".xml":"text/xml"},r={".aac":"audio/x-aac",".avi":"video/x-msvideo",".bmp":"image/bmp",".flv":"video/x-flv",".gif":"image/gif",".ico":"image/x-icon",".jpe":"image/jpg",".jpeg":"image/jpg",".jpg":"image/jpg",".m1v":"video/mpeg",".m2a":"audio/mpeg",".m2v":"video/mpeg",".m3a":"audio/mpeg",".mid":"audio/midi",".midi":"audio/midi",".mk3d":"video/x-matroska",".mks":"video/x-matroska",".mkv":"video/x-matroska",".mov":"video/quicktime",".movie":"video/x-sgi-movie",".mp2":"audio/mpeg",".mp2a":"audio/mpeg",".mp3":"audio/mpeg",".mp4":"video/mp4",".mp4a":"audio/mp4",".mp4v":"video/mp4",".mpe":"video/mpeg",".mpeg":"video/mpeg",".mpg":"video/mpeg",".mpg4":"video/mp4",".mpga":"audio/mpeg",".oga":"audio/ogg",".ogg":"audio/ogg",".ogv":"video/ogg",".png":"image/png",".psd":"image/vnd.adobe.photoshop",".qt":"video/quicktime",".spx":"audio/ogg",".svg":"image/svg+xml",".tga":"image/x-tga",".tif":"image/tiff",".tiff":"image/tiff",".wav":"audio/x-wav",".webm":"video/webm",".webp":"image/webp",".wma":"audio/x-ms-wma",".wmv":"video/x-ms-wmv",".woff":"application/font-woff"};function s(c){const C=(0,M.extname)(c),y=n[C.toLowerCase()];return y!==void 0?y:o(c)}e.getMediaOrTextMime=s;function o(c){const C=(0,M.extname)(c);return r[C.toLowerCase()]}e.getMediaMime=o;function m(c){for(const C in r)if(r[C]===c)return C}e.getExtensionForMimeType=m;const _=/^(.+)\/(.+?)(;.+)?$/;function f(c,C){var y;const w=_.exec(c);return w?`${w[1].toLowerCase()}/${w[2].toLowerCase()}${(y=w[3])!==null&&y!==void 0?y:""}`:C?void 0:c}e.normalizeMimeType=f}),define(ee[174],te([0,1,7,2,112]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StaticDND=e.DragAndDropData=e.applyDragImage=e.DataTransfers=e.DelayedDragHandler=void 0;class E extends N.Disposable{constructor(p,v){super();this._register((0,L.addDisposableListener)(p,"dragover",i=>{i.preventDefault(),this.timeout||(this.timeout=setTimeout(()=>{v(),this.timeout=null},800))})),["dragleave","drop","dragend"].forEach(i=>{this._register((0,L.addDisposableListener)(p,i,()=>{this.clearDragTimeout()}))})}clearDragTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}dispose(){super.dispose(),this.clearDragTimeout()}}e.DelayedDragHandler=E,e.DataTransfers={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:M.Mimes.text,TERMINALS:"Terminals"};function g(b,p,v){const i=document.createElement("div");i.className=v,i.textContent=p,b.dataTransfer&&(document.body.appendChild(i),b.dataTransfer.setDragImage(i,-10,-10),setTimeout(()=>document.body.removeChild(i),0))}e.applyDragImage=g;class S{constructor(p){this.data=p}update(){}getData(){return this.data}}e.DragAndDropData=S,e.StaticDND={CurrentDragAndDropData:void 0}}),define(ee[324],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateUuid=e.isUUID=void 0;const L=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function N(b){return L.test(b)}e.isUUID=N;const M=new Uint8Array(16),E=[];for(let b=0;b<256;b++)E.push(b.toString(16).padStart(2,"0"));let g;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?g=crypto.getRandomValues.bind(crypto):g=function(b){for(let p=0;p<b.length;p++)b[p]=Math.floor(Math.random()*256);return b};function S(){g(M),M[6]=M[6]&15|64,M[8]=M[8]&63|128;let b=0,p="";return p+=E[M[b++]],p+=E[M[b++]],p+=E[M[b++]],p+=E[M[b++]],p+="-",p+=E[M[b++]],p+=E[M[b++]],p+="-",p+=E[M[b++]],p+=E[M[b++]],p+="-",p+=E[M[b++]],p+=E[M[b++]],p+="-",p+=E[M[b++]],p+=E[M[b++]],p+=E[M[b++]],p+=E[M[b++]],p+=E[M[b++]],p+=E[M[b++]],p}e.generateUuid=S}),define(ee[218],te([0,1,12,4,2,15,20,8]),function(Q,e,L,N,M,E,g,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.SimpleWorkerServer=e.SimpleWorkerClient=e.logOnceWebWorkerWarning=void 0;const b="$initialize";let p=!1;function v(_){!E.isWeb||(p||(p=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(_.message))}e.logOnceWebWorkerWarning=v;class i{constructor(f,c,C,y){this.vsWorker=f,this.req=c,this.method=C,this.args=y,this.type=0}}class t{constructor(f,c,C,y){this.vsWorker=f,this.seq=c,this.res=C,this.err=y,this.type=1}}class a{constructor(f,c,C,y){this.vsWorker=f,this.req=c,this.eventName=C,this.arg=y,this.type=2}}class l{constructor(f,c,C){this.vsWorker=f,this.req=c,this.event=C,this.type=3}}class h{constructor(f,c){this.vsWorker=f,this.req=c,this.type=4}}class d{constructor(f){this._workerId=-1,this._handler=f,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(f){this._workerId=f}sendMessage(f,c){const C=String(++this._lastSentReq);return new Promise((y,w)=>{this._pendingReplies[C]={resolve:y,reject:w},this._send(new i(this._workerId,C,f,c))})}listen(f,c){let C=null;const y=new N.Emitter({onFirstListenerAdd:()=>{C=String(++this._lastSentReq),this._pendingEmitters.set(C,y),this._send(new a(this._workerId,C,f,c))},onLastListenerRemove:()=>{this._pendingEmitters.delete(C),this._send(new h(this._workerId,C)),C=null}});return y.event}handleMessage(f){!f||!f.vsWorker||this._workerId!==-1&&f.vsWorker!==this._workerId||this._handleMessage(f)}_handleMessage(f){switch(f.type){case 1:return this._handleReplyMessage(f);case 0:return this._handleRequestMessage(f);case 2:return this._handleSubscribeEventMessage(f);case 3:return this._handleEventMessage(f);case 4:return this._handleUnsubscribeEventMessage(f)}}_handleReplyMessage(f){if(!this._pendingReplies[f.seq]){console.warn("Got reply to unknown seq");return}let c=this._pendingReplies[f.seq];if(delete this._pendingReplies[f.seq],f.err){let C=f.err;f.err.$isError&&(C=new Error,C.name=f.err.name,C.message=f.err.message,C.stack=f.err.stack),c.reject(C);return}c.resolve(f.res)}_handleRequestMessage(f){let c=f.req;this._handler.handleMessage(f.method,f.args).then(y=>{this._send(new t(this._workerId,c,y,void 0))},y=>{y.detail instanceof Error&&(y.detail=(0,L.transformErrorForSerialization)(y.detail)),this._send(new t(this._workerId,c,void 0,(0,L.transformErrorForSerialization)(y)))})}_handleSubscribeEventMessage(f){const c=f.req,C=this._handler.handleEvent(f.eventName,f.arg)(y=>{this._send(new l(this._workerId,c,y))});this._pendingEvents.set(c,C)}_handleEventMessage(f){if(!this._pendingEmitters.has(f.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(f.req).fire(f.event)}_handleUnsubscribeEventMessage(f){if(!this._pendingEvents.has(f.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(f.req).dispose(),this._pendingEvents.delete(f.req)}_send(f){let c=[];if(f.type===0)for(let C=0;C<f.args.length;C++)f.args[C]instanceof ArrayBuffer&&c.push(f.args[C]);else f.type===1&&f.res instanceof ArrayBuffer&&c.push(f.res);this._handler.sendMessage(f,c)}}class u extends M.Disposable{constructor(f,c,C){super();let y=null;this._worker=this._register(f.create("vs/base/common/worker/simpleWorker",F=>{this._protocol.handleMessage(F)},F=>{y&&y(F)})),this._protocol=new d({sendMessage:(F,P)=>{this._worker.postMessage(F,P)},handleMessage:(F,P)=>{if(typeof C[F]!="function")return Promise.reject(new Error("Missing method "+F+" on main thread host."));try{return Promise.resolve(C[F].apply(C,P))}catch(R){return Promise.reject(R)}},handleEvent:(F,P)=>{if(r(F)){const R=C[F].call(C,P);if(typeof R!="function")throw new Error(`Missing dynamic event ${F} on main thread host.`);return R}if(n(F)){const R=C[F];if(typeof R!="function")throw new Error(`Missing event ${F} on main thread host.`);return R}throw new Error(`Malformed event name ${F}`)}}),this._protocol.setWorkerId(this._worker.getId());let w=null;typeof E.globals.require!="undefined"&&typeof E.globals.require.getConfig=="function"?w=E.globals.require.getConfig():typeof E.globals.requirejs!="undefined"&&(w=E.globals.requirejs.s.contexts._.config);const D=g.getAllMethodNames(C);this._onModuleLoaded=this._protocol.sendMessage(b,[this._worker.getId(),JSON.parse(JSON.stringify(w)),c,D]);const I=(F,P)=>this._request(F,P),T=(F,P)=>this._protocol.listen(F,P);this._lazyProxy=new Promise((F,P)=>{y=P,this._onModuleLoaded.then(R=>{F(s(R,I,T))},R=>{P(R),this._onError("Worker failed to load "+c,R)})})}getProxyObject(){return this._lazyProxy}_request(f,c){return new Promise((C,y)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(f,c).then(C,y)},y)})}_onError(f,c){console.error(f),console.info(c)}}e.SimpleWorkerClient=u;function n(_){return _[0]==="o"&&_[1]==="n"&&S.isUpperAsciiLetter(_.charCodeAt(2))}function r(_){return/^onDynamic/.test(_)&&S.isUpperAsciiLetter(_.charCodeAt(9))}function s(_,f,c){const C=D=>function(){const I=Array.prototype.slice.call(arguments,0);return f(D,I)},y=D=>function(I){return c(D,I)};let w={};for(const D of _){if(r(D)){w[D]=y(D);continue}if(n(D)){w[D]=c(D,void 0);continue}w[D]=C(D)}return w}class o{constructor(f,c){this._requestHandlerFactory=c,this._requestHandler=null,this._protocol=new d({sendMessage:(C,y)=>{f(C,y)},handleMessage:(C,y)=>this._handleMessage(C,y),handleEvent:(C,y)=>this._handleEvent(C,y)})}onmessage(f){this._protocol.handleMessage(f)}_handleMessage(f,c){if(f===b)return this.initialize(c[0],c[1],c[2],c[3]);if(!this._requestHandler||typeof this._requestHandler[f]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+f));try{return Promise.resolve(this._requestHandler[f].apply(this._requestHandler,c))}catch(C){return Promise.reject(C)}}_handleEvent(f,c){if(!this._requestHandler)throw new Error("Missing requestHandler");if(r(f)){const C=this._requestHandler[f].call(this._requestHandler,c);if(typeof C!="function")throw new Error(`Missing dynamic event ${f} on request handler.`);return C}if(n(f)){const C=this._requestHandler[f];if(typeof C!="function")throw new Error(`Missing event ${f} on request handler.`);return C}throw new Error(`Malformed event name ${f}`)}initialize(f,c,C,y){this._protocol.setWorkerId(f);const I=s(y,(T,F)=>this._protocol.sendMessage(T,F),(T,F)=>this._protocol.listen(T,F));return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(I),Promise.resolve(g.getAllMethodNames(this._requestHandler))):(c&&(typeof c.baseUrl!="undefined"&&delete c.baseUrl,typeof c.paths!="undefined"&&typeof c.paths.vs!="undefined"&&delete c.paths.vs,typeof c.trustedTypesPolicy!==void 0&&delete c.trustedTypesPolicy,c.catchError=!0,E.globals.require.config(c)),new Promise((T,F)=>{(E.globals.require||Q)([C],R=>{if(this._requestHandler=R.create(I),!this._requestHandler){F(new Error("No RequestHandler!"));return}T(g.getAllMethodNames(this._requestHandler))},F)}))}}e.SimpleWorkerServer=o;function m(_){return new o(_,null)}e.create=m}),define(ee[219],te([0,1,42]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.quickPickItemScorerAccessor=e.QuickPickItemScorerAccessor=e.ItemActivation=e.QuickInputHideReason=e.NO_KEY_MODS=void 0,e.NO_KEY_MODS={ctrlCmd:!1,alt:!1};var N;(function(g){g[g.Blur=1]="Blur",g[g.Gesture=2]="Gesture",g[g.Other=3]="Other"})(N=e.QuickInputHideReason||(e.QuickInputHideReason={}));var M;(function(g){g[g.NONE=0]="NONE",g[g.FIRST=1]="FIRST",g[g.SECOND=2]="SECOND",g[g.LAST=3]="LAST"})(M=e.ItemActivation||(e.ItemActivation={}));class E{constructor(S){this.options=S}getItemLabel(S){return S.label}getItemDescription(S){var b;if(!((b=this.options)===null||b===void 0?void 0:b.skipDescription))return S.description}getItemPath(S){var b,p,v;if(!((b=this.options)===null||b===void 0?void 0:b.skipPath))return((p=S.resource)===null||p===void 0?void 0:p.scheme)===L.Schemas.file?S.resource.fsPath:(v=S.resource)===null||v===void 0?void 0:v.path}}e.QuickPickItemScorerAccessor=E,e.quickPickItemScorerAccessor=new E}),define(ee[325],te([0,1,10,4,2,20]),function(Q,e,L,N,M,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageDatabase=e.Storage=e.isStorageItemsChangeEvent=e.StorageHint=void 0;var g;(function(i){i[i.STORAGE_DOES_NOT_EXIST=0]="STORAGE_DOES_NOT_EXIST"})(g=e.StorageHint||(e.StorageHint={}));function S(i){const t=i;return(t==null?void 0:t.changed)instanceof Map||(t==null?void 0:t.deleted)instanceof Set}e.isStorageItemsChangeEvent=S;var b;(function(i){i[i.None=0]="None",i[i.Initialized=1]="Initialized",i[i.Closed=2]="Closed"})(b||(b={}));class p extends M.Disposable{constructor(t,a=Object.create(null)){super();this.database=t,this.options=a,this._onDidChangeStorage=this._register(new N.Emitter),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=b.None,this.cache=new Map,this.flushDelayer=new L.ThrottledDelayer(p.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.pendingClose=void 0,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(t=>this.onDidChangeItemsExternal(t)))}onDidChangeItemsExternal(t){var a,l;(a=t.changed)===null||a===void 0||a.forEach((h,d)=>this.accept(d,h)),(l=t.deleted)===null||l===void 0||l.forEach(h=>this.accept(h,void 0))}accept(t,a){if(this.state===b.Closed)return;let l=!1;(0,E.isUndefinedOrNull)(a)?l=this.cache.delete(t):this.cache.get(t)!==a&&(this.cache.set(t,a),l=!0),l&&this._onDidChangeStorage.fire(t)}get items(){return this.cache}get size(){return this.cache.size}init(){return Me(this,void 0,void 0,function*(){this.state===b.None&&(this.state=b.Initialized,this.options.hint!==g.STORAGE_DOES_NOT_EXIST&&(this.cache=yield this.database.getItems()))})}get(t,a){const l=this.cache.get(t);return(0,E.isUndefinedOrNull)(l)?a:l}getBoolean(t,a){const l=this.get(t);return(0,E.isUndefinedOrNull)(l)?a:l==="true"}getNumber(t,a){const l=this.get(t);return(0,E.isUndefinedOrNull)(l)?a:parseInt(l,10)}set(t,a){return Me(this,void 0,void 0,function*(){if(this.state===b.Closed)return;if((0,E.isUndefinedOrNull)(a))return this.delete(t);const l=String(a);if(this.cache.get(t)!==l)return this.cache.set(t,l),this.pendingInserts.set(t,l),this.pendingDeletes.delete(t),this._onDidChangeStorage.fire(t),this.doFlush()})}delete(t){return Me(this,void 0,void 0,function*(){if(!(this.state===b.Closed||!this.cache.delete(t)))return this.pendingDeletes.has(t)||this.pendingDeletes.add(t),this.pendingInserts.delete(t),this._onDidChangeStorage.fire(t),this.doFlush()})}close(){return Me(this,void 0,void 0,function*(){return this.pendingClose||(this.pendingClose=this.doClose()),this.pendingClose})}doClose(){return Me(this,void 0,void 0,function*(){this.state=b.Closed;try{yield this.doFlush(0)}catch(t){}yield this.database.close(()=>this.cache)})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return Me(this,void 0,void 0,function*(){if(!this.hasPending)return;const t={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(t).finally(()=>{var a;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(a=this.whenFlushedCallbacks.pop())===null||a===void 0||a()})})}flush(t){return Me(this,void 0,void 0,function*(){if(!!this.hasPending)return this.doFlush(t)})}doFlush(t){return Me(this,void 0,void 0,function*(){return this.flushDelayer.trigger(()=>this.flushPending(),t)})}whenFlushed(){return Me(this,void 0,void 0,function*(){if(!!this.hasPending)return new Promise(t=>this.whenFlushedCallbacks.push(t))})}dispose(){this.flushDelayer.dispose(),super.dispose()}}e.Storage=p,p.DEFAULT_FLUSH_DELAY=100;class v{constructor(){this.onDidChangeItemsExternal=N.Event.None,this.items=new Map}getItems(){return Me(this,void 0,void 0,function*(){return this.items})}updateItems(t){return Me(this,void 0,void 0,function*(){t.insert&&t.insert.forEach((a,l)=>this.items.set(l,a)),t.delete&&t.delete.forEach(a=>this.items.delete(a))})}close(){return Me(this,void 0,void 0,function*(){})}}e.InMemoryStorageDatabase=v}),define(ee[326],te([0,1,15,218]),function(Q,e,L,N){"use strict";var M;Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultWorkerFactory=e.getWorkerBootstrapUrl=void 0;const E=(M=window.trustedTypes)===null||M===void 0?void 0:M.createPolicy("defaultWorkerFactory",{createScriptURL:i=>i});function g(i,t){if(L.globals.MonacoEnvironment){if(typeof L.globals.MonacoEnvironment.getWorker=="function")return L.globals.MonacoEnvironment.getWorker(i,t);if(typeof L.globals.MonacoEnvironment.getWorkerUrl=="function"){const a=L.globals.MonacoEnvironment.getWorkerUrl(i,t);return new Worker(E?E.createScriptURL(a):a,{name:t})}}if(typeof Q=="function"){const a=Q.toUrl("./"+i),l=S(a,t);return new Worker(E?E.createScriptURL(l):l,{name:t})}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function S(i,t){if(/^((http:)|(https:)|(file:))/.test(i)&&i.substring(0,self.origin.length)!==self.origin){const a="vs/base/worker/defaultWorkerFactory.js",l=Q.toUrl(a).slice(0,-a.length),h=`/*${t}*/self.MonacoEnvironment={baseUrl: '${l}'};const ttPolicy = self.trustedTypes?.createPolicy('defaultWorkerFactory', { createScriptURL: value => value });importScripts(ttPolicy?.createScriptURL('${i}') ?? '${i}');/*${t}*/`,d=new Blob([h],{type:"application/javascript"});return URL.createObjectURL(d)}return i+"#"+t}e.getWorkerBootstrapUrl=S;function b(i){return typeof i.then=="function"}class p{constructor(t,a,l,h,d){this.id=a;const u=g("workerMain.js",l);b(u)?this.worker=u:this.worker=Promise.resolve(u),this.postMessage(t,[]),this.worker.then(n=>{n.onmessage=function(r){h(r.data)},n.onmessageerror=d,typeof n.addEventListener=="function"&&n.addEventListener("error",d)})}getId(){return this.id}postMessage(t,a){this.worker&&this.worker.then(l=>l.postMessage(t,a))}dispose(){this.worker&&this.worker.then(t=>t.terminate()),this.worker=null}}class v{constructor(t){this._label=t,this._webWorkerFailedBeforeError=!1}create(t,a,l){let h=++v.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new p(t,h,this._label||"anonymous"+h,a,d=>{(0,N.logOnceWebWorkerWarning)(d),this._webWorkerFailedBeforeError=d,l(d)})}}e.DefaultWorkerFactory=v,v.LAST_WORKER_ID=0}),define(ee[220],te([11]),{}),define(ee[327],te([11]),{}),define(ee[45],te([0,1,7,15,327]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.status=e.alert=e.setARIAContainer=void 0;const M=2e4;let E,g,S,b,p;function v(l){E=document.createElement("div"),E.className="monaco-aria-container";const h=()=>{const u=document.createElement("div");return u.className="monaco-alert",u.setAttribute("role","alert"),u.setAttribute("aria-atomic","true"),E.appendChild(u),u};g=h(),S=h();const d=()=>{const u=document.createElement("div");return u.className="monaco-status",u.setAttribute("role","complementary"),u.setAttribute("aria-live","polite"),u.setAttribute("aria-atomic","true"),E.appendChild(u),u};b=d(),p=d(),l.appendChild(E)}e.setARIAContainer=v;function i(l){!E||(g.textContent!==l?(L.clearNode(S),a(g,l)):(L.clearNode(g),a(S,l)))}e.alert=i;function t(l){!E||(N.isMacintosh?i(l):b.textContent!==l?(L.clearNode(p),a(b,l)):(L.clearNode(b),a(p,l)))}e.status=t;function a(l,h){L.clearNode(l),h.length>M&&(h=h.substr(0,M)),l.textContent=h,l.style.visibility="hidden",l.style.visibility="visible"}}),define(ee[328],te([11]),{}),define(ee[329],te([11]),{}),define(ee[330],te([11]),{}),define(ee[331],te([11]),{}),define(ee[141],te([0,1,27,330,331]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formatRule=void 0;function N(M){let E=M.definition;for(;E instanceof L.Codicon;)E=E.definition;return`.codicon-${M.id}:before { content: '${E.fontCharacter}'; }`}e.formatRule=N}),define(ee[332],te([11]),{}),define(ee[221],te([0,1,169,7,2,15,135,332]),function(Q,e,L,N,M,E,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextView=e.layout=e.LayoutAnchorMode=void 0;var S;(function(i){i[i.AVOID=0]="AVOID",i[i.ALIGN=1]="ALIGN"})(S=e.LayoutAnchorMode||(e.LayoutAnchorMode={}));function b(i,t,a){const l=a.mode===S.ALIGN?a.offset:a.offset+a.size,h=a.mode===S.ALIGN?a.offset+a.size:a.offset;return a.position===0?t<=i-l?l:t<=h?h-t:Math.max(i-t,0):t<=h?h-t:t<=i-l?l:0}e.layout=b;class p extends M.Disposable{constructor(t,a){super();this.container=null,this.delegate=null,this.toDisposeOnClean=M.Disposable.None,this.toDisposeOnSetContainer=M.Disposable.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=N.$(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,N.hide(this.view),this.setContainer(t,a),this._register((0,M.toDisposable)(()=>this.setContainer(null,1)))}setContainer(t,a){var l;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(l=this.shadowRootHostElement)===null||l===void 0||l.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),t){if(this.container=t,this.useFixedPosition=a!==1,this.useShadowDOM=a===3,this.useShadowDOM){this.shadowRootHostElement=N.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const d=document.createElement("style");d.textContent=v,this.shadowRoot.appendChild(d),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(N.$("slot"))}else this.container.appendChild(this.view);const h=new M.DisposableStore;p.BUBBLE_UP_EVENTS.forEach(d=>{h.add(N.addStandardDisposableListener(this.container,d,u=>{this.onDOMEvent(u,!1)}))}),p.BUBBLE_DOWN_EVENTS.forEach(d=>{h.add(N.addStandardDisposableListener(this.container,d,u=>{this.onDOMEvent(u,!0)},!0))}),this.toDisposeOnSetContainer=h}}show(t){this.isVisible()&&this.hide(),N.clearNode(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2500",this.view.style.position=this.useFixedPosition?"fixed":"absolute",N.show(this.view),this.toDisposeOnClean=t.render(this.view)||M.Disposable.None,this.delegate=t,this.doLayout(),this.delegate.focus&&this.delegate.focus()}getViewElement(){return this.view}layout(){if(!!this.isVisible()){if(this.delegate.canRelayout===!1&&!(E.isIOS&&L.BrowserFeatures.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;let t=this.delegate.getAnchor(),a;if(N.isHTMLElement(t)){let m=N.getDomNodePagePosition(t);a={top:m.top,left:m.left,width:m.width,height:m.height}}else a={top:t.y,left:t.x,width:t.width||1,height:t.height||2};const l=N.getTotalWidth(this.view),h=N.getTotalHeight(this.view),d=this.delegate.anchorPosition||0,u=this.delegate.anchorAlignment||0,n=this.delegate.anchorAxisAlignment||0;let r,s;if(n===0){const m={offset:a.top-window.pageYOffset,size:a.height,position:d===0?0:1},_={offset:a.left,size:a.width,position:u===0?0:1,mode:S.ALIGN};r=b(window.innerHeight,h,m)+window.pageYOffset,g.Range.intersects({start:r,end:r+h},{start:m.offset,end:m.offset+m.size})&&(_.mode=S.AVOID),s=b(window.innerWidth,l,_)}else{const m={offset:a.left,size:a.width,position:u===0?0:1},_={offset:a.top,size:a.height,position:d===0?0:1,mode:S.ALIGN};s=b(window.innerWidth,l,m),g.Range.intersects({start:s,end:s+l},{start:m.offset,end:m.offset+m.size})&&(_.mode=S.AVOID),r=b(window.innerHeight,h,_)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(d===0?"bottom":"top"),this.view.classList.add(u===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const o=N.getDomNodePagePosition(this.container);this.view.style.top=`${r-(this.useFixedPosition?N.getDomNodePagePosition(this.view).top:o.top)}px`,this.view.style.left=`${s-(this.useFixedPosition?N.getDomNodePagePosition(this.view).left:o.left)}px`,this.view.style.width="initial"}hide(t){const a=this.delegate;this.delegate=null,(a==null?void 0:a.onHide)&&a.onHide(t),this.toDisposeOnClean.dispose(),N.hide(this.view)}isVisible(){return!!this.delegate}onDOMEvent(t,a){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(t,document.activeElement):a&&!N.isAncestor(t.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}e.ContextView=p,p.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],p.BUBBLE_DOWN_EVENTS=["click"];let v=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	@font-face {
		font-family: "codicon";
		font-display: block;
		src: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`}),define(ee[333],te([11]),{}),define(ee[222],te([0,1,7,28,34,8,333]),function(Q,e,L,N,M,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CountBadge=void 0;const g={badgeBackground:N.Color.fromHex("#4D4D4D"),badgeForeground:N.Color.fromHex("#FFFFFF")};class S{constructor(p,v){this.count=0,this.options=v||Object.create(null),(0,M.mixin)(this.options,g,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=(0,L.append)(p,(0,L.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(p){this.count=p,this.render()}setCountFormat(p){this.countFormat=p,this.render()}setTitleFormat(p){this.titleFormat=p,this.render()}render(){this.element.textContent=(0,E.format)(this.countFormat,this.count),this.element.title=(0,E.format)(this.titleFormat,this.count),this.applyStyles()}style(p){this.badgeBackground=p.badgeBackground,this.badgeForeground=p.badgeForeground,this.badgeBorder=p.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const p=this.badgeBackground?this.badgeBackground.toString():"",v=this.badgeForeground?this.badgeForeground.toString():"",i=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=p,this.element.style.color=v,this.element.style.borderWidth=i?"1px":"",this.element.style.borderStyle=i?"solid":"",this.element.style.borderColor=i}}}e.CountBadge=S}),define(ee[223],te([11]),{}),define(ee[224],te([11]),{}),define(ee[334],te([11]),{}),define(ee[335],te([11]),{}),define(ee[336],te([11]),{}),define(ee[337],te([11]),{}),define(ee[225],te([11]),{}),define(ee[338],te([11]),{}),define(ee[142],te([0,1,338]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME=void 0,e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME="monaco-mouse-cursor-text"}),define(ee[339],te([11]),{}),define(ee[340],te([0,1,7,10,28,2,34,20,339]),function(Q,e,L,N,M,E,g,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressBar=void 0;const b="done",p="active",v="infinite",i="discrete",t={progressBarBackground:M.Color.fromHex("#0E70C0")};class a extends E.Disposable{constructor(h,d){super();this.options=d||Object.create(null),(0,g.mixin)(this.options,t,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this._register(this.showDelayedScheduler=new N.RunOnceScheduler(()=>(0,L.show)(this.element),0)),this.create(h)}create(h){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),h.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(p,v,i),this.workedVal=0,this.totalWork=void 0}done(){return this.doDone(!0)}stop(){return this.doDone(!1)}doDone(h){return this.element.classList.add(b),this.element.classList.contains(v)?(this.bit.style.opacity="0",h?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",h?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(i,b),this.element.classList.add(p,v),this}total(h){return this.workedVal=0,this.totalWork=h,this.element.setAttribute("aria-valuemax",h.toString()),this}hasTotal(){return(0,S.isNumber)(this.totalWork)}worked(h){return h=Math.max(1,Number(h)),this.doSetWorked(this.workedVal+h)}setWorked(h){return h=Math.max(1,Number(h)),this.doSetWorked(h)}doSetWorked(h){const d=this.totalWork||100;return this.workedVal=h,this.workedVal=Math.min(d,this.workedVal),this.element.classList.remove(v,b),this.element.classList.add(p,i),this.element.setAttribute("aria-valuenow",h.toString()),this.bit.style.width=100*(this.workedVal/d)+"%",this}getContainer(){return this.element}show(h){this.showDelayedScheduler.cancel(),typeof h=="number"?this.showDelayedScheduler.schedule(h):(0,L.show)(this.element)}hide(){(0,L.hide)(this.element),this.showDelayedScheduler.cancel()}style(h){this.progressBarBackground=h.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const h=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=h}}}e.ProgressBar=a}),define(ee[341],te([11]),{}),define(ee[113],te([0,1,7,81,57,10,96,4,2,15,341]),function(Q,e,L,N,M,E,g,S,b,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sash=e.setGlobalHoverDelay=e.setGlobalSashSize=e.OrthogonalEdge=void 0;let v=!1;var i;(function(m){m.North="north",m.South="south",m.East="east",m.West="west"})(i=e.OrthogonalEdge||(e.OrthogonalEdge={}));let t=4;const a=new S.Emitter;function l(m){t=m,a.fire(m)}e.setGlobalSashSize=l;let h=300;const d=new S.Emitter;function u(m){h=m,d.fire(m)}e.setGlobalHoverDelay=u;class n{constructor(){this.disposables=new b.DisposableStore}get onPointerMove(){return this.disposables.add(new N.DomEmitter(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new N.DomEmitter(window,"mouseup")).event}dispose(){this.disposables.dispose()}}Ve([g.memoize],n.prototype,"onPointerMove",null),Ve([g.memoize],n.prototype,"onPointerUp",null);class r{constructor(_){this.el=_,this.disposables=new b.DisposableStore}get onPointerMove(){return this.disposables.add(new N.DomEmitter(this.el,M.EventType.Change)).event}get onPointerUp(){return this.disposables.add(new N.DomEmitter(this.el,M.EventType.End)).event}dispose(){this.disposables.dispose()}}Ve([g.memoize],r.prototype,"onPointerMove",null),Ve([g.memoize],r.prototype,"onPointerUp",null);class s{constructor(_){this.factory=_}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}}Ve([g.memoize],s.prototype,"onPointerMove",null),Ve([g.memoize],s.prototype,"onPointerUp",null);class o extends b.Disposable{constructor(_,f,c){super();this.hoverDelay=h,this.hoverDelayer=this._register(new E.Delayer(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new S.Emitter),this._onDidStart=this._register(new S.Emitter),this._onDidChange=this._register(new S.Emitter),this._onDidReset=this._register(new S.Emitter),this._onDidEnd=this._register(new S.Emitter),this.orthogonalStartSashDisposables=this._register(new b.DisposableStore),this.orthogonalStartDragHandleDisposables=this._register(new b.DisposableStore),this.orthogonalEndSashDisposables=this._register(new b.DisposableStore),this.orthogonalEndDragHandleDisposables=this._register(new b.DisposableStore),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=(0,L.append)(_,(0,L.$)(".monaco-sash")),c.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${c.orthogonalEdge}`),p.isMacintosh&&this.el.classList.add("mac");const C=this._register(new N.DomEmitter(this.el,"mousedown")).event;this._register(C(P=>this.onPointerStart(P,new n),this));const y=this._register(new N.DomEmitter(this.el,"dblclick")).event;this._register(y(this.onPointerDoublePress,this));const w=this._register(new N.DomEmitter(this.el,"mouseenter")).event;this._register(w(()=>o.onMouseEnter(this)));const D=this._register(new N.DomEmitter(this.el,"mouseleave")).event;this._register(D(()=>o.onMouseLeave(this))),this._register(M.Gesture.addTarget(this.el));const I=S.Event.map(this._register(new N.DomEmitter(this.el,M.EventType.Start)).event,P=>{var R;return Object.assign(Object.assign({},P),{target:(R=P.initialTarget)!==null&&R!==void 0?R:null})});this._register(I(P=>this.onPointerStart(P,new r(this.el)),this));const T=this._register(new N.DomEmitter(this.el,M.EventType.Tap)).event,F=S.Event.map(S.Event.filter(S.Event.debounce(T,(P,R)=>{var A;return{event:R,count:((A=P==null?void 0:P.count)!==null&&A!==void 0?A:0)+1}},250),({count:P})=>P===2),({event:P})=>{var R;return Object.assign(Object.assign({},P),{target:(R=P.initialTarget)!==null&&R!==void 0?R:null})});this._register(F(this.onPointerDoublePress,this)),typeof c.size=="number"?(this.size=c.size,c.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=t,this._register(a.event(P=>{this.size=P,this.layout()}))),this._register(d.event(P=>this.hoverDelay=P)),this.layoutProvider=f,this.orthogonalStartSash=c.orthogonalStartSash,this.orthogonalEndSash=c.orthogonalEndSash,this.orientation=c.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",v),this.layout()}get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(_){this._state!==_&&(this.el.classList.toggle("disabled",_===0),this.el.classList.toggle("minimum",_===1),this.el.classList.toggle("maximum",_===2),this._state=_,this.onDidEnablementChange.fire(_))}set orthogonalStartSash(_){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),_){const f=c=>{this.orthogonalStartDragHandleDisposables.clear(),c!==0&&(this._orthogonalStartDragHandle=(0,L.append)(this.el,(0,L.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,b.toDisposable)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new N.DomEmitter(this._orthogonalStartDragHandle,"mouseenter")).event(()=>o.onMouseEnter(_),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new N.DomEmitter(this._orthogonalStartDragHandle,"mouseleave")).event(()=>o.onMouseLeave(_),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(_.onDidEnablementChange.event(f,this)),f(_.state)}this._orthogonalStartSash=_}set orthogonalEndSash(_){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),_){const f=c=>{this.orthogonalEndDragHandleDisposables.clear(),c!==0&&(this._orthogonalEndDragHandle=(0,L.append)(this.el,(0,L.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,b.toDisposable)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new N.DomEmitter(this._orthogonalEndDragHandle,"mouseenter")).event(()=>o.onMouseEnter(_),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new N.DomEmitter(this._orthogonalEndDragHandle,"mouseleave")).event(()=>o.onMouseLeave(_),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(_.onDidEnablementChange.event(f,this)),f(_.state)}this._orthogonalEndSash=_}onPointerStart(_,f){L.EventHelper.stop(_);let c=!1;if(!_.__orthogonalSashEvent){const O=this.getOrthogonalSash(_);O&&(c=!0,_.__orthogonalSashEvent=!0,O.onPointerStart(_,new s(f)))}if(this.linkedSash&&!_.__linkedSashEvent&&(_.__linkedSashEvent=!0,this.linkedSash.onPointerStart(_,new s(f))),!this.state)return;const C=(0,L.getElementsByTagName)("iframe");for(const O of C)O.style.pointerEvents="none";const y=_.pageX,w=_.pageY,D=_.altKey,I={startX:y,currentX:y,startY:w,currentY:w,altKey:D};this.el.classList.add("active"),this._onDidStart.fire(I);const T=(0,L.createStyleSheet)(this.el),F=()=>{let O="";c?O="all-scroll":this.orientation===1?this.state===1?O="s-resize":this.state===2?O="n-resize":O=p.isMacintosh?"row-resize":"ns-resize":this.state===1?O="e-resize":this.state===2?O="w-resize":O=p.isMacintosh?"col-resize":"ew-resize",T.textContent=`* { cursor: ${O} !important; }`},P=new b.DisposableStore;F(),c||this.onDidEnablementChange.event(F,null,P);const R=O=>{L.EventHelper.stop(O,!1);const k={startX:y,currentX:O.pageX,startY:w,currentY:O.pageY,altKey:D};this._onDidChange.fire(k)},A=O=>{L.EventHelper.stop(O,!1),this.el.removeChild(T),this.el.classList.remove("active"),this._onDidEnd.fire(),P.dispose();for(const k of C)k.style.pointerEvents="auto"};f.onPointerMove(R,null,P),f.onPointerUp(A,null,P),P.add(f)}onPointerDoublePress(_){const f=this.getOrthogonalSash(_);f&&f._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(_,f=!1){_.el.classList.contains("active")?(_.hoverDelayer.cancel(),_.el.classList.add("hover")):_.hoverDelayer.trigger(()=>_.el.classList.add("hover"),_.hoverDelay).then(void 0,()=>{}),!f&&_.linkedSash&&o.onMouseEnter(_.linkedSash,!0)}static onMouseLeave(_,f=!1){_.hoverDelayer.cancel(),_.el.classList.remove("hover"),!f&&_.linkedSash&&o.onMouseLeave(_.linkedSash,!0)}clearSashHoverState(){o.onMouseLeave(this)}layout(){if(this.orientation===0){const _=this.layoutProvider;this.el.style.left=_.getVerticalSashLeft(this)-this.size/2+"px",_.getVerticalSashTop&&(this.el.style.top=_.getVerticalSashTop(this)+"px"),_.getVerticalSashHeight&&(this.el.style.height=_.getVerticalSashHeight(this)+"px")}else{const _=this.layoutProvider;this.el.style.top=_.getHorizontalSashTop(this)-this.size/2+"px",_.getHorizontalSashLeft&&(this.el.style.left=_.getHorizontalSashLeft(this)+"px"),_.getHorizontalSashWidth&&(this.el.style.width=_.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(_){if(!(!_.target||!(_.target instanceof HTMLElement))&&_.target.classList.contains("orthogonal-drag-handle"))return _.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}e.Sash=o}),define(ee[342],te([11]),{}),define(ee[64],te([0,1,36,7,32,59,321,322,53,10,4,2,15,136,342]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomScrollableElement=e.SmoothScrollableElement=e.ScrollableElement=e.AbstractScrollableElement=e.MouseWheelClassifier=void 0;const l=500,h=50,d=!0;class u{constructor(c,C,y){this.timestamp=c,this.deltaX=C,this.deltaY=y,this.score=0}}class n{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let c=1,C=0,y=1,w=this._rear;do{const D=w===this._front?c:Math.pow(2,-y);if(c-=D,C+=this._memory[w].score*D,w===this._front)break;w=(this._capacity+w-1)%this._capacity,y++}while(!0);return C<=.5}accept(c,C,y){const w=new u(c,C,y);w.score=this._computeScore(w),this._front===-1&&this._rear===-1?(this._memory[0]=w,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=w)}_computeScore(c){if(Math.abs(c.deltaX)>0&&Math.abs(c.deltaY)>0)return 1;let C=.5;const y=this._front===-1&&this._rear===-1?null:this._memory[this._rear];return(!this._isAlmostInt(c.deltaX)||!this._isAlmostInt(c.deltaY))&&(C+=.25),Math.min(Math.max(C,0),1)}_isAlmostInt(c){return Math.abs(Math.round(c)-c)<.01}}e.MouseWheelClassifier=n,n.INSTANCE=new n;class r extends b.Widget{constructor(c,C,y){super();this._onScroll=this._register(new v.Emitter),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new v.Emitter),this.onWillScroll=this._onWillScroll.event,c.style.overflow="hidden",this._options=_(C),this._scrollable=y,this._register(this._scrollable.onScroll(D=>{this._onWillScroll.fire(D),this._onDidScroll(D),this._onScroll.fire(D)}));const w={onMouseWheel:D=>this._onMouseWheel(D),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new S.VerticalScrollbar(this._scrollable,this._options,w)),this._horizontalScrollbar=this._register(new g.HorizontalScrollbar(this._scrollable,this._options,w)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(c),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,M.createFastDomNode)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,M.createFastDomNode)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,M.createFastDomNode)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,D=>this._onMouseOver(D)),this.onnonbubblingmouseout(this._listenOnDomNode,D=>this._onMouseOut(D)),this._hideTimeout=this._register(new p.TimeoutTimer),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=(0,i.dispose)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarMouseDown(c){this._verticalScrollbar.delegateMouseDown(c)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(c){this._scrollable.setScrollDimensions(c,!1)}updateClassName(c){this._options.className=c,t.isMacintosh&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(c){typeof c.handleMouseWheel!="undefined"&&(this._options.handleMouseWheel=c.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof c.mouseWheelScrollSensitivity!="undefined"&&(this._options.mouseWheelScrollSensitivity=c.mouseWheelScrollSensitivity),typeof c.fastScrollSensitivity!="undefined"&&(this._options.fastScrollSensitivity=c.fastScrollSensitivity),typeof c.scrollPredominantAxis!="undefined"&&(this._options.scrollPredominantAxis=c.scrollPredominantAxis),typeof c.horizontal!="undefined"&&(this._options.horizontal=c.horizontal),typeof c.vertical!="undefined"&&(this._options.vertical=c.vertical),typeof c.horizontalScrollbarSize!="undefined"&&(this._options.horizontalScrollbarSize=c.horizontalScrollbarSize),typeof c.verticalScrollbarSize!="undefined"&&(this._options.verticalScrollbarSize=c.verticalScrollbarSize),typeof c.scrollByPage!="undefined"&&(this._options.scrollByPage=c.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}setRevealOnScroll(c){this._revealOnScroll=c}triggerScrollFromMouseWheelEvent(c){this._onMouseWheel(new E.StandardWheelEvent(c))}_setListeningToMouseWheel(c){if(this._mouseWheelToDispose.length>0!==c&&(this._mouseWheelToDispose=(0,i.dispose)(this._mouseWheelToDispose),c)){const y=w=>{this._onMouseWheel(new E.StandardWheelEvent(w))};this._mouseWheelToDispose.push(N.addDisposableListener(this._listenOnDomNode,N.EventType.MOUSE_WHEEL,y,{passive:!1}))}}_onMouseWheel(c){const C=n.INSTANCE;if(d){const D=window.devicePixelRatio/(0,L.getZoomFactor)();t.isWindows||t.isLinux?C.accept(Date.now(),c.deltaX/D,c.deltaY/D):C.accept(Date.now(),c.deltaX,c.deltaY)}let y=!1;if(c.deltaY||c.deltaX){let D=c.deltaY*this._options.mouseWheelScrollSensitivity,I=c.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(D)>=Math.abs(I)?I=0:D=0),this._options.flipAxes&&([D,I]=[I,D]);const T=!t.isMacintosh&&c.browserEvent&&c.browserEvent.shiftKey;(this._options.scrollYToX||T)&&!I&&(I=D,D=0),c.browserEvent&&c.browserEvent.altKey&&(I=I*this._options.fastScrollSensitivity,D=D*this._options.fastScrollSensitivity);const F=this._scrollable.getFutureScrollPosition();let P={};if(D){const R=h*D,A=F.scrollTop-(R<0?Math.floor(R):Math.ceil(R));this._verticalScrollbar.writeScrollPosition(P,A)}if(I){const R=h*I,A=F.scrollLeft-(R<0?Math.floor(R):Math.ceil(R));this._horizontalScrollbar.writeScrollPosition(P,A)}P=this._scrollable.validateScrollPosition(P),(F.scrollLeft!==P.scrollLeft||F.scrollTop!==P.scrollTop)&&(d&&this._options.mouseWheelSmoothScroll&&C.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(P):this._scrollable.setScrollPositionNow(P),y=!0)}let w=y;!w&&this._options.alwaysConsumeMouseWheel&&(w=!0),!w&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(w=!0),w&&(c.preventDefault(),c.stopPropagation())}_onDidScroll(c){this._shouldRender=this._horizontalScrollbar.onDidScroll(c)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(c)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(!!this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const c=this._scrollable.getCurrentScrollPosition(),C=c.scrollTop>0,y=c.scrollLeft>0,w=y?" left":"",D=C?" top":"",I=y||C?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${w}`),this._topShadowDomNode.setClassName(`shadow${D}`),this._topLeftShadowDomNode.setClassName(`shadow${I}${D}${w}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseOut(c){this._mouseIsOver=!1,this._hide()}_onMouseOver(c){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),l)}}e.AbstractScrollableElement=r;class s extends r{constructor(c,C){C=C||{},C.mouseWheelSmoothScroll=!1;const y=new a.Scrollable(0,w=>N.scheduleAtNextAnimationFrame(w));super(c,C,y);this._register(y)}setScrollPosition(c){this._scrollable.setScrollPositionNow(c)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}e.ScrollableElement=s;class o extends r{constructor(c,C,y){super(c,C,y)}setScrollPosition(c){c.reuseAnimation?this._scrollable.setScrollPositionSmooth(c,c.reuseAnimation):this._scrollable.setScrollPositionNow(c)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}e.SmoothScrollableElement=o;class m extends s{constructor(c,C){super(c,C);this._element=c,this.onScroll(y=>{y.scrollTopChanged&&(this._element.scrollTop=y.scrollTop),y.scrollLeftChanged&&(this._element.scrollLeft=y.scrollLeft)}),this.scanDomNode()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}e.DomScrollableElement=m;function _(f){const c={lazyRender:typeof f.lazyRender!="undefined"?f.lazyRender:!1,className:typeof f.className!="undefined"?f.className:"",useShadows:typeof f.useShadows!="undefined"?f.useShadows:!0,handleMouseWheel:typeof f.handleMouseWheel!="undefined"?f.handleMouseWheel:!0,flipAxes:typeof f.flipAxes!="undefined"?f.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof f.consumeMouseWheelIfScrollbarIsNeeded!="undefined"?f.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof f.alwaysConsumeMouseWheel!="undefined"?f.alwaysConsumeMouseWheel:!1,scrollYToX:typeof f.scrollYToX!="undefined"?f.scrollYToX:!1,mouseWheelScrollSensitivity:typeof f.mouseWheelScrollSensitivity!="undefined"?f.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof f.fastScrollSensitivity!="undefined"?f.fastScrollSensitivity:5,scrollPredominantAxis:typeof f.scrollPredominantAxis!="undefined"?f.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof f.mouseWheelSmoothScroll!="undefined"?f.mouseWheelSmoothScroll:!0,arrowSize:typeof f.arrowSize!="undefined"?f.arrowSize:11,listenOnDomNode:typeof f.listenOnDomNode!="undefined"?f.listenOnDomNode:null,horizontal:typeof f.horizontal!="undefined"?f.horizontal:1,horizontalScrollbarSize:typeof f.horizontalScrollbarSize!="undefined"?f.horizontalScrollbarSize:10,horizontalSliderSize:typeof f.horizontalSliderSize!="undefined"?f.horizontalSliderSize:0,horizontalHasArrows:typeof f.horizontalHasArrows!="undefined"?f.horizontalHasArrows:!1,vertical:typeof f.vertical!="undefined"?f.vertical:1,verticalScrollbarSize:typeof f.verticalScrollbarSize!="undefined"?f.verticalScrollbarSize:10,verticalHasArrows:typeof f.verticalHasArrows!="undefined"?f.verticalHasArrows:!1,verticalSliderSize:typeof f.verticalSliderSize!="undefined"?f.verticalSliderSize:0,scrollByPage:typeof f.scrollByPage!="undefined"?f.scrollByPage:!1};return c.horizontalSliderSize=typeof f.horizontalSliderSize!="undefined"?f.horizontalSliderSize:c.horizontalScrollbarSize,c.verticalSliderSize=typeof f.verticalSliderSize!="undefined"?f.verticalSliderSize:c.verticalScrollbarSize,t.isMacintosh&&(c.className+=" mac"),c}}),define(ee[226],te([0,1,7,64,2,334]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverAction=e.HoverWidget=void 0;const E=L.$;class g extends M.Disposable{constructor(){super();this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this._scrollbar=this._register(new N.DomScrollableElement(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this._scrollbar.getDomNode())}onContentsChanged(){this._scrollbar.scanDomNode()}}e.HoverWidget=g;class S extends M.Disposable{constructor(p,v,i){super();this.actionContainer=L.append(p,E("div.action-container")),this.action=L.append(this.actionContainer,E("a.action")),this.action.setAttribute("role","button"),v.iconClass&&L.append(this.action,E(`span.icon.${v.iconClass}`));const t=L.append(this.action,E("span"));t.textContent=i?`${v.label} (${i})`:v.label,this._register(L.addDisposableListener(this.actionContainer,L.EventType.MOUSE_DOWN,a=>{a.stopPropagation(),a.preventDefault(),v.run(this.actionContainer)})),this.setEnabled(!0)}static render(p,v,i){return new S(p,v,i)}setEnabled(p){p?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}e.HoverAction=S}),define(ee[175],te([0,1,36,174,7,81,57,64,19,10,96,4,2,34,135,136,314,318]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListView=e.NativeDragAndDropData=e.ExternalElementsDragAndDropData=e.ElementsDragAndDropData=void 0;const n={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(c){return[c]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class r{constructor(C){this.elements=C}get context(){return this._context}set context(C){this._context=C}update(){}getData(){return this.elements}}e.ElementsDragAndDropData=r;class s{constructor(C){this.elements=C}update(){}getData(){return this.elements}}e.ExternalElementsDragAndDropData=s;class o{constructor(){this.types=[],this.files=[]}update(C){if(C.types&&this.types.splice(0,this.types.length,...C.types),C.files){this.files.splice(0,this.files.length);for(let y=0;y<C.files.length;y++){const w=C.files.item(y);w&&(w.size||w.type)&&this.files.push(w)}}}getData(){return{types:this.types,files:this.files}}}e.NativeDragAndDropData=o;function m(c,C){return Array.isArray(c)&&Array.isArray(C)?(0,b.equals)(c,C):c===C}class _{constructor(C){(C==null?void 0:C.getSetSize)?this.getSetSize=C.getSetSize.bind(C):this.getSetSize=(y,w,D)=>D,(C==null?void 0:C.getPosInSet)?this.getPosInSet=C.getPosInSet.bind(C):this.getPosInSet=(y,w)=>w+1,(C==null?void 0:C.getRole)?this.getRole=C.getRole.bind(C):this.getRole=y=>"listitem",(C==null?void 0:C.isChecked)?this.isChecked=C.isChecked.bind(C):this.isChecked=y=>{}}}class f{constructor(C,y,w,D=n){if(this.virtualDelegate=y,this.domId=`list_id_${++f.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new p.Delayer(50),this.splicing=!1,this.dragOverAnimationStopDisposable=t.Disposable.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=t.Disposable.None,this.onDragLeaveTimeout=t.Disposable.None,this.disposables=new t.DisposableStore,this._onDidChangeContentHeight=new i.Emitter,this.onDidChangeContentHeight=i.Event.latch(this._onDidChangeContentHeight.event),this._horizontalScrolling=!1,D.horizontalScrolling&&D.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new d.RangeMap;for(const T of w)this.renderers.set(T.templateId,T);this.cache=this.disposables.add(new u.RowCache(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof D.mouseSupport=="boolean"?D.mouseSupport:!0),this._horizontalScrolling=(0,a.getOrDefault)(D,T=>T.horizontalScrolling,n.horizontalScrolling),this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=typeof D.additionalScrollHeight=="undefined"?0:D.additionalScrollHeight,this.accessibilityProvider=new _(D.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",(0,a.getOrDefault)(D,T=>T.transformOptimization,n.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(g.Gesture.addTarget(this.rowsContainer)),this.scrollable=new h.Scrollable((0,a.getOrDefault)(D,T=>T.smoothScrolling,!1)?125:0,T=>(0,M.scheduleAtNextAnimationFrame)(T)),this.scrollableElement=this.disposables.add(new S.SmoothScrollableElement(this.rowsContainer,{alwaysConsumeMouseWheel:(0,a.getOrDefault)(D,T=>T.alwaysConsumeMouseWheel,n.alwaysConsumeMouseWheel),horizontal:1,vertical:(0,a.getOrDefault)(D,T=>T.verticalScrollMode,n.verticalScrollMode),useShadows:(0,a.getOrDefault)(D,T=>T.useShadows,n.useShadows),mouseWheelScrollSensitivity:D.mouseWheelScrollSensitivity,fastScrollSensitivity:D.fastScrollSensitivity},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),C.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,M.addDisposableListener)(this.rowsContainer,g.EventType.Change,T=>this.onTouchChange(T))),this.disposables.add((0,M.addDisposableListener)(this.scrollableElement.getDomNode(),"scroll",T=>T.target.scrollTop=0)),this.disposables.add((0,M.addDisposableListener)(this.domNode,"dragover",T=>this.onDragOver(this.toDragEvent(T)))),this.disposables.add((0,M.addDisposableListener)(this.domNode,"drop",T=>this.onDrop(this.toDragEvent(T)))),this.disposables.add((0,M.addDisposableListener)(this.domNode,"dragleave",T=>this.onDragLeave(this.toDragEvent(T)))),this.disposables.add((0,M.addDisposableListener)(this.domNode,"dragend",T=>this.onDragEnd(T))),this.setRowLineHeight=(0,a.getOrDefault)(D,T=>T.setRowLineHeight,n.setRowLineHeight),this.setRowHeight=(0,a.getOrDefault)(D,T=>T.setRowHeight,n.setRowHeight),this.supportDynamicHeights=(0,a.getOrDefault)(D,T=>T.supportDynamicHeights,n.supportDynamicHeights),this.dnd=(0,a.getOrDefault)(D,T=>T.dnd,n.dnd),this.layout()}get contentHeight(){return this.rangeMap.size}get onDidScroll(){return this.scrollableElement.onScroll}get onWillScroll(){return this.scrollableElement.onWillScroll}get containerDomNode(){return this.rowsContainer}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(C){if(C!==this._horizontalScrolling){if(C&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=C,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const y of this.items)this.measureItemWidth(y);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,M.getContentWidth)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(C){C.additionalScrollHeight!==void 0&&(this.additionalScrollHeight=C.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),C.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(C.smoothScrolling?125:0),C.horizontalScrolling!==void 0&&(this.horizontalScrolling=C.horizontalScrolling),C.mouseWheelScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({mouseWheelScrollSensitivity:C.mouseWheelScrollSensitivity}),C.fastScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({fastScrollSensitivity:C.fastScrollSensitivity})}triggerScrollFromMouseWheelEvent(C){this.scrollableElement.triggerScrollFromMouseWheelEvent(C)}updateElementHeight(C,y,w){if(C<0||C>=this.items.length)return;const D=this.items[C].size;if(typeof y=="undefined"){if(!this.supportDynamicHeights){console.warn("Dynamic heights not supported");return}this.items[C].lastDynamicHeightWidth=void 0,y=D+this.probeDynamicHeight(C)}if(D===y)return;const I=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);let T=0;C<I.start||w!==null&&w>C&&w<=I.end?T=y-D:T=0,this.rangeMap.splice(C,1,[{size:y}]),this.items[C].size=y,this.render(I,Math.max(0,this.lastRenderTop+T),this.lastRenderHeight,void 0,void 0,!0),this.setScrollTop(this.lastRenderTop),this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.lastRenderTop,this.lastRenderHeight)}splice(C,y,w=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(C,y,w)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(C,y,w=[]){const D=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),I={start:C,end:C+y},T=l.Range.intersect(D,I),F=new Map;for(let z=T.start;z<T.end;z++){const W=this.items[z];if(W.dragStartDisposable.dispose(),W.row){let j=F.get(W.templateId);j||(j=[],F.set(W.templateId,j));const U=this.renderers.get(W.templateId);U&&U.disposeElement&&U.disposeElement(W.element,z,W.row.templateData,W.size),j.push(W.row)}W.row=null}const P={start:C+y,end:this.items.length},R=l.Range.intersect(P,D),A=l.Range.relativeComplement(P,D),O=w.map(z=>({id:String(this.itemId++),element:z,templateId:this.virtualDelegate.getTemplateId(z),size:this.virtualDelegate.getHeight(z),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(z),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:t.Disposable.None}));let k;C===0&&y>=this.items.length?(this.rangeMap=new d.RangeMap,this.rangeMap.splice(0,0,O),k=this.items,this.items=O):(this.rangeMap.splice(C,y,O),k=this.items.splice(C,y,...O));const V=w.length-y,B=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),x=(0,d.shift)(R,V),K=l.Range.intersect(B,x);for(let z=K.start;z<K.end;z++)this.updateItemInDOM(this.items[z],z);const X=l.Range.relativeComplement(x,B);for(const z of X)for(let W=z.start;W<z.end;W++)this.removeItemFromDOM(W);const Z=A.map(z=>(0,d.shift)(z,V)),H=[{start:C,end:C+w.length},...Z].map(z=>l.Range.intersect(B,z)),G=this.getNextToLastElement(H);for(const z of H)for(let W=z.start;W<z.end;W++){const j=this.items[W],U=F.get(j.templateId),Y=U==null?void 0:U.pop();this.insertItemInDOM(W,G,Y)}for(const z of F.values())for(const W of z)this.cache.release(W);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),k.map(z=>z.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,M.scheduleAtNextAnimationFrame)(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let C=0;for(const y of this.items)typeof y.width!="undefined"&&(C=Math.max(C,y.width));this.scrollWidth=C,this.scrollableElement.setScrollDimensions({scrollWidth:C===0?0:C+10})}updateWidth(C){if(!this.horizontalScrolling||typeof this.scrollWidth=="undefined")return;const y=this.items[C];this.measureItemWidth(y),typeof y.width!="undefined"&&y.width>this.scrollWidth&&(this.scrollWidth=y.width,this.scrollableElement.setScrollDimensions({scrollWidth:this.scrollWidth+10}))}rerender(){if(!!this.supportDynamicHeights){for(const C of this.items)C.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}get firstVisibleIndex(){const C=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),y=this.rangeMap.positionAt(C.start),w=this.rangeMap.positionAt(C.start+1);return w!==-1&&(w-y)/2+y<this.scrollTop?C.start+1:C.start}get lastVisibleIndex(){return this.getRenderRange(this.lastRenderTop,this.lastRenderHeight).end-1}element(C){return this.items[C].element}indexOf(C){return this.items.findIndex(y=>y.element===C)}domElement(C){const y=this.items[C].row;return y&&y.domNode}elementHeight(C){return this.items[C].size}elementTop(C){return this.rangeMap.positionAt(C)}indexAt(C){return this.rangeMap.indexAt(C)}indexAfter(C){return this.rangeMap.indexAfter(C)}layout(C,y){let w={height:typeof C=="number"?C:(0,M.getContentHeight)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,w.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(w),typeof y!="undefined"&&(this.renderWidth=y,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof y=="number"?y:(0,M.getContentWidth)(this.domNode)})}render(C,y,w,D,I,T=!1){const F=this.getRenderRange(y,w),P=l.Range.relativeComplement(F,C),R=l.Range.relativeComplement(C,F),A=this.getNextToLastElement(P);if(T){const O=l.Range.intersect(C,F);for(let k=O.start;k<O.end;k++)this.updateItemInDOM(this.items[k],k)}for(const O of P)for(let k=O.start;k<O.end;k++)this.insertItemInDOM(k,A);for(const O of R)for(let k=O.start;k<O.end;k++)this.removeItemFromDOM(k);D!==void 0&&(this.rowsContainer.style.left=`-${D}px`),this.rowsContainer.style.top=`-${y}px`,this.horizontalScrolling&&I!==void 0&&(this.rowsContainer.style.width=`${Math.max(I,this.renderWidth)}px`),this.lastRenderTop=y,this.lastRenderHeight=w}insertItemInDOM(C,y,w){const D=this.items[C];D.row||(D.row=w!=null?w:this.cache.alloc(D.templateId));const I=this.accessibilityProvider.getRole(D.element)||"listitem";D.row.domNode.setAttribute("role",I);const T=this.accessibilityProvider.isChecked(D.element);typeof T!="undefined"&&D.row.domNode.setAttribute("aria-checked",String(!!T)),D.row.domNode.parentElement||(y?this.rowsContainer.insertBefore(D.row.domNode,y):this.rowsContainer.appendChild(D.row.domNode)),this.updateItemInDOM(D,C);const F=this.renderers.get(D.templateId);if(!F)throw new Error(`No renderer found for template id ${D.templateId}`);F&&F.renderElement(D.element,C,D.row.templateData,D.size);const P=this.dnd.getDragURI(D.element);D.dragStartDisposable.dispose(),D.row.domNode.draggable=!!P,P&&(D.dragStartDisposable=(0,M.addDisposableListener)(D.row.domNode,"dragstart",R=>this.onDragStart(D.element,P,R))),this.horizontalScrolling&&(this.measureItemWidth(D),this.eventuallyUpdateScrollWidth())}measureItemWidth(C){if(!C.row||!C.row.domNode)return;C.row.domNode.style.width=L.isFirefox?"-moz-fit-content":"fit-content",C.width=(0,M.getContentWidth)(C.row.domNode);const y=window.getComputedStyle(C.row.domNode);y.paddingLeft&&(C.width+=parseFloat(y.paddingLeft)),y.paddingRight&&(C.width+=parseFloat(y.paddingRight)),C.row.domNode.style.width=""}updateItemInDOM(C,y){C.row.domNode.style.top=`${this.elementTop(y)}px`,this.setRowHeight&&(C.row.domNode.style.height=`${C.size}px`),this.setRowLineHeight&&(C.row.domNode.style.lineHeight=`${C.size}px`),C.row.domNode.setAttribute("data-index",`${y}`),C.row.domNode.setAttribute("data-last-element",y===this.length-1?"true":"false"),C.row.domNode.setAttribute("data-parity",y%2==0?"even":"odd"),C.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(C.element,y,this.length))),C.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(C.element,y))),C.row.domNode.setAttribute("id",this.getElementDomId(y)),C.row.domNode.classList.toggle("drop-target",C.dropTarget)}removeItemFromDOM(C){const y=this.items[C];if(y.dragStartDisposable.dispose(),y.row){const w=this.renderers.get(y.templateId);w&&w.disposeElement&&w.disposeElement(y.element,C,y.row.templateData,y.size),this.cache.release(y.row),y.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(C,y){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:C,reuseAnimation:y})}getScrollLeft(){return this.scrollableElement.getScrollPosition().scrollLeft}setScrollLeft(C){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollWidth:this.scrollWidth})),this.scrollableElement.setScrollPosition({scrollLeft:C})}get scrollTop(){return this.getScrollTop()}set scrollTop(C){this.setScrollTop(C)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return i.Event.map(this.disposables.add(new E.DomEmitter(this.domNode,"click")).event,C=>this.toMouseEvent(C))}get onMouseDblClick(){return i.Event.map(this.disposables.add(new E.DomEmitter(this.domNode,"dblclick")).event,C=>this.toMouseEvent(C))}get onMouseMiddleClick(){return i.Event.filter(i.Event.map(this.disposables.add(new E.DomEmitter(this.domNode,"auxclick")).event,C=>this.toMouseEvent(C)),C=>C.browserEvent.button===1)}get onMouseUp(){return i.Event.map(this.disposables.add(new E.DomEmitter(this.domNode,"mouseup")).event,C=>this.toMouseEvent(C))}get onMouseDown(){return i.Event.map(this.disposables.add(new E.DomEmitter(this.domNode,"mousedown")).event,C=>this.toMouseEvent(C))}get onMouseOver(){return i.Event.map(this.disposables.add(new E.DomEmitter(this.domNode,"mouseover")).event,C=>this.toMouseEvent(C))}get onMouseMove(){return i.Event.map(this.disposables.add(new E.DomEmitter(this.domNode,"mousemove")).event,C=>this.toMouseEvent(C))}get onMouseOut(){return i.Event.map(this.disposables.add(new E.DomEmitter(this.domNode,"mouseout")).event,C=>this.toMouseEvent(C))}get onContextMenu(){return i.Event.any(i.Event.map(this.disposables.add(new E.DomEmitter(this.domNode,"contextmenu")).event,C=>this.toMouseEvent(C)),i.Event.map(this.disposables.add(new E.DomEmitter(this.domNode,g.EventType.Contextmenu)).event,C=>this.toGestureEvent(C)))}get onTouchStart(){return i.Event.map(this.disposables.add(new E.DomEmitter(this.domNode,"touchstart")).event,C=>this.toTouchEvent(C))}get onTap(){return i.Event.map(this.disposables.add(new E.DomEmitter(this.rowsContainer,g.EventType.Tap)).event,C=>this.toGestureEvent(C))}toMouseEvent(C){const y=this.getItemIndexFromEventTarget(C.target||null),w=typeof y=="undefined"?void 0:this.items[y],D=w&&w.element;return{browserEvent:C,index:y,element:D}}toTouchEvent(C){const y=this.getItemIndexFromEventTarget(C.target||null),w=typeof y=="undefined"?void 0:this.items[y],D=w&&w.element;return{browserEvent:C,index:y,element:D}}toGestureEvent(C){const y=this.getItemIndexFromEventTarget(C.initialTarget||null),w=typeof y=="undefined"?void 0:this.items[y],D=w&&w.element;return{browserEvent:C,index:y,element:D}}toDragEvent(C){const y=this.getItemIndexFromEventTarget(C.target||null),w=typeof y=="undefined"?void 0:this.items[y],D=w&&w.element;return{browserEvent:C,index:y,element:D}}onScroll(C){try{const y=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(y,C.scrollTop,C.height,C.scrollLeft,C.scrollWidth),this.supportDynamicHeights&&this._rerender(C.scrollTop,C.height,C.inSmoothScrolling)}catch(y){throw console.error("Got bad scroll event:",C),y}}onTouchChange(C){C.preventDefault(),C.stopPropagation(),this.scrollTop-=C.translationY}onDragStart(C,y,w){if(!w.dataTransfer)return;const D=this.dnd.getDragElements(C);if(w.dataTransfer.effectAllowed="copyMove",w.dataTransfer.setData(N.DataTransfers.TEXT,y),w.dataTransfer.setDragImage){let I;this.dnd.getDragLabel&&(I=this.dnd.getDragLabel(D,w)),typeof I=="undefined"&&(I=String(D.length));const T=(0,M.$)(".monaco-drag-image");T.textContent=I,document.body.appendChild(T),w.dataTransfer.setDragImage(T,-10,-10),setTimeout(()=>document.body.removeChild(T),0)}this.currentDragData=new r(D),N.StaticDND.CurrentDragAndDropData=new s(D),this.dnd.onDragStart&&this.dnd.onDragStart(this.currentDragData,w)}onDragOver(C){if(C.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),N.StaticDND.CurrentDragAndDropData&&N.StaticDND.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(C.browserEvent),!C.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(N.StaticDND.CurrentDragAndDropData)this.currentDragData=N.StaticDND.CurrentDragAndDropData;else{if(!C.browserEvent.dataTransfer.types)return!1;this.currentDragData=new o}const y=this.dnd.onDragOver(this.currentDragData,C.element,C.index,C.browserEvent);if(this.canDrop=typeof y=="boolean"?y:y.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;C.browserEvent.dataTransfer.dropEffect=typeof y!="boolean"&&y.effect===0?"copy":"move";let w;if(typeof y!="boolean"&&y.feedback?w=y.feedback:typeof C.index=="undefined"?w=[-1]:w=[C.index],w=(0,b.distinct)(w).filter(D=>D>=-1&&D<this.length).sort((D,I)=>D-I),w=w[0]===-1?[-1]:w,m(this.currentDragFeedback,w))return!0;if(this.currentDragFeedback=w,this.currentDragFeedbackDisposable.dispose(),w[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=(0,t.toDisposable)(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const D of w){const I=this.items[D];I.dropTarget=!0,I.row&&I.row.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=(0,t.toDisposable)(()=>{for(const D of w){const I=this.items[D];I.dropTarget=!1,I.row&&I.row.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(C){var y,w;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,p.disposableTimeout)(()=>this.clearDragOverFeedback(),100),this.currentDragData&&((w=(y=this.dnd).onDragLeave)===null||w===void 0||w.call(y,this.currentDragData,C.element,C.index,C.browserEvent))}onDrop(C){if(!this.canDrop)return;const y=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,N.StaticDND.CurrentDragAndDropData=void 0,!(!y||!C.browserEvent.dataTransfer)&&(C.browserEvent.preventDefault(),y.update(C.browserEvent.dataTransfer),this.dnd.drop(y,C.element,C.index,C.browserEvent))}onDragEnd(C){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,N.StaticDND.CurrentDragAndDropData=void 0,this.dnd.onDragEnd&&this.dnd.onDragEnd(C)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=t.Disposable.None}setupDragAndDropScrollTopAnimation(C){if(!this.dragOverAnimationDisposable){const y=(0,M.getTopLeftOffset)(this.domNode).top;this.dragOverAnimationDisposable=(0,M.animate)(this.animateDragAndDropScrollTop.bind(this,y))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,p.disposableTimeout)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=C.pageY}animateDragAndDropScrollTop(C){if(this.dragOverMouseY===void 0)return;const y=this.dragOverMouseY-C,w=this.renderHeight-35;y<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(y-35))):y>w&&(this.scrollTop+=Math.min(14,Math.floor(.3*(y-w))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(C){const y=this.scrollableElement.getDomNode();let w=C;for(;w instanceof HTMLElement&&w!==this.rowsContainer&&y.contains(w);){const D=w.getAttribute("data-index");if(D){const I=Number(D);if(!isNaN(I))return I}w=w.parentElement}}getRenderRange(C,y){return{start:this.rangeMap.indexAt(C),end:this.rangeMap.indexAfter(C+y-1)}}_rerender(C,y,w){const D=this.getRenderRange(C,y);let I,T;C===this.elementTop(D.start)?(I=D.start,T=0):D.end-D.start>1&&(I=D.start+1,T=this.elementTop(I)-C);let F=0;for(;;){const P=this.getRenderRange(C,y);let R=!1;for(let A=P.start;A<P.end;A++){const O=this.probeDynamicHeight(A);O!==0&&this.rangeMap.splice(A,1,[this.items[A]]),F+=O,R=R||O!==0}if(!R){F!==0&&this.eventuallyUpdateScrollDimensions();const A=l.Range.relativeComplement(D,P);for(const k of A)for(let V=k.start;V<k.end;V++)this.items[V].row&&this.removeItemFromDOM(V);const O=l.Range.relativeComplement(P,D);for(const k of O)for(let V=k.start;V<k.end;V++){const B=V+1,x=B<this.items.length?this.items[B].row:null,K=x?x.domNode:null;this.insertItemInDOM(V,K)}for(let k=P.start;k<P.end;k++)this.items[k].row&&this.updateItemInDOM(this.items[k],k);if(typeof I=="number"){const k=this.scrollable.getFutureScrollPosition().scrollTop-C,V=this.elementTop(I)-T+k;this.setScrollTop(V,w)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(C){const y=this.items[C];if(this.virtualDelegate.getDynamicHeight){const T=this.virtualDelegate.getDynamicHeight(y.element);if(T!==null){const F=y.size;return y.size=T,y.lastDynamicHeightWidth=this.renderWidth,T-F}}if(!y.hasDynamicHeight||y.lastDynamicHeightWidth===this.renderWidth||!!this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(y.element))return 0;const w=y.size;if(!this.setRowHeight&&y.row){let T=y.row.domNode.offsetHeight;return y.size=T,y.lastDynamicHeightWidth=this.renderWidth,T-w}const D=this.cache.alloc(y.templateId);D.domNode.style.height="",this.rowsContainer.appendChild(D.domNode);const I=this.renderers.get(y.templateId);return I&&(I.renderElement(y.element,C,D.templateData,void 0),I.disposeElement&&I.disposeElement(y.element,C,D.templateData,void 0)),y.size=D.domNode.offsetHeight,this.virtualDelegate.setDynamicHeight&&this.virtualDelegate.setDynamicHeight(y.element,y.size),y.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(D.domNode),this.cache.release(D),y.size-w}getNextToLastElement(C){const y=C[C.length-1];if(!y)return null;const w=this.items[y.end];return!w||!w.row?null:w.row.domNode}getElementDomId(C){return`${this.domId}_${C}`}dispose(){if(this.items){for(const C of this.items)if(C.row){const y=this.renderers.get(C.row.templateId);y&&(y.disposeElement&&y.disposeElement(C.element,-1,C.row.templateData,void 0),y.disposeTemplate(C.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(0,t.dispose)(this.disposables)}}f.InstanceCount=0,Ve([v.memoize],f.prototype,"onMouseClick",null),Ve([v.memoize],f.prototype,"onMouseDblClick",null),Ve([v.memoize],f.prototype,"onMouseMiddleClick",null),Ve([v.memoize],f.prototype,"onMouseUp",null),Ve([v.memoize],f.prototype,"onMouseDown",null),Ve([v.memoize],f.prototype,"onMouseOver",null),Ve([v.memoize],f.prototype,"onMouseMove",null),Ve([v.memoize],f.prototype,"onMouseOut",null),Ve([v.memoize],f.prototype,"onContextMenu",null),Ve([v.memoize],f.prototype,"onTouchStart",null),Ve([v.memoize],f.prototype,"onTap",null),e.ListView=f}),define(ee[100],te([0,1,7,81,44,57,45,307,19,10,28,96,4,72,2,109,34,15,20,306,175,225]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u,n,r,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.List=e.DefaultStyleController=e.MouseController=e.isSelectionRangeChangeEvent=e.isSelectionSingleChangeEvent=e.DefaultKeyboardNavigationDelegate=e.isMonacoEditor=e.isInputElement=void 0;class o{constructor(W){this.trait=W,this.renderedElements=[]}get templateId(){return`template:${this.trait.trait}`}renderTemplate(W){return W}renderElement(W,j,U){const Y=this.renderedElements.findIndex(ne=>ne.templateData===U);if(Y>=0){const ne=this.renderedElements[Y];this.trait.unrender(U),ne.index=j}else{const ne={index:j,templateData:U};this.renderedElements.push(ne)}this.trait.renderIndex(j,U)}splice(W,j,U){const Y=[];for(const ne of this.renderedElements)ne.index<W?Y.push(ne):ne.index>=W+j&&Y.push({index:ne.index+U-j,templateData:ne.templateData});this.renderedElements=Y}renderIndexes(W){for(const{index:j,templateData:U}of this.renderedElements)W.indexOf(j)>-1&&this.trait.renderIndex(j,U)}disposeTemplate(W){const j=this.renderedElements.findIndex(U=>U.templateData===W);j<0||this.renderedElements.splice(j,1)}}class m{constructor(W){this._trait=W,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new t.Emitter,this.onChange=this._onChange.event}get trait(){return this._trait}get renderer(){return new o(this)}splice(W,j,U){var Y;j=Math.max(0,Math.min(j,this.length-W));const ne=U.length-j,J=W+j,re=[...this.sortedIndexes.filter(pe=>pe<W),...U.map((pe,oe)=>pe?oe+W:-1).filter(pe=>pe!==-1),...this.sortedIndexes.filter(pe=>pe>=J).map(pe=>pe+ne)],ge=this.length+ne;if(this.sortedIndexes.length>0&&re.length===0&&ge>0){const pe=(Y=this.sortedIndexes.find(oe=>oe>=W))!==null&&Y!==void 0?Y:ge-1;re.push(Math.min(pe,ge-1))}this.renderer.splice(W,j,U.length),this._set(re,re),this.length=ge}renderIndex(W,j){j.classList.toggle(this._trait,this.contains(W))}unrender(W){W.classList.remove(this._trait)}set(W,j){return this._set(W,[...W].sort(X),j)}_set(W,j,U){const Y=this.indexes,ne=this.sortedIndexes;this.indexes=W,this.sortedIndexes=j;const J=x(ne,W);return this.renderer.renderIndexes(J),this._onChange.fire({indexes:W,browserEvent:U}),Y}get(){return this.indexes}contains(W){return(0,b.binarySearch)(this.sortedIndexes,W,X)>=0}dispose(){(0,l.dispose)(this._onChange)}}Ve([i.memoize],m.prototype,"renderer",null);class _ extends m{constructor(W){super("selected");this.setAriaSelected=W}renderIndex(W,j){super.renderIndex(W,j),this.setAriaSelected&&(this.contains(W)?j.setAttribute("aria-selected","true"):j.setAttribute("aria-selected","false"))}}class f{constructor(W,j,U){this.trait=W,this.view=j,this.identityProvider=U}splice(W,j,U){if(!this.identityProvider)return this.trait.splice(W,j,U.map(()=>!1));const Y=this.trait.get().map(J=>this.identityProvider.getId(this.view.element(J)).toString()),ne=U.map(J=>Y.indexOf(this.identityProvider.getId(J).toString())>-1);this.trait.splice(W,j,ne)}}function c(z){return z.tagName==="INPUT"||z.tagName==="TEXTAREA"}e.isInputElement=c;function C(z){return z.classList.contains("monaco-editor")?!0:z.classList.contains("monaco-list")||!z.parentElement?!1:C(z.parentElement)}e.isMonacoEditor=C;class y{constructor(W,j,U){this.list=W,this.view=j,this.disposables=new l.DisposableStore,this.multipleSelectionDisposables=new l.DisposableStore,this.onKeyDown.filter(Y=>Y.keyCode===3).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(Y=>Y.keyCode===16).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(Y=>Y.keyCode===18).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(Y=>Y.keyCode===11).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(Y=>Y.keyCode===12).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(Y=>Y.keyCode===9).on(this.onEscape,this,this.disposables),U.multipleSelectionSupport!==!1&&this.onKeyDown.filter(Y=>(u.isMacintosh?Y.metaKey:Y.ctrlKey)&&Y.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return t.Event.chain(this.disposables.add(new N.DomEmitter(this.view.domNode,"keydown")).event).filter(W=>!c(W.target)).map(W=>new M.StandardKeyboardEvent(W))}updateOptions(W){W.multipleSelectionSupport!==void 0&&(this.multipleSelectionDisposables.clear(),W.multipleSelectionSupport&&this.onKeyDown.filter(j=>(u.isMacintosh?j.metaKey:j.ctrlKey)&&j.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(W){W.preventDefault(),W.stopPropagation(),this.list.setSelection(this.list.getFocus(),W.browserEvent)}onUpArrow(W){W.preventDefault(),W.stopPropagation(),this.list.focusPrevious(1,!1,W.browserEvent);const j=this.list.getFocus()[0];this.list.setAnchor(j),this.list.reveal(j),this.view.domNode.focus()}onDownArrow(W){W.preventDefault(),W.stopPropagation(),this.list.focusNext(1,!1,W.browserEvent);const j=this.list.getFocus()[0];this.list.setAnchor(j),this.list.reveal(j),this.view.domNode.focus()}onPageUpArrow(W){W.preventDefault(),W.stopPropagation(),this.list.focusPreviousPage(W.browserEvent);const j=this.list.getFocus()[0];this.list.setAnchor(j),this.list.reveal(j),this.view.domNode.focus()}onPageDownArrow(W){W.preventDefault(),W.stopPropagation(),this.list.focusNextPage(W.browserEvent);const j=this.list.getFocus()[0];this.list.setAnchor(j),this.list.reveal(j),this.view.domNode.focus()}onCtrlA(W){W.preventDefault(),W.stopPropagation(),this.list.setSelection((0,b.range)(this.list.length),W.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(W){this.list.getSelection().length&&(W.preventDefault(),W.stopPropagation(),this.list.setSelection([],W.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}Ve([i.memoize],y.prototype,"onKeyDown",null);var w;(function(z){z[z.Idle=0]="Idle",z[z.Typing=1]="Typing"})(w||(w={})),e.DefaultKeyboardNavigationDelegate=new class{mightProducePrintableCharacter(z){return z.ctrlKey||z.metaKey||z.altKey?!1:z.keyCode>=31&&z.keyCode<=56||z.keyCode>=21&&z.keyCode<=30||z.keyCode>=93&&z.keyCode<=102||z.keyCode>=80&&z.keyCode<=90}};class D{constructor(W,j,U,Y){this.list=W,this.view=j,this.keyboardNavigationLabelProvider=U,this.delegate=Y,this.enabled=!1,this.state=w.Idle,this.automaticKeyboardNavigation=!0,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new l.DisposableStore,this.disposables=new l.DisposableStore,this.updateOptions(W.options)}updateOptions(W){(typeof W.enableKeyboardNavigation=="undefined"?!0:!!W.enableKeyboardNavigation)?this.enable():this.disable(),typeof W.automaticKeyboardNavigation!="undefined"&&(this.automaticKeyboardNavigation=W.automaticKeyboardNavigation)}toggle(){this.triggered=!this.triggered}enable(){if(this.enabled)return;const W=t.Event.chain(this.enabledDisposables.add(new N.DomEmitter(this.view.domNode,"keydown")).event).filter(Y=>!c(Y.target)).filter(()=>this.automaticKeyboardNavigation||this.triggered).map(Y=>new M.StandardKeyboardEvent(Y)).filter(Y=>this.delegate.mightProducePrintableCharacter(Y)).forEach(Y=>Y.preventDefault()).map(Y=>Y.browserEvent.key).event,j=t.Event.debounce(W,()=>null,800);t.Event.reduce(t.Event.any(W,j),(Y,ne)=>ne===null?null:(Y||"")+ne)(this.onInput,this,this.enabledDisposables),j(this.onClear,this,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){!this.enabled||(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var W;const j=this.list.getFocus();if(j.length>0&&j[0]===this.previouslyFocused){const U=(W=this.list.options.accessibilityProvider)===null||W===void 0?void 0:W.getAriaLabel(this.list.element(j[0]));U&&(0,g.alert)(U)}this.previouslyFocused=-1}onInput(W){if(!W){this.state=w.Idle,this.triggered=!1;return}const j=this.list.getFocus(),U=j.length>0?j[0]:0,Y=this.state===w.Idle?1:0;this.state=w.Typing;for(let ne=0;ne<this.list.length;ne++){const J=(U+ne+Y)%this.list.length,re=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(J)),ge=re&&re.toString();if(typeof ge=="undefined"||(0,a.matchesPrefix)(W,ge)){this.previouslyFocused=U,this.list.setFocus([J]),this.list.reveal(J);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class I{constructor(W,j){this.list=W,this.view=j,this.disposables=new l.DisposableStore,t.Event.chain(this.disposables.add(new N.DomEmitter(j.domNode,"keydown")).event).filter(Y=>!c(Y.target)).map(Y=>new M.StandardKeyboardEvent(Y)).filter(Y=>Y.keyCode===2&&!Y.ctrlKey&&!Y.metaKey&&!Y.shiftKey&&!Y.altKey).on(this.onTab,this,this.disposables)}onTab(W){if(W.target!==this.view.domNode)return;const j=this.list.getFocus();if(j.length===0)return;const U=this.view.domElement(j[0]);if(!U)return;const Y=U.querySelector("[tabIndex]");if(!Y||!(Y instanceof HTMLElement)||Y.tabIndex===-1)return;const ne=window.getComputedStyle(Y);ne.visibility==="hidden"||ne.display==="none"||(W.preventDefault(),W.stopPropagation(),Y.focus())}dispose(){this.disposables.dispose()}}function T(z){return u.isMacintosh?z.browserEvent.metaKey:z.browserEvent.ctrlKey}e.isSelectionSingleChangeEvent=T;function F(z){return z.browserEvent.shiftKey}e.isSelectionRangeChangeEvent=F;function P(z){return z instanceof MouseEvent&&z.button===2}const R={isSelectionSingleChangeEvent:T,isSelectionRangeChangeEvent:F};class A{constructor(W){this.list=W,this.disposables=new l.DisposableStore,this._onPointer=new t.Emitter,this.onPointer=this._onPointer.event,W.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||R),this.mouseSupport=typeof W.options.mouseSupport=="undefined"||!!W.options.mouseSupport,this.mouseSupport&&(W.onMouseDown(this.onMouseDown,this,this.disposables),W.onContextMenu(this.onContextMenu,this,this.disposables),W.onMouseDblClick(this.onDoubleClick,this,this.disposables),W.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(E.Gesture.addTarget(W.getHTMLElement()))),t.Event.any(W.onMouseClick,W.onMouseMiddleClick,W.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(W){W.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,W.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||R))}isSelectionSingleChangeEvent(W){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(W):!1}isSelectionRangeChangeEvent(W){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(W):!1}isSelectionChangeEvent(W){return this.isSelectionSingleChangeEvent(W)||this.isSelectionRangeChangeEvent(W)}onMouseDown(W){C(W.browserEvent.target)||document.activeElement!==W.browserEvent.target&&this.list.domFocus()}onContextMenu(W){if(C(W.browserEvent.target))return;const j=typeof W.index=="undefined"?[]:[W.index];this.list.setFocus(j,W.browserEvent)}onViewPointer(W){if(!this.mouseSupport||c(W.browserEvent.target)||C(W.browserEvent.target))return;const j=W.index;if(typeof j=="undefined"){this.list.setFocus([],W.browserEvent),this.list.setSelection([],W.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionRangeChangeEvent(W))return this.changeSelection(W);if(this.isSelectionChangeEvent(W))return this.changeSelection(W);this.list.setFocus([j],W.browserEvent),this.list.setAnchor(j),P(W.browserEvent)||this.list.setSelection([j],W.browserEvent),this._onPointer.fire(W)}onDoubleClick(W){if(c(W.browserEvent.target)||C(W.browserEvent.target)||this.isSelectionChangeEvent(W))return;const j=this.list.getFocus();this.list.setSelection(j,W.browserEvent)}changeSelection(W){const j=W.index;let U=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(W)){if(typeof U=="undefined"){const oe=this.list.getFocus()[0];U=oe!=null?oe:j,this.list.setAnchor(U)}const Y=Math.min(U,j),ne=Math.max(U,j),J=(0,b.range)(Y,ne+1),re=this.list.getSelection(),ge=B(x(re,[U]),U);if(ge.length===0)return;const pe=x(J,K(re,ge));this.list.setSelection(pe,W.browserEvent),this.list.setFocus([j],W.browserEvent)}else if(this.isSelectionSingleChangeEvent(W)){const Y=this.list.getSelection(),ne=Y.filter(J=>J!==j);this.list.setFocus([j]),this.list.setAnchor(j),Y.length===ne.length?this.list.setSelection([...ne,j],W.browserEvent):this.list.setSelection(ne,W.browserEvent)}}dispose(){this.disposables.dispose()}}e.MouseController=A;class O{constructor(W,j){this.styleElement=W,this.selectorSuffix=j}style(W){const j=this.selectorSuffix&&`.${this.selectorSuffix}`,U=[];W.listBackground&&(W.listBackground.isOpaque()?U.push(`.monaco-list${j} .monaco-list-rows { background: ${W.listBackground}; }`):u.isMacintosh||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),W.listFocusBackground&&(U.push(`.monaco-list${j}:focus .monaco-list-row.focused { background-color: ${W.listFocusBackground}; }`),U.push(`.monaco-list${j}:focus .monaco-list-row.focused:hover { background-color: ${W.listFocusBackground}; }`)),W.listFocusForeground&&U.push(`.monaco-list${j}:focus .monaco-list-row.focused { color: ${W.listFocusForeground}; }`),W.listActiveSelectionBackground&&(U.push(`.monaco-list${j}:focus .monaco-list-row.selected { background-color: ${W.listActiveSelectionBackground}; }`),U.push(`.monaco-list${j}:focus .monaco-list-row.selected:hover { background-color: ${W.listActiveSelectionBackground}; }`)),W.listActiveSelectionForeground&&U.push(`.monaco-list${j}:focus .monaco-list-row.selected { color: ${W.listActiveSelectionForeground}; }`),W.listActiveSelectionIconForeground&&U.push(`.monaco-list${j}:focus .monaco-list-row.selected .codicon { color: ${W.listActiveSelectionIconForeground}; }`),W.listFocusAndSelectionBackground&&U.push(`
				.monaco-drag-image,
				.monaco-list${j}:focus .monaco-list-row.selected.focused { background-color: ${W.listFocusAndSelectionBackground}; }
			`),W.listFocusAndSelectionForeground&&U.push(`
				.monaco-drag-image,
				.monaco-list${j}:focus .monaco-list-row.selected.focused { color: ${W.listFocusAndSelectionForeground}; }
			`),W.listInactiveFocusForeground&&(U.push(`.monaco-list${j} .monaco-list-row.focused { color:  ${W.listInactiveFocusForeground}; }`),U.push(`.monaco-list${j} .monaco-list-row.focused:hover { color:  ${W.listInactiveFocusForeground}; }`)),W.listInactiveSelectionIconForeground&&U.push(`.monaco-list${j} .monaco-list-row.focused .codicon { color:  ${W.listInactiveSelectionIconForeground}; }`),W.listInactiveFocusBackground&&(U.push(`.monaco-list${j} .monaco-list-row.focused { background-color:  ${W.listInactiveFocusBackground}; }`),U.push(`.monaco-list${j} .monaco-list-row.focused:hover { background-color:  ${W.listInactiveFocusBackground}; }`)),W.listInactiveSelectionBackground&&(U.push(`.monaco-list${j} .monaco-list-row.selected { background-color:  ${W.listInactiveSelectionBackground}; }`),U.push(`.monaco-list${j} .monaco-list-row.selected:hover { background-color:  ${W.listInactiveSelectionBackground}; }`)),W.listInactiveSelectionForeground&&U.push(`.monaco-list${j} .monaco-list-row.selected { color: ${W.listInactiveSelectionForeground}; }`),W.listHoverBackground&&U.push(`.monaco-list${j}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${W.listHoverBackground}; }`),W.listHoverForeground&&U.push(`.monaco-list${j} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${W.listHoverForeground}; }`),W.listSelectionOutline&&U.push(`.monaco-list${j} .monaco-list-row.selected { outline: 1px dotted ${W.listSelectionOutline}; outline-offset: -1px; }`),W.listFocusOutline&&U.push(`
				.monaco-drag-image,
				.monaco-list${j}:focus .monaco-list-row.focused { outline: 1px solid ${W.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${j}.last-focused .monaco-list-row.focused { outline: 1px solid ${W.listFocusOutline}; outline-offset: -1px; }
			`),W.listInactiveFocusOutline&&U.push(`.monaco-list${j} .monaco-list-row.focused { outline: 1px dotted ${W.listInactiveFocusOutline}; outline-offset: -1px; }`),W.listHoverOutline&&U.push(`.monaco-list${j} .monaco-list-row:hover { outline: 1px dashed ${W.listHoverOutline}; outline-offset: -1px; }`),W.listDropBackground&&U.push(`
				.monaco-list${j}.drop-target,
				.monaco-list${j} .monaco-list-rows.drop-target,
				.monaco-list${j} .monaco-list-row.drop-target { background-color: ${W.listDropBackground} !important; color: inherit !important; }
			`),W.listFilterWidgetBackground&&U.push(`.monaco-list-type-filter { background-color: ${W.listFilterWidgetBackground} }`),W.listFilterWidgetOutline&&U.push(`.monaco-list-type-filter { border: 1px solid ${W.listFilterWidgetOutline}; }`),W.listFilterWidgetNoMatchesOutline&&U.push(`.monaco-list-type-filter.no-matches { border: 1px solid ${W.listFilterWidgetNoMatchesOutline}; }`),W.listMatchesShadow&&U.push(`.monaco-list-type-filter { box-shadow: 1px 1px 1px ${W.listMatchesShadow}; }`),W.tableColumnsBorder&&U.push(`
				.monaco-table:hover > .monaco-split-view2,
				.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${W.tableColumnsBorder};
			}`),W.tableOddRowsBackgroundColor&&U.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${W.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=U.join(`
`)}}e.DefaultStyleController=O;const k={listFocusBackground:v.Color.fromHex("#7FB0D0"),listActiveSelectionBackground:v.Color.fromHex("#0E639C"),listActiveSelectionForeground:v.Color.fromHex("#FFFFFF"),listActiveSelectionIconForeground:v.Color.fromHex("#FFFFFF"),listFocusAndSelectionBackground:v.Color.fromHex("#094771"),listFocusAndSelectionForeground:v.Color.fromHex("#FFFFFF"),listInactiveSelectionBackground:v.Color.fromHex("#3F3F46"),listInactiveSelectionIconForeground:v.Color.fromHex("#FFFFFF"),listHoverBackground:v.Color.fromHex("#2A2D2E"),listDropBackground:v.Color.fromHex("#383B3D"),treeIndentGuidesStroke:v.Color.fromHex("#a9a9a9"),tableColumnsBorder:v.Color.fromHex("#cccccc").transparent(.2),tableOddRowsBackgroundColor:v.Color.fromHex("#cccccc").transparent(.04)},V={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}}};function B(z,W){const j=z.indexOf(W);if(j===-1)return[];const U=[];let Y=j-1;for(;Y>=0&&z[Y]===W-(j-Y);)U.push(z[Y--]);for(U.reverse(),Y=j;Y<z.length&&z[Y]===W+(Y-j);)U.push(z[Y++]);return U}function x(z,W){const j=[];let U=0,Y=0;for(;U<z.length||Y<W.length;)if(U>=z.length)j.push(W[Y++]);else if(Y>=W.length)j.push(z[U++]);else if(z[U]===W[Y]){j.push(z[U]),U++,Y++;continue}else z[U]<W[Y]?j.push(z[U++]):j.push(W[Y++]);return j}function K(z,W){const j=[];let U=0,Y=0;for(;U<z.length||Y<W.length;)if(U>=z.length)j.push(W[Y++]);else if(Y>=W.length)j.push(z[U++]);else if(z[U]===W[Y]){U++,Y++;continue}else z[U]<W[Y]?j.push(z[U++]):Y++;return j}const X=(z,W)=>z-W;class Z{constructor(W,j){this._templateId=W,this.renderers=j}get templateId(){return this._templateId}renderTemplate(W){return this.renderers.map(j=>j.renderTemplate(W))}renderElement(W,j,U,Y){let ne=0;for(const J of this.renderers)J.renderElement(W,j,U[ne++],Y)}disposeElement(W,j,U,Y){let ne=0;for(const J of this.renderers)J.disposeElement&&J.disposeElement(W,j,U[ne],Y),ne+=1}disposeTemplate(W){let j=0;for(const U of this.renderers)U.disposeTemplate(W[j++])}}class q{constructor(W){this.accessibilityProvider=W,this.templateId="a18n"}renderTemplate(W){return W}renderElement(W,j,U){const Y=this.accessibilityProvider.getAriaLabel(W);Y?U.setAttribute("aria-label",Y):U.removeAttribute("aria-label");const ne=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(W);typeof ne=="number"?U.setAttribute("aria-level",`${ne}`):U.removeAttribute("aria-level")}disposeTemplate(W){}}class H{constructor(W,j){this.list=W,this.dnd=j}getDragElements(W){const j=this.list.getSelectedElements();return j.indexOf(W)>-1?j:[W]}getDragURI(W){return this.dnd.getDragURI(W)}getDragLabel(W,j){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(W,j)}onDragStart(W,j){this.dnd.onDragStart&&this.dnd.onDragStart(W,j)}onDragOver(W,j,U,Y){return this.dnd.onDragOver(W,j,U,Y)}onDragLeave(W,j,U,Y){var ne,J;(J=(ne=this.dnd).onDragLeave)===null||J===void 0||J.call(ne,W,j,U,Y)}onDragEnd(W){this.dnd.onDragEnd&&this.dnd.onDragEnd(W)}drop(W,j,U,Y){this.dnd.drop(W,j,U,Y)}}class G{constructor(W,j,U,Y,ne=V){var J;this.user=W,this._options=ne,this.focus=new m("focused"),this.anchor=new m("anchor"),this.eventBufferer=new t.EventBufferer,this._ariaLabel="",this.disposables=new l.DisposableStore,this._onDidDispose=new t.Emitter,this.onDidDispose=this._onDidDispose.event;const re=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(J=this._options.accessibilityProvider)===null||J===void 0?void 0:J.getWidgetRole():"list";this.selection=new _(re!=="listbox"),(0,d.mixin)(ne,k,!1);const ge=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=ne.accessibilityProvider,this.accessibilityProvider&&(ge.push(new q(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant&&this.accessibilityProvider.onDidChangeActiveDescendant(this.onDidChangeActiveDescendant,this,this.disposables)),Y=Y.map(oe=>new Z(oe.templateId,[...ge,oe]));const pe=Object.assign(Object.assign({},ne),{dnd:ne.dnd&&new H(this,ne.dnd)});if(this.view=new s.ListView(j,U,Y,pe),this.view.domNode.setAttribute("role",re),ne.styleController)this.styleController=ne.styleController(this.view.domId);else{const oe=(0,L.createStyleSheet)(this.view.domNode);this.styleController=new O(oe,this.view.domId)}if(this.spliceable=new S.CombinedSpliceable([new f(this.focus,this.view,ne.identityProvider),new f(this.selection,this.view,ne.identityProvider),new f(this.anchor,this.view,ne.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new I(this,this.view)),(typeof ne.keyboardSupport!="boolean"||ne.keyboardSupport)&&(this.keyboardController=new y(this,this.view,ne),this.disposables.add(this.keyboardController)),ne.keyboardNavigationLabelProvider){const oe=ne.keyboardNavigationDelegate||e.DefaultKeyboardNavigationDelegate;this.typeLabelController=new D(this,this.view,ne.keyboardNavigationLabelProvider,oe),this.disposables.add(this.typeLabelController)}this.mouseController=this.createMouseController(ne),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return t.Event.map(this.eventBufferer.wrapEvent(this.focus.onChange),W=>this.toListEvent(W))}get onDidChangeSelection(){return t.Event.map(this.eventBufferer.wrapEvent(this.selection.onChange),W=>this.toListEvent(W))}get domId(){return this.view.domId}get onDidScroll(){return this.view.onDidScroll}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseUp(){return this.view.onMouseUp}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onMouseMove(){return this.view.onMouseMove}get onMouseOut(){return this.view.onMouseOut}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let W=!1;const j=t.Event.chain(this.disposables.add(new N.DomEmitter(this.view.domNode,"keydown")).event).map(ne=>new M.StandardKeyboardEvent(ne)).filter(ne=>W=ne.keyCode===58||ne.shiftKey&&ne.keyCode===68).map(N.stopEvent).filter(()=>!1).event,U=t.Event.chain(this.disposables.add(new N.DomEmitter(this.view.domNode,"keyup")).event).forEach(()=>W=!1).map(ne=>new M.StandardKeyboardEvent(ne)).filter(ne=>ne.keyCode===58||ne.shiftKey&&ne.keyCode===68).map(N.stopEvent).map(({browserEvent:ne})=>{const J=this.getFocus(),re=J.length?J[0]:void 0,ge=typeof re!="undefined"?this.view.element(re):void 0,pe=typeof re!="undefined"?this.view.domElement(re):this.view.domNode;return{index:re,element:ge,anchor:pe,browserEvent:ne}}).event,Y=t.Event.chain(this.view.onContextMenu).filter(ne=>!W).map(({element:ne,index:J,browserEvent:re})=>({element:ne,index:J,anchor:{x:re.pageX+1,y:re.pageY},browserEvent:re})).event;return t.Event.any(j,U,Y)}get onKeyDown(){return this.disposables.add(new N.DomEmitter(this.view.domNode,"keydown")).event}get onKeyUp(){return this.disposables.add(new N.DomEmitter(this.view.domNode,"keyup")).event}get onKeyPress(){return this.disposables.add(new N.DomEmitter(this.view.domNode,"keypress")).event}get onDidFocus(){return t.Event.signal(this.disposables.add(new N.DomEmitter(this.view.domNode,"focus",!0)).event)}get onDidBlur(){return t.Event.signal(this.disposables.add(new N.DomEmitter(this.view.domNode,"blur",!0)).event)}createMouseController(W){return new A(this)}updateOptions(W={}){var j;this._options=Object.assign(Object.assign({},this._options),W),this.typeLabelController&&this.typeLabelController.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(W),(j=this.keyboardController)===null||j===void 0||j.updateOptions(W),this.view.updateOptions(W)}get options(){return this._options}splice(W,j,U=[]){if(W<0||W>this.view.length)throw new r.ListError(this.user,`Invalid start index: ${W}`);if(j<0)throw new r.ListError(this.user,`Invalid delete count: ${j}`);j===0&&U.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(W,j,U))}updateWidth(W){this.view.updateWidth(W)}updateElementHeight(W,j){this.view.updateElementHeight(W,j,null)}rerender(){this.view.rerender()}element(W){return this.view.element(W)}indexOf(W){return this.view.indexOf(W)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get onDidChangeContentHeight(){return this.view.onDidChangeContentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(W){this.view.setScrollTop(W)}get scrollLeft(){return this.view.getScrollLeft()}set scrollLeft(W){this.view.setScrollLeft(W)}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get firstVisibleIndex(){return this.view.firstVisibleIndex}get lastVisibleIndex(){return this.view.lastVisibleIndex}get ariaLabel(){return this._ariaLabel}set ariaLabel(W){this._ariaLabel=W,this.view.domNode.setAttribute("aria-label",W)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(W,j){this.view.layout(W,j)}toggleKeyboardNavigation(){this.typeLabelController&&this.typeLabelController.toggle()}setSelection(W,j){for(const U of W)if(U<0||U>=this.length)throw new r.ListError(this.user,`Invalid index ${U}`);this.selection.set(W,j)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(W=>this.view.element(W))}setAnchor(W){if(typeof W=="undefined"){this.anchor.set([]);return}if(W<0||W>=this.length)throw new r.ListError(this.user,`Invalid index ${W}`);this.anchor.set([W])}getAnchor(){return(0,b.firstOrDefault)(this.anchor.get(),void 0)}getAnchorElement(){const W=this.getAnchor();return typeof W=="undefined"?void 0:this.element(W)}setFocus(W,j){for(const U of W)if(U<0||U>=this.length)throw new r.ListError(this.user,`Invalid index ${U}`);this.focus.set(W,j)}focusNext(W=1,j=!1,U,Y){if(this.length===0)return;const ne=this.focus.get(),J=this.findNextIndex(ne.length>0?ne[0]+W:0,j,Y);J>-1&&this.setFocus([J],U)}focusPrevious(W=1,j=!1,U,Y){if(this.length===0)return;const ne=this.focus.get(),J=this.findPreviousIndex(ne.length>0?ne[0]-W:0,j,Y);J>-1&&this.setFocus([J],U)}focusNextPage(W,j){return Me(this,void 0,void 0,function*(){let U=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);U=U===0?0:U-1;const Y=this.view.element(U),ne=this.getFocusedElements()[0];if(ne!==Y){const J=this.findPreviousIndex(U,!1,j);J>-1&&ne!==this.view.element(J)?this.setFocus([J],W):this.setFocus([U],W)}else{const J=this.view.getScrollTop();this.view.setScrollTop(J+this.view.renderHeight-this.view.elementHeight(U)),this.view.getScrollTop()!==J&&(this.setFocus([]),yield(0,p.timeout)(0),yield this.focusNextPage(W,j))}})}focusPreviousPage(W,j){return Me(this,void 0,void 0,function*(){let U;const Y=this.view.getScrollTop();Y===0?U=this.view.indexAt(Y):U=this.view.indexAfter(Y-1);const ne=this.view.element(U),J=this.getFocusedElements()[0];if(J!==ne){const re=this.findNextIndex(U,!1,j);re>-1&&J!==this.view.element(re)?this.setFocus([re],W):this.setFocus([U],W)}else{const re=Y;this.view.setScrollTop(Y-this.view.renderHeight),this.view.getScrollTop()!==re&&(this.setFocus([]),yield(0,p.timeout)(0),yield this.focusPreviousPage(W,j))}})}focusLast(W,j){if(this.length===0)return;const U=this.findPreviousIndex(this.length-1,!1,j);U>-1&&this.setFocus([U],W)}focusFirst(W,j){this.focusNth(0,W,j)}focusNth(W,j,U){if(this.length===0)return;const Y=this.findNextIndex(W,!1,U);Y>-1&&this.setFocus([Y],j)}findNextIndex(W,j=!1,U){for(let Y=0;Y<this.length;Y++){if(W>=this.length&&!j)return-1;if(W=W%this.length,!U||U(this.element(W)))return W;W++}return-1}findPreviousIndex(W,j=!1,U){for(let Y=0;Y<this.length;Y++){if(W<0&&!j)return-1;if(W=(this.length+W%this.length)%this.length,!U||U(this.element(W)))return W;W--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(W=>this.view.element(W))}reveal(W,j){if(W<0||W>=this.length)throw new r.ListError(this.user,`Invalid index ${W}`);const U=this.view.getScrollTop(),Y=this.view.elementTop(W),ne=this.view.elementHeight(W);if((0,n.isNumber)(j)){const J=ne-this.view.renderHeight;this.view.setScrollTop(J*(0,h.clamp)(j,0,1)+Y)}else{const J=Y+ne,re=U+this.view.renderHeight;Y<U&&J>=re||(Y<U||J>=re&&ne>=this.view.renderHeight?this.view.setScrollTop(Y):J>=re&&this.view.setScrollTop(J-this.view.renderHeight))}}getRelativeTop(W){if(W<0||W>=this.length)throw new r.ListError(this.user,`Invalid index ${W}`);const j=this.view.getScrollTop(),U=this.view.elementTop(W),Y=this.view.elementHeight(W);if(U<j||U+Y>j+this.view.renderHeight)return null;const ne=Y-this.view.renderHeight;return Math.abs((j-U)/ne)}isDOMFocused(){return this.view.domNode===document.activeElement}getHTMLElement(){return this.view.domNode}style(W){this.styleController.style(W)}toListEvent({indexes:W,browserEvent:j}){return{indexes:W,elements:W.map(U=>this.view.element(U)),browserEvent:j}}_onFocusChange(){const W=this.focus.get();this.view.domNode.classList.toggle("element-focused",W.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var W;const j=this.focus.get();if(j.length>0){let U;((W=this.accessibilityProvider)===null||W===void 0?void 0:W.getActiveDescendantId)&&(U=this.accessibilityProvider.getActiveDescendantId(this.view.element(j[0]))),this.view.domNode.setAttribute("aria-activedescendant",U||this.view.getElementDomId(j[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const W=this.selection.get();this.view.domNode.classList.toggle("selection-none",W.length===0),this.view.domNode.classList.toggle("selection-single",W.length===1),this.view.domNode.classList.toggle("selection-multiple",W.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}Ve([i.memoize],G.prototype,"onDidChangeFocus",null),Ve([i.memoize],G.prototype,"onDidChangeSelection",null),Ve([i.memoize],G.prototype,"onContextMenu",null),Ve([i.memoize],G.prototype,"onKeyDown",null),Ve([i.memoize],G.prototype,"onKeyUp",null),Ve([i.memoize],G.prototype,"onKeyPress",null),Ve([i.memoize],G.prototype,"onDidFocus",null),Ve([i.memoize],G.prototype,"onDidBlur",null),e.List=G}),define(ee[343],te([0,1,19,21,4,2,100,225]),function(Q,e,L,N,M,E,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedList=void 0;class S{constructor(t,a){this.renderer=t,this.modelProvider=a}get templateId(){return this.renderer.templateId}renderTemplate(t){return{data:this.renderer.renderTemplate(t),disposable:E.Disposable.None}}renderElement(t,a,l,h){if(l.disposable&&l.disposable.dispose(),!l.data)return;const d=this.modelProvider();if(d.isResolved(t))return this.renderer.renderElement(d.get(t),t,l.data,h);const u=new N.CancellationTokenSource,n=d.resolve(t,u.token);l.disposable={dispose:()=>u.cancel()},this.renderer.renderPlaceholder(t,l.data),n.then(r=>this.renderer.renderElement(r,t,l.data,h))}disposeTemplate(t){t.disposable&&(t.disposable.dispose(),t.disposable=void 0),t.data&&(this.renderer.disposeTemplate(t.data),t.data=void 0)}}class b{constructor(t,a){this.modelProvider=t,this.accessibilityProvider=a}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(t){const a=this.modelProvider();return a.isResolved(t)?this.accessibilityProvider.getAriaLabel(a.get(t)):null}}function p(i,t){return Object.assign(Object.assign({},t),{accessibilityProvider:t.accessibilityProvider&&new b(i,t.accessibilityProvider)})}class v{constructor(t,a,l,h,d={}){const u=()=>this.model,n=h.map(r=>new S(r,u));this.list=new g.List(t,a,l,n,p(u,d))}updateOptions(t){this.list.updateOptions(t)}getHTMLElement(){return this.list.getHTMLElement()}isDOMFocused(){return this.list.getHTMLElement()===document.activeElement}domFocus(){this.list.domFocus()}get onDidFocus(){return this.list.onDidFocus}get onDidBlur(){return this.list.onDidBlur}get widget(){return this.list}get onDidDispose(){return this.list.onDidDispose}get onMouseClick(){return M.Event.map(this.list.onMouseClick,({element:t,index:a,browserEvent:l})=>({element:t===void 0?void 0:this._model.get(t),index:a,browserEvent:l}))}get onMouseDblClick(){return M.Event.map(this.list.onMouseDblClick,({element:t,index:a,browserEvent:l})=>({element:t===void 0?void 0:this._model.get(t),index:a,browserEvent:l}))}get onTap(){return M.Event.map(this.list.onTap,({element:t,index:a,browserEvent:l})=>({element:t===void 0?void 0:this._model.get(t),index:a,browserEvent:l}))}get onPointer(){return M.Event.map(this.list.onPointer,({element:t,index:a,browserEvent:l})=>({element:t===void 0?void 0:this._model.get(t),index:a,browserEvent:l}))}get onDidChangeFocus(){return M.Event.map(this.list.onDidChangeFocus,({elements:t,indexes:a,browserEvent:l})=>({elements:t.map(h=>this._model.get(h)),indexes:a,browserEvent:l}))}get onDidChangeSelection(){return M.Event.map(this.list.onDidChangeSelection,({elements:t,indexes:a,browserEvent:l})=>({elements:t.map(h=>this._model.get(h)),indexes:a,browserEvent:l}))}get onContextMenu(){return M.Event.map(this.list.onContextMenu,({element:t,index:a,anchor:l,browserEvent:h})=>typeof t=="undefined"?{element:t,index:a,anchor:l,browserEvent:h}:{element:this._model.get(t),index:a,anchor:l,browserEvent:h})}get model(){return this._model}set model(t){this._model=t,this.list.splice(0,this.list.length,(0,L.range)(t.length))}get length(){return this.list.length}get scrollTop(){return this.list.scrollTop}set scrollTop(t){this.list.scrollTop=t}get scrollLeft(){return this.list.scrollLeft}set scrollLeft(t){this.list.scrollLeft=t}setAnchor(t){this.list.setAnchor(t)}getAnchor(){return this.list.getAnchor()}setFocus(t){this.list.setFocus(t)}focusNext(t,a){this.list.focusNext(t,a)}focusPrevious(t,a){this.list.focusPrevious(t,a)}focusNextPage(){return this.list.focusNextPage()}focusPreviousPage(){return this.list.focusPreviousPage()}focusLast(){this.list.focusLast()}focusFirst(){this.list.focusFirst()}getFocus(){return this.list.getFocus()}setSelection(t,a){this.list.setSelection(t,a)}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(t=>this.model.get(t))}layout(t,a){this.list.layout(t,a)}toggleKeyboardNavigation(){this.list.toggleKeyboardNavigation()}reveal(t,a){this.list.reveal(t,a)}style(t){this.list.style(t)}dispose(){this.list.dispose()}}e.PagedList=v}),define(ee[344],te([11]),{}),define(ee[345],te([11]),{}),define(ee[346],te([11]),{}),define(ee[227],te([0,1,7,113,64,19,28,4,2,109,136,20,346]),function(Q,e,L,N,M,E,g,S,b,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SplitView=e.Sizing=void 0;const t={separatorBorder:g.Color.transparent};class a{constructor(s,o,m,_){this.container=s,this.view=o,this.disposable=_,this._cachedVisibleSize=void 0,typeof m=="number"?(this._size=m,this._cachedVisibleSize=void 0,s.classList.add("visible")):(this._size=0,this._cachedVisibleSize=m.cachedVisibleSize)}set size(s){this._size=s}get size(){return this._size}get cachedVisibleSize(){return this._cachedVisibleSize}get visible(){return typeof this._cachedVisibleSize=="undefined"}setVisible(s,o){s!==this.visible&&(s?(this.size=(0,p.clamp)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof o=="number"?o:this.size,this.size=0),this.container.classList.toggle("visible",s),this.view.setVisible&&this.view.setVisible(s))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(s){this.container.style.pointerEvents=s?"":"none"}layout(s,o){this.layoutContainer(s),this.view.layout(this.size,s,o)}dispose(){return this.disposable.dispose(),this.view}}class l extends a{layoutContainer(s){this.container.style.top=`${s}px`,this.container.style.height=`${this.size}px`}}class h extends a{layoutContainer(s){this.container.style.left=`${s}px`,this.container.style.width=`${this.size}px`}}var d;(function(r){r[r.Idle=0]="Idle",r[r.Busy=1]="Busy"})(d||(d={}));var u;(function(r){r.Distribute={type:"distribute"};function s(m){return{type:"split",index:m}}r.Split=s;function o(m){return{type:"invisible",cachedVisibleSize:m}}r.Invisible=o})(u=e.Sizing||(e.Sizing={}));class n extends b.Disposable{constructor(s,o={}){var m,_,f,c,C;super();this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=d.Idle,this._onDidSashChange=this._register(new S.Emitter),this._onDidSashReset=this._register(new S.Emitter),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=(m=o.orientation)!==null&&m!==void 0?m:0,this.inverseAltBehavior=(_=o.inverseAltBehavior)!==null&&_!==void 0?_:!1,this.proportionalLayout=(f=o.proportionalLayout)!==null&&f!==void 0?f:!0,this.getSashOrthogonalSize=o.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),s.appendChild(this.el),this.sashContainer=(0,L.append)(this.el,(0,L.$)(".sash-container")),this.viewContainer=(0,L.$)(".split-view-container"),this.scrollable=new v.Scrollable(125,L.scheduleAtNextAnimationFrame),this.scrollableElement=this._register(new M.SmoothScrollableElement(this.viewContainer,{vertical:this.orientation===0?(c=o.scrollbarVisibility)!==null&&c!==void 0?c:1:2,horizontal:this.orientation===1?(C=o.scrollbarVisibility)!==null&&C!==void 0?C:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(y=>{this.viewContainer.scrollTop=y.scrollTop,this.viewContainer.scrollLeft=y.scrollLeft})),(0,L.append)(this.el,this.scrollableElement.getDomNode()),this.style(o.styles||t),o.descriptor&&(this.size=o.descriptor.size,o.descriptor.views.forEach((y,w)=>{const D=i.isUndefined(y.visible)||y.visible?y.size:{type:"invisible",cachedVisibleSize:y.size},I=y.view;this.doAddView(I,D,w,!0)}),this.contentSize=this.viewItems.reduce((y,w)=>y+w.size,0),this.saveProportions())}get length(){return this.viewItems.length}get minimumSize(){return this.viewItems.reduce((s,o)=>s+o.minimumSize,0)}get maximumSize(){return this.length===0?Number.POSITIVE_INFINITY:this.viewItems.reduce((s,o)=>s+o.maximumSize,0)}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(s){for(const o of this.sashItems)o.sash.orthogonalStartSash=s;this._orthogonalStartSash=s}set orthogonalEndSash(s){for(const o of this.sashItems)o.sash.orthogonalEndSash=s;this._orthogonalEndSash=s}get sashes(){return this.sashItems.map(s=>s.sash)}set startSnappingEnabled(s){this._startSnappingEnabled!==s&&(this._startSnappingEnabled=s,this.updateSashEnablement())}set endSnappingEnabled(s){this._endSnappingEnabled!==s&&(this._endSnappingEnabled=s,this.updateSashEnablement())}style(s){s.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",s.separatorBorder.toString()))}addView(s,o,m=this.viewItems.length,_){this.doAddView(s,o,m,_)}removeView(s,o){if(this.state!==d.Idle)throw new Error("Cant modify splitview");if(this.state=d.Busy,s<0||s>=this.viewItems.length)throw new Error("Index out of bounds");const _=this.viewItems.splice(s,1)[0].dispose();if(this.viewItems.length>=1){const f=Math.max(s-1,0);this.sashItems.splice(f,1)[0].disposable.dispose()}return this.relayout(),this.state=d.Idle,(o==null?void 0:o.type)==="distribute"&&this.distributeViewSizes(),_}moveView(s,o){if(this.state!==d.Idle)throw new Error("Cant modify splitview");const m=this.getViewCachedVisibleSize(s),_=typeof m=="undefined"?this.getViewSize(s):u.Invisible(m),f=this.removeView(s);this.addView(f,_,o)}swapViews(s,o){if(this.state!==d.Idle)throw new Error("Cant modify splitview");if(s>o)return this.swapViews(o,s);const m=this.getViewSize(s),_=this.getViewSize(o),f=this.removeView(o),c=this.removeView(s);this.addView(f,m,s),this.addView(c,_,o)}isViewVisible(s){if(s<0||s>=this.viewItems.length)throw new Error("Index out of bounds");return this.viewItems[s].visible}setViewVisible(s,o){if(s<0||s>=this.viewItems.length)throw new Error("Index out of bounds");this.viewItems[s].setVisible(o),this.distributeEmptySpace(s),this.layoutViews(),this.saveProportions()}getViewCachedVisibleSize(s){if(s<0||s>=this.viewItems.length)throw new Error("Index out of bounds");return this.viewItems[s].cachedVisibleSize}layout(s,o){const m=Math.max(this.size,this.contentSize);if(this.size=s,this.layoutContext=o,this.proportions)for(let _=0;_<this.viewItems.length;_++){const f=this.viewItems[_];f.size=(0,p.clamp)(Math.round(this.proportions[_]*s),f.minimumSize,f.maximumSize)}else{const _=(0,E.range)(this.viewItems.length),f=_.filter(C=>this.viewItems[C].priority===1),c=_.filter(C=>this.viewItems[C].priority===2);this.resize(this.viewItems.length-1,s-m,void 0,f,c)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(s=>s.size/this.contentSize))}onSashStart({sash:s,start:o,alt:m}){for(const C of this.viewItems)C.enabled=!1;const _=this.sashItems.findIndex(C=>C.sash===s),f=(0,b.combinedDisposable)((0,L.addDisposableListener)(document.body,"keydown",C=>c(this.sashDragState.current,C.altKey)),(0,L.addDisposableListener)(document.body,"keyup",()=>c(this.sashDragState.current,!1))),c=(C,y)=>{const w=this.viewItems.map(P=>P.size);let D=Number.NEGATIVE_INFINITY,I=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(y=!y),y)if(_===this.sashItems.length-1){const R=this.viewItems[_];D=(R.minimumSize-R.size)/2,I=(R.maximumSize-R.size)/2}else{const R=this.viewItems[_+1];D=(R.size-R.maximumSize)/2,I=(R.size-R.minimumSize)/2}let T,F;if(!y){const P=(0,E.range)(_,-1),R=(0,E.range)(_+1,this.viewItems.length),A=P.reduce((Z,q)=>Z+(this.viewItems[q].minimumSize-w[q]),0),O=P.reduce((Z,q)=>Z+(this.viewItems[q].viewMaximumSize-w[q]),0),k=R.length===0?Number.POSITIVE_INFINITY:R.reduce((Z,q)=>Z+(w[q]-this.viewItems[q].minimumSize),0),V=R.length===0?Number.NEGATIVE_INFINITY:R.reduce((Z,q)=>Z+(w[q]-this.viewItems[q].viewMaximumSize),0),B=Math.max(A,V),x=Math.min(k,O),K=this.findFirstSnapIndex(P),X=this.findFirstSnapIndex(R);if(typeof K=="number"){const Z=this.viewItems[K],q=Math.floor(Z.viewMinimumSize/2);T={index:K,limitDelta:Z.visible?B-q:B+q,size:Z.size}}if(typeof X=="number"){const Z=this.viewItems[X],q=Math.floor(Z.viewMinimumSize/2);F={index:X,limitDelta:Z.visible?x+q:x-q,size:Z.size}}}this.sashDragState={start:C,current:C,index:_,sizes:w,minDelta:D,maxDelta:I,alt:y,snapBefore:T,snapAfter:F,disposable:f}};c(o,m)}onSashChange({current:s}){const{index:o,start:m,sizes:_,alt:f,minDelta:c,maxDelta:C,snapBefore:y,snapAfter:w}=this.sashDragState;this.sashDragState.current=s;const D=s-m,I=this.resize(o,D,_,void 0,void 0,c,C,y,w);if(f){const T=o===this.sashItems.length-1,F=this.viewItems.map(V=>V.size),P=T?o:o+1,R=this.viewItems[P],A=R.size-R.maximumSize,O=R.size-R.minimumSize,k=T?o-1:o+1;this.resize(k,-I,F,void 0,void 0,A,O)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(s){this._onDidSashChange.fire(s),this.sashDragState.disposable.dispose(),this.saveProportions();for(const o of this.viewItems)o.enabled=!0}onViewChange(s,o){const m=this.viewItems.indexOf(s);m<0||m>=this.viewItems.length||(o=typeof o=="number"?o:s.size,o=(0,p.clamp)(o,s.minimumSize,s.maximumSize),this.inverseAltBehavior&&m>0?(this.resize(m-1,Math.floor((s.size-o)/2)),this.distributeEmptySpace(),this.layoutViews()):(s.size=o,this.relayout([m],void 0)))}resizeView(s,o){if(this.state!==d.Idle)throw new Error("Cant modify splitview");if(this.state=d.Busy,s<0||s>=this.viewItems.length)return;const m=(0,E.range)(this.viewItems.length).filter(C=>C!==s),_=[...m.filter(C=>this.viewItems[C].priority===1),s],f=m.filter(C=>this.viewItems[C].priority===2),c=this.viewItems[s];o=Math.round(o),o=(0,p.clamp)(o,c.minimumSize,Math.min(c.maximumSize,this.size)),c.size=o,this.relayout(_,f),this.state=d.Idle}distributeViewSizes(){const s=[];let o=0;for(const C of this.viewItems)C.maximumSize-C.minimumSize>0&&(s.push(C),o+=C.size);const m=Math.floor(o/s.length);for(const C of s)C.size=(0,p.clamp)(m,C.minimumSize,C.maximumSize);const _=(0,E.range)(this.viewItems.length),f=_.filter(C=>this.viewItems[C].priority===1),c=_.filter(C=>this.viewItems[C].priority===2);this.relayout(f,c)}getViewSize(s){return s<0||s>=this.viewItems.length?-1:this.viewItems[s].size}doAddView(s,o,m=this.viewItems.length,_){if(this.state!==d.Idle)throw new Error("Cant modify splitview");this.state=d.Busy;const f=(0,L.$)(".split-view-view");m===this.viewItems.length?this.viewContainer.appendChild(f):this.viewContainer.insertBefore(f,this.viewContainer.children.item(m));const c=s.onDidChange(T=>this.onViewChange(D,T)),C=(0,b.toDisposable)(()=>this.viewContainer.removeChild(f)),y=(0,b.combinedDisposable)(c,C);let w;typeof o=="number"?w=o:o.type==="split"?w=this.getViewSize(o.index)/2:o.type==="invisible"?w={cachedVisibleSize:o.cachedVisibleSize}:w=s.minimumSize;const D=this.orientation===0?new l(f,s,w,y):new h(f,s,w,y);if(this.viewItems.splice(m,0,D),this.viewItems.length>1){let T={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash};const F=this.orientation===0?new N.Sash(this.sashContainer,{getHorizontalSashTop:Z=>this.getSashPosition(Z),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},T),{orientation:1})):new N.Sash(this.sashContainer,{getVerticalSashLeft:Z=>this.getSashPosition(Z),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},T),{orientation:0})),P=this.orientation===0?Z=>({sash:F,start:Z.startY,current:Z.currentY,alt:Z.altKey}):Z=>({sash:F,start:Z.startX,current:Z.currentX,alt:Z.altKey}),A=S.Event.map(F.onDidStart,P)(this.onSashStart,this),k=S.Event.map(F.onDidChange,P)(this.onSashChange,this),B=S.Event.map(F.onDidEnd,()=>this.sashItems.findIndex(Z=>Z.sash===F))(this.onSashEnd,this),x=F.onDidReset(()=>{const Z=this.sashItems.findIndex(W=>W.sash===F),q=(0,E.range)(Z,-1),H=(0,E.range)(Z+1,this.viewItems.length),G=this.findFirstSnapIndex(q),z=this.findFirstSnapIndex(H);typeof G=="number"&&!this.viewItems[G].visible||typeof z=="number"&&!this.viewItems[z].visible||this._onDidSashReset.fire(Z)}),K=(0,b.combinedDisposable)(A,k,B,x,F),X={sash:F,disposable:K};this.sashItems.splice(m-1,0,X)}f.appendChild(s.element);let I;typeof o!="number"&&o.type==="split"&&(I=[o.index]),_||this.relayout([m],I),this.state=d.Idle,!_&&typeof o!="number"&&o.type==="distribute"&&this.distributeViewSizes()}relayout(s,o){const m=this.viewItems.reduce((_,f)=>_+f.size,0);this.resize(this.viewItems.length-1,this.size-m,void 0,s,o),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(s,o,m=this.viewItems.map(D=>D.size),_,f,c=Number.NEGATIVE_INFINITY,C=Number.POSITIVE_INFINITY,y,w){if(s<0||s>=this.viewItems.length)return 0;const D=(0,E.range)(s,-1),I=(0,E.range)(s+1,this.viewItems.length);if(f)for(const X of f)(0,E.pushToStart)(D,X),(0,E.pushToStart)(I,X);if(_)for(const X of _)(0,E.pushToEnd)(D,X),(0,E.pushToEnd)(I,X);const T=D.map(X=>this.viewItems[X]),F=D.map(X=>m[X]),P=I.map(X=>this.viewItems[X]),R=I.map(X=>m[X]),A=D.reduce((X,Z)=>X+(this.viewItems[Z].minimumSize-m[Z]),0),O=D.reduce((X,Z)=>X+(this.viewItems[Z].maximumSize-m[Z]),0),k=I.length===0?Number.POSITIVE_INFINITY:I.reduce((X,Z)=>X+(m[Z]-this.viewItems[Z].minimumSize),0),V=I.length===0?Number.NEGATIVE_INFINITY:I.reduce((X,Z)=>X+(m[Z]-this.viewItems[Z].maximumSize),0),B=Math.max(A,V,c),x=Math.min(k,O,C);let K=!1;if(y){const X=this.viewItems[y.index],Z=o>=y.limitDelta;K=Z!==X.visible,X.setVisible(Z,y.size)}if(!K&&w){const X=this.viewItems[w.index],Z=o<w.limitDelta;K=Z!==X.visible,X.setVisible(Z,w.size)}if(K)return this.resize(s,o,m,_,f,c,C);o=(0,p.clamp)(o,B,x);for(let X=0,Z=o;X<T.length;X++){const q=T[X],H=(0,p.clamp)(F[X]+Z,q.minimumSize,q.maximumSize);Z-=H-F[X],q.size=H}for(let X=0,Z=o;X<P.length;X++){const q=P[X],H=(0,p.clamp)(R[X]-Z,q.minimumSize,q.maximumSize);Z+=H-R[X],q.size=H}return o}distributeEmptySpace(s){const o=this.viewItems.reduce((C,y)=>C+y.size,0);let m=this.size-o;const _=(0,E.range)(this.viewItems.length-1,-1),f=_.filter(C=>this.viewItems[C].priority===1),c=_.filter(C=>this.viewItems[C].priority===2);for(const C of c)(0,E.pushToStart)(_,C);for(const C of f)(0,E.pushToEnd)(_,C);typeof s=="number"&&(0,E.pushToEnd)(_,s);for(let C=0;m!==0&&C<_.length;C++){const y=this.viewItems[_[C]],w=(0,p.clamp)(y.size+m,y.minimumSize,y.maximumSize);m-=w-y.size,y.size=w}}layoutViews(){this.contentSize=this.viewItems.reduce((o,m)=>o+m.size,0);let s=0;for(const o of this.viewItems)o.layout(s,this.layoutContext),s+=o.size;this.sashItems.forEach(o=>o.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let s=!1;const o=this.viewItems.map(y=>s=y.size-y.minimumSize>0||s);s=!1;const m=this.viewItems.map(y=>s=y.maximumSize-y.size>0||s),_=[...this.viewItems].reverse();s=!1;const f=_.map(y=>s=y.size-y.minimumSize>0||s).reverse();s=!1;const c=_.map(y=>s=y.maximumSize-y.size>0||s).reverse();let C=0;for(let y=0;y<this.sashItems.length;y++){const{sash:w}=this.sashItems[y];C+=this.viewItems[y].size;const I=!(o[y]&&c[y+1]),T=!(m[y]&&f[y+1]);if(I&&T){const F=(0,E.range)(y,-1),P=(0,E.range)(y+1,this.viewItems.length),R=this.findFirstSnapIndex(F),A=this.findFirstSnapIndex(P),O=typeof R=="number"&&!this.viewItems[R].visible,k=typeof A=="number"&&!this.viewItems[A].visible;O&&f[y]&&(C>0||this.startSnappingEnabled)?w.state=1:k&&o[y]&&(C<this.contentSize||this.endSnappingEnabled)?w.state=2:w.state=0}else I&&!T?w.state=1:!I&&T?w.state=2:w.state=3}}getSashPosition(s){let o=0;for(let m=0;m<this.sashItems.length;m++)if(o+=this.viewItems[m].size,this.sashItems[m].sash===s)return o;return 0}findFirstSnapIndex(s){for(const o of s){const m=this.viewItems[o];if(!!m.visible&&m.snap)return o}for(const o of s){const m=this.viewItems[o];if(m.visible&&m.maximumSize-m.minimumSize>0)return;if(!m.visible&&m.snap)return o}}dispose(){super.dispose(),this.viewItems.forEach(s=>s.dispose()),this.viewItems=[],this.sashItems.forEach(s=>s.disposable.dispose()),this.sashItems=[]}}e.SplitView=n}),define(ee[347],te([11]),{}),define(ee[348],te([0,1,7,100,227,4,2,347]),function(Q,e,L,N,M,E,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Table=void 0;class S{constructor(t,a,l){this.columns=t,this.getColumnSize=l,this.templateId=S.TemplateId,this.renderedTemplates=new Set;const h=new Map(a.map(d=>[d.templateId,d]));this.renderers=[];for(const d of t){const u=h.get(d.templateId);if(!u)throw new Error(`Table cell renderer for template id ${d.templateId} not found.`);this.renderers.push(u)}}renderTemplate(t){const a=(0,L.append)(t,(0,L.$)(".monaco-table-tr")),l=[],h=[];for(let u=0;u<this.columns.length;u++){const n=this.renderers[u],r=(0,L.append)(a,(0,L.$)(".monaco-table-td",{"data-col-index":u}));r.style.width=`${this.getColumnSize(u)}px`,l.push(r),h.push(n.renderTemplate(r))}const d={container:t,cellContainers:l,cellTemplateData:h};return this.renderedTemplates.add(d),d}renderElement(t,a,l,h){for(let d=0;d<this.columns.length;d++){const n=this.columns[d].project(t);this.renderers[d].renderElement(n,a,l.cellTemplateData[d],h)}}disposeElement(t,a,l,h){for(let d=0;d<this.columns.length;d++){const u=this.renderers[d];if(u.disposeElement){const r=this.columns[d].project(t);u.disposeElement(r,a,l.cellTemplateData[d],h)}}}disposeTemplate(t){for(let a=0;a<this.columns.length;a++)this.renderers[a].disposeTemplate(t.cellTemplateData[a]);(0,L.clearNode)(t.container),this.renderedTemplates.delete(t)}layoutColumn(t,a){for(const{cellContainers:l}of this.renderedTemplates)l[t].style.width=`${a}px`}}S.TemplateId="row";function b(i){return{getHeight(t){return i.getHeight(t)},getTemplateId(){return S.TemplateId}}}class p{constructor(t,a){this.column=t,this.index=a,this._onDidLayout=new E.Emitter,this.onDidLayout=this._onDidLayout.event,this.element=(0,L.$)(".monaco-table-th",{"data-col-index":a,title:t.tooltip},t.label)}get minimumSize(){var t;return(t=this.column.minimumWidth)!==null&&t!==void 0?t:120}get maximumSize(){var t;return(t=this.column.maximumWidth)!==null&&t!==void 0?t:Number.POSITIVE_INFINITY}get onDidChange(){var t;return(t=this.column.onDidChangeWidthConstraints)!==null&&t!==void 0?t:E.Event.None}layout(t){this._onDidLayout.fire([this.index,t])}}class v{constructor(t,a,l,h,d,u){this.virtualDelegate=l,this.domId=`table_id_${++v.InstanceCount}`,this.disposables=new g.DisposableStore,this.cachedWidth=0,this.cachedHeight=0,this.domNode=(0,L.append)(a,(0,L.$)(`.monaco-table.${this.domId}`));const n=h.map((o,m)=>new p(o,m)),r={size:n.reduce((o,m)=>o+m.column.weight,0),views:n.map(o=>({size:o.column.weight,view:o}))};this.splitview=this.disposables.add(new M.SplitView(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:r})),this.splitview.el.style.height=`${l.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${l.headerRowHeight}px`;const s=new S(h,d,o=>this.splitview.getViewSize(o));this.list=this.disposables.add(new N.List(t,this.domNode,b(l),[s],u)),E.Event.any(...n.map(o=>o.onDidLayout))(([o,m])=>s.layoutColumn(o,m),null,this.disposables),this.splitview.onDidSashReset(o=>{const m=h.reduce((f,c)=>f+c.weight,0),_=h[o].weight/m*this.cachedWidth;this.splitview.resizeView(o,_)},null,this.disposables),this.styleElement=(0,L.createStyleSheet)(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onDidScroll(){return this.list.onDidScroll}get onMouseClick(){return this.list.onMouseClick}get onMouseDblClick(){return this.list.onMouseDblClick}get onMouseMiddleClick(){return this.list.onMouseMiddleClick}get onPointer(){return this.list.onPointer}get onMouseUp(){return this.list.onMouseUp}get onMouseDown(){return this.list.onMouseDown}get onMouseOver(){return this.list.onMouseOver}get onMouseMove(){return this.list.onMouseMove}get onMouseOut(){return this.list.onMouseOut}get onTouchStart(){return this.list.onTouchStart}get onTap(){return this.list.onTap}get onContextMenu(){return this.list.onContextMenu}get onDidFocus(){return this.list.onDidFocus}get onDidBlur(){return this.list.onDidBlur}get scrollTop(){return this.list.scrollTop}set scrollTop(t){this.list.scrollTop=t}get scrollLeft(){return this.list.scrollLeft}set scrollLeft(t){this.list.scrollLeft=t}get scrollHeight(){return this.list.scrollHeight}get renderHeight(){return this.list.renderHeight}get onDidDispose(){return this.list.onDidDispose}updateOptions(t){this.list.updateOptions(t)}splice(t,a,l=[]){this.list.splice(t,a,l)}rerender(){this.list.rerender()}row(t){return this.list.element(t)}indexOf(t){return this.list.indexOf(t)}get length(){return this.list.length}getHTMLElement(){return this.domNode}layout(t,a){t=t!=null?t:(0,L.getContentHeight)(this.domNode),a=a!=null?a:(0,L.getContentWidth)(this.domNode),this.cachedWidth=a,this.cachedHeight=t,this.splitview.layout(a);const l=t-this.virtualDelegate.headerRowHeight;this.list.getHTMLElement().style.height=`${l}px`,this.list.layout(l,a)}toggleKeyboardNavigation(){this.list.toggleKeyboardNavigation()}style(t){const a=[];a.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=a.join(`
`),this.list.style(t)}domFocus(){this.list.domFocus()}setAnchor(t){this.list.setAnchor(t)}getAnchor(){return this.list.getAnchor()}getSelectedElements(){return this.list.getSelectedElements()}setSelection(t,a){this.list.setSelection(t,a)}getSelection(){return this.list.getSelection()}setFocus(t,a){this.list.setFocus(t,a)}focusNext(t=1,a=!1,l){this.list.focusNext(t,a,l)}focusPrevious(t=1,a=!1,l){this.list.focusPrevious(t,a,l)}focusNextPage(t){return this.list.focusNextPage(t)}focusPreviousPage(t){return this.list.focusPreviousPage(t)}focusFirst(t){this.list.focusFirst(t)}focusLast(t){this.list.focusLast(t)}getFocus(){return this.list.getFocus()}getFocusedElements(){return this.list.getFocusedElements()}reveal(t,a){this.list.reveal(t,a)}dispose(){this.disposables.dispose()}}e.Table=v,v.InstanceCount=0}),define(ee[349],te([11]),{}),define(ee[143],te([11]),{}),define(ee[228],te([0,1,7,133,143]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIconClass=void 0;const M={},E=new N.IdGenerator("quick-input-button-icon-");function g(S){if(!S)return;let b;const p=S.dark.toString();return M[p]?b=M[p]:(b=E.nextId(),L.createCSSRule(`.${b}`,`background-image: ${L.asCSSUrl(S.light||S.dark)}`),L.createCSSRule(`.vs-dark .${b}, .hc-black .${b}`,`background-image: ${L.asCSSUrl(S.dark)}`),M[p]=b),b}e.getIconClass=g}),define(ee[350],te([11]),{}),define(ee[351],te([11]),{}),define(ee[352],te([11]),{}),define(ee[353],te([11]),{}),define(ee[354],te([11]),{}),define(ee[355],te([11]),{}),define(ee[356],te([11]),{}),define(ee[357],te([11]),{}),define(ee[358],te([11]),{}),define(ee[359],te([11]),{}),define(ee[360],te([11]),{}),define(ee[361],te([11]),{}),define(ee[362],te([11]),{}),define(ee[363],te([11]),{}),define(ee[364],te([11]),{}),define(ee[365],te([11]),{}),define(ee[366],te([11]),{}),define(ee[367],te([11]),{}),define(ee[368],te([11]),{}),define(ee[369],te([11]),{}),define(ee[370],te([11]),{}),define(ee[371],te([11]),{}),define(ee[372],te([11]),{}),define(ee[373],te([11]),{}),define(ee[374],te([11]),{}),define(ee[375],te([11]),{}),define(ee[376],te([11]),{}),define(ee[377],te([11]),{}),define(ee[378],te([11]),{}),define(ee[379],te([11]),{}),define(ee[380],te([11]),{}),define(ee[381],te([11]),{}),define(ee[382],te([11]),{}),define(ee[383],te([11]),{}),define(ee[384],te([11]),{}),define(ee[385],te([11]),{}),define(ee[386],te([11]),{}),define(ee[387],te([11]),{}),define(ee[388],te([11]),{}),define(ee[389],te([11]),{}),define(ee[390],te([11]),{}),define(ee[391],te([11]),{}),define(ee[392],te([11]),{}),define(ee[393],te([11]),{}),define(ee[394],te([11]),{}),define(ee[395],te([11]),{}),define(ee[396],te([11]),{}),define(ee[229],te([0,1,2]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ElementSizeObserver=void 0;class N extends L.Disposable{constructor(E,g,S){super();this.referenceDomElement=E,this.changeCallback=S,this.width=-1,this.height=-1,this.resizeObserver=null,this.measureReferenceDomElementToken=-1,this.measureReferenceDomElement(!1,g)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this.width}getHeight(){return this.height}startObserving(){typeof ResizeObserver!="undefined"?!this.resizeObserver&&this.referenceDomElement&&(this.resizeObserver=new ResizeObserver(E=>{E&&E[0]&&E[0].contentRect?this.observe({width:E[0].contentRect.width,height:E[0].contentRect.height}):this.observe()}),this.resizeObserver.observe(this.referenceDomElement)):this.measureReferenceDomElementToken===-1&&(this.measureReferenceDomElementToken=setInterval(()=>this.observe(),100))}stopObserving(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.measureReferenceDomElementToken!==-1&&(clearInterval(this.measureReferenceDomElementToken),this.measureReferenceDomElementToken=-1)}observe(E){this.measureReferenceDomElement(!0,E)}measureReferenceDomElement(E,g){let S=0,b=0;g?(S=g.width,b=g.height):this.referenceDomElement&&(S=this.referenceDomElement.clientWidth,b=this.referenceDomElement.clientHeight),S=Math.max(5,S),b=Math.max(5,b),(this.width!==S||this.height!==b)&&(this.width=S,this.height=b,E&&this.changeCallback())}}e.ElementSizeObserver=N}),define(ee[397],te([0,1,4,2]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModelTransientSettingWatcher=e.AbstractCodeEditorService=void 0;class M extends N.Disposable{constructor(){super();this._onCodeEditorAdd=this._register(new L.Emitter),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new L.Emitter),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new L.Emitter),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new L.Emitter),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._onDidChangeTransientModelProperty=this._register(new L.Emitter),this.onDidChangeTransientModelProperty=this._onDidChangeTransientModelProperty.event,this._onDecorationTypeRegistered=this._register(new L.Emitter),this.onDecorationTypeRegistered=this._onDecorationTypeRegistered.event,this._transientWatchers={},this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null)}addCodeEditor(S){this._codeEditors[S.getId()]=S,this._onCodeEditorAdd.fire(S)}removeCodeEditor(S){delete this._codeEditors[S.getId()]&&this._onCodeEditorRemove.fire(S)}listCodeEditors(){return Object.keys(this._codeEditors).map(S=>this._codeEditors[S])}addDiffEditor(S){this._diffEditors[S.getId()]=S,this._onDiffEditorAdd.fire(S)}removeDiffEditor(S){delete this._diffEditors[S.getId()]&&this._onDiffEditorRemove.fire(S)}listDiffEditors(){return Object.keys(this._diffEditors).map(S=>this._diffEditors[S])}getFocusedCodeEditor(){let S=null;const b=this.listCodeEditors();for(const p of b){if(p.hasTextFocus())return p;p.hasWidgetFocus()&&(S=p)}return S}setModelProperty(S,b,p){const v=S.toString();let i;this._modelProperties.has(v)?i=this._modelProperties.get(v):(i=new Map,this._modelProperties.set(v,i)),i.set(b,p)}getModelProperty(S,b){const p=S.toString();if(this._modelProperties.has(p))return this._modelProperties.get(p).get(b)}setTransientModelProperty(S,b,p){const v=S.uri.toString();let i;this._transientWatchers.hasOwnProperty(v)?i=this._transientWatchers[v]:(i=new E(v,S,this),this._transientWatchers[v]=i),i.set(b,p),this._onDidChangeTransientModelProperty.fire(S)}getTransientModelProperty(S,b){const p=S.uri.toString();if(!!this._transientWatchers.hasOwnProperty(p))return this._transientWatchers[p].get(b)}getTransientModelProperties(S){const b=S.uri.toString();if(!!this._transientWatchers.hasOwnProperty(b))return this._transientWatchers[b].keys().map(p=>[p,this._transientWatchers[b].get(p)])}_removeWatcher(S){delete this._transientWatchers[S.uri]}}e.AbstractCodeEditorService=M;class E{constructor(S,b,p){this.uri=S,this._values={},b.onWillDispose(()=>p._removeWatcher(this))}set(S,b){this._values[S]=b}get(S){return this._values[S]}keys(){return Object.keys(this._values)}}e.ModelTransientSettingWatcher=E}),define(ee[230],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCharIndex=e.allCharCodes=void 0,e.allCharCodes=(()=>{const N=[];for(let M=32;M<=126;M++)N.push(M);return N.push(65533),N})();const L=(N,M)=>(N-=32,N<0||N>96?M<=2?(N+96)%96:96-1:N);e.getCharIndex=L}),define(ee[398],te([0,1,230,139]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRenderer=void 0;class M{constructor(g,S){this.scale=S,this._minimapCharRendererBrand=void 0,this.charDataNormal=M.soften(g,12/15),this.charDataLight=M.soften(g,50/60)}static soften(g,S){let b=new Uint8ClampedArray(g.length);for(let p=0,v=g.length;p<v;p++)b[p]=(0,N.toUint8)(g[p]*S);return b}renderChar(g,S,b,p,v,i,t,a,l,h,d){const u=1*this.scale,n=2*this.scale,r=d?1:n;if(S+u>g.width||b+r>g.height){console.warn("bad render request outside image data");return}const s=h?this.charDataLight:this.charDataNormal,o=(0,L.getCharIndex)(p,l),m=g.width*4,_=t.r,f=t.g,c=t.b,C=v.r-_,y=v.g-f,w=v.b-c,D=Math.max(i,a),I=g.data;let T=o*u*n,F=b*m+S*4;for(let P=0;P<r;P++){let R=F;for(let A=0;A<u;A++){const O=s[T++]/255*(i/255);I[R++]=_+C*O,I[R++]=f+y*O,I[R++]=c+w*O,I[R++]=D}F+=m}}blockRenderChar(g,S,b,p,v,i,t,a){const l=1*this.scale,h=2*this.scale,d=a?1:h;if(S+l>g.width||b+d>g.height){console.warn("bad render request outside image data");return}const u=g.width*4,n=.5*(v/255),r=i.r,s=i.g,o=i.b,m=p.r-r,_=p.g-s,f=p.b-o,c=r+m*n,C=s+_*n,y=o+f*n,w=Math.max(v,t),D=g.data;let I=b*u+S*4;for(let T=0;T<d;T++){let F=I;for(let P=0;P<l;P++)D[F++]=c,D[F++]=C,D[F++]=y,D[F++]=w;I+=u}}}e.MinimapCharRenderer=M}),define(ee[399],te([0,1,79]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prebakedMiniMaps=void 0;const N={"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,A:10,B:11,C:12,D:13,E:14,F:15},M=E=>{const g=new Uint8ClampedArray(E.length/2);for(let S=0;S<E.length;S+=2)g[S>>1]=N[E[S]]<<4|N[E[S+1]]&15;return g};e.prebakedMiniMaps={1:(0,L.once)(()=>M("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,L.once)(()=>M("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))}}),define(ee[400],te([0,1,398,230,399,139]),function(Q,e,L,N,M,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRendererFactory=void 0;class g{static create(b,p){if(this.lastCreated&&b===this.lastCreated.scale&&p===this.lastFontFamily)return this.lastCreated;let v;return M.prebakedMiniMaps[b]?v=new L.MinimapCharRenderer(M.prebakedMiniMaps[b](),b):v=g.createFromSampleData(g.createSampleData(p).data,b),this.lastFontFamily=p,this.lastCreated=v,v}static createSampleData(b){const p=document.createElement("canvas"),v=p.getContext("2d");p.style.height=`${16}px`,p.height=16,p.width=96*10,p.style.width=96*10+"px",v.fillStyle="#ffffff",v.font=`bold ${16}px ${b}`,v.textBaseline="middle";let i=0;for(const t of N.allCharCodes)v.fillText(String.fromCharCode(t),i,16/2),i+=10;return v.getImageData(0,0,96*10,16)}static createFromSampleData(b,p){const v=16*10*4*96;if(b.length!==v)throw new Error("Unexpected source in MinimapCharRenderer");let i=g._downsample(b,p);return new L.MinimapCharRenderer(i,p)}static _downsampleChar(b,p,v,i,t){const a=1*t,l=2*t;let h=i,d=0;for(let u=0;u<l;u++){const n=u/l*16,r=(u+1)/l*16;for(let s=0;s<a;s++){const o=s/a*10,m=(s+1)/a*10;let _=0,f=0;for(let C=n;C<r;C++){const y=p+Math.floor(C)*3840,w=1-(C-Math.floor(C));for(let D=o;D<m;D++){const I=1-(D-Math.floor(D)),T=y+Math.floor(D)*4,F=I*w;f+=F,_+=b[T]*b[T+3]/255*F}}const c=_/f;d=Math.max(d,c),v[h++]=(0,E.toUint8)(c)}}return d}static _downsample(b,p){const v=2*p*1*p,i=v*96,t=new Uint8ClampedArray(i);let a=0,l=0,h=0;for(let d=0;d<96;d++)h=Math.max(h,this._downsampleChar(b,l,t,a,p)),a+=v,l+=10*4;if(h>0){const d=255/h;for(let u=0;u<i;u++)t[u]*=d}return t}}e.MinimapCharRendererFactory=g}),define(ee[144],te([0,1,4]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorZoom=void 0,e.EditorZoom=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new L.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(N){N=Math.min(Math.max(-5,N),20),this._zoomLevel!==N&&(this._zoomLevel=N,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}}),define(ee[145],te([0,1,8]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorColumns=void 0;class N{static visibleColumnFromColumn(E,g,S){const b=E.length,p=g-1<b?g-1:b;let v=0,i=0;for(;i<p;){const t=L.getNextCodePoint(E,p,i);if(i+=t>=65536?2:1,t===9)v=N.nextRenderTabStop(v,S);else{let a=L.getGraphemeBreakType(t);for(;i<p;){const l=L.getNextCodePoint(E,p,i),h=L.getGraphemeBreakType(l);if(L.breakBetweenGraphemeBreakType(a,h))break;i+=l>=65536?2:1,a=h}L.isFullWidthCharacter(t)||L.isEmojiImprecise(t)?v=v+2:v=v+1}}return v}static visibleColumnsByColumns(E,g){const S=E.length;let b=new Array;b.push(-1);let p=0,v=0;for(;v<S;){const i=L.getNextCodePoint(E,S,v);if(v+=i>=65536?2:1,b.push(p),i>=65536&&b.push(p),i===9)p=N.nextRenderTabStop(p,g);else{let t=L.getGraphemeBreakType(i);for(;v<S;){const a=L.getNextCodePoint(E,S,v),l=L.getGraphemeBreakType(a);if(L.breakBetweenGraphemeBreakType(t,l))break;v+=a>=65536?2:1,b.push(p),i>=65536&&b.push(p),t=l}L.isFullWidthCharacter(i)||L.isEmojiImprecise(i)?p=p+2:p=p+1}}return b.push(p),b}static toStatusbarColumn(E,g,S){const b=E.length,p=g-1<b?g-1:b;let v=0,i=0;for(;i<p;){const t=L.getNextCodePoint(E,p,i);i+=t>=65536?2:1,t===9?v=N.nextRenderTabStop(v,S):v=v+1}return v+1}static visibleColumnFromColumn2(E,g,S){return this.visibleColumnFromColumn(g.getLineContent(S.lineNumber),S.column,E.tabSize)}static columnFromVisibleColumn(E,g,S){if(g<=0)return 1;const b=E.length;let p=0,v=1,i=0;for(;i<b;){const t=L.getNextCodePoint(E,b,i);i+=t>=65536?2:1;let a;if(t===9)a=N.nextRenderTabStop(p,S);else{let h=L.getGraphemeBreakType(t);for(;i<b;){const d=L.getNextCodePoint(E,b,i),u=L.getGraphemeBreakType(d);if(L.breakBetweenGraphemeBreakType(h,u))break;i+=d>=65536?2:1,h=u}L.isFullWidthCharacter(t)||L.isEmojiImprecise(t)?a=p+2:a=p+1}const l=i+1;if(a>=g){const h=g-p;return a-g<h?l:v}p=a,v=l}return b+1}static columnFromVisibleColumn2(E,g,S,b){let p=this.columnFromVisibleColumn(g.getLineContent(S),b,E.tabSize),v=g.getLineMinColumn(S);if(p<v)return v;let i=g.getLineMaxColumn(S);return p>i?i:p}static nextRenderTabStop(E,g){return E+g-E%g}static nextIndentTabStop(E,g){return E+g-E%g}static prevRenderTabStop(E,g){return Math.max(0,E-1-(E-1)%g)}static prevIndentTabStop(E,g){return Math.max(0,E-1-(E-1)%g)}}e.CursorColumns=N}),define(ee[101],te([0,1,139]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterSet=e.CharacterClassifier=void 0;class N{constructor(g){let S=(0,L.toUint8)(g);this._defaultValue=S,this._asciiMap=N._createAsciiMap(S),this._map=new Map}static _createAsciiMap(g){let S=new Uint8Array(256);for(let b=0;b<256;b++)S[b]=g;return S}set(g,S){let b=(0,L.toUint8)(S);g>=0&&g<256?this._asciiMap[g]=b:this._map.set(g,b)}get(g){return g>=0&&g<256?this._asciiMap[g]:this._map.get(g)||this._defaultValue}}e.CharacterClassifier=N;class M{constructor(){this._actual=new N(0)}add(g){this._actual.set(g,1)}has(g){return this._actual.get(g)===1}}e.CharacterSet=M}),define(ee[114],te([0,1,101]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMapForWordSeparators=e.WordCharacterClassifier=void 0;class N extends L.CharacterClassifier{constructor(g){super(0);for(let S=0,b=g.length;S<b;S++)this.set(g.charCodeAt(S),2);this.set(32,1),this.set(9,1)}}e.WordCharacterClassifier=N;function M(E){let g={};return S=>(g.hasOwnProperty(S)||(g[S]=E(S)),g[S])}e.getMapForWordSeparators=M(E=>new N(E))}),define(ee[13],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Position=void 0;class L{constructor(M,E){this.lineNumber=M,this.column=E}with(M=this.lineNumber,E=this.column){return M===this.lineNumber&&E===this.column?this:new L(M,E)}delta(M=0,E=0){return this.with(this.lineNumber+M,this.column+E)}equals(M){return L.equals(this,M)}static equals(M,E){return!M&&!E?!0:!!M&&!!E&&M.lineNumber===E.lineNumber&&M.column===E.column}isBefore(M){return L.isBefore(this,M)}static isBefore(M,E){return M.lineNumber<E.lineNumber?!0:E.lineNumber<M.lineNumber?!1:M.column<E.column}isBeforeOrEqual(M){return L.isBeforeOrEqual(this,M)}static isBeforeOrEqual(M,E){return M.lineNumber<E.lineNumber?!0:E.lineNumber<M.lineNumber?!1:M.column<=E.column}static compare(M,E){let g=M.lineNumber|0,S=E.lineNumber|0;if(g===S){let b=M.column|0,p=E.column|0;return b-p}return g-S}clone(){return new L(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(M){return new L(M.lineNumber,M.column)}static isIPosition(M){return M&&typeof M.lineNumber=="number"&&typeof M.column=="number"}}e.Position=L}),define(ee[3],te([0,1,13]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;class N{constructor(E,g,S,b){E>S||E===S&&g>b?(this.startLineNumber=S,this.startColumn=b,this.endLineNumber=E,this.endColumn=g):(this.startLineNumber=E,this.startColumn=g,this.endLineNumber=S,this.endColumn=b)}isEmpty(){return N.isEmpty(this)}static isEmpty(E){return E.startLineNumber===E.endLineNumber&&E.startColumn===E.endColumn}containsPosition(E){return N.containsPosition(this,E)}static containsPosition(E,g){return!(g.lineNumber<E.startLineNumber||g.lineNumber>E.endLineNumber||g.lineNumber===E.startLineNumber&&g.column<E.startColumn||g.lineNumber===E.endLineNumber&&g.column>E.endColumn)}static strictContainsPosition(E,g){return!(g.lineNumber<E.startLineNumber||g.lineNumber>E.endLineNumber||g.lineNumber===E.startLineNumber&&g.column<=E.startColumn||g.lineNumber===E.endLineNumber&&g.column>=E.endColumn)}containsRange(E){return N.containsRange(this,E)}static containsRange(E,g){return!(g.startLineNumber<E.startLineNumber||g.endLineNumber<E.startLineNumber||g.startLineNumber>E.endLineNumber||g.endLineNumber>E.endLineNumber||g.startLineNumber===E.startLineNumber&&g.startColumn<E.startColumn||g.endLineNumber===E.endLineNumber&&g.endColumn>E.endColumn)}strictContainsRange(E){return N.strictContainsRange(this,E)}static strictContainsRange(E,g){return!(g.startLineNumber<E.startLineNumber||g.endLineNumber<E.startLineNumber||g.startLineNumber>E.endLineNumber||g.endLineNumber>E.endLineNumber||g.startLineNumber===E.startLineNumber&&g.startColumn<=E.startColumn||g.endLineNumber===E.endLineNumber&&g.endColumn>=E.endColumn)}plusRange(E){return N.plusRange(this,E)}static plusRange(E,g){let S,b,p,v;return g.startLineNumber<E.startLineNumber?(S=g.startLineNumber,b=g.startColumn):g.startLineNumber===E.startLineNumber?(S=g.startLineNumber,b=Math.min(g.startColumn,E.startColumn)):(S=E.startLineNumber,b=E.startColumn),g.endLineNumber>E.endLineNumber?(p=g.endLineNumber,v=g.endColumn):g.endLineNumber===E.endLineNumber?(p=g.endLineNumber,v=Math.max(g.endColumn,E.endColumn)):(p=E.endLineNumber,v=E.endColumn),new N(S,b,p,v)}intersectRanges(E){return N.intersectRanges(this,E)}static intersectRanges(E,g){let S=E.startLineNumber,b=E.startColumn,p=E.endLineNumber,v=E.endColumn,i=g.startLineNumber,t=g.startColumn,a=g.endLineNumber,l=g.endColumn;return S<i?(S=i,b=t):S===i&&(b=Math.max(b,t)),p>a?(p=a,v=l):p===a&&(v=Math.min(v,l)),S>p||S===p&&b>v?null:new N(S,b,p,v)}equalsRange(E){return N.equalsRange(this,E)}static equalsRange(E,g){return!!E&&!!g&&E.startLineNumber===g.startLineNumber&&E.startColumn===g.startColumn&&E.endLineNumber===g.endLineNumber&&E.endColumn===g.endColumn}getEndPosition(){return N.getEndPosition(this)}static getEndPosition(E){return new L.Position(E.endLineNumber,E.endColumn)}getStartPosition(){return N.getStartPosition(this)}static getStartPosition(E){return new L.Position(E.startLineNumber,E.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(E,g){return new N(this.startLineNumber,this.startColumn,E,g)}setStartPosition(E,g){return new N(E,g,this.endLineNumber,this.endColumn)}collapseToStart(){return N.collapseToStart(this)}static collapseToStart(E){return new N(E.startLineNumber,E.startColumn,E.startLineNumber,E.startColumn)}static fromPositions(E,g=E){return new N(E.lineNumber,E.column,g.lineNumber,g.column)}static lift(E){return E?new N(E.startLineNumber,E.startColumn,E.endLineNumber,E.endColumn):null}static isIRange(E){return E&&typeof E.startLineNumber=="number"&&typeof E.startColumn=="number"&&typeof E.endLineNumber=="number"&&typeof E.endColumn=="number"}static areIntersectingOrTouching(E,g){return!(E.endLineNumber<g.startLineNumber||E.endLineNumber===g.startLineNumber&&E.endColumn<g.startColumn||g.endLineNumber<E.startLineNumber||g.endLineNumber===E.startLineNumber&&g.endColumn<E.startColumn)}static areIntersecting(E,g){return!(E.endLineNumber<g.startLineNumber||E.endLineNumber===g.startLineNumber&&E.endColumn<=g.startColumn||g.endLineNumber<E.startLineNumber||g.endLineNumber===E.startLineNumber&&g.endColumn<=E.startColumn)}static compareRangesUsingStarts(E,g){if(E&&g){const p=E.startLineNumber|0,v=g.startLineNumber|0;if(p===v){const i=E.startColumn|0,t=g.startColumn|0;if(i===t){const a=E.endLineNumber|0,l=g.endLineNumber|0;if(a===l){const h=E.endColumn|0,d=g.endColumn|0;return h-d}return a-l}return i-t}return p-v}return(E?1:0)-(g?1:0)}static compareRangesUsingEnds(E,g){return E.endLineNumber===g.endLineNumber?E.endColumn===g.endColumn?E.startLineNumber===g.startLineNumber?E.startColumn-g.startColumn:E.startLineNumber-g.startLineNumber:E.endColumn-g.endColumn:E.endLineNumber-g.endLineNumber}static spansMultipleLines(E){return E.endLineNumber>E.startLineNumber}}e.Range=N}),define(ee[231],te([0,1,8,13,3]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedScreenReaderStrategy=e.TextAreaState=e._debugComposition=void 0,e._debugComposition=!1;class E{constructor(b,p,v,i,t){this.value=b,this.selectionStart=p,this.selectionEnd=v,this.selectionStartPosition=i,this.selectionEndPosition=t}toString(){return"[ <"+this.value+">, selectionStart: "+this.selectionStart+", selectionEnd: "+this.selectionEnd+"]"}static readFromTextArea(b){return new E(b.getValue(),b.getSelectionStart(),b.getSelectionEnd(),null,null)}collapseSelection(){return new E(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(b,p,v){e._debugComposition&&console.log("writeToTextArea "+b+": "+this.toString()),p.setValue(b,this.value),v&&p.setSelectionRange(b,this.selectionStart,this.selectionEnd)}deduceEditorPosition(b){if(b<=this.selectionStart){const i=this.value.substring(b,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,i,-1)}if(b>=this.selectionEnd){const i=this.value.substring(this.selectionEnd,b);return this._finishDeduceEditorPosition(this.selectionEndPosition,i,1)}const p=this.value.substring(this.selectionStart,b);if(p.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition(this.selectionStartPosition,p,1);const v=this.value.substring(b,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,v,-1)}_finishDeduceEditorPosition(b,p,v){let i=0,t=-1;for(;(t=p.indexOf(`
`,t+1))!==-1;)i++;return[b,v*p.length,i]}static selectedText(b){return new E(b,0,b.length,null,null)}static deduceInput(b,p,v){if(!b)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};e._debugComposition&&(console.log("------------------------deduceInput"),console.log("PREVIOUS STATE: "+b.toString()),console.log("CURRENT STATE: "+p.toString()));let i=b.value,t=b.selectionStart,a=b.selectionEnd,l=p.value,h=p.selectionStart,d=p.selectionEnd;const u=i.substring(a),n=l.substring(d),r=L.commonSuffixLength(u,n);l=l.substring(0,l.length-r),i=i.substring(0,i.length-r);const s=i.substring(0,t),o=l.substring(0,h),m=L.commonPrefixLength(s,o);if(l=l.substring(m),i=i.substring(m),h-=m,t-=m,d-=m,a-=m,e._debugComposition&&(console.log("AFTER DIFFING PREVIOUS STATE: <"+i+">, selectionStart: "+t+", selectionEnd: "+a),console.log("AFTER DIFFING CURRENT STATE: <"+l+">, selectionStart: "+h+", selectionEnd: "+d)),v&&h===d&&i.length>0){let f=null;if(h===l.length?l.startsWith(i)&&(f=l.substring(i.length)):l.endsWith(i)&&(f=l.substring(0,l.length-i.length)),f!==null&&f.length>0&&(/\uFE0F/.test(f)||L.containsEmoji(f)))return{text:f,replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0}}if(h===d){if(i===l&&t===0&&a===i.length&&h===l.length&&l.indexOf(`
`)===-1&&L.containsFullWidthCharacter(l))return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};const f=s.length-m;return e._debugComposition&&console.log("REMOVE PREVIOUS: "+(s.length-m)+" chars"),{text:l,replacePrevCharCnt:f,replaceNextCharCnt:0,positionDelta:0}}const _=a-t;return{text:l,replacePrevCharCnt:_,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(b,p){if(!b)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(e._debugComposition&&(console.log("------------------------deduceAndroidCompositionInput"),console.log("PREVIOUS STATE: "+b.toString()),console.log("CURRENT STATE: "+p.toString())),b.value===p.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:p.selectionEnd-b.selectionEnd};const v=Math.min(L.commonPrefixLength(b.value,p.value),b.selectionEnd),i=Math.min(L.commonSuffixLength(b.value,p.value),b.value.length-b.selectionEnd),t=b.value.substring(v,b.value.length-i),a=p.value.substring(v,p.value.length-i),l=b.selectionStart-v,h=b.selectionEnd-v,d=p.selectionStart-v,u=p.selectionEnd-v;return e._debugComposition&&(console.log("AFTER DIFFING PREVIOUS STATE: <"+t+">, selectionStart: "+l+", selectionEnd: "+h),console.log("AFTER DIFFING CURRENT STATE: <"+a+">, selectionStart: "+d+", selectionEnd: "+u)),{text:a,replacePrevCharCnt:h,replaceNextCharCnt:t.length-h,positionDelta:u-a.length}}}e.TextAreaState=E,E.EMPTY=new E("",0,0,null,null);class g{static _getPageOfLine(b,p){return Math.floor((b-1)/p)}static _getRangeForPage(b,p){const v=b*p,i=v+1,t=v+p;return new M.Range(i,1,t+1,1)}static fromEditorSelection(b,p,v,i,t){const a=g._getPageOfLine(v.startLineNumber,i),l=g._getRangeForPage(a,i),h=g._getPageOfLine(v.endLineNumber,i),d=g._getRangeForPage(h,i),u=l.intersectRanges(new M.Range(1,1,v.startLineNumber,v.startColumn));let n=p.getValueInRange(u,1);const r=p.getLineCount(),s=p.getLineMaxColumn(r),o=d.intersectRanges(new M.Range(v.endLineNumber,v.endColumn,r,s));let m=p.getValueInRange(o,1),_;if(a===h||a+1===h)_=p.getValueInRange(v,1);else{const f=l.intersectRanges(v),c=d.intersectRanges(v);_=p.getValueInRange(f,1)+String.fromCharCode(8230)+p.getValueInRange(c,1)}if(t){const f=500;n.length>f&&(n=n.substring(n.length-f,n.length)),m.length>f&&(m=m.substring(0,f)),_.length>2*f&&(_=_.substring(0,f)+String.fromCharCode(8230)+_.substring(_.length-f,_.length))}return new E(n+_+m,n.length,n.length+_.length,new N.Position(v.startLineNumber,v.startColumn),new N.Position(v.endLineNumber,v.endColumn))}}e.PagedScreenReaderStrategy=g}),define(ee[232],te([0,1,209,4,2,34,3]),function(Q,e,L,N,M,E,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffNavigator=void 0;const S={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class b extends M.Disposable{constructor(v,i={}){super();this._onDidUpdate=this._register(new N.Emitter),this.onDidUpdate=this._onDidUpdate.event,this._editor=v,this._options=E.mixin(i,S,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(t=>{this.ignoreSelectionChange||(this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(t=>{this.revealFirst=!0})),this._init()}_init(){!!this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&this._editor.getLineChanges()!==null&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(v){this.ranges=[],v&&v.forEach(i=>{!this._options.ignoreCharChanges&&i.charChanges?i.charChanges.forEach(t=>{this.ranges.push({rhs:!0,range:new g.Range(t.modifiedStartLineNumber,t.modifiedStartColumn,t.modifiedEndLineNumber,t.modifiedEndColumn)})}):i.modifiedEndLineNumber===0?this.ranges.push({rhs:!0,range:new g.Range(i.modifiedStartLineNumber,1,i.modifiedStartLineNumber+1,1)}):this.ranges.push({rhs:!0,range:new g.Range(i.modifiedStartLineNumber,1,i.modifiedEndLineNumber+1,1)})}),this.ranges.sort((i,t)=>g.Range.compareRangesUsingStarts(i.range,t.range)),this._onDidUpdate.fire(this)}_initIdx(v){let i=!1,t=this._editor.getPosition();if(!t){this.nextIdx=0;return}for(let a=0,l=this.ranges.length;a<l&&!i;a++){let h=this.ranges[a].range;t.isBeforeOrEqual(h.getStartPosition())&&(this.nextIdx=a+(v?0:-1),i=!0)}i||(this.nextIdx=v?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}_move(v,i){if(L.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;this.nextIdx===-1?this._initIdx(v):v?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));let t=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{let a=t.range.getStartPosition();this._editor.setPosition(a),this._editor.revealRangeInCenter(t.range,i)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(v=0){this._move(!0,v)}previous(v=0){this._move(!1,v)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}e.DiffNavigator=b}),define(ee[60],te([0,1,3]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditOperation=void 0;class N{static insert(E,g){return{range:new L.Range(E.lineNumber,E.column,E.lineNumber,E.column),text:g,forceMoveMarkers:!0}}static delete(E){return{range:E,text:null}}static replace(E,g){return{range:E,text:g}}static replaceMove(E,g){return{range:E,text:g,forceMoveMarkers:!0}}}e.EditOperation=N}),define(ee[401],te([0,1,8,60,3]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.trimTrailingWhitespace=e.TrimTrailingWhitespaceCommand=void 0;class E{constructor(b,p){this._selection=b,this._cursors=p,this._selectionId=null}getEditOperations(b,p){let v=g(b,this._cursors);for(let i=0,t=v.length;i<t;i++){let a=v[i];p.addEditOperation(a.range,a.text)}this._selectionId=p.trackSelection(this._selection)}computeCursorState(b,p){return p.getTrackedSelection(this._selectionId)}}e.TrimTrailingWhitespaceCommand=E;function g(S,b){b.sort((a,l)=>a.lineNumber===l.lineNumber?a.column-l.column:a.lineNumber-l.lineNumber);for(let a=b.length-2;a>=0;a--)b[a].lineNumber===b[a+1].lineNumber&&b.splice(a,1);let p=[],v=0,i=0,t=b.length;for(let a=1,l=S.getLineCount();a<=l;a++){let h=S.getLineContent(a),d=h.length+1,u=0;if(i<t&&b[i].lineNumber===a&&(u=b[i].column,i++,u===d)||h.length===0)continue;let n=L.lastNonWhitespaceIndex(h),r=0;if(n===-1)r=1;else if(n!==h.length-1)r=n+2;else continue;r=Math.max(u,r),p[v++]=N.EditOperation.delete(new M.Range(a,r,a,d))}return p}e.trimTrailingWhitespace=g}),define(ee[233],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RGBA8=void 0;class L{constructor(M,E,g,S){this._rgba8Brand=void 0,this.r=L._clamp(M),this.g=L._clamp(E),this.b=L._clamp(g),this.a=L._clamp(S)}equals(M){return this.r===M.r&&this.g===M.g&&this.b===M.b&&this.a===M.a}static _clamp(M){return M<0?0:M>255?255:M|0}}e.RGBA8=L,L.Empty=new L(0,0,0,0)}),define(ee[23],te([0,1,13,3]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Selection=void 0;class M extends N.Range{constructor(g,S,b,p){super(g,S,b,p);this.selectionStartLineNumber=g,this.selectionStartColumn=S,this.positionLineNumber=b,this.positionColumn=p}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(g){return M.selectionsEqual(this,g)}static selectionsEqual(g,S){return g.selectionStartLineNumber===S.selectionStartLineNumber&&g.selectionStartColumn===S.selectionStartColumn&&g.positionLineNumber===S.positionLineNumber&&g.positionColumn===S.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(g,S){return this.getDirection()===0?new M(this.startLineNumber,this.startColumn,g,S):new M(g,S,this.startLineNumber,this.startColumn)}getPosition(){return new L.Position(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new L.Position(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(g,S){return this.getDirection()===0?new M(g,S,this.endLineNumber,this.endColumn):new M(this.endLineNumber,this.endColumn,g,S)}static fromPositions(g,S=g){return new M(g.lineNumber,g.column,S.lineNumber,S.column)}static fromRange(g,S){return S===0?new M(g.startLineNumber,g.startColumn,g.endLineNumber,g.endColumn):new M(g.endLineNumber,g.endColumn,g.startLineNumber,g.startColumn)}static liftSelection(g){return new M(g.selectionStartLineNumber,g.selectionStartColumn,g.positionLineNumber,g.positionColumn)}static selectionsArrEqual(g,S){if(g&&!S||!g&&S)return!1;if(!g&&!S)return!0;if(g.length!==S.length)return!1;for(let b=0,p=g.length;b<p;b++)if(!this.selectionsEqual(g[b],S[b]))return!1;return!0}static isISelection(g){return g&&typeof g.selectionStartLineNumber=="number"&&typeof g.selectionStartColumn=="number"&&typeof g.positionLineNumber=="number"&&typeof g.positionColumn=="number"}static createWithDirection(g,S,b,p,v){return v===0?new M(g,S,b,p):new M(b,p,g,S)}}e.Selection=M}),define(ee[176],te([0,1,36,7,44,10,4,2,112,8,231,23]),function(Q,e,L,N,M,E,g,S,b,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaWrapper=e.TextAreaInput=e.InMemoryClipboardMetadataManager=e.CopyOptions=e.TextAreaSyntethicEvents=void 0;var t;(function(n){n.Tap="-monaco-textarea-synthetic-tap"})(t=e.TextAreaSyntethicEvents||(e.TextAreaSyntethicEvents={})),e.CopyOptions={forceCopyWithSyntaxHighlighting:!1};class a{constructor(){this._lastState=null}set(r,s){this._lastState={lastCopiedValue:r,data:s}}get(r){return this._lastState&&this._lastState.lastCopiedValue===r?this._lastState.data:(this._lastState=null,null)}}e.InMemoryClipboardMetadataManager=a,a.INSTANCE=new a;class l{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(r){r=r||"";const s={text:r,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=r.length,s}}class h extends S.Disposable{constructor(r,s,o,m){super();this._host=r,this._textArea=s,this._OS=o,this._browser=m,this._onFocus=this._register(new g.Emitter),this.onFocus=this._onFocus.event,this._onBlur=this._register(new g.Emitter),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new g.Emitter),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new g.Emitter),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new g.Emitter),this.onCut=this._onCut.event,this._onPaste=this._register(new g.Emitter),this.onPaste=this._onPaste.event,this._onType=this._register(new g.Emitter),this.onType=this._onType.event,this._onCompositionStart=this._register(new g.Emitter),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new g.Emitter),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new g.Emitter),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new g.Emitter),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncTriggerCut=this._register(new E.RunOnceScheduler(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new E.RunOnceScheduler(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=v.TextAreaState.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._currentComposition=null,this._nextCommand=0;let _=null;this._register(this._textArea.onKeyDown(f=>{const c=new M.StandardKeyboardEvent(f);(c.keyCode===109||this._currentComposition&&c.keyCode===1)&&c.stopPropagation(),c.equals(9)&&c.preventDefault(),_=c,this._onKeyDown.fire(c)})),this._register(this._textArea.onKeyUp(f=>{const c=new M.StandardKeyboardEvent(f);this._onKeyUp.fire(c)})),this._register(this._textArea.onCompositionStart(f=>{v._debugComposition&&console.log("[compositionstart]",f);const c=new l;if(this._currentComposition){this._currentComposition=c;return}if(this._currentComposition=c,this._OS===2&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===f.data&&(_&&_.equals(109)&&(_.code==="ArrowRight"||_.code==="ArrowLeft")||this._browser.isFirefox)){v._debugComposition&&console.log("[compositionstart] Handling long press case on macOS + arrow key or Firefox",f),c.handleCompositionUpdate("x"),this._onCompositionStart.fire({revealDeltaColumns:-1});return}if(this._browser.isAndroid){this._onCompositionStart.fire({revealDeltaColumns:-this._textAreaState.selectionStart});return}this._onCompositionStart.fire({revealDeltaColumns:0})})),this._register(this._textArea.onCompositionUpdate(f=>{v._debugComposition&&console.log("[compositionupdate]",f);const c=this._currentComposition;if(!c)return;if(this._browser.isAndroid){const y=v.TextAreaState.readFromTextArea(this._textArea),w=v.TextAreaState.deduceAndroidCompositionInput(this._textAreaState,y);this._textAreaState=y,this._onType.fire(w),this._onCompositionUpdate.fire(f);return}const C=c.handleCompositionUpdate(f.data);this._textAreaState=v.TextAreaState.readFromTextArea(this._textArea),this._onType.fire(C),this._onCompositionUpdate.fire(f)})),this._register(this._textArea.onCompositionEnd(f=>{v._debugComposition&&console.log("[compositionend]",f);const c=this._currentComposition;if(!c)return;if(this._currentComposition=null,this._browser.isAndroid){const y=v.TextAreaState.readFromTextArea(this._textArea),w=v.TextAreaState.deduceAndroidCompositionInput(this._textAreaState,y);this._textAreaState=y,this._onType.fire(w),this._onCompositionEnd.fire();return}const C=c.handleCompositionUpdate(f.data);this._textAreaState=v.TextAreaState.readFromTextArea(this._textArea),this._onType.fire(C),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(f=>{if(v._debugComposition&&console.log("[input]",f),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const c=v.TextAreaState.readFromTextArea(this._textArea),C=v.TextAreaState.deduceInput(this._textAreaState,c,this._OS===2);if(C.replacePrevCharCnt===0&&C.text.length===1&&p.isHighSurrogate(C.text.charCodeAt(0)))return;this._textAreaState=c;const y=C.text===""&&C.replacePrevCharCnt===0&&C.replaceNextCharCnt===0&&C.positionDelta===0;this._nextCommand===0?y||this._onType.fire(C):(y||this._firePaste(C.text,null),this._nextCommand=0)})),this._register(this._textArea.onCut(f=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(f),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(f=>{this._ensureClipboardGetsEditorSelection(f)})),this._register(this._textArea.onPaste(f=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),d.canUseTextData(f)){const[c,C]=d.getTextData(f);c!==""&&this._firePaste(c,C)}else this._textArea.getSelectionStart()!==this._textArea.getSelectionEnd()&&this._setAndWriteTextAreaState("paste",v.TextAreaState.EMPTY),this._nextCommand=1})),this._register(this._textArea.onFocus(()=>{const f=this._hasFocus;this._setHasFocus(!0),this._browser.isSafari&&!f&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_initializeFromTest(){this._hasFocus=!0,this._textAreaState=v.TextAreaState.readFromTextArea(this._textArea)}_installSelectionChangeListener(){let r=0;return N.addDisposableListener(document,"selectionchange",s=>{if(!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const o=Date.now(),m=o-r;if(r=o,m<5)return;const _=o-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),_<100||!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;const f=this._textArea.getValue();if(this._textAreaState.value!==f)return;const c=this._textArea.getSelectionStart(),C=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===c&&this._textAreaState.selectionEnd===C)return;const y=this._textAreaState.deduceEditorPosition(c),w=this._host.deduceModelPosition(y[0],y[1],y[2]),D=this._textAreaState.deduceEditorPosition(C),I=this._host.deduceModelPosition(D[0],D[1],D[2]),T=new i.Selection(w.lineNumber,w.column,I.lineNumber,I.column);this._onSelectionChangeRequest.fire(T)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(r){this._hasFocus!==r&&(this._hasFocus=r,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(r,s){this._hasFocus||(s=s.collapseSelection()),s.writeToTextArea(r,this._textArea,this._hasFocus),this._textAreaState=s}writeScreenReaderContent(r){this._currentComposition||this._setAndWriteTextAreaState(r,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(r){const s=this._host.getDataToCopy(d.canUseTextData(r)),o={version:1,isFromEmptySelection:s.isFromEmptySelection,multicursorText:s.multicursorText,mode:s.mode};if(a.INSTANCE.set(this._browser.isFirefox?s.text.replace(/\r\n/g,`
`):s.text,o),!d.canUseTextData(r)){this._setAndWriteTextAreaState("copy or cut",v.TextAreaState.selectedText(s.text));return}d.setTextData(r,s.text,s.html,o)}_firePaste(r,s){s||(s=a.INSTANCE.get(r)),this._onPaste.fire({text:r,metadata:s})}}e.TextAreaInput=h;class d{static canUseTextData(r){return!!r.clipboardData}static getTextData(r){if(r.clipboardData){r.preventDefault();const s=r.clipboardData.getData(b.Mimes.text);let o=null;const m=r.clipboardData.getData("vscode-editor-data");if(typeof m=="string")try{o=JSON.parse(m),o.version!==1&&(o=null)}catch(_){}return[s,o]}throw new Error("ClipboardEventUtils.getTextData: Cannot use text data!")}static setTextData(r,s,o,m){if(r.clipboardData){r.clipboardData.setData(b.Mimes.text,s),typeof o=="string"&&r.clipboardData.setData("text/html",o),r.clipboardData.setData("vscode-editor-data",JSON.stringify(m)),r.preventDefault();return}throw new Error("ClipboardEventUtils.setTextData: Cannot use text data!")}}class u extends S.Disposable{constructor(r){super();this._actual=r,this.onKeyDown=this._register(N.createEventEmitter(this._actual,"keydown")).event,this.onKeyPress=this._register(N.createEventEmitter(this._actual,"keypress")).event,this.onKeyUp=this._register(N.createEventEmitter(this._actual,"keyup")).event,this.onCompositionStart=this._register(N.createEventEmitter(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(N.createEventEmitter(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(N.createEventEmitter(this._actual,"compositionend")).event,this.onBeforeInput=this._register(N.createEventEmitter(this._actual,"beforeinput")).event,this.onInput=this._register(N.createEventEmitter(this._actual,"input")).event,this.onCut=this._register(N.createEventEmitter(this._actual,"cut")).event,this.onCopy=this._register(N.createEventEmitter(this._actual,"copy")).event,this.onPaste=this._register(N.createEventEmitter(this._actual,"paste")).event,this.onFocus=this._register(N.createEventEmitter(this._actual,"focus")).event,this.onBlur=this._register(N.createEventEmitter(this._actual,"blur")).event,this._onSyntheticTap=this._register(new g.Emitter),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(N.addDisposableListener(this._actual,t.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const r=N.getShadowRoot(this._actual);return r?r.activeElement===this._actual:N.isInDOM(this._actual)?document.activeElement===this._actual:!1}setIgnoreSelectionChangeTime(r){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(r,s){const o=this._actual;o.value!==s&&(this.setIgnoreSelectionChangeTime("setValue"),o.value=s)}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(r,s,o){const m=this._actual;let _=null;const f=N.getShadowRoot(m);f?_=f.activeElement:_=document.activeElement;const c=_===m,C=m.selectionStart,y=m.selectionEnd;if(c&&C===s&&y===o){L.isFirefox&&window.parent!==window&&m.focus();return}if(c){this.setIgnoreSelectionChangeTime("setSelectionRange"),m.setSelectionRange(s,o),L.isFirefox&&window.parent!==window&&m.focus();return}try{const w=N.saveParentsScrollTop(m);this.setIgnoreSelectionChangeTime("setSelectionRange"),m.focus(),m.setSelectionRange(s,o),N.restoreParentsScrollTop(m,w)}catch(w){}}}e.TextAreaWrapper=u}),define(ee[102],te([0,1,23]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceCommandThatPreservesSelection=e.ReplaceCommandWithOffsetCursorState=e.ReplaceCommandWithoutChangingPosition=e.ReplaceCommandThatSelectsText=e.ReplaceCommand=void 0;class N{constructor(p,v,i=!1){this._range=p,this._text=v,this.insertsAutoWhitespace=i}getEditOperations(p,v){v.addTrackedEditOperation(this._range,this._text)}computeCursorState(p,v){let t=v.getInverseEditOperations()[0].range;return L.Selection.fromPositions(t.getEndPosition())}}e.ReplaceCommand=N;class M{constructor(p,v){this._range=p,this._text=v}getEditOperations(p,v){v.addTrackedEditOperation(this._range,this._text)}computeCursorState(p,v){const t=v.getInverseEditOperations()[0].range;return L.Selection.fromRange(t,0)}}e.ReplaceCommandThatSelectsText=M;class E{constructor(p,v,i=!1){this._range=p,this._text=v,this.insertsAutoWhitespace=i}getEditOperations(p,v){v.addTrackedEditOperation(this._range,this._text)}computeCursorState(p,v){let t=v.getInverseEditOperations()[0].range;return L.Selection.fromPositions(t.getStartPosition())}}e.ReplaceCommandWithoutChangingPosition=E;class g{constructor(p,v,i,t,a=!1){this._range=p,this._text=v,this._columnDeltaOffset=t,this._lineNumberDeltaOffset=i,this.insertsAutoWhitespace=a}getEditOperations(p,v){v.addTrackedEditOperation(this._range,this._text)}computeCursorState(p,v){let t=v.getInverseEditOperations()[0].range;return L.Selection.fromPositions(t.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}e.ReplaceCommandWithOffsetCursorState=g;class S{constructor(p,v,i,t=!1){this._range=p,this._text=v,this._initialSelection=i,this._forceMoveMarkers=t,this._selectionId=null}getEditOperations(p,v){v.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=v.trackSelection(this._initialSelection)}computeCursorState(p,v){return v.getTrackedSelection(this._selectionId)}}e.ReplaceCommandThatPreservesSelection=S}),define(ee[402],te([0,1,3,23]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SurroundSelectionCommand=void 0;class M{constructor(g,S,b){this._range=g,this._charBeforeSelection=S,this._charAfterSelection=b}getEditOperations(g,S){S.addTrackedEditOperation(new L.Range(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),S.addTrackedEditOperation(new L.Range(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(g,S){let b=S.getInverseEditOperations(),p=b[0].range,v=b[1].range;return new N.Selection(p.endLineNumber,p.endColumn,v.endLineNumber,v.endColumn-this._charAfterSelection.length)}}e.SurroundSelectionCommand=M}),define(ee[89],te([0,1,8,15,98]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decodeUTF16LE=e.createStringBuilder=e.hasTextDecoder=e.getPlatformTextDecoder=void 0;let E;function g(){return E||(E=new TextDecoder("UTF-16LE")),E}let S;function b(){return S||(S=new TextDecoder("UTF-16BE")),S}let p;function v(){return p||(p=N.isLittleEndian()?g():b()),p}e.getPlatformTextDecoder=v,e.hasTextDecoder=typeof TextDecoder!="undefined",e.hasTextDecoder?(e.createStringBuilder=h=>new a(h),e.decodeUTF16LE=i):(e.createStringBuilder=h=>new l,e.decodeUTF16LE=t);function i(h,d,u){const n=new Uint16Array(h.buffer,d,u);return u>0&&(n[0]===65279||n[0]===65534)?t(h,d,u):g().decode(n)}function t(h,d,u){let n=[],r=0;for(let s=0;s<u;s++){const o=M.readUInt16LE(h,d);d+=2,n[r++]=String.fromCharCode(o)}return n.join("")}class a{constructor(d){this._capacity=d|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const d=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return v().decode(d)}_flushBuffer(){const d=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[d]:this._completedStrings[this._completedStrings.length]=d}write1(d){const u=this._capacity-this._bufferLength;u<=1&&(u===0||L.isHighSurrogate(d))&&this._flushBuffer(),this._buffer[this._bufferLength++]=d}appendASCII(d){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=d}appendASCIIString(d){const u=d.length;if(this._bufferLength+u>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=d;return}for(let n=0;n<u;n++)this._buffer[this._bufferLength++]=d.charCodeAt(n)}}class l{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(d){this._pieces[this._piecesLen++]=String.fromCharCode(d)}appendASCII(d){this._pieces[this._piecesLen++]=String.fromCharCode(d)}appendASCIIString(d){this._pieces[this._piecesLen++]=d}}}),define(ee[177],te([0,1,32,89]),function(Q,e,L,N){"use strict";var M;Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleLinesCollection=e.RenderedLinesCollection=void 0;class E{constructor(p){this._createLine=p,this._set(1,[])}flush(){this._set(1,[])}_set(p,v){this._lines=v,this._rendLineNumberStart=p}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(p){const v=p-this._rendLineNumberStart;if(v<0||v>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[v]}onLinesDeleted(p,v){if(this.getCount()===0)return null;const i=this.getStartLineNumber(),t=this.getEndLineNumber();if(v<i){const d=v-p+1;return this._rendLineNumberStart-=d,null}if(p>t)return null;let a=0,l=0;for(let d=i;d<=t;d++){const u=d-this._rendLineNumberStart;p<=d&&d<=v&&(l===0?(a=u,l=1):l++)}if(p<i){let d=0;v<i?d=v-p+1:d=i-p,this._rendLineNumberStart-=d}return this._lines.splice(a,l)}onLinesChanged(p,v){if(this.getCount()===0)return!1;const i=this.getStartLineNumber(),t=this.getEndLineNumber();let a=!1;for(let l=p;l<=v;l++)l>=i&&l<=t&&(this._lines[l-this._rendLineNumberStart].onContentChanged(),a=!0);return a}onLinesInserted(p,v){if(this.getCount()===0)return null;const i=v-p+1,t=this.getStartLineNumber(),a=this.getEndLineNumber();if(p<=t)return this._rendLineNumberStart+=i,null;if(p>a)return null;if(i+p>a)return this._lines.splice(p-this._rendLineNumberStart,a-p+1);const l=[];for(let r=0;r<i;r++)l[r]=this._createLine();const h=p-this._rendLineNumberStart,d=this._lines.slice(0,h),u=this._lines.slice(h,this._lines.length-i),n=this._lines.slice(this._lines.length-i,this._lines.length);return this._lines=d.concat(l).concat(u),n}onTokensChanged(p){if(this.getCount()===0)return!1;const v=this.getStartLineNumber(),i=this.getEndLineNumber();let t=!1;for(let a=0,l=p.length;a<l;a++){const h=p[a];if(h.toLineNumber<v||h.fromLineNumber>i)continue;const d=Math.max(v,h.fromLineNumber),u=Math.min(i,h.toLineNumber);for(let n=d;n<=u;n++){const r=n-this._rendLineNumberStart;this._lines[r].onTokensChanged(),t=!0}}return t}}e.RenderedLinesCollection=E;class g{constructor(p){this._host=p,this.domNode=this._createDomNode(),this._linesCollection=new E(()=>this._host.createVisibleLine())}_createDomNode(){const p=(0,L.createFastDomNode)(document.createElement("div"));return p.setClassName("view-layer"),p.setPosition("absolute"),p.domNode.setAttribute("role","presentation"),p.domNode.setAttribute("aria-hidden","true"),p}onConfigurationChanged(p){return!!p.hasChanged(130)}onFlushed(p){return this._linesCollection.flush(),!0}onLinesChanged(p){return this._linesCollection.onLinesChanged(p.fromLineNumber,p.toLineNumber)}onLinesDeleted(p){const v=this._linesCollection.onLinesDeleted(p.fromLineNumber,p.toLineNumber);if(v)for(let i=0,t=v.length;i<t;i++){const a=v[i].getDomNode();a&&this.domNode.domNode.removeChild(a)}return!0}onLinesInserted(p){const v=this._linesCollection.onLinesInserted(p.fromLineNumber,p.toLineNumber);if(v)for(let i=0,t=v.length;i<t;i++){const a=v[i].getDomNode();a&&this.domNode.domNode.removeChild(a)}return!0}onScrollChanged(p){return p.scrollTopChanged}onTokensChanged(p){return this._linesCollection.onTokensChanged(p.ranges)}onZonesChanged(p){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(p){return this._linesCollection.getLine(p)}renderLines(p){const v=this._linesCollection._get(),i=new S(this.domNode.domNode,this._host,p),t={rendLineNumberStart:v.rendLineNumberStart,lines:v.lines,linesLength:v.lines.length},a=i.render(t,p.startLineNumber,p.endLineNumber,p.relativeVerticalOffset);this._linesCollection._set(a.rendLineNumberStart,a.lines)}}e.VisibleLinesCollection=g;class S{constructor(p,v,i){this.domNode=p,this.host=v,this.viewportData=i}render(p,v,i,t){const a={rendLineNumberStart:p.rendLineNumberStart,lines:p.lines.slice(0),linesLength:p.linesLength};if(a.rendLineNumberStart+a.linesLength-1<v||i<a.rendLineNumberStart){a.rendLineNumberStart=v,a.linesLength=i-v+1,a.lines=[];for(let l=v;l<=i;l++)a.lines[l-v]=this.host.createVisibleLine();return this._finishRendering(a,!0,t),a}if(this._renderUntouchedLines(a,Math.max(v-a.rendLineNumberStart,0),Math.min(i-a.rendLineNumberStart,a.linesLength-1),t,v),a.rendLineNumberStart>v){const l=v,h=Math.min(i,a.rendLineNumberStart-1);l<=h&&(this._insertLinesBefore(a,l,h,t,v),a.linesLength+=h-l+1)}else if(a.rendLineNumberStart<v){const l=Math.min(a.linesLength,v-a.rendLineNumberStart);l>0&&(this._removeLinesBefore(a,l),a.linesLength-=l)}if(a.rendLineNumberStart=v,a.rendLineNumberStart+a.linesLength-1<i){const l=a.rendLineNumberStart+a.linesLength,h=i;l<=h&&(this._insertLinesAfter(a,l,h,t,v),a.linesLength+=h-l+1)}else if(a.rendLineNumberStart+a.linesLength-1>i){const l=Math.max(0,i-a.rendLineNumberStart+1),d=a.linesLength-1-l+1;d>0&&(this._removeLinesAfter(a,d),a.linesLength-=d)}return this._finishRendering(a,!1,t),a}_renderUntouchedLines(p,v,i,t,a){const l=p.rendLineNumberStart,h=p.lines;for(let d=v;d<=i;d++){const u=l+d;h[d].layoutLine(u,t[u-a])}}_insertLinesBefore(p,v,i,t,a){const l=[];let h=0;for(let d=v;d<=i;d++)l[h++]=this.host.createVisibleLine();p.lines=l.concat(p.lines)}_removeLinesBefore(p,v){for(let i=0;i<v;i++){const t=p.lines[i].getDomNode();t&&this.domNode.removeChild(t)}p.lines.splice(0,v)}_insertLinesAfter(p,v,i,t,a){const l=[];let h=0;for(let d=v;d<=i;d++)l[h++]=this.host.createVisibleLine();p.lines=p.lines.concat(l)}_removeLinesAfter(p,v){const i=p.linesLength-v;for(let t=0;t<v;t++){const a=p.lines[i+t].getDomNode();a&&this.domNode.removeChild(a)}p.lines.splice(i,v)}_finishRenderingNewLines(p,v,i,t){S._ttPolicy&&(i=S._ttPolicy.createHTML(i));const a=this.domNode.lastChild;v||!a?this.domNode.innerHTML=i:a.insertAdjacentHTML("afterend",i);let l=this.domNode.lastChild;for(let h=p.linesLength-1;h>=0;h--){const d=p.lines[h];t[h]&&(d.setDomNode(l),l=l.previousSibling)}}_finishRenderingInvalidLines(p,v,i){const t=document.createElement("div");S._ttPolicy&&(v=S._ttPolicy.createHTML(v)),t.innerHTML=v;for(let a=0;a<p.linesLength;a++){const l=p.lines[a];if(i[a]){const h=t.firstChild,d=l.getDomNode();d.parentNode.replaceChild(h,d),l.setDomNode(h)}}}_finishRendering(p,v,i){const t=S._sb,a=p.linesLength,l=p.lines,h=p.rendLineNumberStart,d=[];{t.reset();let u=!1;for(let n=0;n<a;n++){const r=l[n];d[n]=!1,!(r.getDomNode()||!r.renderLine(n+h,i[n],this.viewportData,t))&&(d[n]=!0,u=!0)}u&&this._finishRenderingNewLines(p,v,t.build(),d)}{t.reset();let u=!1;const n=[];for(let r=0;r<a;r++){const s=l[r];n[r]=!1,!(d[r]||!s.renderLine(r+h,i[r],this.viewportData,t))&&(n[r]=!0,u=!0)}u&&this._finishRenderingInvalidLines(p,t.build(),n)}}}S._ttPolicy=(M=window.trustedTypes)===null||M===void 0?void 0:M.createPolicy("editorViewLayer",{createHTML:b=>b}),S._sb=(0,N.createStringBuilder)(1e5)}),define(ee[146],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationResult2=e.TokenizationResult=e.Token=void 0;class L{constructor(g,S,b){this._tokenBrand=void 0,this.offset=g,this.type=S,this.language=b}toString(){return"("+this.offset+", "+this.type+")"}}e.Token=L;class N{constructor(g,S){this._tokenizationResultBrand=void 0,this.tokens=g,this.endState=S}}e.TokenizationResult=N;class M{constructor(g,S){this._tokenizationResult2Brand=void 0,this.tokens=g,this.endState=S}}e.TokenizationResult2=M}),define(ee[403],te([0,1,137,8]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffComputer=void 0;const M=3;function E(h,d,u,n){return new L.LcsDiff(h,d,u).ComputeDiff(n)}class g{constructor(d){const u=[],n=[];for(let r=0,s=d.length;r<s;r++)u[r]=t(d[r],1),n[r]=a(d[r],1);this.lines=d,this._startColumns=u,this._endColumns=n}getElements(){const d=[];for(let u=0,n=this.lines.length;u<n;u++)d[u]=this.lines[u].substring(this._startColumns[u]-1,this._endColumns[u]-1);return d}getStrictElement(d){return this.lines[d]}getStartLineNumber(d){return d+1}getEndLineNumber(d){return d+1}createCharSequence(d,u,n){const r=[],s=[],o=[];let m=0;for(let _=u;_<=n;_++){const f=this.lines[_],c=d?this._startColumns[_]:1,C=d?this._endColumns[_]:f.length+1;for(let y=c;y<C;y++)r[m]=f.charCodeAt(y-1),s[m]=_+1,o[m]=y,m++}return new S(r,s,o)}}class S{constructor(d,u,n){this._charCodes=d,this._lineNumbers=u,this._columns=n}getElements(){return this._charCodes}getStartLineNumber(d){return this._lineNumbers[d]}getStartColumn(d){return this._columns[d]}getEndLineNumber(d){return this._lineNumbers[d]}getEndColumn(d){return this._columns[d]+1}}class b{constructor(d,u,n,r,s,o,m,_){this.originalStartLineNumber=d,this.originalStartColumn=u,this.originalEndLineNumber=n,this.originalEndColumn=r,this.modifiedStartLineNumber=s,this.modifiedStartColumn=o,this.modifiedEndLineNumber=m,this.modifiedEndColumn=_}static createFromDiffChange(d,u,n){let r,s,o,m,_,f,c,C;return d.originalLength===0?(r=0,s=0,o=0,m=0):(r=u.getStartLineNumber(d.originalStart),s=u.getStartColumn(d.originalStart),o=u.getEndLineNumber(d.originalStart+d.originalLength-1),m=u.getEndColumn(d.originalStart+d.originalLength-1)),d.modifiedLength===0?(_=0,f=0,c=0,C=0):(_=n.getStartLineNumber(d.modifiedStart),f=n.getStartColumn(d.modifiedStart),c=n.getEndLineNumber(d.modifiedStart+d.modifiedLength-1),C=n.getEndColumn(d.modifiedStart+d.modifiedLength-1)),new b(r,s,o,m,_,f,c,C)}}function p(h){if(h.length<=1)return h;const d=[h[0]];let u=d[0];for(let n=1,r=h.length;n<r;n++){const s=h[n],o=s.originalStart-(u.originalStart+u.originalLength),m=s.modifiedStart-(u.modifiedStart+u.modifiedLength);Math.min(o,m)<M?(u.originalLength=s.originalStart+s.originalLength-u.originalStart,u.modifiedLength=s.modifiedStart+s.modifiedLength-u.modifiedStart):(d.push(s),u=s)}return d}class v{constructor(d,u,n,r,s){this.originalStartLineNumber=d,this.originalEndLineNumber=u,this.modifiedStartLineNumber=n,this.modifiedEndLineNumber=r,this.charChanges=s}static createFromDiffResult(d,u,n,r,s,o,m){let _,f,c,C,y;if(u.originalLength===0?(_=n.getStartLineNumber(u.originalStart)-1,f=0):(_=n.getStartLineNumber(u.originalStart),f=n.getEndLineNumber(u.originalStart+u.originalLength-1)),u.modifiedLength===0?(c=r.getStartLineNumber(u.modifiedStart)-1,C=0):(c=r.getStartLineNumber(u.modifiedStart),C=r.getEndLineNumber(u.modifiedStart+u.modifiedLength-1)),o&&u.originalLength>0&&u.originalLength<20&&u.modifiedLength>0&&u.modifiedLength<20&&s()){const w=n.createCharSequence(d,u.originalStart,u.originalStart+u.originalLength-1),D=r.createCharSequence(d,u.modifiedStart,u.modifiedStart+u.modifiedLength-1);let I=E(w,D,s,!0).changes;m&&(I=p(I)),y=[];for(let T=0,F=I.length;T<F;T++)y.push(b.createFromDiffChange(I[T],w,D))}return new v(_,f,c,C,y)}}class i{constructor(d,u,n){this.shouldComputeCharChanges=n.shouldComputeCharChanges,this.shouldPostProcessCharChanges=n.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=n.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=n.shouldMakePrettyDiff,this.originalLines=d,this.modifiedLines=u,this.original=new g(d),this.modified=new g(u),this.continueLineDiff=l(n.maxComputationTime),this.continueCharDiff=l(n.maxComputationTime===0?0:Math.min(n.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const d=E(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),u=d.changes,n=d.quitEarly;if(this.shouldIgnoreTrimWhitespace){const m=[];for(let _=0,f=u.length;_<f;_++)m.push(v.createFromDiffResult(this.shouldIgnoreTrimWhitespace,u[_],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:n,changes:m}}const r=[];let s=0,o=0;for(let m=-1,_=u.length;m<_;m++){const f=m+1<_?u[m+1]:null,c=f?f.originalStart:this.originalLines.length,C=f?f.modifiedStart:this.modifiedLines.length;for(;s<c&&o<C;){const y=this.originalLines[s],w=this.modifiedLines[o];if(y!==w){{let D=t(y,1),I=t(w,1);for(;D>1&&I>1;){const T=y.charCodeAt(D-2),F=w.charCodeAt(I-2);if(T!==F)break;D--,I--}(D>1||I>1)&&this._pushTrimWhitespaceCharChange(r,s+1,1,D,o+1,1,I)}{let D=a(y,1),I=a(w,1);const T=y.length+1,F=w.length+1;for(;D<T&&I<F;){const P=y.charCodeAt(D-1),R=y.charCodeAt(I-1);if(P!==R)break;D++,I++}(D<T||I<F)&&this._pushTrimWhitespaceCharChange(r,s+1,D,T,o+1,I,F)}}s++,o++}f&&(r.push(v.createFromDiffResult(this.shouldIgnoreTrimWhitespace,f,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),s+=f.originalLength,o+=f.modifiedLength)}return{quitEarly:n,changes:r}}_pushTrimWhitespaceCharChange(d,u,n,r,s,o,m){if(this._mergeTrimWhitespaceCharChange(d,u,n,r,s,o,m))return;let _;this.shouldComputeCharChanges&&(_=[new b(u,n,u,r,s,o,s,m)]),d.push(new v(u,u,s,s,_))}_mergeTrimWhitespaceCharChange(d,u,n,r,s,o,m){const _=d.length;if(_===0)return!1;const f=d[_-1];return f.originalEndLineNumber===0||f.modifiedEndLineNumber===0?!1:f.originalEndLineNumber+1===u&&f.modifiedEndLineNumber+1===s?(f.originalEndLineNumber=u,f.modifiedEndLineNumber=s,this.shouldComputeCharChanges&&f.charChanges&&f.charChanges.push(new b(u,n,u,r,s,o,s,m)),!0):!1}}e.DiffComputer=i;function t(h,d){const u=N.firstNonWhitespaceIndex(h);return u===-1?d:u+1}function a(h,d){const u=N.lastNonWhitespaceIndex(h);return u===-1?d:u+2}function l(h){if(h===0)return()=>!0;const d=Date.now();return()=>Date.now()-d<h}}),define(ee[234],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalEditorAction=void 0;class L{constructor(M,E,g,S,b,p){this.id=M,this.label=E,this.alias=g,this._precondition=S,this._run=b,this._contextKeyService=p}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}e.InternalEditorAction=L}),define(ee[115],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorType=e.isThemeColor=void 0;function L(N){return N&&typeof N.id=="string"}e.isThemeColor=L,e.EditorType={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}}),define(ee[116],te([0,1,115]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIEditor=e.getCodeEditor=e.isCompositeEditor=e.isDiffEditor=e.isCodeEditor=void 0;function N(b){return b&&typeof b.getEditorType=="function"?b.getEditorType()===L.EditorType.ICodeEditor:!1}e.isCodeEditor=N;function M(b){return b&&typeof b.getEditorType=="function"?b.getEditorType()===L.EditorType.IDiffEditor:!1}e.isDiffEditor=M;function E(b){return!!b&&typeof b=="object"&&typeof b.onDidChangeActiveEditor=="function"}e.isCompositeEditor=E;function g(b){return N(b)?b:M(b)?b.getModifiedEditor():null}e.getCodeEditor=g;function S(b){return N(b)||M(b)?b:null}e.getIEditor=S}),define(ee[49],te([0,1,34]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ApplyEditsResult=e.ValidAnnotatedEditOperation=e.IndentGuideHorizontalLine=e.IndentGuide=e.HorizontalGuidesState=e.FindMatch=e.TextModelResolvedOptions=e.MinimapPosition=e.OverviewRulerLane=void 0;var N;(function(t){t[t.Left=1]="Left",t[t.Center=2]="Center",t[t.Right=4]="Right",t[t.Full=7]="Full"})(N=e.OverviewRulerLane||(e.OverviewRulerLane={}));var M;(function(t){t[t.Inline=1]="Inline",t[t.Gutter=2]="Gutter"})(M=e.MinimapPosition||(e.MinimapPosition={}));class E{constructor(a){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,a.tabSize|0),this.indentSize=a.tabSize|0,this.insertSpaces=Boolean(a.insertSpaces),this.defaultEOL=a.defaultEOL|0,this.trimAutoWhitespace=Boolean(a.trimAutoWhitespace),this.bracketPairColorizationOptions=a.bracketPairColorizationOptions}equals(a){return this.tabSize===a.tabSize&&this.indentSize===a.indentSize&&this.insertSpaces===a.insertSpaces&&this.defaultEOL===a.defaultEOL&&this.trimAutoWhitespace===a.trimAutoWhitespace&&(0,L.equals)(this.bracketPairColorizationOptions,a.bracketPairColorizationOptions)}createChangeEvent(a){return{tabSize:this.tabSize!==a.tabSize,indentSize:this.indentSize!==a.indentSize,insertSpaces:this.insertSpaces!==a.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==a.trimAutoWhitespace}}}e.TextModelResolvedOptions=E;class g{constructor(a,l){this._findMatchBrand=void 0,this.range=a,this.matches=l}}e.FindMatch=g;var S;(function(t){t[t.Disabled=0]="Disabled",t[t.EnabledForActive=1]="EnabledForActive",t[t.Enabled=2]="Enabled"})(S=e.HorizontalGuidesState||(e.HorizontalGuidesState={}));class b{constructor(a,l,h){this.visibleColumn=a,this.className=l,this.horizontalLine=h}}e.IndentGuide=b;class p{constructor(a,l){this.top=a,this.endColumn=l}}e.IndentGuideHorizontalLine=p;class v{constructor(a,l,h,d,u,n){this.identifier=a,this.range=l,this.text=h,this.forceMoveMarkers=d,this.isAutoWhitespaceEdit=u,this._isTracked=n}}e.ValidAnnotatedEditOperation=v;class i{constructor(a,l,h){this.reverseEdits=a,this.changes=l,this.trimAutoWhitespaceLineNumbers=h}}e.ApplyEditsResult=i}),define(ee[404],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairWithMinIndentationInfo=e.BracketPairInfo=e.BracketInfo=void 0;class L{constructor(g,S,b){this.range=g,this.nestingLevel=S,this.isInvalid=b}}e.BracketInfo=L;class N{constructor(g,S,b,p){this.range=g,this.openingBracketRange=S,this.closingBracketRange=b,this.nestingLevel=p}}e.BracketPairInfo=N;class M extends N{constructor(g,S,b,p,v){super(g,S,b,p);this.minVisibleColumnIndentation=v}}e.BracketPairWithMinIndentationInfo=M}),define(ee[90],te([0,1,8,13,3]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lengthHash=e.lengthOfStringObj=e.lengthOfString=e.lengthCompare=e.lengthsToRange=e.positionToLength=e.lengthToPosition=e.lengthGreaterThanEqual=e.lengthLessThanEqual=e.lengthLessThan=e.lengthDiffNonNegative=e.lengthAdd=e.lengthGetColumnCountIfZeroLineCount=e.lengthGetLineCount=e.lengthToObj=e.toLength=e.lengthIsZero=e.lengthZero=e.lengthDiff=e.LengthObj=void 0;class E{constructor(C,y){this.lineCount=C,this.columnCount=y}static lengthDiffNonNegative(C,y){return y.isLessThan(C)?E.zero:C.lineCount===y.lineCount?new E(0,y.columnCount-C.columnCount):new E(y.lineCount-C.lineCount,y.columnCount)}isZero(){return this.lineCount===0&&this.columnCount===0}toLength(){return p(this.lineCount,this.columnCount)}isLessThan(C){return this.lineCount!==C.lineCount?this.lineCount<C.lineCount:this.columnCount<C.columnCount}isGreaterThan(C){return this.lineCount!==C.lineCount?this.lineCount>C.lineCount:this.columnCount>C.columnCount}equals(C){return this.lineCount===C.lineCount&&this.columnCount===C.columnCount}compare(C){return this.lineCount!==C.lineCount?this.lineCount-C.lineCount:this.columnCount-C.columnCount}add(C){return C.lineCount===0?new E(this.lineCount,this.columnCount+C.columnCount):new E(this.lineCount+C.lineCount,C.columnCount)}toString(){return`${this.lineCount},${this.columnCount}`}}e.LengthObj=E,E.zero=new E(0,0);function g(c,C,y,w){return c!==y?p(y-c,w):p(0,w-C)}e.lengthDiff=g,e.lengthZero=0;function S(c){return c===0}e.lengthIsZero=S;const b=Math.pow(2,26);function p(c,C){return c*b+C}e.toLength=p;function v(c){const C=c,y=Math.floor(C/b),w=C-y*b;return new E(y,w)}e.lengthToObj=v;function i(c){return Math.floor(c/b)}e.lengthGetLineCount=i;function t(c){return c}e.lengthGetColumnCountIfZeroLineCount=t;function a(c,C){return C<b?c+C:c-c%b+C}e.lengthAdd=a;function l(c,C){const y=c,w=C;if(w-y<=0)return e.lengthZero;const I=Math.floor(y/b),T=Math.floor(w/b),F=w-T*b;if(I===T){const P=y-I*b;return p(0,F-P)}else return p(T-I,F)}e.lengthDiffNonNegative=l;function h(c,C){return c<C}e.lengthLessThan=h;function d(c,C){return c<=C}e.lengthLessThanEqual=d;function u(c,C){return c>=C}e.lengthGreaterThanEqual=u;function n(c){const C=c,y=Math.floor(C/b),w=C-y*b;return new N.Position(y+1,w+1)}e.lengthToPosition=n;function r(c){return p(c.lineNumber-1,c.column-1)}e.positionToLength=r;function s(c,C){const y=c,w=Math.floor(y/b),D=y-w*b,I=C,T=Math.floor(I/b),F=I-T*b;return new M.Range(w+1,D+1,T+1,F+1)}e.lengthsToRange=s;function o(c,C){return c-C}e.lengthCompare=o;function m(c){const C=(0,L.splitLines)(c);return p(C.length-1,C[C.length-1].length)}e.lengthOfString=m;function _(c){const C=(0,L.splitLines)(c);return new E(C.length-1,C[C.length-1].length)}e.lengthOfStringObj=_;function f(c){return c}e.lengthHash=f}),define(ee[235],te([0,1,90]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BeforeEditPositionMapper=e.TextEditInfo=void 0;class N{constructor(S,b,p){this.startOffset=S,this.endOffset=b,this.newLength=p}}e.TextEditInfo=N;class M{constructor(S,b){this.documentLength=b,this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=S.map(p=>E.from(p))}getOffsetBeforeChange(S){return this.adjustNextEdit(S),this.translateCurToOld(S)}getDistanceToNextChange(S){this.adjustNextEdit(S);const b=this.edits[this.nextEditIdx],p=b?this.translateOldToCur(b.offsetObj):this.documentLength;return(0,L.lengthDiffNonNegative)(S,p)}translateOldToCur(S){return S.lineCount===this.deltaLineIdxInOld?(0,L.toLength)(S.lineCount+this.deltaOldToNewLineCount,S.columnCount+this.deltaOldToNewColumnCount):(0,L.toLength)(S.lineCount+this.deltaOldToNewLineCount,S.columnCount)}translateCurToOld(S){const b=(0,L.lengthToObj)(S);return b.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?(0,L.toLength)(b.lineCount-this.deltaOldToNewLineCount,b.columnCount-this.deltaOldToNewColumnCount):(0,L.toLength)(b.lineCount-this.deltaOldToNewLineCount,b.columnCount)}adjustNextEdit(S){for(;this.nextEditIdx<this.edits.length;){const b=this.edits[this.nextEditIdx],p=this.translateOldToCur(b.endOffsetAfterObj);if((0,L.lengthLessThanEqual)(p,S)){this.nextEditIdx++;const v=(0,L.lengthToObj)(p),i=(0,L.lengthToObj)(this.translateOldToCur(b.endOffsetBeforeObj)),t=v.lineCount-i.lineCount;this.deltaOldToNewLineCount+=t;const a=this.deltaLineIdxInOld===b.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,l=v.columnCount-i.columnCount;this.deltaOldToNewColumnCount=a+l,this.deltaLineIdxInOld=b.endOffsetBeforeObj.lineCount}else break}}}e.BeforeEditPositionMapper=M;class E{constructor(S,b,p){this.endOffsetBeforeObj=(0,L.lengthToObj)(b),this.endOffsetAfterObj=(0,L.lengthToObj)((0,L.lengthAdd)(S,p)),this.offsetObj=(0,L.lengthToObj)(S)}static from(S){return new E(S.startOffset,S.endOffset,S.newLength)}}}),define(ee[405],te([0,1,90]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NodeReader=void 0;class N{constructor(S){this.lastOffset=L.lengthZero,this.nextNodes=[S],this.offsets=[L.lengthZero],this.idxs=[]}readLongestNodeAt(S,b){if((0,L.lengthLessThan)(S,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=S;;){const p=E(this.nextNodes);if(!p)return;const v=E(this.offsets);if((0,L.lengthLessThan)(S,v))return;if((0,L.lengthLessThan)(v,S))if((0,L.lengthAdd)(v,p.length)<=S)this.nextNodeAfterCurrent();else{const i=M(p);i!==-1?(this.nextNodes.push(p.getChild(i)),this.offsets.push(v),this.idxs.push(i)):this.nextNodeAfterCurrent()}else{if(b(p))return this.nextNodeAfterCurrent(),p;{const i=M(p);if(i===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(p.getChild(i)),this.offsets.push(v),this.idxs.push(i)}}}}nextNodeAfterCurrent(){for(;;){const S=E(this.offsets),b=E(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const p=E(this.nextNodes),v=M(p,this.idxs[this.idxs.length-1]);if(v!==-1){this.nextNodes.push(p.getChild(v)),this.offsets.push((0,L.lengthAdd)(S,b.length)),this.idxs[this.idxs.length-1]=v;break}else this.idxs.pop()}}}e.NodeReader=N;function M(g,S=-1){for(;;){if(S++,S>=g.childrenLength)return-1;if(g.getChild(S))return S}}function E(g){return g.length>0?g[g.length-1]:void 0}}),define(ee[117],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DenseKeyProvider=e.identityKeyProvider=e.SmallImmutableSet=void 0;const L=new Array;class N{constructor(g,S){this.items=g,this.additionalItems=S}static create(g,S){if(g<=128&&S.length===0){let b=N.cache[g];return b||(b=new N(g,S),N.cache[g]=b),b}return new N(g,S)}static getEmpty(){return this.empty}add(g,S){const b=S.getKey(g);let p=b>>5;if(p===0){const i=1<<b|this.items;return i===this.items?this:N.create(i,this.additionalItems)}p--;const v=this.additionalItems.slice(0);for(;v.length<p;)v.push(0);return v[p]|=1<<(b&31),N.create(this.items,v)}has(g,S){const b=S.getKey(g);let p=b>>5;return p===0?(this.items&1<<b)!=0:(p--,((this.additionalItems[p]||0)&1<<(b&31))!=0)}merge(g){const S=this.items|g.items;if(this.additionalItems===L&&g.additionalItems===L)return S===this.items?this:S===g.items?g:N.create(S,L);const b=new Array;for(let p=0;p<Math.max(this.additionalItems.length,g.additionalItems.length);p++){const v=this.additionalItems[p]||0,i=g.additionalItems[p]||0;b.push(v|i)}return N.create(S,b)}intersects(g){if((this.items&g.items)!=0)return!0;for(let S=0;S<Math.min(this.additionalItems.length,g.additionalItems.length);S++)if((this.additionalItems[S]&g.additionalItems[S])!=0)return!0;return!1}equals(g){if(this.items!==g.items||this.additionalItems.length!==g.additionalItems.length)return!1;for(let S=0;S<this.additionalItems.length;S++)if(this.additionalItems[S]!==g.additionalItems[S])return!1;return!0}}e.SmallImmutableSet=N,N.cache=new Array(129),N.empty=N.create(0,L),e.identityKeyProvider={getKey(E){return E}};class M{constructor(){this.items=new Map}getKey(g){let S=this.items.get(g);return S===void 0&&(S=this.items.size,this.items.set(g,S)),S}reverseLookup(g){var S;return(S=[...this.items].find(([b,p])=>p===g))===null||S===void 0?void 0:S[0]}reverseLookupSet(g){const S=[];for(const[b]of this.items)g.has(b,this)&&S.push(b);return S}keys(){return this.items.keys()}}e.DenseKeyProvider=M}),define(ee[147],te([0,1,145,90,117]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InvalidBracketAstNode=e.BracketAstNode=e.TextAstNode=e.ListAstNode=e.PairAstNode=void 0;class E{constructor(n){this._length=n}get length(){return this._length}}class g extends E{constructor(n,r,s,o,m){super(n);this.openingBracket=r,this.child=s,this.closingBracket=o,this.missingOpeningBracketIds=m}static create(n,r,s){let o=n.length;return r&&(o=(0,N.lengthAdd)(o,r.length)),s&&(o=(0,N.lengthAdd)(o,s.length)),new g(o,n,r,s,r?r.missingOpeningBracketIds:M.SmallImmutableSet.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(n){switch(n){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const n=new Array;return n.push(this.openingBracket),this.child&&n.push(this.child),this.closingBracket&&n.push(this.closingBracket),n}canBeReused(n){return!(this.closingBracket===null||n.intersects(this.missingOpeningBracketIds))}flattenLists(){return g.create(this.openingBracket.flattenLists(),this.child&&this.child.flattenLists(),this.closingBracket&&this.closingBracket.flattenLists())}deepClone(){return new g(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(n,r){return this.child?this.child.computeMinIndentation((0,N.lengthAdd)(n,this.openingBracket.length),r):Number.MAX_SAFE_INTEGER}}e.PairAstNode=g;class S extends E{constructor(n,r,s){super(n);this.listHeight=r,this._missingOpeningBracketIds=s,this.cachedMinIndentation=-1}static create23(n,r,s,o=!1){let m=n.length,_=n.missingOpeningBracketIds;if(n.listHeight!==r.listHeight)throw new Error("Invalid list heights");if(m=(0,N.lengthAdd)(m,r.length),_=_.merge(r.missingOpeningBracketIds),s){if(n.listHeight!==s.listHeight)throw new Error("Invalid list heights");m=(0,N.lengthAdd)(m,s.length),_=_.merge(s.missingOpeningBracketIds)}return o?new p(m,n.listHeight+1,n,r,s,_):new b(m,n.listHeight+1,n,r,s,_)}static create(n,r=!1){if(n.length===0)return this.getEmpty();{let s=n[0].length,o=n[0].missingOpeningBracketIds;for(let m=1;m<n.length;m++)s=(0,N.lengthAdd)(s,n[m].length),o=o.merge(n[m].missingOpeningBracketIds);return r?new i(s,n[0].listHeight+1,n,o):new v(s,n[0].listHeight+1,n,o)}}static getEmpty(){return new i(N.lengthZero,0,[],M.SmallImmutableSet.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const n=this.childrenLength;if(n===0)return;const r=this.getChild(n-1),s=r.kind===4?r.toMutable():r;return r!==s&&this.setChild(n-1,s),s}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const r=this.getChild(0),s=r.kind===4?r.toMutable():r;return r!==s&&this.setChild(0,s),s}canBeReused(n){if(n.intersects(this.missingOpeningBracketIds))return!1;let r=this,s;for(;r.kind===4&&(s=r.childrenLength)>0;)r=r.getChild(s-1);return r.canBeReused(n)}handleChildrenChanged(){this.throwIfImmutable();const n=this.childrenLength;let r=this.getChild(0).length,s=this.getChild(0).missingOpeningBracketIds;for(let o=1;o<n;o++){const m=this.getChild(o);r=(0,N.lengthAdd)(r,m.length),s=s.merge(m.missingOpeningBracketIds)}this._length=r,this._missingOpeningBracketIds=s,this.cachedMinIndentation=-1}flattenLists(){const n=new Array;for(const r of this.children){const s=r.flattenLists();s.kind===4?n.push(...s.children):n.push(s)}return S.create(n)}computeMinIndentation(n,r){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let s=Number.MAX_SAFE_INTEGER,o=n;for(let m=0;m<this.childrenLength;m++){const _=this.getChild(m);_&&(s=Math.min(s,_.computeMinIndentation(o,r)),o=(0,N.lengthAdd)(o,_.length))}return this.cachedMinIndentation=s,s}}e.ListAstNode=S;class b extends S{constructor(n,r,s,o,m,_){super(n,r,_);this._item1=s,this._item2=o,this._item3=m}get childrenLength(){return this._item3!==null?3:2}getChild(n){switch(n){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(n,r){switch(n){case 0:this._item1=r;return;case 1:this._item2=r;return;case 2:this._item3=r;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}deepClone(){return new b(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(n){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=n,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const n=this._item3;return this._item3=null,this.handleChildrenChanged(),n}prependChildOfSameHeight(n){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=n,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const n=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),n}toMutable(){return this}}class p extends b{toMutable(){return new b(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class v extends S{constructor(n,r,s,o){super(n,r,o);this._children=s}get childrenLength(){return this._children.length}getChild(n){return this._children[n]}setChild(n,r){this._children[n]=r}get children(){return this._children}deepClone(){const n=new Array(this._children.length);for(let r=0;r<this._children.length;r++)n[r]=this._children[r].deepClone();return new v(this.length,this.listHeight,n,this.missingOpeningBracketIds)}appendChildOfSameHeight(n){this.throwIfImmutable(),this._children.push(n),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const n=this._children.pop();return this.handleChildrenChanged(),n}prependChildOfSameHeight(n){this.throwIfImmutable(),this._children.unshift(n),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const n=this._children.shift();return this.handleChildrenChanged(),n}toMutable(){return this}}class i extends v{toMutable(){return new v(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const t=[];class a extends E{get listHeight(){return 0}get childrenLength(){return 0}getChild(n){return null}get children(){return t}flattenLists(){return this}deepClone(){return this}}class l extends a{get kind(){return 0}get missingOpeningBracketIds(){return M.SmallImmutableSet.getEmpty()}canBeReused(n){return!0}computeMinIndentation(n,r){const s=(0,N.lengthToObj)(n),o=(s.columnCount===0?s.lineCount:s.lineCount+1)+1,m=(0,N.lengthGetLineCount)((0,N.lengthAdd)(n,this.length))+1;let _=Number.MAX_SAFE_INTEGER;for(let f=o;f<=m;f++){const c=r.getLineFirstNonWhitespaceColumn(f),C=r.getLineContent(f);if(c===0)continue;const y=L.CursorColumns.visibleColumnFromColumn(C,c,r.getOptions().tabSize);_=Math.min(_,y)}return _}}e.TextAstNode=l;class h extends a{constructor(n){super(n)}static create(n){const r=(0,N.lengthHash)(n),s=h.cacheByLength.get(r);if(s)return s;const o=new h(n);return h.cacheByLength.set(r,o),o}get kind(){return 1}get missingOpeningBracketIds(){return M.SmallImmutableSet.getEmpty()}canBeReused(n){return!1}computeMinIndentation(n,r){return Number.MAX_SAFE_INTEGER}}e.BracketAstNode=h,h.cacheByLength=new Map;class d extends a{constructor(n,r){super(r);this.missingOpeningBracketIds=n}get kind(){return 3}canBeReused(n){return!n.intersects(this.missingOpeningBracketIds)}computeMinIndentation(n,r){return Number.MAX_SAFE_INTEGER}}e.InvalidBracketAstNode=d}),define(ee[406],te([0,1,147]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.concat23TreesOfSameHeight=e.concat23Trees=void 0;function N(p){if(p.length===0)return null;if(p.length===1)return p[0];let v=0;function i(){if(v>=p.length)return null;const h=v,d=p[h].listHeight;for(v++;v<p.length&&p[v].listHeight===d;)v++;return v-h>=2?M(h===0&&v===p.length?p:p.slice(h,v),!1):p[h]}let t=i(),a=i();if(!a)return t;for(let h=i();h;h=i())E(t,a)<=E(a,h)?(t=g(t,a),a=h):a=g(a,h);return g(t,a)}e.concat23Trees=N;function M(p,v=!1){if(p.length===0)return null;if(p.length===1)return p[0];let i=p.length;for(;i>3;){const t=i>>1;for(let a=0;a<t;a++){const l=a<<1;p[a]=L.ListAstNode.create23(p[l],p[l+1],l+3===i?p[l+2]:null,v)}i=t}return L.ListAstNode.create23(p[0],p[1],i>=3?p[2]:null,v)}e.concat23TreesOfSameHeight=M;function E(p,v){return Math.abs(p.listHeight-v.listHeight)}function g(p,v){return p.listHeight===v.listHeight?L.ListAstNode.create23(p,v,null,!1):p.listHeight>v.listHeight?S(p,v):b(v,p)}function S(p,v){p=p.toMutable();let i=p;const t=new Array;let a;for(;;){if(v.listHeight===i.listHeight){a=v;break}if(i.kind!==4)throw new Error("unexpected");t.push(i),i=i.makeLastElementMutable()}for(let l=t.length-1;l>=0;l--){const h=t[l];a?h.childrenLength>=3?a=L.ListAstNode.create23(h.unappendChild(),a,null,!1):(h.appendChildOfSameHeight(a),a=void 0):h.handleChildrenChanged()}return a?L.ListAstNode.create23(p,a,null,!1):p}function b(p,v){p=p.toMutable();let i=p;const t=new Array;for(;v.listHeight!==i.listHeight;){if(i.kind!==4)throw new Error("unexpected");t.push(i),i=i.makeFirstElementMutable()}let a=v;for(let l=t.length-1;l>=0;l--){const h=t[l];a?h.childrenLength>=3?a=L.ListAstNode.create23(a,h.unprependChild(),null,!1):(h.prependChildOfSameHeight(a),a=void 0):h.handleChildrenChanged()}return a?L.ListAstNode.create23(a,p,null,!1):p}}),define(ee[407],te([0,1,147,235,117,90,406,405]),function(Q,e,L,N,M,E,g,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseDocument=void 0;function b(v,i,t,a){return new p(v,i,t,a).parseDocument()}e.parseDocument=b;class p{constructor(i,t,a,l){if(this.tokenizer=i,this.createImmutableLists=l,this._itemsConstructed=0,this._itemsFromCache=0,a&&l)throw new Error("Not supported");this.oldNodeReader=a?new S.NodeReader(a):void 0,this.positionMapper=new N.BeforeEditPositionMapper(t,i.length)}get nodesConstructed(){return this._itemsConstructed}get nodesReused(){return this._itemsFromCache}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let i=this.parseList(M.SmallImmutableSet.getEmpty());return i||(i=L.ListAstNode.getEmpty()),i}parseList(i){const t=new Array;for(;;){const l=this.tokenizer.peek();if(!l||l.kind===2&&l.bracketIds.intersects(i))break;const h=this.parseChild(i);h.kind===4&&h.childrenLength===0||t.push(h)}return this.oldNodeReader?(0,g.concat23Trees)(t):(0,g.concat23TreesOfSameHeight)(t,this.createImmutableLists)}parseChild(i){if(this.oldNodeReader){const a=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(!(0,E.lengthIsZero)(a)){const l=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),h=>(0,E.lengthLessThan)(h.length,a)?h.canBeReused(i):!1);if(l)return this._itemsFromCache++,this.tokenizer.skip(l.length),l}}this._itemsConstructed++;const t=this.tokenizer.read();switch(t.kind){case 2:return new L.InvalidBracketAstNode(t.bracketIds,t.length);case 0:return t.astNode;case 1:const a=i.merge(t.bracketIds),l=this.parseList(a),h=this.tokenizer.peek();return h&&h.kind===2&&(h.bracketId===t.bracketId||h.bracketIds.intersects(t.bracketIds))?(this.tokenizer.read(),L.PairAstNode.create(t.astNode,l,h.astNode)):L.PairAstNode.create(t.astNode,l,null);default:throw new Error("unexpected")}}}}),define(ee[408],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.guessIndentation=void 0;class L{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function N(E,g,S,b,p){p.spacesDiff=0,p.looksLikeAlignment=!1;let v;for(v=0;v<g&&v<b;v++){let u=E.charCodeAt(v),n=S.charCodeAt(v);if(u!==n)break}let i=0,t=0;for(let u=v;u<g;u++)E.charCodeAt(u)===32?i++:t++;let a=0,l=0;for(let u=v;u<b;u++)S.charCodeAt(u)===32?a++:l++;if(i>0&&t>0||a>0&&l>0)return;let h=Math.abs(t-l),d=Math.abs(i-a);if(h===0){p.spacesDiff=d,d>0&&0<=a-1&&a-1<E.length&&a<S.length&&S.charCodeAt(a)!==32&&E.charCodeAt(a-1)===32&&E.charCodeAt(E.length-1)===44&&(p.looksLikeAlignment=!0);return}if(d%h==0){p.spacesDiff=d/h;return}}function M(E,g,S){const b=Math.min(E.getLineCount(),1e4);let p=0,v=0,i="",t=0;const a=[2,4,6,8,3,5,7],l=8;let h=[0,0,0,0,0,0,0,0,0],d=new L;for(let r=1;r<=b;r++){let s=E.getLineLength(r),o=E.getLineContent(r);const m=s<=65536;let _=!1,f=0,c=0,C=0;for(let w=0,D=s;w<D;w++){let I=m?o.charCodeAt(w):E.getLineCharCode(r,w);if(I===9)C++;else if(I===32)c++;else{_=!0,f=w;break}}if(!_||(C>0?p++:c>1&&v++,N(i,t,o,f,d),d.looksLikeAlignment&&!(S&&g===d.spacesDiff)))continue;let y=d.spacesDiff;y<=l&&h[y]++,i=o,t=f}let u=S;p!==v&&(u=p<v);let n=g;if(u){let r=u?0:.1*b;a.forEach(s=>{let o=h[s];o>r&&(r=o,n=s)}),n===4&&h[4]>0&&h[2]>0&&h[2]>=h[4]/2&&(n=2)}return{insertSpaces:u,tabSize:n}}e.guessIndentation=M}),define(ee[409],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.intervalCompare=e.recomputeMaxEnd=e.nodeAcceptEdit=e.IntervalTree=e.SENTINEL=e.IntervalNode=e.setNodeStickiness=e.getNodeColor=void 0;function L(A){return(A.metadata&1)>>>0}e.getNodeColor=L;function N(A,O){A.metadata=A.metadata&254|O<<0}function M(A){return(A.metadata&2)>>>1==1}function E(A,O){A.metadata=A.metadata&253|(O?1:0)<<1}function g(A){return(A.metadata&4)>>>2==1}function S(A,O){A.metadata=A.metadata&251|(O?1:0)<<2}function b(A){return(A.metadata&24)>>>3}function p(A,O){A.metadata=A.metadata&231|O<<3}function v(A){return(A.metadata&32)>>>5==1}function i(A,O){A.metadata=A.metadata&223|(O?1:0)<<5}function t(A,O){p(A,O)}e.setNodeStickiness=t;class a{constructor(O,k,V){this.metadata=0,this.parent=this,this.left=this,this.right=this,N(this,1),this.start=k,this.end=V,this.delta=0,this.maxEnd=V,this.id=O,this.ownerId=0,this.options=null,S(this,!1),p(this,1),i(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=k,this.cachedAbsoluteEnd=V,this.range=null,E(this,!1)}reset(O,k,V,B){this.start=k,this.end=V,this.maxEnd=V,this.cachedVersionId=O,this.cachedAbsoluteStart=k,this.cachedAbsoluteEnd=V,this.range=B}setOptions(O){this.options=O;let k=this.options.className;S(this,k==="squiggly-error"||k==="squiggly-warning"||k==="squiggly-info"),p(this,this.options.stickiness),i(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(O,k,V){this.cachedVersionId!==V&&(this.range=null),this.cachedVersionId=V,this.cachedAbsoluteStart=O,this.cachedAbsoluteEnd=k}detach(){this.parent=null,this.left=null,this.right=null}}e.IntervalNode=a,e.SENTINEL=new a(null,0,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,N(e.SENTINEL,0);class l{constructor(){this.root=e.SENTINEL,this.requestNormalizeDelta=!1}intervalSearch(O,k,V,B,x){return this.root===e.SENTINEL?[]:_(this,O,k,V,B,x)}search(O,k,V){return this.root===e.SENTINEL?[]:m(this,O,k,V)}collectNodesFromOwner(O){return s(this,O)}collectNodesPostOrder(){return o(this)}insert(O){f(this,O),this._normalizeDeltaIfNecessary()}delete(O){C(this,O),this._normalizeDeltaIfNecessary()}resolveNode(O,k){const V=O;let B=0;for(;O!==this.root;)O===O.parent.right&&(B+=O.parent.delta),O=O.parent;const x=V.start+B,K=V.end+B;V.setCachedOffsets(x,K,k)}acceptReplace(O,k,V,B){const x=n(this,O,O+k);for(let K=0,X=x.length;K<X;K++){const Z=x[K];C(this,Z)}this._normalizeDeltaIfNecessary(),r(this,O,O+k,V),this._normalizeDeltaIfNecessary();for(let K=0,X=x.length;K<X;K++){const Z=x[K];Z.start=Z.cachedAbsoluteStart,Z.end=Z.cachedAbsoluteEnd,u(Z,O,O+k,V,B),Z.maxEnd=Z.end,f(this,Z)}this._normalizeDeltaIfNecessary()}getAllInOrder(){return m(this,0,!1,0)}_normalizeDeltaIfNecessary(){!this.requestNormalizeDelta||(this.requestNormalizeDelta=!1,h(this))}}e.IntervalTree=l;function h(A){let O=A.root,k=0;for(;O!==e.SENTINEL;){if(O.left!==e.SENTINEL&&!M(O.left)){O=O.left;continue}if(O.right!==e.SENTINEL&&!M(O.right)){k+=O.delta,O=O.right;continue}O.start=k+O.start,O.end=k+O.end,O.delta=0,F(O),E(O,!0),E(O.left,!1),E(O.right,!1),O===O.parent.right&&(k-=O.parent.delta),O=O.parent}E(A.root,!1)}function d(A,O,k,V){return A<k?!0:A>k||V===1?!1:V===2?!0:O}function u(A,O,k,V,B){const x=b(A),K=x===0||x===2,X=x===1||x===2,Z=k-O,q=V,H=Math.min(Z,q),G=A.start;let z=!1;const W=A.end;let j=!1;O<=G&&W<=k&&v(A)&&(A.start=O,z=!0,A.end=O,j=!0);{const Y=B?1:Z>0?2:0;!z&&d(G,K,O,Y)&&(z=!0),!j&&d(W,X,O,Y)&&(j=!0)}if(H>0&&!B){const Y=Z>q?2:0;!z&&d(G,K,O+H,Y)&&(z=!0),!j&&d(W,X,O+H,Y)&&(j=!0)}{const Y=B?1:0;!z&&d(G,K,k,Y)&&(A.start=O+q,z=!0),!j&&d(W,X,k,Y)&&(A.end=O+q,j=!0)}const U=q-Z;z||(A.start=Math.max(0,G+U)),j||(A.end=Math.max(0,W+U)),A.start>A.end&&(A.end=A.start)}e.nodeAcceptEdit=u;function n(A,O,k){let V=A.root,B=0,x=0,K=0,X=0,Z=[],q=0;for(;V!==e.SENTINEL;){if(M(V)){E(V.left,!1),E(V.right,!1),V===V.parent.right&&(B-=V.parent.delta),V=V.parent;continue}if(!M(V.left)){if(x=B+V.maxEnd,x<O){E(V,!0);continue}if(V.left!==e.SENTINEL){V=V.left;continue}}if(K=B+V.start,K>k){E(V,!0);continue}if(X=B+V.end,X>=O&&(V.setCachedOffsets(K,X,0),Z[q++]=V),E(V,!0),V.right!==e.SENTINEL&&!M(V.right)){B+=V.delta,V=V.right;continue}}return E(A.root,!1),Z}function r(A,O,k,V){let B=A.root,x=0,K=0,X=0;const Z=V-(k-O);for(;B!==e.SENTINEL;){if(M(B)){E(B.left,!1),E(B.right,!1),B===B.parent.right&&(x-=B.parent.delta),F(B),B=B.parent;continue}if(!M(B.left)){if(K=x+B.maxEnd,K<O){E(B,!0);continue}if(B.left!==e.SENTINEL){B=B.left;continue}}if(X=x+B.start,X>k){B.start+=Z,B.end+=Z,B.delta+=Z,(B.delta<-1073741824||B.delta>1073741824)&&(A.requestNormalizeDelta=!0),E(B,!0);continue}if(E(B,!0),B.right!==e.SENTINEL&&!M(B.right)){x+=B.delta,B=B.right;continue}}E(A.root,!1)}function s(A,O){let k=A.root,V=[],B=0;for(;k!==e.SENTINEL;){if(M(k)){E(k.left,!1),E(k.right,!1),k=k.parent;continue}if(k.left!==e.SENTINEL&&!M(k.left)){k=k.left;continue}if(k.ownerId===O&&(V[B++]=k),E(k,!0),k.right!==e.SENTINEL&&!M(k.right)){k=k.right;continue}}return E(A.root,!1),V}function o(A){let O=A.root,k=[],V=0;for(;O!==e.SENTINEL;){if(M(O)){E(O.left,!1),E(O.right,!1),O=O.parent;continue}if(O.left!==e.SENTINEL&&!M(O.left)){O=O.left;continue}if(O.right!==e.SENTINEL&&!M(O.right)){O=O.right;continue}k[V++]=O,E(O,!0)}return E(A.root,!1),k}function m(A,O,k,V){let B=A.root,x=0,K=0,X=0,Z=[],q=0;for(;B!==e.SENTINEL;){if(M(B)){E(B.left,!1),E(B.right,!1),B===B.parent.right&&(x-=B.parent.delta),B=B.parent;continue}if(B.left!==e.SENTINEL&&!M(B.left)){B=B.left;continue}K=x+B.start,X=x+B.end,B.setCachedOffsets(K,X,V);let H=!0;if(O&&B.ownerId&&B.ownerId!==O&&(H=!1),k&&g(B)&&(H=!1),H&&(Z[q++]=B),E(B,!0),B.right!==e.SENTINEL&&!M(B.right)){x+=B.delta,B=B.right;continue}}return E(A.root,!1),Z}function _(A,O,k,V,B,x){let K=A.root,X=0,Z=0,q=0,H=0,G=[],z=0;for(;K!==e.SENTINEL;){if(M(K)){E(K.left,!1),E(K.right,!1),K===K.parent.right&&(X-=K.parent.delta),K=K.parent;continue}if(!M(K.left)){if(Z=X+K.maxEnd,Z<O){E(K,!0);continue}if(K.left!==e.SENTINEL){K=K.left;continue}}if(q=X+K.start,q>k){E(K,!0);continue}if(H=X+K.end,H>=O){K.setCachedOffsets(q,H,x);let W=!0;V&&K.ownerId&&K.ownerId!==V&&(W=!1),B&&g(K)&&(W=!1),W&&(G[z++]=K)}if(E(K,!0),K.right!==e.SENTINEL&&!M(K.right)){X+=K.delta,K=K.right;continue}}return E(A.root,!1),G}function f(A,O){if(A.root===e.SENTINEL)return O.parent=e.SENTINEL,O.left=e.SENTINEL,O.right=e.SENTINEL,N(O,0),A.root=O,A.root;c(A,O),P(O.parent);let k=O;for(;k!==A.root&&L(k.parent)===1;)if(k.parent===k.parent.parent.left){const V=k.parent.parent.right;L(V)===1?(N(k.parent,0),N(V,0),N(k.parent.parent,1),k=k.parent.parent):(k===k.parent.right&&(k=k.parent,D(A,k)),N(k.parent,0),N(k.parent.parent,1),I(A,k.parent.parent))}else{const V=k.parent.parent.left;L(V)===1?(N(k.parent,0),N(V,0),N(k.parent.parent,1),k=k.parent.parent):(k===k.parent.left&&(k=k.parent,I(A,k)),N(k.parent,0),N(k.parent.parent,1),D(A,k.parent.parent))}return N(A.root,0),O}function c(A,O){let k=0,V=A.root;const B=O.start,x=O.end;for(;;)if(R(B,x,V.start+k,V.end+k)<0)if(V.left===e.SENTINEL){O.start-=k,O.end-=k,O.maxEnd-=k,V.left=O;break}else V=V.left;else if(V.right===e.SENTINEL){O.start-=k+V.delta,O.end-=k+V.delta,O.maxEnd-=k+V.delta,V.right=O;break}else k+=V.delta,V=V.right;O.parent=V,O.left=e.SENTINEL,O.right=e.SENTINEL,N(O,1)}function C(A,O){let k,V;if(O.left===e.SENTINEL?(k=O.right,V=O,k.delta+=O.delta,(k.delta<-1073741824||k.delta>1073741824)&&(A.requestNormalizeDelta=!0),k.start+=O.delta,k.end+=O.delta):O.right===e.SENTINEL?(k=O.left,V=O):(V=y(O.right),k=V.right,k.start+=V.delta,k.end+=V.delta,k.delta+=V.delta,(k.delta<-1073741824||k.delta>1073741824)&&(A.requestNormalizeDelta=!0),V.start+=O.delta,V.end+=O.delta,V.delta=O.delta,(V.delta<-1073741824||V.delta>1073741824)&&(A.requestNormalizeDelta=!0)),V===A.root){A.root=k,N(k,0),O.detach(),w(),F(k),A.root.parent=e.SENTINEL;return}let B=L(V)===1;if(V===V.parent.left?V.parent.left=k:V.parent.right=k,V===O?k.parent=V.parent:(V.parent===O?k.parent=V:k.parent=V.parent,V.left=O.left,V.right=O.right,V.parent=O.parent,N(V,L(O)),O===A.root?A.root=V:O===O.parent.left?O.parent.left=V:O.parent.right=V,V.left!==e.SENTINEL&&(V.left.parent=V),V.right!==e.SENTINEL&&(V.right.parent=V)),O.detach(),B){P(k.parent),V!==O&&(P(V),P(V.parent)),w();return}P(k),P(k.parent),V!==O&&(P(V),P(V.parent));let x;for(;k!==A.root&&L(k)===0;)k===k.parent.left?(x=k.parent.right,L(x)===1&&(N(x,0),N(k.parent,1),D(A,k.parent),x=k.parent.right),L(x.left)===0&&L(x.right)===0?(N(x,1),k=k.parent):(L(x.right)===0&&(N(x.left,0),N(x,1),I(A,x),x=k.parent.right),N(x,L(k.parent)),N(k.parent,0),N(x.right,0),D(A,k.parent),k=A.root)):(x=k.parent.left,L(x)===1&&(N(x,0),N(k.parent,1),I(A,k.parent),x=k.parent.left),L(x.left)===0&&L(x.right)===0?(N(x,1),k=k.parent):(L(x.left)===0&&(N(x.right,0),N(x,1),D(A,x),x=k.parent.left),N(x,L(k.parent)),N(k.parent,0),N(x.left,0),I(A,k.parent),k=A.root));N(k,0),w()}function y(A){for(;A.left!==e.SENTINEL;)A=A.left;return A}function w(){e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.delta=0,e.SENTINEL.start=0,e.SENTINEL.end=0}function D(A,O){const k=O.right;k.delta+=O.delta,(k.delta<-1073741824||k.delta>1073741824)&&(A.requestNormalizeDelta=!0),k.start+=O.delta,k.end+=O.delta,O.right=k.left,k.left!==e.SENTINEL&&(k.left.parent=O),k.parent=O.parent,O.parent===e.SENTINEL?A.root=k:O===O.parent.left?O.parent.left=k:O.parent.right=k,k.left=O,O.parent=k,F(O),F(k)}function I(A,O){const k=O.left;O.delta-=k.delta,(O.delta<-1073741824||O.delta>1073741824)&&(A.requestNormalizeDelta=!0),O.start-=k.delta,O.end-=k.delta,O.left=k.right,k.right!==e.SENTINEL&&(k.right.parent=O),k.parent=O.parent,O.parent===e.SENTINEL?A.root=k:O===O.parent.right?O.parent.right=k:O.parent.left=k,k.right=O,O.parent=k,F(O),F(k)}function T(A){let O=A.end;if(A.left!==e.SENTINEL){const k=A.left.maxEnd;k>O&&(O=k)}if(A.right!==e.SENTINEL){const k=A.right.maxEnd+A.delta;k>O&&(O=k)}return O}function F(A){A.maxEnd=T(A)}e.recomputeMaxEnd=F;function P(A){for(;A!==e.SENTINEL;){const O=T(A);if(A.maxEnd===O)return;A.maxEnd=O,A=A.parent}}function R(A,O,k,V){return A===k?O-V:A-k}e.intervalCompare=R}),define(ee[410],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.recomputeTreeMetadata=e.updateTreeMetadata=e.fixInsert=e.rbDelete=e.rightRotate=e.leftRotate=e.resetSentinel=e.calculateLF=e.calculateSize=e.righttest=e.leftest=e.SENTINEL=e.TreeNode=void 0;class L{constructor(h,d){this.piece=h,this.color=d,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==e.SENTINEL)return N(this.right);let h=this;for(;h.parent!==e.SENTINEL&&h.parent.left!==h;)h=h.parent;return h.parent===e.SENTINEL?e.SENTINEL:h.parent}prev(){if(this.left!==e.SENTINEL)return M(this.left);let h=this;for(;h.parent!==e.SENTINEL&&h.parent.right!==h;)h=h.parent;return h.parent===e.SENTINEL?e.SENTINEL:h.parent}detach(){this.parent=null,this.left=null,this.right=null}}e.TreeNode=L,e.SENTINEL=new L(null,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,e.SENTINEL.color=0;function N(l){for(;l.left!==e.SENTINEL;)l=l.left;return l}e.leftest=N;function M(l){for(;l.right!==e.SENTINEL;)l=l.right;return l}e.righttest=M;function E(l){return l===e.SENTINEL?0:l.size_left+l.piece.length+E(l.right)}e.calculateSize=E;function g(l){return l===e.SENTINEL?0:l.lf_left+l.piece.lineFeedCnt+g(l.right)}e.calculateLF=g;function S(){e.SENTINEL.parent=e.SENTINEL}e.resetSentinel=S;function b(l,h){let d=h.right;d.size_left+=h.size_left+(h.piece?h.piece.length:0),d.lf_left+=h.lf_left+(h.piece?h.piece.lineFeedCnt:0),h.right=d.left,d.left!==e.SENTINEL&&(d.left.parent=h),d.parent=h.parent,h.parent===e.SENTINEL?l.root=d:h.parent.left===h?h.parent.left=d:h.parent.right=d,d.left=h,h.parent=d}e.leftRotate=b;function p(l,h){let d=h.left;h.left=d.right,d.right!==e.SENTINEL&&(d.right.parent=h),d.parent=h.parent,h.size_left-=d.size_left+(d.piece?d.piece.length:0),h.lf_left-=d.lf_left+(d.piece?d.piece.lineFeedCnt:0),h.parent===e.SENTINEL?l.root=d:h===h.parent.right?h.parent.right=d:h.parent.left=d,d.right=h,h.parent=d}e.rightRotate=p;function v(l,h){let d,u;if(h.left===e.SENTINEL?(u=h,d=u.right):h.right===e.SENTINEL?(u=h,d=u.left):(u=N(h.right),d=u.right),u===l.root){l.root=d,d.color=0,h.detach(),S(),l.root.parent=e.SENTINEL;return}let n=u.color===1;if(u===u.parent.left?u.parent.left=d:u.parent.right=d,u===h?(d.parent=u.parent,a(l,d)):(u.parent===h?d.parent=u:d.parent=u.parent,a(l,d),u.left=h.left,u.right=h.right,u.parent=h.parent,u.color=h.color,h===l.root?l.root=u:h===h.parent.left?h.parent.left=u:h.parent.right=u,u.left!==e.SENTINEL&&(u.left.parent=u),u.right!==e.SENTINEL&&(u.right.parent=u),u.size_left=h.size_left,u.lf_left=h.lf_left,a(l,u)),h.detach(),d.parent.left===d){let s=E(d),o=g(d);if(s!==d.parent.size_left||o!==d.parent.lf_left){let m=s-d.parent.size_left,_=o-d.parent.lf_left;d.parent.size_left=s,d.parent.lf_left=o,t(l,d.parent,m,_)}}if(a(l,d.parent),n){S();return}let r;for(;d!==l.root&&d.color===0;)d===d.parent.left?(r=d.parent.right,r.color===1&&(r.color=0,d.parent.color=1,b(l,d.parent),r=d.parent.right),r.left.color===0&&r.right.color===0?(r.color=1,d=d.parent):(r.right.color===0&&(r.left.color=0,r.color=1,p(l,r),r=d.parent.right),r.color=d.parent.color,d.parent.color=0,r.right.color=0,b(l,d.parent),d=l.root)):(r=d.parent.left,r.color===1&&(r.color=0,d.parent.color=1,p(l,d.parent),r=d.parent.left),r.left.color===0&&r.right.color===0?(r.color=1,d=d.parent):(r.left.color===0&&(r.right.color=0,r.color=1,b(l,r),r=d.parent.left),r.color=d.parent.color,d.parent.color=0,r.left.color=0,p(l,d.parent),d=l.root));d.color=0,S()}e.rbDelete=v;function i(l,h){for(a(l,h);h!==l.root&&h.parent.color===1;)if(h.parent===h.parent.parent.left){const d=h.parent.parent.right;d.color===1?(h.parent.color=0,d.color=0,h.parent.parent.color=1,h=h.parent.parent):(h===h.parent.right&&(h=h.parent,b(l,h)),h.parent.color=0,h.parent.parent.color=1,p(l,h.parent.parent))}else{const d=h.parent.parent.left;d.color===1?(h.parent.color=0,d.color=0,h.parent.parent.color=1,h=h.parent.parent):(h===h.parent.left&&(h=h.parent,p(l,h)),h.parent.color=0,h.parent.parent.color=1,b(l,h.parent.parent))}l.root.color=0}e.fixInsert=i;function t(l,h,d,u){for(;h!==l.root&&h!==e.SENTINEL;)h.parent.left===h&&(h.parent.size_left+=d,h.parent.lf_left+=u),h=h.parent}e.updateTreeMetadata=t;function a(l,h){let d=0,u=0;if(h!==l.root){for(;h!==l.root&&h===h.parent.right;)h=h.parent;if(h!==l.root)for(h=h.parent,d=E(h.left)-h.size_left,u=g(h.left)-h.lf_left,h.size_left+=d,h.lf_left+=u;h!==l.root&&(d!==0||u!==0);)h.parent.left===h&&(h.parent.size_left+=d,h.parent.lf_left+=u),h=h.parent}}e.recomputeTreeMetadata=a}),define(ee[236],te([0,1,98,89]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compressConsecutiveTextChanges=e.TextChange=void 0;function M(b){return b.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class E{constructor(p,v,i,t){this.oldPosition=p,this.oldText=v,this.newPosition=i,this.newText=t}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${M(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${M(this.oldText)}")`:`(replace@${this.oldPosition} "${M(this.oldText)}" with "${M(this.newText)}")`}static _writeStringSize(p){return 4+2*p.length}static _writeString(p,v,i){const t=v.length;L.writeUInt32BE(p,t,i),i+=4;for(let a=0;a<t;a++)L.writeUInt16LE(p,v.charCodeAt(a),i),i+=2;return i}static _readString(p,v){const i=L.readUInt32BE(p,v);return v+=4,(0,N.decodeUTF16LE)(p,v,i)}writeSize(){return 4+4+E._writeStringSize(this.oldText)+E._writeStringSize(this.newText)}write(p,v){return L.writeUInt32BE(p,this.oldPosition,v),v+=4,L.writeUInt32BE(p,this.newPosition,v),v+=4,v=E._writeString(p,this.oldText,v),v=E._writeString(p,this.newText,v),v}static read(p,v,i){const t=L.readUInt32BE(p,v);v+=4;const a=L.readUInt32BE(p,v);v+=4;const l=E._readString(p,v);v+=E._writeStringSize(l);const h=E._readString(p,v);return v+=E._writeStringSize(h),i.push(new E(t,l,a,h)),v}}e.TextChange=E;function g(b,p){return b===null||b.length===0?p:new S(b,p).compress()}e.compressConsecutiveTextChanges=g;class S{constructor(p,v){this._prevEdits=p,this._currEdits=v,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let p=0,v=0,i=this._getPrev(p),t=this._getCurr(v);for(;p<this._prevLen||v<this._currLen;){if(i===null){this._acceptCurr(t),t=this._getCurr(++v);continue}if(t===null){this._acceptPrev(i),i=this._getPrev(++p);continue}if(t.oldEnd<=i.newPosition){this._acceptCurr(t),t=this._getCurr(++v);continue}if(i.newEnd<=t.oldPosition){this._acceptPrev(i),i=this._getPrev(++p);continue}if(t.oldPosition<i.newPosition){const[u,n]=S._splitCurr(t,i.newPosition-t.oldPosition);this._acceptCurr(u),t=n;continue}if(i.newPosition<t.oldPosition){const[u,n]=S._splitPrev(i,t.oldPosition-i.newPosition);this._acceptPrev(u),i=n;continue}let h,d;if(t.oldEnd===i.newEnd)h=i,d=t,i=this._getPrev(++p),t=this._getCurr(++v);else if(t.oldEnd<i.newEnd){const[u,n]=S._splitPrev(i,t.oldLength);h=u,d=t,i=n,t=this._getCurr(++v)}else{const[u,n]=S._splitCurr(t,i.newLength);h=i,d=u,i=this._getPrev(++p),t=n}this._result[this._resultLen++]=new E(h.oldPosition,h.oldText,d.newPosition,d.newText),this._prevDeltaOffset+=h.newLength-h.oldLength,this._currDeltaOffset+=d.newLength-d.oldLength}const a=S._merge(this._result);return S._removeNoOps(a)}_acceptCurr(p){this._result[this._resultLen++]=S._rebaseCurr(this._prevDeltaOffset,p),this._currDeltaOffset+=p.newLength-p.oldLength}_getCurr(p){return p<this._currLen?this._currEdits[p]:null}_acceptPrev(p){this._result[this._resultLen++]=S._rebasePrev(this._currDeltaOffset,p),this._prevDeltaOffset+=p.newLength-p.oldLength}_getPrev(p){return p<this._prevLen?this._prevEdits[p]:null}static _rebaseCurr(p,v){return new E(v.oldPosition-p,v.oldText,v.newPosition,v.newText)}static _rebasePrev(p,v){return new E(v.oldPosition,v.oldText,v.newPosition+p,v.newText)}static _splitPrev(p,v){const i=p.newText.substr(0,v),t=p.newText.substr(v);return[new E(p.oldPosition,p.oldText,p.newPosition,i),new E(p.oldEnd,"",p.newPosition+v,t)]}static _splitCurr(p,v){const i=p.oldText.substr(0,v),t=p.oldText.substr(v);return[new E(p.oldPosition,i,p.newPosition,p.newText),new E(p.oldPosition+v,t,p.newEnd,"")]}static _merge(p){if(p.length===0)return p;let v=[],i=0,t=p[0];for(let a=1;a<p.length;a++){const l=p[a];t.oldEnd===l.oldPosition?t=new E(t.oldPosition,t.oldText+l.oldText,t.newPosition,t.newText+l.newText):(v[i++]=t,t=l)}return v[i++]=t,v}static _removeNoOps(p){if(p.length===0)return p;let v=[],i=0;for(let t=0;t<p.length;t++){const a=p[t];a.oldText!==a.newText&&(v[i++]=a)}return v}}}),define(ee[91],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalModelContentChangeEvent=e.ModelInjectedTextChangedEvent=e.ModelRawContentChangedEvent=e.ModelRawEOLChanged=e.ModelRawLinesInserted=e.ModelRawLinesDeleted=e.ModelRawLineChanged=e.LineInjectedText=e.ModelRawFlush=void 0;class L{constructor(){this.changeType=1}}e.ModelRawFlush=L;class N{constructor(t,a,l,h,d){this.ownerId=t,this.lineNumber=a,this.column=l,this.options=h,this.order=d}static applyInjectedText(t,a){if(!a||a.length===0)return t;let l="",h=0;for(const d of a)l+=t.substring(h,d.column-1),h=d.column-1,l+=d.options.content;return l+=t.substring(h),l}static fromDecorations(t){const a=[];for(const l of t)l.options.before&&l.options.before.content.length>0&&a.push(new N(l.ownerId,l.range.startLineNumber,l.range.startColumn,l.options.before,0)),l.options.after&&l.options.after.content.length>0&&a.push(new N(l.ownerId,l.range.endLineNumber,l.range.endColumn,l.options.after,1));return a.sort((l,h)=>l.lineNumber===h.lineNumber?l.column===h.column?l.order-h.order:l.column-h.column:l.lineNumber-h.lineNumber),a}withText(t){return new N(this.ownerId,this.lineNumber,this.column,Object.assign(Object.assign({},this.options),{content:t}),this.order)}}e.LineInjectedText=N;class M{constructor(t,a,l){this.changeType=2,this.lineNumber=t,this.detail=a,this.injectedText=l}}e.ModelRawLineChanged=M;class E{constructor(t,a){this.changeType=3,this.fromLineNumber=t,this.toLineNumber=a}}e.ModelRawLinesDeleted=E;class g{constructor(t,a,l,h){this.changeType=4,this.injectedTexts=h,this.fromLineNumber=t,this.toLineNumber=a,this.detail=l}}e.ModelRawLinesInserted=g;class S{constructor(){this.changeType=5}}e.ModelRawEOLChanged=S;class b{constructor(t,a,l,h){this.changes=t,this.versionId=a,this.isUndoing=l,this.isRedoing=h,this.resultingSelection=null}containsEvent(t){for(let a=0,l=this.changes.length;a<l;a++)if(this.changes[a].changeType===t)return!0;return!1}static merge(t,a){const l=[].concat(t.changes).concat(a.changes),h=a.versionId,d=t.isUndoing||a.isUndoing,u=t.isRedoing||a.isRedoing;return new b(l,h,d,u)}}e.ModelRawContentChangedEvent=b;class p{constructor(t){this.changes=t}}e.ModelInjectedTextChangedEvent=p;class v{constructor(t,a){this.rawContentChangedEvent=t,this.contentChangedEvent=a}merge(t){const a=b.merge(this.rawContentChangedEvent,t.rawContentChangedEvent),l=v._mergeChangeEvents(this.contentChangedEvent,t.contentChangedEvent);return new v(a,l)}static _mergeChangeEvents(t,a){const l=[].concat(t.changes).concat(a.changes),h=a.eol,d=a.versionId,u=t.isUndoing||a.isUndoing,n=t.isRedoing||a.isRedoing,r=t.isFlush||a.isFlush;return{changes:l,eol:h,versionId:d,isUndoing:u,isRedoing:n,isFlush:r}}}e.InternalModelContentChangeEvent=v}),define(ee[148],te([0,1,8,114,13,3,49]),function(Q,e,L,N,M,E,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Searcher=e.isValidMatch=e.TextModelSearch=e.createFindMatch=e.SearchData=e.isMultilineRegexSource=e.SearchParams=void 0;const S=999;class b{constructor(r,s,o,m){this.searchString=r,this.isRegex=s,this.matchCase=o,this.wordSeparators=m}parseSearchRequest(){if(this.searchString==="")return null;let r;this.isRegex?r=p(this.searchString):r=this.searchString.indexOf(`
`)>=0;let s=null;try{s=L.createRegExp(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:r,global:!0,unicode:!0})}catch(m){return null}if(!s)return null;let o=!this.isRegex&&!r;return o&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(o=this.matchCase),new v(s,this.wordSeparators?(0,N.getMapForWordSeparators)(this.wordSeparators):null,o?this.searchString:null)}}e.SearchParams=b;function p(n){if(!n||n.length===0)return!1;for(let r=0,s=n.length;r<s;r++)if(n.charCodeAt(r)===92){if(r++,r>=s)break;const m=n.charCodeAt(r);if(m===110||m===114||m===87)return!0}return!1}e.isMultilineRegexSource=p;class v{constructor(r,s,o){this.regex=r,this.wordSeparators=s,this.simpleSearch=o}}e.SearchData=v;function i(n,r,s){if(!s)return new g.FindMatch(n,null);let o=[];for(let m=0,_=r.length;m<_;m++)o[m]=r[m];return new g.FindMatch(n,o)}e.createFindMatch=i;class t{constructor(r){let s=[],o=0;for(let m=0,_=r.length;m<_;m++)r.charCodeAt(m)===10&&(s[o++]=m);this._lineFeedsOffsets=s}findLineFeedCountBeforeOffset(r){const s=this._lineFeedsOffsets;let o=0,m=s.length-1;if(m===-1||r<=s[0])return 0;for(;o<m;){const _=o+((m-o)/2>>0);s[_]>=r?m=_-1:s[_+1]>=r?(o=_,m=_):o=_+1}return o+1}}class a{static findMatches(r,s,o,m,_){const f=s.parseSearchRequest();return f?f.regex.multiline?this._doFindMatchesMultiline(r,o,new u(f.wordSeparators,f.regex),m,_):this._doFindMatchesLineByLine(r,o,f,m,_):[]}static _getMultilineMatchRange(r,s,o,m,_,f){let c,C=0;m?(C=m.findLineFeedCountBeforeOffset(_),c=s+_+C):c=s+_;let y;if(m){let T=m.findLineFeedCountBeforeOffset(_+f.length)-C;y=c+f.length+T}else y=c+f.length;const w=r.getPositionAt(c),D=r.getPositionAt(y);return new E.Range(w.lineNumber,w.column,D.lineNumber,D.column)}static _doFindMatchesMultiline(r,s,o,m,_){const f=r.getOffsetAt(s.getStartPosition()),c=r.getValueInRange(s,1),C=r.getEOL()===`\r
`?new t(c):null,y=[];let w=0,D;for(o.reset(0);D=o.next(c);)if(y[w++]=i(this._getMultilineMatchRange(r,f,c,C,D.index,D[0]),D,m),w>=_)return y;return y}static _doFindMatchesLineByLine(r,s,o,m,_){const f=[];let c=0;if(s.startLineNumber===s.endLineNumber){const y=r.getLineContent(s.startLineNumber).substring(s.startColumn-1,s.endColumn-1);return c=this._findMatchesInLine(o,y,s.startLineNumber,s.startColumn-1,c,f,m,_),f}const C=r.getLineContent(s.startLineNumber).substring(s.startColumn-1);c=this._findMatchesInLine(o,C,s.startLineNumber,s.startColumn-1,c,f,m,_);for(let y=s.startLineNumber+1;y<s.endLineNumber&&c<_;y++)c=this._findMatchesInLine(o,r.getLineContent(y),y,0,c,f,m,_);if(c<_){const y=r.getLineContent(s.endLineNumber).substring(0,s.endColumn-1);c=this._findMatchesInLine(o,y,s.endLineNumber,0,c,f,m,_)}return f}static _findMatchesInLine(r,s,o,m,_,f,c,C){const y=r.wordSeparators;if(!c&&r.simpleSearch){const I=r.simpleSearch,T=I.length,F=s.length;let P=-T;for(;(P=s.indexOf(I,P+T))!==-1;)if((!y||d(y,s,F,P,T))&&(f[_++]=new g.FindMatch(new E.Range(o,P+1+m,o,P+1+T+m),null),_>=C))return _;return _}const w=new u(r.wordSeparators,r.regex);let D;w.reset(0);do if(D=w.next(s),D&&(f[_++]=i(new E.Range(o,D.index+1+m,o,D.index+1+D[0].length+m),D,c),_>=C))return _;while(D);return _}static findNextMatch(r,s,o,m){const _=s.parseSearchRequest();if(!_)return null;const f=new u(_.wordSeparators,_.regex);return _.regex.multiline?this._doFindNextMatchMultiline(r,o,f,m):this._doFindNextMatchLineByLine(r,o,f,m)}static _doFindNextMatchMultiline(r,s,o,m){const _=new M.Position(s.lineNumber,1),f=r.getOffsetAt(_),c=r.getLineCount(),C=r.getValueInRange(new E.Range(_.lineNumber,_.column,c,r.getLineMaxColumn(c)),1),y=r.getEOL()===`\r
`?new t(C):null;o.reset(s.column-1);let w=o.next(C);return w?i(this._getMultilineMatchRange(r,f,C,y,w.index,w[0]),w,m):s.lineNumber!==1||s.column!==1?this._doFindNextMatchMultiline(r,new M.Position(1,1),o,m):null}static _doFindNextMatchLineByLine(r,s,o,m){const _=r.getLineCount(),f=s.lineNumber,c=r.getLineContent(f),C=this._findFirstMatchInLine(o,c,f,s.column,m);if(C)return C;for(let y=1;y<=_;y++){const w=(f+y-1)%_,D=r.getLineContent(w+1),I=this._findFirstMatchInLine(o,D,w+1,1,m);if(I)return I}return null}static _findFirstMatchInLine(r,s,o,m,_){r.reset(m-1);const f=r.next(s);return f?i(new E.Range(o,f.index+1,o,f.index+1+f[0].length),f,_):null}static findPreviousMatch(r,s,o,m){const _=s.parseSearchRequest();if(!_)return null;const f=new u(_.wordSeparators,_.regex);return _.regex.multiline?this._doFindPreviousMatchMultiline(r,o,f,m):this._doFindPreviousMatchLineByLine(r,o,f,m)}static _doFindPreviousMatchMultiline(r,s,o,m){const _=this._doFindMatchesMultiline(r,new E.Range(1,1,s.lineNumber,s.column),o,m,10*S);if(_.length>0)return _[_.length-1];const f=r.getLineCount();return s.lineNumber!==f||s.column!==r.getLineMaxColumn(f)?this._doFindPreviousMatchMultiline(r,new M.Position(f,r.getLineMaxColumn(f)),o,m):null}static _doFindPreviousMatchLineByLine(r,s,o,m){const _=r.getLineCount(),f=s.lineNumber,c=r.getLineContent(f).substring(0,s.column-1),C=this._findLastMatchInLine(o,c,f,m);if(C)return C;for(let y=1;y<=_;y++){const w=(_+f-y-1)%_,D=r.getLineContent(w+1),I=this._findLastMatchInLine(o,D,w+1,m);if(I)return I}return null}static _findLastMatchInLine(r,s,o,m){let _=null,f;for(r.reset(0);f=r.next(s);)_=i(new E.Range(o,f.index+1,o,f.index+1+f[0].length),f,m);return _}}e.TextModelSearch=a;function l(n,r,s,o,m){if(o===0)return!0;const _=r.charCodeAt(o-1);if(n.get(_)!==0||_===13||_===10)return!0;if(m>0){const f=r.charCodeAt(o);if(n.get(f)!==0)return!0}return!1}function h(n,r,s,o,m){if(o+m===s)return!0;const _=r.charCodeAt(o+m);if(n.get(_)!==0||_===13||_===10)return!0;if(m>0){const f=r.charCodeAt(o+m-1);if(n.get(f)!==0)return!0}return!1}function d(n,r,s,o,m){return l(n,r,s,o,m)&&h(n,r,s,o,m)}e.isValidMatch=d;class u{constructor(r,s){this._wordSeparators=r,this._searchRegex=s,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(r){this._searchRegex.lastIndex=r,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(r){const s=r.length;let o;do{if(this._prevMatchStartIndex+this._prevMatchLength===s||(o=this._searchRegex.exec(r),!o))return null;const m=o.index,_=o[0].length;if(m===this._prevMatchStartIndex&&_===this._prevMatchLength){if(_===0){L.getNextCodePoint(r,s,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=m,this._prevMatchLength=_,!this._wordSeparators||d(this._wordSeparators,r,s,m,_))return o}while(o);return null}}e.Searcher=u}),define(ee[237],te([0,1,13,3,49,410,148]),function(Q,e,L,N,M,E,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeBase=e.StringBuffer=e.Piece=e.createLineStarts=e.createLineStartsFast=e.LineStarts=e.createUintArray=e.AverageBufferSize=void 0,e.AverageBufferSize=65535;function S(d){let u;return d[d.length-1]<65536?u=new Uint16Array(d.length):u=new Uint32Array(d.length),u.set(d,0),u}e.createUintArray=S;class b{constructor(u,n,r,s,o){this.lineStarts=u,this.cr=n,this.lf=r,this.crlf=s,this.isBasicASCII=o}}e.LineStarts=b;function p(d,u=!0){let n=[0],r=1;for(let s=0,o=d.length;s<o;s++){const m=d.charCodeAt(s);m===13?s+1<o&&d.charCodeAt(s+1)===10?(n[r++]=s+2,s++):n[r++]=s+1:m===10&&(n[r++]=s+1)}return u?S(n):n}e.createLineStartsFast=p;function v(d,u){d.length=0,d[0]=0;let n=1,r=0,s=0,o=0,m=!0;for(let f=0,c=u.length;f<c;f++){const C=u.charCodeAt(f);C===13?f+1<c&&u.charCodeAt(f+1)===10?(o++,d[n++]=f+2,f++):(r++,d[n++]=f+1):C===10?(s++,d[n++]=f+1):m&&C!==9&&(C<32||C>126)&&(m=!1)}const _=new b(S(d),r,s,o,m);return d.length=0,_}e.createLineStarts=v;class i{constructor(u,n,r,s,o){this.bufferIndex=u,this.start=n,this.end=r,this.lineFeedCnt=s,this.length=o}}e.Piece=i;class t{constructor(u,n){this.buffer=u,this.lineStarts=n}}e.StringBuffer=t;class a{constructor(u,n){this._pieces=[],this._tree=u,this._BOM=n,this._index=0,u.root!==E.SENTINEL&&u.iterate(u.root,r=>(r!==E.SENTINEL&&this._pieces.push(r.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class l{constructor(u){this._limit=u,this._cache=[]}get(u){for(let n=this._cache.length-1;n>=0;n--){let r=this._cache[n];if(r.nodeStartOffset<=u&&r.nodeStartOffset+r.node.piece.length>=u)return r}return null}get2(u){for(let n=this._cache.length-1;n>=0;n--){let r=this._cache[n];if(r.nodeStartLineNumber&&r.nodeStartLineNumber<u&&r.nodeStartLineNumber+r.node.piece.lineFeedCnt>=u)return r}return null}set(u){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(u)}validate(u){let n=!1,r=this._cache;for(let s=0;s<r.length;s++){let o=r[s];if(o.node.parent===null||o.nodeStartOffset>=u){r[s]=null,n=!0;continue}}if(n){let s=[];for(const o of r)o!==null&&s.push(o);this._cache=s}}}class h{constructor(u,n,r){this.create(u,n,r)}create(u,n,r){this._buffers=[new t("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=E.SENTINEL,this._lineCnt=1,this._length=0,this._EOL=n,this._EOLLength=n.length,this._EOLNormalized=r;let s=null;for(let o=0,m=u.length;o<m;o++)if(u[o].buffer.length>0){u[o].lineStarts||(u[o].lineStarts=p(u[o].buffer));let _=new i(o+1,{line:0,column:0},{line:u[o].lineStarts.length-1,column:u[o].buffer.length-u[o].lineStarts[u[o].lineStarts.length-1]},u[o].lineStarts.length-1,u[o].buffer.length);this._buffers.push(u[o]),s=this.rbInsertRight(s,_)}this._searchCache=new l(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(u){let n=e.AverageBufferSize,r=n-Math.floor(n/3),s=r*2,o="",m=0,_=[];if(this.iterate(this.root,f=>{let c=this.getNodeContent(f),C=c.length;if(m<=r||m+C<s)return o+=c,m+=C,!0;let y=o.replace(/\r\n|\r|\n/g,u);return _.push(new t(y,p(y))),o=c,m=C,!0}),m>0){let f=o.replace(/\r\n|\r|\n/g,u);_.push(new t(f,p(f)))}this.create(_,u,!0)}getEOL(){return this._EOL}setEOL(u){this._EOL=u,this._EOLLength=this._EOL.length,this.normalizeEOL(u)}createSnapshot(u){return new a(this,u)}equal(u){if(this.getLength()!==u.getLength()||this.getLineCount()!==u.getLineCount())return!1;let n=0;return this.iterate(this.root,s=>{if(s===E.SENTINEL)return!0;let o=this.getNodeContent(s),m=o.length,_=u.nodeAt(n),f=u.nodeAt(n+m),c=u.getValueInRange2(_,f);return o===c})}getOffsetAt(u,n){let r=0,s=this.root;for(;s!==E.SENTINEL;)if(s.left!==E.SENTINEL&&s.lf_left+1>=u)s=s.left;else{if(s.lf_left+s.piece.lineFeedCnt+1>=u)return r+=s.size_left,r+=this.getAccumulatedValue(s,u-s.lf_left-2)+n-1;u-=s.lf_left+s.piece.lineFeedCnt,r+=s.size_left+s.piece.length,s=s.right}return r}getPositionAt(u){u=Math.floor(u),u=Math.max(0,u);let n=this.root,r=0,s=u;for(;n!==E.SENTINEL;)if(n.size_left!==0&&n.size_left>=u)n=n.left;else if(n.size_left+n.piece.length>=u){let o=this.getIndexOf(n,u-n.size_left);if(r+=n.lf_left+o.index,o.index===0){let m=this.getOffsetAt(r+1,1),_=s-m;return new L.Position(r+1,_+1)}return new L.Position(r+1,o.remainder+1)}else if(u-=n.size_left+n.piece.length,r+=n.lf_left+n.piece.lineFeedCnt,n.right===E.SENTINEL){let o=this.getOffsetAt(r+1,1),m=s-u-o;return new L.Position(r+1,m+1)}else n=n.right;return new L.Position(1,1)}getValueInRange(u,n){if(u.startLineNumber===u.endLineNumber&&u.startColumn===u.endColumn)return"";let r=this.nodeAt2(u.startLineNumber,u.startColumn),s=this.nodeAt2(u.endLineNumber,u.endColumn),o=this.getValueInRange2(r,s);return n?n!==this._EOL||!this._EOLNormalized?o.replace(/\r\n|\r|\n/g,n):n===this.getEOL()&&this._EOLNormalized?o:o.replace(/\r\n|\r|\n/g,n):o}getValueInRange2(u,n){if(u.node===n.node){let _=u.node,f=this._buffers[_.piece.bufferIndex].buffer,c=this.offsetInBuffer(_.piece.bufferIndex,_.piece.start);return f.substring(c+u.remainder,c+n.remainder)}let r=u.node,s=this._buffers[r.piece.bufferIndex].buffer,o=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start),m=s.substring(o+u.remainder,o+r.piece.length);for(r=r.next();r!==E.SENTINEL;){let _=this._buffers[r.piece.bufferIndex].buffer,f=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);if(r===n.node){m+=_.substring(f,f+n.remainder);break}else m+=_.substr(f,r.piece.length);r=r.next()}return m}getLinesContent(){let u=[],n=0,r="",s=!1;return this.iterate(this.root,o=>{if(o===E.SENTINEL)return!0;const m=o.piece;let _=m.length;if(_===0)return!0;const f=this._buffers[m.bufferIndex].buffer,c=this._buffers[m.bufferIndex].lineStarts,C=m.start.line,y=m.end.line;let w=c[C]+m.start.column;if(s&&(f.charCodeAt(w)===10&&(w++,_--),u[n++]=r,r="",s=!1,_===0))return!0;if(C===y)return!this._EOLNormalized&&f.charCodeAt(w+_-1)===13?(s=!0,r+=f.substr(w,_-1)):r+=f.substr(w,_),!0;r+=this._EOLNormalized?f.substring(w,Math.max(w,c[C+1]-this._EOLLength)):f.substring(w,c[C+1]).replace(/(\r\n|\r|\n)$/,""),u[n++]=r;for(let D=C+1;D<y;D++)r=this._EOLNormalized?f.substring(c[D],c[D+1]-this._EOLLength):f.substring(c[D],c[D+1]).replace(/(\r\n|\r|\n)$/,""),u[n++]=r;return!this._EOLNormalized&&f.charCodeAt(c[y]+m.end.column-1)===13?(s=!0,m.end.column===0?n--:r=f.substr(c[y],m.end.column-1)):r=f.substr(c[y],m.end.column),!0}),s&&(u[n++]=r,r=""),u[n++]=r,u}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(u){return this._lastVisitedLine.lineNumber===u?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=u,u===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(u):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(u,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(u).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(u){if(u.remainder===u.node.piece.length){let n=u.node.next();if(!n)return 0;let r=this._buffers[n.piece.bufferIndex],s=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);return r.buffer.charCodeAt(s)}else{let n=this._buffers[u.node.piece.bufferIndex],s=this.offsetInBuffer(u.node.piece.bufferIndex,u.node.piece.start)+u.remainder;return n.buffer.charCodeAt(s)}}getLineCharCode(u,n){let r=this.nodeAt2(u,n+1);return this._getCharCode(r)}getLineLength(u){if(u===this.getLineCount()){let n=this.getOffsetAt(u,1);return this.getLength()-n}return this.getOffsetAt(u+1,1)-this.getOffsetAt(u,1)-this._EOLLength}getCharCode(u){let n=this.nodeAt(u);return this._getCharCode(n)}findMatchesInNode(u,n,r,s,o,m,_,f,c,C,y){let w=this._buffers[u.piece.bufferIndex],D=this.offsetInBuffer(u.piece.bufferIndex,u.piece.start),I=this.offsetInBuffer(u.piece.bufferIndex,o),T=this.offsetInBuffer(u.piece.bufferIndex,m),F,P={line:0,column:0},R,A;n._wordSeparators?(R=w.buffer.substring(I,T),A=O=>O+I,n.reset(0)):(R=w.buffer,A=O=>O,n.reset(I));do if(F=n.next(R),F){if(A(F.index)>=T)return C;this.positionInBuffer(u,A(F.index)-D,P);let O=this.getLineFeedCnt(u.piece.bufferIndex,o,P),k=P.line===o.line?P.column-o.column+s:P.column+1,V=k+F[0].length;if(y[C++]=(0,g.createFindMatch)(new N.Range(r+O,k,r+O,V),F,f),A(F.index)+F[0].length>=T||C>=c)return C}while(F);return C}findMatchesLineByLine(u,n,r,s){const o=[];let m=0;const _=new g.Searcher(n.wordSeparators,n.regex);let f=this.nodeAt2(u.startLineNumber,u.startColumn);if(f===null)return[];let c=this.nodeAt2(u.endLineNumber,u.endColumn);if(c===null)return[];let C=this.positionInBuffer(f.node,f.remainder),y=this.positionInBuffer(c.node,c.remainder);if(f.node===c.node)return this.findMatchesInNode(f.node,_,u.startLineNumber,u.startColumn,C,y,n,r,s,m,o),o;let w=u.startLineNumber,D=f.node;for(;D!==c.node;){let T=this.getLineFeedCnt(D.piece.bufferIndex,C,D.piece.end);if(T>=1){let P=this._buffers[D.piece.bufferIndex].lineStarts,R=this.offsetInBuffer(D.piece.bufferIndex,D.piece.start),A=P[C.line+T],O=w===u.startLineNumber?u.startColumn:1;if(m=this.findMatchesInNode(D,_,w,O,C,this.positionInBuffer(D,A-R),n,r,s,m,o),m>=s)return o;w+=T}let F=w===u.startLineNumber?u.startColumn-1:0;if(w===u.endLineNumber){const P=this.getLineContent(w).substring(F,u.endColumn-1);return m=this._findMatchesInLine(n,_,P,u.endLineNumber,F,m,o,r,s),o}if(m=this._findMatchesInLine(n,_,this.getLineContent(w).substr(F),w,F,m,o,r,s),m>=s)return o;w++,f=this.nodeAt2(w,1),D=f.node,C=this.positionInBuffer(f.node,f.remainder)}if(w===u.endLineNumber){let T=w===u.startLineNumber?u.startColumn-1:0;const F=this.getLineContent(w).substring(T,u.endColumn-1);return m=this._findMatchesInLine(n,_,F,u.endLineNumber,T,m,o,r,s),o}let I=w===u.startLineNumber?u.startColumn:1;return m=this.findMatchesInNode(c.node,_,w,I,C,y,n,r,s,m,o),o}_findMatchesInLine(u,n,r,s,o,m,_,f,c){const C=u.wordSeparators;if(!f&&u.simpleSearch){const w=u.simpleSearch,D=w.length,I=r.length;let T=-D;for(;(T=r.indexOf(w,T+D))!==-1;)if((!C||(0,g.isValidMatch)(C,r,I,T,D))&&(_[m++]=new M.FindMatch(new N.Range(s,T+1+o,s,T+1+D+o),null),m>=c))return m;return m}let y;n.reset(0);do if(y=n.next(r),y&&(_[m++]=(0,g.createFindMatch)(new N.Range(s,y.index+1+o,s,y.index+1+y[0].length+o),y,f),m>=c))return m;while(y);return m}insert(u,n,r=!1){if(this._EOLNormalized=this._EOLNormalized&&r,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==E.SENTINEL){let{node:s,remainder:o,nodeStartOffset:m}=this.nodeAt(u),_=s.piece,f=_.bufferIndex,c=this.positionInBuffer(s,o);if(s.piece.bufferIndex===0&&_.end.line===this._lastChangeBufferPos.line&&_.end.column===this._lastChangeBufferPos.column&&m+_.length===u&&n.length<e.AverageBufferSize){this.appendToNode(s,n),this.computeBufferMetadata();return}if(m===u)this.insertContentToNodeLeft(n,s),this._searchCache.validate(u);else if(m+s.piece.length>u){let C=[],y=new i(_.bufferIndex,c,_.end,this.getLineFeedCnt(_.bufferIndex,c,_.end),this.offsetInBuffer(f,_.end)-this.offsetInBuffer(f,c));if(this.shouldCheckCRLF()&&this.endWithCR(n)&&this.nodeCharCodeAt(s,o)===10){let T={line:y.start.line+1,column:0};y=new i(y.bufferIndex,T,y.end,this.getLineFeedCnt(y.bufferIndex,T,y.end),y.length-1),n+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(n))if(this.nodeCharCodeAt(s,o-1)===13){let T=this.positionInBuffer(s,o-1);this.deleteNodeTail(s,T),n="\r"+n,s.piece.length===0&&C.push(s)}else this.deleteNodeTail(s,c);else this.deleteNodeTail(s,c);let w=this.createNewPieces(n);y.length>0&&this.rbInsertRight(s,y);let D=s;for(let I=0;I<w.length;I++)D=this.rbInsertRight(D,w[I]);this.deleteNodes(C)}else this.insertContentToNodeRight(n,s)}else{let s=this.createNewPieces(n),o=this.rbInsertLeft(null,s[0]);for(let m=1;m<s.length;m++)o=this.rbInsertRight(o,s[m])}this.computeBufferMetadata()}delete(u,n){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",n<=0||this.root===E.SENTINEL)return;let r=this.nodeAt(u),s=this.nodeAt(u+n),o=r.node,m=s.node;if(o===m){let w=this.positionInBuffer(o,r.remainder),D=this.positionInBuffer(o,s.remainder);if(r.nodeStartOffset===u){if(n===o.piece.length){let I=o.next();(0,E.rbDelete)(this,o),this.validateCRLFWithPrevNode(I),this.computeBufferMetadata();return}this.deleteNodeHead(o,D),this._searchCache.validate(u),this.validateCRLFWithPrevNode(o),this.computeBufferMetadata();return}if(r.nodeStartOffset+o.piece.length===u+n){this.deleteNodeTail(o,w),this.validateCRLFWithNextNode(o),this.computeBufferMetadata();return}this.shrinkNode(o,w,D),this.computeBufferMetadata();return}let _=[],f=this.positionInBuffer(o,r.remainder);this.deleteNodeTail(o,f),this._searchCache.validate(u),o.piece.length===0&&_.push(o);let c=this.positionInBuffer(m,s.remainder);this.deleteNodeHead(m,c),m.piece.length===0&&_.push(m);let C=o.next();for(let w=C;w!==E.SENTINEL&&w!==m;w=w.next())_.push(w);let y=o.piece.length===0?o.prev():o;this.deleteNodes(_),this.validateCRLFWithNextNode(y),this.computeBufferMetadata()}insertContentToNodeLeft(u,n){let r=[];if(this.shouldCheckCRLF()&&this.endWithCR(u)&&this.startWithLF(n)){let m=n.piece,_={line:m.start.line+1,column:0},f=new i(m.bufferIndex,_,m.end,this.getLineFeedCnt(m.bufferIndex,_,m.end),m.length-1);n.piece=f,u+=`
`,(0,E.updateTreeMetadata)(this,n,-1,-1),n.piece.length===0&&r.push(n)}let s=this.createNewPieces(u),o=this.rbInsertLeft(n,s[s.length-1]);for(let m=s.length-2;m>=0;m--)o=this.rbInsertLeft(o,s[m]);this.validateCRLFWithPrevNode(o),this.deleteNodes(r)}insertContentToNodeRight(u,n){this.adjustCarriageReturnFromNext(u,n)&&(u+=`
`);let r=this.createNewPieces(u),s=this.rbInsertRight(n,r[0]),o=s;for(let m=1;m<r.length;m++)o=this.rbInsertRight(o,r[m]);this.validateCRLFWithPrevNode(s)}positionInBuffer(u,n,r){let s=u.piece,o=u.piece.bufferIndex,m=this._buffers[o].lineStarts,f=m[s.start.line]+s.start.column+n,c=s.start.line,C=s.end.line,y=0,w=0,D=0;for(;c<=C&&(y=c+(C-c)/2|0,D=m[y],y!==C);)if(w=m[y+1],f<D)C=y-1;else if(f>=w)c=y+1;else break;return r?(r.line=y,r.column=f-D,null):{line:y,column:f-D}}getLineFeedCnt(u,n,r){if(r.column===0)return r.line-n.line;let s=this._buffers[u].lineStarts;if(r.line===s.length-1)return r.line-n.line;let o=s[r.line+1],m=s[r.line]+r.column;if(o>m+1)return r.line-n.line;let _=m-1;return this._buffers[u].buffer.charCodeAt(_)===13?r.line-n.line+1:r.line-n.line}offsetInBuffer(u,n){return this._buffers[u].lineStarts[n.line]+n.column}deleteNodes(u){for(let n=0;n<u.length;n++)(0,E.rbDelete)(this,u[n])}createNewPieces(u){if(u.length>e.AverageBufferSize){let C=[];for(;u.length>e.AverageBufferSize;){const w=u.charCodeAt(e.AverageBufferSize-1);let D;w===13||w>=55296&&w<=56319?(D=u.substring(0,e.AverageBufferSize-1),u=u.substring(e.AverageBufferSize-1)):(D=u.substring(0,e.AverageBufferSize),u=u.substring(e.AverageBufferSize));let I=p(D);C.push(new i(this._buffers.length,{line:0,column:0},{line:I.length-1,column:D.length-I[I.length-1]},I.length-1,D.length)),this._buffers.push(new t(D,I))}let y=p(u);return C.push(new i(this._buffers.length,{line:0,column:0},{line:y.length-1,column:u.length-y[y.length-1]},y.length-1,u.length)),this._buffers.push(new t(u,y)),C}let n=this._buffers[0].buffer.length;const r=p(u,!1);let s=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===n&&n!==0&&this.startWithLF(u)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},s=this._lastChangeBufferPos;for(let C=0;C<r.length;C++)r[C]+=n+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(r.slice(1)),this._buffers[0].buffer+="_"+u,n+=1}else{if(n!==0)for(let C=0;C<r.length;C++)r[C]+=n;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(r.slice(1)),this._buffers[0].buffer+=u}const o=this._buffers[0].buffer.length;let m=this._buffers[0].lineStarts.length-1,_=o-this._buffers[0].lineStarts[m],f={line:m,column:_},c=new i(0,s,f,this.getLineFeedCnt(0,s,f),o-n);return this._lastChangeBufferPos=f,[c]}getLinesRawContent(){return this.getContentOfSubTree(this.root)}getLineRawContent(u,n=0){let r=this.root,s="",o=this._searchCache.get2(u);if(o){r=o.node;let m=this.getAccumulatedValue(r,u-o.nodeStartLineNumber-1),_=this._buffers[r.piece.bufferIndex].buffer,f=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);if(o.nodeStartLineNumber+r.piece.lineFeedCnt===u)s=_.substring(f+m,f+r.piece.length);else{let c=this.getAccumulatedValue(r,u-o.nodeStartLineNumber);return _.substring(f+m,f+c-n)}}else{let m=0;const _=u;for(;r!==E.SENTINEL;)if(r.left!==E.SENTINEL&&r.lf_left>=u-1)r=r.left;else if(r.lf_left+r.piece.lineFeedCnt>u-1){let f=this.getAccumulatedValue(r,u-r.lf_left-2),c=this.getAccumulatedValue(r,u-r.lf_left-1),C=this._buffers[r.piece.bufferIndex].buffer,y=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);return m+=r.size_left,this._searchCache.set({node:r,nodeStartOffset:m,nodeStartLineNumber:_-(u-1-r.lf_left)}),C.substring(y+f,y+c-n)}else if(r.lf_left+r.piece.lineFeedCnt===u-1){let f=this.getAccumulatedValue(r,u-r.lf_left-2),c=this._buffers[r.piece.bufferIndex].buffer,C=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);s=c.substring(C+f,C+r.piece.length);break}else u-=r.lf_left+r.piece.lineFeedCnt,m+=r.size_left+r.piece.length,r=r.right}for(r=r.next();r!==E.SENTINEL;){let m=this._buffers[r.piece.bufferIndex].buffer;if(r.piece.lineFeedCnt>0){let _=this.getAccumulatedValue(r,0),f=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);return s+=m.substring(f,f+_-n),s}else{let _=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);s+=m.substr(_,r.piece.length)}r=r.next()}return s}computeBufferMetadata(){let u=this.root,n=1,r=0;for(;u!==E.SENTINEL;)n+=u.lf_left+u.piece.lineFeedCnt,r+=u.size_left+u.piece.length,u=u.right;this._lineCnt=n,this._length=r,this._searchCache.validate(this._length)}getIndexOf(u,n){let r=u.piece,s=this.positionInBuffer(u,n),o=s.line-r.start.line;if(this.offsetInBuffer(r.bufferIndex,r.end)-this.offsetInBuffer(r.bufferIndex,r.start)===n){let m=this.getLineFeedCnt(u.piece.bufferIndex,r.start,s);if(m!==o)return{index:m,remainder:0}}return{index:o,remainder:s.column}}getAccumulatedValue(u,n){if(n<0)return 0;let r=u.piece,s=this._buffers[r.bufferIndex].lineStarts,o=r.start.line+n+1;return o>r.end.line?s[r.end.line]+r.end.column-s[r.start.line]-r.start.column:s[o]-s[r.start.line]-r.start.column}deleteNodeTail(u,n){const r=u.piece,s=r.lineFeedCnt,o=this.offsetInBuffer(r.bufferIndex,r.end),m=n,_=this.offsetInBuffer(r.bufferIndex,m),f=this.getLineFeedCnt(r.bufferIndex,r.start,m),c=f-s,C=_-o,y=r.length+C;u.piece=new i(r.bufferIndex,r.start,m,f,y),(0,E.updateTreeMetadata)(this,u,C,c)}deleteNodeHead(u,n){const r=u.piece,s=r.lineFeedCnt,o=this.offsetInBuffer(r.bufferIndex,r.start),m=n,_=this.getLineFeedCnt(r.bufferIndex,m,r.end),f=this.offsetInBuffer(r.bufferIndex,m),c=_-s,C=o-f,y=r.length+C;u.piece=new i(r.bufferIndex,m,r.end,_,y),(0,E.updateTreeMetadata)(this,u,C,c)}shrinkNode(u,n,r){const s=u.piece,o=s.start,m=s.end,_=s.length,f=s.lineFeedCnt,c=n,C=this.getLineFeedCnt(s.bufferIndex,s.start,c),y=this.offsetInBuffer(s.bufferIndex,n)-this.offsetInBuffer(s.bufferIndex,o);u.piece=new i(s.bufferIndex,s.start,c,C,y),(0,E.updateTreeMetadata)(this,u,y-_,C-f);let w=new i(s.bufferIndex,r,m,this.getLineFeedCnt(s.bufferIndex,r,m),this.offsetInBuffer(s.bufferIndex,m)-this.offsetInBuffer(s.bufferIndex,r)),D=this.rbInsertRight(u,w);this.validateCRLFWithPrevNode(D)}appendToNode(u,n){this.adjustCarriageReturnFromNext(n,u)&&(n+=`
`);const r=this.shouldCheckCRLF()&&this.startWithLF(n)&&this.endWithCR(u),s=this._buffers[0].buffer.length;this._buffers[0].buffer+=n;const o=p(n,!1);for(let D=0;D<o.length;D++)o[D]+=s;if(r){let D=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:s-D}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(o.slice(1));const m=this._buffers[0].lineStarts.length-1,_=this._buffers[0].buffer.length-this._buffers[0].lineStarts[m],f={line:m,column:_},c=u.piece.length+n.length,C=u.piece.lineFeedCnt,y=this.getLineFeedCnt(0,u.piece.start,f),w=y-C;u.piece=new i(u.piece.bufferIndex,u.piece.start,f,y,c),this._lastChangeBufferPos=f,(0,E.updateTreeMetadata)(this,u,n.length,w)}nodeAt(u){let n=this.root,r=this._searchCache.get(u);if(r)return{node:r.node,nodeStartOffset:r.nodeStartOffset,remainder:u-r.nodeStartOffset};let s=0;for(;n!==E.SENTINEL;)if(n.size_left>u)n=n.left;else if(n.size_left+n.piece.length>=u){s+=n.size_left;let o={node:n,remainder:u-n.size_left,nodeStartOffset:s};return this._searchCache.set(o),o}else u-=n.size_left+n.piece.length,s+=n.size_left+n.piece.length,n=n.right;return null}nodeAt2(u,n){let r=this.root,s=0;for(;r!==E.SENTINEL;)if(r.left!==E.SENTINEL&&r.lf_left>=u-1)r=r.left;else if(r.lf_left+r.piece.lineFeedCnt>u-1){let o=this.getAccumulatedValue(r,u-r.lf_left-2),m=this.getAccumulatedValue(r,u-r.lf_left-1);return s+=r.size_left,{node:r,remainder:Math.min(o+n-1,m),nodeStartOffset:s}}else if(r.lf_left+r.piece.lineFeedCnt===u-1){let o=this.getAccumulatedValue(r,u-r.lf_left-2);if(o+n-1<=r.piece.length)return{node:r,remainder:o+n-1,nodeStartOffset:s};n-=r.piece.length-o;break}else u-=r.lf_left+r.piece.lineFeedCnt,s+=r.size_left+r.piece.length,r=r.right;for(r=r.next();r!==E.SENTINEL;){if(r.piece.lineFeedCnt>0){let o=this.getAccumulatedValue(r,0),m=this.offsetOfNode(r);return{node:r,remainder:Math.min(n-1,o),nodeStartOffset:m}}else if(r.piece.length>=n-1){let o=this.offsetOfNode(r);return{node:r,remainder:n-1,nodeStartOffset:o}}else n-=r.piece.length;r=r.next()}return null}nodeCharCodeAt(u,n){if(u.piece.lineFeedCnt<1)return-1;let r=this._buffers[u.piece.bufferIndex],s=this.offsetInBuffer(u.piece.bufferIndex,u.piece.start)+n;return r.buffer.charCodeAt(s)}offsetOfNode(u){if(!u)return 0;let n=u.size_left;for(;u!==this.root;)u.parent.right===u&&(n+=u.parent.size_left+u.parent.piece.length),u=u.parent;return n}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(u){if(typeof u=="string")return u.charCodeAt(0)===10;if(u===E.SENTINEL||u.piece.lineFeedCnt===0)return!1;let n=u.piece,r=this._buffers[n.bufferIndex].lineStarts,s=n.start.line,o=r[s]+n.start.column;return s===r.length-1||r[s+1]>o+1?!1:this._buffers[n.bufferIndex].buffer.charCodeAt(o)===10}endWithCR(u){return typeof u=="string"?u.charCodeAt(u.length-1)===13:u===E.SENTINEL||u.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(u,u.piece.length-1)===13}validateCRLFWithPrevNode(u){if(this.shouldCheckCRLF()&&this.startWithLF(u)){let n=u.prev();this.endWithCR(n)&&this.fixCRLF(n,u)}}validateCRLFWithNextNode(u){if(this.shouldCheckCRLF()&&this.endWithCR(u)){let n=u.next();this.startWithLF(n)&&this.fixCRLF(u,n)}}fixCRLF(u,n){let r=[],s=this._buffers[u.piece.bufferIndex].lineStarts,o;u.piece.end.column===0?o={line:u.piece.end.line-1,column:s[u.piece.end.line]-s[u.piece.end.line-1]-1}:o={line:u.piece.end.line,column:u.piece.end.column-1};const m=u.piece.length-1,_=u.piece.lineFeedCnt-1;u.piece=new i(u.piece.bufferIndex,u.piece.start,o,_,m),(0,E.updateTreeMetadata)(this,u,-1,-1),u.piece.length===0&&r.push(u);let f={line:n.piece.start.line+1,column:0};const c=n.piece.length-1,C=this.getLineFeedCnt(n.piece.bufferIndex,f,n.piece.end);n.piece=new i(n.piece.bufferIndex,f,n.piece.end,C,c),(0,E.updateTreeMetadata)(this,n,-1,-1),n.piece.length===0&&r.push(n);let y=this.createNewPieces(`\r
`);this.rbInsertRight(u,y[0]);for(let w=0;w<r.length;w++)(0,E.rbDelete)(this,r[w])}adjustCarriageReturnFromNext(u,n){if(this.shouldCheckCRLF()&&this.endWithCR(u)){let r=n.next();if(this.startWithLF(r)){if(u+=`
`,r.piece.length===1)(0,E.rbDelete)(this,r);else{const s=r.piece,o={line:s.start.line+1,column:0},m=s.length-1,_=this.getLineFeedCnt(s.bufferIndex,o,s.end);r.piece=new i(s.bufferIndex,o,s.end,_,m),(0,E.updateTreeMetadata)(this,r,-1,-1)}return!0}}return!1}iterate(u,n){if(u===E.SENTINEL)return n(E.SENTINEL);let r=this.iterate(u.left,n);return r&&n(u)&&this.iterate(u.right,n)}getNodeContent(u){if(u===E.SENTINEL)return"";let n=this._buffers[u.piece.bufferIndex],r,s=u.piece,o=this.offsetInBuffer(s.bufferIndex,s.start),m=this.offsetInBuffer(s.bufferIndex,s.end);return r=n.buffer.substring(o,m),r}getPieceContent(u){let n=this._buffers[u.bufferIndex],r=this.offsetInBuffer(u.bufferIndex,u.start),s=this.offsetInBuffer(u.bufferIndex,u.end);return n.buffer.substring(r,s)}rbInsertRight(u,n){let r=new E.TreeNode(n,1);if(r.left=E.SENTINEL,r.right=E.SENTINEL,r.parent=E.SENTINEL,r.size_left=0,r.lf_left=0,this.root===E.SENTINEL)this.root=r,r.color=0;else if(u.right===E.SENTINEL)u.right=r,r.parent=u;else{let o=(0,E.leftest)(u.right);o.left=r,r.parent=o}return(0,E.fixInsert)(this,r),r}rbInsertLeft(u,n){let r=new E.TreeNode(n,1);if(r.left=E.SENTINEL,r.right=E.SENTINEL,r.parent=E.SENTINEL,r.size_left=0,r.lf_left=0,this.root===E.SENTINEL)this.root=r,r.color=0;else if(u.left===E.SENTINEL)u.left=r,r.parent=u;else{let s=(0,E.righttest)(u.left);s.right=r,r.parent=s}return(0,E.fixInsert)(this,r),r}getContentOfSubTree(u){let n="";return this.iterate(u,r=>(n+=this.getNodeContent(r),!0)),n}}e.PieceTreeBase=h}),define(ee[149],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getWordAtText=e.ensureValidWordDefinition=e.DEFAULT_WORD_REGEXP=e.USUAL_WORD_SEPARATORS=void 0,e.USUAL_WORD_SEPARATORS="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function L(S=""){let b="(-?\\d*\\.\\d\\w*)|([^";for(const p of e.USUAL_WORD_SEPARATORS)S.indexOf(p)>=0||(b+="\\"+p);return b+="\\s]+)",new RegExp(b,"g")}e.DEFAULT_WORD_REGEXP=L();function N(S){let b=e.DEFAULT_WORD_REGEXP;if(S&&S instanceof RegExp)if(S.global)b=S;else{let p="g";S.ignoreCase&&(p+="i"),S.multiline&&(p+="m"),S.unicode&&(p+="u"),b=new RegExp(S.source,p)}return b.lastIndex=0,b}e.ensureValidWordDefinition=N;const M={maxLen:1e3,windowSize:15,timeBudget:150};function E(S,b,p,v,i=M){if(p.length>i.maxLen){let d=S-i.maxLen/2;return d<0?d=0:v+=d,p=p.substring(d,S+i.maxLen/2),E(S,b,p,v,i)}const t=Date.now(),a=S-1-v;let l=-1,h=null;for(let d=1;!(Date.now()-t>=i.timeBudget);d++){const u=a-i.windowSize*d;b.lastIndex=Math.max(0,u);const n=g(b,p,a,l);if(!n&&h||(h=n,u<=0))break;l=u}if(h){let d={word:h[0],startColumn:v+1+h.index,endColumn:v+1+h.index+h[0].length};return b.lastIndex=0,d}return null}e.getWordAtText=E;function g(S,b,p,v){let i;for(;i=S.exec(b);){const t=i.index||0;if(t<=p&&S.lastIndex>=p)return i;if(v>0&&t>v)return null}return null}}),define(ee[118],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoClosingPairs=e.StandardAutoClosingPairConditional=e.IndentAction=void 0;var L;(function(g){g[g.None=0]="None",g[g.Indent=1]="Indent",g[g.IndentOutdent=2]="IndentOutdent",g[g.Outdent=3]="Outdent"})(L=e.IndentAction||(e.IndentAction={}));class N{constructor(S){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=S.open,this.close=S.close,this._standardTokenMask=0,Array.isArray(S.notIn))for(let b=0,p=S.notIn.length;b<p;b++)switch(S.notIn[b]){case"string":this._standardTokenMask|=2;break;case"comment":this._standardTokenMask|=1;break;case"regex":this._standardTokenMask|=4;break}}isOK(S){return(this._standardTokenMask&S)==0}shouldAutoClose(S,b){if(S.getTokenCount()===0)return!0;const p=S.findTokenIndexAtOffset(b-2),v=S.getStandardTokenType(p);return this.isOK(v)}_findNeutralCharacterInRange(S,b){for(let p=S;p<=b;p++){const v=String.fromCharCode(p);if(!this.open.includes(v)&&!this.close.includes(v))return v}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}e.StandardAutoClosingPairConditional=N;class M{constructor(S){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const b of S)E(this.autoClosingPairsOpenByStart,b.open.charAt(0),b),E(this.autoClosingPairsOpenByEnd,b.open.charAt(b.open.length-1),b),E(this.autoClosingPairsCloseByStart,b.close.charAt(0),b),E(this.autoClosingPairsCloseByEnd,b.close.charAt(b.close.length-1),b),b.close.length===1&&b.open.length===1&&E(this.autoClosingPairsCloseSingleChar,b.close,b)}}e.AutoClosingPairs=M;function E(g,S,b){g.has(S)?g.get(S).push(b):g.set(S,[b])}}),define(ee[411],te([0,1,217,58]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.score=void 0;function M(E,g,S,b){if(Array.isArray(E)){let p=0;for(const v of E){const i=M(v,g,S,b);if(i===10)return i;i>p&&(p=i)}return p}else{if(typeof E=="string")return b?E==="*"?5:E===S?10:0:0;if(E){const{language:p,pattern:v,scheme:i,hasAccessToAllModels:t}=E;if(!b&&!t)return 0;let a=0;if(i)if(i===g.scheme)a=10;else if(i==="*")a=5;else return 0;if(p)if(p===S)a=10;else if(p==="*")a=Math.max(a,5);else return 0;if(v){let l;if(typeof v=="string"?l=v:l=Object.assign(Object.assign({},v),{base:(0,N.normalize)(v.base)}),l===g.fsPath||(0,L.match)(l,g.fsPath))a=10;else return 0}return a}else return 0}}e.score=M}),define(ee[412],te([0,1,101]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeLinks=e.LinkComputer=e.StateMachine=e.Uint8Matrix=void 0;class N{constructor(t,a,l){const h=new Uint8Array(t*a);for(let d=0,u=t*a;d<u;d++)h[d]=l;this._data=h,this.rows=t,this.cols=a}get(t,a){return this._data[t*this.cols+a]}set(t,a,l){this._data[t*this.cols+a]=l}}e.Uint8Matrix=N;class M{constructor(t){let a=0,l=0;for(let d=0,u=t.length;d<u;d++){let[n,r,s]=t[d];r>a&&(a=r),n>l&&(l=n),s>l&&(l=s)}a++,l++;let h=new N(l,a,0);for(let d=0,u=t.length;d<u;d++){let[n,r,s]=t[d];h.set(n,r,s)}this._states=h,this._maxCharCode=a}nextState(t,a){return a<0||a>=this._maxCharCode?0:this._states.get(t,a)}}e.StateMachine=M;let E=null;function g(){return E===null&&(E=new M([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),E}let S=null;function b(){if(S===null){S=new L.CharacterClassifier(0);const i=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let a=0;a<i.length;a++)S.set(i.charCodeAt(a),1);const t=".,;";for(let a=0;a<t.length;a++)S.set(t.charCodeAt(a),2)}return S}class p{static _createLink(t,a,l,h,d){let u=d-1;do{const n=a.charCodeAt(u);if(t.get(n)!==2)break;u--}while(u>h);if(h>0){const n=a.charCodeAt(h-1),r=a.charCodeAt(u);(n===40&&r===41||n===91&&r===93||n===123&&r===125)&&u--}return{range:{startLineNumber:l,startColumn:h+1,endLineNumber:l,endColumn:u+2},url:a.substring(h,u+1)}}static computeLinks(t,a=g()){const l=b();let h=[];for(let d=1,u=t.getLineCount();d<=u;d++){const n=t.getLineContent(d),r=n.length;let s=0,o=0,m=0,_=1,f=!1,c=!1,C=!1,y=!1;for(;s<r;){let w=!1;const D=n.charCodeAt(s);if(_===13){let I;switch(D){case 40:f=!0,I=0;break;case 41:I=f?0:1;break;case 91:C=!0,c=!0,I=0;break;case 93:C=!1,I=c?0:1;break;case 123:y=!0,I=0;break;case 125:I=y?0:1;break;case 39:I=m===34||m===96?0:1;break;case 34:I=m===39||m===96?0:1;break;case 96:I=m===39||m===34?0:1;break;case 42:I=m===42?1:0;break;case 124:I=m===124?1:0;break;case 32:I=C?0:1;break;default:I=l.get(D)}I===1&&(h.push(p._createLink(l,n,d,o,s)),w=!0)}else if(_===12){let I;D===91?(c=!0,I=0):I=l.get(D),I===1?w=!0:_=13}else _=a.nextState(_,D),_===0&&(w=!0);w&&(_=1,f=!1,c=!1,y=!1,o=s+1,m=D),s++}_===13&&h.push(p._createLink(l,n,d,o,r))}return h}}e.LinkComputer=p;function v(i){return!i||typeof i.getLineCount!="function"||typeof i.getLineContent!="function"?[]:p.computeLinks(i)}e.computeLinks=v}),define(ee[83],te([0,1,146]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.nullTokenize2=e.nullTokenize=e.NULL_MODE_ID=e.NULL_STATE=void 0;class N{clone(){return this}equals(S){return this===S}}e.NULL_STATE=new N,e.NULL_MODE_ID="vs.editor.nullMode";function M(g,S,b,p){return new L.TokenizationResult([new L.Token(p,"",g)],b)}e.nullTokenize=M;function E(g,S,b,p){let v=new Uint32Array(2);return v[0]=p,v[1]=(g<<0|0<<8|0<<11|1<<14|2<<23)>>>0,new L.TokenizationResult2(v,b===null?e.NULL_STATE:b)}e.nullTokenize2=E}),define(ee[150],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ignoreBracketsInToken=e.ScopedLineTokens=e.createScopedLineTokens=void 0;function L(E,g){let S=E.getCount(),b=E.findTokenIndexAtOffset(g),p=E.getLanguageId(b),v=b;for(;v+1<S&&E.getLanguageId(v+1)===p;)v++;let i=b;for(;i>0&&E.getLanguageId(i-1)===p;)i--;return new N(E,p,i,v+1,E.getStartOffset(i),E.getEndOffset(v))}e.createScopedLineTokens=L;class N{constructor(g,S,b,p,v,i){this._scopedLineTokensBrand=void 0,this._actual=g,this.languageId=S,this._firstTokenIndex=b,this._lastTokenIndex=p,this.firstCharOffset=v,this._lastCharOffset=i}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(g){return this._actual.getLineContent().substring(0,this.firstCharOffset+g)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(g){return this._actual.findTokenIndexAtOffset(g+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(g){return this._actual.getStandardTokenType(g+this._firstTokenIndex)}}e.ScopedLineTokens=N;function M(E){return(E&7)!=0}e.ignoreBracketsInToken=M}),define(ee[413],te([0,1,118]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterPairSupport=void 0;class N{constructor(g){if(g.autoClosingPairs?this._autoClosingPairs=g.autoClosingPairs.map(S=>new L.StandardAutoClosingPairConditional(S)):g.brackets?this._autoClosingPairs=g.brackets.map(S=>new L.StandardAutoClosingPairConditional({open:S[0],close:S[1]})):this._autoClosingPairs=[],g.colorizedBracketPairs?this._colorizedBracketPairs=M(g.colorizedBracketPairs.map(S=>[S[0],S[1]])):g.brackets?this._colorizedBracketPairs=M(g.brackets.map(S=>[S[0],S[1]]).filter(S=>!(S[0]==="<"&&S[1]===">"))):this._colorizedBracketPairs=[],g.__electricCharacterSupport&&g.__electricCharacterSupport.docComment){const S=g.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new L.StandardAutoClosingPairConditional({open:S.open,close:S.close||""}))}this._autoCloseBefore=typeof g.autoCloseBefore=="string"?g.autoCloseBefore:N.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=g.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}getSurroundingPairs(){return this._surroundingPairs}getColorizedBrackets(){return this._colorizedBracketPairs}}e.CharacterPairSupport=N,N.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=`;:.,=}])> 
	`,N.DEFAULT_AUTOCLOSE_BEFORE_WHITESPACE=` 
	`;function M(E){return E.filter(([g,S])=>g!==""&&S!=="")}}),define(ee[414],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentRulesSupport=void 0;function L(M){return M.global&&(M.lastIndex=0),!0}class N{constructor(E){this._indentationRules=E}shouldIncrease(E){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&L(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(E))}shouldDecrease(E){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&L(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(E))}shouldIndentNextLine(E){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&L(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(E))}shouldIgnore(E){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&L(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(E))}getIndentMetadata(E){let g=0;return this.shouldIncrease(E)&&(g+=1),this.shouldDecrease(E)&&(g+=2),this.shouldIndentNextLine(E)&&(g+=4),this.shouldIgnore(E)&&(g+=8),g}}e.IndentRulesSupport=N}),define(ee[415],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BasicInplaceReplace=void 0;class L{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(M,E,g,S,b){if(M&&E){let p=this.doNavigateValueSet(E,b);if(p)return{range:M,value:p}}if(g&&S){let p=this.doNavigateValueSet(S,b);if(p)return{range:g,value:p}}return null}doNavigateValueSet(M,E){let g=this.numberReplace(M,E);return g!==null?g:this.textReplace(M,E)}numberReplace(M,E){let g=Math.pow(10,M.length-(M.lastIndexOf(".")+1)),S=Number(M),b=parseFloat(M);return!isNaN(S)&&!isNaN(b)&&S===b?S===0&&!E?null:(S=Math.floor(S*g),S+=E?g:-g,String(S/g)):null}textReplace(M,E){return this.valueSetsReplace(this._defaultValueSet,M,E)}valueSetsReplace(M,E,g){let S=null;for(let b=0,p=M.length;S===null&&b<p;b++)S=this.valueSetReplace(M[b],E,g);return S}valueSetReplace(M,E,g){let S=M.indexOf(E);return S>=0?(S+=g?1:-1,S<0?S=M.length-1:S%=M.length,M[S]):null}}e.BasicInplaceReplace=L,L.INSTANCE=new L}),define(ee[416],te([0,1,12,8,118]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OnEnterSupport=void 0;class E{constructor(S){S=S||{},S.brackets=S.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],S.brackets.forEach(b=>{const p=E._createOpenBracketRegExp(b[0]),v=E._createCloseBracketRegExp(b[1]);p&&v&&this._brackets.push({open:b[0],openRegExp:p,close:b[1],closeRegExp:v})}),this._regExpRules=S.onEnterRules||[]}onEnter(S,b,p,v){if(S>=3)for(let i=0,t=this._regExpRules.length;i<t;i++){let a=this._regExpRules[i];if([{reg:a.beforeText,text:p},{reg:a.afterText,text:v},{reg:a.previousLineText,text:b}].every(h=>h.reg?(h.reg.lastIndex=0,h.reg.test(h.text)):!0))return a.action}if(S>=2&&p.length>0&&v.length>0)for(let i=0,t=this._brackets.length;i<t;i++){let a=this._brackets[i];if(a.openRegExp.test(p)&&a.closeRegExp.test(v))return{indentAction:M.IndentAction.IndentOutdent}}if(S>=2&&p.length>0){for(let i=0,t=this._brackets.length;i<t;i++)if(this._brackets[i].openRegExp.test(p))return{indentAction:M.IndentAction.Indent}}return null}static _createOpenBracketRegExp(S){let b=N.escapeRegExpCharacters(S);return/\B/.test(b.charAt(0))||(b="\\b"+b),b+="\\s*$",E._safeRegExp(b)}static _createCloseBracketRegExp(S){let b=N.escapeRegExpCharacters(S);return/\B/.test(b.charAt(b.length-1))||(b=b+"\\b"),b="^\\s*"+b,E._safeRegExp(b)}static _safeRegExp(S){try{return new RegExp(S)}catch(b){return(0,L.onUnexpectedError)(b),null}}}e.OnEnterSupport=E}),define(ee[178],te([0,1,8,89,3]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketsUtils=e.RichEditBrackets=e.RichEditBracket=void 0;class E{constructor(s,o,m,_,f,c){this._richEditBracketBrand=void 0,this.languageId=s,this.index=o,this.open=m,this.close=_,this.forwardRegex=f,this.reversedRegex=c,this._openSet=E._toSet(this.open),this._closeSet=E._toSet(this.close)}isOpen(s){return this._openSet.has(s)}isClose(s){return this._closeSet.has(s)}static _toSet(s){const o=new Set;for(const m of s)o.add(m);return o}}e.RichEditBracket=E;function g(r){const s=r.length;r=r.map(c=>[c[0].toLowerCase(),c[1].toLowerCase()]);const o=[];for(let c=0;c<s;c++)o[c]=c;const m=(c,C)=>{const[y,w]=c,[D,I]=C;return y===D||y===I||w===D||w===I},_=(c,C)=>{const y=Math.min(c,C),w=Math.max(c,C);for(let D=0;D<s;D++)o[D]===w&&(o[D]=y)};for(let c=0;c<s;c++){const C=r[c];for(let y=c+1;y<s;y++){const w=r[y];m(C,w)&&_(o[c],o[y])}}const f=[];for(let c=0;c<s;c++){let C=[],y=[];for(let w=0;w<s;w++)if(o[w]===c){const[D,I]=r[w];C.push(D),y.push(I)}C.length>0&&f.push({open:C,close:y})}return f}class S{constructor(s,o){this._richEditBracketsBrand=void 0;const m=g(o);this.brackets=m.map((_,f)=>new E(s,f,_.open,_.close,i(_.open,_.close,m,f),t(_.open,_.close,m,f))),this.forwardRegex=a(this.brackets),this.reversedRegex=l(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const _ of this.brackets){for(const f of _.open)this.textIsBracket[f]=_,this.textIsOpenBracket[f]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,f.length);for(const f of _.close)this.textIsBracket[f]=_,this.textIsOpenBracket[f]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,f.length)}}}e.RichEditBrackets=S;function b(r,s,o,m){for(let _=0,f=s.length;_<f;_++){if(_===o)continue;const c=s[_];for(const C of c.open)C.indexOf(r)>=0&&m.push(C);for(const C of c.close)C.indexOf(r)>=0&&m.push(C)}}function p(r,s){return r.length-s.length}function v(r){if(r.length<=1)return r;const s=[],o=new Set;for(const m of r)o.has(m)||(s.push(m),o.add(m));return s}function i(r,s,o,m){let _=[];_=_.concat(r),_=_.concat(s);for(let f=0,c=_.length;f<c;f++)b(_[f],o,m,_);return _=v(_),_.sort(p),_.reverse(),d(_)}function t(r,s,o,m){let _=[];_=_.concat(r),_=_.concat(s);for(let f=0,c=_.length;f<c;f++)b(_[f],o,m,_);return _=v(_),_.sort(p),_.reverse(),d(_.map(u))}function a(r){let s=[];for(const o of r){for(const m of o.open)s.push(m);for(const m of o.close)s.push(m)}return s=v(s),d(s)}function l(r){let s=[];for(const o of r){for(const m of o.open)s.push(m);for(const m of o.close)s.push(m)}return s=v(s),d(s.map(u))}function h(r){const s=/^[\w ]+$/.test(r);return r=L.escapeRegExpCharacters(r),s?`\\b${r}\\b`:r}function d(r){let s=`(${r.map(h).join(")|(")})`;return L.createRegExp(s,!0)}const u=function(){function r(m){if(N.hasTextDecoder){const _=new Uint16Array(m.length);let f=0;for(let c=m.length-1;c>=0;c--)_[f++]=m.charCodeAt(c);return N.getPlatformTextDecoder().decode(_)}else{let _=[],f=0;for(let c=m.length-1;c>=0;c--)_[f++]=m.charAt(c);return _.join("")}}let s=null,o=null;return function(_){return s!==_&&(s=_,o=r(s)),o}}();class n{static _findPrevBracketInText(s,o,m,_){let f=m.match(s);if(!f)return null;let c=m.length-(f.index||0),C=f[0].length,y=_+c;return new M.Range(o,y-C+1,o,y+1)}static findPrevBracketInRange(s,o,m,_,f){const C=u(m).substring(m.length-f,m.length-_);return this._findPrevBracketInText(s,o,C,_)}static findNextBracketInText(s,o,m,_){let f=m.match(s);if(!f)return null;let c=f.index||0,C=f[0].length;if(C===0)return null;let y=_+c;return new M.Range(o,y+1,o,y+1+C)}static findNextBracketInRange(s,o,m,_,f){const c=m.substring(_,f);return this.findNextBracketInText(s,o,c,_)}}e.BracketsUtils=n}),define(ee[417],te([0,1,19,150,178]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketElectricCharacterSupport=void 0;class E{constructor(S){this._richEditBrackets=S}getElectricCharacters(){let S=[];if(this._richEditBrackets)for(const b of this._richEditBrackets.brackets)for(const p of b.close){const v=p.charAt(p.length-1);S.push(v)}return(0,L.distinct)(S)}onElectricCharacter(S,b,p){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const v=b.findTokenIndexAtOffset(p-1);if((0,N.ignoreBracketsInToken)(b.getStandardTokenType(v)))return null;const i=this._richEditBrackets.reversedRegex,t=b.getLineContent().substring(0,p-1)+S,a=M.BracketsUtils.findPrevBracketInRange(i,1,t,0,t.length);if(!a)return null;const l=t.substring(a.startColumn-1,a.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[l])return null;const d=b.getActualLineContentBefore(a.startColumn-1);return/^\s*$/.test(d)?{matchOpenBracket:l}:null}}e.BracketElectricCharacterSupport=E}),define(ee[418],te([0,1,28]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateTokensCSSForColorMap=e.ThemeTrieElement=e.ExternalThemeTrieElement=e.ThemeTrieElementRule=e.strcmp=e.toStandardTokenType=e.TokenTheme=e.ColorMap=e.parseTokenTheme=e.ParsedTokenThemeRule=void 0;class N{constructor(u,n,r,s,o){this._parsedThemeRuleBrand=void 0,this.token=u,this.index=n,this.fontStyle=r,this.foreground=s,this.background=o}}e.ParsedTokenThemeRule=N;function M(d){if(!d||!Array.isArray(d))return[];let u=[],n=0;for(let r=0,s=d.length;r<s;r++){let o=d[r],m=-1;if(typeof o.fontStyle=="string"){m=0;let c=o.fontStyle.split(" ");for(let C=0,y=c.length;C<y;C++)switch(c[C]){case"italic":m=m|1;break;case"bold":m=m|2;break;case"underline":m=m|4;break}}let _=null;typeof o.foreground=="string"&&(_=o.foreground);let f=null;typeof o.background=="string"&&(f=o.background),u[n++]=new N(o.token||"",r,m,_,f)}return u}e.parseTokenTheme=M;function E(d,u){d.sort((C,y)=>{let w=i(C.token,y.token);return w!==0?w:C.index-y.index});let n=0,r="000000",s="ffffff";for(;d.length>=1&&d[0].token==="";){let C=d.shift();C.fontStyle!==-1&&(n=C.fontStyle),C.foreground!==null&&(r=C.foreground),C.background!==null&&(s=C.background)}let o=new S;for(let C of u)o.getId(C);let m=o.getId(r),_=o.getId(s),f=new t(n,m,_),c=new l(f);for(let C=0,y=d.length;C<y;C++){let w=d[C];c.insert(w.token,w.fontStyle,o.getId(w.foreground),o.getId(w.background))}return new b(o,c)}const g=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class S{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(u){if(u===null)return 0;const n=u.match(g);if(!n)throw new Error("Illegal value for token color: "+u);u=n[1].toUpperCase();let r=this._color2id.get(u);return r||(r=++this._lastColorId,this._color2id.set(u,r),this._id2color[r]=L.Color.fromHex("#"+u),r)}getColorMap(){return this._id2color.slice(0)}}e.ColorMap=S;class b{constructor(u,n){this._colorMap=u,this._root=n,this._cache=new Map}static createFromRawTokenTheme(u,n){return this.createFromParsedTokenTheme(M(u),n)}static createFromParsedTokenTheme(u,n){return E(u,n)}getColorMap(){return this._colorMap.getColorMap()}getThemeTrieElement(){return this._root.toExternalThemeTrieElement()}_match(u){return this._root.match(u)}match(u,n){let r=this._cache.get(n);if(typeof r=="undefined"){let s=this._match(n),o=v(n);r=(s.metadata|o<<8)>>>0,this._cache.set(n,r)}return(r|u<<0)>>>0}}e.TokenTheme=b;const p=/\b(comment|string|regex|regexp)\b/;function v(d){let u=d.match(p);if(!u)return 0;switch(u[1]){case"comment":return 1;case"string":return 2;case"regex":return 4;case"regexp":return 4}throw new Error("Unexpected match for standard token type!")}e.toStandardTokenType=v;function i(d,u){return d<u?-1:d>u?1:0}e.strcmp=i;class t{constructor(u,n,r){this._themeTrieElementRuleBrand=void 0,this._fontStyle=u,this._foreground=n,this._background=r,this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}clone(){return new t(this._fontStyle,this._foreground,this._background)}acceptOverwrite(u,n,r){u!==-1&&(this._fontStyle=u),n!==0&&(this._foreground=n),r!==0&&(this._background=r),this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}}e.ThemeTrieElementRule=t;class a{constructor(u,n=new Map){if(this.mainRule=u,n instanceof Map)this.children=n;else{this.children=new Map;for(const r in n)this.children.set(r,n[r])}}}e.ExternalThemeTrieElement=a;class l{constructor(u){this._themeTrieElementBrand=void 0,this._mainRule=u,this._children=new Map}toExternalThemeTrieElement(){const u=new Map;return this._children.forEach((n,r)=>{u.set(r,n.toExternalThemeTrieElement())}),new a(this._mainRule,u)}match(u){if(u==="")return this._mainRule;let n=u.indexOf("."),r,s;n===-1?(r=u,s=""):(r=u.substring(0,n),s=u.substring(n+1));let o=this._children.get(r);return typeof o!="undefined"?o.match(s):this._mainRule}insert(u,n,r,s){if(u===""){this._mainRule.acceptOverwrite(n,r,s);return}let o=u.indexOf("."),m,_;o===-1?(m=u,_=""):(m=u.substring(0,o),_=u.substring(o+1));let f=this._children.get(m);typeof f=="undefined"&&(f=new l(this._mainRule.clone()),this._children.set(m,f)),f.insert(_,n,r,s)}}e.ThemeTrieElement=l;function h(d){let u=[];for(let n=1,r=d.length;n<r;n++){let s=d[n];u[n]=`.mtk${n} { color: ${s}; }`}return u.push(".mtki { font-style: italic; }"),u.push(".mtkb { font-weight: bold; }"),u.push(".mtku { text-decoration: underline; text-underline-position: under; }"),u.join(`
`)}e.generateTokensCSSForColorMap=h}),define(ee[419],te([0,1,4,2]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistryImpl=void 0;class M{constructor(){this._map=new Map,this._promises=new Map,this._onDidChange=new L.Emitter,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(g){this._onDidChange.fire({changedLanguages:g,changedColorMap:!1})}register(g,S){return this._map.set(g,S),this.fire([g]),(0,N.toDisposable)(()=>{this._map.get(g)===S&&(this._map.delete(g),this.fire([g]))})}registerPromise(g,S){let b=null,p=!1;return this._promises.set(g,S.then(v=>{this._promises.delete(g),!(p||!v)&&(b=this.register(g,v))})),(0,N.toDisposable)(()=>{p=!0,b&&b.dispose()})}getPromise(g){const S=this.get(g);if(S)return Promise.resolve(S);const b=this._promises.get(g);return b?b.then(p=>this.get(g)):null}get(g){return this._map.get(g)||null}setColorMap(g){this._colorMap=g,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}e.TokenizationRegistryImpl=M}),define(ee[238],te([0,1,3,148,8,20]),function(Q,e,L,N,M,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnicodeTextModelHighlighter=void 0;class g{static computeUnicodeHighlights(v,i,t){const a=t?t.startLineNumber:1,l=t?t.endLineNumber:v.getLineCount(),h=new b(i),d=h.getCandidateCodePoints();let u;d==="allNonBasicAscii"?u=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):u=new RegExp(`${S(Array.from(d))}`,"g");const n=new N.Searcher(null,u),r=[];let s=!1,o,m=0,_=0,f=0;e:for(let c=a,C=l;c<=C;c++){const y=v.getLineContent(c),w=y.length;n.reset(0);do if(o=n.next(y),o){let D=o.index,I=o.index+o[0].length;if(D>0){const P=y.charCodeAt(D-1);M.isHighSurrogate(P)&&D--}if(I+1<w){const P=y.charCodeAt(I-1);M.isHighSurrogate(P)&&I++}const T=y.substring(D,I),F=h.shouldHighlightNonBasicASCII(T);if(F!==0){F===3?m++:F===2?_++:F===1?f++:(0,E.assertNever)(F);const P=1e3;if(r.length>=P){s=!0;break e}r.push(new L.Range(c,D+1,c,I+1))}}while(o)}return{ranges:r,hasMore:s,ambiguousCharacterCount:m,invisibleCharacterCount:_,nonBasicAsciiCharacterCount:f}}static computeUnicodeHighlightReason(v,i){switch(new b(i).shouldHighlightNonBasicASCII(v)){case 0:return null;case 2:return{kind:1};case 3:const l=M.AmbiguousCharacters.getPrimaryConfusable(v.codePointAt(0));return{kind:0,confusableWith:String.fromCodePoint(l)};case 1:return{kind:2}}}}e.UnicodeTextModelHighlighter=g;function S(p,v){return`[${M.escapeRegExpCharacters(p.map(t=>String.fromCodePoint(t)).join(""))}]`}class b{constructor(v){this.options=v,this.allowedCodePoints=new Set(v.allowedCodePoints)}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const v=new Set;if(this.options.invisibleCharacters)for(const i of M.InvisibleCharacters.codePoints)v.add(i);if(this.options.ambiguousCharacters)for(const i of M.AmbiguousCharacters.getPrimaryConfusableCodePoints())v.add(i);for(const i of this.allowedCodePoints)v.delete(i);return v}shouldHighlightNonBasicASCII(v){const i=v.codePointAt(0);return this.allowedCodePoints.has(i)?0:this.options.nonBasicASCII?1:this.options.invisibleCharacters&&!(v===" "||v===`
`||v==="	")&&M.InvisibleCharacters.isInvisibleCharacter(i)?2:this.options.ambiguousCharacters&&M.AmbiguousCharacters.isAmbiguous(i)?3:0}}}),define(ee[420],te([0,1,98,15]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decodeSemanticTokensDto=e.encodeSemanticTokensDto=void 0;function M(v){for(let i=0,t=v.length;i<t;i+=4){const a=v[i+0],l=v[i+1],h=v[i+2],d=v[i+3];v[i+0]=d,v[i+1]=h,v[i+2]=l,v[i+3]=a}}function E(v){const i=new Uint8Array(v.buffer,v.byteOffset,v.length*4);return N.isLittleEndian()||M(i),L.VSBuffer.wrap(i)}function g(v){const i=v.buffer;if(N.isLittleEndian()||M(i),i.byteOffset%4==0)return new Uint32Array(i.buffer,i.byteOffset,i.length/4);{const t=new Uint8Array(i.byteLength);return t.set(i),new Uint32Array(t.buffer,t.byteOffset,t.length/4)}}function S(v){const i=new Uint32Array(b(v));let t=0;if(i[t++]=v.id,v.type==="full")i[t++]=1,i[t++]=v.data.length,i.set(v.data,t),t+=v.data.length;else{i[t++]=2,i[t++]=v.deltas.length;for(const a of v.deltas)i[t++]=a.start,i[t++]=a.deleteCount,a.data?(i[t++]=a.data.length,i.set(a.data,t),t+=a.data.length):i[t++]=0}return E(i)}e.encodeSemanticTokensDto=S;function b(v){let i=0;if(i+=1+1,v.type==="full")i+=1+v.data.length;else{i+=1,i+=(1+1+1)*v.deltas.length;for(const t of v.deltas)t.data&&(i+=t.data.length)}return i}function p(v){const i=g(v);let t=0;const a=i[t++];if(i[t++]===1){const u=i[t++],n=i.subarray(t,t+u);return t+=u,{id:a,type:"full",data:n}}const h=i[t++];let d=[];for(let u=0;u<h;u++){const n=i[t++],r=i[t++],s=i[t++];let o;s>0&&(o=i.subarray(t,t+s),t+=s),d[u]={start:n,deleteCount:r,data:o}}return{id:a,type:"delta",deltas:d}}e.decodeSemanticTokensDto=p}),define(ee[179],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WrappingIndent=e.TrackedRangeStickiness=e.TextEditorCursorStyle=e.TextEditorCursorBlinkingStyle=e.SymbolTag=e.SymbolKind=e.SignatureHelpTriggerKind=e.SelectionDirection=e.ScrollbarVisibility=e.ScrollType=e.RenderMinimap=e.RenderLineNumbersType=e.OverviewRulerLane=e.OverlayWidgetPositionPreference=e.MouseTargetType=e.MinimapPosition=e.MarkerTag=e.MarkerSeverity=e.KeyCode=e.InlineCompletionTriggerKind=e.InlayHintKind=e.IndentAction=e.EndOfLineSequence=e.EndOfLinePreference=e.EditorOption=e.EditorAutoIndentStrategy=e.DocumentHighlightKind=e.DefaultEndOfLine=e.CursorChangeReason=e.ContentWidgetPositionPreference=e.CompletionTriggerKind=e.CompletionItemTag=e.CompletionItemKind=e.CompletionItemInsertTextRule=e.AccessibilitySupport=void 0;var L;(function(k){k[k.Unknown=0]="Unknown",k[k.Disabled=1]="Disabled",k[k.Enabled=2]="Enabled"})(L=e.AccessibilitySupport||(e.AccessibilitySupport={}));var N;(function(k){k[k.KeepWhitespace=1]="KeepWhitespace",k[k.InsertAsSnippet=4]="InsertAsSnippet"})(N=e.CompletionItemInsertTextRule||(e.CompletionItemInsertTextRule={}));var M;(function(k){k[k.Method=0]="Method",k[k.Function=1]="Function",k[k.Constructor=2]="Constructor",k[k.Field=3]="Field",k[k.Variable=4]="Variable",k[k.Class=5]="Class",k[k.Struct=6]="Struct",k[k.Interface=7]="Interface",k[k.Module=8]="Module",k[k.Property=9]="Property",k[k.Event=10]="Event",k[k.Operator=11]="Operator",k[k.Unit=12]="Unit",k[k.Value=13]="Value",k[k.Constant=14]="Constant",k[k.Enum=15]="Enum",k[k.EnumMember=16]="EnumMember",k[k.Keyword=17]="Keyword",k[k.Text=18]="Text",k[k.Color=19]="Color",k[k.File=20]="File",k[k.Reference=21]="Reference",k[k.Customcolor=22]="Customcolor",k[k.Folder=23]="Folder",k[k.TypeParameter=24]="TypeParameter",k[k.User=25]="User",k[k.Issue=26]="Issue",k[k.Snippet=27]="Snippet"})(M=e.CompletionItemKind||(e.CompletionItemKind={}));var E;(function(k){k[k.Deprecated=1]="Deprecated"})(E=e.CompletionItemTag||(e.CompletionItemTag={}));var g;(function(k){k[k.Invoke=0]="Invoke",k[k.TriggerCharacter=1]="TriggerCharacter",k[k.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(g=e.CompletionTriggerKind||(e.CompletionTriggerKind={}));var S;(function(k){k[k.EXACT=0]="EXACT",k[k.ABOVE=1]="ABOVE",k[k.BELOW=2]="BELOW"})(S=e.ContentWidgetPositionPreference||(e.ContentWidgetPositionPreference={}));var b;(function(k){k[k.NotSet=0]="NotSet",k[k.ContentFlush=1]="ContentFlush",k[k.RecoverFromMarkers=2]="RecoverFromMarkers",k[k.Explicit=3]="Explicit",k[k.Paste=4]="Paste",k[k.Undo=5]="Undo",k[k.Redo=6]="Redo"})(b=e.CursorChangeReason||(e.CursorChangeReason={}));var p;(function(k){k[k.LF=1]="LF",k[k.CRLF=2]="CRLF"})(p=e.DefaultEndOfLine||(e.DefaultEndOfLine={}));var v;(function(k){k[k.Text=0]="Text",k[k.Read=1]="Read",k[k.Write=2]="Write"})(v=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var i;(function(k){k[k.None=0]="None",k[k.Keep=1]="Keep",k[k.Brackets=2]="Brackets",k[k.Advanced=3]="Advanced",k[k.Full=4]="Full"})(i=e.EditorAutoIndentStrategy||(e.EditorAutoIndentStrategy={}));var t;(function(k){k[k.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",k[k.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",k[k.accessibilitySupport=2]="accessibilitySupport",k[k.accessibilityPageSize=3]="accessibilityPageSize",k[k.ariaLabel=4]="ariaLabel",k[k.autoClosingBrackets=5]="autoClosingBrackets",k[k.autoClosingDelete=6]="autoClosingDelete",k[k.autoClosingOvertype=7]="autoClosingOvertype",k[k.autoClosingQuotes=8]="autoClosingQuotes",k[k.autoIndent=9]="autoIndent",k[k.automaticLayout=10]="automaticLayout",k[k.autoSurround=11]="autoSurround",k[k.bracketPairColorization=12]="bracketPairColorization",k[k.guides=13]="guides",k[k.codeLens=14]="codeLens",k[k.codeLensFontFamily=15]="codeLensFontFamily",k[k.codeLensFontSize=16]="codeLensFontSize",k[k.colorDecorators=17]="colorDecorators",k[k.columnSelection=18]="columnSelection",k[k.comments=19]="comments",k[k.contextmenu=20]="contextmenu",k[k.copyWithSyntaxHighlighting=21]="copyWithSyntaxHighlighting",k[k.cursorBlinking=22]="cursorBlinking",k[k.cursorSmoothCaretAnimation=23]="cursorSmoothCaretAnimation",k[k.cursorStyle=24]="cursorStyle",k[k.cursorSurroundingLines=25]="cursorSurroundingLines",k[k.cursorSurroundingLinesStyle=26]="cursorSurroundingLinesStyle",k[k.cursorWidth=27]="cursorWidth",k[k.disableLayerHinting=28]="disableLayerHinting",k[k.disableMonospaceOptimizations=29]="disableMonospaceOptimizations",k[k.domReadOnly=30]="domReadOnly",k[k.dragAndDrop=31]="dragAndDrop",k[k.emptySelectionClipboard=32]="emptySelectionClipboard",k[k.extraEditorClassName=33]="extraEditorClassName",k[k.fastScrollSensitivity=34]="fastScrollSensitivity",k[k.find=35]="find",k[k.fixedOverflowWidgets=36]="fixedOverflowWidgets",k[k.folding=37]="folding",k[k.foldingStrategy=38]="foldingStrategy",k[k.foldingHighlight=39]="foldingHighlight",k[k.foldingImportsByDefault=40]="foldingImportsByDefault",k[k.unfoldOnClickAfterEndOfLine=41]="unfoldOnClickAfterEndOfLine",k[k.fontFamily=42]="fontFamily",k[k.fontInfo=43]="fontInfo",k[k.fontLigatures=44]="fontLigatures",k[k.fontSize=45]="fontSize",k[k.fontWeight=46]="fontWeight",k[k.formatOnPaste=47]="formatOnPaste",k[k.formatOnType=48]="formatOnType",k[k.glyphMargin=49]="glyphMargin",k[k.gotoLocation=50]="gotoLocation",k[k.hideCursorInOverviewRuler=51]="hideCursorInOverviewRuler",k[k.hover=52]="hover",k[k.inDiffEditor=53]="inDiffEditor",k[k.inlineSuggest=54]="inlineSuggest",k[k.letterSpacing=55]="letterSpacing",k[k.lightbulb=56]="lightbulb",k[k.lineDecorationsWidth=57]="lineDecorationsWidth",k[k.lineHeight=58]="lineHeight",k[k.lineNumbers=59]="lineNumbers",k[k.lineNumbersMinChars=60]="lineNumbersMinChars",k[k.linkedEditing=61]="linkedEditing",k[k.links=62]="links",k[k.matchBrackets=63]="matchBrackets",k[k.minimap=64]="minimap",k[k.mouseStyle=65]="mouseStyle",k[k.mouseWheelScrollSensitivity=66]="mouseWheelScrollSensitivity",k[k.mouseWheelZoom=67]="mouseWheelZoom",k[k.multiCursorMergeOverlapping=68]="multiCursorMergeOverlapping",k[k.multiCursorModifier=69]="multiCursorModifier",k[k.multiCursorPaste=70]="multiCursorPaste",k[k.occurrencesHighlight=71]="occurrencesHighlight",k[k.overviewRulerBorder=72]="overviewRulerBorder",k[k.overviewRulerLanes=73]="overviewRulerLanes",k[k.padding=74]="padding",k[k.parameterHints=75]="parameterHints",k[k.peekWidgetDefaultFocus=76]="peekWidgetDefaultFocus",k[k.definitionLinkOpensInPeek=77]="definitionLinkOpensInPeek",k[k.quickSuggestions=78]="quickSuggestions",k[k.quickSuggestionsDelay=79]="quickSuggestionsDelay",k[k.readOnly=80]="readOnly",k[k.renameOnType=81]="renameOnType",k[k.renderControlCharacters=82]="renderControlCharacters",k[k.renderFinalNewline=83]="renderFinalNewline",k[k.renderLineHighlight=84]="renderLineHighlight",k[k.renderLineHighlightOnlyWhenFocus=85]="renderLineHighlightOnlyWhenFocus",k[k.renderValidationDecorations=86]="renderValidationDecorations",k[k.renderWhitespace=87]="renderWhitespace",k[k.revealHorizontalRightPadding=88]="revealHorizontalRightPadding",k[k.roundedSelection=89]="roundedSelection",k[k.rulers=90]="rulers",k[k.scrollbar=91]="scrollbar",k[k.scrollBeyondLastColumn=92]="scrollBeyondLastColumn",k[k.scrollBeyondLastLine=93]="scrollBeyondLastLine",k[k.scrollPredominantAxis=94]="scrollPredominantAxis",k[k.selectionClipboard=95]="selectionClipboard",k[k.selectionHighlight=96]="selectionHighlight",k[k.selectOnLineNumbers=97]="selectOnLineNumbers",k[k.showFoldingControls=98]="showFoldingControls",k[k.showUnused=99]="showUnused",k[k.snippetSuggestions=100]="snippetSuggestions",k[k.smartSelect=101]="smartSelect",k[k.smoothScrolling=102]="smoothScrolling",k[k.stickyTabStops=103]="stickyTabStops",k[k.stopRenderingLineAfter=104]="stopRenderingLineAfter",k[k.suggest=105]="suggest",k[k.suggestFontSize=106]="suggestFontSize",k[k.suggestLineHeight=107]="suggestLineHeight",k[k.suggestOnTriggerCharacters=108]="suggestOnTriggerCharacters",k[k.suggestSelection=109]="suggestSelection",k[k.tabCompletion=110]="tabCompletion",k[k.tabIndex=111]="tabIndex",k[k.unicodeHighlighting=112]="unicodeHighlighting",k[k.unusualLineTerminators=113]="unusualLineTerminators",k[k.useShadowDOM=114]="useShadowDOM",k[k.useTabStops=115]="useTabStops",k[k.wordSeparators=116]="wordSeparators",k[k.wordWrap=117]="wordWrap",k[k.wordWrapBreakAfterCharacters=118]="wordWrapBreakAfterCharacters",k[k.wordWrapBreakBeforeCharacters=119]="wordWrapBreakBeforeCharacters",k[k.wordWrapColumn=120]="wordWrapColumn",k[k.wordWrapOverride1=121]="wordWrapOverride1",k[k.wordWrapOverride2=122]="wordWrapOverride2",k[k.wrappingIndent=123]="wrappingIndent",k[k.wrappingStrategy=124]="wrappingStrategy",k[k.showDeprecated=125]="showDeprecated",k[k.inlayHints=126]="inlayHints",k[k.editorClassName=127]="editorClassName",k[k.pixelRatio=128]="pixelRatio",k[k.tabFocusMode=129]="tabFocusMode",k[k.layoutInfo=130]="layoutInfo",k[k.wrappingInfo=131]="wrappingInfo"})(t=e.EditorOption||(e.EditorOption={}));var a;(function(k){k[k.TextDefined=0]="TextDefined",k[k.LF=1]="LF",k[k.CRLF=2]="CRLF"})(a=e.EndOfLinePreference||(e.EndOfLinePreference={}));var l;(function(k){k[k.LF=0]="LF",k[k.CRLF=1]="CRLF"})(l=e.EndOfLineSequence||(e.EndOfLineSequence={}));var h;(function(k){k[k.None=0]="None",k[k.Indent=1]="Indent",k[k.IndentOutdent=2]="IndentOutdent",k[k.Outdent=3]="Outdent"})(h=e.IndentAction||(e.IndentAction={}));var d;(function(k){k[k.Other=0]="Other",k[k.Type=1]="Type",k[k.Parameter=2]="Parameter"})(d=e.InlayHintKind||(e.InlayHintKind={}));var u;(function(k){k[k.Automatic=0]="Automatic",k[k.Explicit=1]="Explicit"})(u=e.InlineCompletionTriggerKind||(e.InlineCompletionTriggerKind={}));var n;(function(k){k[k.DependsOnKbLayout=-1]="DependsOnKbLayout",k[k.Unknown=0]="Unknown",k[k.Backspace=1]="Backspace",k[k.Tab=2]="Tab",k[k.Enter=3]="Enter",k[k.Shift=4]="Shift",k[k.Ctrl=5]="Ctrl",k[k.Alt=6]="Alt",k[k.PauseBreak=7]="PauseBreak",k[k.CapsLock=8]="CapsLock",k[k.Escape=9]="Escape",k[k.Space=10]="Space",k[k.PageUp=11]="PageUp",k[k.PageDown=12]="PageDown",k[k.End=13]="End",k[k.Home=14]="Home",k[k.LeftArrow=15]="LeftArrow",k[k.UpArrow=16]="UpArrow",k[k.RightArrow=17]="RightArrow",k[k.DownArrow=18]="DownArrow",k[k.Insert=19]="Insert",k[k.Delete=20]="Delete",k[k.Digit0=21]="Digit0",k[k.Digit1=22]="Digit1",k[k.Digit2=23]="Digit2",k[k.Digit3=24]="Digit3",k[k.Digit4=25]="Digit4",k[k.Digit5=26]="Digit5",k[k.Digit6=27]="Digit6",k[k.Digit7=28]="Digit7",k[k.Digit8=29]="Digit8",k[k.Digit9=30]="Digit9",k[k.KeyA=31]="KeyA",k[k.KeyB=32]="KeyB",k[k.KeyC=33]="KeyC",k[k.KeyD=34]="KeyD",k[k.KeyE=35]="KeyE",k[k.KeyF=36]="KeyF",k[k.KeyG=37]="KeyG",k[k.KeyH=38]="KeyH",k[k.KeyI=39]="KeyI",k[k.KeyJ=40]="KeyJ",k[k.KeyK=41]="KeyK",k[k.KeyL=42]="KeyL",k[k.KeyM=43]="KeyM",k[k.KeyN=44]="KeyN",k[k.KeyO=45]="KeyO",k[k.KeyP=46]="KeyP",k[k.KeyQ=47]="KeyQ",k[k.KeyR=48]="KeyR",k[k.KeyS=49]="KeyS",k[k.KeyT=50]="KeyT",k[k.KeyU=51]="KeyU",k[k.KeyV=52]="KeyV",k[k.KeyW=53]="KeyW",k[k.KeyX=54]="KeyX",k[k.KeyY=55]="KeyY",k[k.KeyZ=56]="KeyZ",k[k.Meta=57]="Meta",k[k.ContextMenu=58]="ContextMenu",k[k.F1=59]="F1",k[k.F2=60]="F2",k[k.F3=61]="F3",k[k.F4=62]="F4",k[k.F5=63]="F5",k[k.F6=64]="F6",k[k.F7=65]="F7",k[k.F8=66]="F8",k[k.F9=67]="F9",k[k.F10=68]="F10",k[k.F11=69]="F11",k[k.F12=70]="F12",k[k.F13=71]="F13",k[k.F14=72]="F14",k[k.F15=73]="F15",k[k.F16=74]="F16",k[k.F17=75]="F17",k[k.F18=76]="F18",k[k.F19=77]="F19",k[k.NumLock=78]="NumLock",k[k.ScrollLock=79]="ScrollLock",k[k.Semicolon=80]="Semicolon",k[k.Equal=81]="Equal",k[k.Comma=82]="Comma",k[k.Minus=83]="Minus",k[k.Period=84]="Period",k[k.Slash=85]="Slash",k[k.Backquote=86]="Backquote",k[k.BracketLeft=87]="BracketLeft",k[k.Backslash=88]="Backslash",k[k.BracketRight=89]="BracketRight",k[k.Quote=90]="Quote",k[k.OEM_8=91]="OEM_8",k[k.IntlBackslash=92]="IntlBackslash",k[k.Numpad0=93]="Numpad0",k[k.Numpad1=94]="Numpad1",k[k.Numpad2=95]="Numpad2",k[k.Numpad3=96]="Numpad3",k[k.Numpad4=97]="Numpad4",k[k.Numpad5=98]="Numpad5",k[k.Numpad6=99]="Numpad6",k[k.Numpad7=100]="Numpad7",k[k.Numpad8=101]="Numpad8",k[k.Numpad9=102]="Numpad9",k[k.NumpadMultiply=103]="NumpadMultiply",k[k.NumpadAdd=104]="NumpadAdd",k[k.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",k[k.NumpadSubtract=106]="NumpadSubtract",k[k.NumpadDecimal=107]="NumpadDecimal",k[k.NumpadDivide=108]="NumpadDivide",k[k.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",k[k.ABNT_C1=110]="ABNT_C1",k[k.ABNT_C2=111]="ABNT_C2",k[k.AudioVolumeMute=112]="AudioVolumeMute",k[k.AudioVolumeUp=113]="AudioVolumeUp",k[k.AudioVolumeDown=114]="AudioVolumeDown",k[k.BrowserSearch=115]="BrowserSearch",k[k.BrowserHome=116]="BrowserHome",k[k.BrowserBack=117]="BrowserBack",k[k.BrowserForward=118]="BrowserForward",k[k.MediaTrackNext=119]="MediaTrackNext",k[k.MediaTrackPrevious=120]="MediaTrackPrevious",k[k.MediaStop=121]="MediaStop",k[k.MediaPlayPause=122]="MediaPlayPause",k[k.LaunchMediaPlayer=123]="LaunchMediaPlayer",k[k.LaunchMail=124]="LaunchMail",k[k.LaunchApp2=125]="LaunchApp2",k[k.MAX_VALUE=126]="MAX_VALUE"})(n=e.KeyCode||(e.KeyCode={}));var r;(function(k){k[k.Hint=1]="Hint",k[k.Info=2]="Info",k[k.Warning=4]="Warning",k[k.Error=8]="Error"})(r=e.MarkerSeverity||(e.MarkerSeverity={}));var s;(function(k){k[k.Unnecessary=1]="Unnecessary",k[k.Deprecated=2]="Deprecated"})(s=e.MarkerTag||(e.MarkerTag={}));var o;(function(k){k[k.Inline=1]="Inline",k[k.Gutter=2]="Gutter"})(o=e.MinimapPosition||(e.MinimapPosition={}));var m;(function(k){k[k.UNKNOWN=0]="UNKNOWN",k[k.TEXTAREA=1]="TEXTAREA",k[k.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",k[k.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",k[k.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",k[k.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",k[k.CONTENT_TEXT=6]="CONTENT_TEXT",k[k.CONTENT_EMPTY=7]="CONTENT_EMPTY",k[k.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",k[k.CONTENT_WIDGET=9]="CONTENT_WIDGET",k[k.OVERVIEW_RULER=10]="OVERVIEW_RULER",k[k.SCROLLBAR=11]="SCROLLBAR",k[k.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",k[k.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(m=e.MouseTargetType||(e.MouseTargetType={}));var _;(function(k){k[k.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",k[k.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",k[k.TOP_CENTER=2]="TOP_CENTER"})(_=e.OverlayWidgetPositionPreference||(e.OverlayWidgetPositionPreference={}));var f;(function(k){k[k.Left=1]="Left",k[k.Center=2]="Center",k[k.Right=4]="Right",k[k.Full=7]="Full"})(f=e.OverviewRulerLane||(e.OverviewRulerLane={}));var c;(function(k){k[k.Off=0]="Off",k[k.On=1]="On",k[k.Relative=2]="Relative",k[k.Interval=3]="Interval",k[k.Custom=4]="Custom"})(c=e.RenderLineNumbersType||(e.RenderLineNumbersType={}));var C;(function(k){k[k.None=0]="None",k[k.Text=1]="Text",k[k.Blocks=2]="Blocks"})(C=e.RenderMinimap||(e.RenderMinimap={}));var y;(function(k){k[k.Smooth=0]="Smooth",k[k.Immediate=1]="Immediate"})(y=e.ScrollType||(e.ScrollType={}));var w;(function(k){k[k.Auto=1]="Auto",k[k.Hidden=2]="Hidden",k[k.Visible=3]="Visible"})(w=e.ScrollbarVisibility||(e.ScrollbarVisibility={}));var D;(function(k){k[k.LTR=0]="LTR",k[k.RTL=1]="RTL"})(D=e.SelectionDirection||(e.SelectionDirection={}));var I;(function(k){k[k.Invoke=1]="Invoke",k[k.TriggerCharacter=2]="TriggerCharacter",k[k.ContentChange=3]="ContentChange"})(I=e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={}));var T;(function(k){k[k.File=0]="File",k[k.Module=1]="Module",k[k.Namespace=2]="Namespace",k[k.Package=3]="Package",k[k.Class=4]="Class",k[k.Method=5]="Method",k[k.Property=6]="Property",k[k.Field=7]="Field",k[k.Constructor=8]="Constructor",k[k.Enum=9]="Enum",k[k.Interface=10]="Interface",k[k.Function=11]="Function",k[k.Variable=12]="Variable",k[k.Constant=13]="Constant",k[k.String=14]="String",k[k.Number=15]="Number",k[k.Boolean=16]="Boolean",k[k.Array=17]="Array",k[k.Object=18]="Object",k[k.Key=19]="Key",k[k.Null=20]="Null",k[k.EnumMember=21]="EnumMember",k[k.Struct=22]="Struct",k[k.Event=23]="Event",k[k.Operator=24]="Operator",k[k.TypeParameter=25]="TypeParameter"})(T=e.SymbolKind||(e.SymbolKind={}));var F;(function(k){k[k.Deprecated=1]="Deprecated"})(F=e.SymbolTag||(e.SymbolTag={}));var P;(function(k){k[k.Hidden=0]="Hidden",k[k.Blink=1]="Blink",k[k.Smooth=2]="Smooth",k[k.Phase=3]="Phase",k[k.Expand=4]="Expand",k[k.Solid=5]="Solid"})(P=e.TextEditorCursorBlinkingStyle||(e.TextEditorCursorBlinkingStyle={}));var R;(function(k){k[k.Line=1]="Line",k[k.Block=2]="Block",k[k.Underline=3]="Underline",k[k.LineThin=4]="LineThin",k[k.BlockOutline=5]="BlockOutline",k[k.UnderlineThin=6]="UnderlineThin"})(R=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));var A;(function(k){k[k.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",k[k.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",k[k.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",k[k.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(A=e.TrackedRangeStickiness||(e.TrackedRangeStickiness={}));var O;(function(k){k[k.None=0]="None",k[k.Same=1]="Same",k[k.Indent=2]="Indent",k[k.DeepIndent=3]="DeepIndent"})(O=e.WrappingIndent||(e.WrappingIndent={}))}),define(ee[239],te([0,1,21,4,56,22,13,3,23,146,179]),function(Q,e,L,N,M,E,g,S,b,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoBaseAPI=e.KeyMod=void 0;class i{static chord(l,h){return(0,M.KeyChord)(l,h)}}e.KeyMod=i,i.CtrlCmd=2048,i.Shift=1024,i.Alt=512,i.WinCtrl=256;function t(){return{editor:void 0,languages:void 0,CancellationTokenSource:L.CancellationTokenSource,Emitter:N.Emitter,KeyCode:v.KeyCode,KeyMod:i,Position:g.Position,Range:S.Range,Selection:b.Selection,SelectionDirection:v.SelectionDirection,MarkerSeverity:v.MarkerSeverity,MarkerTag:v.MarkerTag,Uri:E.URI,Token:p.Token}}e.createMonacoBaseAPI=t}),define(ee[240],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewZoneManager=e.OverviewRulerZone=e.ColorZone=void 0;class L{constructor(g,S,b){this._colorZoneBrand=void 0,this.from=g|0,this.to=S|0,this.colorId=b|0}static compare(g,S){return g.colorId===S.colorId?g.from===S.from?g.to-S.to:g.from-S.from:g.colorId-S.colorId}}e.ColorZone=L;class N{constructor(g,S,b){this._overviewRulerZoneBrand=void 0,this.startLineNumber=g,this.endLineNumber=S,this.color=b,this._colorZone=null}static compare(g,S){return g.color===S.color?g.startLineNumber===S.startLineNumber?g.endLineNumber-S.endLineNumber:g.startLineNumber-S.startLineNumber:g.color<S.color?-1:1}setColorZone(g){this._colorZone=g}getColorZones(){return this._colorZone}}e.OverviewRulerZone=N;class M{constructor(g){this._getVerticalOffsetForLine=g,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(g){this._zones=g,this._zones.sort(N.compare)}setLineHeight(g){return this._lineHeight===g?!1:(this._lineHeight=g,this._colorZonesInvalid=!0,!0)}setPixelRatio(g){this._pixelRatio=g,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(g){return this._domWidth===g?!1:(this._domWidth=g,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(g){return this._domHeight===g?!1:(this._domHeight=g,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(g){return this._outerHeight===g?!1:(this._outerHeight=g,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const g=this._colorZonesInvalid,S=Math.floor(this._lineHeight),b=Math.floor(this.getCanvasHeight()),p=Math.floor(this._outerHeight),v=b/p,i=Math.floor(4*this._pixelRatio/2);let t=[];for(let a=0,l=this._zones.length;a<l;a++){const h=this._zones[a];if(!g){const _=h.getColorZones();if(_){t.push(_);continue}}const d=Math.floor(v*this._getVerticalOffsetForLine(h.startLineNumber)),u=Math.floor(v*(this._getVerticalOffsetForLine(h.endLineNumber)+S));let n=Math.floor((d+u)/2),r=u-n;r<i&&(r=i),n-r<0&&(n=r),n+r>b&&(n=b-r);const s=h.color;let o=this._color2Id[s];o||(o=++this._lastAssignedId,this._color2Id[s]=o,this._id2Color[o]=s);const m=new L(n-r,n+r,o);h.setColorZone(m),t.push(m)}return this._colorZonesInvalid=!1,t.sort(L.compare),t}}e.OverviewZoneManager=M}),define(ee[119],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleRanges=e.HorizontalPosition=e.FloatHorizontalRange=e.HorizontalRange=e.LineVisibleRanges=e.RenderingContext=e.RestrictedRenderingContext=void 0;class L{constructor(v,i){this._restrictedRenderingContextBrand=void 0,this._viewLayout=v,this.viewportData=i,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const t=this._viewLayout.getCurrentViewport();this.scrollTop=t.top,this.scrollLeft=t.left,this.viewportWidth=t.width,this.viewportHeight=t.height}getScrolledTopFromAbsoluteTop(v){return v-this.scrollTop}getVerticalOffsetForLineNumber(v){return this._viewLayout.getVerticalOffsetForLineNumber(v)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}e.RestrictedRenderingContext=L;class N extends L{constructor(v,i,t){super(v,i);this._renderingContextBrand=void 0,this._viewLines=t}linesVisibleRangesForRange(v,i){return this._viewLines.linesVisibleRangesForRange(v,i)}visibleRangeForPosition(v){return this._viewLines.visibleRangeForPosition(v)}}e.RenderingContext=N;class M{constructor(v,i,t){this.outsideRenderedLine=v,this.lineNumber=i,this.ranges=t}}e.LineVisibleRanges=M;class E{constructor(v,i){this._horizontalRangeBrand=void 0,this.left=Math.round(v),this.width=Math.round(i)}static from(v){const i=new Array(v.length);for(let t=0,a=v.length;t<a;t++){const l=v[t];i[t]=new E(l.left,l.width)}return i}toString(){return`[${this.left},${this.width}]`}}e.HorizontalRange=E;class g{constructor(v,i){this._floatHorizontalRangeBrand=void 0,this.left=v,this.width=i}toString(){return`[${this.left},${this.width}]`}static compare(v,i){return v.left-i.left}}e.FloatHorizontalRange=g;class S{constructor(v,i){this.outsideRenderedLine=v,this.originalLeft=i,this.left=Math.round(this.originalLeft)}}e.HorizontalPosition=S;class b{constructor(v,i){this.outsideRenderedLine=v,this.ranges=i}}e.VisibleRanges=b}),define(ee[421],te([0,1,119]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeUtil=void 0;class N{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(E,g){E.selectNodeContents(g)}static _readClientRects(E,g,S,b,p){const v=this._createRange();try{return v.setStart(E,g),v.setEnd(S,b),v.getClientRects()}catch(i){return null}finally{this._detachRange(v,p)}}static _mergeAdjacentRanges(E){if(E.length===1)return E;E.sort(L.FloatHorizontalRange.compare);let g=[],S=0,b=E[0];for(let p=1,v=E.length;p<v;p++){const i=E[p];b.left+b.width+.9>=i.left?b.width=Math.max(b.width,i.left+i.width-b.left):(g[S++]=b,b=i)}return g[S++]=b,g}static _createHorizontalRangesFromClientRects(E,g){if(!E||E.length===0)return null;const S=[];for(let b=0,p=E.length;b<p;b++){const v=E[b];S[b]=new L.FloatHorizontalRange(Math.max(0,v.left-g),v.width)}return this._mergeAdjacentRanges(S)}static readHorizontalRanges(E,g,S,b,p,v,i){const t=0,a=E.children.length-1;if(t>a)return null;if(g=Math.min(a,Math.max(t,g)),b=Math.min(a,Math.max(t,b)),g===b&&S===p&&S===0&&!E.children[g].firstChild){const u=E.children[g].getClientRects();return this._createHorizontalRangesFromClientRects(u,v)}g!==b&&b>0&&p===0&&(b--,p=1073741824);let l=E.children[g].firstChild,h=E.children[b].firstChild;if((!l||!h)&&(!l&&S===0&&g>0&&(l=E.children[g-1].firstChild,S=1073741824),!h&&p===0&&b>0&&(h=E.children[b-1].firstChild,p=1073741824)),!l||!h)return null;S=Math.min(l.textContent.length,Math.max(0,S)),p=Math.min(h.textContent.length,Math.max(0,p));const d=this._readClientRects(l,S,h,p,i);return this._createHorizontalRangesFromClientRects(d,v)}}e.RangeUtil=N}),define(ee[422],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContext=e.EditorTheme=void 0;class L{constructor(E){this._theme=E}get type(){return this._theme.type}update(E){this._theme=E}getColor(E){return this._theme.getColor(E)}}e.EditorTheme=L;class N{constructor(E,g,S){this.configuration=E,this.theme=new L(g),this.model=S,this.viewLayout=S.viewLayout}addEventHandler(E){this.model.addViewEventHandler(E)}removeEventHandler(E){this.model.removeViewEventHandler(E)}}e.ViewContext=N}),define(ee[180],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZonesChangedEvent=e.ViewTokensColorsChangedEvent=e.ViewTokensChangedEvent=e.ViewThemeChangedEvent=e.ViewScrollChangedEvent=e.ViewRevealRangeRequestEvent=e.ViewLinesInsertedEvent=e.ViewLinesDeletedEvent=e.ViewLinesChangedEvent=e.ViewLineMappingChangedEvent=e.ViewLanguageConfigurationEvent=e.ViewFocusChangedEvent=e.ViewFlushedEvent=e.ViewDecorationsChangedEvent=e.ViewCursorStateChangedEvent=e.ViewConfigurationChangedEvent=e.ViewCompositionEndEvent=e.ViewCompositionStartEvent=void 0;class L{constructor(){this.type=0}}e.ViewCompositionStartEvent=L;class N{constructor(){this.type=1}}e.ViewCompositionEndEvent=N;class M{constructor(o){this.type=2,this._source=o}hasChanged(o){return this._source.hasChanged(o)}}e.ViewConfigurationChangedEvent=M;class E{constructor(o,m){this.type=3,this.selections=o,this.modelSelections=m}}e.ViewCursorStateChangedEvent=E;class g{constructor(o){this.type=4,o?(this.affectsMinimap=o.affectsMinimap,this.affectsOverviewRuler=o.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}e.ViewDecorationsChangedEvent=g;class S{constructor(){this.type=5}}e.ViewFlushedEvent=S;class b{constructor(o){this.type=6,this.isFocused=o}}e.ViewFocusChangedEvent=b;class p{constructor(){this.type=7}}e.ViewLanguageConfigurationEvent=p;class v{constructor(){this.type=8}}e.ViewLineMappingChangedEvent=v;class i{constructor(o,m){this.type=9,this.fromLineNumber=o,this.toLineNumber=m}}e.ViewLinesChangedEvent=i;class t{constructor(o,m){this.type=10,this.fromLineNumber=o,this.toLineNumber=m}}e.ViewLinesDeletedEvent=t;class a{constructor(o,m){this.type=11,this.fromLineNumber=o,this.toLineNumber=m}}e.ViewLinesInsertedEvent=a;class l{constructor(o,m,_,f,c,C){this.type=12,this.source=o,this.range=m,this.selections=_,this.verticalType=f,this.revealHorizontal=c,this.scrollType=C}}e.ViewRevealRangeRequestEvent=l;class h{constructor(o){this.type=13,this.scrollWidth=o.scrollWidth,this.scrollLeft=o.scrollLeft,this.scrollHeight=o.scrollHeight,this.scrollTop=o.scrollTop,this.scrollWidthChanged=o.scrollWidthChanged,this.scrollLeftChanged=o.scrollLeftChanged,this.scrollHeightChanged=o.scrollHeightChanged,this.scrollTopChanged=o.scrollTopChanged}}e.ViewScrollChangedEvent=h;class d{constructor(){this.type=14}}e.ViewThemeChangedEvent=d;class u{constructor(o){this.type=15,this.ranges=o}}e.ViewTokensChangedEvent=u;class n{constructor(){this.type=16}}e.ViewTokensColorsChangedEvent=n;class r{constructor(){this.type=17}}e.ViewZonesChangedEvent=r}),define(ee[151],te([0,1,8]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineDecorationsNormalizer=e.DecorationSegment=e.LineDecoration=void 0;class N{constructor(b,p,v,i){this.startColumn=b,this.endColumn=p,this.className=v,this.type=i,this._lineDecorationBrand=void 0}static _equals(b,p){return b.startColumn===p.startColumn&&b.endColumn===p.endColumn&&b.className===p.className&&b.type===p.type}static equalsArr(b,p){const v=b.length,i=p.length;if(v!==i)return!1;for(let t=0;t<v;t++)if(!N._equals(b[t],p[t]))return!1;return!0}static extractWrapped(b,p,v){if(b.length===0)return b;const i=p+1,t=v+1,a=v-p,l=[];let h=0;for(const d of b)d.endColumn<=i||d.startColumn>=t||(l[h++]=new N(Math.max(1,d.startColumn-i+1),Math.min(a+1,d.endColumn-i+1),d.className,d.type));return l}static filter(b,p,v,i){if(b.length===0)return[];let t=[],a=0;for(let l=0,h=b.length;l<h;l++){const d=b[l],u=d.range;if(u.endLineNumber<p||u.startLineNumber>p||u.isEmpty()&&(d.type===0||d.type===3))continue;const n=u.startLineNumber===p?u.startColumn:v,r=u.endLineNumber===p?u.endColumn:i;t[a++]=new N(n,r,d.inlineClassName,d.type)}return t}static _typeCompare(b,p){const v=[2,0,1,3];return v[b]-v[p]}static compare(b,p){if(b.startColumn!==p.startColumn)return b.startColumn-p.startColumn;if(b.endColumn!==p.endColumn)return b.endColumn-p.endColumn;const v=N._typeCompare(b.type,p.type);return v!==0?v:b.className!==p.className?b.className<p.className?-1:1:0}}e.LineDecoration=N;class M{constructor(b,p,v,i){this.startOffset=b,this.endOffset=p,this.className=v,this.metadata=i}}e.DecorationSegment=M;class E{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(b){let p=0;for(let v=0,i=b.length;v<i;v++)p|=b[v];return p}consumeLowerThan(b,p,v){for(;this.count>0&&this.stopOffsets[0]<b;){let i=0;for(;i+1<this.count&&this.stopOffsets[i]===this.stopOffsets[i+1];)i++;v.push(new M(p,this.stopOffsets[i],this.classNames.join(" "),E._metadata(this.metadata))),p=this.stopOffsets[i]+1,this.stopOffsets.splice(0,i+1),this.classNames.splice(0,i+1),this.metadata.splice(0,i+1),this.count-=i+1}return this.count>0&&p<b&&(v.push(new M(p,b-1,this.classNames.join(" "),E._metadata(this.metadata))),p=b),p}insert(b,p,v){if(this.count===0||this.stopOffsets[this.count-1]<=b)this.stopOffsets.push(b),this.classNames.push(p),this.metadata.push(v);else for(let i=0;i<this.count;i++)if(this.stopOffsets[i]>=b){this.stopOffsets.splice(i,0,b),this.classNames.splice(i,0,p),this.metadata.splice(i,0,v);break}this.count++}}class g{static normalize(b,p){if(p.length===0)return[];let v=[];const i=new E;let t=0;for(let a=0,l=p.length;a<l;a++){const h=p[a];let d=h.startColumn,u=h.endColumn;const n=h.className,r=h.type===1?2:h.type===2?4:0;if(d>1){const m=b.charCodeAt(d-2);L.isHighSurrogate(m)&&d--}if(u>1){const m=b.charCodeAt(u-2);L.isHighSurrogate(m)&&u--}const s=d-1,o=u-2;t=i.consumeLowerThan(s,t,v),i.count===0&&(t=s),i.insert(o,n,r)}return i.consumeLowerThan(1073741824,t,v),v}}e.LineDecorationsNormalizer=g}),define(ee[423],te([0,1,8]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesLayout=e.EditorWhitespace=void 0;class N{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(S){this._hasPending=!0,this._inserts.push(S)}change(S){this._hasPending=!0,this._changes.push(S)}remove(S){this._hasPending=!0,this._removes.push(S)}mustCommit(){return this._hasPending}commit(S){if(!this._hasPending)return;const b=this._inserts,p=this._changes,v=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],S._commitPendingChanges(b,p,v)}}class M{constructor(S,b,p,v,i){this.id=S,this.afterLineNumber=b,this.ordinal=p,this.height=v,this.minWidth=i,this.prefixSum=0}}e.EditorWhitespace=M;class E{constructor(S,b,p,v){this._instanceId=L.singleLetterHash(++E.INSTANCE_COUNT),this._pendingChanges=new N,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=S,this._lineHeight=b,this._paddingTop=p,this._paddingBottom=v}static findInsertionIndex(S,b,p){let v=0,i=S.length;for(;v<i;){const t=v+i>>>1;b===S[t].afterLineNumber?p<S[t].ordinal?i=t:v=t+1:b<S[t].afterLineNumber?i=t:v=t+1}return v}setLineHeight(S){this._checkPendingChanges(),this._lineHeight=S}setPadding(S,b){this._paddingTop=S,this._paddingBottom=b}onFlushed(S){this._checkPendingChanges(),this._lineCount=S}changeWhitespace(S){let b=!1;try{S({insertWhitespace:(v,i,t,a)=>{b=!0,v=v|0,i=i|0,t=t|0,a=a|0;const l=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new M(l,v,i,t,a)),l},changeOneWhitespace:(v,i,t)=>{b=!0,i=i|0,t=t|0,this._pendingChanges.change({id:v,newAfterLineNumber:i,newHeight:t})},removeWhitespace:v=>{b=!0,this._pendingChanges.remove({id:v})}})}finally{this._pendingChanges.commit(this)}return b}_commitPendingChanges(S,b,p){if((S.length>0||p.length>0)&&(this._minWidth=-1),S.length+b.length+p.length<=1){for(const l of S)this._insertWhitespace(l);for(const l of b)this._changeOneWhitespace(l.id,l.newAfterLineNumber,l.newHeight);for(const l of p){const h=this._findWhitespaceIndex(l.id);h!==-1&&this._removeWhitespace(h)}return}const v=new Set;for(const l of p)v.add(l.id);const i=new Map;for(const l of b)i.set(l.id,l);const t=l=>{let h=[];for(const d of l)if(!v.has(d.id)){if(i.has(d.id)){const u=i.get(d.id);d.afterLineNumber=u.newAfterLineNumber,d.height=u.newHeight}h.push(d)}return h},a=t(this._arr).concat(t(S));a.sort((l,h)=>l.afterLineNumber===h.afterLineNumber?l.ordinal-h.ordinal:l.afterLineNumber-h.afterLineNumber),this._arr=a,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(S){const b=E.findInsertionIndex(this._arr,S.afterLineNumber,S.ordinal);this._arr.splice(b,0,S),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,b-1)}_findWhitespaceIndex(S){const b=this._arr;for(let p=0,v=b.length;p<v;p++)if(b[p].id===S)return p;return-1}_changeOneWhitespace(S,b,p){const v=this._findWhitespaceIndex(S);if(v!==-1&&(this._arr[v].height!==p&&(this._arr[v].height=p,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,v-1)),this._arr[v].afterLineNumber!==b)){const i=this._arr[v];this._removeWhitespace(v),i.afterLineNumber=b,this._insertWhitespace(i)}}_removeWhitespace(S){this._arr.splice(S,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,S-1)}onLinesDeleted(S,b){this._checkPendingChanges(),S=S|0,b=b|0,this._lineCount-=b-S+1;for(let p=0,v=this._arr.length;p<v;p++){const i=this._arr[p].afterLineNumber;S<=i&&i<=b?this._arr[p].afterLineNumber=S-1:i>b&&(this._arr[p].afterLineNumber-=b-S+1)}}onLinesInserted(S,b){this._checkPendingChanges(),S=S|0,b=b|0,this._lineCount+=b-S+1;for(let p=0,v=this._arr.length;p<v;p++){const i=this._arr[p].afterLineNumber;S<=i&&(this._arr[p].afterLineNumber+=b-S+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(S){this._checkPendingChanges(),S=S|0;let b=Math.max(0,this._prefixSumValidIndex+1);b===0&&(this._arr[0].prefixSum=this._arr[0].height,b++);for(let p=b;p<=S;p++)this._arr[p].prefixSum=this._arr[p-1].prefixSum+this._arr[p].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,S),this._arr[S].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const S=this._lineHeight*this._lineCount,b=this.getWhitespacesTotalHeight();return S+b+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(S){this._checkPendingChanges(),S=S|0;const b=this._findLastWhitespaceBeforeLineNumber(S);return b===-1?0:this.getWhitespacesAccumulatedHeight(b)}_findLastWhitespaceBeforeLineNumber(S){S=S|0;const b=this._arr;let p=0,v=b.length-1;for(;p<=v;){const t=(v-p|0)/2|0,a=p+t|0;if(b[a].afterLineNumber<S){if(a+1>=b.length||b[a+1].afterLineNumber>=S)return a;p=a+1|0}else v=a-1|0}return-1}_findFirstWhitespaceAfterLineNumber(S){S=S|0;const p=this._findLastWhitespaceBeforeLineNumber(S)+1;return p<this._arr.length?p:-1}getFirstWhitespaceIndexAfterLineNumber(S){return this._checkPendingChanges(),S=S|0,this._findFirstWhitespaceAfterLineNumber(S)}getVerticalOffsetForLineNumber(S){this._checkPendingChanges(),S=S|0;let b;S>1?b=this._lineHeight*(S-1):b=0;const p=this.getWhitespaceAccumulatedHeightBeforeLineNumber(S);return b+p+this._paddingTop}hasWhitespace(){return this._checkPendingChanges(),this.getWhitespacesCount()>0}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let S=0;for(let b=0,p=this._arr.length;b<p;b++)S=Math.max(S,this._arr[b].minWidth);this._minWidth=S}return this._minWidth}isAfterLines(S){this._checkPendingChanges();const b=this.getLinesTotalHeight();return S>b}isInTopPadding(S){return this._paddingTop===0?!1:(this._checkPendingChanges(),S<this._paddingTop)}isInBottomPadding(S){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const b=this.getLinesTotalHeight();return S>=b-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(S){if(this._checkPendingChanges(),S=S|0,S<0)return 1;const b=this._lineCount|0,p=this._lineHeight;let v=1,i=b;for(;v<i;){const t=(v+i)/2|0,a=this.getVerticalOffsetForLineNumber(t)|0;if(S>=a+p)v=t+1;else{if(S>=a)return t;i=t}}return v>b?b:v}getLinesViewportData(S,b){this._checkPendingChanges(),S=S|0,b=b|0;const p=this._lineHeight,v=this.getLineNumberAtOrAfterVerticalOffset(S)|0,i=this.getVerticalOffsetForLineNumber(v)|0;let t=this._lineCount|0,a=this.getFirstWhitespaceIndexAfterLineNumber(v)|0;const l=this.getWhitespacesCount()|0;let h,d;a===-1?(a=l,d=t+1,h=0):(d=this.getAfterLineNumberForWhitespaceIndex(a)|0,h=this.getHeightForWhitespaceIndex(a)|0);let u=i,n=u;const r=5e5;let s=0;i>=r&&(s=Math.floor(i/r)*r,s=Math.floor(s/p)*p,n-=s);const o=[],m=S+(b-S)/2;let _=-1;for(let y=v;y<=t;y++){if(_===-1){const w=u,D=u+p;(w<=m&&m<D||w>m)&&(_=y)}for(u+=p,o[y-v]=n,n+=p;d===y;)n+=h,u+=h,a++,a>=l?d=t+1:(d=this.getAfterLineNumberForWhitespaceIndex(a)|0,h=this.getHeightForWhitespaceIndex(a)|0);if(u>=b){t=y;break}}_===-1&&(_=t);const f=this.getVerticalOffsetForLineNumber(t)|0;let c=v,C=t;return c<C&&i<S&&c++,c<C&&f+p>b&&C--,{bigNumbersDelta:s,startLineNumber:v,endLineNumber:t,relativeVerticalOffset:o,centeredLineNumber:_,completelyVisibleStartLineNumber:c,completelyVisibleEndLineNumber:C}}getVerticalOffsetForWhitespaceIndex(S){this._checkPendingChanges(),S=S|0;const b=this.getAfterLineNumberForWhitespaceIndex(S);let p;b>=1?p=this._lineHeight*b:p=0;let v;return S>0?v=this.getWhitespacesAccumulatedHeight(S-1):v=0,p+v+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(S){this._checkPendingChanges(),S=S|0;let b=0,p=this.getWhitespacesCount()-1;if(p<0)return-1;const v=this.getVerticalOffsetForWhitespaceIndex(p),i=this.getHeightForWhitespaceIndex(p);if(S>=v+i)return-1;for(;b<p;){const t=Math.floor((b+p)/2),a=this.getVerticalOffsetForWhitespaceIndex(t),l=this.getHeightForWhitespaceIndex(t);if(S>=a+l)b=t+1;else{if(S>=a)return t;p=t}}return b}getWhitespaceAtVerticalOffset(S){this._checkPendingChanges(),S=S|0;const b=this.getWhitespaceIndexAtOrAfterVerticallOffset(S);if(b<0||b>=this.getWhitespacesCount())return null;const p=this.getVerticalOffsetForWhitespaceIndex(b);if(p>S)return null;const v=this.getHeightForWhitespaceIndex(b),i=this.getIdForWhitespaceIndex(b),t=this.getAfterLineNumberForWhitespaceIndex(b);return{id:i,afterLineNumber:t,verticalOffset:p,height:v}}getWhitespaceViewportData(S,b){this._checkPendingChanges(),S=S|0,b=b|0;const p=this.getWhitespaceIndexAtOrAfterVerticallOffset(S),v=this.getWhitespacesCount()-1;if(p<0)return[];let i=[];for(let t=p;t<=v;t++){const a=this.getVerticalOffsetForWhitespaceIndex(t),l=this.getHeightForWhitespaceIndex(t);if(a>=b)break;i.push({id:this.getIdForWhitespaceIndex(t),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(t),verticalOffset:a,height:l})}return i}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(S){return this._checkPendingChanges(),S=S|0,this._arr[S].id}getAfterLineNumberForWhitespaceIndex(S){return this._checkPendingChanges(),S=S|0,this._arr[S].afterLineNumber}getHeightForWhitespaceIndex(S){return this._checkPendingChanges(),S=S|0,this._arr[S].height}}e.LinesLayout=E,E.INSTANCE_COUNT=0}),define(ee[120],te([0,1,8,89,151]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderViewLine2=e.RenderLineOutput2=e.renderViewLine=e.RenderLineOutput=e.CharacterMapping=e.DomPosition=e.RenderLineInput=e.LineRange=void 0;class E{constructor(c,C,y){this._linePartBrand=void 0,this.endIndex=c,this.type=C,this.metadata=y}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}class g{constructor(c,C){this.startOffset=c,this.endOffset=C}equals(c){return this.startOffset===c.startOffset&&this.endOffset===c.endOffset}}e.LineRange=g;class S{constructor(c,C,y,w,D,I,T,F,P,R,A,O,k,V,B,x,K,X,Z){this.useMonospaceOptimizations=c,this.canUseHalfwidthRightwardsArrow=C,this.lineContent=y,this.continuesWithWrappedLine=w,this.isBasicASCII=D,this.containsRTL=I,this.fauxIndentLength=T,this.lineTokens=F,this.lineDecorations=P.sort(M.LineDecoration.compare),this.tabSize=R,this.startVisibleColumn=A,this.spaceWidth=O,this.stopRenderingLineAfter=B,this.renderWhitespace=x==="all"?4:x==="boundary"?1:x==="selection"?2:x==="trailing"?3:0,this.renderControlCharacters=K,this.fontLigatures=X,this.selectionsOnLine=Z&&Z.sort((G,z)=>G.startOffset<z.startOffset?-1:1);const q=Math.abs(V-O),H=Math.abs(k-O);q<H?(this.renderSpaceWidth=V,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=k,this.renderSpaceCharCode=183)}sameSelection(c){if(this.selectionsOnLine===null)return c===null;if(c===null||c.length!==this.selectionsOnLine.length)return!1;for(let C=0;C<this.selectionsOnLine.length;C++)if(!this.selectionsOnLine[C].equals(c[C]))return!1;return!0}equals(c){return this.useMonospaceOptimizations===c.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===c.canUseHalfwidthRightwardsArrow&&this.lineContent===c.lineContent&&this.continuesWithWrappedLine===c.continuesWithWrappedLine&&this.isBasicASCII===c.isBasicASCII&&this.containsRTL===c.containsRTL&&this.fauxIndentLength===c.fauxIndentLength&&this.tabSize===c.tabSize&&this.startVisibleColumn===c.startVisibleColumn&&this.spaceWidth===c.spaceWidth&&this.renderSpaceWidth===c.renderSpaceWidth&&this.renderSpaceCharCode===c.renderSpaceCharCode&&this.stopRenderingLineAfter===c.stopRenderingLineAfter&&this.renderWhitespace===c.renderWhitespace&&this.renderControlCharacters===c.renderControlCharacters&&this.fontLigatures===c.fontLigatures&&M.LineDecoration.equalsArr(this.lineDecorations,c.lineDecorations)&&this.lineTokens.equals(c.lineTokens)&&this.sameSelection(c.selectionsOnLine)}}e.RenderLineInput=S;class b{constructor(c,C){this.partIndex=c,this.charIndex=C}}e.DomPosition=b;class p{constructor(c,C){this.length=c,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}static getPartIndex(c){return(c&4294901760)>>>16}static getCharIndex(c){return(c&65535)>>>0}setColumnInfo(c,C,y,w){const D=(C<<16|y<<0)>>>0;this._data[c-1]=D,this._absoluteOffsets[c-1]=w+y}getAbsoluteOffset(c){return this._absoluteOffsets.length===0?0:this._absoluteOffsets[c-1]}charOffsetToPartData(c){return this.length===0?0:c<0?this._data[0]:c>=this.length?this._data[this.length-1]:this._data[c]}getDomPosition(c){const C=this.charOffsetToPartData(c-1),y=p.getPartIndex(C),w=p.getCharIndex(C);return new b(y,w)}getColumn(c,C){return this.partDataToCharOffset(c.partIndex,C,c.charIndex)+1}partDataToCharOffset(c,C,y){if(this.length===0)return 0;let w=(c<<16|y<<0)>>>0,D=0,I=this.length-1;for(;D+1<I;){let B=D+I>>>1,x=this._data[B];if(x===w)return B;x>w?I=B:D=B}if(D===I)return D;let T=this._data[D],F=this._data[I];if(T===w)return D;if(F===w)return I;let P=p.getPartIndex(T),R=p.getCharIndex(T),A=p.getPartIndex(F),O;P!==A?O=C:O=p.getCharIndex(F);let k=y-R,V=O-y;return k<=V?D:I}}e.CharacterMapping=p;class v{constructor(c,C,y){this._renderLineOutputBrand=void 0,this.characterMapping=c,this.containsRTL=C,this.containsForeignElements=y}}e.RenderLineOutput=v;function i(f,c){if(f.lineContent.length===0){if(f.lineDecorations.length>0){c.appendASCIIString("<span>");let C=0,y=0,w=0;for(const I of f.lineDecorations)(I.type===1||I.type===2)&&(c.appendASCIIString('<span class="'),c.appendASCIIString(I.className),c.appendASCIIString('"></span>'),I.type===1&&(w|=1,C++),I.type===2&&(w|=2,y++));c.appendASCIIString("</span>");const D=new p(1,C+y);return D.setColumnInfo(1,C,0,0),new v(D,!1,w)}return c.appendASCIIString("<span><span></span></span>"),new v(new p(0,0),!1,0)}return m(h(f),c)}e.renderViewLine=i;class t{constructor(c,C,y,w){this.characterMapping=c,this.html=C,this.containsRTL=y,this.containsForeignElements=w}}e.RenderLineOutput2=t;function a(f){let c=(0,N.createStringBuilder)(1e4),C=i(f,c);return new t(C.characterMapping,c.build(),C.containsRTL,C.containsForeignElements)}e.renderViewLine2=a;class l{constructor(c,C,y,w,D,I,T,F,P,R,A,O,k,V,B){this.fontIsMonospace=c,this.canUseHalfwidthRightwardsArrow=C,this.lineContent=y,this.len=w,this.isOverflowing=D,this.parts=I,this.containsForeignElements=T,this.fauxIndentLength=F,this.tabSize=P,this.startVisibleColumn=R,this.containsRTL=A,this.spaceWidth=O,this.renderSpaceCharCode=k,this.renderWhitespace=V,this.renderControlCharacters=B}}function h(f){const c=f.lineContent;let C,y;f.stopRenderingLineAfter!==-1&&f.stopRenderingLineAfter<c.length?(C=!0,y=f.stopRenderingLineAfter):(C=!1,y=c.length);let w=d(f.lineTokens,f.fauxIndentLength,y);f.renderControlCharacters&&!f.isBasicASCII&&(w=r(c,w)),(f.renderWhitespace===4||f.renderWhitespace===1||f.renderWhitespace===2&&!!f.selectionsOnLine||f.renderWhitespace===3)&&(w=s(f,c,y,w));let D=0;if(f.lineDecorations.length>0){for(let I=0,T=f.lineDecorations.length;I<T;I++){const F=f.lineDecorations[I];F.type===3||F.type===1?D|=1:F.type===2&&(D|=2)}w=o(c,y,w,f.lineDecorations)}return f.containsRTL||(w=u(c,w,!f.isBasicASCII||f.fontLigatures)),new l(f.useMonospaceOptimizations,f.canUseHalfwidthRightwardsArrow,c,y,C,w,D,f.fauxIndentLength,f.tabSize,f.startVisibleColumn,f.containsRTL,f.spaceWidth,f.renderSpaceCharCode,f.renderWhitespace,f.renderControlCharacters)}function d(f,c,C){let y=[],w=0;c>0&&(y[w++]=new E(c,"",0));for(let D=0,I=f.getCount();D<I;D++){const T=f.getEndOffset(D);if(T<=c)continue;const F=f.getClassName(D);if(T>=C){y[w++]=new E(C,F,0);break}y[w++]=new E(T,F,0)}return y}function u(f,c,C){let y=0,w=[],D=0;if(C)for(let I=0,T=c.length;I<T;I++){const F=c[I],P=F.endIndex;if(y+50<P){const R=F.type,A=F.metadata;let O=-1,k=y;for(let V=y;V<P;V++)f.charCodeAt(V)===32&&(O=V),O!==-1&&V-k>=50&&(w[D++]=new E(O+1,R,A),k=O+1,O=-1);k!==P&&(w[D++]=new E(P,R,A))}else w[D++]=F;y=P}else for(let I=0,T=c.length;I<T;I++){const F=c[I],P=F.endIndex;let R=P-y;if(R>50){const A=F.type,O=F.metadata,k=Math.ceil(R/50);for(let V=1;V<k;V++){let B=y+V*50;w[D++]=new E(B,A,O)}w[D++]=new E(P,A,O)}else w[D++]=F;y=P}return w}function n(f){return f<32?f!==9:f===127||f>=8234&&f<=8238||f>=8294&&f<=8297||f>=8206&&f<=8207||f===1564}function r(f,c){let C=[],y=new E(0,"",0),w=0;for(const D of c){const I=D.endIndex;for(;w<I;w++){const T=f.charCodeAt(w);n(T)&&(w>y.endIndex&&(y=new E(w,D.type,D.metadata),C.push(y)),y=new E(w+1,"mtkcontrol",D.metadata),C.push(y))}w>y.endIndex&&(y=new E(I,D.type,D.metadata),C.push(y))}return C}function s(f,c,C,y){const w=f.continuesWithWrappedLine,D=f.fauxIndentLength,I=f.tabSize,T=f.startVisibleColumn,F=f.useMonospaceOptimizations,P=f.selectionsOnLine,R=f.renderWhitespace===1,A=f.renderWhitespace===3,O=f.renderSpaceWidth!==f.spaceWidth;let k=[],V=0,B=0,x=y[B].type,K=y[B].endIndex;const X=y.length;let Z=!1,q=L.firstNonWhitespaceIndex(c),H;q===-1?(Z=!0,q=C,H=C):H=L.lastNonWhitespaceIndex(c);let G=!1,z=0,W=P&&P[z],j=T%I;for(let Y=D;Y<C;Y++){const ne=c.charCodeAt(Y);W&&Y>=W.endOffset&&(z++,W=P&&P[z]);let J;if(Y<q||Y>H)J=!0;else if(ne===9)J=!0;else if(ne===32)if(R)if(G)J=!0;else{const re=Y+1<C?c.charCodeAt(Y+1):0;J=re===32||re===9}else J=!0;else J=!1;if(J&&P&&(J=!!W&&W.startOffset<=Y&&W.endOffset>Y),J&&A&&(J=Z||Y>H),G){if(!J||!F&&j>=I){if(O){const re=V>0?k[V-1].endIndex:D;for(let ge=re+1;ge<=Y;ge++)k[V++]=new E(ge,"mtkw",1)}else k[V++]=new E(Y,"mtkw",1);j=j%I}}else(Y===K||J&&Y>D)&&(k[V++]=new E(Y,x,0),j=j%I);for(ne===9?j=I:L.isFullWidthCharacter(ne)?j+=2:j++,G=J;Y===K&&(B++,B<X);)x=y[B].type,K=y[B].endIndex}let U=!1;if(G)if(w&&R){let Y=C>0?c.charCodeAt(C-1):0,ne=C>1?c.charCodeAt(C-2):0;Y===32&&ne!==32&&ne!==9||(U=!0)}else U=!0;if(U)if(O){const Y=V>0?k[V-1].endIndex:D;for(let ne=Y+1;ne<=C;ne++)k[V++]=new E(ne,"mtkw",1)}else k[V++]=new E(C,"mtkw",1);else k[V++]=new E(C,x,0);return k}function o(f,c,C,y){y.sort(M.LineDecoration.compare);const w=M.LineDecorationsNormalizer.normalize(f,y),D=w.length;let I=0,T=[],F=0,P=0;for(let A=0,O=C.length;A<O;A++){const k=C[A],V=k.endIndex,B=k.type,x=k.metadata;for(;I<D&&w[I].startOffset<V;){const K=w[I];if(K.startOffset>P&&(P=K.startOffset,T[F++]=new E(P,B,x)),K.endOffset+1<=V)P=K.endOffset+1,T[F++]=new E(P,B+" "+K.className,x|K.metadata),I++;else{P=V,T[F++]=new E(P,B+" "+K.className,x|K.metadata);break}}V>P&&(P=V,T[F++]=new E(P,B,x))}const R=C[C.length-1].endIndex;if(I<D&&w[I].startOffset===R)for(;I<D&&w[I].startOffset===R;){const A=w[I];T[F++]=new E(P,A.className,A.metadata),I++}return T}function m(f,c){const C=f.fontIsMonospace,y=f.canUseHalfwidthRightwardsArrow,w=f.containsForeignElements,D=f.lineContent,I=f.len,T=f.isOverflowing,F=f.parts,P=f.fauxIndentLength,R=f.tabSize,A=f.startVisibleColumn,O=f.containsRTL,k=f.spaceWidth,V=f.renderSpaceCharCode,B=f.renderWhitespace,x=f.renderControlCharacters,K=new p(I+1,F.length);let X=!1,Z=0,q=A,H=0,G=0,z=0,W=0;O?c.appendASCIIString('<span dir="ltr">'):c.appendASCIIString("<span>");for(let j=0,U=F.length;j<U;j++){W+=z;const Y=F[j],ne=Y.endIndex,J=Y.type,re=B!==0&&Y.isWhitespace(),ge=re&&!C&&(J==="mtkw"||!w),pe=Z===ne&&Y.isPseudoAfter();if(H=0,c.appendASCIIString('<span class="'),c.appendASCIIString(ge?"mtkz":J),c.appendASCII(34),re){let oe=0;{let $=Z,ie=q;for(;$<ne;$++){const de=(D.charCodeAt($)===9?R-ie%R:1)|0;oe+=de,$>=P&&(ie+=de)}}for(ge&&(c.appendASCIIString(' style="width:'),c.appendASCIIString(String(k*oe)),c.appendASCIIString('px"')),c.appendASCII(62);Z<ne;Z++){K.setColumnInfo(Z+1,j-G,H,W),G=0;const $=D.charCodeAt(Z);let ie;if($===9){ie=R-q%R|0,!y||ie>1?c.write1(8594):c.write1(65515);for(let le=2;le<=ie;le++)c.write1(160)}else ie=1,c.write1(V);H+=ie,Z>=P&&(q+=ie)}z=oe}else{let oe=0;for(c.appendASCII(62);Z<ne;Z++){K.setColumnInfo(Z+1,j-G,H,W),G=0;const $=D.charCodeAt(Z);let ie=1,le=1;switch($){case 9:ie=R-q%R,le=ie;for(let de=1;de<=ie;de++)c.write1(160);break;case 32:c.write1(160);break;case 60:c.appendASCIIString("&lt;");break;case 62:c.appendASCIIString("&gt;");break;case 38:c.appendASCIIString("&amp;");break;case 0:x?c.write1(9216):c.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:c.write1(65533);break;default:L.isFullWidthCharacter($)&&le++,x&&$<32?c.write1(9216+$):x&&$===127?c.write1(9249):x&&n($)?(c.appendASCIIString("[U+"),c.appendASCIIString(_($)),c.appendASCIIString("]"),ie=8):c.write1($)}H+=ie,oe+=ie,Z>=P&&(q+=le)}z=oe}pe?G++:G=0,Z>=I&&!X&&Y.isPseudoAfter()&&(X=!0,K.setColumnInfo(Z+1,j,H,W)),c.appendASCIIString("</span>")}return X||K.setColumnInfo(I+1,F.length-1,H,W),T&&c.appendASCIIString("<span>&hellip;</span>"),c.appendASCIIString("</span>"),new v(K,O,w)}function _(f){return f.toString(16).toUpperCase().padStart(4,"0")}}),define(ee[424],te([0,1,3]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportData=void 0;class N{constructor(E,g,S,b){this.selections=E,this.startLineNumber=g.startLineNumber|0,this.endLineNumber=g.endLineNumber|0,this.relativeVerticalOffset=g.relativeVerticalOffset,this.bigNumbersDelta=g.bigNumbersDelta|0,this.whitespaceViewportData=S,this._model=b,this.visibleRange=new L.Range(g.startLineNumber,this._model.getLineMinColumn(g.startLineNumber),g.endLineNumber,this._model.getLineMaxColumn(g.endLineNumber))}getViewLineRenderingData(E){return this._model.getViewLineRenderingData(this.visibleRange,E)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}e.ViewportData=N}),define(ee[241],te([0,1,13]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutputPosition=e.InjectedText=e.ModelLineProjectionData=void 0;class N{constructor(S,b,p,v,i){this.injectionOffsets=S,this.injectionOptions=b,this.breakOffsets=p,this.breakOffsetsVisibleColumn=v,this.wrappedTextIndentLength=i}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(S){return S>0?this.wrappedTextIndentLength:0}getLineLength(S){const b=S>0?this.breakOffsets[S-1]:0;let v=this.breakOffsets[S]-b;return S>0&&(v+=this.wrappedTextIndentLength),v}getMaxOutputOffset(S){return this.getLineLength(S)}translateToInputOffset(S,b){S>0&&(b=Math.max(0,b-this.wrappedTextIndentLength));let v=S===0?b:this.breakOffsets[S-1]+b;if(this.injectionOffsets!==null)for(let i=0;i<this.injectionOffsets.length&&v>this.injectionOffsets[i];i++)v<this.injectionOffsets[i]+this.injectionOptions[i].content.length?v=this.injectionOffsets[i]:v-=this.injectionOptions[i].content.length;return v}translateToOutputPosition(S,b=2){let p=S;if(this.injectionOffsets!==null)for(let v=0;v<this.injectionOffsets.length&&!(S<this.injectionOffsets[v]||b!==1&&S===this.injectionOffsets[v]);v++)p+=this.injectionOptions[v].content.length;return this.offsetInInputWithInjectionsToOutputPosition(p,b)}offsetInInputWithInjectionsToOutputPosition(S,b=2){let p=0,v=this.breakOffsets.length-1,i=0,t=0;for(;p<=v;){i=p+(v-p)/2|0;const l=this.breakOffsets[i];if(t=i>0?this.breakOffsets[i-1]:0,b===0)if(S<=t)v=i-1;else if(S>l)p=i+1;else break;else if(S<t)v=i-1;else if(S>=l)p=i+1;else break}let a=S-t;return i>0&&(a+=this.wrappedTextIndentLength),new E(i,a)}normalizeOutputPosition(S,b,p){if(this.injectionOffsets!==null){const v=this.outputPositionToOffsetInInputWithInjections(S,b),i=this.normalizeOffsetInInputWithInjectionsAroundInjections(v,p);if(i!==v)return this.offsetInInputWithInjectionsToOutputPosition(i,p)}if(p===0){if(S>0&&b===this.getMinOutputOffset(S))return new E(S-1,this.getMaxOutputOffset(S-1))}else if(p===1){const v=this.getOutputLineCount()-1;if(S<v&&b===this.getMaxOutputOffset(S))return new E(S+1,this.getMinOutputOffset(S+1))}return new E(S,b)}outputPositionToOffsetInInputWithInjections(S,b){return S>0&&(b=Math.max(0,b-this.wrappedTextIndentLength)),(S>0?this.breakOffsets[S-1]:0)+b}normalizeOffsetInInputWithInjectionsAroundInjections(S,b){const p=this.getInjectedTextAtOffset(S);if(!p)return S;if(b===2)return S===p.offsetInInputWithInjections+p.length?p.offsetInInputWithInjections+p.length:p.offsetInInputWithInjections;if(b===1){let t=p.offsetInInputWithInjections+p.length,a=p.injectedTextIndex;for(;a+1<this.injectionOffsets.length&&this.injectionOffsets[a+1]===this.injectionOffsets[a];)t+=this.injectionOptions[a+1].content.length,a++;return t}let v=p.offsetInInputWithInjections,i=p.injectedTextIndex;for(;i-1>=0&&this.injectionOffsets[i-1]===this.injectionOffsets[i];)v-=this.injectionOptions[i-1].content.length,i++;return v}getInjectedText(S,b){const p=this.outputPositionToOffsetInInputWithInjections(S,b),v=this.getInjectedTextAtOffset(p);return v?{options:this.injectionOptions[v.injectedTextIndex]}:null}getInjectedTextAtOffset(S){const b=this.injectionOffsets,p=this.injectionOptions;if(b!==null){let v=0;for(let i=0;i<b.length;i++){const t=p[i].content.length,a=b[i]+v,l=b[i]+v+t;if(a>S)break;if(S<=l)return{injectedTextIndex:i,offsetInInputWithInjections:a,length:t};v+=t}}}}e.ModelLineProjectionData=N;class M{constructor(S){this.options=S}}e.InjectedText=M;class E{constructor(S,b){this.outputLineIndex=S,this.outputOffset=b}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(S){return new L.Position(S+this.outputLineIndex,this.outputOffset+1)}}e.OutputPosition=E}),define(ee[425],te([0,1,8,101,91,241]),function(Q,e,L,N,M,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonospaceLineBreaksComputerFactory=void 0;class g{constructor(u,n){this.classifier=new S(u,n)}static create(u){return new g(u.get(119),u.get(118))}createLineBreaksComputer(u,n,r,s){const o=[],m=[],_=[];return{addRequest:(f,c,C)=>{o.push(f),m.push(c),_.push(C)},finalize:()=>{const f=u.typicalFullwidthCharacterWidth/u.typicalHalfwidthCharacterWidth;let c=[];for(let C=0,y=o.length;C<y;C++){const w=m[C],D=_[C];D&&!D.injectionOptions&&!w?c[C]=v(this.classifier,D,o[C],n,r,f,s):c[C]=i(this.classifier,o[C],w,n,r,f,s)}return b.length=0,p.length=0,c}}}}e.MonospaceLineBreaksComputerFactory=g;class S extends N.CharacterClassifier{constructor(u,n){super(0);for(let r=0;r<u.length;r++)this.set(u.charCodeAt(r),1);for(let r=0;r<n.length;r++)this.set(n.charCodeAt(r),2)}get(u){return u>=0&&u<256?this._asciiMap[u]:u>=12352&&u<=12543||u>=13312&&u<=19903||u>=19968&&u<=40959?3:this._map.get(u)||this._defaultValue}}let b=[],p=[];function v(d,u,n,r,s,o,m){if(s===-1)return null;const _=n.length;if(_<=1)return null;const f=u.breakOffsets,c=u.breakOffsetsVisibleColumn,C=h(n,r,s,o,m),y=s-C;let w=b,D=p,I=0,T=0,F=0,P=s;const R=f.length;let A=0;if(A>=0){let O=Math.abs(c[A]-P);for(;A+1<R;){const k=Math.abs(c[A+1]-P);if(k>=O)break;O=k,A++}}for(;A<R;){let O=A<0?0:f[A],k=A<0?0:c[A];T>O&&(O=T,k=F);let V=0,B=0,x=0,K=0;if(k<=P){let Z=k,q=O===0?0:n.charCodeAt(O-1),H=O===0?0:d.get(q),G=!0;for(let z=O;z<_;z++){const W=z,j=n.charCodeAt(z);let U,Y;if(L.isHighSurrogate(j)?(z++,U=0,Y=2):(U=d.get(j),Y=t(j,Z,r,o)),W>T&&l(q,H,j,U)&&(V=W,B=Z),Z+=Y,Z>P){W>T?(x=W,K=Z-Y):(x=z+1,K=Z),Z-B>y&&(V=0),G=!1;break}q=j,H=U}if(G){I>0&&(w[I]=f[f.length-1],D[I]=c[f.length-1],I++);break}}if(V===0){let Z=k,q=n.charCodeAt(O),H=d.get(q),G=!1;for(let z=O-1;z>=T;z--){const W=z+1,j=n.charCodeAt(z);if(j===9){G=!0;break}let U,Y;if(L.isLowSurrogate(j)?(z--,U=0,Y=2):(U=d.get(j),Y=L.isFullWidthCharacter(j)?o:1),Z<=P){if(x===0&&(x=W,K=Z),Z<=P-y)break;if(l(j,U,q,H)){V=W,B=Z;break}}Z-=Y,q=j,H=U}if(V!==0){const z=y-(K-B);if(z<=r){const W=n.charCodeAt(x);let j;L.isHighSurrogate(W)?j=2:j=t(W,K,r,o),z-j<0&&(V=0)}}if(G){A--;continue}}if(V===0&&(V=x,B=K),V<=T){const Z=n.charCodeAt(T);L.isHighSurrogate(Z)?(V=T+2,B=F+2):(V=T+1,B=F+t(Z,F,r,o))}for(T=V,w[I]=V,F=B,D[I]=B,I++,P=B+y;A<0||A<R&&c[A]<B;)A++;let X=Math.abs(c[A]-P);for(;A+1<R;){const Z=Math.abs(c[A+1]-P);if(Z>=X)break;X=Z,A++}}return I===0?null:(w.length=I,D.length=I,b=u.breakOffsets,p=u.breakOffsetsVisibleColumn,u.breakOffsets=w,u.breakOffsetsVisibleColumn=D,u.wrappedTextIndentLength=C,u)}function i(d,u,n,r,s,o,m){const _=M.LineInjectedText.applyInjectedText(u,n);let f,c;if(n&&n.length>0?(f=n.map(B=>B.options),c=n.map(B=>B.column-1)):(f=null,c=null),s===-1)return f?new E.ModelLineProjectionData(c,f,[_.length],[],0):null;const C=_.length;if(C<=1)return f?new E.ModelLineProjectionData(c,f,[_.length],[],0):null;const y=h(_,r,s,o,m),w=s-y;let D=[],I=[],T=0,F=0,P=0,R=s,A=_.charCodeAt(0),O=d.get(A),k=t(A,0,r,o),V=1;L.isHighSurrogate(A)&&(k+=1,A=_.charCodeAt(1),O=d.get(A),V++);for(let B=V;B<C;B++){const x=B,K=_.charCodeAt(B);let X,Z;L.isHighSurrogate(K)?(B++,X=0,Z=2):(X=d.get(K),Z=t(K,k,r,o)),l(A,O,K,X)&&(F=x,P=k),k+=Z,k>R&&((F===0||k-P>w)&&(F=x,P=k-Z),D[T]=F,I[T]=P,T++,R=P+w,F=0),A=K,O=X}return T===0&&(!n||n.length===0)?null:(D[T]=C,I[T]=k,new E.ModelLineProjectionData(c,f,D,I,y))}function t(d,u,n,r){return d===9?n-u%n:L.isFullWidthCharacter(d)||d<32?r:1}function a(d,u){return u-d%u}function l(d,u,n,r){return n!==32&&(u===2||u===3&&r!==2||r===1||r===3&&u!==1)}function h(d,u,n,r,s){let o=0;if(s!==0){const m=L.firstNonWhitespaceIndex(d);if(m!==-1){for(let f=0;f<m;f++)o+=d.charCodeAt(f)===9?a(o,u):1;const _=s===3?2:s===2?1:0;for(let f=0;f<_;f++)o+=a(o,u);o+r>n&&(o=0)}}return o}}),define(ee[242],te([0,1,19,139]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PrefixSumIndexOfResult=e.ConstantTimePrefixSumComputer=e.PrefixSumComputer=void 0;class M{constructor(b){this.values=b,this.prefixSum=new Uint32Array(b.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}getCount(){return this.values.length}insertValues(b,p){b=(0,N.toUint32)(b);const v=this.values,i=this.prefixSum,t=p.length;return t===0?!1:(this.values=new Uint32Array(v.length+t),this.values.set(v.subarray(0,b),0),this.values.set(v.subarray(b),b+t),this.values.set(p,b),b-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=b-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(b,p){return b=(0,N.toUint32)(b),p=(0,N.toUint32)(p),this.values[b]===p?!1:(this.values[b]=p,b-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=b-1),!0)}removeValues(b,p){b=(0,N.toUint32)(b),p=(0,N.toUint32)(p);const v=this.values,i=this.prefixSum;if(b>=v.length)return!1;let t=v.length-b;return p>=t&&(p=t),p===0?!1:(this.values=new Uint32Array(v.length-p),this.values.set(v.subarray(0,b),0),this.values.set(v.subarray(b+p),b),this.prefixSum=new Uint32Array(this.values.length),b-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=b-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(b){return b<0?0:(b=(0,N.toUint32)(b),this._getPrefixSum(b))}_getPrefixSum(b){if(b<=this.prefixSumValidIndex[0])return this.prefixSum[b];let p=this.prefixSumValidIndex[0]+1;p===0&&(this.prefixSum[0]=this.values[0],p++),b>=this.values.length&&(b=this.values.length-1);for(let v=p;v<=b;v++)this.prefixSum[v]=this.prefixSum[v-1]+this.values[v];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],b),this.prefixSum[b]}getIndexOf(b){b=Math.floor(b),this.getTotalSum();let p=0,v=this.values.length-1,i=0,t=0,a=0;for(;p<=v;)if(i=p+(v-p)/2|0,t=this.prefixSum[i],a=t-this.values[i],b<a)v=i-1;else if(b>=t)p=i+1;else break;return new g(i,b-a)}}e.PrefixSumComputer=M;class E{constructor(b){this._values=b,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(b){return this._ensureValid(),b===0?0:this._prefixSum[b-1]}getIndexOf(b){this._ensureValid();const p=this._indexBySum[b],v=p>0?this._prefixSum[p-1]:0;return new g(p,b-v)}removeValues(b,p){this._values.splice(b,p),this._invalidate(b)}insertValues(b,p){this._values=(0,L.arrayInsert)(this._values,b,p),this._invalidate(b)}_invalidate(b){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,b-1)}_ensureValid(){if(!this._isValid){for(let b=this._validEndIndex+1,p=this._values.length;b<p;b++){const v=this._values[b],i=b>0?this._prefixSum[b-1]:0;this._prefixSum[b]=i+v;for(let t=0;t<v;t++)this._indexBySum[i+t]=b}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(b,p){this._values[b]!==p&&(this._values[b]=p,this._invalidate(b))}}e.ConstantTimePrefixSumComputer=E;class g{constructor(b,p){this.index=b,this.remainder=p,this._prefixSumIndexOfResultBrand=void 0,this.index=b,this.remainder=p}}e.PrefixSumIndexOfResult=g}),define(ee[426],te([0,1,8,13,242]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MirrorTextModel=void 0;class E{constructor(S,b,p,v){this._uri=S,this._lines=b,this._eol=p,this._versionId=v,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(S){S.eol&&S.eol!==this._eol&&(this._eol=S.eol,this._lineStarts=null);const b=S.changes;for(const p of b)this._acceptDeleteRange(p.range),this._acceptInsertText(new N.Position(p.range.startLineNumber,p.range.startColumn),p.text);this._versionId=S.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const S=this._eol.length,b=this._lines.length,p=new Uint32Array(b);for(let v=0;v<b;v++)p[v]=this._lines[v].length+S;this._lineStarts=new M.PrefixSumComputer(p)}}_setLineText(S,b){this._lines[S]=b,this._lineStarts&&this._lineStarts.setValue(S,this._lines[S].length+this._eol.length)}_acceptDeleteRange(S){if(S.startLineNumber===S.endLineNumber){if(S.startColumn===S.endColumn)return;this._setLineText(S.startLineNumber-1,this._lines[S.startLineNumber-1].substring(0,S.startColumn-1)+this._lines[S.startLineNumber-1].substring(S.endColumn-1));return}this._setLineText(S.startLineNumber-1,this._lines[S.startLineNumber-1].substring(0,S.startColumn-1)+this._lines[S.endLineNumber-1].substring(S.endColumn-1)),this._lines.splice(S.startLineNumber,S.endLineNumber-S.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(S.startLineNumber,S.endLineNumber-S.startLineNumber)}_acceptInsertText(S,b){if(b.length===0)return;let p=(0,L.splitLines)(b);if(p.length===1){this._setLineText(S.lineNumber-1,this._lines[S.lineNumber-1].substring(0,S.column-1)+p[0]+this._lines[S.lineNumber-1].substring(S.column-1));return}p[p.length-1]+=this._lines[S.lineNumber-1].substring(S.column-1),this._setLineText(S.lineNumber-1,this._lines[S.lineNumber-1].substring(0,S.column-1)+p[0]);let v=new Uint32Array(p.length-1);for(let i=1;i<p.length;i++)this._lines.splice(S.lineNumber+i-1,0,p[i]),v[i-1]=p[i].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(S.lineNumber,v)}}e.MirrorTextModel=E}),define(ee[427],te([0,1,137,15,22,13,3,403,426,149,412,415,239,20,87,238]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.EditorSimpleWorker=e.MirrorModel=void 0;class d extends b.MirrorTextModel{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(s){return this._lines[s-1]}getWordAtPosition(s,o){let m=(0,p.getWordAtText)(s.column,(0,p.ensureValidWordDefinition)(o),this._lines[s.lineNumber-1],0);return m?new g.Range(s.lineNumber,m.startColumn,s.lineNumber,m.endColumn):null}getWordUntilPosition(s,o){const m=this.getWordAtPosition(s,o);return m?{word:this._lines[s.lineNumber-1].substring(m.startColumn-1,s.column-1),startColumn:m.startColumn,endColumn:s.column}:{word:"",startColumn:s.column,endColumn:s.column}}words(s){const o=this._lines,m=this._wordenize.bind(this);let _=0,f="",c=0,C=[];return{*[Symbol.iterator](){for(;;)if(c<C.length){const y=f.substring(C[c].start,C[c].end);c+=1,yield y}else if(_<o.length)f=o[_],C=m(f,s),c=0,_+=1;else break}}}getLineWords(s,o){let m=this._lines[s-1],_=this._wordenize(m,o),f=[];for(const c of _)f.push({word:m.substring(c.start,c.end),startColumn:c.start+1,endColumn:c.end+1});return f}_wordenize(s,o){const m=[];let _;for(o.lastIndex=0;(_=o.exec(s))&&_[0].length!==0;)m.push({start:_.index,end:_.index+_[0].length});return m}getValueInRange(s){if(s=this._validateRange(s),s.startLineNumber===s.endLineNumber)return this._lines[s.startLineNumber-1].substring(s.startColumn-1,s.endColumn-1);let o=this._eol,m=s.startLineNumber-1,_=s.endLineNumber-1,f=[];f.push(this._lines[m].substring(s.startColumn-1));for(let c=m+1;c<_;c++)f.push(this._lines[c]);return f.push(this._lines[_].substring(0,s.endColumn-1)),f.join(o)}offsetAt(s){return s=this._validatePosition(s),this._ensureLineStarts(),this._lineStarts.getPrefixSum(s.lineNumber-2)+(s.column-1)}positionAt(s){s=Math.floor(s),s=Math.max(0,s),this._ensureLineStarts();let o=this._lineStarts.getIndexOf(s),m=this._lines[o.index].length;return{lineNumber:1+o.index,column:1+Math.min(o.remainder,m)}}_validateRange(s){const o=this._validatePosition({lineNumber:s.startLineNumber,column:s.startColumn}),m=this._validatePosition({lineNumber:s.endLineNumber,column:s.endColumn});return o.lineNumber!==s.startLineNumber||o.column!==s.startColumn||m.lineNumber!==s.endLineNumber||m.column!==s.endColumn?{startLineNumber:o.lineNumber,startColumn:o.column,endLineNumber:m.lineNumber,endColumn:m.column}:s}_validatePosition(s){if(!E.Position.isIPosition(s))throw new Error("bad position");let{lineNumber:o,column:m}=s,_=!1;if(o<1)o=1,m=1,_=!0;else if(o>this._lines.length)o=this._lines.length,m=this._lines[o-1].length+1,_=!0;else{let f=this._lines[o-1].length+1;m<1?(m=1,_=!0):m>f&&(m=f,_=!0)}return _?{lineNumber:o,column:m}:s}}e.MirrorModel=d;class u{constructor(s,o){this._host=s,this._models=Object.create(null),this._foreignModuleFactory=o,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(s){return this._models[s]}_getModels(){let s=[];return Object.keys(this._models).forEach(o=>s.push(this._models[o])),s}acceptNewModel(s){this._models[s.url]=new d(M.URI.parse(s.url),s.lines,s.EOL,s.versionId)}acceptModelChanged(s,o){if(!this._models[s])return;this._models[s].onEvents(o)}acceptRemovedModel(s){!this._models[s]||delete this._models[s]}computeUnicodeHighlights(s,o,m){return Me(this,void 0,void 0,function*(){const _=this._getModel(s);return _?h.UnicodeTextModelHighlighter.computeUnicodeHighlights(_,o,m):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})}computeDiff(s,o,m,_){return Me(this,void 0,void 0,function*(){const f=this._getModel(s),c=this._getModel(o);if(!f||!c)return null;const C=f.getLinesContent(),y=c.getLinesContent(),D=new S.DiffComputer(C,y,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:m,shouldMakePrettyDiff:!0,maxComputationTime:_}).computeDiff(),I=D.changes.length>0?!1:this._modelsAreIdentical(f,c);return{quitEarly:D.quitEarly,identical:I,changes:D.changes}})}_modelsAreIdentical(s,o){const m=s.getLineCount(),_=o.getLineCount();if(m!==_)return!1;for(let f=1;f<=m;f++){const c=s.getLineContent(f),C=o.getLineContent(f);if(c!==C)return!1}return!0}computeDirtyDiff(s,o,m){return Me(this,void 0,void 0,function*(){let _=this._getModel(s),f=this._getModel(o);if(!_||!f)return null;let c=_.getLinesContent(),C=f.getLinesContent();return new S.DiffComputer(c,C,{shouldComputeCharChanges:!1,shouldPostProcessCharChanges:!1,shouldIgnoreTrimWhitespace:m,shouldMakePrettyDiff:!0,maxComputationTime:1e3}).computeDiff().changes})}computeMoreMinimalEdits(s,o){return Me(this,void 0,void 0,function*(){const m=this._getModel(s);if(!m)return o;const _=[];let f;o=o.slice(0).sort((c,C)=>{if(c.range&&C.range)return g.Range.compareRangesUsingStarts(c.range,C.range);let y=c.range?0:1,w=C.range?0:1;return y-w});for(let{range:c,text:C,eol:y}of o){if(typeof y=="number"&&(f=y),g.Range.isEmpty(c)&&!C)continue;const w=m.getValueInRange(c);if(C=C.replace(/\r\n|\n|\r/g,m.eol),w===C)continue;if(Math.max(C.length,w.length)>u._diffLimit){_.push({range:c,text:C});continue}const D=(0,L.stringDiff)(w,C,!1),I=m.offsetAt(g.Range.lift(c).getStartPosition());for(const T of D){const F=m.positionAt(I+T.originalStart),P=m.positionAt(I+T.originalStart+T.originalLength),R={text:C.substr(T.modifiedStart,T.modifiedLength),range:{startLineNumber:F.lineNumber,startColumn:F.column,endLineNumber:P.lineNumber,endColumn:P.column}};m.getValueInRange(R.range)!==R.text&&_.push(R)}}return typeof f=="number"&&_.push({eol:f,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),_})}computeLinks(s){return Me(this,void 0,void 0,function*(){let o=this._getModel(s);return o?(0,v.computeLinks)(o):null})}textualSuggest(s,o,m,_){return Me(this,void 0,void 0,function*(){const f=new l.StopWatch(!0),c=new RegExp(m,_),C=new Set;e:for(let y of s){const w=this._getModel(y);if(!!w){for(let D of w.words(c))if(!(D===o||!isNaN(Number(D)))&&(C.add(D),C.size>u._suggestionsLimit))break e}}return{words:Array.from(C),duration:f.elapsed()}})}computeWordRanges(s,o,m,_){return Me(this,void 0,void 0,function*(){let f=this._getModel(s);if(!f)return Object.create(null);const c=new RegExp(m,_),C=Object.create(null);for(let y=o.startLineNumber;y<o.endLineNumber;y++){let w=f.getLineWords(y,c);for(const D of w){if(!isNaN(Number(D.word)))continue;let I=C[D.word];I||(I=[],C[D.word]=I),I.push({startLineNumber:y,startColumn:D.startColumn,endLineNumber:y,endColumn:D.endColumn})}}return C})}navigateValueSet(s,o,m,_,f){return Me(this,void 0,void 0,function*(){let c=this._getModel(s);if(!c)return null;let C=new RegExp(_,f);o.startColumn===o.endColumn&&(o={startLineNumber:o.startLineNumber,startColumn:o.startColumn,endLineNumber:o.endLineNumber,endColumn:o.endColumn+1});let y=c.getValueInRange(o),w=c.getWordAtPosition({lineNumber:o.startLineNumber,column:o.startColumn},C);if(!w)return null;let D=c.getValueInRange(w);return i.BasicInplaceReplace.INSTANCE.navigateValueSet(o,y,w,D,m)})}loadForeignModule(s,o,m){const _=(C,y)=>this._host.fhr(C,y);let c={host:a.createProxyObject(m,_),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(c,o),Promise.resolve(a.getAllMethodNames(this._foreignModule))):new Promise((C,y)=>{Q([s],w=>{this._foreignModule=w.create(c,o),C(a.getAllMethodNames(this._foreignModule))},y)})}fmr(s,o){if(!this._foreignModule||typeof this._foreignModule[s]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+s));try{return Promise.resolve(this._foreignModule[s].apply(this._foreignModule,o))}catch(m){return Promise.reject(m)}}}e.EditorSimpleWorker=u,u._diffLimit=1e5,u._suggestionsLimit=1e4;function n(r){return new u(r,null)}e.create=n,typeof importScripts=="function"&&(N.globals.monaco=(0,t.createMonacoBaseAPI)())}),define(ee[121],te([0,1,2]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewEventHandler=void 0;class N extends L.Disposable{constructor(){super();this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(E){return!1}onCompositionEnd(E){return!1}onConfigurationChanged(E){return!1}onCursorStateChanged(E){return!1}onDecorationsChanged(E){return!1}onFlushed(E){return!1}onFocusChanged(E){return!1}onLanguageConfigurationChanged(E){return!1}onLineMappingChanged(E){return!1}onLinesChanged(E){return!1}onLinesDeleted(E){return!1}onLinesInserted(E){return!1}onRevealRangeRequest(E){return!1}onScrollChanged(E){return!1}onThemeChanged(E){return!1}onTokensChanged(E){return!1}onTokensColorsChanged(E){return!1}onZonesChanged(E){return!1}handleEvents(E){let g=!1;for(let S=0,b=E.length;S<b;S++){let p=E[S];switch(p.type){case 0:this.onCompositionStart(p)&&(g=!0);break;case 1:this.onCompositionEnd(p)&&(g=!0);break;case 2:this.onConfigurationChanged(p)&&(g=!0);break;case 3:this.onCursorStateChanged(p)&&(g=!0);break;case 4:this.onDecorationsChanged(p)&&(g=!0);break;case 5:this.onFlushed(p)&&(g=!0);break;case 6:this.onFocusChanged(p)&&(g=!0);break;case 7:this.onLanguageConfigurationChanged(p)&&(g=!0);break;case 8:this.onLineMappingChanged(p)&&(g=!0);break;case 9:this.onLinesChanged(p)&&(g=!0);break;case 10:this.onLinesDeleted(p)&&(g=!0);break;case 11:this.onLinesInserted(p)&&(g=!0);break;case 12:this.onRevealRangeRequest(p)&&(g=!0);break;case 13:this.onScrollChanged(p)&&(g=!0);break;case 15:this.onTokensChanged(p)&&(g=!0);break;case 14:this.onThemeChanged(p)&&(g=!0);break;case 16:this.onTokensColorsChanged(p)&&(g=!0);break;case 17:this.onZonesChanged(p)&&(g=!0);break;default:console.info("View received unknown event: "),console.info(p)}}g&&(this._shouldRender=!0)}}e.ViewEventHandler=N}),define(ee[103],te([0,1,121]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicViewOverlay=void 0;class N extends L.ViewEventHandler{}e.DynamicViewOverlay=N}),define(ee[51],te([0,1,32,121]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PartFingerprints=e.ViewPart=void 0;class M extends N.ViewEventHandler{constructor(S){super();this._context=S,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}e.ViewPart=M;class E{static write(S,b){S instanceof L.FastDomNode,S.setAttribute("data-mprt",String(b))}static read(S){const b=S.getAttribute("data-mprt");return b===null?0:parseInt(b,10)}static collect(S,b){let p=[],v=0;for(;S&&S!==document.body&&S!==b;)S.nodeType===S.ELEMENT_NODE&&(p[v++]=this.read(S)),S=S.parentElement;const i=new Uint8Array(v);for(let t=0;t<v;t++)i[t]=p[v-t-1];return i}}e.PartFingerprints=E}),define(ee[428],te([0,1,7,32,51]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContentWidgets=void 0;class E{constructor(v,i){this._coordinateBrand=void 0,this.top=v,this.left=i}}class g extends M.ViewPart{constructor(v,i){super(v);this._viewDomNode=i,this._widgets={},this.domNode=(0,N.createFastDomNode)(document.createElement("div")),M.PartFingerprints.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,N.createFastDomNode)(document.createElement("div")),M.PartFingerprints.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(v){const i=Object.keys(this._widgets);for(const t of i)this._widgets[t].onConfigurationChanged(v);return!0}onDecorationsChanged(v){return!0}onFlushed(v){return!0}onLineMappingChanged(v){const i=Object.keys(this._widgets);for(const t of i)this._widgets[t].onLineMappingChanged(v);return!0}onLinesChanged(v){return!0}onLinesDeleted(v){return!0}onLinesInserted(v){return!0}onScrollChanged(v){return!0}onZonesChanged(v){return!0}addWidget(v){const i=new S(this._context,this._viewDomNode,v);this._widgets[i.id]=i,i.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(i.domNode):this.domNode.appendChild(i.domNode),this.setShouldRender()}setWidgetPosition(v,i,t){this._widgets[v.getId()].setPosition(i,t),this.setShouldRender()}removeWidget(v){const i=v.getId();if(this._widgets.hasOwnProperty(i)){const t=this._widgets[i];delete this._widgets[i];const a=t.domNode.domNode;a.parentNode.removeChild(a),a.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(v){return this._widgets.hasOwnProperty(v)?this._widgets[v].suppressMouseDown:!1}onBeforeRender(v){const i=Object.keys(this._widgets);for(const t of i)this._widgets[t].onBeforeRender(v)}prepareRender(v){const i=Object.keys(this._widgets);for(const t of i)this._widgets[t].prepareRender(v)}render(v){const i=Object.keys(this._widgets);for(const t of i)this._widgets[t].render(v)}}e.ViewContentWidgets=g;class S{constructor(v,i,t){this._context=v,this._viewDomNode=i,this._actual=t,this.domNode=(0,N.createFastDomNode)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const a=this._context.configuration.options,l=a.get(130);this._fixedOverflowWidgets=a.get(36),this._contentWidth=l.contentWidth,this._contentLeft=l.contentLeft,this._lineHeight=a.get(58),this._range=null,this._viewRange=null,this._preference=[],this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(v){const i=this._context.configuration.options;if(this._lineHeight=i.get(58),v.hasChanged(130)){const t=i.get(130);this._contentLeft=t.contentLeft,this._contentWidth=t.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(v){this._setPosition(this._range)}_setPosition(v){if(this._range=v,this._viewRange=null,this._range){const i=this._context.model.validateModelRange(this._range);(this._context.model.coordinatesConverter.modelPositionIsVisible(i.getStartPosition())||this._context.model.coordinatesConverter.modelPositionIsVisible(i.getEndPosition()))&&(this._viewRange=this._context.model.coordinatesConverter.convertModelRangeToViewRange(i))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:this._contentWidth}setPosition(v,i){this._setPosition(v),this._preference=i,this._viewRange&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1}_layoutBoxInViewport(v,i,t,a,l){const h=v.top,d=h,u=i.top+this._lineHeight,n=l.viewportHeight-u,r=h-a,s=d>=a,o=u,m=n>=a;let _=v.left,f=i.left;return _+t>l.scrollLeft+l.viewportWidth&&(_=l.scrollLeft+l.viewportWidth-t),f+t>l.scrollLeft+l.viewportWidth&&(f=l.scrollLeft+l.viewportWidth-t),_<l.scrollLeft&&(_=l.scrollLeft),f<l.scrollLeft&&(f=l.scrollLeft),{fitsAbove:s,aboveTop:r,aboveLeft:_,fitsBelow:m,belowTop:o,belowLeft:f}}_layoutHorizontalSegmentInPage(v,i,t,a){const l=Math.max(0,i.left-a),h=Math.min(i.left+i.width+a,v.width);let d=i.left+t-L.StandardWindow.scrollX;if(d+a>h){const u=d-(h-a);d-=u,t-=u}if(d<l){const u=d-l;d-=u,t-=u}return[t,d]}_layoutBoxInPage(v,i,t,a,l){const h=v.top-a,d=i.top+this._lineHeight,u=L.getDomNodePagePosition(this._viewDomNode.domNode),n=u.top+h-L.StandardWindow.scrollY,r=u.top+d-L.StandardWindow.scrollY,s=L.getClientArea(document.body),[o,m]=this._layoutHorizontalSegmentInPage(s,u,v.left-l.scrollLeft+this._contentLeft,t),[_,f]=this._layoutHorizontalSegmentInPage(s,u,i.left-l.scrollLeft+this._contentLeft,t),c=22,C=22,y=n>=c,w=r+a<=s.height-C;return this._fixedOverflowWidgets?{fitsAbove:y,aboveTop:Math.max(n,c),aboveLeft:m,fitsBelow:w,belowTop:r,belowLeft:f}:{fitsAbove:y,aboveTop:h,aboveLeft:o,fitsBelow:w,belowTop:d,belowLeft:_}}_prepareRenderWidgetAtExactPositionOverflowing(v){return new E(v.top,v.left+this._contentLeft)}_getTopAndBottomLeft(v){if(!this._viewRange)return[null,null];const i=v.linesVisibleRangesForRange(this._viewRange,!1);if(!i||i.length===0)return[null,null];let t=i[0],a=i[0];for(const s of i)s.lineNumber<t.lineNumber&&(t=s),s.lineNumber>a.lineNumber&&(a=s);let l=1073741824;for(const s of t.ranges)s.left<l&&(l=s.left);let h=1073741824;for(const s of a.ranges)s.left<h&&(h=s.left);const d=v.getVerticalOffsetForLineNumber(t.lineNumber)-v.scrollTop,u=new E(d,l),n=v.getVerticalOffsetForLineNumber(a.lineNumber)-v.scrollTop,r=new E(n,h);return[u,r]}_prepareRenderWidget(v){if(!this._preference||this._preference.length===0)return null;const[i,t]=this._getTopAndBottomLeft(v);if(!i||!t)return null;if(this._cachedDomNodeClientWidth===-1||this._cachedDomNodeClientHeight===-1){let l=null;if(typeof this._actual.beforeRender=="function"&&(l=b(this._actual.beforeRender,this._actual)),l)this._cachedDomNodeClientWidth=l.width,this._cachedDomNodeClientHeight=l.height;else{const h=this.domNode.domNode;this._cachedDomNodeClientWidth=h.clientWidth,this._cachedDomNodeClientHeight=h.clientHeight}}let a;this.allowEditorOverflow?a=this._layoutBoxInPage(i,t,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,v):a=this._layoutBoxInViewport(i,t,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,v);for(let l=1;l<=2;l++)for(const h of this._preference)if(h===1){if(!a)return null;if(l===2||a.fitsAbove)return{coordinate:new E(a.aboveTop,a.aboveLeft),position:1}}else if(h===2){if(!a)return null;if(l===2||a.fitsBelow)return{coordinate:new E(a.belowTop,a.belowLeft),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(i),position:0}:{coordinate:i,position:0};return null}onBeforeRender(v){!this._viewRange||!this._preference||this._viewRange.endLineNumber<v.startLineNumber||this._viewRange.startLineNumber>v.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(v){this._renderData=this._prepareRenderWidget(v)}render(v){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&b(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+v.scrollTop-v.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&b(this._actual.afterRender,this._actual,this._renderData.position)}}function b(p,v,...i){try{return p.call(v,...i)}catch(t){return null}}}),define(ee[429],te([0,1,103,3,119,352]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverlay=void 0;class E extends L.DynamicViewOverlay{constructor(S){super();this._context=S;const b=this._context.configuration.options;this._lineHeight=b.get(58),this._typicalHalfwidthCharacterWidth=b.get(43).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(S){const b=this._context.configuration.options;return this._lineHeight=b.get(58),this._typicalHalfwidthCharacterWidth=b.get(43).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(S){return!0}onFlushed(S){return!0}onLinesChanged(S){return!0}onLinesDeleted(S){return!0}onLinesInserted(S){return!0}onScrollChanged(S){return S.scrollTopChanged||S.scrollWidthChanged}onZonesChanged(S){return!0}prepareRender(S){const b=S.getDecorationsInViewport();let p=[],v=0;for(let l=0,h=b.length;l<h;l++){const d=b[l];d.options.className&&(p[v++]=d)}p=p.sort((l,h)=>{if(l.options.zIndex<h.options.zIndex)return-1;if(l.options.zIndex>h.options.zIndex)return 1;const d=l.options.className,u=h.options.className;return d<u?-1:d>u?1:N.Range.compareRangesUsingStarts(l.range,h.range)});const i=S.visibleRange.startLineNumber,t=S.visibleRange.endLineNumber,a=[];for(let l=i;l<=t;l++){const h=l-i;a[h]=""}this._renderWholeLineDecorations(S,p,a),this._renderNormalDecorations(S,p,a),this._renderResult=a}_renderWholeLineDecorations(S,b,p){const v=String(this._lineHeight),i=S.visibleRange.startLineNumber,t=S.visibleRange.endLineNumber;for(let a=0,l=b.length;a<l;a++){const h=b[a];if(!h.options.isWholeLine)continue;const d='<div class="cdr '+h.options.className+'" style="left:0;width:100%;height:'+v+'px;"></div>',u=Math.max(h.range.startLineNumber,i),n=Math.min(h.range.endLineNumber,t);for(let r=u;r<=n;r++){const s=r-i;p[s]+=d}}}_renderNormalDecorations(S,b,p){const v=String(this._lineHeight),i=S.visibleRange.startLineNumber;let t=null,a=!1,l=null;for(let h=0,d=b.length;h<d;h++){const u=b[h];if(u.options.isWholeLine)continue;const n=u.options.className,r=Boolean(u.options.showIfCollapsed);let s=u.range;if(r&&s.endColumn===1&&s.endLineNumber!==s.startLineNumber&&(s=new N.Range(s.startLineNumber,s.startColumn,s.endLineNumber-1,this._context.model.getLineMaxColumn(s.endLineNumber-1))),t===n&&a===r&&N.Range.areIntersectingOrTouching(l,s)){l=N.Range.plusRange(l,s);continue}t!==null&&this._renderNormalDecoration(S,l,t,a,v,i,p),t=n,a=r,l=s}t!==null&&this._renderNormalDecoration(S,l,t,a,v,i,p)}_renderNormalDecoration(S,b,p,v,i,t,a){const l=S.linesVisibleRangesForRange(b,p==="findMatch");if(!!l)for(let h=0,d=l.length;h<d;h++){const u=l[h];if(u.outsideRenderedLine)continue;const n=u.lineNumber-t;if(v&&u.ranges.length===1){const r=u.ranges[0];if(r.width<this._typicalHalfwidthCharacterWidth){const s=Math.round(r.left+r.width/2),o=Math.max(0,Math.round(s-this._typicalHalfwidthCharacterWidth/2));u.ranges[0]=new M.HorizontalRange(o,this._typicalHalfwidthCharacterWidth)}}for(let r=0,s=u.ranges.length;r<s;r++){const o=u.ranges[r],m='<div class="cdr '+p+'" style="left:'+String(o.left)+"px;width:"+String(o.width)+"px;height:"+i+'px;"></div>';a[n]+=m}}}render(S,b){if(!this._renderResult)return"";const p=b-S;return p<0||p>=this._renderResult.length?"":this._renderResult[p]}}e.DecorationsOverlay=E}),define(ee[181],te([0,1,103,353]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlyphMarginOverlay=e.DedupOverlay=e.DecorationToRender=void 0;class N{constructor(S,b,p){this._decorationToRenderBrand=void 0,this.startLineNumber=+S,this.endLineNumber=+b,this.className=String(p)}}e.DecorationToRender=N;class M extends L.DynamicViewOverlay{_render(S,b,p){const v=[];for(let a=S;a<=b;a++){const l=a-S;v[l]=[]}if(p.length===0)return v;p.sort((a,l)=>a.className===l.className?a.startLineNumber===l.startLineNumber?a.endLineNumber-l.endLineNumber:a.startLineNumber-l.startLineNumber:a.className<l.className?-1:1);let i=null,t=0;for(let a=0,l=p.length;a<l;a++){const h=p[a],d=h.className;let u=Math.max(h.startLineNumber,S)-S;const n=Math.min(h.endLineNumber,b)-S;i===d?(u=Math.max(t+1,u),t=Math.max(t,n)):(i=d,t=n);for(let r=u;r<=t;r++)v[r].push(i)}return v}}e.DedupOverlay=M;class E extends M{constructor(S){super();this._context=S;const b=this._context.configuration.options,p=b.get(130);this._lineHeight=b.get(58),this._glyphMargin=b.get(49),this._glyphMarginLeft=p.glyphMarginLeft,this._glyphMarginWidth=p.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(S){const b=this._context.configuration.options,p=b.get(130);return this._lineHeight=b.get(58),this._glyphMargin=b.get(49),this._glyphMarginLeft=p.glyphMarginLeft,this._glyphMarginWidth=p.glyphMarginWidth,!0}onDecorationsChanged(S){return!0}onFlushed(S){return!0}onLinesChanged(S){return!0}onLinesDeleted(S){return!0}onLinesInserted(S){return!0}onScrollChanged(S){return S.scrollTopChanged}onZonesChanged(S){return!0}_getDecorations(S){const b=S.getDecorationsInViewport();let p=[],v=0;for(let i=0,t=b.length;i<t;i++){const a=b[i],l=a.options.glyphMarginClassName;l&&(p[v++]=new N(a.range.startLineNumber,a.range.endLineNumber,l))}return p}prepareRender(S){if(!this._glyphMargin){this._renderResult=null;return}const b=S.visibleRange.startLineNumber,p=S.visibleRange.endLineNumber,v=this._render(b,p,this._getDecorations(S)),i=this._lineHeight.toString(),t=this._glyphMarginLeft.toString(),a=this._glyphMarginWidth.toString(),l='" style="left:'+t+"px;width:"+a+"px;height:"+i+'px;"></div>',h=[];for(let d=b;d<=p;d++){const u=d-b,n=v[u];n.length===0?h[u]="":h[u]='<div class="cgmr codicon '+n.join(" ")+l}this._renderResult=h}render(S,b){if(!this._renderResult)return"";const p=b-S;return p<0||p>=this._renderResult.length?"":this._renderResult[p]}}e.GlyphMarginOverlay=E}),define(ee[430],te([0,1,181,357]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesDecorationsOverlay=void 0;class N extends L.DedupOverlay{constructor(E){super();this._context=E;const S=this._context.configuration.options.get(130);this._decorationsLeft=S.decorationsLeft,this._decorationsWidth=S.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(E){const S=this._context.configuration.options.get(130);return this._decorationsLeft=S.decorationsLeft,this._decorationsWidth=S.decorationsWidth,!0}onDecorationsChanged(E){return!0}onFlushed(E){return!0}onLinesChanged(E){return!0}onLinesDeleted(E){return!0}onLinesInserted(E){return!0}onScrollChanged(E){return E.scrollTopChanged}onZonesChanged(E){return!0}_getDecorations(E){const g=E.getDecorationsInViewport();let S=[],b=0;for(let p=0,v=g.length;p<v;p++){const i=g[p],t=i.options.linesDecorationsClassName;t&&(S[b++]=new L.DecorationToRender(i.range.startLineNumber,i.range.endLineNumber,t));const a=i.options.firstLineDecorationClassName;a&&(S[b++]=new L.DecorationToRender(i.range.startLineNumber,i.range.startLineNumber,a))}return S}prepareRender(E){const g=E.visibleRange.startLineNumber,S=E.visibleRange.endLineNumber,b=this._render(g,S,this._getDecorations(E)),p=this._decorationsLeft.toString(),v=this._decorationsWidth.toString(),i='" style="left:'+p+"px;width:"+v+'px;"></div>',t=[];for(let a=g;a<=S;a++){const l=a-g,h=b[l];let d="";for(let u=0,n=h.length;u<n;u++)d+='<div class="cldr '+h[u]+i;t[l]=d}this._renderResult=t}render(E,g){return this._renderResult?this._renderResult[g-E]:""}}e.LinesDecorationsOverlay=N}),define(ee[243],te([0,1,32,51]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Margin=void 0;class M extends N.ViewPart{constructor(g){super(g);const S=this._context.configuration.options,b=S.get(130);this._canUseLayerHinting=!S.get(28),this._contentLeft=b.contentLeft,this._glyphMarginLeft=b.glyphMarginLeft,this._glyphMarginWidth=b.glyphMarginWidth,this._domNode=(0,L.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(M.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,L.createFastDomNode)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(M.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(g){const S=this._context.configuration.options,b=S.get(130);return this._canUseLayerHinting=!S.get(28),this._contentLeft=b.contentLeft,this._glyphMarginLeft=b.glyphMarginLeft,this._glyphMarginWidth=b.glyphMarginWidth,!0}onScrollChanged(g){return super.onScrollChanged(g)||g.scrollTopChanged}prepareRender(g){}render(g){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const S=g.scrollTop-g.bigNumbersDelta;this._domNode.setTop(-S);const b=Math.min(g.scrollHeight,1e6);this._domNode.setHeight(b),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(b)}}e.Margin=M,M.CLASS_NAME="glyph-margin",M.OUTER_CLASS_NAME="margin"}),define(ee[431],te([0,1,181,358]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewLineDecorationsOverlay=void 0;class N extends L.DedupOverlay{constructor(E){super();this._context=E,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(E){return!0}onDecorationsChanged(E){return!0}onFlushed(E){return!0}onLinesChanged(E){return!0}onLinesDeleted(E){return!0}onLinesInserted(E){return!0}onScrollChanged(E){return E.scrollTopChanged}onZonesChanged(E){return!0}_getDecorations(E){const g=E.getDecorationsInViewport();let S=[],b=0;for(let p=0,v=g.length;p<v;p++){const i=g[p],t=i.options.marginClassName;t&&(S[b++]=new L.DecorationToRender(i.range.startLineNumber,i.range.endLineNumber,t))}return S}prepareRender(E){const g=E.visibleRange.startLineNumber,S=E.visibleRange.endLineNumber,b=this._render(g,S,this._getDecorations(E)),p=[];for(let v=g;v<=S;v++){const i=v-g,t=b[i];let a="";for(let l=0,h=t.length;l<h;l++)a+='<div class="cmdr '+t[l]+'" style=""></div>';p[i]=a}this._renderResult=p}render(E,g){return this._renderResult?this._renderResult[g-E]:""}}e.MarginViewLineDecorationsOverlay=N}),define(ee[432],te([0,1,32,51,360]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewOverlayWidgets=void 0;class M extends N.ViewPart{constructor(g){super(g);const b=this._context.configuration.options.get(130);this._widgets={},this._verticalScrollbarWidth=b.verticalScrollbarWidth,this._minimapWidth=b.minimap.minimapWidth,this._horizontalScrollbarHeight=b.horizontalScrollbarHeight,this._editorHeight=b.height,this._editorWidth=b.width,this._domNode=(0,L.createFastDomNode)(document.createElement("div")),N.PartFingerprints.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(g){const b=this._context.configuration.options.get(130);return this._verticalScrollbarWidth=b.verticalScrollbarWidth,this._minimapWidth=b.minimap.minimapWidth,this._horizontalScrollbarHeight=b.horizontalScrollbarHeight,this._editorHeight=b.height,this._editorWidth=b.width,!0}addWidget(g){const S=(0,L.createFastDomNode)(g.getDomNode());this._widgets[g.getId()]={widget:g,preference:null,domNode:S},S.setPosition("absolute"),S.setAttribute("widgetId",g.getId()),this._domNode.appendChild(S),this.setShouldRender()}setWidgetPosition(g,S){const b=this._widgets[g.getId()];return b.preference===S?!1:(b.preference=S,this.setShouldRender(),!0)}removeWidget(g){const S=g.getId();if(this._widgets.hasOwnProperty(S)){const p=this._widgets[S].domNode.domNode;delete this._widgets[S],p.parentNode.removeChild(p),this.setShouldRender()}}_renderWidget(g){const S=g.domNode;if(g.preference===null){S.unsetTop();return}if(g.preference===0)S.setTop(0),S.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(g.preference===1){const b=S.domNode.clientHeight;S.setTop(this._editorHeight-b-2*this._horizontalScrollbarHeight),S.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else g.preference===2&&(S.setTop(0),S.domNode.style.right="50%")}prepareRender(g){}render(g){this._domNode.setWidth(this._editorWidth);const S=Object.keys(this._widgets);for(let b=0,p=S.length;b<p;b++){const v=S[b];this._renderWidget(this._widgets[v])}}}e.ViewOverlayWidgets=M}),define(ee[433],te([0,1,32,240,121]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRuler=void 0;class E extends M.ViewEventHandler{constructor(S,b){super();this._context=S;const p=this._context.configuration.options;this._domNode=(0,L.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName(b),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new N.OverviewZoneManager(v=>this._context.viewLayout.getVerticalOffsetForLineNumber(v)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(p.get(58)),this._zoneManager.setPixelRatio(p.get(128)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(S){const b=this._context.configuration.options;return S.hasChanged(58)&&(this._zoneManager.setLineHeight(b.get(58)),this._render()),S.hasChanged(128)&&(this._zoneManager.setPixelRatio(b.get(128)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(S){return this._render(),!0}onScrollChanged(S){return S.scrollHeightChanged&&(this._zoneManager.setOuterHeight(S.scrollHeight),this._render()),!0}onZonesChanged(S){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(S){this._domNode.setTop(S.top),this._domNode.setRight(S.right);let b=!1;b=this._zoneManager.setDOMWidth(S.width)||b,b=this._zoneManager.setDOMHeight(S.height)||b,b&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(S){this._zoneManager.setZones(S),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const S=this._zoneManager.getCanvasWidth(),b=this._zoneManager.getCanvasHeight(),p=this._zoneManager.resolveColorZones(),v=this._zoneManager.getId2Color(),i=this._domNode.domNode.getContext("2d");return i.clearRect(0,0,S,b),p.length>0&&this._renderOneLane(i,p,v,S),!0}_renderOneLane(S,b,p,v){let i=0,t=0,a=0;for(const l of b){const h=l.colorId,d=l.from,u=l.to;h!==i?(S.fillRect(0,t,v,a-t),i=h,S.fillStyle=p[i],t=d,a=u):a>=d?a=Math.max(a,u):(S.fillRect(0,t,v,a-t),t=d,a=u)}S.fillRect(0,t,v,a-t)}}e.OverviewRuler=E}),define(ee[434],te([0,1,32,12,51,13]),function(Q,e,L,N,M,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZones=void 0;const g=()=>{throw new Error("Invalid change accessor")};class S extends M.ViewPart{constructor(v){super(v);const i=this._context.configuration.options,t=i.get(130);this._lineHeight=i.get(58),this._contentWidth=t.contentWidth,this._contentLeft=t.contentLeft,this.domNode=(0,L.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,L.createFastDomNode)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const v=this._context.viewLayout.getWhitespaces(),i=new Map;for(const a of v)i.set(a.id,a);let t=!1;return this._context.model.changeWhitespace(a=>{const l=Object.keys(this._zones);for(let h=0,d=l.length;h<d;h++){const u=l[h],n=this._zones[u],r=this._computeWhitespaceProps(n.delegate);n.isInHiddenArea=r.isInHiddenArea;const s=i.get(u);s&&(s.afterLineNumber!==r.afterViewLineNumber||s.height!==r.heightInPx)&&(a.changeOneWhitespace(u,r.afterViewLineNumber,r.heightInPx),this._safeCallOnComputedHeight(n.delegate,r.heightInPx),t=!0)}}),t}onConfigurationChanged(v){const i=this._context.configuration.options,t=i.get(130);return this._lineHeight=i.get(58),this._contentWidth=t.contentWidth,this._contentLeft=t.contentLeft,v.hasChanged(58)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(v){return this._recomputeWhitespacesProps()}onLinesDeleted(v){return!0}onScrollChanged(v){return v.scrollTopChanged||v.scrollWidthChanged}onZonesChanged(v){return!0}onLinesInserted(v){return!0}_getZoneOrdinal(v){return typeof v.afterColumn!="undefined"?v.afterColumn:1e4}_computeWhitespaceProps(v){if(v.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(v),minWidthInPx:this._minWidthInPixels(v)};let i;if(typeof v.afterColumn!="undefined")i=this._context.model.validateModelPosition({lineNumber:v.afterLineNumber,column:v.afterColumn});else{const h=this._context.model.validateModelPosition({lineNumber:v.afterLineNumber,column:1}).lineNumber;i=new E.Position(h,this._context.model.getModelLineMaxColumn(h))}let t;i.column===this._context.model.getModelLineMaxColumn(i.lineNumber)?t=this._context.model.validateModelPosition({lineNumber:i.lineNumber+1,column:1}):t=this._context.model.validateModelPosition({lineNumber:i.lineNumber,column:i.column+1});const a=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(i),l=this._context.model.coordinatesConverter.modelPositionIsVisible(t);return{isInHiddenArea:!l,afterViewLineNumber:a.lineNumber,heightInPx:l?this._heightInPixels(v):0,minWidthInPx:this._minWidthInPixels(v)}}changeViewZones(v){let i=!1;return this._context.model.changeWhitespace(t=>{const a={addZone:l=>(i=!0,this._addZone(t,l)),removeZone:l=>{!l||(i=this._removeZone(t,l)||i)},layoutZone:l=>{!l||(i=this._layoutZone(t,l)||i)}};b(v,a),a.addZone=g,a.removeZone=g,a.layoutZone=g}),i}_addZone(v,i){const t=this._computeWhitespaceProps(i),l={whitespaceId:v.insertWhitespace(t.afterViewLineNumber,this._getZoneOrdinal(i),t.heightInPx,t.minWidthInPx),delegate:i,isInHiddenArea:t.isInHiddenArea,isVisible:!1,domNode:(0,L.createFastDomNode)(i.domNode),marginDomNode:i.marginDomNode?(0,L.createFastDomNode)(i.marginDomNode):null};return this._safeCallOnComputedHeight(l.delegate,t.heightInPx),l.domNode.setPosition("absolute"),l.domNode.domNode.style.width="100%",l.domNode.setDisplay("none"),l.domNode.setAttribute("monaco-view-zone",l.whitespaceId),this.domNode.appendChild(l.domNode),l.marginDomNode&&(l.marginDomNode.setPosition("absolute"),l.marginDomNode.domNode.style.width="100%",l.marginDomNode.setDisplay("none"),l.marginDomNode.setAttribute("monaco-view-zone",l.whitespaceId),this.marginDomNode.appendChild(l.marginDomNode)),this._zones[l.whitespaceId]=l,this.setShouldRender(),l.whitespaceId}_removeZone(v,i){if(this._zones.hasOwnProperty(i)){const t=this._zones[i];return delete this._zones[i],v.removeWhitespace(t.whitespaceId),t.domNode.removeAttribute("monaco-visible-view-zone"),t.domNode.removeAttribute("monaco-view-zone"),t.domNode.domNode.parentNode.removeChild(t.domNode.domNode),t.marginDomNode&&(t.marginDomNode.removeAttribute("monaco-visible-view-zone"),t.marginDomNode.removeAttribute("monaco-view-zone"),t.marginDomNode.domNode.parentNode.removeChild(t.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(v,i){if(this._zones.hasOwnProperty(i)){const t=this._zones[i],a=this._computeWhitespaceProps(t.delegate);return t.isInHiddenArea=a.isInHiddenArea,v.changeOneWhitespace(t.whitespaceId,a.afterViewLineNumber,a.heightInPx),this._safeCallOnComputedHeight(t.delegate,a.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(v){if(this._zones.hasOwnProperty(v)){const i=this._zones[v];return Boolean(i.delegate.suppressMouseDown)}return!1}_heightInPixels(v){return typeof v.heightInPx=="number"?v.heightInPx:typeof v.heightInLines=="number"?this._lineHeight*v.heightInLines:this._lineHeight}_minWidthInPixels(v){return typeof v.minWidthInPx=="number"?v.minWidthInPx:0}_safeCallOnComputedHeight(v,i){if(typeof v.onComputedHeight=="function")try{v.onComputedHeight(i)}catch(t){(0,N.onUnexpectedError)(t)}}_safeCallOnDomNodeTop(v,i){if(typeof v.onDomNodeTop=="function")try{v.onDomNodeTop(i)}catch(t){(0,N.onUnexpectedError)(t)}}prepareRender(v){}render(v){const i=v.viewportData.whitespaceViewportData,t={};let a=!1;for(const h of i)this._zones[h.id].isInHiddenArea||(t[h.id]=h,a=!0);const l=Object.keys(this._zones);for(let h=0,d=l.length;h<d;h++){const u=l[h],n=this._zones[u];let r=0,s=0,o="none";t.hasOwnProperty(u)?(r=t[u].verticalOffset-v.bigNumbersDelta,s=t[u].height,o="block",n.isVisible||(n.domNode.setAttribute("monaco-visible-view-zone","true"),n.isVisible=!0),this._safeCallOnDomNodeTop(n.delegate,v.getScrolledTopFromAbsoluteTop(t[u].verticalOffset))):(n.isVisible&&(n.domNode.removeAttribute("monaco-visible-view-zone"),n.isVisible=!1),this._safeCallOnDomNodeTop(n.delegate,v.getScrolledTopFromAbsoluteTop(-1e6))),n.domNode.setTop(r),n.domNode.setHeight(s),n.domNode.setDisplay(o),n.marginDomNode&&(n.marginDomNode.setTop(r),n.marginDomNode.setHeight(s),n.marginDomNode.setDisplay(o))}a&&(this.domNode.setWidth(Math.max(v.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}e.ViewZones=S;function b(p,v){try{return p(v)}catch(i){(0,N.onUnexpectedError)(i)}}}),define(ee[65],te([0,1,8,3]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRulerDecorationsGroup=e.ViewModelDecoration=e.SingleLineInlineDecoration=e.InlineDecoration=e.ViewLineRenderingData=e.ViewLineData=e.MinimapLinesRenderingData=e.Viewport=void 0;class M{constructor(a,l,h,d){this._viewportBrand=void 0,this.top=a|0,this.left=l|0,this.width=h|0,this.height=d|0}}e.Viewport=M;class E{constructor(a,l){this.tabSize=a,this.data=l}}e.MinimapLinesRenderingData=E;class g{constructor(a,l,h,d,u,n,r){this._viewLineDataBrand=void 0,this.content=a,this.continuesWithWrappedLine=l,this.minColumn=h,this.maxColumn=d,this.startVisibleColumn=u,this.tokens=n,this.inlineDecorations=r}}e.ViewLineData=g;class S{constructor(a,l,h,d,u,n,r,s,o,m){this.minColumn=a,this.maxColumn=l,this.content=h,this.continuesWithWrappedLine=d,this.isBasicASCII=S.isBasicASCII(h,n),this.containsRTL=S.containsRTL(h,this.isBasicASCII,u),this.tokens=r,this.inlineDecorations=s,this.tabSize=o,this.startVisibleColumn=m}static isBasicASCII(a,l){return l?L.isBasicASCII(a):!0}static containsRTL(a,l,h){return!l&&h?L.containsRTL(a):!1}}e.ViewLineRenderingData=S;class b{constructor(a,l,h){this.range=a,this.inlineClassName=l,this.type=h}}e.InlineDecoration=b;class p{constructor(a,l,h,d){this.startOffset=a,this.endOffset=l,this.inlineClassName=h,this.inlineClassNameAffectsLetterSpacing=d}toInlineDecoration(a){return new b(new N.Range(a,this.startOffset+1,a,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}e.SingleLineInlineDecoration=p;class v{constructor(a,l){this._viewModelDecorationBrand=void 0,this.range=a,this.options=l}}e.ViewModelDecoration=v;class i{constructor(a,l,h){this.color=a,this.zIndex=l,this.data=h}static cmp(a,l){return a.zIndex===l.zIndex?a.color<l.color?-1:a.color>l.color?1:0:a.zIndex-l.zIndex}}e.OverviewRulerDecorationsGroup=i}),define(ee[182],te([0,1,4,2]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReadOnlyEditAttemptEvent=e.CursorStateChangedEvent=e.HiddenAreasChangedEvent=e.ViewZonesChangedEvent=e.ScrollChangedEvent=e.FocusChangedEvent=e.ContentSizeChangedEvent=e.ViewModelEventsCollector=e.ViewModelEventDispatcher=void 0;class M extends N.Disposable{constructor(){super();this._onEvent=this._register(new L.Emitter),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(l){this._addOutgoingEvent(l),this._emitOutgoingEvents()}_addOutgoingEvent(l){for(let h=0,d=this._outgoingEvents.length;h<d;h++)if(this._outgoingEvents[h].kind===l.kind){this._outgoingEvents[h]=this._outgoingEvents[h].merge(l);return}this._outgoingEvents.push(l)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const l=this._outgoingEvents.shift();l.isNoOp()||this._onEvent.fire(l)}}addViewEventHandler(l){for(let h=0,d=this._eventHandlers.length;h<d;h++)this._eventHandlers[h]===l&&console.warn("Detected duplicate listener in ViewEventDispatcher",l);this._eventHandlers.push(l)}removeViewEventHandler(l){for(let h=0;h<this._eventHandlers.length;h++)if(this._eventHandlers[h]===l){this._eventHandlers.splice(h,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new E),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const l=this._collector.outgoingEvents,h=this._collector.viewEvents;this._collector=null;for(const d of l)this._addOutgoingEvent(d);h.length>0&&this._emitMany(h)}this._emitOutgoingEvents()}emitSingleViewEvent(l){try{this.beginEmitViewEvents().emitViewEvent(l)}finally{this.endEmitViewEvents()}}_emitMany(l){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(l):this._viewEventQueue=l,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const l=this._viewEventQueue;this._viewEventQueue=null;const h=this._eventHandlers.slice(0);for(const d of h)d.handleEvents(l)}}}e.ViewModelEventDispatcher=M;class E{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(l){this.viewEvents.push(l)}emitOutgoingEvent(l){this.outgoingEvents.push(l)}}e.ViewModelEventsCollector=E;class g{constructor(l,h,d,u){this.kind=0,this._oldContentWidth=l,this._oldContentHeight=h,this.contentWidth=d,this.contentHeight=u,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}merge(l){return l.kind!==0?this:new g(this._oldContentWidth,this._oldContentHeight,l.contentWidth,l.contentHeight)}}e.ContentSizeChangedEvent=g;class S{constructor(l,h){this.kind=1,this.oldHasFocus=l,this.hasFocus=h}isNoOp(){return this.oldHasFocus===this.hasFocus}merge(l){return l.kind!==1?this:new S(this.oldHasFocus,l.hasFocus)}}e.FocusChangedEvent=S;class b{constructor(l,h,d,u,n,r,s,o){this.kind=2,this._oldScrollWidth=l,this._oldScrollLeft=h,this._oldScrollHeight=d,this._oldScrollTop=u,this.scrollWidth=n,this.scrollLeft=r,this.scrollHeight=s,this.scrollTop=o,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}merge(l){return l.kind!==2?this:new b(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,l.scrollWidth,l.scrollLeft,l.scrollHeight,l.scrollTop)}}e.ScrollChangedEvent=b;class p{constructor(){this.kind=3}isNoOp(){return!1}merge(l){return this}}e.ViewZonesChangedEvent=p;class v{constructor(){this.kind=4}isNoOp(){return!1}merge(l){return this}}e.HiddenAreasChangedEvent=v;class i{constructor(l,h,d,u,n,r,s){this.kind=6,this.oldSelections=l,this.selections=h,this.oldModelVersionId=d,this.modelVersionId=u,this.source=n,this.reason=r,this.reachedMaxCursorCount=s}static _selectionsAreEqual(l,h){if(!l&&!h)return!0;if(!l||!h)return!1;const d=l.length,u=h.length;if(d!==u)return!1;for(let n=0;n<d;n++)if(!l[n].equalsSelection(h[n]))return!1;return!0}isNoOp(){return i._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}merge(l){return l.kind!==6?this:new i(this.oldSelections,l.selections,this.oldModelVersionId,l.modelVersionId,l.source,l.reason,this.reachedMaxCursorCount||l.reachedMaxCursorCount)}}e.CursorStateChangedEvent=i;class t{constructor(){this.kind=5}isNoOp(){return!1}merge(l){return this}}e.ReadOnlyEditAttemptEvent=t}),define(ee[435],te([0,1,4,2,136,423,65,182]),function(Q,e,L,N,M,E,g,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLayout=void 0;const b=125;class p{constructor(a,l,h,d){a=a|0,l=l|0,h=h|0,d=d|0,a<0&&(a=0),l<0&&(l=0),h<0&&(h=0),d<0&&(d=0),this.width=a,this.contentWidth=l,this.scrollWidth=Math.max(a,l),this.height=h,this.contentHeight=d,this.scrollHeight=Math.max(h,d)}equals(a){return this.width===a.width&&this.contentWidth===a.contentWidth&&this.height===a.height&&this.contentHeight===a.contentHeight}}class v extends N.Disposable{constructor(a,l){super();this._onDidContentSizeChange=this._register(new L.Emitter),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new p(0,0,0,0),this._scrollable=this._register(new M.Scrollable(a,l)),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(a){this._scrollable.setSmoothScrollDuration(a)}validateScrollPosition(a){return this._scrollable.validateScrollPosition(a)}getScrollDimensions(){return this._dimensions}setScrollDimensions(a){if(this._dimensions.equals(a))return;const l=this._dimensions;this._dimensions=a,this._scrollable.setScrollDimensions({width:a.width,scrollWidth:a.scrollWidth,height:a.height,scrollHeight:a.scrollHeight},!0);const h=l.contentWidth!==a.contentWidth,d=l.contentHeight!==a.contentHeight;(h||d)&&this._onDidContentSizeChange.fire(new S.ContentSizeChangedEvent(l.contentWidth,l.contentHeight,a.contentWidth,a.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(a){this._scrollable.setScrollPositionNow(a)}setScrollPositionSmooth(a){this._scrollable.setScrollPositionSmooth(a)}}class i extends N.Disposable{constructor(a,l,h){super();this._configuration=a;const d=this._configuration.options,u=d.get(130),n=d.get(74);this._linesLayout=new E.LinesLayout(l,d.get(58),n.top,n.bottom),this._scrollable=this._register(new v(0,h)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new p(u.contentWidth,0,u.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(102)?b:0)}onConfigurationChanged(a){const l=this._configuration.options;if(a.hasChanged(58)&&this._linesLayout.setLineHeight(l.get(58)),a.hasChanged(74)){const h=l.get(74);this._linesLayout.setPadding(h.top,h.bottom)}if(a.hasChanged(130)){const h=l.get(130),d=h.contentWidth,u=h.height,n=this._scrollable.getScrollDimensions(),r=n.contentWidth;this._scrollable.setScrollDimensions(new p(d,n.contentWidth,u,this._getContentHeight(d,u,r)))}else this._updateHeight();a.hasChanged(102)&&this._configureSmoothScrollDuration()}onFlushed(a){this._linesLayout.onFlushed(a)}onLinesDeleted(a,l){this._linesLayout.onLinesDeleted(a,l)}onLinesInserted(a,l){this._linesLayout.onLinesInserted(a,l)}_getHorizontalScrollbarHeight(a,l){const d=this._configuration.options.get(91);return d.horizontal===2||a>=l?0:d.horizontalScrollbarSize}_getContentHeight(a,l,h){const d=this._configuration.options;let u=this._linesLayout.getLinesTotalHeight();return d.get(93)?u+=Math.max(0,l-d.get(58)-d.get(74).bottom):u+=this._getHorizontalScrollbarHeight(a,h),u}_updateHeight(){const a=this._scrollable.getScrollDimensions(),l=a.width,h=a.height,d=a.contentWidth;this._scrollable.setScrollDimensions(new p(l,a.contentWidth,h,this._getContentHeight(l,h,d)))}getCurrentViewport(){const a=this._scrollable.getScrollDimensions(),l=this._scrollable.getCurrentScrollPosition();return new g.Viewport(l.scrollTop,l.scrollLeft,a.width,a.height)}getFutureViewport(){const a=this._scrollable.getScrollDimensions(),l=this._scrollable.getFutureScrollPosition();return new g.Viewport(l.scrollTop,l.scrollLeft,a.width,a.height)}_computeContentWidth(a){const l=this._configuration.options,h=l.get(131),d=l.get(43);if(h.isViewportWrapping){const u=l.get(130),n=l.get(64);return a>u.contentWidth+d.typicalHalfwidthCharacterWidth&&n.enabled&&n.side==="right"?a+u.verticalScrollbarWidth:a}else{const u=l.get(92)*d.typicalHalfwidthCharacterWidth,n=this._linesLayout.getWhitespaceMinWidth();return Math.max(a+u,n)}}setMaxLineWidth(a){const l=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new p(l.width,this._computeContentWidth(a),l.height,l.contentHeight)),this._updateHeight()}saveState(){const a=this._scrollable.getFutureScrollPosition();let l=a.scrollTop,h=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(l),d=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(h);return{scrollTop:l,scrollTopWithoutViewZones:l-d,scrollLeft:a.scrollLeft}}changeWhitespace(a){const l=this._linesLayout.changeWhitespace(a);return l&&this.onHeightMaybeChanged(),l}getVerticalOffsetForLineNumber(a){return this._linesLayout.getVerticalOffsetForLineNumber(a)}isAfterLines(a){return this._linesLayout.isAfterLines(a)}isInTopPadding(a){return this._linesLayout.isInTopPadding(a)}isInBottomPadding(a){return this._linesLayout.isInBottomPadding(a)}getLineNumberAtVerticalOffset(a){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(a)}getWhitespaceAtVerticalOffset(a){return this._linesLayout.getWhitespaceAtVerticalOffset(a)}getLinesViewportData(){const a=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(a.top,a.top+a.height)}getLinesViewportDataAtScrollTop(a){const l=this._scrollable.getScrollDimensions();return a+l.height>l.scrollHeight&&(a=l.scrollHeight-l.height),a<0&&(a=0),this._linesLayout.getLinesViewportData(a,a+l.height)}getWhitespaceViewportData(){const a=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(a.top,a.top+a.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(a){return this._scrollable.validateScrollPosition(a)}setScrollPosition(a,l){l===1?this._scrollable.setScrollPositionNow(a):this._scrollable.setScrollPositionSmooth(a)}deltaScrollNow(a,l){const h=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:h.scrollLeft+a,scrollTop:h.scrollTop+l})}}e.ViewLayout=i}),define(ee[436],te([0,1,3,23]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveCaretCommand=void 0;class M{constructor(g,S){this._selection=g,this._isMovingLeft=S}getEditOperations(g,S){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const b=this._selection.startLineNumber,p=this._selection.startColumn,v=this._selection.endColumn;if(!(this._isMovingLeft&&p===1)&&!(!this._isMovingLeft&&v===g.getLineMaxColumn(b)))if(this._isMovingLeft){const i=new L.Range(b,p-1,b,p),t=g.getValueInRange(i);S.addEditOperation(i,null),S.addEditOperation(new L.Range(b,v,b,v),t)}else{const i=new L.Range(b,v,b,v+1),t=g.getValueInRange(i);S.addEditOperation(i,null),S.addEditOperation(new L.Range(b,p,b,p),t)}}computeCursorState(g,S){return this._isMovingLeft?new N.Selection(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new N.Selection(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}e.MoveCaretCommand=M}),define(ee[152],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionCommandArgs=e.filtersAction=e.mayIncludeActionsOfKind=e.CodeActionKind=void 0;class L{constructor(b){this.value=b}equals(b){return this.value===b.value}contains(b){return this.equals(b)||this.value===""||b.value.startsWith(this.value+L.sep)}intersects(b){return this.contains(b)||b.contains(this)}append(b){return new L(this.value+L.sep+b)}}e.CodeActionKind=L,L.sep=".",L.None=new L("@@none@@"),L.Empty=new L(""),L.QuickFix=new L("quickfix"),L.Refactor=new L("refactor"),L.Source=new L("source"),L.SourceOrganizeImports=L.Source.append("organizeImports"),L.SourceFixAll=L.Source.append("fixAll");function N(S,b){return!(S.include&&!S.include.intersects(b)||S.excludes&&S.excludes.some(p=>E(b,p,S.include))||!S.includeSourceActions&&L.Source.contains(b))}e.mayIncludeActionsOfKind=N;function M(S,b){const p=b.kind?new L(b.kind):void 0;return!(S.include&&(!p||!S.include.contains(p))||S.excludes&&p&&S.excludes.some(v=>E(p,v,S.include))||!S.includeSourceActions&&p&&L.Source.contains(p)||S.onlyIncludePreferredActions&&!b.isPreferred)}e.filtersAction=M;function E(S,b,p){return!(!b.contains(S)||p&&b.contains(p))}class g{constructor(b,p,v){this.kind=b,this.apply=p,this.preferred=v}static fromUser(b,p){return!b||typeof b!="object"?new g(p.kind,p.apply,!1):new g(g.getKindFromUser(b,p.kind),g.getApplyFromUser(b,p.apply),g.getPreferredUser(b))}static getApplyFromUser(b,p){switch(typeof b.apply=="string"?b.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return p}}static getKindFromUser(b,p){return typeof b.kind=="string"?new L(b.kind):p}static getPreferredUser(b){return typeof b.preferred=="boolean"?b.preferred:!1}}e.CodeActionCommandArgs=g}),define(ee[437],te([0,1,4]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerModel=void 0;class N{constructor(E,g,S){this.presentationIndex=S,this._onColorFlushed=new L.Emitter,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new L.Emitter,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new L.Emitter,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=E,this._color=E,this._colorPresentations=g}get color(){return this._color}set color(E){this._color.equals(E)||(this._color=E,this._onDidChangeColor.fire(E))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(E){this._colorPresentations=E,this.presentationIndex>E.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(E,g){for(let S=0;S<this.colorPresentations.length;S++)if(g.toLowerCase()===this.colorPresentations[S].label){this.presentationIndex=S,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}}e.ColorPickerModel=N}),define(ee[438],te([0,1,3,23]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropCommand=void 0;class M{constructor(g,S,b){this.selection=g,this.targetPosition=S,this.copy=b,this.targetSelection=null}getEditOperations(g,S){let b=g.getValueInRange(this.selection);if(this.copy||S.addEditOperation(this.selection,null),S.addEditOperation(new L.Range(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),b),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new N.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new N.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new N.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new N.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new N.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(g,S){return this.targetSelection}}e.DragAndDropCommand=M}),define(ee[439],te([0,1,3]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceAllCommand=void 0;class N{constructor(E,g,S){this._editorSelection=E,this._ranges=g,this._replaceStrings=S,this._trackedEditorSelectionId=null}getEditOperations(E,g){if(this._ranges.length>0){let S=[];for(let v=0;v<this._ranges.length;v++)S.push({range:this._ranges[v],text:this._replaceStrings[v]});S.sort((v,i)=>L.Range.compareRangesUsingStarts(v.range,i.range));let b=[],p=S[0];for(let v=1;v<S.length;v++)p.range.endLineNumber===S[v].range.startLineNumber&&p.range.endColumn===S[v].range.startColumn?(p.range=p.range.plusRange(S[v].range),p.text=p.text+S[v].text):(b.push(p),p=S[v]);b.push(p);for(const v of b)g.addEditOperation(v.range,v.text)}this._trackedEditorSelectionId=g.trackSelection(this._editorSelection)}computeCursorState(E,g){return g.getTrackedSelection(this._trackedEditorSelectionId)}}e.ReplaceAllCommand=N}),define(ee[440],te([0,1,316]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseReplaceString=e.ReplacePiece=e.ReplacePattern=void 0;class N{constructor(v){this.staticValue=v,this.kind=0}}class M{constructor(v){this.pieces=v,this.kind=1}}class E{constructor(v){!v||v.length===0?this._state=new N(""):v.length===1&&v[0].staticValue!==null?this._state=new N(v[0].staticValue):this._state=new M(v)}static fromStaticValue(v){return new E([g.staticValue(v)])}get hasReplacementPatterns(){return this._state.kind===1}buildReplaceString(v,i){if(this._state.kind===0)return i?(0,L.buildReplaceStringWithCasePreserved)(v,this._state.staticValue):this._state.staticValue;let t="";for(let a=0,l=this._state.pieces.length;a<l;a++){let h=this._state.pieces[a];if(h.staticValue!==null){t+=h.staticValue;continue}let d=E._substitute(h.matchIndex,v);if(h.caseOps!==null&&h.caseOps.length>0){let u=[],n=h.caseOps.length,r=0;for(let s=0,o=d.length;s<o;s++){if(r>=n){u.push(d.slice(s));break}switch(h.caseOps[r]){case"U":u.push(d[s].toUpperCase());break;case"u":u.push(d[s].toUpperCase()),r++;break;case"L":u.push(d[s].toLowerCase());break;case"l":u.push(d[s].toLowerCase()),r++;break;default:u.push(d[s])}}d=u.join("")}t+=d}return t}static _substitute(v,i){if(i===null)return"";if(v===0)return i[0];let t="";for(;v>0;){if(v<i.length)return(i[v]||"")+t;t=String(v%10)+t,v=Math.floor(v/10)}return"$"+t}}e.ReplacePattern=E;class g{constructor(v,i,t){this.staticValue=v,this.matchIndex=i,!t||t.length===0?this.caseOps=null:this.caseOps=t.slice(0)}static staticValue(v){return new g(v,-1,null)}static matchIndex(v){return new g(null,v,null)}static caseOps(v,i){return new g(null,v,i)}}e.ReplacePiece=g;class S{constructor(v){this._source=v,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(v){this._emitStatic(this._source.substring(this._lastCharIndex,v)),this._lastCharIndex=v}emitStatic(v,i){this._emitStatic(v),this._lastCharIndex=i}_emitStatic(v){v.length!==0&&(this._currentStaticPiece+=v)}emitMatchIndex(v,i,t){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=g.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=g.caseOps(v,t),this._lastCharIndex=i}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=g.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new E(this._result)}}function b(p){if(!p||p.length===0)return new E(null);let v=[],i=new S(p);for(let t=0,a=p.length;t<a;t++){let l=p.charCodeAt(t);if(l===92){if(t++,t>=a)break;let h=p.charCodeAt(t);switch(h){case 92:i.emitUnchanged(t-1),i.emitStatic("\\",t+1);break;case 110:i.emitUnchanged(t-1),i.emitStatic(`
`,t+1);break;case 116:i.emitUnchanged(t-1),i.emitStatic("	",t+1);break;case 117:case 85:case 108:case 76:i.emitUnchanged(t-1),i.emitStatic("",t+1),v.push(String.fromCharCode(h));break}continue}if(l===36){if(t++,t>=a)break;let h=p.charCodeAt(t);if(h===36){i.emitUnchanged(t-1),i.emitStatic("$",t+1);continue}if(h===48||h===38){i.emitUnchanged(t-1),i.emitMatchIndex(0,t+1,v),v.length=0;continue}if(49<=h&&h<=57){let d=h-48;if(t+1<a){let u=p.charCodeAt(t+1);if(48<=u&&u<=57){t++,d=d*10+(u-48),i.emitUnchanged(t-2),i.emitMatchIndex(d,t+1,v),v.length=0;continue}}i.emitUnchanged(t-1),i.emitMatchIndex(d,t+1,v),v.length=0;continue}}}return i.finalize()}e.parseReplaceString=b}),define(ee[183],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingRegion=e.FoldingRegions=e.MAX_LINE_NUMBER=e.MAX_FOLDING_REGIONS=void 0,e.MAX_FOLDING_REGIONS=65535,e.MAX_LINE_NUMBER=16777215;const L=4278190080;class N{constructor(g,S,b){if(g.length!==S.length||g.length>e.MAX_FOLDING_REGIONS)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=g,this._endIndexes=S,this._collapseStates=new Uint32Array(Math.ceil(g.length/32)),this._types=b,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let g=[],S=(b,p)=>{let v=g[g.length-1];return this.getStartLineNumber(v)<=b&&this.getEndLineNumber(v)>=p};for(let b=0,p=this._startIndexes.length;b<p;b++){let v=this._startIndexes[b],i=this._endIndexes[b];if(v>e.MAX_LINE_NUMBER||i>e.MAX_LINE_NUMBER)throw new Error("startLineNumber or endLineNumber must not exceed "+e.MAX_LINE_NUMBER);for(;g.length>0&&!S(v,i);)g.pop();let t=g.length>0?g[g.length-1]:-1;g.push(b),this._startIndexes[b]=v+((t&255)<<24),this._endIndexes[b]=i+((t&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(g){return this._startIndexes[g]&e.MAX_LINE_NUMBER}getEndLineNumber(g){return this._endIndexes[g]&e.MAX_LINE_NUMBER}getType(g){return this._types?this._types[g]:void 0}hasTypes(){return!!this._types}isCollapsed(g){let S=g/32|0,b=g%32;return(this._collapseStates[S]&1<<b)!=0}setCollapsed(g,S){let b=g/32|0,p=g%32,v=this._collapseStates[b];S?this._collapseStates[b]=v|1<<p:this._collapseStates[b]=v&~(1<<p)}setCollapsedAllOfType(g,S){let b=!1;if(this._types)for(let p=0;p<this._types.length;p++)this._types[p]===g&&(this.setCollapsed(p,S),b=!0);return b}toRegion(g){return new M(this,g)}getParentIndex(g){this.ensureParentIndices();let S=((this._startIndexes[g]&L)>>>24)+((this._endIndexes[g]&L)>>>16);return S===e.MAX_FOLDING_REGIONS?-1:S}contains(g,S){return this.getStartLineNumber(g)<=S&&this.getEndLineNumber(g)>=S}findIndex(g){let S=0,b=this._startIndexes.length;if(b===0)return-1;for(;S<b;){let p=Math.floor((S+b)/2);g<this.getStartLineNumber(p)?b=p:S=p+1}return S-1}findRange(g){let S=this.findIndex(g);if(S>=0){if(this.getEndLineNumber(S)>=g)return S;for(S=this.getParentIndex(S);S!==-1;){if(this.contains(S,g))return S;S=this.getParentIndex(S)}}return-1}toString(){let g=[];for(let S=0;S<this.length;S++)g[S]=`[${this.isCollapsed(S)?"+":"-"}] ${this.getStartLineNumber(S)}/${this.getEndLineNumber(S)}`;return g.join(", ")}equals(g){if(this.length!==g.length)return!1;for(let S=0;S<this.length;S++)if(this.getStartLineNumber(S)!==g.getStartLineNumber(S)||this.getEndLineNumber(S)!==g.getEndLineNumber(S)||this.getType(S)!==g.getType(S))return!1;return!0}}e.FoldingRegions=N;class M{constructor(g,S){this.ranges=g,this.index=S}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(g){return g.startLineNumber<=this.startLineNumber&&g.endLineNumber>=this.endLineNumber}containsLine(g){return this.startLineNumber<=g&&g<=this.endLineNumber}hidesLine(g){return this.startLineNumber<g&&g<=this.endLineNumber}}e.FoldingRegion=M}),define(ee[441],te([0,1,4,183]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getNextFoldLine=e.getPreviousFoldLine=e.getParentFoldLine=e.setCollapseStateForType=e.setCollapseStateForMatchingLines=e.setCollapseStateForRest=e.setCollapseStateAtLevel=e.setCollapseStateUp=e.setCollapseStateLevelsUp=e.setCollapseStateLevelsDown=e.toggleCollapseState=e.FoldingModel=void 0;class M{constructor(u,n){this._updateEventEmitter=new L.Emitter,this.onDidChange=this._updateEventEmitter.event,this._textModel=u,this._decorationProvider=n,this._regions=new N.FoldingRegions(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}get regions(){return this._regions}get textModel(){return this._textModel}get isInitialized(){return this._isInitialized}get decorationProvider(){return this._decorationProvider}toggleCollapseState(u){if(!u.length)return;u=u.sort((r,s)=>r.regionIndex-s.regionIndex);const n={};this._decorationProvider.changeDecorations(r=>{let s=0,o=-1,m=-1;const _=f=>{for(;s<f;){const c=this._regions.getEndLineNumber(s),C=this._regions.isCollapsed(s);c<=o&&r.changeDecorationOptions(this._editorDecorationIds[s],this._decorationProvider.getDecorationOption(C,c<=m)),C&&c>m&&(m=c),s++}};for(let f of u){let c=f.regionIndex,C=this._editorDecorationIds[c];if(C&&!n[C]){n[C]=!0,_(c);let y=!this._regions.isCollapsed(c);this._regions.setCollapsed(c,y),o=Math.max(o,this._regions.getEndLineNumber(c))}}_(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:u})}update(u,n=[]){let r=[],s=(y,w)=>{for(let D of n)if(y<D&&D<=w)return!0;return!1},o=-1,m=(y,w)=>{const D=u.getStartLineNumber(y),I=u.getEndLineNumber(y);w||(w=u.isCollapsed(y)),w&&s(D,I)&&(w=!1),u.setCollapsed(y,w);const T=this._textModel.getLineMaxColumn(D),F={startLineNumber:D,startColumn:Math.max(T-1,1),endLineNumber:D,endColumn:T};r.push({range:F,options:this._decorationProvider.getDecorationOption(w,I<=o)}),w&&I>o&&(o=I)},_=0,f=()=>{for(;_<this._regions.length;){let y=this._regions.isCollapsed(_);if(_++,y)return _-1}return-1},c=0,C=f();for(;C!==-1&&c<u.length;){let y=this._textModel.getDecorationRange(this._editorDecorationIds[C]);if(y){let w=y.startLineNumber;if(y.startColumn===Math.max(y.endColumn-1,1)&&this._textModel.getLineMaxColumn(w)===y.endColumn)for(;c<u.length;){let D=u.getStartLineNumber(c);if(w>=D)m(c,w===D),c++;else break}}C=f()}for(;c<u.length;)m(c,!1),c++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,r),this._regions=u,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})}getMemento(){let u=[];for(let n=0;n<this._regions.length;n++)if(this._regions.isCollapsed(n)){let r=this._textModel.getDecorationRange(this._editorDecorationIds[n]);if(r){let s=r.startLineNumber,o=r.endLineNumber+this._regions.getEndLineNumber(n)-this._regions.getStartLineNumber(n);u.push({startLineNumber:s,endLineNumber:o})}}if(u.length>0)return u}applyMemento(u){if(!Array.isArray(u))return;let n=[];for(let r of u){let s=this.getRegionAtLine(r.startLineNumber);s&&!s.isCollapsed&&n.push(s)}this.toggleCollapseState(n)}dispose(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])}getAllRegionsAtLine(u,n){let r=[];if(this._regions){let s=this._regions.findRange(u),o=1;for(;s>=0;){let m=this._regions.toRegion(s);(!n||n(m,o))&&r.push(m),o++,s=m.parentIndex}}return r}getRegionAtLine(u){if(this._regions){let n=this._regions.findRange(u);if(n>=0)return this._regions.toRegion(n)}return null}getRegionsInside(u,n){let r=[],s=u?u.regionIndex+1:0,o=u?u.endLineNumber:Number.MAX_VALUE;if(n&&n.length===2){const m=[];for(let _=s,f=this._regions.length;_<f;_++){let c=this._regions.toRegion(_);if(this._regions.getStartLineNumber(_)<o){for(;m.length>0&&!c.containedBy(m[m.length-1]);)m.pop();m.push(c),n(c,m.length)&&r.push(c)}else break}}else for(let m=s,_=this._regions.length;m<_;m++){let f=this._regions.toRegion(m);if(this._regions.getStartLineNumber(m)<o)(!n||n(f))&&r.push(f);else break}return r}}e.FoldingModel=M;function E(d,u,n){let r=[];for(let s of n){let o=d.getRegionAtLine(s);if(o){const m=!o.isCollapsed;if(r.push(o),u>1){let _=d.getRegionsInside(o,(f,c)=>f.isCollapsed!==m&&c<u);r.push(..._)}}}d.toggleCollapseState(r)}e.toggleCollapseState=E;function g(d,u,n=Number.MAX_VALUE,r){let s=[];if(r&&r.length>0)for(let o of r){let m=d.getRegionAtLine(o);if(m&&(m.isCollapsed!==u&&s.push(m),n>1)){let _=d.getRegionsInside(m,(f,c)=>f.isCollapsed!==u&&c<n);s.push(..._)}}else{let o=d.getRegionsInside(null,(m,_)=>m.isCollapsed!==u&&_<n);s.push(...o)}d.toggleCollapseState(s)}e.setCollapseStateLevelsDown=g;function S(d,u,n,r){let s=[];for(let o of r){let m=d.getAllRegionsAtLine(o,(_,f)=>_.isCollapsed!==u&&f<=n);s.push(...m)}d.toggleCollapseState(s)}e.setCollapseStateLevelsUp=S;function b(d,u,n){let r=[];for(let s of n){let o=d.getAllRegionsAtLine(s,m=>m.isCollapsed!==u);o.length>0&&r.push(o[0])}d.toggleCollapseState(r)}e.setCollapseStateUp=b;function p(d,u,n,r){let s=(m,_)=>_===u&&m.isCollapsed!==n&&!r.some(f=>m.containsLine(f)),o=d.getRegionsInside(null,s);d.toggleCollapseState(o)}e.setCollapseStateAtLevel=p;function v(d,u,n){let r=[];for(let m of n)r.push(d.getAllRegionsAtLine(m,void 0)[0]);let s=m=>r.every(_=>!_.containedBy(m)&&!m.containedBy(_))&&m.isCollapsed!==u,o=d.getRegionsInside(null,s);d.toggleCollapseState(o)}e.setCollapseStateForRest=v;function i(d,u,n){let r=d.textModel,s=d.regions,o=[];for(let m=s.length-1;m>=0;m--)if(n!==s.isCollapsed(m)){let _=s.getStartLineNumber(m);u.test(r.getLineContent(_))&&o.push(s.toRegion(m))}d.toggleCollapseState(o)}e.setCollapseStateForMatchingLines=i;function t(d,u,n){let r=d.regions,s=[];for(let o=r.length-1;o>=0;o--)n!==r.isCollapsed(o)&&u===r.getType(o)&&s.push(r.toRegion(o));d.toggleCollapseState(s)}e.setCollapseStateForType=t;function a(d,u){let n=null,r=u.getRegionAtLine(d);if(r!==null&&(n=r.startLineNumber,d===n)){let s=r.parentIndex;s!==-1?n=u.regions.getStartLineNumber(s):n=null}return n}e.getParentFoldLine=a;function l(d,u){let n=u.getRegionAtLine(d);if(n!==null&&n.startLineNumber===d){if(d!==n.startLineNumber)return n.startLineNumber;{let r=n.parentIndex,s=0;for(r!==-1&&(s=u.regions.getStartLineNumber(n.parentIndex));n!==null;)if(n.regionIndex>0){if(n=u.regions.toRegion(n.regionIndex-1),n.startLineNumber<=s)return null;if(n.parentIndex===r)return n.startLineNumber}else return null}}else if(u.regions.length>0)for(n=u.regions.toRegion(u.regions.length-1);n!==null;){if(n.startLineNumber<d)return n.startLineNumber;n.regionIndex>0?n=u.regions.toRegion(n.regionIndex-1):n=null}return null}e.getPreviousFoldLine=l;function h(d,u){let n=u.getRegionAtLine(d);if(n!==null&&n.startLineNumber===d){let r=n.parentIndex,s=0;if(r!==-1)s=u.regions.getEndLineNumber(n.parentIndex);else{if(u.regions.length===0)return null;s=u.regions.getEndLineNumber(u.regions.length-1)}for(;n!==null;)if(n.regionIndex<u.regions.length){if(n=u.regions.toRegion(n.regionIndex+1),n.startLineNumber>=s)return null;if(n.parentIndex===r)return n.startLineNumber}else return null}else if(u.regions.length>0)for(n=u.regions.toRegion(0);n!==null;){if(n.startLineNumber>d)return n.startLineNumber;n.regionIndex<u.regions.length?n=u.regions.toRegion(n.regionIndex+1):n=null}return null}e.getNextFoldLine=h}),define(ee[244],te([0,1,12,2,183]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sanitizeRanges=e.RangesCollector=e.SyntaxRangeProvider=e.ID_SYNTAX_PROVIDER=void 0;const E=5e3,g={};e.ID_SYNTAX_PROVIDER="syntax";class S{constructor(t,a,l,h=E){this.editorModel=t,this.providers=a,this.limit=h,this.id=e.ID_SYNTAX_PROVIDER;for(const d of a)typeof d.onDidChange=="function"&&(this.disposables||(this.disposables=new N.DisposableStore),this.disposables.add(d.onDidChange(l)))}compute(t){return b(this.providers,this.editorModel,t).then(a=>a?v(a,this.limit):null)}dispose(){var t;(t=this.disposables)===null||t===void 0||t.dispose()}}e.SyntaxRangeProvider=S;function b(i,t,a){let l=null,h=i.map((d,u)=>Promise.resolve(d.provideFoldingRanges(t,g,a)).then(n=>{if(!a.isCancellationRequested&&Array.isArray(n)){Array.isArray(l)||(l=[]);let r=t.getLineCount();for(let s of n)s.start>0&&s.end>s.start&&s.end<=r&&l.push({start:s.start,end:s.end,rank:u,kind:s.kind})}},L.onUnexpectedExternalError));return Promise.all(h).then(d=>l)}class p{constructor(t){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=t}add(t,a,l,h){if(t>M.MAX_LINE_NUMBER||a>M.MAX_LINE_NUMBER)return;let d=this._length;this._startIndexes[d]=t,this._endIndexes[d]=a,this._nestingLevels[d]=h,this._types[d]=l,this._length++,h<30&&(this._nestingLevelCounts[h]=(this._nestingLevelCounts[h]||0)+1)}toIndentRanges(){if(this._length<=this._foldingRangesLimit){let t=new Uint32Array(this._length),a=new Uint32Array(this._length);for(let l=0;l<this._length;l++)t[l]=this._startIndexes[l],a[l]=this._endIndexes[l];return new M.FoldingRegions(t,a,this._types)}else{let t=0,a=this._nestingLevelCounts.length;for(let u=0;u<this._nestingLevelCounts.length;u++){let n=this._nestingLevelCounts[u];if(n){if(n+t>this._foldingRangesLimit){a=u;break}t+=n}}let l=new Uint32Array(this._foldingRangesLimit),h=new Uint32Array(this._foldingRangesLimit),d=[];for(let u=0,n=0;u<this._length;u++){let r=this._nestingLevels[u];(r<a||r===a&&t++<this._foldingRangesLimit)&&(l[n]=this._startIndexes[u],h[n]=this._endIndexes[u],d[n]=this._types[u],n++)}return new M.FoldingRegions(l,h,d)}}}e.RangesCollector=p;function v(i,t){let a=i.sort((u,n)=>{let r=u.start-n.start;return r===0&&(r=u.rank-n.rank),r}),l=new p(t),h,d=[];for(let u of a)if(!h)h=u,l.add(u.start,u.end,u.kind&&u.kind.value,d.length);else if(u.start>h.start)if(u.end<=h.end)d.push(h),h=u,l.add(u.start,u.end,u.kind&&u.kind.value,d.length);else{if(u.start>h.end){do h=d.pop();while(h&&u.start>h.end);h&&d.push(h),h=u}l.add(u.start,u.end,u.kind&&u.kind.value,d.length)}return l.toIndentRanges()}e.sanitizeRanges=v}),define(ee[442],te([0,1,244]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InitializingRangeProvider=e.ID_INIT_PROVIDER=void 0,e.ID_INIT_PROVIDER="init";class N{constructor(E,g,S,b){if(this.editorModel=E,this.id=e.ID_INIT_PROVIDER,g.length){let p=v=>({range:{startLineNumber:v.startLineNumber,startColumn:0,endLineNumber:v.endLineNumber,endColumn:E.getLineLength(v.endLineNumber)},options:{description:"folding-initializing-range-provider",stickiness:1}});this.decorationIds=E.deltaDecorations([],g.map(p)),this.timeout=setTimeout(S,b)}}dispose(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),typeof this.timeout=="number"&&(clearTimeout(this.timeout),this.timeout=void 0)}compute(E){let g=[];if(this.decorationIds)for(let S of this.decorationIds){let b=this.editorModel.getDecorationRange(S);b&&g.push({start:b.startLineNumber,end:b.endLineNumber,rank:1})}return Promise.resolve((0,L.sanitizeRanges)(g,Number.MAX_VALUE))}}e.InitializingRangeProvider=N}),define(ee[245],te([0,1,60,3]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormattingEdit=void 0;class M{static _handleEolEdits(g,S){let b,p=[];for(let v of S)typeof v.eol=="number"&&(b=v.eol),v.range&&typeof v.text=="string"&&p.push(v);return typeof b=="number"&&g.hasModel()&&g.getModel().pushEOL(b),p}static _isFullModelReplaceEdit(g,S){if(!g.hasModel())return!1;const b=g.getModel(),p=b.validateRange(S.range);return b.getFullModelRange().equalsRange(p)}static execute(g,S,b){b&&g.pushUndoStop();const p=M._handleEolEdits(g,S);p.length===1&&M._isFullModelReplaceEdit(g,p[0])?g.executeEdits("formatEditsCommand",p.map(v=>L.EditOperation.replace(N.Range.lift(v.range),v.text))):g.executeEdits("formatEditsCommand",p.map(v=>L.EditOperation.replaceMove(N.Range.lift(v.range),v.text))),b&&g.pushUndoStop()}}e.FormattingEdit=M}),define(ee[246],te([0,1,4,2,15]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClickLinkGesture=e.ClickLinkOptions=e.ClickLinkKeyboardEvent=e.ClickLinkMouseEvent=void 0;function E(i,t){return!!i[t]}class g{constructor(t,a){this.target=t.target,this.hasTriggerModifier=E(t.event,a.triggerModifier),this.hasSideBySideModifier=E(t.event,a.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=t.event.detail<=1}}e.ClickLinkMouseEvent=g;class S{constructor(t,a){this.keyCodeIsTriggerKey=t.keyCode===a.triggerKey,this.keyCodeIsSideBySideKey=t.keyCode===a.triggerSideBySideKey,this.hasTriggerModifier=E(t,a.triggerModifier)}}e.ClickLinkKeyboardEvent=S;class b{constructor(t,a,l,h){this.triggerKey=t,this.triggerModifier=a,this.triggerSideBySideKey=l,this.triggerSideBySideModifier=h}equals(t){return this.triggerKey===t.triggerKey&&this.triggerModifier===t.triggerModifier&&this.triggerSideBySideKey===t.triggerSideBySideKey&&this.triggerSideBySideModifier===t.triggerSideBySideModifier}}e.ClickLinkOptions=b;function p(i){return i==="altKey"?M.isMacintosh?new b(57,"metaKey",6,"altKey"):new b(5,"ctrlKey",6,"altKey"):M.isMacintosh?new b(6,"altKey",57,"metaKey"):new b(6,"altKey",5,"ctrlKey")}class v extends N.Disposable{constructor(t){super();this._onMouseMoveOrRelevantKeyDown=this._register(new L.Emitter),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new L.Emitter),this.onExecute=this._onExecute.event,this._onCancel=this._register(new L.Emitter),this.onCancel=this._onCancel.event,this._editor=t,this._opts=p(this._editor.getOption(69)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(a=>{if(a.hasChanged(69)){const l=p(this._editor.getOption(69));if(this._opts.equals(l))return;this._opts=l,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(a=>this._onEditorMouseMove(new g(a,this._opts)))),this._register(this._editor.onMouseDown(a=>this._onEditorMouseDown(new g(a,this._opts)))),this._register(this._editor.onMouseUp(a=>this._onEditorMouseUp(new g(a,this._opts)))),this._register(this._editor.onKeyDown(a=>this._onEditorKeyDown(new S(a,this._opts)))),this._register(this._editor.onKeyUp(a=>this._onEditorKeyUp(new S(a,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(a=>this._onDidChangeCursorSelection(a))),this._register(this._editor.onDidChangeModel(a=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(a=>{(a.scrollTopChanged||a.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(t){t.selection&&t.selection.startColumn!==t.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(t){this._lastMouseMoveEvent=t,this._onMouseMoveOrRelevantKeyDown.fire([t,null])}_onEditorMouseDown(t){this._hasTriggerKeyOnMouseDown=t.hasTriggerModifier,this._lineNumberOnMouseDown=t.target.position?t.target.position.lineNumber:0}_onEditorMouseUp(t){const a=t.target.position?t.target.position.lineNumber:0;this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===a&&this._onExecute.fire(t)}_onEditorKeyDown(t){this._lastMouseMoveEvent&&(t.keyCodeIsTriggerKey||t.keyCodeIsSideBySideKey&&t.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,t]):t.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(t){t.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}e.ClickLinkGesture=v});var Tt=this&&this.__asyncValues||function(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=Q[Symbol.asyncIterator],L;return e?e.call(Q):(Q=typeof __values=="function"?__values(Q):Q[Symbol.iterator](),L={},N("next"),N("throw"),N("return"),L[Symbol.asyncIterator]=function(){return this},L);function N(E){L[E]=Q[E]&&function(g){return new Promise(function(S,b){g=Q[E](g),M(S,b,g.done,g.value)})}}function M(E,g,S,b){Promise.resolve(b).then(function(p){E({value:p,done:S})},g)}};define(ee[247],te([0,1,10,12]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverOperation=void 0;class M{constructor(g,S,b,p,v){this._computer=g,this._state=0,this._hoverTime=v,this._firstWaitScheduler=new L.RunOnceScheduler(()=>this._triggerAsyncComputation(),0),this._secondWaitScheduler=new L.RunOnceScheduler(()=>this._triggerSyncComputation(),0),this._loadingMessageScheduler=new L.RunOnceScheduler(()=>this._showLoadingMessage(),0),this._asyncIterable=null,this._asyncIterableDone=!1,this._completeCallback=S,this._errorCallback=b,this._progressCallback=p}setHoverTime(g){this._hoverTime=g}_firstWaitTime(){return this._hoverTime/2}_secondWaitTime(){return this._hoverTime/2}_loadingMessageTime(){return 3*this._hoverTime}_triggerAsyncComputation(){this._state=2,this._secondWaitScheduler.schedule(this._secondWaitTime()),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,L.createCancelableAsyncIterable)(g=>this._computer.computeAsync(g)),(()=>Me(this,void 0,void 0,function*(){var g,S;try{try{for(var b=Tt(this._asyncIterable),p;p=yield b.next(),!p.done;){const v=p.value;v&&(this._computer.onResult([v],!1),this._onProgress())}}catch(v){g={error:v}}finally{try{p&&!p.done&&(S=b.return)&&(yield S.call(b))}finally{if(g)throw g.error}}this._asyncIterableDone=!0,this._withAsyncResult()}catch(v){this._onError(v)}}))()):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&this._computer.onResult(this._computer.computeSync(),!0),this._asyncIterableDone?(this._state=0,this._onComplete()):(this._state=3,this._onProgress())}_showLoadingMessage(){this._state===3&&(this._state=4,this._onProgress())}_withAsyncResult(){(this._state===3||this._state===4)&&(this._state=0,this._onComplete())}_onComplete(){this._completeCallback(this._computer.getResult())}_onError(g){this._errorCallback?this._errorCallback(g):(0,N.onUnexpectedError)(g)}_onProgress(){this._state===4?this._progressCallback(this._computer.getResultWithLoadingMessage()):this._progressCallback(this._computer.getResult())}start(g){if(g===0)this._state===0&&(this._state=1,this._firstWaitScheduler.schedule(this._firstWaitTime()),this._loadingMessageScheduler.schedule(this._loadingMessageTime()));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._state=0}}e.HoverOperation=M}),define(ee[248],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverForeignElementAnchor=e.HoverRangeAnchor=void 0;class L{constructor(E,g){this.priority=E,this.range=g,this.type=1}equals(E){return E.type===1&&this.range.equalsRange(E.range)}canAdoptVisibleHover(E,g){return E.type===1&&g.lineNumber===this.range.startLineNumber}}e.HoverRangeAnchor=L;class N{constructor(E,g,S){this.priority=E,this.owner=g,this.range=S,this.type=2}equals(E){return E.type===2&&this.owner===E.owner}canAdoptVisibleHover(E,g){return E.type===2&&this.owner===E.owner}}e.HoverForeignElementAnchor=N}),define(ee[443],te([0,1,23]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InPlaceReplaceCommand=void 0;class N{constructor(E,g,S){this._editRange=E,this._originalSelection=g,this._text=S}getEditOperations(E,g){g.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(E,g){const b=g.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new L.Selection(b.endLineNumber,Math.min(this._originalSelection.positionColumn,b.endColumn),b.endLineNumber,Math.min(this._originalSelection.positionColumn,b.endColumn)):new L.Selection(b.endLineNumber,b.endColumn-this._text.length,b.endLineNumber,b.endColumn)}}e.InPlaceReplaceCommand=N}),define(ee[249],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateIndent=e.getSpaceCnt=void 0;function L(M,E){let g=0;for(let S=0;S<M.length;S++)M.charAt(S)==="	"?g+=E:g++;return g}e.getSpaceCnt=L;function N(M,E,g){M=M<0?0:M;let S="";if(!g){let b=Math.floor(M/E);M=M%E;for(let p=0;p<b;p++)S+="	"}for(let b=0;b<M;b++)S+=" ";return S}e.generateIndent=N}),define(ee[250],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inlineSuggestCommitId=void 0,e.inlineSuggestCommitId="editor.action.inlineSuggest.commit"}),define(ee[184],te([0,1,4,2,3]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseGhostTextWidgetModel=e.GhostTextPart=e.GhostText=void 0;class E{constructor(i,t,a=0){this.lineNumber=i,this.parts=t,this.additionalReservedLineCount=a}static equals(i,t){return i===t||!!i&&!!t&&i.equals(t)}equals(i){return this.lineNumber===i.lineNumber&&this.parts.length===i.parts.length&&this.parts.every((t,a)=>t.equals(i.parts[a]))}render(i,t=!1){const a=this.lineNumber;return S(i,[...this.parts.map(l=>({range:{startLineNumber:a,endLineNumber:a,startColumn:l.column,endColumn:l.column},text:t?`[${l.lines.join(`
`)}]`:l.lines.join(`
`)}))])}renderForScreenReader(i){if(this.parts.length===0)return"";const t=this.parts[this.parts.length-1],a=i.substr(0,t.column-1);return S(a,this.parts.map(h=>({range:{startLineNumber:1,endLineNumber:1,startColumn:h.column,endColumn:h.column},text:h.lines.join(`
`)}))).substring(this.parts[0].column-1)}}e.GhostText=E;class g{constructor(i){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let t=0;t<i.length;t++)i.charAt(t)===`
`&&this.lineStartOffsetByLineIdx.push(t+1)}getOffset(i){return this.lineStartOffsetByLineIdx[i.lineNumber-1]+i.column-1}}function S(v,i){const t=new g(v),a=i.map(l=>{const h=M.Range.lift(l.range);return{startOffset:t.getOffset(h.getStartPosition()),endOffset:t.getOffset(h.getEndPosition()),text:l.text}});a.sort((l,h)=>h.startOffset-l.startOffset);for(const l of a)v=v.substring(0,l.startOffset)+l.text+v.substring(l.endOffset);return v}class b{constructor(i,t,a){this.column=i,this.lines=t,this.preview=a}equals(i){return this.column===i.column&&this.lines.length===i.lines.length&&this.lines.every((t,a)=>t===i.lines[a])}}e.GhostTextPart=b;class p extends N.Disposable{constructor(i){super();this.editor=i,this._expanded=void 0,this.onDidChangeEmitter=new L.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this._register(i.onDidChangeConfiguration(t=>{t.hasChanged(105)&&this._expanded===void 0&&this.onDidChangeEmitter.fire()}))}get expanded(){return this._expanded===void 0?!0:this._expanded}setExpanded(i){this._expanded=!0,this.onDidChangeEmitter.fire()}}e.BaseGhostTextWidgetModel=p}),define(ee[185],te([0,1,137,8,3,184]),function(Q,e,L,N,M,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inlineCompletionToGhostText=e.normalizedInlineCompletionsEquals=void 0;function g(i,t){return i===t?!0:!i||!t?!1:i.range.equalsRange(t.range)&&i.text===t.text&&i.command===t.command}e.normalizedInlineCompletionsEquals=g;function S(i,t,a,l,h=0){if(i.range.startLineNumber!==i.range.endLineNumber)return;const d=t.getLineContent(i.range.startLineNumber),u=N.getLeadingWhitespace(d).length;if(i.range.startColumn-1<=u){const f=N.getLeadingWhitespace(i.text).length,c=d.substring(i.range.startColumn-1,u),C=M.Range.fromPositions(i.range.getStartPosition().delta(0,c.length),i.range.getEndPosition()),y=i.text.startsWith(c)?i.text.substring(c.length):i.text.substring(f);i={range:C,text:y,command:i.command}}const r=t.getValueInRange(i.range),s=p(r,i.text);if(!s)return;const o=i.range.startLineNumber,m=new Array;if(a==="prefix"){const f=s.filter(c=>c.originalLength===0);if(f.length>1||f.length===1&&f[0].originalStart!==r.length)return}const _=i.text.length-h;for(const f of s){const c=i.range.startColumn+f.originalStart+f.originalLength;if(a==="subwordSmart"&&l&&l.lineNumber===i.range.startLineNumber&&c<l.column||f.originalLength>0)return;if(f.modifiedLength===0)continue;const C=f.modifiedStart+f.modifiedLength,y=Math.max(f.modifiedStart,Math.min(C,_)),w=i.text.substring(f.modifiedStart,y),D=i.text.substring(y,Math.max(f.modifiedStart,C));if(w.length>0){const I=N.splitLines(w);m.push(new E.GhostTextPart(c,I,!1))}if(D.length>0){const I=N.splitLines(D);m.push(new E.GhostTextPart(c,I,!0))}}return new E.GhostText(o,m,0)}e.inlineCompletionToGhostText=S;let b;function p(i,t){if((b==null?void 0:b.originalValue)===i&&(b==null?void 0:b.newValue)===t)return b==null?void 0:b.changes;{const a=v(i,t);return b={originalValue:i,newValue:t,changes:a},a}}function v(i,t){if(i.length>5e3||t.length>5e3)return;function a(r){let s=0;for(let o=0,m=r.length;o<m;o++){const _=r.charCodeAt(o);_>s&&(s=_)}return s}const l=Math.max(a(i),a(t));function h(r){if(r<0)throw new Error("unexpected");return l+r+1}function d(r){let s=0,o=0;const m=new Int32Array(r.length);for(let _=0,f=r.length;_<f;_++){const c=o*100+s;r[_]==="("?(m[_]=h(2*c),s++):r[_]===")"?(m[_]=h(2*c+1),s===1&&o++,s=Math.max(s-1,0)):m[_]=r.charCodeAt(_)}return m}const u=d(i),n=d(t);return new L.LcsDiff({getElements:()=>u},{getElements:()=>n}).ComputeDiff(!1).changes}}),define(ee[251],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findMaxBy=e.compareByNumber=e.compareBy=e.createDisposableRef=void 0;function L(g,S){return{object:g,dispose:()=>S==null?void 0:S.dispose()}}e.createDisposableRef=L;function N(g,S){return(b,p)=>S(g(b),g(p))}e.compareBy=N;function M(){return(g,S)=>g-S}e.compareByNumber=M;function E(g,S){let b;for(const p of g)(b===void 0||S(p,b)>0)&&(b=p);return b}e.findMaxBy=E}),define(ee[444],te([0,1,3,23]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CopyLinesCommand=void 0;class M{constructor(g,S,b){this._selection=g,this._isCopyingDown=S,this._noop=b||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(g,S){let b=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,b.startLineNumber<b.endLineNumber&&b.endColumn===1&&(this._endLineNumberDelta=1,b=b.setEndPosition(b.endLineNumber-1,g.getLineMaxColumn(b.endLineNumber-1)));let p=[];for(let i=b.startLineNumber;i<=b.endLineNumber;i++)p.push(g.getLineContent(i));const v=p.join(`
`);v===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?S.addEditOperation(new L.Range(b.endLineNumber,g.getLineMaxColumn(b.endLineNumber),b.endLineNumber+1,1),b.endLineNumber===g.getLineCount()?"":`
`):this._isCopyingDown?S.addEditOperation(new L.Range(b.startLineNumber,1,b.startLineNumber,1),v+`
`):S.addEditOperation(new L.Range(b.endLineNumber,g.getLineMaxColumn(b.endLineNumber),b.endLineNumber,g.getLineMaxColumn(b.endLineNumber)),`
`+v),this._selectionId=S.trackSelection(b),this._selectionDirection=this._selection.getDirection()}computeCursorState(g,S){let b=S.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let p=b.startLineNumber,v=b.startColumn,i=b.endLineNumber,t=b.endColumn;this._startLineNumberDelta!==0&&(p=p+this._startLineNumberDelta,v=1),this._endLineNumberDelta!==0&&(i=i+this._endLineNumberDelta,t=1),b=N.Selection.createWithDirection(p,v,i,t,this._selectionDirection)}return b}}e.CopyLinesCommand=M}),define(ee[445],te([0,1,60,3]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SortLinesCommand=void 0;class M{constructor(b,p){this.selection=b,this.descending=p,this.selectionId=null}static getCollator(){return M._COLLATOR||(M._COLLATOR=new Intl.Collator),M._COLLATOR}getEditOperations(b,p){let v=g(b,this.selection,this.descending);v&&p.addEditOperation(v.range,v.text),this.selectionId=p.trackSelection(this.selection)}computeCursorState(b,p){return p.getTrackedSelection(this.selectionId)}static canRun(b,p,v){if(b===null)return!1;let i=E(b,p,v);if(!i)return!1;for(let t=0,a=i.before.length;t<a;t++)if(i.before[t]!==i.after[t])return!0;return!1}}e.SortLinesCommand=M,M._COLLATOR=null;function E(S,b,p){let v=b.startLineNumber,i=b.endLineNumber;if(b.endColumn===1&&i--,v>=i)return null;let t=[];for(let l=v;l<=i;l++)t.push(S.getLineContent(l));let a=t.slice(0);return a.sort(M.getCollator().compare),p===!0&&(a=a.reverse()),{startLineNumber:v,endLineNumber:i,before:t,after:a}}function g(S,b,p){let v=E(S,b,p);return v?L.EditOperation.replace(new N.Range(v.startLineNumber,1,v.endLineNumber,S.getLineMaxColumn(v.endLineNumber)),v.after.join(`
`)):null}}),define(ee[252],te([0,1,80,13,3]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketSelectionRangeProvider=void 0;class E{provideSelectionRanges(S,b){return Me(this,void 0,void 0,function*(){const p=[];for(const v of b){const i=[];p.push(i);const t=new Map;yield new Promise(a=>E._bracketsRightYield(a,0,S,v,t)),yield new Promise(a=>E._bracketsLeftYield(a,0,S,v,t,i))}return p})}static _bracketsRightYield(S,b,p,v,i){const t=new Map,a=Date.now();for(;;){if(b>=E._maxRounds){S();break}if(!v){S();break}let l=p.bracketPairs.findNextBracket(v);if(!l){S();break}if(Date.now()-a>E._maxDuration){setTimeout(()=>E._bracketsRightYield(S,b+1,p,v,i));break}const d=l.close[0];if(l.isOpen){let u=t.has(d)?t.get(d):0;t.set(d,u+1)}else{let u=t.has(d)?t.get(d):0;if(u-=1,t.set(d,Math.max(0,u)),u<0){let n=i.get(d);n||(n=new L.LinkedList,i.set(d,n)),n.push(l.range)}}v=l.range.getEndPosition()}}static _bracketsLeftYield(S,b,p,v,i,t){const a=new Map,l=Date.now();for(;;){if(b>=E._maxRounds&&i.size===0){S();break}if(!v){S();break}let h=p.bracketPairs.findPrevBracket(v);if(!h){S();break}if(Date.now()-l>E._maxDuration){setTimeout(()=>E._bracketsLeftYield(S,b+1,p,v,i,t));break}const u=h.close[0];if(h.isOpen){let n=a.has(u)?a.get(u):0;if(n-=1,a.set(u,Math.max(0,n)),n<0){let r=i.get(u);if(r){let s=r.shift();r.size===0&&i.delete(u);const o=M.Range.fromPositions(h.range.getEndPosition(),s.getStartPosition()),m=M.Range.fromPositions(h.range.getStartPosition(),s.getEndPosition());t.push({range:o}),t.push({range:m}),E._addBracketLeading(p,m,t)}}}else{let n=a.has(u)?a.get(u):0;a.set(u,n+1)}v=h.range.getStartPosition()}}static _addBracketLeading(S,b,p){if(b.startLineNumber===b.endLineNumber)return;const v=b.startLineNumber,i=S.getLineFirstNonWhitespaceColumn(v);i!==0&&i!==b.startColumn&&(p.push({range:M.Range.fromPositions(new N.Position(v,i),b.getEndPosition())}),p.push({range:M.Range.fromPositions(new N.Position(v,1),b.getEndPosition())}));const t=v-1;if(t>0){const a=S.getLineFirstNonWhitespaceColumn(t);a===b.startColumn&&a!==S.getLineLastNonWhitespaceColumn(t)&&(p.push({range:M.Range.fromPositions(new N.Position(t,a),b.getEndPosition())}),p.push({range:M.Range.fromPositions(new N.Position(t,1),b.getEndPosition())}))}}}e.BracketSelectionRangeProvider=E,E._maxDuration=30,E._maxRounds=2}),define(ee[446],te([0,1,8,3]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordSelectionRangeProvider=void 0;class M{provideSelectionRanges(g,S){const b=[];for(const p of S){const v=[];b.push(v),this._addInWordRanges(v,g,p),this._addWordRanges(v,g,p),this._addWhitespaceLine(v,g,p),v.push({range:g.getFullModelRange()})}return b}_addInWordRanges(g,S,b){const p=S.getWordAtPosition(b);if(!p)return;let{word:v,startColumn:i}=p,t=b.column-i,a=t,l=t,h=0;for(;a>=0;a--){let d=v.charCodeAt(a);if(a!==t&&(d===95||d===45))break;if((0,L.isLowerAsciiLetter)(d)&&(0,L.isUpperAsciiLetter)(h))break;h=d}for(a+=1;l<v.length;l++){let d=v.charCodeAt(l);if((0,L.isUpperAsciiLetter)(d)&&(0,L.isLowerAsciiLetter)(h))break;if(d===95||d===45)break;h=d}a<l&&g.push({range:new N.Range(b.lineNumber,i+a,b.lineNumber,i+l)})}_addWordRanges(g,S,b){const p=S.getWordAtPosition(b);p&&g.push({range:new N.Range(b.lineNumber,p.startColumn,b.lineNumber,p.endColumn)})}_addWhitespaceLine(g,S,b){S.getLineLength(b.lineNumber)>0&&S.getLineFirstNonWhitespaceColumn(b.lineNumber)===0&&S.getLineLastNonWhitespaceColumn(b.lineNumber)===0&&g.push({range:new N.Range(b.lineNumber,1,b.lineNumber,S.getLineMaxColumn(b.lineNumber))})}}e.WordSelectionRangeProvider=M}),define(ee[122],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetParser=e.TextmateSnippet=e.Variable=e.FormatString=e.Transform=e.Choice=e.Placeholder=e.TransformableMarker=e.Text=e.Marker=e.Scanner=void 0;class L{constructor(){this.value="",this.pos=0}static isDigitCharacter(h){return h>=48&&h<=57}static isVariableCharacter(h){return h===95||h>=97&&h<=122||h>=65&&h<=90}text(h){this.value=h,this.pos=0}tokenText(h){return this.value.substr(h.pos,h.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};let h=this.pos,d=0,u=this.value.charCodeAt(h),n;if(n=L._table[u],typeof n=="number")return this.pos+=1,{type:n,pos:h,len:1};if(L.isDigitCharacter(u)){n=8;do d+=1,u=this.value.charCodeAt(h+d);while(L.isDigitCharacter(u));return this.pos+=d,{type:n,pos:h,len:d}}if(L.isVariableCharacter(u)){n=9;do u=this.value.charCodeAt(h+ ++d);while(L.isVariableCharacter(u)||L.isDigitCharacter(u));return this.pos+=d,{type:n,pos:h,len:d}}n=10;do d+=1,u=this.value.charCodeAt(h+d);while(!isNaN(u)&&typeof L._table[u]=="undefined"&&!L.isDigitCharacter(u)&&!L.isVariableCharacter(u));return this.pos+=d,{type:n,pos:h,len:d}}}e.Scanner=L,L._table={[36]:0,[58]:1,[44]:2,[123]:3,[125]:4,[92]:5,[47]:6,[124]:7,[43]:11,[45]:12,[63]:13};class N{constructor(){this._children=[]}appendChild(h){return h instanceof M&&this._children[this._children.length-1]instanceof M?this._children[this._children.length-1].value+=h.value:(h.parent=this,this._children.push(h)),this}replace(h,d){const{parent:u}=h,n=u.children.indexOf(h),r=u.children.slice(0);r.splice(n,1,...d),u._children=r,function s(o,m){for(const _ of o)_.parent=m,s(_.children,_)}(d,u)}get children(){return this._children}get snippet(){let h=this;for(;;){if(!h)return;if(h instanceof t)return h;h=h.parent}}toString(){return this.children.reduce((h,d)=>h+d.toString(),"")}len(){return 0}}e.Marker=N;class M extends N{constructor(h){super();this.value=h}static escape(h){return h.replace(/\$|}|\\/g,"\\$&")}toString(){return this.value}toTextmateString(){return M.escape(this.value)}len(){return this.value.length}clone(){return new M(this.value)}}e.Text=M;class E extends N{}e.TransformableMarker=E;class g extends E{constructor(h){super();this.index=h}static compareByIndex(h,d){return h.index===d.index?0:h.isFinalTabstop?1:d.isFinalTabstop||h.index<d.index?-1:h.index>d.index?1:0}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof S?this._children[0]:void 0}toTextmateString(){let h="";return this.transform&&(h=this.transform.toTextmateString()),this.children.length===0&&!this.transform?`$${this.index}`:this.children.length===0?`\${${this.index}${h}}`:this.choice?`\${${this.index}|${this.choice.toTextmateString()}|${h}}`:`\${${this.index}:${this.children.map(d=>d.toTextmateString()).join("")}${h}}`}clone(){let h=new g(this.index);return this.transform&&(h.transform=this.transform.clone()),h._children=this.children.map(d=>d.clone()),h}}e.Placeholder=g;class S extends N{constructor(){super(...arguments);this.options=[]}appendChild(h){return h instanceof M&&(h.parent=this,this.options.push(h)),this}toString(){return this.options[0].value}toTextmateString(){return this.options.map(h=>h.value.replace(/\||,/g,"\\$&")).join(",")}len(){return this.options[0].len()}clone(){let h=new S;return this.options.forEach(h.appendChild,h),h}}e.Choice=S;class b extends N{constructor(){super(...arguments);this.regexp=new RegExp("")}resolve(h){const d=this;let u=!1,n=h.replace(this.regexp,function(){return u=!0,d._replace(Array.prototype.slice.call(arguments,0,-2))});return!u&&this._children.some(r=>r instanceof p&&Boolean(r.elseValue))&&(n=this._replace([])),n}_replace(h){let d="";for(const u of this._children)if(u instanceof p){let n=h[u.index]||"";n=u.resolve(n),d+=n}else d+=u.toString();return d}toString(){return""}toTextmateString(){return`/${this.regexp.source}/${this.children.map(h=>h.toTextmateString())}/${(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")}`}clone(){let h=new b;return h.regexp=new RegExp(this.regexp.source,""+(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),h._children=this.children.map(d=>d.clone()),h}}e.Transform=b;class p extends N{constructor(h,d,u,n){super();this.index=h,this.shorthandName=d,this.ifValue=u,this.elseValue=n}resolve(h){return this.shorthandName==="upcase"?h?h.toLocaleUpperCase():"":this.shorthandName==="downcase"?h?h.toLocaleLowerCase():"":this.shorthandName==="capitalize"?h?h[0].toLocaleUpperCase()+h.substr(1):"":this.shorthandName==="pascalcase"?h?this._toPascalCase(h):"":this.shorthandName==="camelcase"?h?this._toCamelCase(h):"":Boolean(h)&&typeof this.ifValue=="string"?this.ifValue:!Boolean(h)&&typeof this.elseValue=="string"?this.elseValue:h||""}_toPascalCase(h){const d=h.match(/[a-z0-9]+/gi);return d?d.map(u=>u.charAt(0).toUpperCase()+u.substr(1).toLowerCase()).join(""):h}_toCamelCase(h){const d=h.match(/[a-z0-9]+/gi);return d?d.map((u,n)=>n===0?u.toLowerCase():u.charAt(0).toUpperCase()+u.substr(1).toLowerCase()).join(""):h}toTextmateString(){let h="${";return h+=this.index,this.shorthandName?h+=`:/${this.shorthandName}`:this.ifValue&&this.elseValue?h+=`:?${this.ifValue}:${this.elseValue}`:this.ifValue?h+=`:+${this.ifValue}`:this.elseValue&&(h+=`:-${this.elseValue}`),h+="}",h}clone(){return new p(this.index,this.shorthandName,this.ifValue,this.elseValue)}}e.FormatString=p;class v extends E{constructor(h){super();this.name=h}resolve(h){let d=h.resolve(this);return this.transform&&(d=this.transform.resolve(d||"")),d!==void 0?(this._children=[new M(d)],!0):!1}toTextmateString(){let h="";return this.transform&&(h=this.transform.toTextmateString()),this.children.length===0?`\${${this.name}${h}}`:`\${${this.name}:${this.children.map(d=>d.toTextmateString()).join("")}${h}}`}clone(){const h=new v(this.name);return this.transform&&(h.transform=this.transform.clone()),h._children=this.children.map(d=>d.clone()),h}}e.Variable=v;function i(l,h){const d=[...l];for(;d.length>0;){const u=d.shift();if(!h(u))break;d.unshift(...u.children)}}class t extends N{get placeholderInfo(){if(!this._placeholders){let h=[],d;this.walk(function(u){return u instanceof g&&(h.push(u),d=!d||d.index<u.index?u:d),!0}),this._placeholders={all:h,last:d}}return this._placeholders}get placeholders(){const{all:h}=this.placeholderInfo;return h}offset(h){let d=0,u=!1;return this.walk(n=>n===h?(u=!0,!1):(d+=n.len(),!0)),u?d:-1}fullLen(h){let d=0;return i([h],u=>(d+=u.len(),!0)),d}enclosingPlaceholders(h){let d=[],{parent:u}=h;for(;u;)u instanceof g&&d.push(u),u=u.parent;return d}resolveVariables(h){return this.walk(d=>(d instanceof v&&d.resolve(h)&&(this._placeholders=void 0),!0)),this}appendChild(h){return this._placeholders=void 0,super.appendChild(h)}replace(h,d){return this._placeholders=void 0,super.replace(h,d)}toTextmateString(){return this.children.reduce((h,d)=>h+d.toTextmateString(),"")}clone(){let h=new t;return this._children=this.children.map(d=>d.clone()),h}walk(h){i(this.children,h)}}e.TextmateSnippet=t;class a{constructor(){this._scanner=new L,this._token={type:14,pos:0,len:0}}static escape(h){return h.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(h){return/\${?CLIPBOARD/.test(h)}text(h){return this.parse(h).toString()}parse(h,d,u){this._scanner.text(h),this._token=this._scanner.next();const n=new t;for(;this._parse(n););const r=new Map,s=[];let o=0;n.walk(m=>(m instanceof g&&(o+=1,m.isFinalTabstop?r.set(0,void 0):!r.has(m.index)&&m.children.length>0?r.set(m.index,m.children):s.push(m)),!0));for(const m of s){const _=r.get(m.index);if(_){const f=new g(m.index);f.transform=m.transform;for(const c of _)f.appendChild(c.clone());n.replace(m,[f])}}return u||(u=o>0&&d),!r.has(0)&&u&&n.appendChild(new g(0)),n}_accept(h,d){if(h===void 0||this._token.type===h){let u=d?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),u}return!1}_backTo(h){return this._scanner.pos=h.pos+h.len,this._token=h,!1}_until(h){const d=this._token;for(;this._token.type!==h;){if(this._token.type===14)return!1;if(this._token.type===5){const n=this._scanner.next();if(n.type!==0&&n.type!==4&&n.type!==5)return!1}this._token=this._scanner.next()}const u=this._scanner.value.substring(d.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),u}_parse(h){return this._parseEscaped(h)||this._parseTabstopOrVariableName(h)||this._parseComplexPlaceholder(h)||this._parseComplexVariable(h)||this._parseAnything(h)}_parseEscaped(h){let d;return(d=this._accept(5,!0))?(d=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||d,h.appendChild(new M(d)),!0):!1}_parseTabstopOrVariableName(h){let d;const u=this._token;return this._accept(0)&&(d=this._accept(9,!0)||this._accept(8,!0))?(h.appendChild(/^\d+$/.test(d)?new g(Number(d)):new v(d)),!0):this._backTo(u)}_parseComplexPlaceholder(h){let d;const u=this._token;if(!(this._accept(0)&&this._accept(3)&&(d=this._accept(8,!0))))return this._backTo(u);const r=new g(Number(d));if(this._accept(1))for(;;){if(this._accept(4))return h.appendChild(r),!0;if(!this._parse(r))return h.appendChild(new M("${"+d+":")),r.children.forEach(h.appendChild,h),!0}else if(r.index>0&&this._accept(7)){const s=new S;for(;;){if(this._parseChoiceElement(s)){if(this._accept(2))continue;if(this._accept(7)&&(r.appendChild(s),this._accept(4)))return h.appendChild(r),!0}return this._backTo(u),!1}}else return this._accept(6)?this._parseTransform(r)?(h.appendChild(r),!0):(this._backTo(u),!1):this._accept(4)?(h.appendChild(r),!0):this._backTo(u)}_parseChoiceElement(h){const d=this._token,u=[];for(;!(this._token.type===2||this._token.type===7);){let n;if((n=this._accept(5,!0))?n=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||n:n=this._accept(void 0,!0),!n)return this._backTo(d),!1;u.push(n)}return u.length===0?(this._backTo(d),!1):(h.appendChild(new M(u.join(""))),!0)}_parseComplexVariable(h){let d;const u=this._token;if(!(this._accept(0)&&this._accept(3)&&(d=this._accept(9,!0))))return this._backTo(u);const r=new v(d);if(this._accept(1))for(;;){if(this._accept(4))return h.appendChild(r),!0;if(!this._parse(r))return h.appendChild(new M("${"+d+":")),r.children.forEach(h.appendChild,h),!0}else return this._accept(6)?this._parseTransform(r)?(h.appendChild(r),!0):(this._backTo(u),!1):this._accept(4)?(h.appendChild(r),!0):this._backTo(u)}_parseTransform(h){let d=new b,u="",n="";for(;!this._accept(6);){let r;if(r=this._accept(5,!0)){r=this._accept(6,!0)||r,u+=r;continue}if(this._token.type!==14){u+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let r;if(r=this._accept(5,!0)){r=this._accept(5,!0)||this._accept(6,!0)||r,d.appendChild(new M(r));continue}if(!(this._parseFormatString(d)||this._parseAnything(d)))return!1}for(;!this._accept(4);){if(this._token.type!==14){n+=this._accept(void 0,!0);continue}return!1}try{d.regexp=new RegExp(u,n)}catch(r){return!1}return h.transform=d,!0}_parseFormatString(h){const d=this._token;if(!this._accept(0))return!1;let u=!1;this._accept(3)&&(u=!0);let n=this._accept(8,!0);if(n)if(u){if(this._accept(4))return h.appendChild(new p(Number(n))),!0;if(!this._accept(1))return this._backTo(d),!1}else return h.appendChild(new p(Number(n))),!0;else return this._backTo(d),!1;if(this._accept(6)){let r=this._accept(9,!0);return!r||!this._accept(4)?(this._backTo(d),!1):(h.appendChild(new p(Number(n),r)),!0)}else if(this._accept(11)){let r=this._until(4);if(r)return h.appendChild(new p(Number(n),void 0,r,void 0)),!0}else if(this._accept(12)){let r=this._until(4);if(r)return h.appendChild(new p(Number(n),void 0,void 0,r)),!0}else if(this._accept(13)){let r=this._until(1);if(r){let s=this._until(4);if(s)return h.appendChild(new p(Number(n),void 0,r,s)),!0}}else{let r=this._until(4);if(r)return h.appendChild(new p(Number(n),void 0,void 0,r)),!0}return this._backTo(d),!1}_parseAnything(h){return this._token.type!==14?(h.appendChild(new M(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}e.SnippetParser=a}),define(ee[447],te([0,1,19,72,8]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompletionModel=e.LineContext=void 0;class E{constructor(b,p){this.leadingLineContent=b,this.characterCountDelta=p}}e.LineContext=E;class g{constructor(b,p,v,i,t,a,l){this.clipboardText=l,this._snippetCompareFn=g._compareCompletionItems,this._items=b,this._column=p,this._wordDistance=i,this._options=t,this._refilterKind=1,this._lineContext=v,a==="top"?this._snippetCompareFn=g._compareCompletionItemsSnippetsUp:a==="bottom"&&(this._snippetCompareFn=g._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(b){(this._lineContext.leadingLineContent!==b.leadingLineContent||this._lineContext.characterCountDelta!==b.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<b.characterCountDelta&&this._filteredItems?2:1,this._lineContext=b)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();const b=new Set;for(let[p,v]of this._providerInfo)v&&b.add(p);return b}adopt(b){let p=[];for(let v=0;v<this._items.length;)b.has(this._items[v].provider)?v++:(p.push(this._items[v]),this._items[v]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,p}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;const b=[],{leadingLineContent:p,characterCountDelta:v}=this._lineContext;let i="",t="";const a=this._refilterKind===1?this._items:this._filteredItems,l=[],h=!this._options.filterGraceful||a.length>2e3?N.fuzzyScore:N.fuzzyScoreGracefulAggressive;for(let d=0;d<a.length;d++){const u=a[d];if(u.isInvalid)continue;this._providerInfo.set(u.provider,Boolean(u.container.incomplete));const n=u.position.column-u.editStart.column,r=n+v-(u.position.column-this._column);if(i.length!==r&&(i=r===0?"":p.slice(-r),t=i.toLowerCase()),u.word=i,r===0)u.score=N.FuzzyScore.Default;else{let s=0;for(;s<n;){const o=i.charCodeAt(s);if(o===32||o===9)s+=1;else break}if(s>=r)u.score=N.FuzzyScore.Default;else if(typeof u.completion.filterText=="string"){let o=h(i,t,s,u.completion.filterText,u.filterTextLow,0,!1);if(!o)continue;(0,M.compareIgnoreCase)(u.completion.filterText,u.textLabel)===0?u.score=o:(u.score=(0,N.anyScore)(i,t,s,u.textLabel,u.labelLow,0),u.score[0]=o[0])}else{let o=h(i,t,s,u.textLabel,u.labelLow,0,!1);if(!o)continue;u.score=o}}u.idx=d,u.distance=this._wordDistance.distance(u.position,u.completion),l.push(u),b.push(u.textLabel.length)}this._filteredItems=l.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:b.length?(0,L.quickSelect)(b.length-.85,b,(d,u)=>d-u):0}}static _compareCompletionItems(b,p){return b.score[0]>p.score[0]?-1:b.score[0]<p.score[0]?1:b.distance<p.distance?-1:b.distance>p.distance?1:b.idx<p.idx?-1:b.idx>p.idx?1:0}static _compareCompletionItemsSnippetsDown(b,p){if(b.completion.kind!==p.completion.kind){if(b.completion.kind===27)return 1;if(p.completion.kind===27)return-1}return g._compareCompletionItems(b,p)}static _compareCompletionItemsSnippetsUp(b,p){if(b.completion.kind!==p.completion.kind){if(b.completion.kind===27)return-1;if(p.completion.kind===27)return 1}return g._compareCompletionItems(b,p)}}e.CompletionModel=g}),define(ee[253],te([0,1,7,113,4,2]),function(Q,e,L,N,M,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizableHTMLElement=void 0;class g{constructor(){this._onDidWillResize=new M.Emitter,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new M.Emitter,this.onDidResize=this._onDidResize.event,this._sashListener=new E.DisposableStore,this._size=new L.Dimension(0,0),this._minSize=new L.Dimension(0,0),this._maxSize=new L.Dimension(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new N.Sash(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new N.Sash(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new N.Sash(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:N.OrthogonalEdge.North}),this._southSash=new N.Sash(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:N.OrthogonalEdge.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let b,p=0,v=0;this._sashListener.add(M.Event.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{b===void 0&&(this._onDidWillResize.fire(),b=this._size,p=0,v=0)})),this._sashListener.add(M.Event.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{b!==void 0&&(b=void 0,p=0,v=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(i=>{b&&(v=i.currentX-i.startX,this.layout(b.height+p,b.width+v),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(i=>{b&&(v=-(i.currentX-i.startX),this.layout(b.height+p,b.width+v),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(i=>{b&&(p=-(i.currentY-i.startY),this.layout(b.height+p,b.width+v),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(i=>{b&&(p=i.currentY-i.startY,this.layout(b.height+p,b.width+v),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(M.Event.any(this._eastSash.onDidReset,this._westSash.onDidReset)(i=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(M.Event.any(this._northSash.onDidReset,this._southSash.onDidReset)(i=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(b,p,v,i){this._northSash.state=b?3:0,this._eastSash.state=p?3:0,this._southSash.state=v?3:0,this._westSash.state=i?3:0}layout(b=this.size.height,p=this.size.width){const{height:v,width:i}=this._minSize,{height:t,width:a}=this._maxSize;b=Math.max(v,Math.min(t,b)),p=Math.max(i,Math.min(a,p));const l=new L.Dimension(p,b);L.Dimension.equals(l,this._size)||(this.domNode.style.height=b+"px",this.domNode.style.width=p+"px",this._size=l,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(b){this._maxSize=b}get maxSize(){return this._maxSize}set minSize(b){this._minSize=b}get minSize(){return this._minSize}set preferredSize(b){this._preferredSize=b}get preferredSize(){return this._preferredSize}}e.ResizableHTMLElement=g}),define(ee[448],te([0,1,19,2,101]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommitCharacterController=void 0;class E{constructor(S,b,p){this._disposables=new N.DisposableStore,this._disposables.add(b.onDidShow(()=>this._onItem(b.getFocusedItem()))),this._disposables.add(b.onDidFocus(this._onItem,this)),this._disposables.add(b.onDidHide(this.reset,this)),this._disposables.add(S.onWillType(v=>{if(this._active&&!b.isFrozen()){const i=v.charCodeAt(v.length-1);this._active.acceptCharacters.has(i)&&S.getOption(0)&&p(this._active.item)}}))}_onItem(S){if(!S||!(0,L.isNonEmptyArray)(S.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===S.item)return;const b=new M.CharacterSet;for(const p of S.item.completion.commitCharacters)p.length>0&&b.add(p.charCodeAt(0));this._active={acceptCharacters:b,item:S}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}e.CommitCharacterController=E}),define(ee[449],te([0,1,2]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OvertypingCapturer=void 0;class N{constructor(E,g){this._disposables=new L.DisposableStore,this._lastOvertyped=[],this._empty=!0,this._disposables.add(E.onWillType(()=>{if(!this._empty||!E.hasModel())return;const S=E.getSelections(),b=S.length;let p=!1;for(let i=0;i<b;i++)if(!S[i].isEmpty()){p=!0;break}if(!p)return;this._lastOvertyped=[];const v=E.getModel();for(let i=0;i<b;i++){const t=S[i];if(v.getValueLengthInRange(t)>N._maxSelectionLength)return;this._lastOvertyped[i]={value:v.getValueInRange(t),multiline:t.startLineNumber!==t.endLineNumber}}this._empty=!1})),this._disposables.add(g.onDidCancel(S=>{!this._empty&&!S.retrigger&&(this._empty=!0)}))}getLastOvertypedInfo(E){if(!this._empty&&E>=0&&E<this._lastOvertyped.length)return this._lastOvertyped[E]}dispose(){this._disposables.dispose()}}e.OvertypingCapturer=N,N._maxSelectionLength=51200}),define(ee[450],te([0,1,19,3,252]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordDistance=void 0;class E{static create(S,b){return Me(this,void 0,void 0,function*(){if(!b.getOption(105).localityBonus||!b.hasModel())return E.None;const p=b.getModel(),v=b.getPosition();if(!S.canComputeWordRanges(p.uri))return E.None;const[i]=yield new M.BracketSelectionRangeProvider().provideSelectionRanges(p,[v]);if(i.length===0)return E.None;const t=yield S.computeWordRanges(p.uri,i[0].range);if(!t)return E.None;const a=p.getWordUntilPosition(v);return delete t[a.word],new class extends E{distance(l,h){if(!v.equals(b.getPosition()))return 0;if(h.kind===17)return 2<<20;let d=typeof h.label=="string"?h.label:h.label.label,u=t[d];if((0,L.isFalsyOrEmpty)(u))return 2<<20;let n=(0,L.binarySearch)(u,N.Range.fromPositions(l),N.Range.compareRangesUsingStarts),r=n>=0?u[n]:u[Math.max(0,~n-1)],s=i.length;for(const o of i){if(!N.Range.containsRange(o.range,r))break;s-=1}return s}}})}}e.WordDistance=E,E.None=new class extends E{distance(){return 0}}}),define(ee[254],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stateExists=e.findRules=e.substituteMatches=e.createError=e.log=e.sanitize=e.fixCase=e.empty=e.isIAction=e.isString=e.isFuzzyAction=e.isFuzzyActionArr=void 0;function L(l){return Array.isArray(l)}e.isFuzzyActionArr=L;function N(l){return!L(l)}e.isFuzzyAction=N;function M(l){return typeof l=="string"}e.isString=M;function E(l){return!M(l)}e.isIAction=E;function g(l){return!l}e.empty=g;function S(l,h){return l.ignoreCase&&h?h.toLowerCase():h}e.fixCase=S;function b(l){return l.replace(/[&<>'"_]/g,"-")}e.sanitize=b;function p(l,h){console.log(`${l.languageId}: ${h}`)}e.log=p;function v(l,h){return new Error(`${l.languageId}: ${h}`)}e.createError=v;function i(l,h,d,u,n){const r=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let s=null;return h.replace(r,function(o,m,_,f,c,C,y,w,D){return g(_)?g(f)?!g(c)&&c<u.length?S(l,u[c]):!g(y)&&l&&typeof l[y]=="string"?l[y]:(s===null&&(s=n.split("."),s.unshift(n)),!g(C)&&C<s.length?S(l,s[C]):""):S(l,d):"$"})}e.substituteMatches=i;function t(l,h){let d=h;for(;d&&d.length>0;){const u=l.tokenizer[d];if(u)return u;const n=d.lastIndexOf(".");n<0?d=null:d=d.substr(0,n)}return null}e.findRules=t;function a(l,h){let d=h;for(;d&&d.length>0;){if(l.stateNames[d])return!0;const n=d.lastIndexOf(".");n<0?d=null:d=d.substr(0,n)}return!1}e.stateExists=a}),define(ee[451],te([0,1,254]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compile=void 0;function N(l,h){if(!h||!Array.isArray(h))return!1;for(const d of h)if(!l(d))return!1;return!0}function M(l,h){return typeof l=="boolean"?l:h}function E(l,h){return typeof l=="string"?l:h}function g(l){const h={};for(const d of l)h[d]=!0;return h}function S(l,h=!1){h&&(l=l.map(function(u){return u.toLowerCase()}));const d=g(l);return h?function(u){return d[u.toLowerCase()]!==void 0&&d.hasOwnProperty(u.toLowerCase())}:function(u){return d[u]!==void 0&&d.hasOwnProperty(u)}}function b(l,h){h=h.replace(/@@/g,"");let d=0,u;do u=!1,h=h.replace(/@(\w+)/g,function(r,s){u=!0;let o="";if(typeof l[s]=="string")o=l[s];else if(l[s]&&l[s]instanceof RegExp)o=l[s].source;else throw l[s]===void 0?L.createError(l,"language definition does not contain attribute '"+s+"', used at: "+h):L.createError(l,"attribute reference '"+s+"' must be a string, used at: "+h);return L.empty(o)?"":"(?:"+o+")"}),d++;while(u&&d<5);h=h.replace(/\x01/g,"@");let n=(l.ignoreCase?"i":"")+(l.unicode?"u":"");return new RegExp(h,n)}function p(l,h,d,u){if(u<0)return l;if(u<h.length)return h[u];if(u>=100){u=u-100;let n=d.split(".");if(n.unshift(d),u<n.length)return n[u]}return null}function v(l,h,d,u){let n=-1,r=d,s=d.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);s&&(s[3]&&(n=parseInt(s[3]),s[2]&&(n=n+100)),r=s[4]);let o="~",m=r;!r||r.length===0?(o="!=",m=""):/^\w*$/.test(m)?o="==":(s=r.match(/^(@|!@|~|!~|==|!=)(.*)$/),s&&(o=s[1],m=s[2]));let _;if((o==="~"||o==="!~")&&/^(\w|\|)*$/.test(m)){let f=S(m.split("|"),l.ignoreCase);_=function(c){return o==="~"?f(c):!f(c)}}else if(o==="@"||o==="!@"){let f=l[m];if(!f)throw L.createError(l,"the @ match target '"+m+"' is not defined, in rule: "+h);if(!N(function(C){return typeof C=="string"},f))throw L.createError(l,"the @ match target '"+m+"' must be an array of strings, in rule: "+h);let c=S(f,l.ignoreCase);_=function(C){return o==="@"?c(C):!c(C)}}else if(o==="~"||o==="!~")if(m.indexOf("$")<0){let f=b(l,"^"+m+"$");_=function(c){return o==="~"?f.test(c):!f.test(c)}}else _=function(f,c,C,y){return b(l,"^"+L.substituteMatches(l,m,c,C,y)+"$").test(f)};else if(m.indexOf("$")<0){let f=L.fixCase(l,m);_=function(c){return o==="=="?c===f:c!==f}}else{let f=L.fixCase(l,m);_=function(c,C,y,w,D){let I=L.substituteMatches(l,f,C,y,w);return o==="=="?c===I:c!==I}}return n===-1?{name:d,value:u,test:function(f,c,C,y){return _(f,f,c,C,y)}}:{name:d,value:u,test:function(f,c,C,y){let w=p(f,c,C,n);return _(w||"",f,c,C,y)}}}function i(l,h,d){if(d){if(typeof d=="string")return d;if(d.token||d.token===""){if(typeof d.token!="string")throw L.createError(l,"a 'token' attribute must be of type string, in rule: "+h);{let u={token:d.token};if(d.token.indexOf("$")>=0&&(u.tokenSubst=!0),typeof d.bracket=="string")if(d.bracket==="@open")u.bracket=1;else if(d.bracket==="@close")u.bracket=-1;else throw L.createError(l,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+h);if(d.next){if(typeof d.next!="string")throw L.createError(l,"the next state must be a string value in rule: "+h);{let n=d.next;if(!/^(@pop|@push|@popall)$/.test(n)&&(n[0]==="@"&&(n=n.substr(1)),n.indexOf("$")<0&&!L.stateExists(l,L.substituteMatches(l,n,"",[],""))))throw L.createError(l,"the next state '"+d.next+"' is not defined in rule: "+h);u.next=n}}return typeof d.goBack=="number"&&(u.goBack=d.goBack),typeof d.switchTo=="string"&&(u.switchTo=d.switchTo),typeof d.log=="string"&&(u.log=d.log),typeof d.nextEmbedded=="string"&&(u.nextEmbedded=d.nextEmbedded,l.usesEmbedded=!0),u}}else if(Array.isArray(d)){let u=[];for(let n=0,r=d.length;n<r;n++)u[n]=i(l,h,d[n]);return{group:u}}else if(d.cases){let u=[];for(let r in d.cases)if(d.cases.hasOwnProperty(r)){const s=i(l,h,d.cases[r]);r==="@default"||r==="@"||r===""?u.push({test:void 0,value:s,name:r}):r==="@eos"?u.push({test:function(o,m,_,f){return f},value:s,name:r}):u.push(v(l,h,r,s))}const n=l.defaultToken;return{test:function(r,s,o,m){for(const _ of u)if(!_.test||_.test(r,s,o,m))return _.value;return n}}}else throw L.createError(l,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+h)}else return{token:""}}class t{constructor(h){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=h}setRegex(h,d){let u;if(typeof d=="string")u=d;else if(d instanceof RegExp)u=d.source;else throw L.createError(h,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=u.length>0&&u[0]==="^",this.name=this.name+": "+u,this.regex=b(h,"^(?:"+(this.matchOnlyAtLineStart?u.substr(1):u)+")")}setAction(h,d){this.action=i(h,this.name,d)}}function a(l,h){if(!h||typeof h!="object")throw new Error("Monarch: expecting a language definition object");let d={};d.languageId=l,d.includeLF=M(h.includeLF,!1),d.noThrow=!1,d.maxStack=100,d.start=typeof h.start=="string"?h.start:null,d.ignoreCase=M(h.ignoreCase,!1),d.unicode=M(h.unicode,!1),d.tokenPostfix=E(h.tokenPostfix,"."+d.languageId),d.defaultToken=E(h.defaultToken,"source"),d.usesEmbedded=!1;let u=h;u.languageId=l,u.includeLF=d.includeLF,u.ignoreCase=d.ignoreCase,u.unicode=d.unicode,u.noThrow=d.noThrow,u.usesEmbedded=d.usesEmbedded,u.stateNames=h.tokenizer,u.defaultToken=d.defaultToken;function n(s,o,m){for(const _ of m){let f=_.include;if(f){if(typeof f!="string")throw L.createError(d,"an 'include' attribute must be a string at: "+s);if(f[0]==="@"&&(f=f.substr(1)),!h.tokenizer[f])throw L.createError(d,"include target '"+f+"' is not defined at: "+s);n(s+"."+f,o,h.tokenizer[f])}else{const c=new t(s);if(Array.isArray(_)&&_.length>=1&&_.length<=3)if(c.setRegex(u,_[0]),_.length>=3)if(typeof _[1]=="string")c.setAction(u,{token:_[1],next:_[2]});else if(typeof _[1]=="object"){const C=_[1];C.next=_[2],c.setAction(u,C)}else throw L.createError(d,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+s);else c.setAction(u,_[1]);else{if(!_.regex)throw L.createError(d,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+s);_.name&&typeof _.name=="string"&&(c.name=_.name),_.matchOnlyAtStart&&(c.matchOnlyAtLineStart=M(_.matchOnlyAtLineStart,!1)),c.setRegex(u,_.regex),c.setAction(u,_.action)}o.push(c)}}}if(!h.tokenizer||typeof h.tokenizer!="object")throw L.createError(d,"a language definition must define the 'tokenizer' attribute as an object");d.tokenizer=[];for(let s in h.tokenizer)if(h.tokenizer.hasOwnProperty(s)){d.start||(d.start=s);const o=h.tokenizer[s];d.tokenizer[s]=new Array,n("tokenizer."+s,d.tokenizer[s],o)}if(d.usesEmbedded=u.usesEmbedded,h.brackets){if(!Array.isArray(h.brackets))throw L.createError(d,"the 'brackets' attribute must be defined as an array")}else h.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];let r=[];for(let s of h.brackets){let o=s;if(o&&Array.isArray(o)&&o.length===3&&(o={token:o[2],open:o[0],close:o[1]}),o.open===o.close)throw L.createError(d,"open and close brackets in a 'brackets' attribute must be different: "+o.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof o.open=="string"&&typeof o.token=="string"&&typeof o.close=="string")r.push({token:o.token+d.tokenPostfix,open:L.fixCase(d,o.open),close:L.fixCase(d,o.close)});else throw L.createError(d,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return d.brackets=r,d.noThrow=!0,d}e.compile=a}),define(ee[452],te([5,6]),function(Q,e){return Q.create("vs/base/browser/ui/actionbar/actionViewItems",e)}),define(ee[453],te([5,6]),function(Q,e){return Q.create("vs/base/browser/ui/findinput/findInput",e)}),define(ee[454],te([5,6]),function(Q,e){return Q.create("vs/base/browser/ui/findinput/findInputCheckboxes",e)}),define(ee[455],te([5,6]),function(Q,e){return Q.create("vs/base/browser/ui/findinput/replaceInput",e)}),define(ee[456],te([5,6]),function(Q,e){return Q.create("vs/base/browser/ui/iconLabel/iconLabelHover",e)}),define(ee[457],te([0,1,7,10,21,73,2,20,456]),function(Q,e,L,N,M,E,g,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setupCustomHover=e.setupNativeHover=void 0;function p(t,a){(0,S.isString)(a)?t.title=a:(a==null?void 0:a.markdownNotSupportedFallback)?t.title=a.markdownNotSupportedFallback:t.removeAttribute("title")}e.setupNativeHover=p;class v{constructor(a,l,h){this.hoverDelegate=a,this.target=l,this.fadeInAnimation=h}update(a,l){var h;return Me(this,void 0,void 0,function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let d;if(a===void 0||(0,S.isString)(a)||a instanceof HTMLElement)d=a;else if(!(0,S.isFunction)(a.markdown))d=(h=a.markdown)!==null&&h!==void 0?h:a.markdownNotSupportedFallback;else{this._hoverWidget||this.show((0,b.localize)(0,null),l),this._cancellationTokenSource=new M.CancellationTokenSource;const u=this._cancellationTokenSource.token;if(d=yield a.markdown(u),this.isDisposed||u.isCancellationRequested)return}this.show(d,l)})}show(a,l){const h=this._hoverWidget;if(this.hasContent(a)){const d={content:a,target:this.target,showPointer:this.hoverDelegate.placement==="element",hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!h};this._hoverWidget=this.hoverDelegate.showHover(d,l)}h==null||h.dispose()}hasContent(a){return a?(0,E.isMarkdownString)(a)?!!a.value:!0:!1}get isDisposed(){var a;return(a=this._hoverWidget)===null||a===void 0?void 0:a.isDisposed}dispose(){var a,l;(a=this._hoverWidget)===null||a===void 0||a.dispose(),(l=this._cancellationTokenSource)===null||l===void 0||l.dispose(!0),this._cancellationTokenSource=void 0}}function i(t,a,l){let h,d;const u=(m,_)=>{var f;m&&(d==null||d.dispose(),d=void 0),_&&(h==null||h.dispose(),h=void 0),(f=t.onDidHideHover)===null||f===void 0||f.call(t)},n=(m,_,f)=>new N.TimeoutTimer(()=>Me(this,void 0,void 0,function*(){(!d||d.isDisposed)&&(d=new v(t,f||a,m>0),yield d.update(l,_))}),m),r=()=>{if(h)return;const m=new g.DisposableStore,_=C=>u(!1,C.fromElement===a);m.add(L.addDisposableListener(a,L.EventType.MOUSE_LEAVE,_,!0));const f=()=>u(!0,!0);m.add(L.addDisposableListener(a,L.EventType.MOUSE_DOWN,f,!0));const c={targetElements:[a],dispose:()=>{}};if(t.placement===void 0||t.placement==="mouse"){const C=y=>c.x=y.x+10;m.add(L.addDisposableListener(a,L.EventType.MOUSE_MOVE,C,!0))}m.add(n(t.delay,!1,c)),h=m},s=L.addDisposableListener(a,L.EventType.MOUSE_OVER,r,!0);return{show:m=>{u(!1,!0),n(0,m)},hide:()=>{u(!0,!0)},update:m=>Me(this,void 0,void 0,function*(){l=m,yield d==null?void 0:d.update(l)}),dispose:()=>{s.dispose(),u(!0,!0)}}}e.setupCustomHover=i}),define(ee[186],te([0,1,7,214,457,2,34,135,335]),function(Q,e,L,N,M,E,g,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IconLabel=void 0;class b{constructor(l){this._element=l}get element(){return this._element}set textContent(l){this.disposed||l===this._textContent||(this._textContent=l,this._element.textContent=l)}set className(l){this.disposed||l===this._className||(this._className=l,this._element.className=l)}set empty(l){this.disposed||l===this._empty||(this._empty=l,this._element.style.marginLeft=l?"0":"")}dispose(){this.disposed=!0}}class p extends E.Disposable{constructor(l,h){super();this.customHovers=new Map,this.domNode=this._register(new b(L.append(l,L.$(".monaco-icon-label")))),this.labelContainer=L.append(this.domNode.element,L.$(".monaco-icon-label-container"));const d=L.append(this.labelContainer,L.$("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new b(L.append(this.labelContainer,L.$("span.monaco-icon-description-container")))),(h==null?void 0:h.supportHighlights)||(h==null?void 0:h.supportIcons)?this.nameNode=new t(d,!!h.supportIcons):this.nameNode=new v(d),(h==null?void 0:h.supportDescriptionHighlights)?this.descriptionNodeFactory=()=>new N.HighlightedLabel(L.append(this.descriptionContainer.element,L.$("span.label-description")),{supportIcons:!!h.supportIcons}):this.descriptionNodeFactory=()=>this._register(new b(L.append(this.descriptionContainer.element,L.$("span.label-description")))),this.hoverDelegate=h==null?void 0:h.hoverDelegate}get element(){return this.domNode.element}setLabel(l,h,d){const u=["monaco-icon-label"];d&&(d.extraClasses&&u.push(...d.extraClasses),d.italic&&u.push("italic"),d.strikethrough&&u.push("strikethrough")),this.domNode.className=u.join(" "),this.setupHover((d==null?void 0:d.descriptionTitle)?this.labelContainer:this.element,d==null?void 0:d.title),this.nameNode.setLabel(l,d),(h||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof N.HighlightedLabel?(this.descriptionNode.set(h||"",d?d.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,d==null?void 0:d.descriptionTitle)):(this.descriptionNode.textContent=h||"",this.setupHover(this.descriptionNode.element,(d==null?void 0:d.descriptionTitle)||""),this.descriptionNode.empty=!h))}setupHover(l,h){const d=this.customHovers.get(l);if(d&&(d.dispose(),this.customHovers.delete(l)),!h){l.removeAttribute("title");return}if(!this.hoverDelegate)(0,M.setupNativeHover)(l,h);else{const u=(0,M.setupCustomHover)(this.hoverDelegate,l,h);u&&this.customHovers.set(l,u)}}dispose(){super.dispose();for(const l of this.customHovers.values())l.dispose();this.customHovers.clear()}}e.IconLabel=p;class v{constructor(l){this.container=l,this.label=void 0,this.singleLabel=void 0}setLabel(l,h){if(!(this.label===l&&(0,g.equals)(this.options,h)))if(this.label=l,this.options=h,typeof l=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=L.append(this.container,L.$("a.label-name",{id:h==null?void 0:h.domId}))),this.singleLabel.textContent=l;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let d=0;d<l.length;d++){const u=l[d],n=(h==null?void 0:h.domId)&&`${h==null?void 0:h.domId}_${d}`;L.append(this.container,L.$("a.label-name",{id:n,"data-icon-label-count":l.length,"data-icon-label-index":d,role:"treeitem"},u)),d<l.length-1&&L.append(this.container,L.$("span.label-separator",void 0,(h==null?void 0:h.separator)||"/"))}}}}function i(a,l,h){if(!h)return;let d=0;return a.map(u=>{const n={start:d,end:d+u.length},r=h.map(s=>S.Range.intersect(n,s)).filter(s=>!S.Range.isEmpty(s)).map(({start:s,end:o})=>({start:s-d,end:o-d}));return d=n.end+l.length,r})}class t{constructor(l,h){this.container=l,this.supportIcons=h,this.label=void 0,this.singleLabel=void 0}setLabel(l,h){if(!(this.label===l&&(0,g.equals)(this.options,h)))if(this.label=l,this.options=h,typeof l=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new N.HighlightedLabel(L.append(this.container,L.$("a.label-name",{id:h==null?void 0:h.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(l,h==null?void 0:h.matches,void 0,h==null?void 0:h.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const d=(h==null?void 0:h.separator)||"/",u=i(l,d,h==null?void 0:h.matches);for(let n=0;n<l.length;n++){const r=l[n],s=u?u[n]:void 0,o=(h==null?void 0:h.domId)&&`${h==null?void 0:h.domId}_${n}`,m=L.$("a.label-name",{id:o,"data-icon-label-count":l.length,"data-icon-label-index":n,role:"treeitem"});new N.HighlightedLabel(L.append(this.container,m),{supportIcons:this.supportIcons}).set(r,s,void 0,h==null?void 0:h.labelEscapeNewLines),n<l.length-1&&L.append(m,L.$("span.label-separator",void 0,d))}}}}}),define(ee[458],te([5,6]),function(Q,e){return Q.create("vs/base/browser/ui/inputbox/inputBox",e)}),define(ee[459],te([5,6]),function(Q,e){return Q.create("vs/base/browser/ui/keybindingLabel/keybindingLabel",e)}),define(ee[460],te([5,6]),function(Q,e){return Q.create("vs/base/browser/ui/menu/menu",e)}),define(ee[461],te([5,6]),function(Q,e){return Q.create("vs/base/browser/ui/selectBox/selectBoxCustom",e)}),define(ee[462],te([0,1,7,81,44,213,100,19,4,56,2,15,461,345]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectBoxList=void 0;const a=L.$,l="selectOption.entry.template";class h{get templateId(){return l}renderTemplate(n){const r=Object.create(null);return r.disposables=[],r.root=n,r.text=L.append(n,a(".option-text")),r.detail=L.append(n,a(".option-detail")),r.decoratorRight=L.append(n,a(".option-decorator-right")),r}renderElement(n,r,s){const o=s,m=n.text,_=n.detail,f=n.decoratorRight,c=n.isDisabled;o.text.textContent=m,o.detail.textContent=_||"",o.decoratorRight.innerText=f||"",c?o.root.classList.add("option-disabled"):o.root.classList.remove("option-disabled")}disposeTemplate(n){n.disposables=(0,v.dispose)(n.disposables)}}class d extends v.Disposable{constructor(n,r,s,o,m){super();this.options=[],this._currentSelection=0,this._hasDetails=!1,this._skipLayout=!1,this._sticky=!1,this._isVisible=!1,this.selectBoxOptions=m||Object.create(null),typeof this.selectBoxOptions.minBottomMargin!="number"?this.selectBoxOptions.minBottomMargin=d.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN:this.selectBoxOptions.minBottomMargin<0&&(this.selectBoxOptions.minBottomMargin=0),this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box monaco-select-box-dropdown-padding",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),this._onDidSelect=new b.Emitter,this._register(this._onDidSelect),this.styles=o,this.registerListeners(),this.constructSelectDropDown(s),this.selected=r||0,n&&this.setOptions(n,r)}getHeight(){return 18}getTemplateId(){return l}constructSelectDropDown(n){this.contextViewProvider=n,this.selectDropDownContainer=L.$(".monaco-select-box-dropdown-container"),this.selectDropDownContainer.classList.add("monaco-select-box-dropdown-padding"),this.selectionDetailsPane=L.append(this.selectDropDownContainer,a(".select-box-details-pane"));let r=L.append(this.selectDropDownContainer,a(".select-box-dropdown-container-width-control")),s=L.append(r,a(".width-control-div"));this.widthControlElement=document.createElement("span"),this.widthControlElement.className="option-text-width-control",L.append(s,this.widthControlElement),this._dropDownPosition=0,this.styleElement=L.createStyleSheet(this.selectDropDownContainer),this.selectDropDownContainer.setAttribute("draggable","true"),this._register(L.addDisposableListener(this.selectDropDownContainer,L.EventType.DRAG_START,o=>{L.EventHelper.stop(o,!0)}))}registerListeners(){this._register(L.addStandardDisposableListener(this.selectElement,"change",n=>{this.selected=n.target.selectedIndex,this._onDidSelect.fire({index:n.target.selectedIndex,selected:n.target.value}),!!this.options[this.selected]&&!!this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)})),this._register(L.addDisposableListener(this.selectElement,L.EventType.CLICK,n=>{L.EventHelper.stop(n),this._isVisible?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(L.addDisposableListener(this.selectElement,L.EventType.MOUSE_DOWN,n=>{L.EventHelper.stop(n)})),this._register(L.addDisposableListener(this.selectElement,L.EventType.KEY_DOWN,n=>{const r=new M.StandardKeyboardEvent(n);let s=!1;i.isMacintosh?(r.keyCode===18||r.keyCode===16||r.keyCode===10||r.keyCode===3)&&(s=!0):(r.keyCode===18&&r.altKey||r.keyCode===16&&r.altKey||r.keyCode===10||r.keyCode===3)&&(s=!0),s&&(this.showSelectDropDown(),L.EventHelper.stop(n,!0))}))}get onDidSelect(){return this._onDidSelect.event}setOptions(n,r){S.equals(this.options,n)||(this.options=n,this.selectElement.options.length=0,this._hasDetails=!1,this.options.forEach((s,o)=>{this.selectElement.add(this.createOption(s.text,o,s.isDisabled)),typeof s.description=="string"&&(this._hasDetails=!0)})),r!==void 0&&(this.select(r),this._currentSelection=this.selected)}setOptionsList(){this.selectList&&this.selectList.splice(0,this.selectList.length,this.options)}select(n){n>=0&&n<this.options.length?this.selected=n:n>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,!!this.options[this.selected]&&!!this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)}setAriaLabel(n){this.selectBoxOptions.ariaLabel=n,this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel)}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(n){this.selectElement.tabIndex=n?0:-1}render(n){this.container=n,n.classList.add("select-container"),n.appendChild(this.selectElement),this.applyStyles()}style(n){const r=[];this.styles=n,this.styles.listFocusBackground&&r.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { background-color: ${this.styles.listFocusBackground} !important; }`),this.styles.listFocusForeground&&r.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { color: ${this.styles.listFocusForeground} !important; }`),this.styles.decoratorRightForeground&&r.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.focused) .option-decorator-right { color: ${this.styles.decoratorRightForeground}; }`),this.styles.selectBackground&&this.styles.selectBorder&&!this.styles.selectBorder.equals(this.styles.selectBackground)?(r.push(`.monaco-select-box-dropdown-container { border: 1px solid ${this.styles.selectBorder} } `),r.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectBorder} } `),r.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectBorder} } `)):this.styles.selectListBorder&&(r.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectListBorder} } `),r.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectListBorder} } `)),this.styles.listHoverForeground&&r.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { color: ${this.styles.listHoverForeground} !important; }`),this.styles.listHoverBackground&&r.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { background-color: ${this.styles.listHoverBackground} !important; }`),this.styles.listFocusOutline&&r.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { outline: 1.6px dotted ${this.styles.listFocusOutline} !important; outline-offset: -1.6px !important; }`),this.styles.listHoverOutline&&r.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { outline: 1.6px dashed ${this.styles.listHoverOutline} !important; outline-offset: -1.6px !important; }`),r.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled.focused { background-color: transparent !important; color: inherit !important; outline: none !important; }"),r.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled:hover { background-color: transparent !important; color: inherit !important; outline: none !important; }"),this.styleElement.textContent=r.join(`
`),this.applyStyles()}applyStyles(){if(this.selectElement){const n=this.styles.selectBackground?this.styles.selectBackground.toString():"",r=this.styles.selectForeground?this.styles.selectForeground.toString():"",s=this.styles.selectBorder?this.styles.selectBorder.toString():"";this.selectElement.style.backgroundColor=n,this.selectElement.style.color=r,this.selectElement.style.borderColor=s}this.selectList&&this.styleList()}styleList(){if(this.selectList){const n=this.styles.selectBackground?this.styles.selectBackground.toString():"";this.selectList.style({});const r=this.styles.selectListBackground?this.styles.selectListBackground.toString():n;this.selectDropDownListContainer.style.backgroundColor=r,this.selectionDetailsPane.style.backgroundColor=r;const s=this.styles.focusBorder?this.styles.focusBorder.toString():"";this.selectDropDownContainer.style.outlineColor=s,this.selectDropDownContainer.style.outlineOffset="-1px"}}createOption(n,r,s){let o=document.createElement("option");return o.value=n,o.text=n,o.disabled=!!s,o}showSelectDropDown(){this.selectionDetailsPane.innerText="",!(!this.contextViewProvider||this._isVisible)&&(this.createSelectList(this.selectDropDownContainer),this.setOptionsList(),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:n=>this.renderSelectDropDown(n,!0),layout:()=>{this.layoutSelectDropDown()},onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._isVisible=!0,this.hideSelectDropDown(!1),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:n=>this.renderSelectDropDown(n),layout:()=>this.layoutSelectDropDown(),onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._currentSelection=this.selected,this._isVisible=!0,this.selectElement.setAttribute("aria-expanded","true"))}hideSelectDropDown(n){!this.contextViewProvider||!this._isVisible||(this._isVisible=!1,this.selectElement.setAttribute("aria-expanded","false"),n&&this.selectElement.focus(),this.contextViewProvider.hideContextView())}renderSelectDropDown(n,r){return n.appendChild(this.selectDropDownContainer),this.layoutSelectDropDown(r),{dispose:()=>{try{n.removeChild(this.selectDropDownContainer)}catch(s){}}}}measureMaxDetailsHeight(){let n=0;return this.options.forEach((r,s)=>{this.updateDetail(s),this.selectionDetailsPane.offsetHeight>n&&(n=this.selectionDetailsPane.offsetHeight)}),n}layoutSelectDropDown(n){if(this._skipLayout)return!1;if(this.selectList){this.selectDropDownContainer.classList.add("visible");const r=L.getDomNodePagePosition(this.selectElement),s=getComputedStyle(this.selectElement),o=parseFloat(s.getPropertyValue("--dropdown-padding-top"))+parseFloat(s.getPropertyValue("--dropdown-padding-bottom")),m=window.innerHeight-r.top-r.height-(this.selectBoxOptions.minBottomMargin||0),_=r.top-d.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN,f=this.selectElement.offsetWidth,c=this.setWidthControlElement(this.widthControlElement),C=Math.max(c,Math.round(f)).toString()+"px";this.selectDropDownContainer.style.width=C,this.selectList.getHTMLElement().style.height="",this.selectList.layout();let y=this.selectList.contentHeight;const w=this._hasDetails?this.measureMaxDetailsHeight():0,D=y+o+w,I=Math.floor((m-o-w)/this.getHeight()),T=Math.floor((_-o-w)/this.getHeight());if(n)return r.top+r.height>window.innerHeight-22||r.top<d.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||I<1&&T<1?!1:(I<d.DEFAULT_MINIMUM_VISIBLE_OPTIONS&&T>I&&this.options.length>I?(this._dropDownPosition=1,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectionDetailsPane.classList.remove("border-top"),this.selectionDetailsPane.classList.add("border-bottom")):(this._dropDownPosition=0,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectionDetailsPane.classList.remove("border-bottom"),this.selectionDetailsPane.classList.add("border-top")),!0);if(r.top+r.height>window.innerHeight-22||r.top<d.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||this._dropDownPosition===0&&I<1||this._dropDownPosition===1&&T<1)return this.hideSelectDropDown(!0),!1;if(this._dropDownPosition===0){if(this._isVisible&&I+T<1)return this.hideSelectDropDown(!0),!1;D>m&&(y=I*this.getHeight())}else D>_&&(y=T*this.getHeight());return this.selectList.layout(y),this.selectList.domFocus(),this.selectList.length>0&&(this.selectList.setFocus([this.selected||0]),this.selectList.reveal(this.selectList.getFocus()[0]||0)),this._hasDetails?(this.selectList.getHTMLElement().style.height=y+o+"px",this.selectDropDownContainer.style.height=""):this.selectDropDownContainer.style.height=y+o+"px",this.updateDetail(this.selected),this.selectDropDownContainer.style.width=C,this.selectDropDownListContainer.setAttribute("tabindex","0"),this.selectElement.classList.add("synthetic-focus"),this.selectDropDownContainer.classList.add("synthetic-focus"),!0}else return!1}setWidthControlElement(n){let r=0;if(n){let s=0,o=0;this.options.forEach((m,_)=>{const f=m.detail?m.detail.length:0,c=m.decoratorRight?m.decoratorRight.length:0,C=m.text.length+f+c;C>o&&(s=_,o=C)}),n.textContent=this.options[s].text+(this.options[s].decoratorRight?this.options[s].decoratorRight+" ":""),r=L.getTotalWidth(n)}return r}createSelectList(n){if(this.selectList)return;this.selectDropDownListContainer=L.append(n,a(".select-box-dropdown-list-container")),this.listRenderer=new h,this.selectList=new g.List("SelectBoxCustom",this.selectDropDownListContainer,this,[this.listRenderer],{useShadows:!1,verticalScrollMode:3,keyboardSupport:!1,mouseSupport:!1,accessibilityProvider:{getAriaLabel:m=>{let _=m.text;return m.detail&&(_+=`. ${m.detail}`),m.decoratorRight&&(_+=`. ${m.decoratorRight}`),m.description&&(_+=`. ${m.description}`),_},getWidgetAriaLabel:()=>(0,t.localize)(0,null),getRole:()=>"option",getWidgetRole:()=>"listbox"}}),this.selectBoxOptions.ariaLabel&&(this.selectList.ariaLabel=this.selectBoxOptions.ariaLabel);const r=this._register(new N.DomEmitter(this.selectDropDownListContainer,"keydown")),s=b.Event.chain(r.event).filter(()=>this.selectList.length>0).map(m=>new M.StandardKeyboardEvent(m));this._register(s.filter(m=>m.keyCode===3).on(m=>this.onEnter(m),this)),this._register(s.filter(m=>m.keyCode===2).on(m=>this.onEnter(m),this)),this._register(s.filter(m=>m.keyCode===9).on(m=>this.onEscape(m),this)),this._register(s.filter(m=>m.keyCode===16).on(m=>this.onUpArrow(m),this)),this._register(s.filter(m=>m.keyCode===18).on(m=>this.onDownArrow(m),this)),this._register(s.filter(m=>m.keyCode===12).on(this.onPageDown,this)),this._register(s.filter(m=>m.keyCode===11).on(this.onPageUp,this)),this._register(s.filter(m=>m.keyCode===14).on(this.onHome,this)),this._register(s.filter(m=>m.keyCode===13).on(this.onEnd,this)),this._register(s.filter(m=>m.keyCode>=21&&m.keyCode<=56||m.keyCode>=80&&m.keyCode<=108).on(this.onCharacter,this));const o=this._register(new N.DomEmitter(this.selectList.getHTMLElement(),"mouseup"));this._register(b.Event.chain(o.event).filter(()=>this.selectList.length>0).on(m=>this.onMouseUp(m),this)),this._register(this.selectList.onMouseOver(m=>typeof m.index!="undefined"&&this.selectList.setFocus([m.index]))),this._register(this.selectList.onDidChangeFocus(m=>this.onListFocus(m))),this._register(L.addDisposableListener(this.selectDropDownContainer,L.EventType.FOCUS_OUT,m=>{!this._isVisible||L.isAncestor(m.relatedTarget,this.selectDropDownContainer)||this.onListBlur()})),this.selectList.getHTMLElement().setAttribute("aria-label",this.selectBoxOptions.ariaLabel||""),this.selectList.getHTMLElement().setAttribute("aria-expanded","true"),this.styleList()}onMouseUp(n){L.EventHelper.stop(n);const r=n.target;if(!r||r.classList.contains("slider"))return;const s=r.closest(".monaco-list-row");if(!s)return;const o=Number(s.getAttribute("data-index")),m=s.classList.contains("option-disabled");o>=0&&o<this.options.length&&!m&&(this.selected=o,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),!!this.options[this.selected]&&!!this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)),this.hideSelectDropDown(!0))}onListBlur(){this._sticky||(this.selected!==this._currentSelection&&this.select(this._currentSelection),this.hideSelectDropDown(!1))}renderDescriptionMarkdown(n,r){const s=m=>{for(let _=0;_<m.childNodes.length;_++){const f=m.childNodes.item(_);(f.tagName&&f.tagName.toLowerCase())==="img"?m.removeChild(f):s(f)}},o=(0,E.renderMarkdown)({value:n},{actionHandler:r});return o.element.classList.add("select-box-description-markdown"),s(o.element),o.element}onListFocus(n){!this._isVisible||!this._hasDetails||this.updateDetail(n.indexes[0])}updateDetail(n){var r,s;this.selectionDetailsPane.innerText="";const o=this.options[n],m=(r=o==null?void 0:o.description)!==null&&r!==void 0?r:"",_=(s=o==null?void 0:o.descriptionIsMarkdown)!==null&&s!==void 0?s:!1;if(m){if(_){const f=o.descriptionMarkdownActionHandler;this.selectionDetailsPane.appendChild(this.renderDescriptionMarkdown(m,f))}else this.selectionDetailsPane.innerText=m;this.selectionDetailsPane.style.display="block"}else this.selectionDetailsPane.style.display="none";this._skipLayout=!0,this.contextViewProvider.layout(),this._skipLayout=!1}onEscape(n){L.EventHelper.stop(n),this.select(this._currentSelection),this.hideSelectDropDown(!0)}onEnter(n){L.EventHelper.stop(n),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),!!this.options[this.selected]&&!!this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)),this.hideSelectDropDown(!0)}onDownArrow(n){if(this.selected<this.options.length-1){L.EventHelper.stop(n,!0);const r=this.options[this.selected+1].isDisabled;if(r&&this.options.length>this.selected+2)this.selected+=2;else{if(r)return;this.selected++}this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}onUpArrow(n){this.selected>0&&(L.EventHelper.stop(n,!0),this.options[this.selected-1].isDisabled&&this.selected>1?this.selected-=2:this.selected--,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]))}onPageUp(n){L.EventHelper.stop(n),this.selectList.focusPreviousPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected<this.options.length-1&&(this.selected++,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onPageDown(n){L.EventHelper.stop(n),this.selectList.focusNextPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected>0&&(this.selected--,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onHome(n){L.EventHelper.stop(n),!(this.options.length<2)&&(this.selected=0,this.options[this.selected].isDisabled&&this.selected>1&&this.selected++,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onEnd(n){L.EventHelper.stop(n),!(this.options.length<2)&&(this.selected=this.options.length-1,this.options[this.selected].isDisabled&&this.selected>1&&this.selected--,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onCharacter(n){const r=p.KeyCodeUtils.toString(n.keyCode);let s=-1;for(let o=0;o<this.options.length-1;o++)if(s=(o+this.selected+1)%this.options.length,this.options[s].text.charAt(0).toUpperCase()===r&&!this.options[s].isDisabled){this.select(s),this.selectList.setFocus([s]),this.selectList.reveal(this.selectList.getFocus()[0]),L.EventHelper.stop(n);break}}dispose(){this.hideSelectDropDown(!1),super.dispose()}}e.SelectBoxList=d,d.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN=32,d.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN=2,d.DEFAULT_MINIMUM_VISIBLE_OPTIONS=3}),define(ee[463],te([0,1,462,320,53,28,34,15,344]),function(Q,e,L,N,M,E,g,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectBox=e.defaultStyles=void 0,e.defaultStyles={selectBackground:E.Color.fromHex("#3C3C3C"),selectForeground:E.Color.fromHex("#F0F0F0"),selectBorder:E.Color.fromHex("#3C3C3C")};class b extends M.Widget{constructor(v,i,t,a=(0,g.deepClone)(e.defaultStyles),l){super();S.isMacintosh&&!(l==null?void 0:l.useCustomDrawn)?this.selectBoxDelegate=new N.SelectBoxNative(v,i,a,l):this.selectBoxDelegate=new L.SelectBoxList(v,i,t,a,l),this._register(this.selectBoxDelegate)}get onDidSelect(){return this.selectBoxDelegate.onDidSelect}setOptions(v,i){this.selectBoxDelegate.setOptions(v,i)}select(v){this.selectBoxDelegate.select(v)}setAriaLabel(v){this.selectBoxDelegate.setAriaLabel(v)}focus(){this.selectBoxDelegate.focus()}blur(){this.selectBoxDelegate.blur()}setFocusable(v){this.selectBoxDelegate.setFocusable(v)}render(v){this.selectBoxDelegate.render(v)}style(v){this.selectBoxDelegate.style(v)}applyStyles(){this.selectBoxDelegate.applyStyles()}}e.SelectBox=b}),define(ee[464],te([5,6]),function(Q,e){return Q.create("vs/base/browser/ui/tree/abstractTree",e)}),define(ee[187],te([0,1,174,7,81,44,175,100,170,95,19,10,27,210,4,72,2,109,15,464,349]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractTree=e.RenderIndentGuides=e.ComposedTreeDelegate=void 0;class s extends g.ElementsDragAndDropData{constructor(B){super(B.elements.map(x=>x.element));this.data=B}set context(B){this.data.context=B}get context(){return this.data.context}}function o(V){return V instanceof g.ElementsDragAndDropData?new s(V):V}class m{constructor(B,x){this.modelProvider=B,this.dnd=x,this.autoExpandDisposable=d.Disposable.None}getDragURI(B){return this.dnd.getDragURI(B.element)}getDragLabel(B,x){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(B.map(K=>K.element),x)}onDragStart(B,x){this.dnd.onDragStart&&this.dnd.onDragStart(o(B),x)}onDragOver(B,x,K,X,Z=!0){const q=this.dnd.onDragOver(o(B),x&&x.element,K,X),H=this.autoExpandNode!==x;if(H&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=x),typeof x=="undefined")return q;if(H&&typeof q!="boolean"&&q.autoExpand&&(this.autoExpandDisposable=(0,i.disposableTimeout)(()=>{const U=this.modelProvider(),Y=U.getNodeLocation(x);U.isCollapsed(Y)&&U.setCollapsed(Y,!1),this.autoExpandNode=void 0},500)),typeof q=="boolean"||!q.accept||typeof q.bubble=="undefined"||q.feedback){if(!Z){const U=typeof q=="boolean"?q:q.accept,Y=typeof q=="boolean"?void 0:q.effect;return{accept:U,effect:Y,feedback:[K]}}return q}if(q.bubble===1){const U=this.modelProvider(),Y=U.getNodeLocation(x),ne=U.getParentNodeLocation(Y),J=U.getNode(ne),re=ne&&U.getListIndex(ne);return this.onDragOver(B,J,re,X,!1)}const G=this.modelProvider(),z=G.getNodeLocation(x),W=G.getListIndex(z),j=G.getListRenderCount(z);return Object.assign(Object.assign({},q),{feedback:(0,v.range)(W,W+j)})}drop(B,x,K,X){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(o(B),x&&x.element,K,X)}onDragEnd(B){this.dnd.onDragEnd&&this.dnd.onDragEnd(B)}}function _(V,B){return B&&Object.assign(Object.assign({},B),{identityProvider:B.identityProvider&&{getId(x){return B.identityProvider.getId(x.element)}},dnd:B.dnd&&new m(V,B.dnd),multipleSelectionController:B.multipleSelectionController&&{isSelectionSingleChangeEvent(x){return B.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},x),{element:x.element}))},isSelectionRangeChangeEvent(x){return B.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},x),{element:x.element}))}},accessibilityProvider:B.accessibilityProvider&&Object.assign(Object.assign({},B.accessibilityProvider),{getSetSize(x){const K=V(),X=K.getNodeLocation(x),Z=K.getParentNodeLocation(X);return K.getNode(Z).visibleChildrenCount},getPosInSet(x){return x.visibleChildIndex+1},isChecked:B.accessibilityProvider&&B.accessibilityProvider.isChecked?x=>B.accessibilityProvider.isChecked(x.element):void 0,getRole:B.accessibilityProvider&&B.accessibilityProvider.getRole?x=>B.accessibilityProvider.getRole(x.element):()=>"treeitem",getAriaLabel(x){return B.accessibilityProvider.getAriaLabel(x.element)},getWidgetAriaLabel(){return B.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:B.accessibilityProvider&&B.accessibilityProvider.getWidgetRole?()=>B.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:B.accessibilityProvider&&B.accessibilityProvider.getAriaLevel?x=>B.accessibilityProvider.getAriaLevel(x.element):x=>x.depth,getActiveDescendantId:B.accessibilityProvider.getActiveDescendantId&&(x=>B.accessibilityProvider.getActiveDescendantId(x.element))}),keyboardNavigationLabelProvider:B.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},B.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(x){return B.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(x.element)}}),enableKeyboardNavigation:B.simpleKeyboardNavigation})}class f{constructor(B){this.delegate=B}getHeight(B){return this.delegate.getHeight(B.element)}getTemplateId(B){return this.delegate.getTemplateId(B.element)}hasDynamicHeight(B){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(B.element)}setDynamicHeight(B,x){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(B.element,x)}}e.ComposedTreeDelegate=f;var c;(function(V){V.None="none",V.OnHover="onHover",V.Always="always"})(c=e.RenderIndentGuides||(e.RenderIndentGuides={}));class C{constructor(B,x=[]){this._elements=x,this.onDidChange=l.Event.forEach(B,K=>this._elements=K)}get elements(){return this._elements}}class y{constructor(B,x,K,X,Z={}){this.renderer=B,this.modelProvider=x,this.activeNodes=X,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=y.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new a.SetMap,this.activeIndentNodes=new Set,this.indentGuidesDisposable=d.Disposable.None,this.disposables=new d.DisposableStore,this.templateId=B.templateId,this.updateOptions(Z),l.Event.map(K,q=>q.node)(this.onDidChangeNodeTwistieState,this,this.disposables),B.onDidChangeTwistieState&&B.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}updateOptions(B={}){if(typeof B.indent!="undefined"&&(this.indent=(0,u.clamp)(B.indent,0,40)),typeof B.renderIndentGuides!="undefined"){const x=B.renderIndentGuides!==c.None;if(x!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=x,this.indentGuidesDisposable.dispose(),x)){const K=new d.DisposableStore;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,K),this.indentGuidesDisposable=K,this._onDidChangeActiveNodes(this.activeNodes.elements)}}typeof B.hideTwistiesOfChildlessElements!="undefined"&&(this.hideTwistiesOfChildlessElements=B.hideTwistiesOfChildlessElements)}renderTemplate(B){const x=(0,N.append)(B,(0,N.$)(".monaco-tl-row")),K=(0,N.append)(x,(0,N.$)(".monaco-tl-indent")),X=(0,N.append)(x,(0,N.$)(".monaco-tl-twistie")),Z=(0,N.append)(x,(0,N.$)(".monaco-tl-contents")),q=this.renderer.renderTemplate(Z);return{container:B,indent:K,twistie:X,indentGuidesDisposable:d.Disposable.None,templateData:q}}renderElement(B,x,K,X){typeof X=="number"&&(this.renderedNodes.set(B,{templateData:K,height:X}),this.renderedElements.set(B.element,B));const Z=y.DefaultIndent+(B.depth-1)*this.indent;K.twistie.style.paddingLeft=`${Z}px`,K.indent.style.width=`${Z+this.indent-16}px`,this.renderTwistie(B,K),typeof X=="number"&&this.renderIndentGuides(B,K),this.renderer.renderElement(B,x,K.templateData,X)}disposeElement(B,x,K,X){K.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(B,x,K.templateData,X),typeof X=="number"&&(this.renderedNodes.delete(B),this.renderedElements.delete(B.element))}disposeTemplate(B){this.renderer.disposeTemplate(B.templateData)}onDidChangeTwistieState(B){const x=this.renderedElements.get(B);!x||this.onDidChangeNodeTwistieState(x)}onDidChangeNodeTwistieState(B){const x=this.renderedNodes.get(B);!x||(this.renderTwistie(B,x.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(B,x.templateData))}renderTwistie(B,x){x.twistie.classList.remove(...t.Codicon.treeItemExpanded.classNamesArray);let K=!1;this.renderer.renderTwistie&&(K=this.renderer.renderTwistie(B.element,x.twistie)),B.collapsible&&(!this.hideTwistiesOfChildlessElements||B.visibleChildrenCount>0)?(K||x.twistie.classList.add(...t.Codicon.treeItemExpanded.classNamesArray),x.twistie.classList.add("collapsible"),x.twistie.classList.toggle("collapsed",B.collapsed)):x.twistie.classList.remove("collapsible","collapsed"),B.collapsible?x.container.setAttribute("aria-expanded",String(!B.collapsed)):x.container.removeAttribute("aria-expanded")}renderIndentGuides(B,x){if((0,N.clearNode)(x.indent),x.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const K=new d.DisposableStore,X=this.modelProvider();let Z=B;for(;;){const q=X.getNodeLocation(Z),H=X.getParentNodeLocation(q);if(!H)break;const G=X.getNode(H),z=(0,N.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(G)&&z.classList.add("active"),x.indent.childElementCount===0?x.indent.appendChild(z):x.indent.insertBefore(z,x.indent.firstElementChild),this.renderedIndentGuides.add(G,z),K.add((0,d.toDisposable)(()=>this.renderedIndentGuides.delete(G,z))),Z=G}x.indentGuidesDisposable=K}_onDidChangeActiveNodes(B){if(!this.shouldRenderIndentGuides)return;const x=new Set,K=this.modelProvider();B.forEach(X=>{const Z=K.getNodeLocation(X);try{const q=K.getParentNodeLocation(Z);X.collapsible&&X.children.length>0&&!X.collapsed?x.add(X):q&&x.add(K.getNode(q))}catch(q){}}),this.activeIndentNodes.forEach(X=>{x.has(X)||this.renderedIndentGuides.forEach(X,Z=>Z.classList.remove("active"))}),x.forEach(X=>{this.activeIndentNodes.has(X)||this.renderedIndentGuides.forEach(X,Z=>Z.classList.add("active"))}),this.activeIndentNodes=x}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,d.dispose)(this.disposables)}}y.DefaultIndent=8;class w{constructor(B,x,K){this.tree=B,this.keyboardNavigationLabelProvider=x,this._filter=K,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new d.DisposableStore,B.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}set pattern(B){this._pattern=B,this._lowercasePattern=B.toLowerCase()}filter(B,x){if(this._filter){const Z=this._filter.filter(B,x);if(this.tree.options.simpleKeyboardNavigation)return Z;let q;if(typeof Z=="boolean"?q=Z?1:0:(0,b.isFilterResult)(Z)?q=(0,b.getVisibleState)(Z.visibility):q=Z,q===0)return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:h.FuzzyScore.Default,visibility:!0};const K=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(B),X=Array.isArray(K)?K:[K];for(const Z of X){const q=Z&&Z.toString();if(typeof q=="undefined")return{data:h.FuzzyScore.Default,visibility:!0};const H=(0,h.fuzzyScore)(this._pattern,this._lowercasePattern,0,q,q.toLowerCase(),0,!0);if(H)return this._matchCount++,X.length===1?{data:H,visibility:!0}:{data:{label:q,score:H},visibility:!0}}return this.tree.options.filterOnType?2:{data:h.FuzzyScore.Default,visibility:!0}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,d.dispose)(this.disposables)}}class D{constructor(B,x,K,X,Z){this.tree=B,this.view=K,this.filter=X,this.keyboardNavigationDelegate=Z,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new l.Emitter,this.onDidChangeEmptyState=l.Event.latch(this._onDidChangeEmptyState.event),this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new l.Emitter,this.onDidChangePattern=this._onDidChangePattern.event,this.enabledDisposables=new d.DisposableStore,this.disposables=new d.DisposableStore,this.domNode=(0,N.$)(`.monaco-list-type-filter.${this.positionClassName}`),this.domNode.draggable=!0,this.disposables.add((0,N.addDisposableListener)(this.domNode,"dragstart",()=>this.onDragStart())),this.messageDomNode=(0,N.append)(K.getHTMLElement(),(0,N.$)(".monaco-list-type-filter-message")),this.labelDomNode=(0,N.append)(this.domNode,(0,N.$)("span.label"));const q=(0,N.append)(this.domNode,(0,N.$)(".controls"));this._filterOnType=!!B.options.filterOnType,this.filterOnTypeDomNode=(0,N.append)(q,(0,N.$)("input.filter")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitleAndIcon(),this.disposables.add((0,N.addDisposableListener)(this.filterOnTypeDomNode,"input",()=>this.onDidChangeFilterOnType())),this.clearDomNode=(0,N.append)(q,(0,N.$)("button.clear"+t.Codicon.treeFilterClear.cssSelector)),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=(0,r.localize)(0,null),this.keyboardNavigationEventFilter=B.options.keyboardNavigationEventFilter,x.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(B.options)}get enabled(){return this._enabled}get pattern(){return this._pattern}get filterOnType(){return this._filterOnType}get empty(){return this._empty}updateOptions(B){B.simpleKeyboardNavigation?this.disable():this.enable(),typeof B.filterOnType!="undefined"&&(this._filterOnType=!!B.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType,this.updateFilterOnTypeTitleAndIcon()),typeof B.automaticKeyboardNavigation!="undefined"&&(this.automaticKeyboardNavigation=B.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")}toggle(){this.triggered=!this.triggered,this.triggered||this.onEventOrInput("")}enable(){if(this._enabled)return;const B=this.enabledDisposables.add(new M.DomEmitter(this.view.getHTMLElement(),"keydown")),x=l.Event.chain(B.event).filter(X=>!(0,S.isInputElement)(X.target)||X.target===this.filterOnTypeDomNode).filter(X=>X.key!=="Dead"&&!/^Media/.test(X.key)).map(X=>new E.StandardKeyboardEvent(X)).filter(this.keyboardNavigationEventFilter||(()=>!0)).filter(()=>this.automaticKeyboardNavigation||this.triggered).filter(X=>this.keyboardNavigationDelegate.mightProducePrintableCharacter(X)&&!(X.keyCode===18||X.keyCode===16||X.keyCode===15||X.keyCode===17)||(this.pattern.length>0||this.triggered)&&(X.keyCode===9||X.keyCode===1)&&!X.altKey&&!X.ctrlKey&&!X.metaKey||X.keyCode===1&&(n.isMacintosh?X.altKey&&!X.metaKey:X.ctrlKey)&&!X.shiftKey).forEach(X=>{X.stopPropagation(),X.preventDefault()}).event,K=this.enabledDisposables.add(new M.DomEmitter(this.clearDomNode,"click"));l.Event.chain(l.Event.any(x,K.event)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}disable(){!this._enabled||(this.domNode.remove(),this.enabledDisposables.clear(),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)}onEventOrInput(B){typeof B=="string"?this.onInput(B):B instanceof MouseEvent||B.keyCode===9||B.keyCode===1&&(n.isMacintosh?B.altKey:B.ctrlKey)?this.onInput(""):B.keyCode===1?this.onInput(this.pattern.length===0?"":this.pattern.substr(0,this.pattern.length-1)):this.onInput(this.pattern+B.browserEvent.key)}onInput(B){const x=this.view.getHTMLElement();B&&!this.domNode.parentElement?x.append(this.domNode):!B&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=B,this._onDidChangePattern.fire(B),this.filter.pattern=B,this.tree.refilter(),B&&this.tree.focusNext(0,!0,void 0,X=>!h.FuzzyScore.isDefault(X.filterData));const K=this.tree.getFocus();if(K.length>0){const X=K[0];this.tree.getRelativeTop(X)===null&&this.tree.reveal(X,.5)}this.render(),B||(this.triggered=!1)}onDragStart(){const B=this.view.getHTMLElement(),{left:x}=(0,N.getDomNodePagePosition)(B),K=B.clientWidth,X=K/2,Z=this.domNode.clientWidth,q=new d.DisposableStore;let H=this.positionClassName;const G=()=>{switch(H){case"nw":this.domNode.style.top="4px",this.domNode.style.left="4px";break;case"ne":this.domNode.style.top="4px",this.domNode.style.left=`${K-Z-6}px`;break}},z=j=>{j.preventDefault();const U=j.clientX-x;j.dataTransfer&&(j.dataTransfer.dropEffect="none"),U<X?H="nw":H="ne",G()},W=()=>{this.positionClassName=H,this.domNode.className=`monaco-list-type-filter ${this.positionClassName}`,this.domNode.style.top="",this.domNode.style.left="",(0,d.dispose)(q)};G(),this.domNode.classList.remove(H),this.domNode.classList.add("dragging"),q.add((0,d.toDisposable)(()=>this.domNode.classList.remove("dragging"))),q.add((0,N.addDisposableListener)(document,"dragover",j=>z(j))),q.add((0,N.addDisposableListener)(this.domNode,"dragend",()=>W())),L.StaticDND.CurrentDragAndDropData=new L.DragAndDropData("vscode-ui"),q.add((0,d.toDisposable)(()=>L.StaticDND.CurrentDragAndDropData=void 0))}onDidSpliceModel(){!this._enabled||this.pattern.length===0||(this.tree.refilter(),this.render())}onDidChangeFilterOnType(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitleAndIcon()}updateFilterOnTypeTitleAndIcon(){this.filterOnType?(this.filterOnTypeDomNode.classList.remove(...t.Codicon.treeFilterOnTypeOff.classNamesArray),this.filterOnTypeDomNode.classList.add(...t.Codicon.treeFilterOnTypeOn.classNamesArray),this.filterOnTypeDomNode.title=(0,r.localize)(1,null)):(this.filterOnTypeDomNode.classList.remove(...t.Codicon.treeFilterOnTypeOn.classNamesArray),this.filterOnTypeDomNode.classList.add(...t.Codicon.treeFilterOnTypeOff.classNamesArray),this.filterOnTypeDomNode.title=(0,r.localize)(2,null))}render(){const B=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&this.tree.options.filterOnType&&B?(this.messageDomNode.textContent=(0,r.localize)(3,null),this._empty=!0):(this.messageDomNode.innerText="",this._empty=!1),this.domNode.classList.toggle("no-matches",B),this.domNode.title=(0,r.localize)(4,null,this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?"\u2026"+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)}shouldAllowFocus(B){return!this.enabled||!this.pattern||this.filterOnType||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!h.FuzzyScore.isDefault(B.filterData)}dispose(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.dispose(),this._enabled=!1,this.triggered=!1),this._onDidChangePattern.dispose(),(0,d.dispose)(this.disposables)}}function I(V){let B=p.TreeMouseEventTarget.Unknown;return(0,N.hasParentWithClass)(V.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?B=p.TreeMouseEventTarget.Twistie:(0,N.hasParentWithClass)(V.browserEvent.target,"monaco-tl-contents","monaco-tl-row")&&(B=p.TreeMouseEventTarget.Element),{browserEvent:V.browserEvent,element:V.element?V.element.element:null,target:B}}function T(V){return{element:V.element?V.element.element:null,browserEvent:V.browserEvent,anchor:V.anchor}}function F(V,B){B(V),V.children.forEach(x=>F(x,B))}class P{constructor(B,x){this.getFirstViewElementWithTrait=B,this.identityProvider=x,this.nodes=[],this._onDidChange=new l.Emitter,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(B,x){var K;!((K=x)===null||K===void 0?void 0:K.__forceEvent)&&(0,v.equals)(this.nodes,B)||this._set(B,!1,x)}_set(B,x,K){if(this.nodes=[...B],this.elements=void 0,this._nodeSet=void 0,!x){const X=this;this._onDidChange.fire({get elements(){return X.get()},browserEvent:K})}}get(){return this.elements||(this.elements=this.nodes.map(B=>B.element)),[...this.elements]}getNodes(){return this.nodes}has(B){return this.nodeSet.has(B)}onDidModelSplice({insertedNodes:B,deletedNodes:x}){if(!this.identityProvider){const G=this.createNodeSet(),z=W=>G.delete(W);x.forEach(W=>F(W,z)),this.set([...G.values()]);return}const K=new Set,X=G=>K.add(this.identityProvider.getId(G.element).toString());x.forEach(G=>F(G,X));const Z=new Map,q=G=>Z.set(this.identityProvider.getId(G.element).toString(),G);B.forEach(G=>F(G,q));const H=[];for(const G of this.nodes){const z=this.identityProvider.getId(G.element).toString();if(!K.has(z))H.push(G);else{const j=Z.get(z);j&&H.push(j)}}if(this.nodes.length>0&&H.length===0){const G=this.getFirstViewElementWithTrait();G&&H.push(G)}this._set(H,!0)}createNodeSet(){const B=new Set;for(const x of this.nodes)B.add(x);return B}}class R extends S.MouseController{constructor(B,x){super(B);this.tree=x}onViewPointer(B){if((0,S.isInputElement)(B.browserEvent.target)||(0,S.isMonacoEditor)(B.browserEvent.target))return;const x=B.element;if(!x)return super.onViewPointer(B);if(this.isSelectionRangeChangeEvent(B)||this.isSelectionSingleChangeEvent(B))return super.onViewPointer(B);const K=B.browserEvent.target,X=K.classList.contains("monaco-tl-twistie")||K.classList.contains("monaco-icon-label")&&K.classList.contains("folder-icon")&&B.browserEvent.offsetX<16;let Z=!1;if(typeof this.tree.expandOnlyOnTwistieClick=="function"?Z=this.tree.expandOnlyOnTwistieClick(x.element):Z=!!this.tree.expandOnlyOnTwistieClick,Z&&!X&&B.browserEvent.detail!==2)return super.onViewPointer(B);if(!this.tree.expandOnDoubleClick&&B.browserEvent.detail===2)return super.onViewPointer(B);if(x.collapsible){const q=this.tree.model,H=q.getNodeLocation(x),G=B.browserEvent.altKey;if(this.tree.setFocus([H]),q.setCollapsed(H,void 0,G),Z&&X)return}super.onViewPointer(B)}onDoubleClick(B){B.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||super.onDoubleClick(B)}}class A extends S.List{constructor(B,x,K,X,Z,q,H,G){super(B,x,K,X,G);this.focusTrait=Z,this.selectionTrait=q,this.anchorTrait=H}createMouseController(B){return new R(this,B.tree)}splice(B,x,K=[]){if(super.splice(B,x,K),K.length===0)return;const X=[],Z=[];let q;K.forEach((H,G)=>{this.focusTrait.has(H)&&X.push(B+G),this.selectionTrait.has(H)&&Z.push(B+G),this.anchorTrait.has(H)&&(q=B+G)}),X.length>0&&super.setFocus((0,v.distinct)([...super.getFocus(),...X])),Z.length>0&&super.setSelection((0,v.distinct)([...super.getSelection(),...Z])),typeof q=="number"&&super.setAnchor(q)}setFocus(B,x,K=!1){super.setFocus(B,x),K||this.focusTrait.set(B.map(X=>this.element(X)),x)}setSelection(B,x,K=!1){super.setSelection(B,x),K||this.selectionTrait.set(B.map(X=>this.element(X)),x)}setAnchor(B,x=!1){super.setAnchor(B),x||(typeof B=="undefined"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(B)]))}}class O{constructor(B,x,K,X,Z={}){this._options=Z,this.eventBufferer=new l.EventBufferer,this.disposables=new d.DisposableStore,this._onWillRefilter=new l.Emitter,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new l.Emitter,this.onDidUpdateOptions=this._onDidUpdateOptions.event;const q=new f(K),H=new l.Relay,G=new l.Relay,z=new C(G.event);this.renderers=X.map(U=>new y(U,()=>this.model,H.event,z,Z));for(let U of this.renderers)this.disposables.add(U);let W;Z.keyboardNavigationLabelProvider&&(W=new w(this,Z.keyboardNavigationLabelProvider,Z.filter),Z=Object.assign(Object.assign({},Z),{filter:W}),this.disposables.add(W)),this.focus=new P(()=>this.view.getFocusedElements()[0],Z.identityProvider),this.selection=new P(()=>this.view.getSelectedElements()[0],Z.identityProvider),this.anchor=new P(()=>this.view.getAnchorElement(),Z.identityProvider),this.view=new A(B,x,q,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},_(()=>this.model,Z)),{tree:this})),this.model=this.createModel(B,this.view,Z),H.input=this.model.onDidChangeCollapseState;const j=l.Event.forEach(this.model.onDidSplice,U=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(U),this.selection.onDidModelSplice(U)})});if(j(()=>null,null,this.disposables),G.input=l.Event.chain(l.Event.any(j,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const U=new Set;for(const Y of this.focus.getNodes())U.add(Y);for(const Y of this.selection.getNodes())U.add(Y);return[...U.values()]}).event,Z.keyboardSupport!==!1){const U=l.Event.chain(this.view.onKeyDown).filter(Y=>!(0,S.isInputElement)(Y.target)).map(Y=>new E.StandardKeyboardEvent(Y));U.filter(Y=>Y.keyCode===15).on(this.onLeftArrow,this,this.disposables),U.filter(Y=>Y.keyCode===17).on(this.onRightArrow,this,this.disposables),U.filter(Y=>Y.keyCode===10).on(this.onSpace,this,this.disposables)}if(Z.keyboardNavigationLabelProvider){const U=Z.keyboardNavigationDelegate||S.DefaultKeyboardNavigationDelegate;this.typeFilterController=new D(this,this.model,this.view,W,U),this.focusNavigationFilter=Y=>this.typeFilterController.shouldAllowFocus(Y),this.disposables.add(this.typeFilterController)}this.styleElement=(0,N.createStyleSheet)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===c.Always)}get onDidScroll(){return this.view.onDidScroll}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseClick(){return l.Event.map(this.view.onMouseClick,I)}get onMouseDblClick(){return l.Event.map(this.view.onMouseDblClick,I)}get onContextMenu(){return l.Event.map(this.view.onContextMenu,T)}get onTap(){return l.Event.map(this.view.onTap,I)}get onPointer(){return l.Event.map(this.view.onPointer,I)}get onKeyDown(){return this.view.onKeyDown}get onKeyUp(){return this.view.onKeyUp}get onKeyPress(){return this.view.onKeyPress}get onDidFocus(){return this.view.onDidFocus}get onDidBlur(){return this.view.onDidBlur}get onDidChangeModel(){return l.Event.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}get filterOnType(){return!!this._options.filterOnType}get onDidChangeTypeFilterPattern(){return this.typeFilterController?this.typeFilterController.onDidChangePattern:l.Event.None}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick=="undefined"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick=="undefined"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(B={}){this._options=Object.assign(Object.assign({},this._options),B);for(const x of this.renderers)x.updateOptions(B);this.view.updateOptions(Object.assign(Object.assign({},this._options),{enableKeyboardNavigation:this._options.simpleKeyboardNavigation})),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===c.Always)}get options(){return this._options}updateWidth(B){const x=this.model.getListIndex(B);x!==-1&&this.view.updateWidth(x)}getHTMLElement(){return this.view.getHTMLElement()}get contentHeight(){return this.typeFilterController&&this.typeFilterController.filterOnType&&this.typeFilterController.empty?100:this.view.contentHeight}get onDidChangeContentHeight(){let B=this.view.onDidChangeContentHeight;return this.typeFilterController&&(B=l.Event.any(B,l.Event.map(this.typeFilterController.onDidChangeEmptyState,()=>this.contentHeight))),B}get scrollTop(){return this.view.scrollTop}set scrollTop(B){this.view.scrollTop=B}get scrollLeft(){return this.view.scrollLeft}set scrollLeft(B){this.view.scrollLeft=B}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get firstVisibleElement(){const B=this.view.firstVisibleIndex;return B<0||B>=this.view.length?void 0:this.view.element(B).element}get lastVisibleElement(){const B=this.view.lastVisibleIndex;return this.view.element(B).element}get ariaLabel(){return this.view.ariaLabel}set ariaLabel(B){this.view.ariaLabel=B}domFocus(){this.view.domFocus()}isDOMFocused(){return this.getHTMLElement()===document.activeElement}layout(B,x){this.view.layout(B,x)}style(B){const x=`.${this.view.domId}`,K=[];B.treeIndentGuidesStroke&&(K.push(`.monaco-list${x}:hover .monaco-tl-indent > .indent-guide, .monaco-list${x}.always .monaco-tl-indent > .indent-guide  { border-color: ${B.treeIndentGuidesStroke.transparent(.4)}; }`),K.push(`.monaco-list${x} .monaco-tl-indent > .indent-guide.active { border-color: ${B.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=K.join(`
`),this.view.style(B)}getParentElement(B){const x=this.model.getParentNodeLocation(B);return this.model.getNode(x).element}getFirstElementChild(B){return this.model.getFirstElementChild(B)}getNode(B){return this.model.getNode(B)}collapse(B,x=!1){return this.model.setCollapsed(B,!0,x)}expand(B,x=!1){return this.model.setCollapsed(B,!1,x)}toggleCollapsed(B,x=!1){return this.model.setCollapsed(B,void 0,x)}expandAll(){this.model.setCollapsed(this.model.rootRef,!1,!0)}collapseAll(){this.model.setCollapsed(this.model.rootRef,!0,!0)}isCollapsible(B){return this.model.isCollapsible(B)}setCollapsible(B,x){return this.model.setCollapsible(B,x)}isCollapsed(B){return this.model.isCollapsed(B)}toggleKeyboardNavigation(){this.view.toggleKeyboardNavigation(),this.typeFilterController&&this.typeFilterController.toggle()}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setAnchor(B){if(typeof B=="undefined")return this.view.setAnchor(void 0);const x=this.model.getNode(B);this.anchor.set([x]);const K=this.model.getListIndex(B);K>-1&&this.view.setAnchor(K,!0)}getAnchor(){return(0,v.firstOrDefault)(this.anchor.get(),void 0)}setSelection(B,x){const K=B.map(Z=>this.model.getNode(Z));this.selection.set(K,x);const X=B.map(Z=>this.model.getListIndex(Z)).filter(Z=>Z>-1);this.view.setSelection(X,x,!0)}getSelection(){return this.selection.get()}setFocus(B,x){const K=B.map(Z=>this.model.getNode(Z));this.focus.set(K,x);const X=B.map(Z=>this.model.getListIndex(Z)).filter(Z=>Z>-1);this.view.setFocus(X,x,!0)}focusNext(B=1,x=!1,K,X=this.focusNavigationFilter){this.view.focusNext(B,x,K,X)}focusPrevious(B=1,x=!1,K,X=this.focusNavigationFilter){this.view.focusPrevious(B,x,K,X)}focusNextPage(B,x=this.focusNavigationFilter){return this.view.focusNextPage(B,x)}focusPreviousPage(B,x=this.focusNavigationFilter){return this.view.focusPreviousPage(B,x)}focusLast(B,x=this.focusNavigationFilter){this.view.focusLast(B,x)}focusFirst(B,x=this.focusNavigationFilter){this.view.focusFirst(B,x)}getFocus(){return this.focus.get()}reveal(B,x){this.model.expandTo(B);const K=this.model.getListIndex(B);K!==-1&&this.view.reveal(K,x)}getRelativeTop(B){const x=this.model.getListIndex(B);return x===-1?null:this.view.getRelativeTop(x)}onLeftArrow(B){B.preventDefault(),B.stopPropagation();const x=this.view.getFocusedElements();if(x.length===0)return;const K=x[0],X=this.model.getNodeLocation(K);if(!this.model.setCollapsed(X,!0)){const q=this.model.getParentNodeLocation(X);if(!q)return;const H=this.model.getListIndex(q);this.view.reveal(H),this.view.setFocus([H])}}onRightArrow(B){B.preventDefault(),B.stopPropagation();const x=this.view.getFocusedElements();if(x.length===0)return;const K=x[0],X=this.model.getNodeLocation(K);if(!this.model.setCollapsed(X,!1)){if(!K.children.some(G=>G.visible))return;const[q]=this.view.getFocus(),H=q+1;this.view.reveal(H),this.view.setFocus([H])}}onSpace(B){B.preventDefault(),B.stopPropagation();const x=this.view.getFocusedElements();if(x.length===0)return;const K=x[0],X=this.model.getNodeLocation(K),Z=B.browserEvent.altKey;this.model.setCollapsed(X,void 0,Z)}navigate(B){return new k(this.view,this.model,B)}dispose(){(0,d.dispose)(this.disposables),this.view.dispose()}}e.AbstractTree=O;class k{constructor(B,x,K){this.view=B,this.model=x,K?this.index=this.model.getListIndex(K):this.index=-1}current(){return this.index<0||this.index>=this.view.length?null:this.view.element(this.index).element}previous(){return this.index--,this.current()}next(){return this.index++,this.current()}first(){return this.index=0,this.current()}last(){return this.index=this.view.length-1,this.current()}}}),define(ee[465],te([0,1,187,171,95,55]),function(Q,e,L,N,M,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataTree=void 0;class g extends L.AbstractTree{constructor(b,p,v,i,t,a={}){super(b,p,v,i,a);this.user=b,this.dataSource=t,this.nodesByIdentity=new Map,this.identityProvider=a.identityProvider}getInput(){return this.input}setInput(b,p){if(p&&!this.identityProvider)throw new M.TreeError(this.user,"Can't restore tree view state without an identity provider");if(this.input=b,!b){this.nodesByIdentity.clear(),this.model.setChildren(null,E.Iterable.empty());return}if(!p){this._refresh(b);return}const v=[],i=[],t=l=>{const h=this.identityProvider.getId(l).toString();return p.expanded.indexOf(h)===-1},a=l=>{const h=this.identityProvider.getId(l.element).toString();p.focus.indexOf(h)>-1&&v.push(l.element),p.selection.indexOf(h)>-1&&i.push(l.element)};this._refresh(b,t,a),this.setFocus(v),this.setSelection(i),p&&typeof p.scrollTop=="number"&&(this.scrollTop=p.scrollTop)}updateChildren(b=this.input){if(typeof this.input=="undefined")throw new M.TreeError(this.user,"Tree input not set");let p;this.identityProvider&&(p=v=>{const i=this.identityProvider.getId(v).toString(),t=this.nodesByIdentity.get(i);if(!!t)return t.collapsed}),this._refresh(b,p)}resort(b=this.input,p=!0){this.model.resort(b===this.input?null:b,p)}refresh(b){if(b===void 0){this.view.rerender();return}this.model.rerender(b)}_refresh(b,p,v){let i;if(this.identityProvider){const t=new Set,a=v;v=l=>{const h=this.identityProvider.getId(l.element).toString();t.add(h),this.nodesByIdentity.set(h,l),a&&a(l)},i=l=>{const h=this.identityProvider.getId(l.element).toString();t.has(h)||this.nodesByIdentity.delete(h)}}this.model.setChildren(b===this.input?null:b,this.iterate(b,p).elements,{onDidCreateNode:v,onDidDeleteNode:i})}iterate(b,p){const v=[...this.dataSource.getChildren(b)];return{elements:E.Iterable.map(v,t=>{const{elements:a,size:l}=this.iterate(t,p),h=this.dataSource.hasChildren?this.dataSource.hasChildren(t):void 0,d=l===0?void 0:p&&p(t);return{element:t,children:a,collapsible:h,collapsed:d}}),size:v.length}}createModel(b,p,v){return new N.ObjectTreeModel(b,p,v)}getViewState(){if(!this.identityProvider)throw new M.TreeError(this.user,"Can't get tree view state without an identity provider");const b=l=>this.identityProvider.getId(l).toString(),p=this.getFocus().map(b),v=this.getSelection().map(b),i=[],t=this.model.getNode(),a=[t];for(;a.length>0;){const l=a.shift();l!==t&&l.collapsible&&!l.collapsed&&i.push(b(l.element)),a.push(...l.children)}return{focus:p,selection:v,expanded:i,scrollTop:this.scrollTop}}}e.DataTree=g}),define(ee[255],te([0,1,187,315,171,96,55]),function(Q,e,L,N,M,E,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTree=e.ObjectTree=void 0;class S extends L.AbstractTree{constructor(t,a,l,h,d={}){super(t,a,l,h,d)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(t,a=g.Iterable.empty(),l){this.model.setChildren(t,a,l)}rerender(t){if(t===void 0){this.view.rerender();return}this.model.rerender(t)}updateElementHeight(t,a){this.model.updateElementHeight(t,a)}resort(t,a=!0){this.model.resort(t,a)}hasElement(t){return this.model.has(t)}createModel(t,a,l){return new M.ObjectTreeModel(t,a,l)}}e.ObjectTree=S;class b{constructor(t,a){this._compressedTreeNodeProvider=t,this.renderer=a,this.templateId=a.templateId,a.onDidChangeTwistieState&&(this.onDidChangeTwistieState=a.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(t){const a=this.renderer.renderTemplate(t);return{compressedTreeNode:void 0,data:a}}renderElement(t,a,l,h){const d=this.compressedTreeNodeProvider.getCompressedTreeNode(t.element);d.element.elements.length===1?(l.compressedTreeNode=void 0,this.renderer.renderElement(t,a,l.data,h)):(l.compressedTreeNode=d,this.renderer.renderCompressedElements(d,a,l.data,h))}disposeElement(t,a,l,h){l.compressedTreeNode?this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(l.compressedTreeNode,a,l.data,h):this.renderer.disposeElement&&this.renderer.disposeElement(t,a,l.data,h)}disposeTemplate(t){this.renderer.disposeTemplate(t.data)}renderTwistie(t,a){return this.renderer.renderTwistie?this.renderer.renderTwistie(t,a):!1}}Ve([E.memoize],b.prototype,"compressedTreeNodeProvider",null);function p(i,t){return t&&Object.assign(Object.assign({},t),{keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(a){let l;try{l=i().getCompressedTreeNode(a)}catch(h){return t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(a)}return l.element.elements.length===1?t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(a):t.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(l.element.elements)}}})}class v extends S{constructor(t,a,l,h,d={}){const u=()=>this,n=h.map(r=>new b(u,r));super(t,a,l,n,p(u,d))}setChildren(t,a=g.Iterable.empty(),l){this.model.setChildren(t,a,l)}createModel(t,a,l){return new N.CompressibleObjectTreeModel(t,a,l)}updateOptions(t={}){super.updateOptions(t),typeof t.compressionEnabled!="undefined"&&this.model.setCompressionEnabled(t.compressionEnabled)}getCompressedTreeNode(t=null){return this.model.getCompressedTreeNode(t)}}e.CompressibleObjectTree=v}),define(ee[466],te([0,1,175,187,170,255,95,10,27,12,4,55,2]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleAsyncDataTree=e.AsyncDataTree=void 0;function a(F){return Object.assign(Object.assign({},F),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function l(F,P){return P.parent?P.parent===F?!0:l(F,P.parent):!1}function h(F,P){return F===P||l(F,P)||l(P,F)}class d{constructor(P){this.node=P}get element(){return this.node.element.element}get children(){return this.node.children.map(P=>new d(P))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class u{constructor(P,R,A){this.renderer=P,this.nodeMapper=R,this.onDidChangeTwistieState=A,this.renderedNodes=new Map,this.templateId=P.templateId}renderTemplate(P){return{templateData:this.renderer.renderTemplate(P)}}renderElement(P,R,A,O){this.renderer.renderElement(this.nodeMapper.map(P),R,A.templateData,O)}renderTwistie(P,R){return P.slow?(R.classList.add(...b.Codicon.treeItemLoading.classNamesArray),!0):(R.classList.remove(...b.Codicon.treeItemLoading.classNamesArray),!1)}disposeElement(P,R,A,O){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(P),R,A.templateData,O)}disposeTemplate(P){this.renderer.disposeTemplate(P.templateData)}dispose(){this.renderedNodes.clear()}}function n(F){return{browserEvent:F.browserEvent,elements:F.elements.map(P=>P.element)}}function r(F){return{browserEvent:F.browserEvent,element:F.element&&F.element.element,target:F.target}}function s(F){return{browserEvent:F.browserEvent,element:F.element&&F.element.element,anchor:F.anchor}}class o extends L.ElementsDragAndDropData{constructor(P){super(P.elements.map(R=>R.element));this.data=P}set context(P){this.data.context=P}get context(){return this.data.context}}function m(F){return F instanceof L.ElementsDragAndDropData?new o(F):F}class _{constructor(P){this.dnd=P}getDragURI(P){return this.dnd.getDragURI(P.element)}getDragLabel(P,R){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(P.map(A=>A.element),R)}onDragStart(P,R){this.dnd.onDragStart&&this.dnd.onDragStart(m(P),R)}onDragOver(P,R,A,O,k=!0){return this.dnd.onDragOver(m(P),R&&R.element,A,O)}drop(P,R,A,O){this.dnd.drop(m(P),R&&R.element,A,O)}onDragEnd(P){this.dnd.onDragEnd&&this.dnd.onDragEnd(P)}}function f(F){return F&&Object.assign(Object.assign({},F),{collapseByDefault:!0,identityProvider:F.identityProvider&&{getId(P){return F.identityProvider.getId(P.element)}},dnd:F.dnd&&new _(F.dnd),multipleSelectionController:F.multipleSelectionController&&{isSelectionSingleChangeEvent(P){return F.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},P),{element:P.element}))},isSelectionRangeChangeEvent(P){return F.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},P),{element:P.element}))}},accessibilityProvider:F.accessibilityProvider&&Object.assign(Object.assign({},F.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:F.accessibilityProvider.getRole?P=>F.accessibilityProvider.getRole(P.element):()=>"treeitem",isChecked:F.accessibilityProvider.isChecked?P=>{var R;return!!((R=F.accessibilityProvider)===null||R===void 0?void 0:R.isChecked(P.element))}:void 0,getAriaLabel(P){return F.accessibilityProvider.getAriaLabel(P.element)},getWidgetAriaLabel(){return F.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:F.accessibilityProvider.getWidgetRole?()=>F.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:F.accessibilityProvider.getAriaLevel&&(P=>F.accessibilityProvider.getAriaLevel(P.element)),getActiveDescendantId:F.accessibilityProvider.getActiveDescendantId&&(P=>F.accessibilityProvider.getActiveDescendantId(P.element))}),filter:F.filter&&{filter(P,R){return F.filter.filter(P.element,R)}},keyboardNavigationLabelProvider:F.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},F.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(P){return F.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(P.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof F.expandOnlyOnTwistieClick=="undefined"?void 0:typeof F.expandOnlyOnTwistieClick!="function"?F.expandOnlyOnTwistieClick:P=>F.expandOnlyOnTwistieClick(P.element),additionalScrollHeight:F.additionalScrollHeight})}function c(F,P){P(F),F.children.forEach(R=>c(R,P))}class C{constructor(P,R,A,O,k,V={}){this.user=P,this.dataSource=k,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new v.Emitter,this._onDidChangeNodeSlowState=new v.Emitter,this.nodeMapper=new g.WeakMapper(B=>new d(B)),this.disposables=new t.DisposableStore,this.identityProvider=V.identityProvider,this.autoExpandSingleChildren=typeof V.autoExpandSingleChildren=="undefined"?!1:V.autoExpandSingleChildren,this.sorter=V.sorter,this.collapseByDefault=V.collapseByDefault,this.tree=this.createTree(P,R,A,O,V),this.root=a({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidScroll(){return this.tree.onDidScroll}get onDidChangeFocus(){return v.Event.map(this.tree.onDidChangeFocus,n)}get onDidChangeSelection(){return v.Event.map(this.tree.onDidChangeSelection,n)}get onKeyDown(){return this.tree.onKeyDown}get onMouseClick(){return v.Event.map(this.tree.onMouseClick,r)}get onMouseDblClick(){return v.Event.map(this.tree.onMouseDblClick,r)}get onContextMenu(){return v.Event.map(this.tree.onContextMenu,s)}get onTap(){return v.Event.map(this.tree.onTap,r)}get onPointer(){return v.Event.map(this.tree.onPointer,r)}get onDidFocus(){return this.tree.onDidFocus}get onDidBlur(){return this.tree.onDidBlur}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidUpdateOptions(){return this.tree.onDidUpdateOptions}get filterOnType(){return this.tree.filterOnType}get expandOnlyOnTwistieClick(){if(typeof this.tree.expandOnlyOnTwistieClick=="boolean")return this.tree.expandOnlyOnTwistieClick;const P=this.tree.expandOnlyOnTwistieClick;return R=>P(this.nodes.get(R===this.root.element?null:R)||null)}get onDidDispose(){return this.tree.onDidDispose}createTree(P,R,A,O,k){const V=new N.ComposedTreeDelegate(A),B=O.map(K=>new u(K,this.nodeMapper,this._onDidChangeNodeSlowState.event)),x=f(k)||{};return new E.ObjectTree(P,R,V,B,x)}updateOptions(P={}){this.tree.updateOptions(P)}get options(){return this.tree.options}getHTMLElement(){return this.tree.getHTMLElement()}get contentHeight(){return this.tree.contentHeight}get onDidChangeContentHeight(){return this.tree.onDidChangeContentHeight}get scrollTop(){return this.tree.scrollTop}set scrollTop(P){this.tree.scrollTop=P}get scrollLeft(){return this.tree.scrollLeft}set scrollLeft(P){this.tree.scrollLeft=P}get scrollHeight(){return this.tree.scrollHeight}get renderHeight(){return this.tree.renderHeight}get lastVisibleElement(){return this.tree.lastVisibleElement.element}get ariaLabel(){return this.tree.ariaLabel}set ariaLabel(P){this.tree.ariaLabel=P}domFocus(){this.tree.domFocus()}layout(P,R){this.tree.layout(P,R)}style(P){this.tree.style(P)}getInput(){return this.root.element}setInput(P,R){return Me(this,void 0,void 0,function*(){this.refreshPromises.forEach(O=>O.cancel()),this.refreshPromises.clear(),this.root.element=P;const A=R&&{viewState:R,focus:[],selection:[]};yield this._updateChildren(P,!0,!1,A),A&&(this.tree.setFocus(A.focus),this.tree.setSelection(A.selection)),R&&typeof R.scrollTop=="number"&&(this.scrollTop=R.scrollTop)})}updateChildren(P=this.root.element,R=!0,A=!1,O){return Me(this,void 0,void 0,function*(){yield this._updateChildren(P,R,A,void 0,O)})}_updateChildren(P=this.root.element,R=!0,A=!1,O,k){return Me(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new g.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield v.Event.toPromise(this._onDidRender.event));const V=this.getDataNode(P);if(yield this.refreshAndRenderNode(V,R,O,k),A)try{this.tree.rerender(V)}catch(B){}})}resort(P=this.root.element,R=!0){this.tree.resort(this.getDataNode(P),R)}hasNode(P){return P===this.root.element||this.nodes.has(P)}rerender(P){if(P===void 0||P===this.root.element){this.tree.rerender();return}const R=this.getDataNode(P);this.tree.rerender(R)}updateWidth(P){const R=this.getDataNode(P);this.tree.updateWidth(R)}getNode(P=this.root.element){const R=this.getDataNode(P),A=this.tree.getNode(R===this.root?null:R);return this.nodeMapper.map(A)}collapse(P,R=!1){const A=this.getDataNode(P);return this.tree.collapse(A===this.root?null:A,R)}expand(P,R=!1){return Me(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new g.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield v.Event.toPromise(this._onDidRender.event));const A=this.getDataNode(P);if(this.tree.hasElement(A)&&!this.tree.isCollapsible(A)||(A.refreshPromise&&(yield this.root.refreshPromise,yield v.Event.toPromise(this._onDidRender.event)),A!==this.root&&!A.refreshPromise&&!this.tree.isCollapsed(A)))return!1;const O=this.tree.expand(A===this.root?null:A,R);return A.refreshPromise&&(yield this.root.refreshPromise,yield v.Event.toPromise(this._onDidRender.event)),O})}toggleCollapsed(P,R=!1){return this.tree.toggleCollapsed(this.getDataNode(P),R)}expandAll(){this.tree.expandAll()}collapseAll(){this.tree.collapseAll()}isCollapsible(P){return this.tree.isCollapsible(this.getDataNode(P))}isCollapsed(P){return this.tree.isCollapsed(this.getDataNode(P))}toggleKeyboardNavigation(){this.tree.toggleKeyboardNavigation()}refilter(){this.tree.refilter()}setAnchor(P){this.tree.setAnchor(typeof P=="undefined"?void 0:this.getDataNode(P))}getAnchor(){const P=this.tree.getAnchor();return P==null?void 0:P.element}setSelection(P,R){const A=P.map(O=>this.getDataNode(O));this.tree.setSelection(A,R)}getSelection(){return this.tree.getSelection().map(R=>R.element)}setFocus(P,R){const A=P.map(O=>this.getDataNode(O));this.tree.setFocus(A,R)}focusNext(P=1,R=!1,A){this.tree.focusNext(P,R,A)}focusPrevious(P=1,R=!1,A){this.tree.focusPrevious(P,R,A)}focusNextPage(P){return this.tree.focusNextPage(P)}focusPreviousPage(P){return this.tree.focusPreviousPage(P)}focusLast(P){this.tree.focusLast(P)}focusFirst(P){this.tree.focusFirst(P)}getFocus(){return this.tree.getFocus().map(R=>R.element)}reveal(P,R){this.tree.reveal(this.getDataNode(P),R)}getRelativeTop(P){return this.tree.getRelativeTop(this.getDataNode(P))}getParentElement(P){const R=this.tree.getParentElement(this.getDataNode(P));return R&&R.element}getFirstElementChild(P=this.root.element){const R=this.getDataNode(P),A=this.tree.getFirstElementChild(R===this.root?null:R);return A&&A.element}getDataNode(P){const R=this.nodes.get(P===this.root.element?null:P);if(!R)throw new g.TreeError(this.user,`Data tree node not found: ${P}`);return R}refreshAndRenderNode(P,R,A,O){return Me(this,void 0,void 0,function*(){yield this.refreshNode(P,R,A),this.render(P,A,O)})}refreshNode(P,R,A){return Me(this,void 0,void 0,function*(){let O;return this.subTreeRefreshPromises.forEach((k,V)=>{!O&&h(V,P)&&(O=k.then(()=>this.refreshNode(P,R,A)))}),O||this.doRefreshSubTree(P,R,A)})}doRefreshSubTree(P,R,A){return Me(this,void 0,void 0,function*(){let O;P.refreshPromise=new Promise(k=>O=k),this.subTreeRefreshPromises.set(P,P.refreshPromise),P.refreshPromise.finally(()=>{P.refreshPromise=void 0,this.subTreeRefreshPromises.delete(P)});try{const k=yield this.doRefreshNode(P,R,A);P.stale=!1,yield S.Promises.settled(k.map(V=>this.doRefreshSubTree(V,R,A)))}finally{O()}})}doRefreshNode(P,R,A){return Me(this,void 0,void 0,function*(){P.hasChildren=!!this.dataSource.hasChildren(P.element);let O;if(!P.hasChildren)O=Promise.resolve(i.Iterable.empty());else{const k=(0,S.timeout)(800);k.then(()=>{P.slow=!0,this._onDidChangeNodeSlowState.fire(P)},V=>null),O=this.doGetChildren(P).finally(()=>k.cancel())}try{const k=yield O;return this.setChildren(P,k,R,A)}catch(k){if(P!==this.root&&this.tree.hasElement(P)&&this.tree.collapse(P),(0,p.isPromiseCanceledError)(k))return[];throw k}finally{P.slow&&(P.slow=!1,this._onDidChangeNodeSlowState.fire(P))}})}doGetChildren(P){let R=this.refreshPromises.get(P);return R||(R=(0,S.createCancelablePromise)(()=>Me(this,void 0,void 0,function*(){const A=yield this.dataSource.getChildren(P.element);return this.processChildren(A)})),this.refreshPromises.set(P,R),R.finally(()=>{this.refreshPromises.delete(P)}))}_onDidChangeCollapseState({node:P,deep:R}){P.element!==null&&!P.collapsed&&P.element.stale&&(R?this.collapse(P.element.element):this.refreshAndRenderNode(P.element,!1).catch(p.onUnexpectedError))}setChildren(P,R,A,O){const k=[...R];if(P.children.length===0&&k.length===0)return[];const V=new Map,B=new Map;for(const X of P.children)if(V.set(X.element,X),this.identityProvider){const Z=this.tree.isCollapsed(X);B.set(X.id,{node:X,collapsed:Z})}const x=[],K=k.map(X=>{const Z=!!this.dataSource.hasChildren(X);if(!this.identityProvider){const z=a({element:X,parent:P,hasChildren:Z});return Z&&this.collapseByDefault&&!this.collapseByDefault(X)&&(z.collapsedByDefault=!1,x.push(z)),z}const q=this.identityProvider.getId(X).toString(),H=B.get(q);if(H){const z=H.node;return V.delete(z.element),this.nodes.delete(z.element),this.nodes.set(X,z),z.element=X,z.hasChildren=Z,A?H.collapsed?(z.children.forEach(W=>c(W,j=>this.nodes.delete(j.element))),z.children.splice(0,z.children.length),z.stale=!0):x.push(z):Z&&this.collapseByDefault&&!this.collapseByDefault(X)&&(z.collapsedByDefault=!1,x.push(z)),z}const G=a({element:X,parent:P,id:q,hasChildren:Z});return O&&O.viewState.focus&&O.viewState.focus.indexOf(q)>-1&&O.focus.push(G),O&&O.viewState.selection&&O.viewState.selection.indexOf(q)>-1&&O.selection.push(G),O&&O.viewState.expanded&&O.viewState.expanded.indexOf(q)>-1?x.push(G):Z&&this.collapseByDefault&&!this.collapseByDefault(X)&&(G.collapsedByDefault=!1,x.push(G)),G});for(const X of V.values())c(X,Z=>this.nodes.delete(Z.element));for(const X of K)this.nodes.set(X.element,X);return P.children.splice(0,P.children.length,...K),P!==this.root&&this.autoExpandSingleChildren&&K.length===1&&x.length===0&&(K[0].collapsedByDefault=!1,x.push(K[0])),x}render(P,R,A){const O=P.children.map(V=>this.asTreeElement(V,R)),k=A&&Object.assign(Object.assign({},A),{diffIdentityProvider:A.diffIdentityProvider&&{getId(V){return A.diffIdentityProvider.getId(V.element)}}});this.tree.setChildren(P===this.root?null:P,O,k),P!==this.root&&this.tree.setCollapsible(P,P.hasChildren),this._onDidRender.fire()}asTreeElement(P,R){if(P.stale)return{element:P,collapsible:P.hasChildren,collapsed:!0};let A;return R&&R.viewState.expanded&&P.id&&R.viewState.expanded.indexOf(P.id)>-1?A=!1:A=P.collapsedByDefault,P.collapsedByDefault=void 0,{element:P,children:P.hasChildren?i.Iterable.map(P.children,O=>this.asTreeElement(O,R)):[],collapsible:P.hasChildren,collapsed:A}}processChildren(P){return this.sorter&&(P=[...P].sort(this.sorter.compare.bind(this.sorter))),P}getViewState(){if(!this.identityProvider)throw new g.TreeError(this.user,"Can't get tree view state without an identity provider");const P=B=>this.identityProvider.getId(B).toString(),R=this.getFocus().map(P),A=this.getSelection().map(P),O=[],k=this.tree.getNode(),V=[k];for(;V.length>0;){const B=V.pop();B!==k&&B.collapsible&&!B.collapsed&&O.push(P(B.element.element)),V.push(...B.children)}return{focus:R,selection:A,expanded:O,scrollTop:this.scrollTop}}dispose(){this.disposables.dispose()}}e.AsyncDataTree=C;class y{constructor(P){this.node=P}get element(){return{elements:this.node.element.elements.map(P=>P.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(P=>new y(P))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class w{constructor(P,R,A,O){this.renderer=P,this.nodeMapper=R,this.compressibleNodeMapperProvider=A,this.onDidChangeTwistieState=O,this.renderedNodes=new Map,this.disposables=[],this.templateId=P.templateId}renderTemplate(P){return{templateData:this.renderer.renderTemplate(P)}}renderElement(P,R,A,O){this.renderer.renderElement(this.nodeMapper.map(P),R,A.templateData,O)}renderCompressedElements(P,R,A,O){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(P),R,A.templateData,O)}renderTwistie(P,R){return P.slow?(R.classList.add(...b.Codicon.treeItemLoading.classNamesArray),!0):(R.classList.remove(...b.Codicon.treeItemLoading.classNamesArray),!1)}disposeElement(P,R,A,O){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(P),R,A.templateData,O)}disposeCompressedElements(P,R,A,O){this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(this.compressibleNodeMapperProvider().map(P),R,A.templateData,O)}disposeTemplate(P){this.renderer.disposeTemplate(P.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,t.dispose)(this.disposables)}}function D(F){const P=F&&f(F);return P&&Object.assign(Object.assign({},P),{keyboardNavigationLabelProvider:P.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},P.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(R){return F.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(R.map(A=>A.element))}})})}class I extends C{constructor(P,R,A,O,k,V,B={}){super(P,R,A,k,V,B);this.compressionDelegate=O,this.compressibleNodeMapper=new g.WeakMapper(x=>new y(x)),this.filter=B.filter}createTree(P,R,A,O,k){const V=new N.ComposedTreeDelegate(A),B=O.map(K=>new w(K,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),x=D(k)||{};return new E.CompressibleObjectTree(P,R,V,B,x)}asTreeElement(P,R){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(P.element)},super.asTreeElement(P,R))}updateOptions(P={}){this.tree.updateOptions(P)}getViewState(){if(!this.identityProvider)throw new g.TreeError(this.user,"Can't get tree view state without an identity provider");const P=B=>this.identityProvider.getId(B).toString(),R=this.getFocus().map(P),A=this.getSelection().map(P),O=[],k=this.tree.getCompressedTreeNode(),V=[k];for(;V.length>0;){const B=V.shift();if(B!==k&&B.collapsible&&!B.collapsed)for(const x of B.element.elements)O.push(P(x.element));V.push(...B.children)}return{focus:R,selection:A,expanded:O,scrollTop:this.scrollTop}}render(P,R){if(!this.identityProvider)return super.render(P,R);const A=q=>this.identityProvider.getId(q).toString(),O=q=>{const H=new Set;for(const G of q){const z=this.tree.getCompressedTreeNode(G===this.root?null:G);if(!!z.element)for(const W of z.element.elements)H.add(A(W.element))}return H},k=O(this.tree.getSelection()),V=O(this.tree.getFocus());super.render(P,R);const B=this.getSelection();let x=!1;const K=this.getFocus();let X=!1;const Z=q=>{const H=q.element;if(H)for(let G=0;G<H.elements.length;G++){const z=A(H.elements[G].element),W=H.elements[H.elements.length-1].element;k.has(z)&&B.indexOf(W)===-1&&(B.push(W),x=!0),V.has(z)&&K.indexOf(W)===-1&&(K.push(W),X=!0)}q.children.forEach(Z)};Z(this.tree.getCompressedTreeNode(P===this.root?null:P)),x&&this.setSelection(B),X&&this.setFocus(K)}processChildren(P){return this.filter&&(P=i.Iterable.filter(P,R=>{const A=this.filter.filter(R,1),O=T(A);if(O===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return O===1})),super.processChildren(P)}}e.CompressibleAsyncDataTree=I;function T(F){return typeof F=="boolean"?F?1:0:(0,M.isFilterResult)(F)?(0,M.getVisibleState)(F.visibility):(0,M.getVisibleState)(F)}}),define(ee[467],te([5,6]),function(Q,e){return Q.create("vs/base/common/actions",e)}),define(ee[46],te([0,1,4,2,467]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toAction=e.EmptySubmenuAction=e.SubmenuAction=e.Separator=e.ActionRunner=e.Action=void 0;class E extends N.Disposable{constructor(t,a="",l="",h=!0,d){super();this._onDidChange=this._register(new L.Emitter),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=t,this._label=a,this._cssClass=l,this._enabled=h,this._actionCallback=d}get id(){return this._id}get label(){return this._label}set label(t){this._setLabel(t)}_setLabel(t){this._label!==t&&(this._label=t,this._onDidChange.fire({label:t}))}get tooltip(){return this._tooltip||""}set tooltip(t){this._setTooltip(t)}_setTooltip(t){this._tooltip!==t&&(this._tooltip=t,this._onDidChange.fire({tooltip:t}))}get class(){return this._cssClass}set class(t){this._setClass(t)}_setClass(t){this._cssClass!==t&&(this._cssClass=t,this._onDidChange.fire({class:t}))}get enabled(){return this._enabled}set enabled(t){this._setEnabled(t)}_setEnabled(t){this._enabled!==t&&(this._enabled=t,this._onDidChange.fire({enabled:t}))}get checked(){return this._checked}set checked(t){this._setChecked(t)}_setChecked(t){this._checked!==t&&(this._checked=t,this._onDidChange.fire({checked:t}))}run(t,a){return Me(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(t))})}}e.Action=E;class g extends N.Disposable{constructor(){super(...arguments);this._onBeforeRun=this._register(new L.Emitter),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new L.Emitter),this.onDidRun=this._onDidRun.event}run(t,a){return Me(this,void 0,void 0,function*(){if(!t.enabled)return;this._onBeforeRun.fire({action:t});let l;try{yield this.runAction(t,a)}catch(h){l=h}this._onDidRun.fire({action:t,error:l})})}runAction(t,a){return Me(this,void 0,void 0,function*(){yield t.run(a)})}}e.ActionRunner=g;class S extends E{constructor(t){super(S.ID,t,t?"separator text":"separator");this.checked=!1,this.enabled=!1}static join(...t){let a=[];for(const l of t)l.length&&(a.length?a=[...a,new S,...l]:a=l);return a}}e.Separator=S,S.ID="vs.actions.separator";class b{constructor(t,a,l,h){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=t,this.label=a,this.class=h,this._actions=l}get actions(){return this._actions}dispose(){}run(){return Me(this,void 0,void 0,function*(){})}}e.SubmenuAction=b;class p extends E{constructor(){super(p.ID,M.localize(0,null),void 0,!1)}}e.EmptySubmenuAction=p,p.ID="vs.actions.empty";function v(i){var t,a;return{id:i.id,label:i.label,class:void 0,enabled:(t=i.enabled)!==null&&t!==void 0?t:!0,checked:(a=i.checked)!==null&&a!==void 0?a:!1,run:()=>Me(this,void 0,void 0,function*(){return i.run()}),tooltip:i.label,dispose:()=>{}}}e.toAction=v}),define(ee[104],te([0,1,36,174,7,57,463,46,2,15,20,452,220]),function(Q,e,L,N,M,E,g,S,b,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectActionViewItem=e.ActionViewItem=e.BaseActionViewItem=void 0;class t extends b.Disposable{constructor(d,u,n={}){super();this.options=n,this._context=d||this,this._action=u,u instanceof S.Action&&this._register(u.onDidChange(r=>{!this.element||this.handleActionChangeEvent(r)}))}get action(){return this._action}handleActionChangeEvent(d){d.enabled!==void 0&&this.updateEnabled(),d.checked!==void 0&&this.updateChecked(),d.class!==void 0&&this.updateClass(),d.label!==void 0&&(this.updateLabel(),this.updateTooltip()),d.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new S.ActionRunner)),this._actionRunner}set actionRunner(d){this._actionRunner=d}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(d){this._context=d}render(d){const u=this.element=d;this._register(E.Gesture.addTarget(d));const n=this.options&&this.options.draggable;n&&(d.draggable=!0,L.isFirefox&&this._register((0,M.addDisposableListener)(d,M.EventType.DRAG_START,r=>{var s;return(s=r.dataTransfer)===null||s===void 0?void 0:s.setData(N.DataTransfers.TEXT,this._action.label)}))),this._register((0,M.addDisposableListener)(u,E.EventType.Tap,r=>this.onClick(r,!0))),this._register((0,M.addDisposableListener)(u,M.EventType.MOUSE_DOWN,r=>{n||M.EventHelper.stop(r,!0),this._action.enabled&&r.button===0&&u.classList.add("active")})),p.isMacintosh&&this._register((0,M.addDisposableListener)(u,M.EventType.CONTEXT_MENU,r=>{r.button===0&&r.ctrlKey===!0&&this.onClick(r)})),this._register((0,M.addDisposableListener)(u,M.EventType.CLICK,r=>{M.EventHelper.stop(r,!0),this.options&&this.options.isMenu||this.onClick(r)})),this._register((0,M.addDisposableListener)(u,M.EventType.DBLCLICK,r=>{M.EventHelper.stop(r,!0)})),[M.EventType.MOUSE_UP,M.EventType.MOUSE_OUT].forEach(r=>{this._register((0,M.addDisposableListener)(u,r,s=>{M.EventHelper.stop(s),u.classList.remove("active")}))})}onClick(d,u=!1){var n;M.EventHelper.stop(d,!0);const r=v.isUndefinedOrNull(this._context)?((n=this.options)===null||n===void 0?void 0:n.useEventAsContext)?d:{preserveFocus:u}:this._context;this.actionRunner.run(this._action,r)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}isFocused(){var d;return!!((d=this.element)===null||d===void 0?void 0:d.classList.contains("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(d){this.element&&(this.element.tabIndex=d?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}updateTooltip(){}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}e.BaseActionViewItem=t;class a extends t{constructor(d,u,n={}){super(d,u,n);this.options=n,this.options.icon=n.icon!==void 0?n.icon:!1,this.options.label=n.label!==void 0?n.label:!0,this.cssClass=""}render(d){super.render(d),this.element&&(this.label=(0,M.append)(this.element,(0,M.$)("a.action-label"))),this.label&&(this._action.id===S.Separator.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&((0,M.append)(this.element,(0,M.$)("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}isFocused(){var d;return!!this.label&&((d=this.label)===null||d===void 0?void 0:d.tabIndex)===0}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(d){this.label&&(this.label.tabIndex=d?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}updateTooltip(){let d=null;this.getAction().tooltip?d=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(d=this.getAction().label,this.options.keybinding&&(d=i.localize(0,null,d,this.options.keybinding))),d&&this.label&&(this.label.title=d)}updateClass(){this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):this.label&&this.label.classList.remove("codicon")}updateEnabled(){this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),this.element&&this.element.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),this.element&&this.element.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}e.ActionViewItem=a;class l extends t{constructor(d,u,n,r,s,o){super(d,u);this.selectBox=new g.SelectBox(n,r,s,void 0,o),this.selectBox.setFocusable(!1),this._register(this.selectBox),this.registerListeners()}setOptions(d,u){this.selectBox.setOptions(d,u)}select(d){this.selectBox.select(d)}registerListeners(){this._register(this.selectBox.onDidSelect(d=>{this.actionRunner.run(this._action,this.getActionContext(d.selected,d.index))}))}getActionContext(d,u){return d}setFocusable(d){this.selectBox.setFocusable(d)}focus(){this.selectBox&&this.selectBox.focus()}blur(){this.selectBox&&this.selectBox.blur()}render(d){this.selectBox.render(d)}}e.SelectActionViewItem=l}),define(ee[84],te([0,1,7,44,104,46,4,2,20,220]),function(Q,e,L,N,M,E,g,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prepareActions=e.ActionBar=void 0;class p extends S.Disposable{constructor(t,a={}){var l,h,d,u,n,r;super();this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new g.Emitter),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new g.Emitter({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new g.Emitter),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new g.Emitter),this.onBeforeRun=this._onBeforeRun.event,this.options=a,this._context=(l=a.context)!==null&&l!==void 0?l:null,this._orientation=(h=this.options.orientation)!==null&&h!==void 0?h:0,this._triggerKeys={keyDown:(u=(d=this.options.triggerKeys)===null||d===void 0?void 0:d.keyDown)!==null&&u!==void 0?u:!1,keys:(r=(n=this.options.triggerKeys)===null||n===void 0?void 0:n.keys)!==null&&r!==void 0?r:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new E.ActionRunner,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun(m=>this._onDidRun.fire(m))),this._register(this._actionRunner.onBeforeRun(m=>this._onBeforeRun.fire(m))),this._actionIds=[],this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",a.animated!==!1&&this.domNode.classList.add("animated");let s,o;switch(this._orientation){case 0:s=[15],o=[17];break;case 1:s=[16],o=[18],this.domNode.className+=" vertical";break}this._register(L.addDisposableListener(this.domNode,L.EventType.KEY_DOWN,m=>{const _=new N.StandardKeyboardEvent(m);let f=!0;const c=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;s&&(_.equals(s[0])||_.equals(s[1]))?f=this.focusPrevious():o&&(_.equals(o[0])||_.equals(o[1]))?f=this.focusNext():_.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():_.equals(14)?f=this.focusFirst():_.equals(13)?f=this.focusLast():_.equals(2)&&c instanceof M.BaseActionViewItem&&c.trapsArrowNavigation?f=this.focusNext():this.isTriggerKeyEvent(_)?this._triggerKeys.keyDown?this.doTrigger(_):this.triggerKeyDown=!0:f=!1,f&&(_.preventDefault(),_.stopPropagation())})),this._register(L.addDisposableListener(this.domNode,L.EventType.KEY_UP,m=>{const _=new N.StandardKeyboardEvent(m);this.isTriggerKeyEvent(_)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(_)),_.preventDefault(),_.stopPropagation()):(_.equals(2)||_.equals(1024|2))&&this.updateFocusedItem()})),this.focusTracker=this._register(L.trackFocus(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(L.getActiveElement()===this.domNode||!L.isAncestor(L.getActiveElement(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.previouslyFocusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role","toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),t.appendChild(this.domNode)}setAriaLabel(t){t?this.actionsList.setAttribute("aria-label",t):this.actionsList.removeAttribute("aria-label")}setFocusable(t){if(this.focusable=t,this.focusable){const a=this.viewItems.find(l=>l instanceof M.BaseActionViewItem&&l.isEnabled());a instanceof M.BaseActionViewItem&&a.setFocusable(!0)}else this.viewItems.forEach(a=>{a instanceof M.BaseActionViewItem&&a.setFocusable(!1)})}isTriggerKeyEvent(t){let a=!1;return this._triggerKeys.keys.forEach(l=>{a=a||t.equals(l)}),a}updateFocusedItem(){for(let t=0;t<this.actionsList.children.length;t++){const a=this.actionsList.children[t];if(L.isAncestor(L.getActiveElement(),a)){this.focusedItem=t;break}}}get context(){return this._context}set context(t){this._context=t,this.viewItems.forEach(a=>a.setActionContext(t))}get actionRunner(){return this._actionRunner}set actionRunner(t){t&&(this._actionRunner=t,this.viewItems.forEach(a=>a.actionRunner=t))}getContainer(){return this.domNode}hasAction(t){return this._actionIds.includes(t.id)}getAction(t){return this.viewItems[t].action}push(t,a={}){const l=Array.isArray(t)?t:[t];let h=b.isNumber(a.index)?a.index:null;l.forEach(d=>{const u=document.createElement("li");u.className="action-item",u.setAttribute("role","presentation"),this.options.allowContextMenu||this._register(L.addDisposableListener(u,L.EventType.CONTEXT_MENU,r=>{L.EventHelper.stop(r,!0)}));let n;this.options.actionViewItemProvider&&(n=this.options.actionViewItemProvider(d)),n||(n=new M.ActionViewItem(this.context,d,a)),n.actionRunner=this._actionRunner,n.setActionContext(this.context),n.render(u),this.focusable&&n instanceof M.BaseActionViewItem&&this.viewItems.length===0&&n.setFocusable(!0),h===null||h<0||h>=this.actionsList.children.length?(this.actionsList.appendChild(u),this.viewItems.push(n),this._actionIds.push(d.id)):(this.actionsList.insertBefore(u,this.actionsList.children[h]),this.viewItems.splice(h,0,n),this._actionIds.splice(h,0,d.id),h++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem)}getWidth(t){if(t>=0&&t<this.actionsList.children.length){const a=this.actionsList.children.item(t);if(a)return a.clientWidth}return 0}getHeight(t){if(t>=0&&t<this.actionsList.children.length){const a=this.actionsList.children.item(t);if(a)return a.clientHeight}return 0}pull(t){t>=0&&t<this.viewItems.length&&(this.actionsList.removeChild(this.actionsList.childNodes[t]),(0,S.dispose)(this.viewItems.splice(t,1)),this._actionIds.splice(t,1))}clear(){(0,S.dispose)(this.viewItems),this.viewItems=[],this._actionIds=[],L.clearNode(this.actionsList)}length(){return this.viewItems.length}isEmpty(){return this.viewItems.length===0}focus(t){let a=!1,l;if(t===void 0?a=!0:typeof t=="number"?l=t:typeof t=="boolean"&&(a=t),a&&typeof this.focusedItem=="undefined"){const h=this.viewItems.findIndex(d=>d.isEnabled());this.focusedItem=h===-1?void 0:h,this.updateFocus(void 0,void 0,!0)}else l!==void 0&&(this.focusedItem=l),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(t){if(typeof this.focusedItem=="undefined")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const a=this.focusedItem;let l;do{if(!t&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=a,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,l=this.viewItems[this.focusedItem]}while(this.focusedItem!==a&&this.options.focusOnlyEnabledItems&&!l.isEnabled());return this.updateFocus(),!0}focusPrevious(t){if(typeof this.focusedItem=="undefined")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const a=this.focusedItem;let l;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!t&&this.options.preventLoopNavigation)return this.focusedItem=a,!1;this.focusedItem=this.viewItems.length-1}l=this.viewItems[this.focusedItem]}while(this.focusedItem!==a&&this.options.focusOnlyEnabledItems&&!l.isEnabled());return this.updateFocus(!0),!0}updateFocus(t,a,l=!1){var h;typeof this.focusedItem=="undefined"&&this.actionsList.focus({preventScroll:a}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&((h=this.viewItems[this.previouslyFocusedItem])===null||h===void 0||h.blur());const d=this.focusedItem!==void 0&&this.viewItems[this.focusedItem];if(d){let u=!0;b.isFunction(d.focus)||(u=!1),this.options.focusOnlyEnabledItems&&b.isFunction(d.isEnabled)&&!d.isEnabled()&&(u=!1),u?(l||this.previouslyFocusedItem!==this.focusedItem)&&(d.focus(t),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:a}),this.previouslyFocusedItem=void 0)}}doTrigger(t){if(typeof this.focusedItem=="undefined")return;const a=this.viewItems[this.focusedItem];if(a instanceof M.BaseActionViewItem){const l=a._context===null||a._context===void 0?t:a._context;this.run(a._action,l)}}run(t,a){return Me(this,void 0,void 0,function*(){yield this._actionRunner.run(t,a)})}dispose(){(0,S.dispose)(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}e.ActionBar=p;function v(i){if(!i.length)return i;let t=-1;for(let l=0;l<i.length;l++)if(i[l].id!==E.Separator.ID){t=l;break}if(t===-1)return[];i=i.slice(t);for(let l=i.length-1;l>=0&&i[l].id===E.Separator.ID;l--)i.splice(l,1);let a=!1;for(let l=i.length-1;l>=0;l--){const h=i[l].id===E.Separator.ID;h&&!a?i.splice(l,1):h?h&&(a=!1):a=!0}return i}e.prepareActions=v}),define(ee[468],te([0,1,7,44,57,111,46,27,28,4,2,34,328]),function(Q,e,L,N,M,E,g,S,b,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ButtonBar=e.ButtonWithDescription=e.ButtonWithDropdown=e.Button=void 0;const t={buttonBackground:b.Color.fromHex("#0E639C"),buttonHoverBackground:b.Color.fromHex("#006BB3"),buttonForeground:b.Color.white};class a extends v.Disposable{constructor(n,r){super();this._onDidClick=this._register(new p.Emitter),this.options=r||Object.create(null),(0,i.mixin)(this.options,t,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),n.appendChild(this._element),this._register(M.Gesture.addTarget(this._element)),[L.EventType.CLICK,M.EventType.Tap].forEach(s=>{this._register((0,L.addDisposableListener)(this._element,s,o=>{if(!this.enabled){L.EventHelper.stop(o);return}this._onDidClick.fire(o)}))}),this._register((0,L.addDisposableListener)(this._element,L.EventType.KEY_DOWN,s=>{const o=new N.StandardKeyboardEvent(s);let m=!1;this.enabled&&(o.equals(3)||o.equals(10))?(this._onDidClick.fire(s),m=!0):o.equals(9)&&(this._element.blur(),m=!0),m&&L.EventHelper.stop(o,!0)})),this._register((0,L.addDisposableListener)(this._element,L.EventType.MOUSE_OVER,s=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register((0,L.addDisposableListener)(this._element,L.EventType.MOUSE_OUT,s=>{this.applyStyles()})),this.focusTracker=this._register((0,L.trackFocus)(this._element)),this._register(this.focusTracker.onDidFocus(()=>this.setHoverBackground())),this._register(this.focusTracker.onDidBlur(()=>this.applyStyles())),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let n;this.options.secondary?n=this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:n=this.buttonHoverBackground?this.buttonHoverBackground.toString():null,n&&(this._element.style.backgroundColor=n)}style(n){this.buttonForeground=n.buttonForeground,this.buttonBackground=n.buttonBackground,this.buttonHoverBackground=n.buttonHoverBackground,this.buttonSecondaryForeground=n.buttonSecondaryForeground,this.buttonSecondaryBackground=n.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=n.buttonSecondaryHoverBackground,this.buttonBorder=n.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let n,r;this.options.secondary?(r=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",n=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(r=this.buttonForeground?this.buttonForeground.toString():"",n=this.buttonBackground?this.buttonBackground.toString():"");const s=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=r,this._element.style.backgroundColor=n,this._element.style.borderWidth=s?"1px":"",this._element.style.borderStyle=s?"solid":"",this._element.style.borderColor=s}}get element(){return this._element}set label(n){this._element.classList.add("monaco-text-button"),this.options.supportIcons?(0,L.reset)(this._element,...(0,E.renderLabelWithIcons)(n)):this._element.textContent=n,typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=n)}set icon(n){this._element.classList.add(...S.CSSIcon.asClassNameArray(n))}set enabled(n){n?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}focus(){this._element.focus()}hasFocus(){return this._element===document.activeElement}}e.Button=a;class l extends v.Disposable{constructor(n,r){super();this._onDidClick=this._register(new p.Emitter),this.onDidClick=this._onDidClick.event,this.element=document.createElement("div"),this.element.classList.add("monaco-button-dropdown"),n.appendChild(this.element),this.button=this._register(new a(this.element,r)),this._register(this.button.onDidClick(s=>this._onDidClick.fire(s))),this.action=this._register(new g.Action("primaryAction",this.button.label,void 0,!0,()=>Me(this,void 0,void 0,function*(){return this._onDidClick.fire(void 0)}))),this.dropdownButton=this._register(new a(this.element,Object.assign(Object.assign({},r),{title:!1,supportIcons:!0}))),this.dropdownButton.element.classList.add("monaco-dropdown-button"),this.dropdownButton.icon=S.Codicon.dropDownButton,this._register(this.dropdownButton.onDidClick(s=>{r.contextMenuProvider.showContextMenu({getAnchor:()=>this.dropdownButton.element,getActions:()=>[this.action,...r.actions],actionRunner:r.actionRunner,onHide:()=>this.dropdownButton.element.setAttribute("aria-expanded","false")}),this.dropdownButton.element.setAttribute("aria-expanded","true")}))}set label(n){this.button.label=n,this.action.label=n}set icon(n){this.button.icon=n}set enabled(n){this.button.enabled=n,this.dropdownButton.enabled=n}get enabled(){return this.button.enabled}style(n){this.button.style(n),this.dropdownButton.style(n)}focus(){this.button.focus()}hasFocus(){return this.button.hasFocus()||this.dropdownButton.hasFocus()}}e.ButtonWithDropdown=l;class h extends a{constructor(n,r){super(n,r);this._element.classList.add("monaco-description-button"),this._labelElement=document.createElement("div"),this._labelElement.classList.add("monaco-button-label"),this._labelElement.tabIndex=-1,this._element.appendChild(this._labelElement),this._descriptionElement=document.createElement("div"),this._descriptionElement.classList.add("monaco-button-description"),this._descriptionElement.tabIndex=-1,this._element.appendChild(this._descriptionElement)}set label(n){this._element.classList.add("monaco-text-button"),this.options.supportIcons?(0,L.reset)(this._labelElement,...(0,E.renderLabelWithIcons)(n)):this._labelElement.textContent=n,typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=n)}set description(n){this.options.supportIcons?(0,L.reset)(this._descriptionElement,...(0,E.renderLabelWithIcons)(n)):this._descriptionElement.textContent=n}}e.ButtonWithDescription=h;class d extends v.Disposable{constructor(n){super();this.container=n,this._buttons=[]}get buttons(){return this._buttons}addButton(n){const r=this._register(new a(this.container,n));return this.pushButton(r),r}addButtonWithDescription(n){const r=this._register(new h(this.container,n));return this.pushButton(r),r}addButtonWithDropdown(n){const r=this._register(new l(this.container,n));return this.pushButton(r),r}pushButton(n){this._buttons.push(n);const r=this._buttons.length-1;this._register((0,L.addDisposableListener)(n.element,L.EventType.KEY_DOWN,s=>{const o=new N.StandardKeyboardEvent(s);let m=!0,_;o.equals(15)?_=r>0?r-1:this._buttons.length-1:o.equals(17)?_=r===this._buttons.length-1?0:r+1:m=!1,m&&typeof _=="number"&&(this._buttons[_].focus(),L.EventHelper.stop(s,!0))}))}}e.ButtonBar=d}),define(ee[188],te([0,1,104,53,27,28,4,329]),function(Q,e,L,N,M,E,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleCheckbox=e.Checkbox=e.CheckboxActionViewItem=void 0;const S={inputActiveOptionBorder:E.Color.fromHex("#007ACC00"),inputActiveOptionForeground:E.Color.fromHex("#FFFFFF"),inputActiveOptionBackground:E.Color.fromHex("#0E639C50")};class b extends L.BaseActionViewItem{constructor(t,a,l){super(t,a,l);this.checkbox=this._register(new p({actionClassName:this._action.class,isChecked:!!this._action.checked,title:this.options.keybinding?`${this._action.label} (${this.options.keybinding})`:this._action.label,notFocusable:!0})),this._register(this.checkbox.onChange(()=>this._action.checked=!!this.checkbox&&this.checkbox.checked))}render(t){this.element=t,this.element.appendChild(this.checkbox.domNode)}updateEnabled(){this.checkbox&&(this.isEnabled()?this.checkbox.enable():this.checkbox.disable())}updateChecked(){this.checkbox.checked=!!this._action.checked}focus(){this.checkbox.domNode.tabIndex=0,this.checkbox.focus()}blur(){this.checkbox.domNode.tabIndex=-1,this.checkbox.domNode.blur()}setFocusable(t){this.checkbox.domNode.tabIndex=t?0:-1}}e.CheckboxActionViewItem=b;class p extends N.Widget{constructor(t){super();this._onChange=this._register(new g.Emitter),this.onChange=this._onChange.event,this._onKeyDown=this._register(new g.Emitter),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},S),t),this._checked=this._opts.isChecked;const a=["monaco-custom-checkbox"];this._opts.icon&&a.push(...M.CSSIcon.asClassNameArray(this._opts.icon)),this._opts.actionClassName&&a.push(...this._opts.actionClassName.split(" ")),this._checked&&a.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...a),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,l=>{this.checked=!this._checked,this._onChange.fire(!1),l.preventDefault()}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,l=>{if(l.keyCode===10||l.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),l.preventDefault();return}this._onKeyDown.fire(l)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(t){this._checked=t,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 2+2+2+16}style(t){t.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=t.inputActiveOptionBorder),t.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=t.inputActiveOptionForeground),t.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=t.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}setTitle(t){this.domNode.title=t,this.domNode.setAttribute("aria-label",t)}}e.Checkbox=p;class v extends N.Widget{constructor(t,a){super();this.title=t,this.isChecked=a,this.checkbox=new p({title:this.title,isChecked:this.isChecked,icon:M.Codicon.check,actionClassName:"monaco-simple-checkbox"}),this.domNode=this.checkbox.domNode,this.styles={},this.checkbox.onChange(()=>{this.applyStyles()})}get checked(){return this.checkbox.checked}set checked(t){this.checkbox.checked=t,this.applyStyles()}focus(){this.domNode.focus()}hasFocus(){return this.domNode===document.activeElement}style(t){this.styles=t,this.applyStyles()}applyStyles(){this.domNode.style.color=this.styles.checkboxForeground?this.styles.checkboxForeground.toString():"",this.domNode.style.backgroundColor=this.styles.checkboxBackground?this.styles.checkboxBackground.toString():"",this.domNode.style.borderColor=this.styles.checkboxBorder?this.styles.checkboxBorder.toString():""}}e.SimpleCheckbox=v}),define(ee[469],te([0,1,7,44,57,46,4,223]),function(Q,e,L,N,M,E,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenu=e.Dropdown=e.BaseDropdown=void 0;class S extends E.ActionRunner{constructor(i,t){super();this._onDidChangeVisibility=this._register(new g.Emitter),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,L.append)(i,(0,L.$)(".monaco-dropdown")),this._label=(0,L.append)(this._element,(0,L.$)(".dropdown-label"));let a=t.labelRenderer;a||(a=h=>(h.textContent=t.label||"",null));for(const h of[L.EventType.CLICK,L.EventType.MOUSE_DOWN,M.EventType.Tap])this._register((0,L.addDisposableListener)(this.element,h,d=>L.EventHelper.stop(d,!0)));for(const h of[L.EventType.MOUSE_DOWN,M.EventType.Tap])this._register((0,L.addDisposableListener)(this._label,h,d=>{d instanceof MouseEvent&&d.detail>1||(this.visible?this.hide():this.show())}));this._register((0,L.addDisposableListener)(this._label,L.EventType.KEY_UP,h=>{const d=new N.StandardKeyboardEvent(h);(d.equals(3)||d.equals(10))&&(L.EventHelper.stop(h,!0),this.visible?this.hide():this.show())}));const l=a(this._label);l&&this._register(l),this._register(M.Gesture.addTarget(this._label))}get element(){return this._element}get label(){return this._label}set tooltip(i){this._label&&(this._label.title=i)}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}isVisible(){return!!this.visible}onEvent(i,t){this.hide()}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}e.BaseDropdown=S;class b extends S{constructor(i,t){super(i,t);this.contextViewProvider=t.contextViewProvider}show(){super.show(),this.element.classList.add("active"),this.contextViewProvider.showContextView({getAnchor:()=>this.getAnchor(),render:i=>this.renderContents(i),onDOMEvent:(i,t)=>{this.onEvent(i,t)},onHide:()=>this.onHide()})}getAnchor(){return this.element}onHide(){this.element.classList.remove("active")}hide(){super.hide(),this.contextViewProvider&&this.contextViewProvider.hideContextView()}renderContents(i){return null}}e.Dropdown=b;class p extends S{constructor(i,t){super(i,t);this._actions=[],this._contextMenuProvider=t.contextMenuProvider,this.actions=t.actions||[],this.actionProvider=t.actionProvider,this.menuClassName=t.menuClassName||"",this.menuAsChild=!!t.menuAsChild}set menuOptions(i){this._menuOptions=i}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(i){this._actions=i}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:i=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(i):void 0,getKeyBinding:i=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(i):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}e.DropdownMenu=p}),define(ee[470],te([0,1,7,44,104,469,46,27,4,223]),function(Q,e,L,N,M,E,g,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionWithDropdownActionViewItem=e.DropdownMenuActionViewItem=void 0;class p extends M.BaseActionViewItem{constructor(t,a,l,h=Object.create(null)){super(null,t,h);this.actionItem=null,this._onDidChangeVisibility=this._register(new b.Emitter),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this.menuActionsOrProvider=a,this.contextMenuProvider=l,this.options=h,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(t){this.actionItem=t;const a=d=>{this.element=(0,L.append)(d,(0,L.$)("a.action-label"));let u=[];return typeof this.options.classNames=="string"?u=this.options.classNames.split(/\s+/g).filter(n=>!!n):this.options.classNames&&(u=this.options.classNames),u.find(n=>n==="icon")||u.push("codicon"),this.element.classList.add(...u),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",null},l=Array.isArray(this.menuActionsOrProvider),h={contextMenuProvider:this.contextMenuProvider,labelRenderer:a,menuAsChild:this.options.menuAsChild,actions:l?this.menuActionsOrProvider:void 0,actionProvider:l?void 0:this.menuActionsOrProvider};if(this.dropdownMenu=this._register(new E.DropdownMenu(t,h)),this._register(this.dropdownMenu.onDidChangeVisibility(d=>{var u;(u=this.element)===null||u===void 0||u.setAttribute("aria-expanded",`${d}`),this._onDidChangeVisibility.fire(d)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const d=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return d.options.anchorAlignmentProvider()}})}this.updateEnabled()}setActionContext(t){super.setActionContext(t),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=t:this.dropdownMenu.menuOptions={context:t})}show(){this.dropdownMenu&&this.dropdownMenu.show()}updateEnabled(){var t,a;const l=!this.getAction().enabled;(t=this.actionItem)===null||t===void 0||t.classList.toggle("disabled",l),(a=this.element)===null||a===void 0||a.classList.toggle("disabled",l)}}e.DropdownMenuActionViewItem=p;class v extends M.ActionViewItem{constructor(t,a,l,h){super(t,a,l);this.contextMenuProvider=h}render(t){if(super.render(t),this.element){this.element.classList.add("action-dropdown-item");const a={getActions:()=>{const l=this.options.menuActionsOrProvider;return Array.isArray(l)?l:l.getActions()}};this.dropdownMenuActionViewItem=new p(this._register(new g.Action("dropdownAction",void 0)),a,this.contextMenuProvider,{classNames:["dropdown",...S.Codicon.dropDownButton.classNamesArray,...this.options.menuActionClassNames||[]]}),this.dropdownMenuActionViewItem.render(this.element),this._register((0,L.addDisposableListener)(this.element,L.EventType.KEY_DOWN,l=>{var h,d,u;const n=new N.StandardKeyboardEvent(l);let r=!1;((h=this.dropdownMenuActionViewItem)===null||h===void 0?void 0:h.isFocused())&&n.equals(15)?(r=!0,(d=this.dropdownMenuActionViewItem)===null||d===void 0||d.blur(),this.focus()):this.isFocused()&&n.equals(17)&&(r=!0,this.blur(),(u=this.dropdownMenuActionViewItem)===null||u===void 0||u.focus()),r&&(n.preventDefault(),n.stopPropagation())}))}}blur(){var t;super.blur(),(t=this.dropdownMenuActionViewItem)===null||t===void 0||t.blur()}setFocusable(t){var a;super.setFocusable(t),(a=this.dropdownMenuActionViewItem)===null||a===void 0||a.setFocusable(t)}}e.ActionWithDropdownActionViewItem=v}),define(ee[256],te([0,1,188,27,454]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RegexCheckbox=e.WholeWordsCheckbox=e.CaseSensitiveCheckbox=void 0;const E=M.localize(0,null),g=M.localize(1,null),S=M.localize(2,null);class b extends L.Checkbox{constructor(t){super({icon:N.Codicon.caseSensitive,title:E+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionForeground:t.inputActiveOptionForeground,inputActiveOptionBackground:t.inputActiveOptionBackground})}}e.CaseSensitiveCheckbox=b;class p extends L.Checkbox{constructor(t){super({icon:N.Codicon.wholeWord,title:g+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionForeground:t.inputActiveOptionForeground,inputActiveOptionBackground:t.inputActiveOptionBackground})}}e.WholeWordsCheckbox=p;class v extends L.Checkbox{constructor(t){super({icon:N.Codicon.regex,title:S+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionForeground:t.inputActiveOptionForeground,inputActiveOptionBackground:t.inputActiveOptionBackground})}}e.RegexCheckbox=v}),define(ee[153],te([0,1,7,81,172,84,45,64,53,28,4,312,34,458,336]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryInputBox=e.InputBox=void 0;const l=L.$,h={inputBackground:p.Color.fromHex("#3C3C3C"),inputForeground:p.Color.fromHex("#CCCCCC"),inputValidationInfoBorder:p.Color.fromHex("#55AAFF"),inputValidationInfoBackground:p.Color.fromHex("#063B49"),inputValidationWarningBorder:p.Color.fromHex("#B89500"),inputValidationWarningBackground:p.Color.fromHex("#352A05"),inputValidationErrorBorder:p.Color.fromHex("#BE1100"),inputValidationErrorBackground:p.Color.fromHex("#5A1D1D")};class d extends b.Widget{constructor(r,s,o){var m;super();this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new v.Emitter),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new v.Emitter),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=s,this.options=o||Object.create(null),(0,t.mixin)(this.options,h,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(m=this.options.tooltip)!==null&&m!==void 0?m:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=L.append(r,l(".monaco-inputbox.idle"));let _=this.options.flexibleHeight?"textarea":"input",f=L.append(this.element,l(".ibwrapper"));if(this.input=L.append(f,l(_+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=L.append(f,l("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new S.ScrollableElement(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),L.append(r,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(y=>this.input.scrollTop=y.scrollTop));const c=this._register(new N.DomEmitter(document,"selectionchange")),C=v.Event.filter(c.event,()=>{const y=document.getSelection();return(y==null?void 0:y.anchorNode)===f});this._register(C(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this.ignoreGesture(this.input),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new E.ActionBar(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(r){this.placeholder=r,this.input.setAttribute("placeholder",r)}setTooltip(r){this.tooltip=r,this.input.title=r}setAriaLabel(r){this.ariaLabel=r,r?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get mirrorElement(){return this.mirror}get inputElement(){return this.input}get value(){return this.input.value}set value(r){this.input.value!==r&&(this.input.value=r,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:L.getTotalHeight(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(r=null){this.input.select(),r&&(this.input.setSelectionRange(r.start,r.end),r.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}setEnabled(r){r?this.enable():this.disable()}get width(){return L.getTotalWidth(this.input)}set width(r){if(this.options.flexibleHeight&&this.options.flexibleWidth){let s=0;if(this.mirror){const o=parseFloat(this.mirror.style.paddingLeft||"")||0,m=parseFloat(this.mirror.style.paddingRight||"")||0;s=o+m}this.input.style.width=r-s+"px"}else this.input.style.width=r+"px";this.mirror&&(this.mirror.style.width=r+"px")}set paddingRight(r){this.input.style.width=`calc(100% - ${r}px)`,this.mirror&&(this.mirror.style.paddingRight=r+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const r=this.cachedContentHeight,s=this.cachedHeight,o=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:r,height:s}),this.scrollableElement.setScrollPosition({scrollTop:o})}showMessage(r,s){this.message=r,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(r.type));const o=this.stylesForType(this.message.type);this.element.style.border=o.border?`1px solid ${o.border}`:"",(this.hasFocus()||s)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}isInputValid(){return!!this.validation&&!this.validation(this.value)}validate(){let r=null;return this.validation&&(r=this.validation(this.value),r?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(r)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),r==null?void 0:r.type}stylesForType(r){switch(r){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(r){switch(r){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let r,s=()=>r.style.width=L.getTotalWidth(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:m=>{if(!this.message)return null;r=L.append(m,l(".monaco-inputbox-container")),s();const _={inline:!0,className:"monaco-inputbox-message"},f=this.message.formatContent?(0,M.renderFormattedText)(this.message.content,_):(0,M.renderText)(this.message.content,_);f.classList.add(this.classForType(this.message.type));const c=this.stylesForType(this.message.type);return f.style.backgroundColor=c.background?c.background.toString():"",f.style.color=c.foreground?c.foreground.toString():"",f.style.border=c.border?`1px solid ${c.border}`:"",L.append(r,f),null},onHide:()=>{this.state="closed"},layout:s});let o;this.message.type===3?o=a.localize(0,null,this.message.content):this.message.type===2?o=a.localize(1,null,this.message.content):o=a.localize(2,null,this.message.content),g.alert(o),this.state="open"}_hideMessage(){!this.contextViewProvider||(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const r=this.value,o=r.charCodeAt(r.length-1)===10?" ":"";(r+o).replace(/\u000c/g,"")?this.mirror.textContent=r+o:this.mirror.innerText="\xA0",this.layout()}style(r){this.inputBackground=r.inputBackground,this.inputForeground=r.inputForeground,this.inputBorder=r.inputBorder,this.inputValidationInfoBackground=r.inputValidationInfoBackground,this.inputValidationInfoForeground=r.inputValidationInfoForeground,this.inputValidationInfoBorder=r.inputValidationInfoBorder,this.inputValidationWarningBackground=r.inputValidationWarningBackground,this.inputValidationWarningForeground=r.inputValidationWarningForeground,this.inputValidationWarningBorder=r.inputValidationWarningBorder,this.inputValidationErrorBackground=r.inputValidationErrorBackground,this.inputValidationErrorForeground=r.inputValidationErrorForeground,this.inputValidationErrorBorder=r.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const r=this.inputBackground?this.inputBackground.toString():"",s=this.inputForeground?this.inputForeground.toString():"",o=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=r,this.element.style.color=s,this.input.style.backgroundColor="inherit",this.input.style.color=s,this.element.style.borderWidth=o?"1px":"",this.element.style.borderStyle=o?"solid":"",this.element.style.borderColor=o}layout(){if(!this.mirror)return;const r=this.cachedContentHeight;this.cachedContentHeight=L.getTotalHeight(this.mirror),r!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(r){const s=this.inputElement,o=s.selectionStart,m=s.selectionEnd,_=s.value;o!==null&&m!==null&&(this.value=_.substr(0,o)+r+_.substr(m),s.setSelectionRange(o+1,o+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}e.InputBox=d;class u extends d{constructor(r,s,o){const m=a.localize(3,null),_=` or \u21C5 ${m}`,f=` (\u21C5 ${m})`;super(r,s,o);this.history=new i.HistoryNavigator(o.history,100);const c=()=>{if(o.showHistoryHint&&o.showHistoryHint()&&!this.placeholder.endsWith(_)&&!this.placeholder.endsWith(f)&&this.history.getHistory().length){const C=this.placeholder.endsWith(")")?_:f,y=this.placeholder+C;o.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=y:this.setPlaceHolder(y)}};this.observer=new MutationObserver((C,y)=>{C.forEach(w=>{w.target.textContent||c()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>c()),this.onblur(this.input,()=>{const C=y=>{if(this.placeholder.endsWith(y)){const w=this.placeholder.slice(0,this.placeholder.length-y.length);return o.showPlaceholderOnFocus?this.placeholder=w:this.setPlaceHolder(w),!0}else return!1};C(f)||C(_)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}getHistory(){return this.history.getHistory()}showNextValue(){this.history.has(this.value)||this.addToHistory();let r=this.getNextValue();r&&(r=r===this.value?this.getNextValue():r),r&&(this.value=r,g.status(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let r=this.getPreviousValue();r&&(r=r===this.value?this.getPreviousValue():r),r&&(this.value=r,g.status(this.value))}clearHistory(){this.history.clear()}getCurrentValue(){let r=this.history.current();return r||(r=this.history.last(),this.history.next()),r}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}e.HistoryInputBox=u}),define(ee[471],te([0,1,7,256,153,53,4,453,224]),function(Q,e,L,N,M,E,g,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindInput=void 0;const b=S.localize(0,null);class p extends E.Widget{constructor(i,t,a,l){super();this._showOptionButtons=a,this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this._onDidOptionChange=this._register(new g.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new g.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new g.Emitter),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new g.Emitter),this.onInput=this._onInput.event,this._onKeyUp=this._register(new g.Emitter),this.onKeyUp=this._onKeyUp.event,this._onCaseSensitiveKeyDown=this._register(new g.Emitter),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new g.Emitter),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=t,this.placeholder=l.placeholder||"",this.validation=l.validation,this.label=l.label||b,this.inputActiveOptionBorder=l.inputActiveOptionBorder,this.inputActiveOptionForeground=l.inputActiveOptionForeground,this.inputActiveOptionBackground=l.inputActiveOptionBackground,this.inputBackground=l.inputBackground,this.inputForeground=l.inputForeground,this.inputBorder=l.inputBorder,this.inputValidationInfoBorder=l.inputValidationInfoBorder,this.inputValidationInfoBackground=l.inputValidationInfoBackground,this.inputValidationInfoForeground=l.inputValidationInfoForeground,this.inputValidationWarningBorder=l.inputValidationWarningBorder,this.inputValidationWarningBackground=l.inputValidationWarningBackground,this.inputValidationWarningForeground=l.inputValidationWarningForeground,this.inputValidationErrorBorder=l.inputValidationErrorBorder,this.inputValidationErrorBackground=l.inputValidationErrorBackground,this.inputValidationErrorForeground=l.inputValidationErrorForeground;const h=l.appendCaseSensitiveLabel||"",d=l.appendWholeWordsLabel||"",u=l.appendRegexLabel||"",n=l.history||[],r=!!l.flexibleHeight,s=!!l.flexibleWidth,o=l.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new M.HistoryInputBox(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:n,showHistoryHint:l.showHistoryHint,flexibleHeight:r,flexibleWidth:s,flexibleMaxHeight:o})),this.regex=this._register(new N.RegexCheckbox({appendTitle:u,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(f=>{this._onDidOptionChange.fire(f),!f&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(f=>{this._onRegexKeyDown.fire(f)})),this.wholeWords=this._register(new N.WholeWordsCheckbox({appendTitle:d,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(f=>{this._onDidOptionChange.fire(f),!f&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new N.CaseSensitiveCheckbox({appendTitle:h,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(f=>{this._onDidOptionChange.fire(f),!f&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(f=>{this._onCaseSensitiveKeyDown.fire(f)})),this._showOptionButtons&&(this.inputBox.paddingRight=this.caseSensitive.width()+this.wholeWords.width()+this.regex.width());let m=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,f=>{if(f.equals(15)||f.equals(17)||f.equals(9)){let c=m.indexOf(document.activeElement);if(c>=0){let C=-1;f.equals(17)?C=(c+1)%m.length:f.equals(15)&&(c===0?C=m.length-1:C=c-1),f.equals(9)?(m[c].blur(),this.inputBox.focus()):C>=0&&m[C].focus(),L.EventHelper.stop(f,!0)}}});let _=document.createElement("div");_.className="controls",_.style.display=this._showOptionButtons?"block":"none",_.appendChild(this.caseSensitive.domNode),_.appendChild(this.wholeWords.domNode),_.appendChild(this.regex.domNode),this.domNode.appendChild(_),i&&i.appendChild(this.domNode),this._register(L.addDisposableListener(this.inputBox.inputElement,"compositionstart",f=>{this.imeSessionInProgress=!0})),this._register(L.addDisposableListener(this.inputBox.inputElement,"compositionend",f=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,f=>this._onKeyDown.fire(f)),this.onkeyup(this.inputBox.inputElement,f=>this._onKeyUp.fire(f)),this.oninput(this.inputBox.inputElement,f=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,f=>this._onMouseDown.fire(f))}get isImeSessionInProgress(){return this.imeSessionInProgress}get onDidChange(){return this.inputBox.onDidChange}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()}setFocusInputOnOptionClick(i){this.fixFocusOnOptionClickEnabled=i}setEnabled(i){i?this.enable():this.disable()}clear(){this.clearValidation(),this.setValue(""),this.focus()}getValue(){return this.inputBox.value}setValue(i){this.inputBox.value!==i&&(this.inputBox.value=i)}onSearchSubmit(){this.inputBox.addToHistory()}style(i){this.inputActiveOptionBorder=i.inputActiveOptionBorder,this.inputActiveOptionForeground=i.inputActiveOptionForeground,this.inputActiveOptionBackground=i.inputActiveOptionBackground,this.inputBackground=i.inputBackground,this.inputForeground=i.inputForeground,this.inputBorder=i.inputBorder,this.inputValidationInfoBackground=i.inputValidationInfoBackground,this.inputValidationInfoForeground=i.inputValidationInfoForeground,this.inputValidationInfoBorder=i.inputValidationInfoBorder,this.inputValidationWarningBackground=i.inputValidationWarningBackground,this.inputValidationWarningForeground=i.inputValidationWarningForeground,this.inputValidationWarningBorder=i.inputValidationWarningBorder,this.inputValidationErrorBackground=i.inputValidationErrorBackground,this.inputValidationErrorForeground=i.inputValidationErrorForeground,this.inputValidationErrorBorder=i.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const i={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(i),this.wholeWords.style(i),this.caseSensitive.style(i);const t={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(t)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(i){this.caseSensitive.checked=i}getWholeWords(){return this.wholeWords.checked}setWholeWords(i){this.wholeWords.checked=i}getRegex(){return this.regex.checked}setRegex(i){this.regex.checked=i,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}focusOnRegex(){this.regex.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(i){this.inputBox.showMessage(i)}clearMessage(){this.inputBox.hideMessage()}clearValidation(){this.inputBox.hideMessage()}}e.FindInput=p,p.OPTION_CHANGE="optionChange"}),define(ee[472],te([0,1,7,188,153,53,27,4,455,224]),function(Q,e,L,N,M,E,g,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceInput=e.PreserveCaseCheckbox=void 0;const p=b.localize(0,null),v=b.localize(1,null);class i extends N.Checkbox{constructor(l){super({icon:g.Codicon.preserveCase,title:v+l.appendTitle,isChecked:l.isChecked,inputActiveOptionBorder:l.inputActiveOptionBorder,inputActiveOptionForeground:l.inputActiveOptionForeground,inputActiveOptionBackground:l.inputActiveOptionBackground})}}e.PreserveCaseCheckbox=i;class t extends E.Widget{constructor(l,h,d,u){super();this._showOptionButtons=d,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new S.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new S.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new S.Emitter),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new S.Emitter),this.onInput=this._onInput.event,this._onKeyUp=this._register(new S.Emitter),this.onKeyUp=this._onKeyUp.event,this._onPreserveCaseKeyDown=this._register(new S.Emitter),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=h,this.placeholder=u.placeholder||"",this.validation=u.validation,this.label=u.label||p,this.inputActiveOptionBorder=u.inputActiveOptionBorder,this.inputActiveOptionForeground=u.inputActiveOptionForeground,this.inputActiveOptionBackground=u.inputActiveOptionBackground,this.inputBackground=u.inputBackground,this.inputForeground=u.inputForeground,this.inputBorder=u.inputBorder,this.inputValidationInfoBorder=u.inputValidationInfoBorder,this.inputValidationInfoBackground=u.inputValidationInfoBackground,this.inputValidationInfoForeground=u.inputValidationInfoForeground,this.inputValidationWarningBorder=u.inputValidationWarningBorder,this.inputValidationWarningBackground=u.inputValidationWarningBackground,this.inputValidationWarningForeground=u.inputValidationWarningForeground,this.inputValidationErrorBorder=u.inputValidationErrorBorder,this.inputValidationErrorBackground=u.inputValidationErrorBackground,this.inputValidationErrorForeground=u.inputValidationErrorForeground;const n=u.appendPreserveCaseLabel||"",r=u.history||[],s=!!u.flexibleHeight,o=!!u.flexibleWidth,m=u.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new M.HistoryInputBox(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:r,showHistoryHint:u.showHistoryHint,flexibleHeight:s,flexibleWidth:o,flexibleMaxHeight:m})),this.preserveCase=this._register(new i({appendTitle:n,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(c=>{this._onDidOptionChange.fire(c),!c&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(c=>{this._onPreserveCaseKeyDown.fire(c)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;let _=[this.preserveCase.domNode];this.onkeydown(this.domNode,c=>{if(c.equals(15)||c.equals(17)||c.equals(9)){let C=_.indexOf(document.activeElement);if(C>=0){let y=-1;c.equals(17)?y=(C+1)%_.length:c.equals(15)&&(C===0?y=_.length-1:y=C-1),c.equals(9)?(_[C].blur(),this.inputBox.focus()):y>=0&&_[y].focus(),L.EventHelper.stop(c,!0)}}});let f=document.createElement("div");f.className="controls",f.style.display=this._showOptionButtons?"block":"none",f.appendChild(this.preserveCase.domNode),this.domNode.appendChild(f),l&&l.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,c=>this._onKeyDown.fire(c)),this.onkeyup(this.inputBox.inputElement,c=>this._onKeyUp.fire(c)),this.oninput(this.inputBox.inputElement,c=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,c=>this._onMouseDown.fire(c))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setFocusInputOnOptionClick(l){this.fixFocusOnOptionClickEnabled=l}setEnabled(l){l?this.enable():this.disable()}clear(){this.clearValidation(),this.setValue(""),this.focus()}getValue(){return this.inputBox.value}setValue(l){this.inputBox.value!==l&&(this.inputBox.value=l)}onSearchSubmit(){this.inputBox.addToHistory()}style(l){this.inputActiveOptionBorder=l.inputActiveOptionBorder,this.inputActiveOptionForeground=l.inputActiveOptionForeground,this.inputActiveOptionBackground=l.inputActiveOptionBackground,this.inputBackground=l.inputBackground,this.inputForeground=l.inputForeground,this.inputBorder=l.inputBorder,this.inputValidationInfoBackground=l.inputValidationInfoBackground,this.inputValidationInfoForeground=l.inputValidationInfoForeground,this.inputValidationInfoBorder=l.inputValidationInfoBorder,this.inputValidationWarningBackground=l.inputValidationWarningBackground,this.inputValidationWarningForeground=l.inputValidationWarningForeground,this.inputValidationWarningBorder=l.inputValidationWarningBorder,this.inputValidationErrorBackground=l.inputValidationErrorBackground,this.inputValidationErrorForeground=l.inputValidationErrorForeground,this.inputValidationErrorBorder=l.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const l={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(l);const h={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(h)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(l){this.preserveCase.checked=l}focusOnPreserve(){this.preserveCase.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox&&this.inputBox.validate()}showMessage(l){this.inputBox&&this.inputBox.showMessage(l)}clearMessage(){this.inputBox&&this.inputBox.hideMessage()}clearValidation(){this.inputBox&&this.inputBox.hideMessage()}set width(l){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=l,this.domNode.style.width=l+"px"}dispose(){super.dispose()}}e.ReplaceInput=t,t.OPTION_CHANGE="optionChange"}),define(ee[473],te([0,1,36,57,7,44,59,84,104,141,221,64,46,10,27,110,2,15,8,460]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cleanMnemonic=e.Menu=e.Direction=e.MENU_ESCAPED_MNEMONIC_REGEX=e.MENU_MNEMONIC_REGEX=void 0,e.MENU_MNEMONIC_REGEX=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,e.MENU_ESCAPED_MNEMONIC_REGEX=/(&amp;)?(&amp;)([^\s&])/g;var s;(function(y){y[y.Right=0]="Right",y[y.Left=1]="Left"})(s=e.Direction||(e.Direction={}));class o extends S.ActionBar{constructor(w,D,I={}){w.classList.add("monaco-menu-container"),w.setAttribute("role","presentation");const T=document.createElement("div");T.classList.add("monaco-menu"),T.setAttribute("role","presentation"),super(T,{orientation:1,actionViewItemProvider:R=>this.doGetActionViewItem(R,I,F),context:I.context,actionRunner:I.actionRunner,ariaLabel:I.ariaLabel,focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...u.isMacintosh||u.isLinux?[10]:[]],keyDown:!0}}),this.menuElement=T,this.actionsList.setAttribute("role","menu"),this.actionsList.tabIndex=0,this.menuDisposables=this._register(new d.DisposableStore),this._register(N.Gesture.addTarget(T)),(0,M.addDisposableListener)(T,M.EventType.KEY_DOWN,R=>{new E.StandardKeyboardEvent(R).equals(2)&&R.preventDefault()}),I.enableMnemonics&&this.menuDisposables.add((0,M.addDisposableListener)(T,M.EventType.KEY_DOWN,R=>{const A=R.key.toLocaleLowerCase();if(this.mnemonics.has(A)){M.EventHelper.stop(R,!0);const O=this.mnemonics.get(A);if(O.length===1&&(O[0]instanceof _&&O[0].container&&this.focusItemByElement(O[0].container),O[0].onClick(R)),O.length>1){const k=O.shift();k&&k.container&&(this.focusItemByElement(k.container),O.push(k)),this.mnemonics.set(A,O)}}})),u.isLinux&&this._register((0,M.addDisposableListener)(T,M.EventType.KEY_DOWN,R=>{const A=new E.StandardKeyboardEvent(R);A.equals(14)||A.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),M.EventHelper.stop(R,!0)):(A.equals(13)||A.equals(12))&&(this.focusedItem=0,this.focusPrevious(),M.EventHelper.stop(R,!0))})),this._register((0,M.addDisposableListener)(this.domNode,M.EventType.MOUSE_OUT,R=>{let A=R.relatedTarget;(0,M.isAncestor)(A,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),R.stopPropagation())})),this._register((0,M.addDisposableListener)(this.actionsList,M.EventType.MOUSE_OVER,R=>{let A=R.target;if(!(!A||!(0,M.isAncestor)(A,this.actionsList)||A===this.actionsList)){for(;A.parentElement!==this.actionsList&&A.parentElement!==null;)A=A.parentElement;if(A.classList.contains("action-item")){const O=this.focusedItem;this.setFocusedItem(A),O!==this.focusedItem&&this.updateFocus()}}})),this._register(N.Gesture.addTarget(this.actionsList)),this._register((0,M.addDisposableListener)(this.actionsList,N.EventType.Tap,R=>{let A=R.initialTarget;if(!(!A||!(0,M.isAncestor)(A,this.actionsList)||A===this.actionsList)){for(;A.parentElement!==this.actionsList&&A.parentElement!==null;)A=A.parentElement;if(A.classList.contains("action-item")){const O=this.focusedItem;this.setFocusedItem(A),O!==this.focusedItem&&this.updateFocus()}}}));let F={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new i.DomScrollableElement(T,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const P=this.scrollableElement.getDomNode();P.style.position="",this._register((0,M.addDisposableListener)(T,N.EventType.Change,R=>{M.EventHelper.stop(R,!0);const A=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:A-R.translationY})})),this._register((0,M.addDisposableListener)(P,M.EventType.MOUSE_UP,R=>{R.preventDefault()})),T.style.maxHeight=`${Math.max(10,window.innerHeight-w.getBoundingClientRect().top-35)}px`,D=D.filter(R=>{var A;return((A=I.submenuIds)===null||A===void 0?void 0:A.has(R.id))?(console.warn(`Found submenu cycle: ${R.id}`),!1):!0}),this.push(D,{icon:!0,label:!0,isMenu:!0}),w.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(R=>!(R instanceof f)).forEach((R,A,O)=>{R.updatePositionInSet(A+1,O.length)})}initializeOrUpdateStyleSheet(w,D){this.styleSheet||((0,M.isInShadowDOM)(w)?this.styleSheet=(0,M.createStyleSheet)(w):(o.globalStyleSheet||(o.globalStyleSheet=(0,M.createStyleSheet)()),this.styleSheet=o.globalStyleSheet)),this.styleSheet.textContent=C(D)}style(w){const D=this.getContainer();this.initializeOrUpdateStyleSheet(D,w);const I=w.foregroundColor?`${w.foregroundColor}`:"",T=w.backgroundColor?`${w.backgroundColor}`:"",F=w.borderColor?`1px solid ${w.borderColor}`:"",P=w.shadowColor?`0 2px 4px ${w.shadowColor}`:"";D.style.border=F,this.domNode.style.color=I,this.domNode.style.backgroundColor=T,D.style.boxShadow=P,this.viewItems&&this.viewItems.forEach(R=>{(R instanceof m||R instanceof f)&&R.style(w)})}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}get scrollOffset(){return this.menuElement.scrollTop}trigger(w){if(w<=this.viewItems.length&&w>=0){const D=this.viewItems[w];if(D instanceof _)super.focus(w),D.open(!0);else if(D instanceof m)super.run(D._action,D._context);else return}}focusItemByElement(w){const D=this.focusedItem;this.setFocusedItem(w),D!==this.focusedItem&&this.updateFocus()}setFocusedItem(w){for(let D=0;D<this.actionsList.children.length;D++){let I=this.actionsList.children[D];if(w===I){this.focusedItem=D;break}}}updateFocus(w){super.updateFocus(w,!0,!0),typeof this.focusedItem!="undefined"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(w,D,I){if(w instanceof t.Separator)return new f(D.context,w,{icon:!0});if(w instanceof t.SubmenuAction){const T=new _(w,w.actions,I,Object.assign(Object.assign({},D),{submenuIds:new Set([...D.submenuIds||[],w.id])}));if(D.enableMnemonics){const F=T.getMnemonic();if(F&&T.isEnabled()){let P=[];this.mnemonics.has(F)&&(P=this.mnemonics.get(F)),P.push(T),this.mnemonics.set(F,P)}}return T}else{const T={enableMnemonics:D.enableMnemonics,useEventAsContext:D.useEventAsContext};if(D.getKeyBinding){const P=D.getKeyBinding(w);if(P){const R=P.getLabel();R&&(T.keybinding=R)}}const F=new m(D.context,w,T);if(D.enableMnemonics){const P=F.getMnemonic();if(P&&F.isEnabled()){let R=[];this.mnemonics.has(P)&&(R=this.mnemonics.get(P)),R.push(F),this.mnemonics.set(P,R)}}return F}}}e.Menu=o;class m extends b.BaseActionViewItem{constructor(w,D,I={}){if(I.isMenu=!0,super(D,D,I),this.options=I,this.options.icon=I.icon!==void 0?I.icon:!1,this.options.label=I.label!==void 0?I.label:!0,this.cssClass="",this.options.label&&I.enableMnemonics){let T=this.getAction().label;if(T){let F=e.MENU_MNEMONIC_REGEX.exec(T);F&&(this.mnemonic=(F[1]?F[1]:F[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new a.RunOnceScheduler(()=>{!this.element||(this._register((0,M.addDisposableListener)(this.element,M.EventType.MOUSE_UP,T=>{if(M.EventHelper.stop(T,!0),L.isFirefox){if(new g.StandardMouseEvent(T).rightButton)return;this.onClick(T)}else setTimeout(()=>{this.onClick(T)},0)})),this._register((0,M.addDisposableListener)(this.element,M.EventType.CONTEXT_MENU,T=>{M.EventHelper.stop(T,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(w){super.render(w),!!this.element&&(this.container=w,this.item=(0,M.append)(this.element,(0,M.$)("a.action-menu-item")),this._action.id===t.Separator.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,M.append)(this.item,(0,M.$)("span.menu-item-check"+l.Codicon.menuSelection.cssSelector)),this.check.setAttribute("role","none"),this.label=(0,M.append)(this.item,(0,M.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,M.append)(this.item,(0,M.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(w,D){this.item&&(this.item.setAttribute("aria-posinset",`${w}`),this.item.setAttribute("aria-setsize",`${D}`))}updateLabel(){if(!!this.label&&this.options.label){(0,M.clearNode)(this.label);let w=(0,h.stripIcons)(this.getAction().label);if(w){const D=c(w);this.options.enableMnemonics||(w=D),this.label.setAttribute("aria-label",D.replace(/&&/g,"&"));const I=e.MENU_MNEMONIC_REGEX.exec(w);if(I){w=n.escape(w),e.MENU_ESCAPED_MNEMONIC_REGEX.lastIndex=0;let T=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(w);for(;T&&T[1];)T=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(w);const F=P=>P.replace(/&amp;&amp;/g,"&amp;");T?this.label.append(n.ltrim(F(w.substr(0,T.index))," "),(0,M.$)("u",{"aria-hidden":"true"},T[3]),n.rtrim(F(w.substr(T.index+T[0].length))," ")):this.label.innerText=F(w).trim(),this.item&&this.item.setAttribute("aria-keyshortcuts",(I[1]?I[1]:I[3]).toLocaleLowerCase())}else this.label.innerText=w.replace(/&&/g,"&").trim()}}}updateTooltip(){let w=null;this.getAction().tooltip?w=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(w=this.getAction().label,this.options.keybinding&&(w=r.localize(0,null,w,this.options.keybinding))),w&&this.item&&(this.item.title=w)}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const w=this.getAction().checked;this.item.classList.toggle("checked",!!w),w!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",w?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const w=this.element&&this.element.classList.contains("focused"),D=w&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,I=w&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,T=w&&this.menuStyle.selectionBorderColor?`thin solid ${this.menuStyle.selectionBorderColor}`:"";this.item&&(this.item.style.color=D?D.toString():"",this.item.style.backgroundColor=I?I.toString():""),this.check&&(this.check.style.color=D?D.toString():""),this.container&&(this.container.style.border=T)}style(w){this.menuStyle=w,this.applyStyle()}}class _ extends m{constructor(w,D,I,T){super(w,w,T);this.submenuActions=D,this.parentData=I,this.submenuOptions=T,this.mysubmenu=null,this.submenuDisposables=this._register(new d.DisposableStore),this.mouseOver=!1,this.expandDirection=T&&T.expandDirection!==void 0?T.expandDirection:s.Right,this.showScheduler=new a.RunOnceScheduler(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new a.RunOnceScheduler(()=>{this.element&&!(0,M.isAncestor)((0,M.getActiveElement)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(w){super.render(w),!!this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,M.append)(this.item,(0,M.$)("span.submenu-indicator"+l.Codicon.menuSubmenu.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,M.addDisposableListener)(this.element,M.EventType.KEY_UP,D=>{let I=new E.StandardKeyboardEvent(D);(I.equals(17)||I.equals(3))&&(M.EventHelper.stop(D,!0),this.createSubmenu(!0))})),this._register((0,M.addDisposableListener)(this.element,M.EventType.KEY_DOWN,D=>{let I=new E.StandardKeyboardEvent(D);(0,M.getActiveElement)()===this.item&&(I.equals(17)||I.equals(3))&&M.EventHelper.stop(D,!0)})),this._register((0,M.addDisposableListener)(this.element,M.EventType.MOUSE_OVER,D=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,M.addDisposableListener)(this.element,M.EventType.MOUSE_LEAVE,D=>{this.mouseOver=!1})),this._register((0,M.addDisposableListener)(this.element,M.EventType.FOCUS_OUT,D=>{this.element&&!(0,M.isAncestor)((0,M.getActiveElement)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!1)})))}updateEnabled(){}open(w){this.cleanupExistingSubmenu(!1),this.createSubmenu(w)}onClick(w){M.EventHelper.stop(w,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(w){if(this.parentData.submenu&&(w||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch(D){}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(w,D,I,T){const F={top:0,left:0};return F.left=(0,v.layout)(w.width,D.width,{position:T===s.Right?0:1,offset:I.left,size:I.width}),F.left>=I.left&&F.left<I.left+I.width&&(I.left+10+D.width<=w.width&&(F.left=I.left+10),I.top+=10,I.height=0),F.top=(0,v.layout)(w.height,D.height,{position:0,offset:I.top,size:0}),F.top+D.height===I.top&&F.top+I.height+D.height<=w.height&&(F.top+=I.height),F}createSubmenu(w=!0){if(!!this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,M.append)(this.element,(0,M.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const D=getComputedStyle(this.parentData.parent.domNode),I=parseFloat(D.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new o(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new t.EmptySubmenuAction],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const T=this.element.getBoundingClientRect(),F={top:T.top-I,left:T.left,height:T.height+2*I,width:T.width},P=this.submenuContainer.getBoundingClientRect(),{top:R,left:A}=this.calculateSubmenuMenuLayout(new M.Dimension(window.innerWidth,window.innerHeight),M.Dimension.lift(P),F,this.expandDirection);this.submenuContainer.style.left=`${A-P.left}px`,this.submenuContainer.style.top=`${R-P.top}px`,this.submenuDisposables.add((0,M.addDisposableListener)(this.submenuContainer,M.EventType.KEY_UP,O=>{new E.StandardKeyboardEvent(O).equals(15)&&(M.EventHelper.stop(O,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,M.addDisposableListener)(this.submenuContainer,M.EventType.KEY_DOWN,O=>{new E.StandardKeyboardEvent(O).equals(15)&&M.EventHelper.stop(O,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(w),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(w){var D;this.item&&((D=this.item)===null||D===void 0||D.setAttribute("aria-expanded",w))}applyStyle(){if(super.applyStyle(),!this.menuStyle)return;const D=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=D?`${D}`:""),this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class f extends b.ActionViewItem{style(w){this.label&&(this.label.style.borderBottomColor=w.separatorColor?`${w.separatorColor}`:"")}}function c(y){const w=e.MENU_MNEMONIC_REGEX,D=w.exec(y);if(!D)return y;const I=!D[1];return y.replace(w,I?"$2$3":"").trim()}e.cleanMnemonic=c;function C(y){let w=`
.monaco-menu {
	font-size: 13px;

}

${(0,p.formatRule)(l.Codicon.menuSelection)}
${(0,p.formatRule)(l.Codicon.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221A\u03C6 */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	opacity: 0.4;
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid #bbb;
	padding-top: 1px;
	margin-left: .8em;
	margin-right: .8em;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	padding: 0.5em 0 0 0;
	margin-bottom: 0.5em;
	width: 100%;
	height: 0px !important;
	margin-left: .8em !important;
	margin-right: .8em !important;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	border: thin solid transparent; /* prevents jumping behaviour on hover or focus */
}


/* High Contrast Theming */
:host-context(.hc-black) .context-view.monaco-menu-container {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: .5em 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 1.8em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	padding: 0.2em 0 0 0;
	margin-bottom: 0.2em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}

/* Arrows */
.monaco-scrollable-element > .scrollbar > .scra {
	cursor: pointer;
	font-size: 11px !important;
}

.monaco-scrollable-element > .visible {
	opacity: 1;

	/* Background rule added for IE9 - to allow clicks on dom node */
	background:rgba(0,0,0,0);

	transition: opacity 100ms linear;
}
.monaco-scrollable-element > .invisible {
	opacity: 0;
	pointer-events: none;
}
.monaco-scrollable-element > .invisible.fade {
	transition: opacity 800ms linear;
}

/* Scrollable Content Inset Shadow */
.monaco-scrollable-element > .shadow {
	position: absolute;
	display: none;
}
.monaco-scrollable-element > .shadow.top {
	display: block;
	top: 0;
	left: 3px;
	height: 3px;
	width: 100%;
}
.monaco-scrollable-element > .shadow.left {
	display: block;
	top: 3px;
	left: 0;
	height: 100%;
	width: 3px;
}
.monaco-scrollable-element > .shadow.top-left-corner {
	display: block;
	top: 0;
	left: 0;
	height: 3px;
	width: 3px;
}
`;const D=y.scrollbarShadow;D&&(w+=`
			.monaco-scrollable-element > .shadow.top {
				box-shadow: ${D} 0 6px 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.left {
				box-shadow: ${D} 6px 0 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.top.left {
				box-shadow: ${D} 6px 6px 6px -6px inset;
			}
		`);const I=y.scrollbarSliderBackground;I&&(w+=`
			.monaco-scrollable-element > .scrollbar > .slider {
				background: ${I};
			}
		`);const T=y.scrollbarSliderHoverBackground;T&&(w+=`
			.monaco-scrollable-element > .scrollbar > .slider:hover {
				background: ${T};
			}
		`);const F=y.scrollbarSliderActiveBackground;return F&&(w+=`
			.monaco-scrollable-element > .scrollbar > .slider.active {
				background: ${F};
			}
		`),w}}),define(ee[474],te([0,1,7,44,59,153,2,82,143]),function(Q,e,L,N,M,E,g,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputBox=void 0;const b=L.$;class p extends g.Disposable{constructor(i){super();this.parent=i,this.onKeyDown=t=>L.addDisposableListener(this.inputBox.inputElement,L.EventType.KEY_DOWN,a=>{t(new N.StandardKeyboardEvent(a))}),this.onMouseDown=t=>L.addDisposableListener(this.inputBox.inputElement,L.EventType.MOUSE_DOWN,a=>{t(new M.StandardMouseEvent(a))}),this.onDidChange=t=>this.inputBox.onDidChange(t),this.container=L.append(this.parent,b(".quick-input-box")),this.inputBox=this._register(new E.InputBox(this.container,void 0))}get value(){return this.inputBox.value}set value(i){this.inputBox.value=i}select(i=null){this.inputBox.select(i)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}setPlaceholder(i){this.inputBox.setPlaceHolder(i)}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(i){this.inputBox.setPlaceHolder(i)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(i){this.inputBox.setAriaLabel(i)}get password(){return this.inputBox.inputElement.type==="password"}set password(i){this.inputBox.inputElement.type=i?"password":"text"}set enabled(i){this.inputBox.setEnabled(i)}hasFocus(){return this.inputBox.hasFocus()}setAttribute(i,t){this.inputBox.inputElement.setAttribute(i,t)}removeAttribute(i){this.inputBox.inputElement.removeAttribute(i)}showDecoration(i){i===S.default.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:i===S.default.Info?1:i===S.default.Warning?2:3,content:""})}stylesForType(i){return this.inputBox.stylesForType(i===S.default.Info?1:i===S.default.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(i){this.inputBox.style(i)}}e.QuickInputBox=p}),define(ee[475],te([5,6]),function(Q,e){return Q.create("vs/base/common/errorMessage",e)}),define(ee[257],te([0,1,19,20,475]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toErrorMessage=void 0;function E(p,v){return v&&(p.stack||p.stacktrace)?M.localize(0,null,S(p),g(p.stack)||g(p.stacktrace)):S(p)}function g(p){return Array.isArray(p)?p.join(`
`):p}function S(p){return typeof p.code=="string"&&typeof p.errno=="number"&&typeof p.syscall=="string"?M.localize(1,null,p.message):p.message||M.localize(2,null)}function b(p=null,v=!1){if(!p)return M.localize(3,null);if(Array.isArray(p)){const i=L.coalesce(p),t=b(i[0],v);return i.length>1?M.localize(4,null,t,i.length):t}if(N.isString(p))return p;if(p.detail){const i=p.detail;if(i.error)return E(i.error,v);if(i.exception)return E(i.exception,v)}return p.stack?E(p,v):p.message?p.message:M.localize(5,null)}e.toErrorMessage=b}),define(ee[476],te([5,6]),function(Q,e){return Q.create("vs/base/common/keybindingLabels",e)}),define(ee[189],te([0,1,476]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UserSettingsLabelProvider=e.ElectronAcceleratorLabelProvider=e.AriaLabelProvider=e.UILabelProvider=e.ModifierLabelProvider=void 0;class N{constructor(g,S,b=S){this.modifierLabels=[null],this.modifierLabels[2]=g,this.modifierLabels[1]=S,this.modifierLabels[3]=b}toLabel(g,S,b){if(S.length===0)return null;const p=[];for(let v=0,i=S.length;v<i;v++){const t=S[v],a=b(t);if(a===null)return null;p[v]=M(t,a,this.modifierLabels[g])}return p.join(" ")}}e.ModifierLabelProvider=N,e.UILabelProvider=new N({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:L.localize(0,null),shiftKey:L.localize(1,null),altKey:L.localize(2,null),metaKey:L.localize(3,null),separator:"+"},{ctrlKey:L.localize(4,null),shiftKey:L.localize(5,null),altKey:L.localize(6,null),metaKey:L.localize(7,null),separator:"+"}),e.AriaLabelProvider=new N({ctrlKey:L.localize(8,null),shiftKey:L.localize(9,null),altKey:L.localize(10,null),metaKey:L.localize(11,null),separator:"+"},{ctrlKey:L.localize(12,null),shiftKey:L.localize(13,null),altKey:L.localize(14,null),metaKey:L.localize(15,null),separator:"+"},{ctrlKey:L.localize(16,null),shiftKey:L.localize(17,null),altKey:L.localize(18,null),metaKey:L.localize(19,null),separator:"+"}),e.ElectronAcceleratorLabelProvider=new N({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),e.UserSettingsLabelProvider=new N({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function M(E,g,S){if(g===null)return"";const b=[];return E.ctrlKey&&b.push(S.ctrlKey),E.shiftKey&&b.push(S.shiftKey),E.altKey&&b.push(S.altKey),E.metaKey&&b.push(S.metaKey),g!==""&&b.push(g),b.join(S.separator)}}),define(ee[477],te([0,1,7,189,34,459,337]),function(Q,e,L,N,M,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingLabel=void 0;const g=L.$;class S{constructor(p,v,i){this.os=v,this.keyElements=new Set,this.options=i||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=L.append(p,g(".monaco-keybinding")),this.didEverRender=!1,p.appendChild(this.domNode)}get element(){return this.domNode}set(p,v){this.didEverRender&&this.keybinding===p&&S.areSame(this.matches,v)||(this.keybinding=p,this.matches=v,this.render())}render(){if(this.clear(),this.keybinding){let[p,v]=this.keybinding.getParts();p&&this.renderPart(this.domNode,p,this.matches?this.matches.firstPart:null),v&&(L.append(this.domNode,g("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,v,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){L.clearNode(this.domNode),this.keyElements.clear()}renderPart(p,v,i){const t=N.UILabelProvider.modifierLabels[this.os];v.ctrlKey&&this.renderKey(p,t.ctrlKey,Boolean(i==null?void 0:i.ctrlKey),t.separator),v.shiftKey&&this.renderKey(p,t.shiftKey,Boolean(i==null?void 0:i.shiftKey),t.separator),v.altKey&&this.renderKey(p,t.altKey,Boolean(i==null?void 0:i.altKey),t.separator),v.metaKey&&this.renderKey(p,t.metaKey,Boolean(i==null?void 0:i.metaKey),t.separator);const a=v.keyLabel;a&&this.renderKey(p,a,Boolean(i==null?void 0:i.keyCode),"")}renderKey(p,v,i,t){L.append(p,this.createKeyElement(v,i?".highlight":"")),t&&L.append(p,g("span.monaco-keybinding-key-separator",void 0,t))}renderUnbound(p){L.append(p,this.createKeyElement((0,E.localize)(0,null)))}createKeyElement(p,v=""){const i=g("span.monaco-keybinding-key"+v,void 0,p);return this.keyElements.add(i),i}style(p){this.labelBackground=p.keybindingLabelBackground,this.labelForeground=p.keybindingLabelForeground,this.labelBorder=p.keybindingLabelBorder,this.labelBottomBorder=p.keybindingLabelBottomBorder,this.labelShadow=p.keybindingLabelShadow,this.applyStyles()}applyStyles(){var p;if(this.element){for(const v of this.keyElements)this.labelBackground&&(v.style.backgroundColor=(p=this.labelBackground)===null||p===void 0?void 0:p.toString()),this.labelBorder&&(v.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(v.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(v.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(p,v){return p===v||!p&&!v?!0:!!p&&!!v&&(0,M.equals)(p.firstPart,v.firstPart)&&(0,M.equals)(p.chordPart,v.chordPart)}}e.KeybindingLabel=S}),define(ee[478],te([5,6]),function(Q,e){return Q.create("vs/base/parts/quickinput/browser/quickInput",e)}),define(ee[479],te([5,6]),function(Q,e){return Q.create("vs/base/parts/quickinput/browser/quickInputList",e)}),define(ee[480],te([0,1,7,44,84,186,477,46,19,27,216,96,4,110,2,15,20,228,479,143]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputList=e.QuickInputListFocus=void 0;const r=L.$;class s{constructor(w){this.hidden=!1,this._onChecked=new t.Emitter,this.onChecked=this._onChecked.event,Object.assign(this,w)}get checked(){return!!this._checked}set checked(w){w!==this._checked&&(this._checked=w,this._onChecked.fire(w))}dispose(){this._onChecked.dispose()}}class o{get templateId(){return o.ID}renderTemplate(w){const D=Object.create(null);D.toDisposeElement=[],D.toDisposeTemplate=[],D.entry=L.append(w,r(".quick-input-list-entry"));const I=L.append(D.entry,r("label.quick-input-list-label"));D.toDisposeTemplate.push(L.addStandardDisposableListener(I,L.EventType.CLICK,O=>{D.checkbox.offsetParent||O.preventDefault()})),D.checkbox=L.append(I,r("input.quick-input-list-checkbox")),D.checkbox.type="checkbox",D.toDisposeTemplate.push(L.addStandardDisposableListener(D.checkbox,L.EventType.CHANGE,O=>{D.element.checked=D.checkbox.checked}));const T=L.append(I,r(".quick-input-list-rows")),F=L.append(T,r(".quick-input-list-row")),P=L.append(T,r(".quick-input-list-row"));D.label=new E.IconLabel(F,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const R=L.append(F,r(".quick-input-list-entry-keybinding"));D.keybinding=new g.KeybindingLabel(R,h.OS);const A=L.append(P,r(".quick-input-list-label-meta"));return D.detail=new E.IconLabel(A,{supportHighlights:!0,supportIcons:!0}),D.separator=L.append(D.entry,r(".quick-input-list-separator")),D.actionBar=new M.ActionBar(D.entry),D.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),D.toDisposeTemplate.push(D.actionBar),D}renderElement(w,D,I){I.toDisposeElement=(0,l.dispose)(I.toDisposeElement),I.element=w,I.checkbox.checked=w.checked,I.toDisposeElement.push(w.onChecked(O=>I.checkbox.checked=O));const{labelHighlights:T,descriptionHighlights:F,detailHighlights:P}=w,R=Object.create(null);R.matches=T||[],R.descriptionTitle=w.saneDescription,R.descriptionMatches=F||[],R.extraClasses=w.item.iconClasses,R.italic=w.item.italic,R.strikethrough=w.item.strikethrough,I.label.setLabel(w.saneLabel,w.saneDescription,R),I.keybinding.set(w.item.keybinding),w.saneDetail&&I.detail.setLabel(w.saneDetail,void 0,{matches:P,title:w.saneDetail}),w.separator&&w.separator.label?(I.separator.textContent=w.separator.label,I.separator.style.display=""):I.separator.style.display="none",I.entry.classList.toggle("quick-input-list-separator-border",!!w.separator),I.actionBar.clear();const A=w.item.buttons;A&&A.length?(I.actionBar.push(A.map((O,k)=>{let V=O.iconClass||(O.iconPath?(0,u.getIconClass)(O.iconPath):void 0);O.alwaysVisible&&(V=V?`${V} always-visible`:"always-visible");const B=new S.Action(`id-${k}`,"",V,!0,()=>Me(this,void 0,void 0,function*(){w.fireButtonTriggered({button:O,item:w.item})}));return B.tooltip=O.tooltip||"",B}),{icon:!0,label:!1}),I.entry.classList.add("has-actions")):I.entry.classList.remove("has-actions")}disposeElement(w,D,I){I.toDisposeElement=(0,l.dispose)(I.toDisposeElement)}disposeTemplate(w){w.toDisposeElement=(0,l.dispose)(w.toDisposeElement),w.toDisposeTemplate=(0,l.dispose)(w.toDisposeTemplate)}}o.ID="listelement";class m{getHeight(w){return w.saneDetail?44:22}getTemplateId(w){return o.ID}}var _;(function(y){y[y.First=1]="First",y[y.Second=2]="Second",y[y.Last=3]="Last",y[y.Next=4]="Next",y[y.Previous=5]="Previous",y[y.NextPage=6]="NextPage",y[y.PreviousPage=7]="PreviousPage"})(_=e.QuickInputListFocus||(e.QuickInputListFocus={}));class f{constructor(w,D,I){this.parent=w,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new t.Emitter,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new t.Emitter,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new t.Emitter,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new t.Emitter,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new t.Emitter,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new t.Emitter,this.onKeyDown=this._onKeyDown.event,this._onLeave=new t.Emitter,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=D,this.container=L.append(this.parent,r(".quick-input-list"));const T=new m,F=new C;this.list=I.createList("QuickInput",this.container,T,[new o],{identityProvider:{getId:P=>P.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:F}),this.list.getHTMLElement().id=D,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(P=>{const R=new N.StandardKeyboardEvent(P);switch(R.keyCode){case 10:this.toggleCheckbox();break;case 31:(h.isMacintosh?P.metaKey:P.ctrlKey)&&this.list.setFocus((0,b.range)(this.list.length));break;case 16:const A=this.list.getFocus();A.length===1&&A[0]===0&&this._onLeave.fire();break;case 18:const O=this.list.getFocus();O.length===1&&O[0]===this.list.length-1&&this._onLeave.fire();break}this._onKeyDown.fire(R)})),this.disposables.push(this.list.onMouseDown(P=>{P.browserEvent.button!==2&&P.browserEvent.preventDefault()})),this.disposables.push(L.addDisposableListener(this.container,L.EventType.CLICK,P=>{(P.x||P.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(P=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(P=>{typeof P.index=="number"&&(P.browserEvent.preventDefault(),this.list.setSelection([P.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return t.Event.map(this.list.onDidChangeFocus,w=>w.elements.map(D=>D.item))}get onDidChangeSelection(){return t.Event.map(this.list.onDidChangeSelection,w=>({items:w.elements.map(D=>D.item),event:w.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(w){this.list.scrollTop=w}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(w,D=!0){for(let I=0,T=w.length;I<T;I++){const F=w[I];if(!F.hidden)if(F.checked)D=!0;else return!1}return D}getCheckedCount(){let w=0;const D=this.elements;for(let I=0,T=D.length;I<T;I++)D[I].checked&&w++;return w}getVisibleCount(){let w=0;const D=this.elements;for(let I=0,T=D.length;I<T;I++)D[I].hidden||w++;return w}setAllVisibleChecked(w){try{this._fireCheckedEvents=!1,this.elements.forEach(D=>{D.hidden||(D.checked=w)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(w){this.elementDisposables=(0,l.dispose)(this.elementDisposables);const D=I=>this.fireButtonTriggered(I);this.inputElements=w,this.elements=w.reduce((I,T,F)=>{var P,R,A;if(T.type!=="separator"){const O=F&&w[F-1],k=T.label&&T.label.replace(/\r?\n/g," "),V=T.meta&&T.meta.replace(/\r?\n/g," "),B=T.description&&T.description.replace(/\r?\n/g," "),x=T.detail&&T.detail.replace(/\r?\n/g," "),K=T.ariaLabel||[k,B,x].map(X=>(0,p.getCodiconAriaLabel)(X)).filter(X=>!!X).join(", ");I.push(new s({index:F,item:T,saneLabel:k,saneMeta:V,saneAriaLabel:K,saneDescription:B,saneDetail:x,labelHighlights:(P=T.highlights)===null||P===void 0?void 0:P.label,descriptionHighlights:(R=T.highlights)===null||R===void 0?void 0:R.description,detailHighlights:(A=T.highlights)===null||A===void 0?void 0:A.detail,checked:!1,separator:O&&O.type==="separator"?O:void 0,fireButtonTriggered:D}))}return I},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(I=>I.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((I,T,F)=>(I.set(T.item,F),I),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getElementsCount(){return this.inputElements.length}getFocusedElements(){return this.list.getFocusedElements().map(w=>w.item)}setFocusedElements(w){if(this.list.setFocus(w.filter(D=>this.elementsToIndexes.has(D)).map(D=>this.elementsToIndexes.get(D))),w.length>0){const D=this.list.getFocus()[0];typeof D=="number"&&this.list.reveal(D)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}getSelectedElements(){return this.list.getSelectedElements().map(w=>w.item)}setSelectedElements(w){this.list.setSelection(w.filter(D=>this.elementsToIndexes.has(D)).map(D=>this.elementsToIndexes.get(D)))}getCheckedElements(){return this.elements.filter(w=>w.checked).map(w=>w.item)}setCheckedElements(w){try{this._fireCheckedEvents=!1;const D=new Set;for(const I of w)D.add(I);for(const I of this.elements)I.checked=D.has(I.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(w){this.list.getHTMLElement().style.pointerEvents=w?"":"none"}focus(w){if(!this.list.length)return;switch(w===_.Next&&this.list.getFocus()[0]===this.list.length-1&&(w=_.First),w===_.Previous&&this.list.getFocus()[0]===0&&(w=_.Last),w===_.Second&&this.list.length<2&&(w=_.First),w){case _.First:this.list.focusFirst();break;case _.Second:this.list.focusNth(1);break;case _.Last:this.list.focusLast();break;case _.Next:this.list.focusNext();break;case _.Previous:this.list.focusPrevious();break;case _.NextPage:this.list.focusNextPage();break;case _.PreviousPage:this.list.focusPreviousPage();break}const D=this.list.getFocus()[0];typeof D=="number"&&this.list.reveal(D)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(w){this.list.getHTMLElement().style.maxHeight=w?`calc(${Math.floor(w/44)*44}px)`:"",this.list.layout()}filter(w){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;if(w=w.trim(),!w||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(I=>{I.labelHighlights=void 0,I.descriptionHighlights=void 0,I.detailHighlights=void 0,I.hidden=!1;const T=I.index&&this.inputElements[I.index-1];I.separator=T&&T.type==="separator"?T:void 0});else{let I;this.elements.forEach(T=>{const F=this.matchOnLabel?(0,d.withNullAsUndefined)((0,a.matchesFuzzyIconAware)(w,(0,a.parseLabelWithIcons)(T.saneLabel))):void 0,P=this.matchOnDescription?(0,d.withNullAsUndefined)((0,a.matchesFuzzyIconAware)(w,(0,a.parseLabelWithIcons)(T.saneDescription||""))):void 0,R=this.matchOnDetail?(0,d.withNullAsUndefined)((0,a.matchesFuzzyIconAware)(w,(0,a.parseLabelWithIcons)(T.saneDetail||""))):void 0,A=this.matchOnMeta?(0,d.withNullAsUndefined)((0,a.matchesFuzzyIconAware)(w,(0,a.parseLabelWithIcons)(T.saneMeta||""))):void 0;if(F||P||R||A?(T.labelHighlights=F,T.descriptionHighlights=P,T.detailHighlights=R,T.hidden=!1):(T.labelHighlights=void 0,T.descriptionHighlights=void 0,T.detailHighlights=void 0,T.hidden=!T.item.alwaysShow),T.separator=void 0,!this.sortByLabel){const O=T.index&&this.inputElements[T.index-1];I=O&&O.type==="separator"?O:I,I&&!T.hidden&&(T.separator=I,I=void 0)}})}const D=this.elements.filter(I=>!I.hidden);if(this.sortByLabel&&w){const I=w.toLowerCase();D.sort((T,F)=>c(T,F,I))}return this.elementsToIndexes=D.reduce((I,T,F)=>(I.set(T.item,F),I),new Map),this.list.splice(0,this.list.length,D),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(D.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const w=this.list.getFocusedElements(),D=this.allVisibleChecked(w);for(const I of w)I.checked=!D}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(w){this.container.style.display=w?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=(0,l.dispose)(this.elementDisposables),this.disposables=(0,l.dispose)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(w){this._onButtonTriggered.fire(w)}style(w){this.list.style(w)}}Ve([i.memoize],f.prototype,"onDidChangeFocus",null),Ve([i.memoize],f.prototype,"onDidChangeSelection",null),e.QuickInputList=f;function c(y,w,D){const I=y.labelHighlights||[],T=w.labelHighlights||[];return I.length&&!T.length?-1:!I.length&&T.length?1:I.length===0&&T.length===0?0:(0,v.compareAnything)(y.saneLabel,w.saneLabel,D)}class C{getWidgetAriaLabel(){return(0,n.localize)(0,null)}getAriaLabel(w){return w.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(){return"option"}}}),define(ee[481],te([0,1,7,44,84,468,222,111,340,46,19,10,21,27,4,2,15,82,20,228,219,478,474,480,143]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u,n,r,s,o,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputController=void 0;const f=L.$,c={iconClass:a.Codicon.quickInputBack.classNames,tooltip:(0,o.localize)(0,null),handle:-1};class C extends h.Disposable{constructor(T){super();this.ui=T,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=C.noPromptMessage,this._severity=u.default.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new l.Emitter),this.onDidHideEmitter=this._register(new l.Emitter),this.onDisposeEmitter=this._register(new l.Emitter),this.visibleDisposables=this._register(new h.DisposableStore),this.onDidTriggerButton=this.onDidTriggerButtonEmitter.event,this.onDidHide=this.onDidHideEmitter.event,this.onDispose=this.onDisposeEmitter.event}get title(){return this._title}set title(T){this._title=T,this.update()}get description(){return this._description}set description(T){this._description=T,this.update()}get step(){return this._steps}set step(T){this._steps=T,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(T){this._totalSteps=T,this.update()}get enabled(){return this._enabled}set enabled(T){this._enabled=T,this.update()}get contextKey(){return this._contextKey}set contextKey(T){this._contextKey=T,this.update()}get busy(){return this._busy}set busy(T){this._busy=T,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(T){const F=this._ignoreFocusOut!==T&&!d.isIOS;this._ignoreFocusOut=T&&!d.isIOS,F&&this.update()}get buttons(){return this._buttons}set buttons(T){this._buttons=T,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(T){this._validationMessage=T,this.update()}get severity(){return this._severity}set severity(T){this._severity=T,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(T=>{this.buttons.indexOf(T)!==-1&&this.onDidTriggerButtonEmitter.fire(T)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.update())}hide(){!this.visible||this.ui.hide()}didHide(T=s.QuickInputHideReason.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:T})}update(){if(!this.visible)return;const T=this.getTitle();T&&this.ui.title.textContent!==T?this.ui.title.textContent=T:!T&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0");const F=this.getDescription();if(this.ui.description1.textContent!==F&&(this.ui.description1.textContent=F),this.ui.description2.textContent!==F&&(this.ui.description2.textContent=F),this.busy&&!this.busyDelay&&(this.busyDelay=new i.TimeoutTimer,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const R=this.buttons.filter(O=>O===c);this.ui.leftActionBar.push(R.map((O,k)=>{const V=new p.Action(`id-${k}`,"",O.iconClass||(0,r.getIconClass)(O.iconPath),!0,()=>Me(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(O)}));return V.tooltip=O.tooltip||"",V}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const A=this.buttons.filter(O=>O!==c);this.ui.rightActionBar.push(A.map((O,k)=>{const V=new p.Action(`id-${k}`,"",O.iconClass||(0,r.getIconClass)(O.iconPath),!0,()=>Me(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(O)}));return V.tooltip=O.tooltip||"",V}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const P=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==P&&(this._lastValidationMessage=P,L.reset(this.ui.message,...(0,S.renderLabelWithIcons)(P))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,o.localize)(2,null,this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(T){if(this.ui.inputBox.showDecoration(T),T!==u.default.Ignore){const F=this.ui.inputBox.stylesForType(T);this.ui.message.style.color=F.foreground?`${F.foreground}`:"",this.ui.message.style.backgroundColor=F.background?`${F.background}`:"",this.ui.message.style.border=F.border?`1px solid ${F.border}`:"",this.ui.message.style.paddingBottom="4px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.paddingBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}C.noPromptMessage=(0,o.localize)(1,null);class y extends C{constructor(){super(...arguments);this._value="",this.onDidChangeValueEmitter=this._register(new l.Emitter),this.onWillAcceptEmitter=this._register(new l.Emitter),this.onDidAcceptEmitter=this._register(new l.Emitter),this.onDidCustomEmitter=this._register(new l.Emitter),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=this.ui.isScreenReaderOptimized()?s.ItemActivation.NONE:s.ItemActivation.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new l.Emitter),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new l.Emitter),this.onDidTriggerItemButtonEmitter=this._register(new l.Emitter),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=T=>T,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidCustom=this.onDidCustomEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(T){this._quickNavigate=T,this.update()}get value(){return this._value}set value(T){this._value!==T&&(this._value=T||"",this.update(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(T){this._ariaLabel=T,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(T){this._placeholder=T,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(T){this.ui.list.scrollTop=T}set items(T){this._items=T,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(T){this._canSelectMany=T,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(T){this._canAcceptInBackground=T}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(T){this._matchOnDescription=T,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(T){this._matchOnDetail=T,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(T){this._matchOnLabel=T,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(T){this._sortByLabel=T,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(T){this._autoFocusOnList=T,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(T){this._keepScrollPosition=T}get itemActivation(){return this._itemActivation}set itemActivation(T){this._itemActivation=T}get activeItems(){return this._activeItems}set activeItems(T){this._activeItems=T,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(T){this._selectedItems=T,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?s.NO_KEY_MODS:this.ui.keyMods}set valueSelection(T){this._valueSelection=T,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(T){this._customButton=T,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(T){this._customButtonLabel=T,this.update()}get customHover(){return this._customButtonHover}set customHover(T){this._customButtonHover=T,this.update()}get ok(){return this._ok}set ok(T){this._ok=T,this.update()}inputHasFocus(){return this.visible?this.ui.inputBox.hasFocus():!1}focusOnInput(){this.ui.inputBox.setFocus()}get hideInput(){return!!this._hideInput}set hideInput(T){this._hideInput=T,this.update()}get hideCheckAll(){return!!this._hideCheckAll}set hideCheckAll(T){this._hideCheckAll=T,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(_.QuickInputListFocus.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(T=>{if(T===this.value)return;this._value=T,this.ui.list.filter(this.filterValue(this.ui.inputBox.value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(T)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(T=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(T=>{switch(T.keyCode){case 18:this.ui.list.focus(_.QuickInputListFocus.Next),this.canSelectMany&&this.ui.list.domFocus(),L.EventHelper.stop(T,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(_.QuickInputListFocus.Previous):this.ui.list.focus(_.QuickInputListFocus.Last),this.canSelectMany&&this.ui.list.domFocus(),L.EventHelper.stop(T,!0);break;case 12:this.ui.list.focus(_.QuickInputListFocus.NextPage),this.canSelectMany&&this.ui.list.domFocus(),L.EventHelper.stop(T,!0);break;case 11:this.ui.list.focus(_.QuickInputListFocus.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),L.EventHelper.stop(T,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(T.ctrlKey||T.metaKey)&&!T.shiftKey&&!T.altKey&&(this.ui.list.focus(_.QuickInputListFocus.First),L.EventHelper.stop(T,!0));break;case 13:(T.ctrlKey||T.metaKey)&&!T.shiftKey&&!T.altKey&&(this.ui.list.focus(_.QuickInputListFocus.Last),L.EventHelper.stop(T,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(T=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,v.equals)(T,this._activeItems,(F,P)=>F===P)||(this._activeItems=T,this.onDidChangeActiveEmitter.fire(T))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:T,event:F})=>{if(this.canSelectMany){T.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&(0,v.equals)(T,this._selectedItems,(P,R)=>P===R)||(this._selectedItems=T,this.onDidChangeSelectionEmitter.fire(T),T.length&&this.handleAccept(F instanceof MouseEvent&&F.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(T=>{!this.canSelectMany||this.selectedItemsToConfirm!==this._selectedItems&&(0,v.equals)(T,this._selectedItems,(F,P)=>F===P)||(this._selectedItems=T,this.onDidChangeSelectionEmitter.fire(T))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(T=>this.onDidTriggerItemButtonEmitter.fire(T))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(T){let F=!1;this.onWillAcceptEmitter.fire({veto:()=>F=!0}),F||this.onDidAcceptEmitter.fire({inBackground:T})}registerQuickNavigation(){return L.addDisposableListener(this.ui.container,L.EventType.KEY_UP,T=>{if(this.canSelectMany||!this._quickNavigate)return;const F=new N.StandardKeyboardEvent(T),P=F.keyCode;this._quickNavigate.keybindings.some(O=>{const[k,V]=O.getParts();return V?!1:k.shiftKey&&P===4?!(F.ctrlKey||F.altKey||F.metaKey):!!(k.altKey&&P===6||k.ctrlKey&&P===5||k.metaKey&&P===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const T=this.keepScrollPosition?this.scrollTop:0,F=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",F&&!this.description);const P={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!F,progressBar:!F,visibleCount:!0,count:this.canSelectMany,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(P),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");const R=this.ariaLabel||this.placeholder||y.DEFAULT_ARIA_LABEL;if(this.ui.inputBox.ariaLabel!==R&&(this.ui.inputBox.ariaLabel=R),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case s.ItemActivation.NONE:this._itemActivation=s.ItemActivation.FIRST;break;case s.ItemActivation.SECOND:this.ui.list.focus(_.QuickInputListFocus.Second),this._itemActivation=s.ItemActivation.FIRST;break;case s.ItemActivation.LAST:this.ui.list.focus(_.QuickInputListFocus.Last),this._itemActivation=s.ItemActivation.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),P.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(_.QuickInputListFocus.First)),this.keepScrollPosition&&(this.scrollTop=T)}}y.DEFAULT_ARIA_LABEL=(0,o.localize)(3,null);class w extends C{constructor(){super(...arguments);this._value="",this.valueSelectionUpdated=!0,this._password=!1,this.onDidValueChangeEmitter=this._register(new l.Emitter),this.onDidAcceptEmitter=this._register(new l.Emitter),this.onDidChangeValue=this.onDidValueChangeEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event}get value(){return this._value}set value(T){this._value=T||"",this.update()}set valueSelection(T){this._valueSelection=T,this.valueSelectionUpdated=!0,this.update()}get placeholder(){return this._placeholder}set placeholder(T){this._placeholder=T,this.update()}get password(){return this._password}set password(T){this._password=T,this.update()}get prompt(){return this._prompt}set prompt(T){this._prompt=T,this.noValidationMessage=T?(0,o.localize)(4,null,T):C.noPromptMessage,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(T=>{T!==this.value&&(this._value=T,this.onDidValueChangeEmitter.fire(T))})),this.visibleDisposables.add(this.ui.onDidAccept(()=>this.onDidAcceptEmitter.fire())),this.valueSelectionUpdated=!0),super.show()}update(){if(!this.visible)return;const T={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description||!!this.step,inputBox:!0,message:!0};this.ui.setVisibilities(T),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||""),this.ui.inputBox.password!==this.password&&(this.ui.inputBox.password=this.password)}}class D extends h.Disposable{constructor(T){super();this.options=T,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new l.Emitter),this.onDidCustomEmitter=this._register(new l.Emitter),this.onDidTriggerButtonEmitter=this._register(new l.Emitter),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new l.Emitter),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new l.Emitter),this.onHide=this.onHideEmitter.event,this.backButton=c,this.idPrefix=T.idPrefix,this.parentElement=T.container,this.styles=T.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const T=F=>{this.keyMods.ctrlCmd=F.ctrlKey||F.metaKey,this.keyMods.alt=F.altKey};this._register(L.addDisposableListener(window,L.EventType.KEY_DOWN,T,!0)),this._register(L.addDisposableListener(window,L.EventType.KEY_UP,T,!0)),this._register(L.addDisposableListener(window,L.EventType.MOUSE_DOWN,T,!0))}getUI(){if(this.ui)return this.ui;const T=L.append(this.parentElement,f(".quick-input-widget.show-file-icons"));T.tabIndex=-1,T.style.display="none";const F=L.createStyleSheet(T),P=L.append(T,f(".quick-input-titlebar")),R=this._register(new M.ActionBar(P));R.domNode.classList.add("quick-input-left-action-bar");const A=L.append(P,f(".quick-input-title")),O=this._register(new M.ActionBar(P));O.domNode.classList.add("quick-input-right-action-bar");const k=L.append(T,f(".quick-input-description")),V=L.append(T,f(".quick-input-header")),B=L.append(V,f("input.quick-input-check-all"));B.type="checkbox",this._register(L.addStandardDisposableListener(B,L.EventType.CHANGE,pe=>{const oe=B.checked;J.setAllVisibleChecked(oe)})),this._register(L.addDisposableListener(B,L.EventType.CLICK,pe=>{(pe.x||pe.y)&&Z.setFocus()}));const x=L.append(V,f(".quick-input-description")),K=L.append(V,f(".quick-input-and-message")),X=L.append(K,f(".quick-input-filter")),Z=this._register(new m.QuickInputBox(X));Z.setAttribute("aria-describedby",`${this.idPrefix}message`);const q=L.append(X,f(".quick-input-visible-count"));q.setAttribute("aria-live","polite"),q.setAttribute("aria-atomic","true");const H=new g.CountBadge(q,{countFormat:(0,o.localize)(5,null)}),G=L.append(X,f(".quick-input-count"));G.setAttribute("aria-live","polite");const z=new g.CountBadge(G,{countFormat:(0,o.localize)(6,null)}),W=L.append(V,f(".quick-input-action")),j=new E.Button(W);j.label=(0,o.localize)(7,null),this._register(j.onDidClick(pe=>{this.onDidAcceptEmitter.fire()}));const U=L.append(V,f(".quick-input-action")),Y=new E.Button(U);Y.label=(0,o.localize)(8,null),this._register(Y.onDidClick(pe=>{this.onDidCustomEmitter.fire()}));const ne=L.append(K,f(`#${this.idPrefix}message.quick-input-message`)),J=this._register(new _.QuickInputList(T,this.idPrefix+"list",this.options));this._register(J.onChangedAllVisibleChecked(pe=>{B.checked=pe})),this._register(J.onChangedVisibleCount(pe=>{H.setCount(pe)})),this._register(J.onChangedCheckedCount(pe=>{z.setCount(pe)})),this._register(J.onLeave(()=>{setTimeout(()=>{Z.setFocus(),this.controller instanceof y&&this.controller.canSelectMany&&J.clearFocus()},0)})),this._register(J.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));const re=new b.ProgressBar(T);re.getContainer().classList.add("quick-input-progress");const ge=L.trackFocus(T);return this._register(ge),this._register(L.addDisposableListener(T,L.EventType.FOCUS,pe=>{this.previousFocusElement=pe.relatedTarget instanceof HTMLElement?pe.relatedTarget:void 0},!0)),this._register(ge.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(s.QuickInputHideReason.Blur),this.previousFocusElement=void 0})),this._register(L.addDisposableListener(T,L.EventType.FOCUS,pe=>{Z.setFocus()})),this._register(L.addDisposableListener(T,L.EventType.KEY_DOWN,pe=>{const oe=new N.StandardKeyboardEvent(pe);switch(oe.keyCode){case 3:L.EventHelper.stop(pe,!0),this.onDidAcceptEmitter.fire();break;case 9:L.EventHelper.stop(pe,!0),this.hide(s.QuickInputHideReason.Gesture);break;case 2:if(!oe.altKey&&!oe.ctrlKey&&!oe.metaKey){const $=[".action-label.codicon"];T.classList.contains("show-checkboxes")?$.push("input"):$.push("input[type=text]"),this.getUI().list.isDisplayed()&&$.push(".monaco-list");const ie=T.querySelectorAll($.join(", "));oe.shiftKey&&oe.target===ie[0]?(L.EventHelper.stop(pe,!0),ie[ie.length-1].focus()):!oe.shiftKey&&oe.target===ie[ie.length-1]&&(L.EventHelper.stop(pe,!0),ie[0].focus())}break}})),this.ui={container:T,styleSheet:F,leftActionBar:R,titleBar:P,title:A,description1:k,description2:x,rightActionBar:O,checkAll:B,filterContainer:X,inputBox:Z,visibleCountContainer:q,visibleCount:H,countContainer:G,count:z,okContainer:W,ok:j,message:ne,customButtonContainer:U,customButton:Y,list:J,progressBar:re,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:pe=>this.show(pe),hide:()=>this.hide(),setVisibilities:pe=>this.setVisibilities(pe),setComboboxAccessibility:pe=>this.setComboboxAccessibility(pe),setEnabled:pe=>this.setEnabled(pe),setContextKey:pe=>this.options.setContextKey(pe)},this.updateStyles(),this.ui}pick(T,F={},P=t.CancellationToken.None){return new Promise((R,A)=>{let O=x=>{O=R,F.onKeyMods&&F.onKeyMods(k.keyMods),R(x)};if(P.isCancellationRequested){O(void 0);return}const k=this.createQuickPick();let V;const B=[k,k.onDidAccept(()=>{if(k.canSelectMany)O(k.selectedItems.slice()),k.hide();else{const x=k.activeItems[0];x&&(O(x),k.hide())}}),k.onDidChangeActive(x=>{const K=x[0];K&&F.onDidFocus&&F.onDidFocus(K)}),k.onDidChangeSelection(x=>{if(!k.canSelectMany){const K=x[0];K&&(O(K),k.hide())}}),k.onDidTriggerItemButton(x=>F.onDidTriggerItemButton&&F.onDidTriggerItemButton(Object.assign(Object.assign({},x),{removeItem:()=>{const K=k.items.indexOf(x.item);if(K!==-1){const X=k.items.slice(),Z=X.splice(K,1),q=k.activeItems.filter(G=>G!==Z[0]),H=k.keepScrollPosition;k.keepScrollPosition=!0,k.items=X,q&&(k.activeItems=q),k.keepScrollPosition=H}}}))),k.onDidChangeValue(x=>{V&&!x&&(k.activeItems.length!==1||k.activeItems[0]!==V)&&(k.activeItems=[V])}),P.onCancellationRequested(()=>{k.hide()}),k.onDidHide(()=>{(0,h.dispose)(B),O(void 0)})];k.title=F.title,k.canSelectMany=!!F.canPickMany,k.placeholder=F.placeHolder,k.ignoreFocusOut=!!F.ignoreFocusLost,k.matchOnDescription=!!F.matchOnDescription,k.matchOnDetail=!!F.matchOnDetail,k.matchOnLabel=F.matchOnLabel===void 0||F.matchOnLabel,k.autoFocusOnList=F.autoFocusOnList===void 0||F.autoFocusOnList,k.quickNavigate=F.quickNavigate,k.contextKey=F.contextKey,k.busy=!0,Promise.all([T,F.activeItem]).then(([x,K])=>{V=K,k.busy=!1,k.items=x,k.canSelectMany&&(k.selectedItems=x.filter(X=>X.type!=="separator"&&X.picked)),V&&(k.activeItems=[V])}),k.show(),Promise.resolve(T).then(void 0,x=>{A(x),k.hide()})})}setValidationOnInput(T,F){F&&(0,n.isString)(F)?(T.severity=u.default.Error,T.validationMessage=F):F&&!(0,n.isString)(F)?(T.severity=F.severity,T.validationMessage=F.content):(T.severity=u.default.Ignore,T.validationMessage=void 0)}input(T={},F=t.CancellationToken.None){return new Promise(P=>{if(F.isCancellationRequested){P(void 0);return}const R=this.createInputBox(),A=T.validateInput||(()=>Promise.resolve(void 0)),O=l.Event.debounce(R.onDidChangeValue,(x,K)=>K,100);let k=T.value||"",V=Promise.resolve(A(k));const B=[R,O(x=>{x!==k&&(V=Promise.resolve(A(x)),k=x),V.then(K=>{x===k&&this.setValidationOnInput(R,K)})}),R.onDidAccept(()=>{const x=R.value;x!==k&&(V=Promise.resolve(A(x)),k=x),V.then(K=>{!K||!(0,n.isString)(K)&&K.severity!==u.default.Error?(P(x),R.hide()):x===k&&this.setValidationOnInput(R,K)})}),F.onCancellationRequested(()=>{R.hide()}),R.onDidHide(()=>{(0,h.dispose)(B),P(void 0)})];R.title=T.title,R.value=T.value||"",R.valueSelection=T.valueSelection,R.prompt=T.prompt,R.placeholder=T.placeHolder,R.password=!!T.password,R.ignoreFocusOut=!!T.ignoreFocusLost,R.show()})}createQuickPick(){const T=this.getUI();return new y(T)}createInputBox(){const T=this.getUI();return new w(T)}show(T){const F=this.getUI();this.onShowEmitter.fire();const P=this.controller;this.controller=T,P&&P.didHide(),this.setEnabled(!0),F.leftActionBar.clear(),F.title.textContent="",F.description1.textContent="",F.description2.textContent="",F.rightActionBar.clear(),F.checkAll.checked=!1,F.inputBox.placeholder="",F.inputBox.password=!1,F.inputBox.showDecoration(u.default.Ignore),F.visibleCount.setCount(0),F.count.setCount(0),L.reset(F.message),F.progressBar.stop(),F.list.setElements([]),F.list.matchOnDescription=!1,F.list.matchOnDetail=!1,F.list.matchOnLabel=!0,F.list.sortByLabel=!0,F.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),F.inputBox.ariaLabel="";const R=this.options.backKeybindingLabel();c.tooltip=R?(0,o.localize)(9,null,R):(0,o.localize)(10,null),F.container.style.display="",this.updateLayout(),F.inputBox.setFocus()}setVisibilities(T){const F=this.getUI();F.title.style.display=T.title?"":"none",F.description1.style.display=T.description&&(T.inputBox||T.checkAll)?"":"none",F.description2.style.display=T.description&&!(T.inputBox||T.checkAll)?"":"none",F.checkAll.style.display=T.checkAll?"":"none",F.filterContainer.style.display=T.inputBox?"":"none",F.visibleCountContainer.style.display=T.visibleCount?"":"none",F.countContainer.style.display=T.count?"":"none",F.okContainer.style.display=T.ok?"":"none",F.customButtonContainer.style.display=T.customButton?"":"none",F.message.style.display=T.message?"":"none",F.progressBar.getContainer().style.display=T.progressBar?"":"none",F.list.display(!!T.list),F.container.classList[T.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(T){if(T!==this.comboboxAccessibility){const F=this.getUI();this.comboboxAccessibility=T,this.comboboxAccessibility?(F.inputBox.setAttribute("role","combobox"),F.inputBox.setAttribute("aria-haspopup","true"),F.inputBox.setAttribute("aria-autocomplete","list"),F.inputBox.setAttribute("aria-activedescendant",F.list.getActiveDescendant()||"")):(F.inputBox.removeAttribute("role"),F.inputBox.removeAttribute("aria-haspopup"),F.inputBox.removeAttribute("aria-autocomplete"),F.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(T){if(T!==this.enabled){this.enabled=T;for(const F of this.getUI().leftActionBar.viewItems)F.getAction().enabled=T;for(const F of this.getUI().rightActionBar.viewItems)F.getAction().enabled=T;this.getUI().checkAll.disabled=!T,this.getUI().ok.enabled=T,this.getUI().list.enabled=T}}hide(T){var F;const P=this.controller;if(P){const R=!((F=this.ui)===null||F===void 0?void 0:F.container.contains(document.activeElement));if(this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",!R){let A=this.previousFocusElement;for(;A&&!A.offsetParent;)A=(0,n.withNullAsUndefined)(A.parentElement);(A==null?void 0:A.offsetParent)?(A.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}P.didHide(T)}}focus(){this.isDisplayed()&&this.getUI().inputBox.setFocus()}toggle(){this.isDisplayed()&&this.controller instanceof y&&this.controller.canSelectMany&&this.getUI().list.toggleCheckbox()}navigate(T,F){this.isDisplayed()&&this.getUI().list.isDisplayed()&&(this.getUI().list.focus(T?_.QuickInputListFocus.Next:_.QuickInputListFocus.Previous),F&&this.controller instanceof y&&(this.controller.quickNavigate=F))}accept(T={alt:!1,ctrlCmd:!1}){return Me(this,void 0,void 0,function*(){this.keyMods.alt=T.alt,this.keyMods.ctrlCmd=T.ctrlCmd,this.onDidAcceptEmitter.fire()})}back(){return Me(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(this.backButton)})}cancel(){return Me(this,void 0,void 0,function*(){this.hide()})}layout(T,F){this.dimension=T,this.titleBarOffset=F,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const T=this.ui.container.style,F=Math.min(this.dimension.width*.62,D.MAX_WIDTH);T.width=F+"px",T.marginLeft="-"+F/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(T){this.styles=T,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:T,quickInputBackground:F,quickInputForeground:P,contrastBorder:R,widgetShadow:A}=this.styles.widget;this.ui.titleBar.style.backgroundColor=T?T.toString():"",this.ui.container.style.backgroundColor=F?F.toString():"",this.ui.container.style.color=P?P.toString():"",this.ui.container.style.border=R?`1px solid ${R}`:"",this.ui.container.style.boxShadow=A?`0 0 8px 2px ${A}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const O=[];this.styles.list.pickerGroupBorder&&O.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&O.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(O.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&O.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&O.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&O.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&O.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&O.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),O.push("}"));const k=O.join(`
`);k!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=k)}}isDisplayed(){return this.ui&&this.ui.container.style.display!=="none"}}e.QuickInputController=D,D.MAX_WIDTH=600}),define(ee[482],te([5,6]),function(Q,e){return Q.create("vs/editor/browser/controller/coreCommands",e)}),define(ee[483],te([5,6]),function(Q,e){return Q.create("vs/editor/browser/controller/textAreaHandler",e)}),define(ee[484],te([5,6]),function(Q,e){return Q.create("vs/editor/browser/core/keybindingCancellation",e)}),define(ee[485],te([5,6]),function(Q,e){return Q.create("vs/editor/browser/editorExtensions",e)}),define(ee[486],te([5,6]),function(Q,e){return Q.create("vs/editor/browser/widget/codeEditorWidget",e)}),define(ee[487],te([5,6]),function(Q,e){return Q.create("vs/editor/browser/widget/diffEditorWidget",e)}),define(ee[488],te([5,6]),function(Q,e){return Q.create("vs/editor/browser/widget/diffReview",e)}),define(ee[489],te([5,6]),function(Q,e){return Q.create("vs/editor/browser/widget/inlineDiffMargin",e)}),define(ee[490],te([0,1,489,7,46,2,3,27]),function(Q,e,L,N,M,E,g,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineDiffMargin=void 0;class b extends E.Disposable{constructor(v,i,t,a,l,h){super();this._viewZoneId=v,this._marginDomNode=i,this.editor=t,this.diff=a,this._contextMenuService=l,this._clipboardService=h,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=S.Codicon.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const d=t.getOption(58),u=t.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${d}px`,this._diffActions.style.lineHeight=`${d}px`,this._marginDomNode.appendChild(this._diffActions);const n=[],r=a.modifiedEndLineNumber===0;n.push(new M.Action("diff.clipboard.copyDeletedContent",r?a.originalEndLineNumber>a.modifiedStartLineNumber?L.localize(0,null):L.localize(1,null):a.originalEndLineNumber>a.modifiedStartLineNumber?L.localize(2,null):L.localize(3,null),void 0,!0,()=>Me(this,void 0,void 0,function*(){const f=new g.Range(a.originalStartLineNumber,1,a.originalEndLineNumber+1,1),c=a.originalModel.getValueInRange(f);yield this._clipboardService.writeText(c)})));let s=0,o;a.originalEndLineNumber>a.modifiedStartLineNumber&&(o=new M.Action("diff.clipboard.copyDeletedLineContent",r?L.localize(4,null,a.originalStartLineNumber):L.localize(5,null,a.originalStartLineNumber),void 0,!0,()=>Me(this,void 0,void 0,function*(){const f=a.originalModel.getLineContent(a.originalStartLineNumber+s);if(f===""){const c=a.originalModel.getEndOfLineSequence();yield this._clipboardService.writeText(c===0?`
`:`\r
`)}else yield this._clipboardService.writeText(f)})),n.push(o)),t.getOption(80)||n.push(new M.Action("diff.inline.revertChange",L.localize(6,null),void 0,!0,()=>Me(this,void 0,void 0,function*(){const f=new g.Range(a.originalStartLineNumber,1,a.originalEndLineNumber,a.originalModel.getLineMaxColumn(a.originalEndLineNumber)),c=a.originalModel.getValueInRange(f);if(a.modifiedEndLineNumber===0){const C=t.getModel().getLineMaxColumn(a.modifiedStartLineNumber);t.executeEdits("diffEditor",[{range:new g.Range(a.modifiedStartLineNumber,C,a.modifiedStartLineNumber,C),text:u+c}])}else{const C=t.getModel().getLineMaxColumn(a.modifiedEndLineNumber);t.executeEdits("diffEditor",[{range:new g.Range(a.modifiedStartLineNumber,1,a.modifiedEndLineNumber,C),text:c}])}})));const _=(f,c)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:f,y:c}),getActions:()=>(o&&(o.label=r?L.localize(7,null,a.originalStartLineNumber+s):L.localize(8,null,a.originalStartLineNumber+s)),n),autoSelectFirstItem:!0})};this._register(N.addStandardDisposableListener(this._diffActions,"mousedown",f=>{const{top:c,height:C}=N.getDomNodePagePosition(this._diffActions);let y=Math.floor(d/3);f.preventDefault(),_(f.posx,c+C+y)})),this._register(t.onMouseMove(f=>{f.target.type===8||f.target.type===5?f.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,s=this._updateLightBulbPosition(this._marginDomNode,f.event.browserEvent.y,d)):this.visibility=!1:this.visibility=!1})),this._register(t.onMouseDown(f=>{!f.event.rightButton||(f.target.type===8||f.target.type===5)&&f.target.detail.viewZoneId===this._viewZoneId&&(f.event.preventDefault(),s=this._updateLightBulbPosition(this._marginDomNode,f.event.browserEvent.y,d),_(f.event.posx,f.event.posy+d))}))}get visibility(){return this._visibility}set visibility(v){this._visibility!==v&&(this._visibility=v,v?this._diffActions.style.visibility="visible":this._diffActions.style.visibility="hidden")}_updateLightBulbPosition(v,i,t){const{top:a}=N.getDomNodePagePosition(v),l=i-a,h=Math.floor(l/t),d=h*t;if(this._diffActions.style.top=`${d}px`,this.diff.viewLineCounts){let u=0;for(let n=0;n<this.diff.viewLineCounts.length;n++)if(u+=this.diff.viewLineCounts[n],h<u)return n}return h}}e.InlineDiffMargin=b}),define(ee[491],te([5,6]),function(Q,e){return Q.create("vs/editor/common/config/commonEditorConfig",e)}),define(ee[492],te([5,6]),function(Q,e){return Q.create("vs/editor/common/config/editorOptions",e)}),define(ee[29],te([0,1,492,15,149,19,34]),function(Q,e,L,N,M,E,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOptions=e.editorOptionsRegistry=e.EDITOR_MODEL_DEFAULTS=e.EDITOR_FONT_DEFAULTS=e.unicodeHighlightConfigKeys=e.inUntrustedWorkspace=e.filterValidationDecorations=e.EditorLayoutInfoComputer=e.EditorFontLigatures=e.cursorStyleToString=e.TextEditorCursorStyle=e.stringSet=e.clampedInt=e.boolean=e.ApplyUpdateResult=e.ComputeOptionsMemory=e.ValidatedEditorOptions=e.ConfigurationChangedEvent=e.MINIMAP_GUTTER_WIDTH=void 0,e.MINIMAP_GUTTER_WIDTH=8;class S{constructor(ae){this._values=ae}hasChanged(ae){return this._values[ae]}}e.ConfigurationChangedEvent=S;class b{constructor(){this._values=[]}_read(ae){return this._values[ae]}get(ae){return this._values[ae]}_write(ae,me){this._values[ae]=me}}e.ValidatedEditorOptions=b;class p{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}e.ComputeOptionsMemory=p;class v{constructor(ae,me,Ie,Fe){this.id=ae,this.name=me,this.defaultValue=Ie,this.schema=Fe}applyUpdate(ae,me){return t(ae,me)}compute(ae,me,Ie){return Ie}}class i{constructor(ae,me){this.newValue=ae,this.didChange=me}}e.ApplyUpdateResult=i;function t(we,ae){if(typeof we!="object"||typeof ae!="object"||!we||!ae)return new i(ae,we!==ae);if(Array.isArray(we)||Array.isArray(ae)){const Ie=Array.isArray(we)&&Array.isArray(ae)&&E.equals(we,ae);return new i(ae,Ie)}let me=!1;for(let Ie in ae)if(ae.hasOwnProperty(Ie)){const Fe=t(we[Ie],ae[Ie]);Fe.didChange&&(we[Ie]=Fe.newValue,me=!0)}return new i(we,me)}class a{constructor(ae,me=null){this.schema=void 0,this.id=ae,this.name="_never_",this.defaultValue=void 0,this.deps=me}applyUpdate(ae,me){return t(ae,me)}validate(ae){return this.defaultValue}}class l{constructor(ae,me,Ie,Fe){this.id=ae,this.name=me,this.defaultValue=Ie,this.schema=Fe}applyUpdate(ae,me){return t(ae,me)}validate(ae){return typeof ae=="undefined"?this.defaultValue:ae}compute(ae,me,Ie){return Ie}}function h(we,ae){return typeof we=="undefined"?ae:we==="false"?!1:Boolean(we)}e.boolean=h;class d extends l{constructor(ae,me,Ie,Fe=void 0){typeof Fe!="undefined"&&(Fe.type="boolean",Fe.default=Ie),super(ae,me,Ie,Fe)}validate(ae){return h(ae,this.defaultValue)}}function u(we,ae,me,Ie){if(typeof we=="undefined")return ae;let Fe=parseInt(we,10);return isNaN(Fe)?ae:(Fe=Math.max(me,Fe),Fe=Math.min(Ie,Fe),Fe|0)}e.clampedInt=u;class n extends l{constructor(ae,me,Ie,Fe,ze,Ke=void 0){typeof Ke!="undefined"&&(Ke.type="integer",Ke.default=Ie,Ke.minimum=Fe,Ke.maximum=ze),super(ae,me,Ie,Ke),this.minimum=Fe,this.maximum=ze}static clampedInt(ae,me,Ie,Fe){return u(ae,me,Ie,Fe)}validate(ae){return n.clampedInt(ae,this.defaultValue,this.minimum,this.maximum)}}class r extends l{constructor(ae,me,Ie,Fe,ze){typeof ze!="undefined"&&(ze.type="number",ze.default=Ie),super(ae,me,Ie,ze),this.validationFn=Fe}static clamp(ae,me,Ie){return ae<me?me:ae>Ie?Ie:ae}static float(ae,me){if(typeof ae=="number")return ae;if(typeof ae=="undefined")return me;const Ie=parseFloat(ae);return isNaN(Ie)?me:Ie}validate(ae){return this.validationFn(r.float(ae,this.defaultValue))}}class s extends l{static string(ae,me){return typeof ae!="string"?me:ae}constructor(ae,me,Ie,Fe=void 0){typeof Fe!="undefined"&&(Fe.type="string",Fe.default=Ie),super(ae,me,Ie,Fe)}validate(ae){return s.string(ae,this.defaultValue)}}function o(we,ae,me){return typeof we!="string"||me.indexOf(we)===-1?ae:we}e.stringSet=o;class m extends l{constructor(ae,me,Ie,Fe,ze=void 0){typeof ze!="undefined"&&(ze.type="string",ze.enum=Fe,ze.default=Ie),super(ae,me,Ie,ze),this._allowedValues=Fe}validate(ae){return o(ae,this.defaultValue,this._allowedValues)}}class _ extends v{constructor(ae,me,Ie,Fe,ze,Ke,be=void 0){typeof be!="undefined"&&(be.type="string",be.enum=ze,be.default=Fe),super(ae,me,Ie,be),this._allowedValues=ze,this._convert=Ke}validate(ae){return typeof ae!="string"?this.defaultValue:this._allowedValues.indexOf(ae)===-1?this.defaultValue:this._convert(ae)}}function f(we){switch(we){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class c extends v{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[L.localize(0,null),L.localize(1,null),L.localize(2,null)],default:"auto",description:L.localize(3,null)})}validate(ae){switch(ae){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(ae,me,Ie){return Ie===0?ae.accessibilitySupport:Ie}}class C extends v{constructor(){const ae={insertSpace:!0,ignoreEmptyLines:!0};super(19,"comments",ae,{"editor.comments.insertSpace":{type:"boolean",default:ae.insertSpace,description:L.localize(4,null)},"editor.comments.ignoreEmptyLines":{type:"boolean",default:ae.ignoreEmptyLines,description:L.localize(5,null)}})}validate(ae){if(!ae||typeof ae!="object")return this.defaultValue;const me=ae;return{insertSpace:h(me.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:h(me.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function y(we){switch(we){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var w;(function(we){we[we.Line=1]="Line",we[we.Block=2]="Block",we[we.Underline=3]="Underline",we[we.LineThin=4]="LineThin",we[we.BlockOutline=5]="BlockOutline",we[we.UnderlineThin=6]="UnderlineThin"})(w=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));function D(we){switch(we){case w.Line:return"line";case w.Block:return"block";case w.Underline:return"underline";case w.LineThin:return"line-thin";case w.BlockOutline:return"block-outline";case w.UnderlineThin:return"underline-thin"}}e.cursorStyleToString=D;function I(we){switch(we){case"line":return w.Line;case"block":return w.Block;case"underline":return w.Underline;case"line-thin":return w.LineThin;case"block-outline":return w.BlockOutline;case"underline-thin":return w.UnderlineThin}}class T extends a{constructor(){super(127,[65,33])}compute(ae,me,Ie){const Fe=["monaco-editor"];return me.get(33)&&Fe.push(me.get(33)),ae.extraEditorClassName&&Fe.push(ae.extraEditorClassName),me.get(65)==="default"?Fe.push("mouse-default"):me.get(65)==="copy"&&Fe.push("mouse-copy"),me.get(99)&&Fe.push("showUnused"),me.get(125)&&Fe.push("showDeprecated"),Fe.join(" ")}}class F extends d{constructor(){super(32,"emptySelectionClipboard",!0,{description:L.localize(6,null)})}compute(ae,me,Ie){return Ie&&ae.emptySelectionClipboard}}class P extends v{constructor(){const ae={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(35,"find",ae,{"editor.find.cursorMoveOnType":{type:"boolean",default:ae.cursorMoveOnType,description:L.localize(7,null)},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:ae.seedSearchStringFromSelection,enumDescriptions:[L.localize(8,null),L.localize(9,null),L.localize(10,null)],description:L.localize(11,null)},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:ae.autoFindInSelection,enumDescriptions:[L.localize(12,null),L.localize(13,null),L.localize(14,null)],description:L.localize(15,null)},"editor.find.globalFindClipboard":{type:"boolean",default:ae.globalFindClipboard,description:L.localize(16,null),included:N.isMacintosh},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:ae.addExtraSpaceOnTop,description:L.localize(17,null)},"editor.find.loop":{type:"boolean",default:ae.loop,description:L.localize(18,null)}})}validate(ae){if(!ae||typeof ae!="object")return this.defaultValue;const me=ae;return{cursorMoveOnType:h(me.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof ae.seedSearchStringFromSelection=="boolean"?ae.seedSearchStringFromSelection?"always":"never":o(me.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof ae.autoFindInSelection=="boolean"?ae.autoFindInSelection?"always":"never":o(me.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:h(me.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:h(me.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:h(me.loop,this.defaultValue.loop)}}}class R extends v{constructor(){super(44,"fontLigatures",R.OFF,{anyOf:[{type:"boolean",description:L.localize(19,null)},{type:"string",description:L.localize(20,null)}],description:L.localize(21,null),default:!1})}validate(ae){return typeof ae=="undefined"?this.defaultValue:typeof ae=="string"?ae==="false"?R.OFF:ae==="true"?R.ON:ae:Boolean(ae)?R.ON:R.OFF}}e.EditorFontLigatures=R,R.OFF='"liga" off, "calt" off',R.ON='"liga" on, "calt" on';class A extends a{constructor(){super(43)}compute(ae,me,Ie){return ae.fontInfo}}class O extends l{constructor(){super(45,"fontSize",e.EDITOR_FONT_DEFAULTS.fontSize,{type:"number",minimum:6,maximum:100,default:e.EDITOR_FONT_DEFAULTS.fontSize,description:L.localize(22,null)})}validate(ae){let me=r.float(ae,this.defaultValue);return me===0?e.EDITOR_FONT_DEFAULTS.fontSize:r.clamp(me,6,100)}compute(ae,me,Ie){return ae.fontInfo.fontSize}}class k extends v{constructor(){super(46,"fontWeight",e.EDITOR_FONT_DEFAULTS.fontWeight,{anyOf:[{type:"number",minimum:k.MINIMUM_VALUE,maximum:k.MAXIMUM_VALUE,errorMessage:L.localize(23,null)},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:k.SUGGESTION_VALUES}],default:e.EDITOR_FONT_DEFAULTS.fontWeight,description:L.localize(24,null)})}validate(ae){return ae==="normal"||ae==="bold"?ae:String(n.clampedInt(ae,e.EDITOR_FONT_DEFAULTS.fontWeight,k.MINIMUM_VALUE,k.MAXIMUM_VALUE))}}k.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],k.MINIMUM_VALUE=1,k.MAXIMUM_VALUE=1e3;class V extends v{constructor(){const ae={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},me={type:"string",enum:["peek","gotoAndPeek","goto"],default:ae.multiple,enumDescriptions:[L.localize(25,null),L.localize(26,null),L.localize(27,null)]},Ie=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(50,"gotoLocation",ae,{"editor.gotoLocation.multiple":{deprecationMessage:L.localize(28,null)},"editor.gotoLocation.multipleDefinitions":Object.assign({description:L.localize(29,null)},me),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:L.localize(30,null)},me),"editor.gotoLocation.multipleDeclarations":Object.assign({description:L.localize(31,null)},me),"editor.gotoLocation.multipleImplementations":Object.assign({description:L.localize(32,null)},me),"editor.gotoLocation.multipleReferences":Object.assign({description:L.localize(33,null)},me),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:ae.alternativeDefinitionCommand,enum:Ie,description:L.localize(34,null)},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:ae.alternativeTypeDefinitionCommand,enum:Ie,description:L.localize(35,null)},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:ae.alternativeDeclarationCommand,enum:Ie,description:L.localize(36,null)},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:ae.alternativeImplementationCommand,enum:Ie,description:L.localize(37,null)},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:ae.alternativeReferenceCommand,enum:Ie,description:L.localize(38,null)}})}validate(ae){var me,Ie,Fe,ze,Ke;if(!ae||typeof ae!="object")return this.defaultValue;const be=ae;return{multiple:o(be.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(me=be.multipleDefinitions)!==null&&me!==void 0?me:o(be.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(Ie=be.multipleTypeDefinitions)!==null&&Ie!==void 0?Ie:o(be.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(Fe=be.multipleDeclarations)!==null&&Fe!==void 0?Fe:o(be.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(ze=be.multipleImplementations)!==null&&ze!==void 0?ze:o(be.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(Ke=be.multipleReferences)!==null&&Ke!==void 0?Ke:o(be.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:s.string(be.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:s.string(be.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:s.string(be.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:s.string(be.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:s.string(be.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class B extends v{constructor(){const ae={enabled:!0,delay:300,sticky:!0,above:!0};super(52,"hover",ae,{"editor.hover.enabled":{type:"boolean",default:ae.enabled,description:L.localize(39,null)},"editor.hover.delay":{type:"number",default:ae.delay,description:L.localize(40,null)},"editor.hover.sticky":{type:"boolean",default:ae.sticky,description:L.localize(41,null)},"editor.hover.above":{type:"boolean",default:ae.above,description:L.localize(42,null)}})}validate(ae){if(!ae||typeof ae!="object")return this.defaultValue;const me=ae;return{enabled:h(me.enabled,this.defaultValue.enabled),delay:n.clampedInt(me.delay,this.defaultValue.delay,0,1e4),sticky:h(me.sticky,this.defaultValue.sticky),above:h(me.above,this.defaultValue.above)}}}class x extends a{constructor(){super(130,[49,57,37,64,91,59,60,93,117,120,121,122,2])}compute(ae,me,Ie){return x.computeLayout(me,{memory:ae.memory,outerWidth:ae.outerWidth,outerHeight:ae.outerHeight,isDominatedByLongLines:ae.isDominatedByLongLines,lineHeight:ae.fontInfo.lineHeight,viewLineCount:ae.viewLineCount,lineNumbersDigitCount:ae.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:ae.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:ae.fontInfo.maxDigitWidth,pixelRatio:ae.pixelRatio})}static computeContainedMinimapLineCount(ae){const me=ae.height/ae.lineHeight,Ie=ae.scrollBeyondLastLine?me-1:0,Fe=(ae.viewLineCount+Ie)/(ae.pixelRatio*ae.height),ze=Math.floor(ae.viewLineCount/Fe);return{typicalViewportLineCount:me,extraLinesBeyondLastLine:Ie,desiredRatio:Fe,minimapLineCount:ze}}static _computeMinimapLayout(ae,me){const Ie=ae.outerWidth,Fe=ae.outerHeight,ze=ae.pixelRatio;if(!ae.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(ze*Fe),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:Fe};const Ke=me.stableMinimapLayoutInput,be=Ke&&ae.outerHeight===Ke.outerHeight&&ae.lineHeight===Ke.lineHeight&&ae.typicalHalfwidthCharacterWidth===Ke.typicalHalfwidthCharacterWidth&&ae.pixelRatio===Ke.pixelRatio&&ae.scrollBeyondLastLine===Ke.scrollBeyondLastLine&&ae.minimap.enabled===Ke.minimap.enabled&&ae.minimap.side===Ke.minimap.side&&ae.minimap.size===Ke.minimap.size&&ae.minimap.showSlider===Ke.minimap.showSlider&&ae.minimap.renderCharacters===Ke.minimap.renderCharacters&&ae.minimap.maxColumn===Ke.minimap.maxColumn&&ae.minimap.scale===Ke.minimap.scale&&ae.verticalScrollbarWidth===Ke.verticalScrollbarWidth&&ae.isViewportWrapping===Ke.isViewportWrapping,Ne=ae.lineHeight,Be=ae.typicalHalfwidthCharacterWidth,$e=ae.scrollBeyondLastLine,je=ae.minimap.renderCharacters;let He=ze>=2?Math.round(ae.minimap.scale*2):ae.minimap.scale;const qe=ae.minimap.maxColumn,Pe=ae.minimap.size,Ae=ae.minimap.side,Re=ae.verticalScrollbarWidth,ve=ae.viewLineCount,_e=ae.remainingWidth,Te=ae.isViewportWrapping,Ee=je?2:3;let ye=Math.floor(ze*Fe);const We=ye/ze;let Oe=!1,Ue=!1,Ye=Ee*He,Ge=He/ze,Xe=1;if(Pe==="fill"||Pe==="fit"){const{typicalViewportLineCount:st,extraLinesBeyondLastLine:ct,desiredRatio:St,minimapLineCount:vt}=x.computeContainedMinimapLineCount({viewLineCount:ve,scrollBeyondLastLine:$e,height:Fe,lineHeight:Ne,pixelRatio:ze});if(ve/vt>1)Oe=!0,Ue=!0,He=1,Ye=1,Ge=He/ze;else{let pt=!1,gt=He+1;if(Pe==="fit"){const Ct=Math.ceil((ve+ct)*Ye);Te&&be&&_e<=me.stableFitRemainingWidth?(pt=!0,gt=me.stableFitMaxMinimapScale):pt=Ct>ye}if(Pe==="fill"||pt){Oe=!0;const Ct=He;Ye=Math.min(Ne*ze,Math.max(1,Math.floor(1/St))),Te&&be&&_e<=me.stableFitRemainingWidth&&(gt=me.stableFitMaxMinimapScale),He=Math.min(gt,Math.max(1,Math.floor(Ye/Ee))),He>Ct&&(Xe=Math.min(2,He/Ct)),Ge=He/ze/Xe,ye=Math.ceil(Math.max(st,ve+ct)*Ye),Te?(me.stableMinimapLayoutInput=ae,me.stableFitRemainingWidth=_e,me.stableFitMaxMinimapScale=He):(me.stableMinimapLayoutInput=null,me.stableFitRemainingWidth=0)}}}const et=Math.floor(qe*Ge),Ze=Math.min(et,Math.max(0,Math.floor((_e-Re-2)*Ge/(Be+Ge)))+e.MINIMAP_GUTTER_WIDTH);let it=Math.floor(ze*Ze);const tt=it/ze;it=Math.floor(it*Xe);const ot=je?1:2,ht=Ae==="left"?0:Ie-Ze-Re;return{renderMinimap:ot,minimapLeft:ht,minimapWidth:Ze,minimapHeightIsEditorHeight:Oe,minimapIsSampling:Ue,minimapScale:He,minimapLineHeight:Ye,minimapCanvasInnerWidth:it,minimapCanvasInnerHeight:ye,minimapCanvasOuterWidth:tt,minimapCanvasOuterHeight:We}}static computeLayout(ae,me){const Ie=me.outerWidth|0,Fe=me.outerHeight|0,ze=me.lineHeight|0,Ke=me.lineNumbersDigitCount|0,be=me.typicalHalfwidthCharacterWidth,Ne=me.maxDigitWidth,Be=me.pixelRatio,$e=me.viewLineCount,je=ae.get(122),He=je==="inherit"?ae.get(121):je,qe=He==="inherit"?ae.get(117):He,Pe=ae.get(120),Ae=ae.get(2),Re=me.isDominatedByLongLines,ve=ae.get(49),_e=ae.get(59).renderType!==0,Te=ae.get(60),Ee=ae.get(93),ye=ae.get(64),We=ae.get(91),Oe=We.verticalScrollbarSize,Ue=We.verticalHasArrows,Ye=We.arrowSize,Ge=We.horizontalScrollbarSize,Xe=ae.get(57),et=ae.get(37);let Ze;if(typeof Xe=="string"&&/^\d+(\.\d+)?ch$/.test(Xe)){const De=parseFloat(Xe.substr(0,Xe.length-2));Ze=n.clampedInt(De*be,0,0,1e3)}else Ze=n.clampedInt(Xe,0,0,1e3);et&&(Ze+=16);let it=0;if(_e){const De=Math.max(Ke,Te);it=Math.round(De*Ne)}let tt=0;ve&&(tt=ze);let ot=0,ht=ot+tt,st=ht+it,ct=st+Ze;const St=Ie-tt-it-Ze;let vt=!1,bt=!1,pt=-1;Ae!==2&&(He==="inherit"&&Re?(vt=!0,bt=!0):qe==="on"||qe==="bounded"?bt=!0:qe==="wordWrapColumn"&&(pt=Pe));const gt=x._computeMinimapLayout({outerWidth:Ie,outerHeight:Fe,lineHeight:ze,typicalHalfwidthCharacterWidth:be,pixelRatio:Be,scrollBeyondLastLine:Ee,minimap:ye,verticalScrollbarWidth:Oe,viewLineCount:$e,remainingWidth:St,isViewportWrapping:bt},me.memory||new p);gt.renderMinimap!==0&&gt.minimapLeft===0&&(ot+=gt.minimapWidth,ht+=gt.minimapWidth,st+=gt.minimapWidth,ct+=gt.minimapWidth);const Ct=St-gt.minimapWidth,Ht=Math.max(1,Math.floor((Ct-Oe-2)/be)),Ut=Ue?Ye:0;return bt&&(pt=Math.max(1,Ht),qe==="bounded"&&(pt=Math.min(pt,Pe))),{width:Ie,height:Fe,glyphMarginLeft:ot,glyphMarginWidth:tt,lineNumbersLeft:ht,lineNumbersWidth:it,decorationsLeft:st,decorationsWidth:Ze,contentLeft:ct,contentWidth:Ct,minimap:gt,viewportColumn:Ht,isWordWrapMinified:vt,isViewportWrapping:bt,wrappingColumn:pt,verticalScrollbarWidth:Oe,horizontalScrollbarHeight:Ge,overviewRuler:{top:Ut,width:Oe,height:Fe-2*Ut,right:0}}}}e.EditorLayoutInfoComputer=x;class K extends v{constructor(){const ae={enabled:!0};super(56,"lightbulb",ae,{"editor.lightbulb.enabled":{type:"boolean",default:ae.enabled,description:L.localize(43,null)}})}validate(ae){return!ae||typeof ae!="object"?this.defaultValue:{enabled:h(ae.enabled,this.defaultValue.enabled)}}}class X extends v{constructor(){const ae={enabled:!0,fontSize:0,fontFamily:""};super(126,"inlayHints",ae,{"editor.inlayHints.enabled":{type:"boolean",default:ae.enabled,description:L.localize(44,null)},"editor.inlayHints.fontSize":{type:"number",default:ae.fontSize,markdownDescription:L.localize(45,null)},"editor.inlayHints.fontFamily":{type:"string",default:ae.fontFamily,markdownDescription:L.localize(46,null)}})}validate(ae){if(!ae||typeof ae!="object")return this.defaultValue;const me=ae;return{enabled:h(me.enabled,this.defaultValue.enabled),fontSize:n.clampedInt(me.fontSize,this.defaultValue.fontSize,0,100),fontFamily:s.string(me.fontFamily,this.defaultValue.fontFamily)}}}class Z extends r{constructor(){super(58,"lineHeight",e.EDITOR_FONT_DEFAULTS.lineHeight,ae=>r.clamp(ae,0,150),{markdownDescription:L.localize(47,null)})}compute(ae,me,Ie){return ae.fontInfo.lineHeight}}class q extends v{constructor(){const ae={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};super(64,"minimap",ae,{"editor.minimap.enabled":{type:"boolean",default:ae.enabled,description:L.localize(48,null)},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[L.localize(49,null),L.localize(50,null),L.localize(51,null)],default:ae.size,description:L.localize(52,null)},"editor.minimap.side":{type:"string",enum:["left","right"],default:ae.side,description:L.localize(53,null)},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:ae.showSlider,description:L.localize(54,null)},"editor.minimap.scale":{type:"number",default:ae.scale,minimum:1,maximum:3,enum:[1,2,3],description:L.localize(55,null)},"editor.minimap.renderCharacters":{type:"boolean",default:ae.renderCharacters,description:L.localize(56,null)},"editor.minimap.maxColumn":{type:"number",default:ae.maxColumn,description:L.localize(57,null)}})}validate(ae){if(!ae||typeof ae!="object")return this.defaultValue;const me=ae;return{enabled:h(me.enabled,this.defaultValue.enabled),size:o(me.size,this.defaultValue.size,["proportional","fill","fit"]),side:o(me.side,this.defaultValue.side,["right","left"]),showSlider:o(me.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:h(me.renderCharacters,this.defaultValue.renderCharacters),scale:n.clampedInt(me.scale,1,1,3),maxColumn:n.clampedInt(me.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function H(we){return we==="ctrlCmd"?N.isMacintosh?"metaKey":"ctrlKey":"altKey"}class G extends v{constructor(){super(74,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:L.localize(58,null)},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:L.localize(59,null)}})}validate(ae){if(!ae||typeof ae!="object")return this.defaultValue;const me=ae;return{top:n.clampedInt(me.top,0,0,1e3),bottom:n.clampedInt(me.bottom,0,0,1e3)}}}class z extends v{constructor(){const ae={enabled:!0,cycle:!1};super(75,"parameterHints",ae,{"editor.parameterHints.enabled":{type:"boolean",default:ae.enabled,description:L.localize(60,null)},"editor.parameterHints.cycle":{type:"boolean",default:ae.cycle,description:L.localize(61,null)}})}validate(ae){if(!ae||typeof ae!="object")return this.defaultValue;const me=ae;return{enabled:h(me.enabled,this.defaultValue.enabled),cycle:h(me.cycle,this.defaultValue.cycle)}}}class W extends a{constructor(){super(128)}compute(ae,me,Ie){return ae.pixelRatio}}class j extends v{constructor(){const ae={other:!0,comments:!1,strings:!1};super(78,"quickSuggestions",ae,{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:ae.strings,description:L.localize(62,null)},comments:{type:"boolean",default:ae.comments,description:L.localize(63,null)},other:{type:"boolean",default:ae.other,description:L.localize(64,null)}}}],default:ae,description:L.localize(65,null)});this.defaultValue=ae}validate(ae){if(typeof ae=="boolean")return ae;if(ae&&typeof ae=="object"){const me=ae,Ie={other:h(me.other,this.defaultValue.other),comments:h(me.comments,this.defaultValue.comments),strings:h(me.strings,this.defaultValue.strings)};return Ie.other&&Ie.comments&&Ie.strings?!0:!Ie.other&&!Ie.comments&&!Ie.strings?!1:Ie}return this.defaultValue}}class U extends v{constructor(){super(59,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[L.localize(66,null),L.localize(67,null),L.localize(68,null),L.localize(69,null)],default:"on",description:L.localize(70,null)})}validate(ae){let me=this.defaultValue.renderType,Ie=this.defaultValue.renderFn;return typeof ae!="undefined"&&(typeof ae=="function"?(me=4,Ie=ae):ae==="interval"?me=3:ae==="relative"?me=2:ae==="on"?me=1:me=0),{renderType:me,renderFn:Ie}}}function Y(we){const ae=we.get(86);return ae==="editable"?we.get(80):ae!=="on"}e.filterValidationDecorations=Y;class ne extends v{constructor(){const ae=[],me={type:"number",description:L.localize(71,null)};super(90,"rulers",ae,{type:"array",items:{anyOf:[me,{type:["object"],properties:{column:me,color:{type:"string",description:L.localize(72,null),format:"color-hex"}}}]},default:ae,description:L.localize(73,null)})}validate(ae){if(Array.isArray(ae)){let me=[];for(let Ie of ae)if(typeof Ie=="number")me.push({column:n.clampedInt(Ie,0,0,1e4),color:null});else if(Ie&&typeof Ie=="object"){const Fe=Ie;me.push({column:n.clampedInt(Fe.column,0,0,1e4),color:Fe.color})}return me.sort((Ie,Fe)=>Ie.column-Fe.column),me}return this.defaultValue}}function J(we,ae){if(typeof we!="string")return ae;switch(we){case"hidden":return 2;case"visible":return 3;default:return 1}}class re extends v{constructor(){const ae={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(91,"scrollbar",ae,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[L.localize(74,null),L.localize(75,null),L.localize(76,null)],default:"auto",description:L.localize(77,null)},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[L.localize(78,null),L.localize(79,null),L.localize(80,null)],default:"auto",description:L.localize(81,null)},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:ae.verticalScrollbarSize,description:L.localize(82,null)},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:ae.horizontalScrollbarSize,description:L.localize(83,null)},"editor.scrollbar.scrollByPage":{type:"boolean",default:ae.scrollByPage,description:L.localize(84,null)}})}validate(ae){if(!ae||typeof ae!="object")return this.defaultValue;const me=ae,Ie=n.clampedInt(me.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),Fe=n.clampedInt(me.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:n.clampedInt(me.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:J(me.vertical,this.defaultValue.vertical),horizontal:J(me.horizontal,this.defaultValue.horizontal),useShadows:h(me.useShadows,this.defaultValue.useShadows),verticalHasArrows:h(me.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:h(me.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:h(me.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:h(me.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:Ie,horizontalSliderSize:n.clampedInt(me.horizontalSliderSize,Ie,0,1e3),verticalScrollbarSize:Fe,verticalSliderSize:n.clampedInt(me.verticalSliderSize,Fe,0,1e3),scrollByPage:h(me.scrollByPage,this.defaultValue.scrollByPage)}}}e.inUntrustedWorkspace="inUntrustedWorkspace",e.unicodeHighlightConfigKeys={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments"};class ge extends v{constructor(){const ae={nonBasicASCII:e.inUntrustedWorkspace,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:e.inUntrustedWorkspace,allowedCharacters:{}};super(112,"unicodeHighlight",ae,{[e.unicodeHighlightConfigKeys.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:ae.nonBasicASCII,description:L.localize(85,null)},[e.unicodeHighlightConfigKeys.invisibleCharacters]:{restricted:!0,type:"boolean",default:ae.invisibleCharacters,description:L.localize(86,null)},[e.unicodeHighlightConfigKeys.ambiguousCharacters]:{restricted:!0,type:"boolean",default:ae.ambiguousCharacters,description:L.localize(87,null)},[e.unicodeHighlightConfigKeys.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:ae.includeComments,description:L.localize(88,null)},[e.unicodeHighlightConfigKeys.allowedCharacters]:{restricted:!0,type:"object",default:ae.allowedCharacters,description:L.localize(89,null),additionalProperties:{type:"boolean"}}})}applyUpdate(ae,me){let Ie=!1;me.allowedCharacters&&(g.equals(ae.allowedCharacters,me.allowedCharacters)||(ae=Object.assign(Object.assign({},ae),{allowedCharacters:me.allowedCharacters}),Ie=!0));const Fe=super.applyUpdate(ae,me);return Ie?new i(Fe.newValue,!0):Fe}validate(ae){if(!ae||typeof ae!="object")return this.defaultValue;const me=ae;return{nonBasicASCII:ie(me.nonBasicASCII,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),invisibleCharacters:h(me.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:h(me.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:ie(me.includeComments,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),allowedCharacters:this.validateAllowedCharacters(ae.allowedCharacters,this.defaultValue.allowedCharacters)}}validateAllowedCharacters(ae,me){if(typeof ae!="object"||!ae)return me;const Ie={};for(const[Fe,ze]of Object.entries(ae))ze===!0&&(Ie[Fe]=!0);return Ie}}class pe extends v{constructor(){const ae={enabled:!0,mode:"subwordSmart"};super(54,"inlineSuggest",ae,{"editor.inlineSuggest.enabled":{type:"boolean",default:ae.enabled,description:L.localize(90,null)}})}validate(ae){if(!ae||typeof ae!="object")return this.defaultValue;const me=ae;return{enabled:h(me.enabled,this.defaultValue.enabled),mode:o(me.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"])}}}class oe extends v{constructor(){const ae={enabled:e.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions.enabled};super(12,"bracketPairColorization",ae,{"editor.bracketPairColorization.enabled":{type:"boolean",default:ae.enabled,description:L.localize(91,null)}})}validate(ae){return!ae||typeof ae!="object"?this.defaultValue:{enabled:h(ae.enabled,this.defaultValue.enabled)}}}class $ extends v{constructor(){const ae={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(13,"guides",ae,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[L.localize(92,null),L.localize(93,null),L.localize(94,null)],default:ae.bracketPairs,description:L.localize(95,null)},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[L.localize(96,null),L.localize(97,null),L.localize(98,null)],default:ae.bracketPairsHorizontal,description:L.localize(99,null)},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:ae.highlightActiveBracketPair,description:L.localize(100,null)},"editor.guides.indentation":{type:"boolean",default:ae.indentation,description:L.localize(101,null)},"editor.guides.highlightActiveIndentation":{type:"boolean",default:ae.highlightActiveIndentation,description:L.localize(102,null)}})}validate(ae){if(!ae||typeof ae!="object")return this.defaultValue;const me=ae;return{bracketPairs:ie(me.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:ie(me.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:h(me.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:h(me.indentation,this.defaultValue.indentation),highlightActiveIndentation:h(me.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation)}}}function ie(we,ae,me){const Ie=me.indexOf(we);return Ie===-1?ae:me[Ie]}class le extends v{constructor(){const ae={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(105,"suggest",ae,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[L.localize(103,null),L.localize(104,null)],default:ae.insertMode,description:L.localize(105,null)},"editor.suggest.filterGraceful":{type:"boolean",default:ae.filterGraceful,description:L.localize(106,null)},"editor.suggest.localityBonus":{type:"boolean",default:ae.localityBonus,description:L.localize(107,null)},"editor.suggest.shareSuggestSelections":{type:"boolean",default:ae.shareSuggestSelections,markdownDescription:L.localize(108,null)},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:ae.snippetsPreventQuickSuggestions,description:L.localize(109,null)},"editor.suggest.showIcons":{type:"boolean",default:ae.showIcons,description:L.localize(110,null)},"editor.suggest.showStatusBar":{type:"boolean",default:ae.showStatusBar,description:L.localize(111,null)},"editor.suggest.preview":{type:"boolean",default:ae.preview,description:L.localize(112,null)},"editor.suggest.showInlineDetails":{type:"boolean",default:ae.showInlineDetails,description:L.localize(113,null)},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:L.localize(114,null)},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:L.localize(115,null)},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:L.localize(116,null)},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:L.localize(117,null)},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:L.localize(118,null)},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:L.localize(119,null)},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:L.localize(120,null)},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:L.localize(121,null)},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:L.localize(122,null)},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:L.localize(123,null)},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:L.localize(124,null)},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:L.localize(125,null)},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:L.localize(126,null)},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:L.localize(127,null)},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:L.localize(128,null)},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:L.localize(129,null)},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:L.localize(130,null)},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:L.localize(131,null)},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:L.localize(132,null)},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:L.localize(133,null)},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:L.localize(134,null)},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:L.localize(135,null)},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:L.localize(136,null)},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:L.localize(137,null)},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:L.localize(138,null)},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:L.localize(139,null)},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:L.localize(140,null)},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:L.localize(141,null)},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:L.localize(142,null)},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:L.localize(143,null)},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:L.localize(144,null)}})}validate(ae){if(!ae||typeof ae!="object")return this.defaultValue;const me=ae;return{insertMode:o(me.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:h(me.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:h(me.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:h(me.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:h(me.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:h(me.showIcons,this.defaultValue.showIcons),showStatusBar:h(me.showStatusBar,this.defaultValue.showStatusBar),preview:h(me.preview,this.defaultValue.preview),previewMode:o(me.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:h(me.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:h(me.showMethods,this.defaultValue.showMethods),showFunctions:h(me.showFunctions,this.defaultValue.showFunctions),showConstructors:h(me.showConstructors,this.defaultValue.showConstructors),showDeprecated:h(me.showDeprecated,this.defaultValue.showDeprecated),showFields:h(me.showFields,this.defaultValue.showFields),showVariables:h(me.showVariables,this.defaultValue.showVariables),showClasses:h(me.showClasses,this.defaultValue.showClasses),showStructs:h(me.showStructs,this.defaultValue.showStructs),showInterfaces:h(me.showInterfaces,this.defaultValue.showInterfaces),showModules:h(me.showModules,this.defaultValue.showModules),showProperties:h(me.showProperties,this.defaultValue.showProperties),showEvents:h(me.showEvents,this.defaultValue.showEvents),showOperators:h(me.showOperators,this.defaultValue.showOperators),showUnits:h(me.showUnits,this.defaultValue.showUnits),showValues:h(me.showValues,this.defaultValue.showValues),showConstants:h(me.showConstants,this.defaultValue.showConstants),showEnums:h(me.showEnums,this.defaultValue.showEnums),showEnumMembers:h(me.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:h(me.showKeywords,this.defaultValue.showKeywords),showWords:h(me.showWords,this.defaultValue.showWords),showColors:h(me.showColors,this.defaultValue.showColors),showFiles:h(me.showFiles,this.defaultValue.showFiles),showReferences:h(me.showReferences,this.defaultValue.showReferences),showFolders:h(me.showFolders,this.defaultValue.showFolders),showTypeParameters:h(me.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:h(me.showSnippets,this.defaultValue.showSnippets),showUsers:h(me.showUsers,this.defaultValue.showUsers),showIssues:h(me.showIssues,this.defaultValue.showIssues)}}}class de extends v{constructor(){super(101,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:L.localize(145,null),default:!0,type:"boolean"}})}validate(ae){return!ae||typeof ae!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:h(ae.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}}class fe extends a{constructor(){super(129,[80])}compute(ae,me,Ie){return me.get(80)?!0:ae.tabFocusMode}}function he(we){switch(we){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}class se extends a{constructor(){super(131,[130])}compute(ae,me,Ie){const Fe=me.get(130);return{isDominatedByLongLines:ae.isDominatedByLongLines,isWordWrapMinified:Fe.isWordWrapMinified,isViewportWrapping:Fe.isViewportWrapping,wrappingColumn:Fe.wrappingColumn}}}const ce="Consolas, 'Courier New', monospace",Se="Menlo, Monaco, 'Courier New', monospace",Le="'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback'";e.EDITOR_FONT_DEFAULTS={fontFamily:N.isMacintosh?Se:N.isLinux?Le:ce,fontWeight:"normal",fontSize:N.isMacintosh?12:14,lineHeight:0,letterSpacing:0},e.EDITOR_MODEL_DEFAULTS={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!1}},e.editorOptionsRegistry=[];function ue(we){return e.editorOptionsRegistry[we.id]=we,we}e.EditorOptions={acceptSuggestionOnCommitCharacter:ue(new d(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:L.localize(146,null)})),acceptSuggestionOnEnter:ue(new m(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",L.localize(147,null),""],markdownDescription:L.localize(148,null)})),accessibilitySupport:ue(new c),accessibilityPageSize:ue(new n(3,"accessibilityPageSize",10,1,1073741824,{description:L.localize(149,null)})),ariaLabel:ue(new s(4,"ariaLabel",L.localize(150,null))),autoClosingBrackets:ue(new m(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",L.localize(151,null),L.localize(152,null),""],description:L.localize(153,null)})),autoClosingDelete:ue(new m(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",L.localize(154,null),""],description:L.localize(155,null)})),autoClosingOvertype:ue(new m(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",L.localize(156,null),""],description:L.localize(157,null)})),autoClosingQuotes:ue(new m(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",L.localize(158,null),L.localize(159,null),""],description:L.localize(160,null)})),autoIndent:ue(new _(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],f,{enumDescriptions:[L.localize(161,null),L.localize(162,null),L.localize(163,null),L.localize(164,null),L.localize(165,null)],description:L.localize(166,null)})),automaticLayout:ue(new d(10,"automaticLayout",!1)),autoSurround:ue(new m(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[L.localize(167,null),L.localize(168,null),L.localize(169,null),""],description:L.localize(170,null)})),bracketPairColorization:ue(new oe),bracketPairGuides:ue(new $),stickyTabStops:ue(new d(103,"stickyTabStops",!1,{description:L.localize(171,null)})),codeLens:ue(new d(14,"codeLens",!0,{description:L.localize(172,null)})),codeLensFontFamily:ue(new s(15,"codeLensFontFamily","",{description:L.localize(173,null)})),codeLensFontSize:ue(new n(16,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:L.localize(174,null)})),colorDecorators:ue(new d(17,"colorDecorators",!0,{description:L.localize(175,null)})),columnSelection:ue(new d(18,"columnSelection",!1,{description:L.localize(176,null)})),comments:ue(new C),contextmenu:ue(new d(20,"contextmenu",!0)),copyWithSyntaxHighlighting:ue(new d(21,"copyWithSyntaxHighlighting",!0,{description:L.localize(177,null)})),cursorBlinking:ue(new _(22,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],y,{description:L.localize(178,null)})),cursorSmoothCaretAnimation:ue(new d(23,"cursorSmoothCaretAnimation",!1,{description:L.localize(179,null)})),cursorStyle:ue(new _(24,"cursorStyle",w.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],I,{description:L.localize(180,null)})),cursorSurroundingLines:ue(new n(25,"cursorSurroundingLines",0,0,1073741824,{description:L.localize(181,null)})),cursorSurroundingLinesStyle:ue(new m(26,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[L.localize(182,null),L.localize(183,null)],description:L.localize(184,null)})),cursorWidth:ue(new n(27,"cursorWidth",0,0,1073741824,{markdownDescription:L.localize(185,null)})),disableLayerHinting:ue(new d(28,"disableLayerHinting",!1)),disableMonospaceOptimizations:ue(new d(29,"disableMonospaceOptimizations",!1)),domReadOnly:ue(new d(30,"domReadOnly",!1)),dragAndDrop:ue(new d(31,"dragAndDrop",!0,{description:L.localize(186,null)})),emptySelectionClipboard:ue(new F),extraEditorClassName:ue(new s(33,"extraEditorClassName","")),fastScrollSensitivity:ue(new r(34,"fastScrollSensitivity",5,we=>we<=0?5:we,{markdownDescription:L.localize(187,null)})),find:ue(new P),fixedOverflowWidgets:ue(new d(36,"fixedOverflowWidgets",!1)),folding:ue(new d(37,"folding",!0,{description:L.localize(188,null)})),foldingStrategy:ue(new m(38,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[L.localize(189,null),L.localize(190,null)],description:L.localize(191,null)})),foldingHighlight:ue(new d(39,"foldingHighlight",!0,{description:L.localize(192,null)})),foldingImportsByDefault:ue(new d(40,"foldingImportsByDefault",!1,{description:L.localize(193,null)})),unfoldOnClickAfterEndOfLine:ue(new d(41,"unfoldOnClickAfterEndOfLine",!1,{description:L.localize(194,null)})),fontFamily:ue(new s(42,"fontFamily",e.EDITOR_FONT_DEFAULTS.fontFamily,{description:L.localize(195,null)})),fontInfo:ue(new A),fontLigatures2:ue(new R),fontSize:ue(new O),fontWeight:ue(new k),formatOnPaste:ue(new d(47,"formatOnPaste",!1,{description:L.localize(196,null)})),formatOnType:ue(new d(48,"formatOnType",!1,{description:L.localize(197,null)})),glyphMargin:ue(new d(49,"glyphMargin",!0,{description:L.localize(198,null)})),gotoLocation:ue(new V),hideCursorInOverviewRuler:ue(new d(51,"hideCursorInOverviewRuler",!1,{description:L.localize(199,null)})),hover:ue(new B),inDiffEditor:ue(new d(53,"inDiffEditor",!1)),letterSpacing:ue(new r(55,"letterSpacing",e.EDITOR_FONT_DEFAULTS.letterSpacing,we=>r.clamp(we,-5,20),{description:L.localize(200,null)})),lightbulb:ue(new K),lineDecorationsWidth:ue(new l(57,"lineDecorationsWidth",10)),lineHeight:ue(new Z),lineNumbers:ue(new U),lineNumbersMinChars:ue(new n(60,"lineNumbersMinChars",5,1,300)),linkedEditing:ue(new d(61,"linkedEditing",!1,{description:L.localize(201,null)})),links:ue(new d(62,"links",!0,{description:L.localize(202,null)})),matchBrackets:ue(new m(63,"matchBrackets","always",["always","near","never"],{description:L.localize(203,null)})),minimap:ue(new q),mouseStyle:ue(new m(65,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:ue(new r(66,"mouseWheelScrollSensitivity",1,we=>we===0?1:we,{markdownDescription:L.localize(204,null)})),mouseWheelZoom:ue(new d(67,"mouseWheelZoom",!1,{markdownDescription:L.localize(205,null)})),multiCursorMergeOverlapping:ue(new d(68,"multiCursorMergeOverlapping",!0,{description:L.localize(206,null)})),multiCursorModifier:ue(new _(69,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],H,{markdownEnumDescriptions:[L.localize(207,null),L.localize(208,null)],markdownDescription:L.localize(209,null)})),multiCursorPaste:ue(new m(70,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[L.localize(210,null),L.localize(211,null)],markdownDescription:L.localize(212,null)})),occurrencesHighlight:ue(new d(71,"occurrencesHighlight",!0,{description:L.localize(213,null)})),overviewRulerBorder:ue(new d(72,"overviewRulerBorder",!0,{description:L.localize(214,null)})),overviewRulerLanes:ue(new n(73,"overviewRulerLanes",3,0,3)),padding:ue(new G),parameterHints:ue(new z),peekWidgetDefaultFocus:ue(new m(76,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[L.localize(215,null),L.localize(216,null)],description:L.localize(217,null)})),definitionLinkOpensInPeek:ue(new d(77,"definitionLinkOpensInPeek",!1,{description:L.localize(218,null)})),quickSuggestions:ue(new j),quickSuggestionsDelay:ue(new n(79,"quickSuggestionsDelay",10,0,1073741824,{description:L.localize(219,null)})),readOnly:ue(new d(80,"readOnly",!1)),renameOnType:ue(new d(81,"renameOnType",!1,{description:L.localize(220,null),markdownDeprecationMessage:L.localize(221,null)})),renderControlCharacters:ue(new d(82,"renderControlCharacters",!0,{description:L.localize(222,null),restricted:!0})),renderFinalNewline:ue(new d(83,"renderFinalNewline",!0,{description:L.localize(223,null)})),renderLineHighlight:ue(new m(84,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",L.localize(224,null)],description:L.localize(225,null)})),renderLineHighlightOnlyWhenFocus:ue(new d(85,"renderLineHighlightOnlyWhenFocus",!1,{description:L.localize(226,null)})),renderValidationDecorations:ue(new m(86,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:ue(new m(87,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",L.localize(227,null),L.localize(228,null),L.localize(229,null),""],description:L.localize(230,null)})),revealHorizontalRightPadding:ue(new n(88,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:ue(new d(89,"roundedSelection",!0,{description:L.localize(231,null)})),rulers:ue(new ne),scrollbar:ue(new re),scrollBeyondLastColumn:ue(new n(92,"scrollBeyondLastColumn",5,0,1073741824,{description:L.localize(232,null)})),scrollBeyondLastLine:ue(new d(93,"scrollBeyondLastLine",!0,{description:L.localize(233,null)})),scrollPredominantAxis:ue(new d(94,"scrollPredominantAxis",!0,{description:L.localize(234,null)})),selectionClipboard:ue(new d(95,"selectionClipboard",!0,{description:L.localize(235,null),included:N.isLinux})),selectionHighlight:ue(new d(96,"selectionHighlight",!0,{description:L.localize(236,null)})),selectOnLineNumbers:ue(new d(97,"selectOnLineNumbers",!0)),showFoldingControls:ue(new m(98,"showFoldingControls","mouseover",["always","mouseover"],{enumDescriptions:[L.localize(237,null),L.localize(238,null)],description:L.localize(239,null)})),showUnused:ue(new d(99,"showUnused",!0,{description:L.localize(240,null)})),showDeprecated:ue(new d(125,"showDeprecated",!0,{description:L.localize(241,null)})),inlayHints:ue(new X),snippetSuggestions:ue(new m(100,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[L.localize(242,null),L.localize(243,null),L.localize(244,null),L.localize(245,null)],description:L.localize(246,null)})),smartSelect:ue(new de),smoothScrolling:ue(new d(102,"smoothScrolling",!1,{description:L.localize(247,null)})),stopRenderingLineAfter:ue(new n(104,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:ue(new le),inlineSuggest:ue(new pe),suggestFontSize:ue(new n(106,"suggestFontSize",0,0,1e3,{markdownDescription:L.localize(248,null)})),suggestLineHeight:ue(new n(107,"suggestLineHeight",0,0,1e3,{markdownDescription:L.localize(249,null)})),suggestOnTriggerCharacters:ue(new d(108,"suggestOnTriggerCharacters",!0,{description:L.localize(250,null)})),suggestSelection:ue(new m(109,"suggestSelection","recentlyUsed",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[L.localize(251,null),L.localize(252,null),L.localize(253,null)],description:L.localize(254,null)})),tabCompletion:ue(new m(110,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[L.localize(255,null),L.localize(256,null),L.localize(257,null)],description:L.localize(258,null)})),tabIndex:ue(new n(111,"tabIndex",0,-1,1073741824)),unicodeHighlight:ue(new ge),unusualLineTerminators:ue(new m(113,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[L.localize(259,null),L.localize(260,null),L.localize(261,null)],description:L.localize(262,null)})),useShadowDOM:ue(new d(114,"useShadowDOM",!0)),useTabStops:ue(new d(115,"useTabStops",!0,{description:L.localize(263,null)})),wordSeparators:ue(new s(116,"wordSeparators",M.USUAL_WORD_SEPARATORS,{description:L.localize(264,null)})),wordWrap:ue(new m(117,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[L.localize(265,null),L.localize(266,null),L.localize(267,null),L.localize(268,null)],description:L.localize(269,null)})),wordWrapBreakAfterCharacters:ue(new s(118,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:ue(new s(119,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:ue(new n(120,"wordWrapColumn",80,1,1073741824,{markdownDescription:L.localize(270,null)})),wordWrapOverride1:ue(new m(121,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:ue(new m(122,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:ue(new _(123,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],he,{enumDescriptions:[L.localize(271,null),L.localize(272,null),L.localize(273,null),L.localize(274,null)],description:L.localize(275,null)})),wrappingStrategy:ue(new m(124,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[L.localize(276,null),L.localize(277,null)],description:L.localize(278,null)})),editorClassName:ue(new T),pixelRatio:ue(new W),tabFocusMode:ue(new fe),layoutInfo:ue(new x),wrappingInfo:ue(new se)}}),define(ee[493],te([0,1,36,29]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readCharWidths=e.CharWidthRequest=void 0;class M{constructor(b,p){this.chr=b,this.type=p,this.width=0}fulfill(b){this.width=b}}e.CharWidthRequest=M;class E{constructor(b,p){this._bareFontInfo=b,this._requests=p,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const b=this._bareFontInfo.getMassagedFontFamily(L.isSafari?N.EDITOR_FONT_DEFAULTS.fontFamily:null),p=document.createElement("div");p.style.position="absolute",p.style.top="-50000px",p.style.width="50000px";const v=document.createElement("div");v.style.fontFamily=b,v.style.fontWeight=this._bareFontInfo.fontWeight,v.style.fontSize=this._bareFontInfo.fontSize+"px",v.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,v.style.lineHeight=this._bareFontInfo.lineHeight+"px",v.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",p.appendChild(v);const i=document.createElement("div");i.style.fontFamily=b,i.style.fontWeight="bold",i.style.fontSize=this._bareFontInfo.fontSize+"px",i.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,i.style.lineHeight=this._bareFontInfo.lineHeight+"px",i.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",p.appendChild(i);const t=document.createElement("div");t.style.fontFamily=b,t.style.fontWeight=this._bareFontInfo.fontWeight,t.style.fontSize=this._bareFontInfo.fontSize+"px",t.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,t.style.lineHeight=this._bareFontInfo.lineHeight+"px",t.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",t.style.fontStyle="italic",p.appendChild(t);const a=[];for(const l of this._requests){let h;l.type===0&&(h=v),l.type===2&&(h=i),l.type===1&&(h=t),h.appendChild(document.createElement("br"));const d=document.createElement("span");E._render(d,l),h.appendChild(d),a.push(d)}this._container=p,this._testElements=a}static _render(b,p){if(p.chr===" "){let v="\xA0";for(let i=0;i<8;i++)v+=v;b.innerText=v}else{let v=p.chr;for(let i=0;i<8;i++)v+=v;b.textContent=v}}_readFromDomElements(){for(let b=0,p=this._requests.length;b<p;b++){const v=this._requests[b],i=this._testElements[b];v.fulfill(i.offsetWidth/256)}}}function g(S,b){new E(S,b).read()}e.readCharWidths=g}),define(ee[190],te([0,1,15,29,144]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontInfo=e.SERIALIZED_FONT_INFO_VERSION=e.BareFontInfo=void 0;const E=L.isMacintosh?1.5:1.35,g=8;class S{constructor(v){this._bareFontInfoBrand=void 0,this.zoomLevel=v.zoomLevel,this.pixelRatio=v.pixelRatio,this.fontFamily=String(v.fontFamily),this.fontWeight=String(v.fontWeight),this.fontSize=v.fontSize,this.fontFeatureSettings=v.fontFeatureSettings,this.lineHeight=v.lineHeight|0,this.letterSpacing=v.letterSpacing}static createFromValidatedSettings(v,i,t,a){const l=v.get(42),h=v.get(46),d=v.get(45),u=v.get(44),n=v.get(58),r=v.get(55);return S._create(l,h,d,u,n,r,i,t,a)}static createFromRawSettings(v,i,t,a=!1){const l=N.EditorOptions.fontFamily.validate(v.fontFamily),h=N.EditorOptions.fontWeight.validate(v.fontWeight),d=N.EditorOptions.fontSize.validate(v.fontSize),u=N.EditorOptions.fontLigatures2.validate(v.fontLigatures),n=N.EditorOptions.lineHeight.validate(v.lineHeight),r=N.EditorOptions.letterSpacing.validate(v.letterSpacing);return S._create(l,h,d,u,n,r,i,t,a)}static _create(v,i,t,a,l,h,d,u,n){l===0?l=E*t:l<g&&(l=l*t),l=Math.round(l),l<g&&(l=g);const r=1+(n?0:M.EditorZoom.getZoomLevel()*.1);return t*=r,l*=r,new S({zoomLevel:d,pixelRatio:u,fontFamily:v,fontWeight:i,fontSize:t,fontFeatureSettings:a,lineHeight:l,letterSpacing:h})}getId(){return this.zoomLevel+"-"+this.pixelRatio+"-"+this.fontFamily+"-"+this.fontWeight+"-"+this.fontSize+"-"+this.fontFeatureSettings+"-"+this.lineHeight+"-"+this.letterSpacing}getMassagedFontFamily(v){const i=S._wrapInQuotes(this.fontFamily);return v&&this.fontFamily!==v?`${i}, ${v}`:i}static _wrapInQuotes(v){return/[,"']/.test(v)?v:/[+ ]/.test(v)?`"${v}"`:v}}e.BareFontInfo=S,e.SERIALIZED_FONT_INFO_VERSION=1;class b extends S{constructor(v,i){super(v);this._editorStylingBrand=void 0,this.version=e.SERIALIZED_FONT_INFO_VERSION,this.isTrusted=i,this.isMonospace=v.isMonospace,this.typicalHalfwidthCharacterWidth=v.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=v.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=v.canUseHalfwidthRightwardsArrow,this.spaceWidth=v.spaceWidth,this.middotWidth=v.middotWidth,this.wsmiddotWidth=v.wsmiddotWidth,this.maxDigitWidth=v.maxDigitWidth}equals(v){return this.fontFamily===v.fontFamily&&this.fontWeight===v.fontWeight&&this.fontSize===v.fontSize&&this.fontFeatureSettings===v.fontFeatureSettings&&this.lineHeight===v.lineHeight&&this.letterSpacing===v.letterSpacing&&this.typicalHalfwidthCharacterWidth===v.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===v.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===v.canUseHalfwidthRightwardsArrow&&this.spaceWidth===v.spaceWidth&&this.middotWidth===v.middotWidth&&this.wsmiddotWidth===v.wsmiddotWidth&&this.maxDigitWidth===v.maxDigitWidth}}e.FontInfo=b}),define(ee[258],te([0,1,13,3,65,29]),function(Q,e,L,N,M,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isModelDecorationVisible=e.ViewModelDecorations=void 0;class g{constructor(v,i,t,a,l){this.editorId=v,this.model=i,this.configuration=t,this._linesCollection=a,this._coordinatesConverter=l,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(v){const i=v.id;let t=this._decorationsCache[i];if(!t){const a=v.range,l=v.options;let h;if(l.isWholeLine){const d=this._coordinatesConverter.convertModelPositionToViewPosition(new L.Position(a.startLineNumber,1),0),u=this._coordinatesConverter.convertModelPositionToViewPosition(new L.Position(a.endLineNumber,this.model.getLineMaxColumn(a.endLineNumber)),1);h=new N.Range(d.lineNumber,d.column,u.lineNumber,u.column)}else h=this._coordinatesConverter.convertModelRangeToViewRange(a,1);t=new M.ViewModelDecoration(h,l),this._decorationsCache[i]=t}return t}getDecorationsViewportData(v){let i=this._cachedModelDecorationsResolver!==null;return i=i&&v.equalsRange(this._cachedModelDecorationsResolverViewRange),i||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(v),this._cachedModelDecorationsResolverViewRange=v),this._cachedModelDecorationsResolver}_getDecorationsViewportData(v){const i=this._linesCollection.getDecorationsInRange(v,this.editorId,(0,E.filterValidationDecorations)(this.configuration.options)),t=v.startLineNumber,a=v.endLineNumber;let l=[],h=0,d=[];for(let u=t;u<=a;u++)d[u-t]=[];for(let u=0,n=i.length;u<n;u++){let r=i[u],s=r.options;if(!S(this.model,r))continue;let o=this._getOrCreateViewModelDecoration(r),m=o.range;if(l[h++]=o,s.inlineClassName){let _=new M.InlineDecoration(m,s.inlineClassName,s.inlineClassNameAffectsLetterSpacing?3:0),f=Math.max(t,m.startLineNumber),c=Math.min(a,m.endLineNumber);for(let C=f;C<=c;C++)d[C-t].push(_)}if(s.beforeContentClassName&&t<=m.startLineNumber&&m.startLineNumber<=a){let _=new M.InlineDecoration(new N.Range(m.startLineNumber,m.startColumn,m.startLineNumber,m.startColumn),s.beforeContentClassName,1);d[m.startLineNumber-t].push(_)}if(s.afterContentClassName&&t<=m.endLineNumber&&m.endLineNumber<=a){let _=new M.InlineDecoration(new N.Range(m.endLineNumber,m.endColumn,m.endLineNumber,m.endColumn),s.afterContentClassName,2);d[m.endLineNumber-t].push(_)}}return{decorations:l,inlineDecorations:d}}}e.ViewModelDecorations=g;function S(p,v){return!(v.options.hideInCommentTokens&&b(p,v.range,t=>t===1))}e.isModelDecorationVisible=S;function b(p,v,i){for(let t=v.startLineNumber;t<=v.endLineNumber;t++){const a=p.getLineTokens(t),l=t===v.startLineNumber,h=t===v.endLineNumber;let d=l?a.findTokenIndexAtOffset(v.startColumn-1):0;for(;d<a.getCount()&&!(h&&a.getStartOffset(d)>v.endColumn-1);){if(!i(a.getStandardTokenType(d)))return!1;d++}}return!0}}),define(ee[494],te([5,6]),function(Q,e){return Q.create("vs/editor/common/editorContextKeys",e)}),define(ee[495],te([5,6]),function(Q,e){return Q.create("vs/editor/common/model/editStack",e)}),define(ee[259],te([0,1,495,12,23,22,236,98,33]),function(Q,e,L,N,M,E,g,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditStack=e.isEditStackElement=e.MultiModelEditStackElement=e.SingleModelEditStackElement=e.SingleModelEditStackData=void 0;function p(d){return d.toString()}class v{constructor(u,n,r,s,o,m,_){this.beforeVersionId=u,this.afterVersionId=n,this.beforeEOL=r,this.afterEOL=s,this.beforeCursorState=o,this.afterCursorState=m,this.changes=_}static create(u,n){const r=u.getAlternativeVersionId(),s=a(u);return new v(r,r,s,s,n,n,[])}append(u,n,r,s,o){n.length>0&&(this.changes=(0,g.compressConsecutiveTextChanges)(this.changes,n)),this.afterEOL=r,this.afterVersionId=s,this.afterCursorState=o}static _writeSelectionsSize(u){return 4+4*4*(u?u.length:0)}static _writeSelections(u,n,r){if(S.writeUInt32BE(u,n?n.length:0,r),r+=4,n)for(const s of n)S.writeUInt32BE(u,s.selectionStartLineNumber,r),r+=4,S.writeUInt32BE(u,s.selectionStartColumn,r),r+=4,S.writeUInt32BE(u,s.positionLineNumber,r),r+=4,S.writeUInt32BE(u,s.positionColumn,r),r+=4;return r}static _readSelections(u,n,r){const s=S.readUInt32BE(u,n);n+=4;for(let o=0;o<s;o++){const m=S.readUInt32BE(u,n);n+=4;const _=S.readUInt32BE(u,n);n+=4;const f=S.readUInt32BE(u,n);n+=4;const c=S.readUInt32BE(u,n);n+=4,r.push(new M.Selection(m,_,f,c))}return n}serialize(){let u=4+4+1+1+v._writeSelectionsSize(this.beforeCursorState)+v._writeSelectionsSize(this.afterCursorState)+4;for(const s of this.changes)u+=s.writeSize();const n=new Uint8Array(u);let r=0;S.writeUInt32BE(n,this.beforeVersionId,r),r+=4,S.writeUInt32BE(n,this.afterVersionId,r),r+=4,S.writeUInt8(n,this.beforeEOL,r),r+=1,S.writeUInt8(n,this.afterEOL,r),r+=1,r=v._writeSelections(n,this.beforeCursorState,r),r=v._writeSelections(n,this.afterCursorState,r),S.writeUInt32BE(n,this.changes.length,r),r+=4;for(const s of this.changes)r=s.write(n,r);return n.buffer}static deserialize(u){const n=new Uint8Array(u);let r=0;const s=S.readUInt32BE(n,r);r+=4;const o=S.readUInt32BE(n,r);r+=4;const m=S.readUInt8(n,r);r+=1;const _=S.readUInt8(n,r);r+=1;const f=[];r=v._readSelections(n,r,f);const c=[];r=v._readSelections(n,r,c);const C=S.readUInt32BE(n,r);r+=4;const y=[];for(let w=0;w<C;w++)r=g.TextChange.read(n,r,y);return new v(s,o,m,_,f,c,y)}}e.SingleModelEditStackData=v;class i{constructor(u,n){this.model=u,this._data=v.create(u,n)}get type(){return 0}get resource(){return E.URI.isUri(this.model)?this.model:this.model.uri}get label(){return L.localize(0,null)}toString(){return(this._data instanceof v?this._data:v.deserialize(this._data)).changes.map(n=>n.toString()).join(", ")}matchesResource(u){return(E.URI.isUri(this.model)?this.model:this.model.uri).toString()===u.toString()}setModel(u){this.model=u}canAppend(u){return this.model===u&&this._data instanceof v}append(u,n,r,s,o){this._data instanceof v&&this._data.append(u,n,r,s,o)}close(){this._data instanceof v&&(this._data=this._data.serialize())}open(){this._data instanceof v||(this._data=v.deserialize(this._data))}undo(){if(E.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof v&&(this._data=this._data.serialize());const u=v.deserialize(this._data);this.model._applyUndo(u.changes,u.beforeEOL,u.beforeVersionId,u.beforeCursorState)}redo(){if(E.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof v&&(this._data=this._data.serialize());const u=v.deserialize(this._data);this.model._applyRedo(u.changes,u.afterEOL,u.afterVersionId,u.afterCursorState)}heapSize(){return this._data instanceof v&&(this._data=this._data.serialize()),this._data.byteLength+168}}e.SingleModelEditStackElement=i;class t{constructor(u,n){this.type=1,this.label=u,this._isOpen=!0,this._editStackElementsArr=n.slice(0),this._editStackElementsMap=new Map;for(const r of this._editStackElementsArr){const s=p(r.resource);this._editStackElementsMap.set(s,r)}this._delegate=null}get resources(){return this._editStackElementsArr.map(u=>u.resource)}setDelegate(u){this._delegate=u}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}getMissingModels(){const u=[];for(const n of this._editStackElementsArr)E.URI.isUri(n.model)&&u.push(n.model);return u}matchesResource(u){const n=p(u);return this._editStackElementsMap.has(n)}setModel(u){const n=p(E.URI.isUri(u)?u:u.uri);this._editStackElementsMap.has(n)&&this._editStackElementsMap.get(n).setModel(u)}canAppend(u){if(!this._isOpen)return!1;const n=p(u.uri);return this._editStackElementsMap.has(n)?this._editStackElementsMap.get(n).canAppend(u):!1}append(u,n,r,s,o){const m=p(u.uri);this._editStackElementsMap.get(m).append(u,n,r,s,o)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const u of this._editStackElementsArr)u.undo()}redo(){for(const u of this._editStackElementsArr)u.redo()}heapSize(u){const n=p(u);return this._editStackElementsMap.has(n)?this._editStackElementsMap.get(n).heapSize():0}split(){return this._editStackElementsArr}toString(){let u=[];for(const n of this._editStackElementsArr)u.push(`${(0,b.basename)(n.resource)}: ${n}`);return`{${u.join(", ")}}`}}e.MultiModelEditStackElement=t;function a(d){return d.getEOL()===`
`?0:1}function l(d){return d?d instanceof i||d instanceof t:!1}e.isEditStackElement=l;class h{constructor(u,n){this._model=u,this._undoRedoService=n}pushStackElement(){const u=this._undoRedoService.getLastElement(this._model.uri);l(u)&&u.close()}popStackElement(){const u=this._undoRedoService.getLastElement(this._model.uri);l(u)&&u.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(u){const n=this._undoRedoService.getLastElement(this._model.uri);if(l(n)&&n.canAppend(this._model))return n;const r=new i(this._model,u);return this._undoRedoService.pushElement(r),r}pushEOL(u){const n=this._getOrCreateEditStackElement(null);this._model.setEOL(u),n.append(this._model,[],a(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(u,n,r){const s=this._getOrCreateEditStackElement(u),o=this._model.applyEdits(n,!0),m=h._computeCursorState(r,o),_=o.map((f,c)=>({index:c,textChange:f.textChange}));return _.sort((f,c)=>f.textChange.oldPosition===c.textChange.oldPosition?f.index-c.index:f.textChange.oldPosition-c.textChange.oldPosition),s.append(this._model,_.map(f=>f.textChange),a(this._model),this._model.getAlternativeVersionId(),m),m}static _computeCursorState(u,n){try{return u?u(n):null}catch(r){return(0,N.onUnexpectedError)(r),null}}}e.EditStack=h}),define(ee[496],te([5,6]),function(Q,e){return Q.create("vs/editor/common/modes/modesRegistry",e)}),define(ee[497],te([5,6]),function(Q,e){return Q.create("vs/editor/common/standaloneStrings",e)}),define(ee[66],te([0,1,497]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleServicesNLS=e.ToggleHighContrastNLS=e.StandaloneCodeEditorNLS=e.QuickOutlineNLS=e.QuickCommandNLS=e.QuickHelpNLS=e.GoToLineNLS=e.InspectTokensNLS=e.AccessibilityHelpNLS=void 0;var N;(function(t){t.noSelection=L.localize(0,null),t.singleSelectionRange=L.localize(1,null),t.singleSelection=L.localize(2,null),t.multiSelectionRange=L.localize(3,null),t.multiSelection=L.localize(4,null),t.emergencyConfOn=L.localize(5,null),t.openingDocs=L.localize(6,null),t.readonlyDiffEditor=L.localize(7,null),t.editableDiffEditor=L.localize(8,null),t.readonlyEditor=L.localize(9,null),t.editableEditor=L.localize(10,null),t.changeConfigToOnMac=L.localize(11,null),t.changeConfigToOnWinLinux=L.localize(12,null),t.auto_on=L.localize(13,null),t.auto_off=L.localize(14,null),t.tabFocusModeOnMsg=L.localize(15,null),t.tabFocusModeOnMsgNoKb=L.localize(16,null),t.tabFocusModeOffMsg=L.localize(17,null),t.tabFocusModeOffMsgNoKb=L.localize(18,null),t.openDocMac=L.localize(19,null),t.openDocWinLinux=L.localize(20,null),t.outroMsg=L.localize(21,null),t.showAccessibilityHelpAction=L.localize(22,null)})(N=e.AccessibilityHelpNLS||(e.AccessibilityHelpNLS={}));var M;(function(t){t.inspectTokensAction=L.localize(23,null)})(M=e.InspectTokensNLS||(e.InspectTokensNLS={}));var E;(function(t){t.gotoLineActionLabel=L.localize(24,null)})(E=e.GoToLineNLS||(e.GoToLineNLS={}));var g;(function(t){t.helpQuickAccessActionLabel=L.localize(25,null)})(g=e.QuickHelpNLS||(e.QuickHelpNLS={}));var S;(function(t){t.quickCommandActionLabel=L.localize(26,null),t.quickCommandHelp=L.localize(27,null)})(S=e.QuickCommandNLS||(e.QuickCommandNLS={}));var b;(function(t){t.quickOutlineActionLabel=L.localize(28,null),t.quickOutlineByCategoryActionLabel=L.localize(29,null)})(b=e.QuickOutlineNLS||(e.QuickOutlineNLS={}));var p;(function(t){t.editorViewAccessibleLabel=L.localize(30,null),t.accessibilityHelpMessage=L.localize(31,null)})(p=e.StandaloneCodeEditorNLS||(e.StandaloneCodeEditorNLS={}));var v;(function(t){t.toggleHighContrast=L.localize(32,null)})(v=e.ToggleHighContrastNLS||(e.ToggleHighContrastNLS={}));var i;(function(t){t.bulkEditServiceSummary=L.localize(33,null)})(i=e.SimpleServicesNLS||(e.SimpleServicesNLS={}))}),define(ee[498],te([5,6]),function(Q,e){return Q.create("vs/editor/common/view/editorColorRegistry",e)}),define(ee[499],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/anchorSelect/anchorSelect",e)}),define(ee[500],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/bracketMatching/bracketMatching",e)}),define(ee[501],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/caretOperations/caretOperations",e)}),define(ee[502],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/caretOperations/transpose",e)}),define(ee[503],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/clipboard/clipboard",e)}),define(ee[504],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/codeAction/codeActionCommands",e)}),define(ee[505],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/codeAction/lightBulbWidget",e)}),define(ee[506],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/codelens/codelensController",e)}),define(ee[507],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/colorPicker/colorPickerWidget",e)}),define(ee[508],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/comment/comment",e)}),define(ee[509],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/contextmenu/contextmenu",e)}),define(ee[510],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/cursorUndo/cursorUndo",e)}),define(ee[511],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/find/findController",e)}),define(ee[512],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/find/findWidget",e)}),define(ee[513],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/folding/folding",e)}),define(ee[514],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/folding/foldingDecorations",e)}),define(ee[515],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/fontZoom/fontZoom",e)}),define(ee[516],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/format/format",e)}),define(ee[517],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/format/formatActions",e)}),define(ee[518],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/gotoError/gotoError",e)}),define(ee[519],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/gotoError/gotoErrorWidget",e)}),define(ee[520],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/gotoSymbol/goToCommands",e)}),define(ee[521],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition",e)}),define(ee[522],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/gotoSymbol/peek/referencesController",e)}),define(ee[523],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/gotoSymbol/peek/referencesTree",e)}),define(ee[524],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/gotoSymbol/peek/referencesWidget",e)}),define(ee[525],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/gotoSymbol/referencesModel",e)}),define(ee[123],te([0,1,12,4,133,2,48,33,8,3,525]),function(Q,e,L,N,M,E,g,S,b,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesModel=e.FileReferences=e.FilePreview=e.OneReference=void 0;class i{constructor(d,u,n,r){this.isProviderFirst=d,this.parent=u,this.link=n,this._rangeCallback=r,this.id=M.defaultGenerator.nextId()}get uri(){return this.link.uri}get range(){var d,u;return(u=(d=this._range)!==null&&d!==void 0?d:this.link.targetSelectionRange)!==null&&u!==void 0?u:this.link.range}set range(d){this._range=d,this._rangeCallback(this)}get ariaMessage(){var d;const u=(d=this.parent.getPreview(this))===null||d===void 0?void 0:d.preview(this.range);return u?(0,v.localize)(1,null,(0,S.basename)(this.uri),this.range.startLineNumber,this.range.startColumn,u.value):(0,v.localize)(0,null,(0,S.basename)(this.uri),this.range.startLineNumber,this.range.startColumn)}}e.OneReference=i;class t{constructor(d){this._modelReference=d}dispose(){this._modelReference.dispose()}preview(d,u=8){const n=this._modelReference.object.textEditorModel;if(!n)return;const{startLineNumber:r,startColumn:s,endLineNumber:o,endColumn:m}=d,_=n.getWordUntilPosition({lineNumber:r,column:s-u}),f=new p.Range(r,_.startColumn,r,s),c=new p.Range(o,m,o,1073741824),C=n.getValueInRange(f).replace(/^\s+/,""),y=n.getValueInRange(d),w=n.getValueInRange(c).replace(/\s+$/,"");return{value:C+y+w,highlight:{start:C.length,end:C.length+y.length}}}}e.FilePreview=t;class a{constructor(d,u){this.parent=d,this.uri=u,this.children=[],this._previews=new g.ResourceMap}dispose(){(0,E.dispose)(this._previews.values()),this._previews.clear()}getPreview(d){return this._previews.get(d.uri)}get ariaMessage(){const d=this.children.length;return d===1?(0,v.localize)(2,null,(0,S.basename)(this.uri),this.uri.fsPath):(0,v.localize)(3,null,d,(0,S.basename)(this.uri),this.uri.fsPath)}resolve(d){return Me(this,void 0,void 0,function*(){if(this._previews.size!==0)return this;for(let u of this.children)if(!this._previews.has(u.uri))try{const n=yield d.createModelReference(u.uri);this._previews.set(u.uri,new t(n))}catch(n){(0,L.onUnexpectedError)(n)}return this})}}e.FileReferences=a;class l{constructor(d,u){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new N.Emitter,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=d,this._title=u;const[n]=d;d.sort(l._compareReferences);let r;for(let s of d)if((!r||!S.extUri.isEqual(r.uri,s.uri,!0))&&(r=new a(this,s.uri),this.groups.push(r)),r.children.length===0||l._compareReferences(s,r.children[r.children.length-1])!==0){const o=new i(n===s,r,s,m=>this._onDidChangeReferenceRange.fire(m));this.references.push(o),r.children.push(o)}}dispose(){(0,E.dispose)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new l(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?(0,v.localize)(4,null):this.references.length===1?(0,v.localize)(5,null,this.references[0].uri.fsPath):this.groups.length===1?(0,v.localize)(6,null,this.references.length,this.groups[0].uri.fsPath):(0,v.localize)(7,null,this.references.length,this.groups.length)}nextOrPreviousReference(d,u){let{parent:n}=d,r=n.children.indexOf(d),s=n.children.length,o=n.parent.groups.length;return o===1||u&&r+1<s||!u&&r>0?(u?r=(r+1)%s:r=(r+s-1)%s,n.children[r]):(r=n.parent.groups.indexOf(n),u?(r=(r+1)%o,n.parent.groups[r].children[0]):(r=(r+o-1)%o,n.parent.groups[r].children[n.parent.groups[r].children.length-1]))}nearestReference(d,u){const n=this.references.map((r,s)=>({idx:s,prefixLen:b.commonPrefixLength(r.uri.toString(),d.toString()),offsetDist:Math.abs(r.range.startLineNumber-u.lineNumber)*100+Math.abs(r.range.startColumn-u.column)})).sort((r,s)=>r.prefixLen>s.prefixLen?-1:r.prefixLen<s.prefixLen?1:r.offsetDist<s.offsetDist?-1:r.offsetDist>s.offsetDist?1:0)[0];if(n)return this.references[n.idx]}referenceAt(d,u){for(const n of this.references)if(n.uri.toString()===d.toString()&&p.Range.containsPosition(n.range,u))return n}firstReference(){for(const d of this.references)if(d.isProviderFirst)return d;return this.references[0]}static _compareReferences(d,u){return S.extUri.compare(d.uri,u.uri)||p.Range.compareRangesUsingStarts(d.range,u.range)}}e.ReferencesModel=l}),define(ee[526],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/gotoSymbol/symbolNavigation",e)}),define(ee[527],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/hover/hover",e)}),define(ee[528],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/hover/markdownHoverParticipant",e)}),define(ee[529],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/hover/markerHoverParticipant",e)}),define(ee[530],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/inPlaceReplace/inPlaceReplace",e)}),define(ee[531],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/indentation/indentation",e)}),define(ee[532],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/inlineCompletions/ghostTextController",e)}),define(ee[533],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/inlineCompletions/inlineCompletionsHoverParticipant",e)}),define(ee[534],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/lineSelection/lineSelection",e)}),define(ee[535],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/linesOperations/linesOperations",e)}),define(ee[536],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/linkedEditing/linkedEditing",e)}),define(ee[537],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/links/links",e)}),define(ee[538],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/message/messageController",e)}),define(ee[539],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/multicursor/multicursor",e)}),define(ee[540],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/parameterHints/parameterHints",e)}),define(ee[541],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/parameterHints/parameterHintsWidget",e)}),define(ee[542],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/peekView/peekView",e)}),define(ee[543],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/quickAccess/gotoLineQuickAccess",e)}),define(ee[544],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess",e)}),define(ee[545],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/rename/rename",e)}),define(ee[546],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/rename/renameInputField",e)}),define(ee[547],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/smartSelect/smartSelect",e)}),define(ee[548],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/snippet/snippetController2",e)}),define(ee[549],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/snippet/snippetVariables",e)}),define(ee[550],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/suggest/suggest",e)}),define(ee[551],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/suggest/suggestController",e)}),define(ee[552],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/suggest/suggestWidget",e)}),define(ee[553],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/suggest/suggestWidgetDetails",e)}),define(ee[554],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/suggest/suggestWidgetRenderer",e)}),define(ee[555],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/suggest/suggestWidgetStatus",e)}),define(ee[556],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/symbolIcons/symbolIcons",e)}),define(ee[557],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode",e)}),define(ee[558],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/tokenization/tokenization",e)}),define(ee[559],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/unicodeHighlighter/unicodeHighlighter",e)}),define(ee[560],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/unusualLineTerminators/unusualLineTerminators",e)}),define(ee[561],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/wordHighlighter/wordHighlighter",e)}),define(ee[562],te([5,6]),function(Q,e){return Q.create("vs/editor/contrib/wordOperations/wordOperations",e)}),define(ee[563],te([5,6]),function(Q,e){return Q.create("vs/platform/actions/browser/menuEntryActionViewItem",e)}),define(ee[564],te([5,6]),function(Q,e){return Q.create("vs/platform/configuration/common/configurationRegistry",e)}),define(ee[565],te([5,6]),function(Q,e){return Q.create("vs/platform/contextkey/browser/contextKeyService",e)}),define(ee[566],te([5,6]),function(Q,e){return Q.create("vs/platform/contextkey/common/contextkeys",e)}),define(ee[567],te([5,6]),function(Q,e){return Q.create("vs/platform/dialogs/common/dialogs",e)}),define(ee[568],te([5,6]),function(Q,e){return Q.create("vs/platform/files/common/files",e)}),define(ee[569],te([5,6]),function(Q,e){return Q.create("vs/platform/keybinding/common/abstractKeybindingService",e)}),define(ee[570],te([5,6]),function(Q,e){return Q.create("vs/platform/list/browser/listService",e)}),define(ee[571],te([5,6]),function(Q,e){return Q.create("vs/platform/markers/common/markers",e)}),define(ee[572],te([5,6]),function(Q,e){return Q.create("vs/platform/quickinput/browser/commandsQuickAccess",e)}),define(ee[573],te([5,6]),function(Q,e){return Q.create("vs/platform/quickinput/browser/helpQuickAccess",e)}),define(ee[574],te([5,6]),function(Q,e){return Q.create("vs/platform/theme/common/colorRegistry",e)}),define(ee[575],te([5,6]),function(Q,e){return Q.create("vs/platform/theme/common/iconRegistry",e)}),define(ee[576],te([5,6]),function(Q,e){return Q.create("vs/platform/undoRedo/common/undoRedoService",e)}),define(ee[577],te([5,6]),function(Q,e){return Q.create("vs/platform/workspace/common/workspaceTrust",e)}),define(ee[578],te([5,6]),function(Q,e){return Q.create("vs/platform/workspaces/common/workspaces",e)}),define(ee[579],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showHistoryKeybindingHint=void 0;function L(N){var M,E;return((M=N.lookupKeybinding("history.showPrevious"))===null||M===void 0?void 0:M.getElectronAccelerator())==="Up"&&((E=N.lookupKeybinding("history.showNext"))===null||E===void 0?void 0:E.getElectronAccelerator())==="Down"}e.showHistoryKeybindingHint=L}),define(ee[580],te([0,1,7]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserClipboardService=void 0;class N{constructor(){this.mapTextToType=new Map,this.findText="",this.resources=[]}writeText(E,g){return Me(this,void 0,void 0,function*(){if(g){this.mapTextToType.set(g,E);return}try{return yield navigator.clipboard.writeText(E)}catch(p){console.error(p)}const S=document.activeElement,b=document.body.appendChild((0,L.$)("textarea",{"aria-hidden":!0}));b.style.height="1px",b.style.width="1px",b.style.position="absolute",b.value=E,b.focus(),b.select(),document.execCommand("copy"),S instanceof HTMLElement&&S.focus(),document.body.removeChild(b)})}readText(E){return Me(this,void 0,void 0,function*(){if(E)return this.mapTextToType.get(E)||"";try{return yield navigator.clipboard.readText()}catch(g){return console.error(g),""}})}readFindText(){return Me(this,void 0,void 0,function*(){return this.findText})}writeFindText(E){return Me(this,void 0,void 0,function*(){this.findText=E})}writeResources(E){return Me(this,void 0,void 0,function*(){this.resources=E})}readResources(){return Me(this,void 0,void 0,function*(){return this.resources})}hasResources(){return Me(this,void 0,void 0,function*(){return this.resources.length>0})}}e.BrowserClipboardService=N}),define(ee[581],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOpenContext=e.EditorResolution=e.EditorActivation=void 0;var L;(function(E){E[E.ACTIVATE=1]="ACTIVATE",E[E.RESTORE=2]="RESTORE",E[E.PRESERVE=3]="PRESERVE"})(L=e.EditorActivation||(e.EditorActivation={}));var N;(function(E){E[E.PICK=0]="PICK",E[E.DISABLED=1]="DISABLED",E[E.EXCLUSIVE_ONLY=2]="EXCLUSIVE_ONLY"})(N=e.EditorResolution||(e.EditorResolution={}));var M;(function(E){E[E.API=0]="API",E[E.USER=1]="USER"})(M=e.EditorOpenContext||(e.EditorOpenContext={}))}),define(ee[191],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SyncDescriptor=void 0;class L{constructor(M,E=[],g=!1){this.ctor=M,this.staticArguments=E,this.supportsDelayedInstantiation=g}}e.SyncDescriptor=L}),define(ee[74],te([0,1,191]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSingletonServiceDescriptors=e.registerSingleton=void 0;const N=[];function M(g,S,b){S instanceof L.SyncDescriptor||(S=new L.SyncDescriptor(S,[],b)),N.push([g,S])}e.registerSingleton=M;function E(){return N}e.getSingletonServiceDescriptors=E}),define(ee[582],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=e.Node=void 0;class L{constructor(E){this.incoming=new Map,this.outgoing=new Map,this.data=E}}e.Node=L;class N{constructor(E){this._hashFn=E,this._nodes=new Map}roots(){const E=[];for(let g of this._nodes.values())g.outgoing.size===0&&E.push(g);return E}insertEdge(E,g){const S=this.lookupOrInsertNode(E),b=this.lookupOrInsertNode(g);S.outgoing.set(this._hashFn(g),b),b.incoming.set(this._hashFn(E),S)}removeNode(E){const g=this._hashFn(E);this._nodes.delete(g);for(let S of this._nodes.values())S.outgoing.delete(g),S.incoming.delete(g)}lookupOrInsertNode(E){const g=this._hashFn(E);let S=this._nodes.get(g);return S||(S=new L(E),this._nodes.set(g,S)),S}lookup(E){return this._nodes.get(this._hashFn(E))}isEmpty(){return this._nodes.size===0}toString(){let E=[];for(let[g,S]of this._nodes)E.push(`${g}, (incoming)[${[...S.incoming.keys()].join(", ")}], (outgoing)[${[...S.outgoing.keys()].join(",")}]`);return E.join(`
`)}findCycleSlow(){for(let[E,g]of this._nodes){const S=new Set([E]),b=this._findCycle(g,S);if(b)return b}}_findCycle(E,g){for(let[S,b]of E.outgoing){if(g.has(S))return[...g,S].join(" -> ");g.add(S);const p=this._findCycle(b,g);if(p)return p;g.delete(S)}}}e.Graph=N}),define(ee[9],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.refineServiceDecorator=e.createDecorator=e.IInstantiationService=e._util=void 0;var L;(function(g){g.serviceIds=new Map,g.DI_TARGET="$di$target",g.DI_DEPENDENCIES="$di$dependencies";function S(b){return b[g.DI_DEPENDENCIES]||[]}g.getServiceDependencies=S})(L=e._util||(e._util={})),e.IInstantiationService=M("instantiationService");function N(g,S,b,p){S[L.DI_TARGET]===S?S[L.DI_DEPENDENCIES].push({id:g,index:b,optional:p}):(S[L.DI_DEPENDENCIES]=[{id:g,index:b,optional:p}],S[L.DI_TARGET]=S)}function M(g){if(L.serviceIds.has(g))return L.serviceIds.get(g);const S=function(b,p,v){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");N(S,b,v,!1)};return S.toString=()=>g,L.serviceIds.set(g,S),S}e.createDecorator=M;function E(g){return g}e.refineServiceDecorator=E}),define(ee[154],te([0,1,9,22,20]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResourceFileEdit=e.ResourceTextEdit=e.ResourceEdit=e.IBulkEditService=void 0,e.IBulkEditService=(0,L.createDecorator)("IWorkspaceEditService");function E(v){return(0,M.isObject)(v)&&(Boolean(v.newUri)||Boolean(v.oldUri))}function g(v){return(0,M.isObject)(v)&&N.URI.isUri(v.resource)&&(0,M.isObject)(v.edit)}class S{constructor(i){this.metadata=i}static convert(i){return i.edits.map(t=>{if(g(t))return new b(t.resource,t.edit,t.modelVersionId,t.metadata);if(E(t))return new p(t.oldUri,t.newUri,t.options,t.metadata);throw new Error("Unsupported edit")})}}e.ResourceEdit=S;class b extends S{constructor(i,t,a,l){super(l);this.resource=i,this.textEdit=t,this.versionId=a}}e.ResourceTextEdit=b;class p extends S{constructor(i,t,a,l){super(l);this.oldResource=i,this.newResource=t,this.options=a}}e.ResourceFileEdit=p}),define(ee[30],te([0,1,9]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ICodeEditorService=void 0,e.ICodeEditorService=(0,L.createDecorator)("codeEditorService")}),define(ee[67],te([0,1,9]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorWorkerService=e.ID_EDITOR_WORKER_SERVICE=void 0,e.ID_EDITOR_WORKER_SERVICE="editorWorkerService",e.IEditorWorkerService=(0,L.createDecorator)(e.ID_EDITOR_WORKER_SERVICE)}),define(ee[192],te([0,1,9]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerDecorationsService=void 0,e.IMarkerDecorationsService=(0,L.createDecorator)("markerDecorationsService")}),define(ee[39],te([0,1,9]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IModeService=void 0,e.IModeService=(0,L.createDecorator)("modeService")}),define(ee[47],te([0,1,9]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shouldSynchronizeModel=e.IModelService=void 0,e.IModelService=(0,L.createDecorator)("modelService");function N(M){return!M.isTooLargeForSyncing()&&!M.isForSimpleWidget}e.shouldSynchronizeModel=N}),define(ee[155],te([0,1,4,88,2,48,109,411,47]),function(Q,e,L,N,M,E,g,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureRequestDelays=e.LanguageFeatureRegistry=void 0;function p(h){return typeof h=="string"?!1:Array.isArray(h)?h.every(p):!!h.exclusive}class v{constructor(){this._clock=0,this._entries=[],this._onDidChange=new L.Emitter}get onDidChange(){return this._onDidChange.event}register(d,u){let n={selector:d,provider:u,_score:-1,_time:this._clock++};return this._entries.push(n),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,M.toDisposable)(()=>{if(n){let r=this._entries.indexOf(n);r>=0&&(this._entries.splice(r,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),n=void 0)}})}has(d){return this.all(d).length>0}all(d){if(!d)return[];this._updateScores(d);const u=[];for(let n of this._entries)n._score>0&&u.push(n.provider);return u}ordered(d){const u=[];return this._orderedForEach(d,n=>u.push(n.provider)),u}orderedGroups(d){const u=[];let n,r;return this._orderedForEach(d,s=>{n&&r===s._score?n.push(s.provider):(r=s._score,n=[s.provider],u.push(n))}),u}_orderedForEach(d,u){if(!!d){this._updateScores(d);for(const n of this._entries)n._score>0&&u(n)}}_updateScores(d){let u={uri:d.uri.toString(),language:d.getLanguageId()};if(!(this._lastCandidate&&this._lastCandidate.language===u.language&&this._lastCandidate.uri===u.uri)){this._lastCandidate=u;for(let n of this._entries)if(n._score=(0,S.score)(n.selector,d.uri,d.getLanguageId(),(0,b.shouldSynchronizeModel)(d)),p(n.selector)&&n._score>0){for(let r of this._entries)r._score=0;n._score=1e3;break}this._entries.sort(v._compareByScoreAndTime)}}static _compareByScoreAndTime(d,u){return d._score<u._score?1:d._score>u._score?-1:d._time<u._time?1:d._time>u._time?-1:0}}e.LanguageFeatureRegistry=v;const i=new WeakMap;let t=0;function a(h){let d=i.get(h);return d===void 0&&(d=++t,i.set(h,d)),d}class l{constructor(d,u,n=Number.MAX_SAFE_INTEGER){this._registry=d,this.min=u,this.max=n,this._cache=new E.LRUCache(50,.7)}_key(d){return d.id+this._registry.all(d).reduce((u,n)=>(0,N.doHash)(a(n),u),0)}_clamp(d){return d===void 0?this.min:Math.min(this.max,Math.max(this.min,Math.floor(d*1.3)))}get(d){const u=this._key(d),n=this._cache.get(u);return this._clamp(n==null?void 0:n.value)}update(d,u){const n=this._key(d);let r=this._cache.get(n);return r||(r=new g.MovingAverage,this._cache.set(n,r)),r.update(u),this.get(d)}}e.LanguageFeatureRequestDelays=l}),define(ee[18],te([0,1,22,3,155,419,27]),function(Q,e,L,N,M,E,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExternalUriOpenerPriority=e.TokenizationRegistry=e.DocumentRangeSemanticTokensProviderRegistry=e.DocumentSemanticTokensProviderRegistry=e.FoldingRangeProviderRegistry=e.SelectionRangeRegistry=e.ColorProviderRegistry=e.LinkProviderRegistry=e.OnTypeFormattingEditProviderRegistry=e.DocumentRangeFormattingEditProviderRegistry=e.DocumentFormattingEditProviderRegistry=e.CodeActionProviderRegistry=e.InlayHintsProviderRegistry=e.CodeLensProviderRegistry=e.TypeDefinitionProviderRegistry=e.ImplementationProviderRegistry=e.DeclarationProviderRegistry=e.DefinitionProviderRegistry=e.LinkedEditingRangeProviderRegistry=e.DocumentHighlightProviderRegistry=e.DocumentSymbolProviderRegistry=e.InlineValuesProviderRegistry=e.EvaluatableExpressionProviderRegistry=e.HoverProviderRegistry=e.SignatureHelpProviderRegistry=e.InlineCompletionsProviderRegistry=e.CompletionProviderRegistry=e.RenameProviderRegistry=e.ReferenceProviderRegistry=e.InlayHintKind=e.CommentMode=e.CommentThreadCollapsibleState=e.FoldingRangeKind=e.SymbolKinds=e.isLocationLink=e.DocumentHighlightKind=e.SignatureHelpTriggerKind=e.InlineCompletionTriggerKind=e.completionKindFromString=e.completionKindToCssClass=e.TokenMetadata=void 0;class S{static getLanguageId(r){return(r&255)>>>0}static getTokenType(r){return(r&1792)>>>8}static getFontStyle(r){return(r&14336)>>>11}static getForeground(r){return(r&8372224)>>>14}static getBackground(r){return(r&4286578688)>>>23}static getClassNameFromMetadata(r){let s=this.getForeground(r),o="mtk"+s,m=this.getFontStyle(r);return m&1&&(o+=" mtki"),m&2&&(o+=" mtkb"),m&4&&(o+=" mtku"),o}static getInlineStyleFromMetadata(r,s){const o=this.getForeground(r),m=this.getFontStyle(r);let _=`color: ${s[o]};`;return m&1&&(_+="font-style: italic;"),m&2&&(_+="font-weight: bold;"),m&4&&(_+="text-decoration: underline;"),_}}e.TokenMetadata=S,e.completionKindToCssClass=function(){let n=Object.create(null);return n[0]="symbol-method",n[1]="symbol-function",n[2]="symbol-constructor",n[3]="symbol-field",n[4]="symbol-variable",n[5]="symbol-class",n[6]="symbol-struct",n[7]="symbol-interface",n[8]="symbol-module",n[9]="symbol-property",n[10]="symbol-event",n[11]="symbol-operator",n[12]="symbol-unit",n[13]="symbol-value",n[14]="symbol-constant",n[15]="symbol-enum",n[16]="symbol-enum-member",n[17]="symbol-keyword",n[27]="symbol-snippet",n[18]="symbol-text",n[19]="symbol-color",n[20]="symbol-file",n[21]="symbol-reference",n[22]="symbol-customcolor",n[23]="symbol-folder",n[24]="symbol-type-parameter",n[25]="account",n[26]="issues",function(r){const s=n[r];let o=s&&g.iconRegistry.get(s);return o||(console.info("No codicon found for CompletionItemKind "+r),o=g.Codicon.symbolProperty),o.classNames}}(),e.completionKindFromString=function(){let n=Object.create(null);return n.method=0,n.function=1,n.constructor=2,n.field=3,n.variable=4,n.class=5,n.struct=6,n.interface=7,n.module=8,n.property=9,n.event=10,n.operator=11,n.unit=12,n.value=13,n.constant=14,n.enum=15,n["enum-member"]=16,n.enumMember=16,n.keyword=17,n.snippet=27,n.text=18,n.color=19,n.file=20,n.reference=21,n.customcolor=22,n.folder=23,n["type-parameter"]=24,n.typeParameter=24,n.account=25,n.issue=26,function(r,s){let o=n[r];return typeof o=="undefined"&&!s&&(o=9),o}}();var b;(function(n){n[n.Automatic=0]="Automatic",n[n.Explicit=1]="Explicit"})(b=e.InlineCompletionTriggerKind||(e.InlineCompletionTriggerKind={}));var p;(function(n){n[n.Invoke=1]="Invoke",n[n.TriggerCharacter=2]="TriggerCharacter",n[n.ContentChange=3]="ContentChange"})(p=e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={}));var v;(function(n){n[n.Text=0]="Text",n[n.Read=1]="Read",n[n.Write=2]="Write"})(v=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));function i(n){return n&&L.URI.isUri(n.uri)&&N.Range.isIRange(n.range)&&(N.Range.isIRange(n.originSelectionRange)||N.Range.isIRange(n.targetSelectionRange))}e.isLocationLink=i;var t;(function(n){const r=new Map;r.set("file",0),r.set("module",1),r.set("namespace",2),r.set("package",3),r.set("class",4),r.set("method",5),r.set("property",6),r.set("field",7),r.set("constructor",8),r.set("enum",9),r.set("interface",10),r.set("function",11),r.set("variable",12),r.set("constant",13),r.set("string",14),r.set("number",15),r.set("boolean",16),r.set("array",17),r.set("object",18),r.set("key",19),r.set("null",20),r.set("enum-member",21),r.set("struct",22),r.set("event",23),r.set("operator",24),r.set("type-parameter",25);const s=new Map;s.set(0,"file"),s.set(1,"module"),s.set(2,"namespace"),s.set(3,"package"),s.set(4,"class"),s.set(5,"method"),s.set(6,"property"),s.set(7,"field"),s.set(8,"constructor"),s.set(9,"enum"),s.set(10,"interface"),s.set(11,"function"),s.set(12,"variable"),s.set(13,"constant"),s.set(14,"string"),s.set(15,"number"),s.set(16,"boolean"),s.set(17,"array"),s.set(18,"object"),s.set(19,"key"),s.set(20,"null"),s.set(21,"enum-member"),s.set(22,"struct"),s.set(23,"event"),s.set(24,"operator"),s.set(25,"type-parameter");function o(f){return r.get(f)}n.fromString=o;function m(f){return s.get(f)}n.toString=m;function _(f,c){const C=s.get(f);let y=C&&g.iconRegistry.get("symbol-"+C);return y||(console.info("No codicon found for SymbolKind "+f),y=g.Codicon.symbolProperty),`${c?"inline":"block"} ${y.classNames}`}n.toCssClassName=_})(t=e.SymbolKinds||(e.SymbolKinds={}));class a{constructor(r){this.value=r}}e.FoldingRangeKind=a,a.Comment=new a("comment"),a.Imports=new a("imports"),a.Region=new a("region");var l;(function(n){n[n.Collapsed=0]="Collapsed",n[n.Expanded=1]="Expanded"})(l=e.CommentThreadCollapsibleState||(e.CommentThreadCollapsibleState={}));var h;(function(n){n[n.Editing=0]="Editing",n[n.Preview=1]="Preview"})(h=e.CommentMode||(e.CommentMode={}));var d;(function(n){n[n.Other=0]="Other",n[n.Type=1]="Type",n[n.Parameter=2]="Parameter"})(d=e.InlayHintKind||(e.InlayHintKind={})),e.ReferenceProviderRegistry=new M.LanguageFeatureRegistry,e.RenameProviderRegistry=new M.LanguageFeatureRegistry,e.CompletionProviderRegistry=new M.LanguageFeatureRegistry,e.InlineCompletionsProviderRegistry=new M.LanguageFeatureRegistry,e.SignatureHelpProviderRegistry=new M.LanguageFeatureRegistry,e.HoverProviderRegistry=new M.LanguageFeatureRegistry,e.EvaluatableExpressionProviderRegistry=new M.LanguageFeatureRegistry,e.InlineValuesProviderRegistry=new M.LanguageFeatureRegistry,e.DocumentSymbolProviderRegistry=new M.LanguageFeatureRegistry,e.DocumentHighlightProviderRegistry=new M.LanguageFeatureRegistry,e.LinkedEditingRangeProviderRegistry=new M.LanguageFeatureRegistry,e.DefinitionProviderRegistry=new M.LanguageFeatureRegistry,e.DeclarationProviderRegistry=new M.LanguageFeatureRegistry,e.ImplementationProviderRegistry=new M.LanguageFeatureRegistry,e.TypeDefinitionProviderRegistry=new M.LanguageFeatureRegistry,e.CodeLensProviderRegistry=new M.LanguageFeatureRegistry,e.InlayHintsProviderRegistry=new M.LanguageFeatureRegistry,e.CodeActionProviderRegistry=new M.LanguageFeatureRegistry,e.DocumentFormattingEditProviderRegistry=new M.LanguageFeatureRegistry,e.DocumentRangeFormattingEditProviderRegistry=new M.LanguageFeatureRegistry,e.OnTypeFormattingEditProviderRegistry=new M.LanguageFeatureRegistry,e.LinkProviderRegistry=new M.LanguageFeatureRegistry,e.ColorProviderRegistry=new M.LanguageFeatureRegistry,e.SelectionRangeRegistry=new M.LanguageFeatureRegistry,e.FoldingRangeProviderRegistry=new M.LanguageFeatureRegistry,e.DocumentSemanticTokensProviderRegistry=new M.LanguageFeatureRegistry,e.DocumentRangeSemanticTokensProviderRegistry=new M.LanguageFeatureRegistry,e.TokenizationRegistry=new E.TokenizationRegistryImpl;var u;(function(n){n[n.None=0]="None",n[n.Option=1]="Option",n[n.Default=2]="Default",n[n.Preferred=3]="Preferred"})(u=e.ExternalUriOpenerPriority||(e.ExternalUriOpenerPriority={}))}),define(ee[92],te([0,1,18]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SlicedLineTokens=e.LineTokens=void 0;class N{constructor(g,S,b){this._lineTokensBrand=void 0,this._tokens=g,this._tokensCount=this._tokens.length>>>1,this._text=S,this._languageIdCodec=b}static createEmpty(g,S){const b=N.defaultTokenMetadata,p=new Uint32Array(2);return p[0]=g.length,p[1]=b,new N(p,g,S)}equals(g){return g instanceof N?this.slicedEquals(g,0,this._tokensCount):!1}slicedEquals(g,S,b){if(this._text!==g._text||this._tokensCount!==g._tokensCount)return!1;const p=S<<1,v=p+(b<<1);for(let i=p;i<v;i++)if(this._tokens[i]!==g._tokens[i])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(g){return g>0?this._tokens[g-1<<1]:0}getMetadata(g){return this._tokens[(g<<1)+1]}getLanguageId(g){const S=this._tokens[(g<<1)+1],b=L.TokenMetadata.getLanguageId(S);return this._languageIdCodec.decodeLanguageId(b)}getStandardTokenType(g){const S=this._tokens[(g<<1)+1];return L.TokenMetadata.getTokenType(S)}getForeground(g){const S=this._tokens[(g<<1)+1];return L.TokenMetadata.getForeground(S)}getClassName(g){const S=this._tokens[(g<<1)+1];return L.TokenMetadata.getClassNameFromMetadata(S)}getInlineStyle(g,S){const b=this._tokens[(g<<1)+1];return L.TokenMetadata.getInlineStyleFromMetadata(b,S)}getEndOffset(g){return this._tokens[g<<1]}findTokenIndexAtOffset(g){return N.findIndexInTokensArray(this._tokens,g)}inflate(){return this}sliceAndInflate(g,S,b){return new M(this,g,S,b)}static convertToEndOffset(g,S){const p=(g.length>>>1)-1;for(let v=0;v<p;v++)g[v<<1]=g[v+1<<1];g[p<<1]=S}static findIndexInTokensArray(g,S){if(g.length<=2)return 0;let b=0,p=(g.length>>>1)-1;for(;b<p;){const v=b+Math.floor((p-b)/2),i=g[v<<1];if(i===S)return v+1;i<S?b=v+1:i>S&&(p=v)}return b}withInserted(g){if(g.length===0)return this;let S=0,b=0,p="";const v=new Array;let i=0;for(;;){let t=S<this._tokensCount?this._tokens[S<<1]:-1,a=b<g.length?g[b]:null;if(t!==-1&&(a===null||t<=a.offset)){p+=this._text.substring(i,t);const l=this._tokens[(S<<1)+1];v.push(p.length,l),S++,i=t}else if(a){if(a.offset>i){p+=this._text.substring(i,a.offset);const l=this._tokens[(S<<1)+1];v.push(p.length,l),i=a.offset}p+=a.text,v.push(p.length,a.tokenMetadata),b++}else break}return new N(new Uint32Array(v),p,this._languageIdCodec)}}e.LineTokens=N,N.defaultTokenMetadata=(0<<11|1<<14|2<<23)>>>0;class M{constructor(g,S,b,p){this._source=g,this._startOffset=S,this._endOffset=b,this._deltaOffset=p,this._firstTokenIndex=g.findTokenIndexAtOffset(S),this._tokensCount=0;for(let v=this._firstTokenIndex,i=g.getCount();v<i&&!(g.getStartOffset(v)>=b);v++)this._tokensCount++}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(g){return g instanceof M?this._startOffset===g._startOffset&&this._endOffset===g._endOffset&&this._deltaOffset===g._deltaOffset&&this._source.slicedEquals(g._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(g){return this._source.getForeground(this._firstTokenIndex+g)}getEndOffset(g){const S=this._source.getEndOffset(this._firstTokenIndex+g);return Math.min(this._endOffset,S)-this._startOffset+this._deltaOffset}getClassName(g){return this._source.getClassName(this._firstTokenIndex+g)}getInlineStyle(g,S){return this._source.getInlineStyle(this._firstTokenIndex+g,S)}findTokenIndexAtOffset(g){return this._source.findTokenIndexAtOffset(g+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}e.SlicedLineTokens=M}),define(ee[260],te([0,1,12,117,18,147,90]),function(Q,e,L,N,M,E,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FastTokenizer=e.TextBufferTokenizer=e.Token=void 0;class S{constructor(t,a,l,h,d){this.length=t,this.kind=a,this.bracketId=l,this.bracketIds=h,this.astNode=d}}e.Token=S;class b{constructor(t,a){this.textModel=t,this.bracketTokens=a,this.reader=new p(this.textModel,this.bracketTokens),this._offset=g.lengthZero,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=t.getLineCount(),this.textBufferLastLineLength=t.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,g.toLength)(this.textBufferLineCount,this.textBufferLastLineLength)}getText(){return this.textModel.getValue()}skip(t){this.didPeek=!1,this._offset=(0,g.lengthAdd)(this._offset,t);const a=(0,g.lengthToObj)(this._offset);this.reader.setPosition(a.lineCount,a.columnCount)}read(){let t;return this.peeked?(this.didPeek=!1,t=this.peeked):t=this.reader.read(),t&&(this._offset=(0,g.lengthAdd)(this._offset,t.length)),t}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}e.TextBufferTokenizer=b;class p{constructor(t,a){this.textModel=t,this.bracketTokens=a,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=t.getLineCount(),this.textBufferLastLineLength=t.getLineLength(this.textBufferLineCount)}setPosition(t,a){t===this.lineIdx?(this.lineCharOffset=a,this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)):(this.lineIdx=t,this.lineCharOffset=a,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const d=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,g.lengthGetColumnCountIfZeroLineCount)(d.length),d}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const t=this.lineIdx,a=this.lineCharOffset;let l=0;for(;;){const d=this.lineTokens,u=d.getCount();let n=null;if(this.lineTokenOffset<u){const r=d.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<u&&r===d.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const s=M.TokenMetadata.getTokenType(r)===0,o=d.getEndOffset(this.lineTokenOffset);if(s&&o!==this.lineCharOffset){const m=d.getLanguageId(this.lineTokenOffset),_=this.line.substring(this.lineCharOffset,o),f=this.bracketTokens.getSingleLanguageBracketTokens(m),c=f.regExpGlobal;if(c){c.lastIndex=0;const C=c.exec(_);C&&(n=f.getToken(C[0]),n&&(this.lineCharOffset+=C.index))}}if(l+=o-this.lineCharOffset,n)if(t!==this.lineIdx||a!==this.lineCharOffset){this.peekedToken=n;break}else return this.lineCharOffset+=(0,g.lengthGetColumnCountIfZeroLineCount)(n.length),n;else this.lineTokenOffset++,this.lineCharOffset=o}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,l+=33,l>1e3))break;if(l>1500)break}const h=(0,g.lengthDiff)(t,a,this.lineIdx,this.lineCharOffset);return new S(h,0,-1,N.SmallImmutableSet.getEmpty(),new E.TextAstNode(h))}}class v{constructor(t,a){this.text=t,this._offset=g.lengthZero,this.idx=0;const h=a.getRegExpStr()?new RegExp(a.getRegExpStr()+`|
`,"g"):null,d=[];let u,n=0,r=0,s=0,o=0;const m=new Array;for(let c=0;c<60;c++)m.push(new S((0,g.toLength)(0,c),0,-1,N.SmallImmutableSet.getEmpty(),new E.TextAstNode((0,g.toLength)(0,c))));const _=new Array;for(let c=0;c<60;c++)_.push(new S((0,g.toLength)(1,c),0,-1,N.SmallImmutableSet.getEmpty(),new E.TextAstNode((0,g.toLength)(1,c))));if(h)for(h.lastIndex=0;(u=h.exec(t))!==null;){const c=u.index,C=u[0];if(C===`
`)n++,r=c+1;else{if(s!==c){let y;if(o===n){const w=c-s;if(w<m.length)y=m[w];else{const D=(0,g.toLength)(0,w);y=new S(D,0,-1,N.SmallImmutableSet.getEmpty(),new E.TextAstNode(D))}}else{const w=n-o,D=c-r;if(w===1&&D<_.length)y=_[D];else{const I=(0,g.toLength)(w,D);y=new S(I,0,-1,N.SmallImmutableSet.getEmpty(),new E.TextAstNode(I))}}d.push(y)}d.push(a.getToken(C)),s=c+C.length,o=n}}const f=t.length;if(s!==f){const c=o===n?(0,g.toLength)(0,f-s):(0,g.toLength)(n-o,f-r);d.push(new S(c,0,-1,N.SmallImmutableSet.getEmpty(),new E.TextAstNode(c)))}this.length=(0,g.toLength)(n,f-r),this.tokens=d}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(t){throw new L.NotSupportedError}getText(){return this.text}}e.FastTokenizer=v}),define(ee[583],te([0,1,8,147,90,117,260]),function(Q,e,L,N,M,E,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageAgnosticBracketTokens=e.BracketTokens=void 0;class S{constructor(i){this.map=i,this.hasRegExp=!1,this._regExpGlobal=null}static createFromLanguage(i,t){function a(n,r){return t.getKey(`${n}:::${r}`)}const l=i.characterPair.getColorizedBrackets(),h=new Map,d=new Set;for(const[n,r]of l){d.add(n);let s=h.get(r);const o=a(i.languageId,n);s||(s={openingBrackets:E.SmallImmutableSet.getEmpty(),first:o},h.set(r,s)),s.openingBrackets=s.openingBrackets.add(o,E.identityKeyProvider)}const u=new Map;for(const[n,r]of h){const s=(0,M.toLength)(0,n.length);u.set(n,new g.Token(s,2,r.first,r.openingBrackets,N.BracketAstNode.create(s)))}for(const n of d){const r=(0,M.toLength)(0,n.length),s=a(i.languageId,n);u.set(n,new g.Token(r,1,s,E.SmallImmutableSet.getEmpty().add(s,E.identityKeyProvider),N.BracketAstNode.create(r)))}return new S(u)}getRegExpStr(){if(this.isEmpty)return null;{const i=[...this.map.keys()];return i.sort(),i.reverse(),i.map(t=>b(t)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const i=this.getRegExpStr();this._regExpGlobal=i?new RegExp(i,"g"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(i){return this.map.get(i)}get isEmpty(){return this.map.size===0}}e.BracketTokens=S;function b(v){const i=(0,L.escapeRegExpCharacters)(v);return/^[\w ]+$/.test(v)?`\\b${i}\\b`:i}class p{constructor(i,t){this.denseKeyProvider=i,this.getLanguageConfiguration=t,this.languageIdToBracketTokens=new Map}didLanguageChange(i){const t=this.languageIdToBracketTokens.get(i);if(!t)return!1;const a=S.createFromLanguage(this.getLanguageConfiguration(i),this.denseKeyProvider).getRegExpStr();return t.getRegExpStr()!==a}getSingleLanguageBracketTokens(i){let t=this.languageIdToBracketTokens.get(i);return t||(t=S.createFromLanguage(this.getLanguageConfiguration(i),this.denseKeyProvider),this.languageIdToBracketTokens.set(i,t)),t}getToken(i,t){return this.getSingleLanguageBracketTokens(t).getToken(i)}}e.LanguageAgnosticBracketTokens=p}),define(ee[584],te([0,1,4,2,3,404,235,583,90,407,117,260]),function(Q,e,L,N,M,E,g,S,b,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairsTree=void 0;class t extends N.Disposable{constructor(u,n){super();if(this.textModel=u,this.getLanguageConfiguration=n,this.didChangeEmitter=new L.Emitter,this.denseKeyProvider=new v.DenseKeyProvider,this.brackets=new S.LanguageAgnosticBracketTokens(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this._register(u.onBackgroundTokenizationStateChanged(()=>{if(u.backgroundTokenizationState===2){const r=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,r||this.didChangeEmitter.fire()}})),this._register(u.onDidChangeTokens(({ranges:r})=>{const s=r.map(o=>new g.TextEditInfo((0,b.toLength)(o.fromLineNumber-1,0),(0,b.toLength)(o.toLineNumber,0),(0,b.toLength)(o.toLineNumber-o.fromLineNumber+1,0)));this.astWithTokens=this.parseDocumentFromTextBuffer(s,this.astWithTokens,!1),this.initialAstWithoutTokens||this.didChangeEmitter.fire()})),u.backgroundTokenizationState===0){const r=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),s=new i.FastTokenizer(this.textModel.getValue(),r);this.initialAstWithoutTokens=(0,p.parseDocument)(s,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}else u.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):u.backgroundTokenizationState===1&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens)}didLanguageChange(u){return this.brackets.didLanguageChange(u)}handleContentChanged(u){const n=u.changes.map(r=>{const s=M.Range.lift(r.range);return new g.TextEditInfo((0,b.positionToLength)(s.getStartPosition()),(0,b.positionToLength)(s.getEndPosition()),(0,b.lengthOfString)(r.text))}).reverse();this.astWithTokens=this.parseDocumentFromTextBuffer(n,this.astWithTokens,!1),this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(n,this.initialAstWithoutTokens,!1))}parseDocumentFromTextBuffer(u,n,r){const o=!1?n==null?void 0:n.deepClone():n,m=new i.TextBufferTokenizer(this.textModel,this.brackets);return(0,p.parseDocument)(m,u,o,r)}getBracketsInRange(u){const n=(0,b.toLength)(u.startLineNumber-1,u.startColumn-1),r=(0,b.toLength)(u.endLineNumber-1,u.endColumn-1),s=new Array,o=this.initialAstWithoutTokens||this.astWithTokens;return a(o,b.lengthZero,o.length,n,r,s),s}getBracketPairsInRange(u,n){const r=new Array,s=(0,b.positionToLength)(u.getStartPosition()),o=(0,b.positionToLength)(u.getEndPosition()),m=this.initialAstWithoutTokens||this.astWithTokens,_=new l(r,n,this.textModel);return h(m,b.lengthZero,m.length,s,o,_),r}}e.BracketPairsTree=t;function a(d,u,n,r,s,o,m=0){if(d.kind===1){const _=(0,b.lengthsToRange)(u,n);o.push(new E.BracketInfo(_,m-1,!1))}else if(d.kind===3){const _=(0,b.lengthsToRange)(u,n);o.push(new E.BracketInfo(_,m-1,!0))}else if(d.kind===4)for(const _ of d.children)n=(0,b.lengthAdd)(u,_.length),(0,b.lengthLessThanEqual)(u,s)&&(0,b.lengthGreaterThanEqual)(n,r)&&a(_,u,n,r,s,o,m),u=n;else if(d.kind===2){m++;{const _=d.openingBracket;n=(0,b.lengthAdd)(u,_.length),(0,b.lengthLessThanEqual)(u,s)&&(0,b.lengthGreaterThanEqual)(n,r)&&a(_,u,n,r,s,o,m),u=n}if(d.child){const _=d.child;n=(0,b.lengthAdd)(u,_.length),(0,b.lengthLessThanEqual)(u,s)&&(0,b.lengthGreaterThanEqual)(n,r)&&a(_,u,n,r,s,o,m),u=n}if(d.closingBracket){const _=d.closingBracket;n=(0,b.lengthAdd)(u,_.length),(0,b.lengthLessThanEqual)(u,s)&&(0,b.lengthGreaterThanEqual)(n,r)&&a(_,u,n,r,s,o,m),u=n}}}class l{constructor(u,n,r){this.result=u,this.includeMinIndentation=n,this.textModel=r}}function h(d,u,n,r,s,o,m=0){var _;if(d.kind===2){const c=(0,b.lengthAdd)(u,d.openingBracket.length);let C=-1;o.includeMinIndentation&&(C=d.computeMinIndentation(u,o.textModel)),o.result.push(new E.BracketPairWithMinIndentationInfo((0,b.lengthsToRange)(u,n),(0,b.lengthsToRange)(u,c),d.closingBracket?(0,b.lengthsToRange)((0,b.lengthAdd)(c,((_=d.child)===null||_===void 0?void 0:_.length)||b.lengthZero),n):void 0,m,C)),m++}let f=u;for(const c of d.children){const C=f;f=(0,b.lengthAdd)(f,c.length),(0,b.lengthLessThanEqual)(C,s)&&(0,b.lengthLessThanEqual)(r,f)&&h(c,C,f,r,s,o,m)}}}),define(ee[585],te([0,1,4,2,584,150,178]),function(Q,e,L,N,M,E,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairs=void 0;class S extends N.Disposable{constructor(t,a){super();this.textModel=t,this.languageConfigurationService=a,this.bracketPairsTree=this._register(new N.MutableDisposable),this.onDidChangeEmitter=new L.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(t.onDidChangeOptions(l=>{this.bracketPairsTree.clear(),this.updateBracketPairsTree()})),this._register(t.onDidChangeLanguage(l=>{this.bracketPairsTree.clear(),this.updateBracketPairsTree()})),this._register(this.languageConfigurationService.onDidChange(l=>{var h;(!l.languageId||((h=this.bracketPairsTree.value)===null||h===void 0?void 0:h.object.didLanguageChange(l.languageId)))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}get isDocumentSupported(){const t=5e4*100;return this.textModel.getValueLength()<=t}updateBracketPairsTree(){if(this.bracketsRequested&&this.isDocumentSupported){if(!this.bracketPairsTree.value){const t=new N.DisposableStore;this.bracketPairsTree.value=b(t.add(new M.BracketPairsTree(this.textModel,a=>this.languageConfigurationService.getLanguageConfiguration(a))),t),t.add(this.bracketPairsTree.value.object.onDidChange(a=>this.onDidChangeEmitter.fire(a))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}handleContentChanged(t){var a;(a=this.bracketPairsTree.value)===null||a===void 0||a.object.handleContentChanged(t)}getBracketPairsInRange(t){var a;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((a=this.bracketPairsTree.value)===null||a===void 0?void 0:a.object.getBracketPairsInRange(t,!1))||[]}getBracketPairsInRangeWithMinIndentation(t){var a;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((a=this.bracketPairsTree.value)===null||a===void 0?void 0:a.object.getBracketPairsInRange(t,!0))||[]}getBracketsInRange(t){var a;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((a=this.bracketPairsTree.value)===null||a===void 0?void 0:a.object.getBracketsInRange(t))||[]}findMatchingBracketUp(t,a){let l=t.toLowerCase(),h=this.textModel.validatePosition(a);const d=this.textModel.getLanguageIdAtPosition(h.lineNumber,h.column);let u=this.languageConfigurationService.getLanguageConfiguration(d).brackets;if(!u)return null;let n=u.textIsBracket[l];return n?v(this._findMatchingBracketUp(n,h,null)):null}matchBracket(t){return this._matchBracket(this.textModel.validatePosition(t))}_establishBracketSearchOffsets(t,a,l,h){const d=a.getCount(),u=a.getLanguageId(h);let n=Math.max(0,t.column-1-l.maxBracketLength);for(let s=h-1;s>=0;s--){const o=a.getEndOffset(s);if(o<=n)break;if((0,E.ignoreBracketsInToken)(a.getStandardTokenType(s))||a.getLanguageId(s)!==u){n=o;break}}let r=Math.min(a.getLineContent().length,t.column-1+l.maxBracketLength);for(let s=h+1;s<d;s++){const o=a.getStartOffset(s);if(o>=r)break;if((0,E.ignoreBracketsInToken)(a.getStandardTokenType(s))||a.getLanguageId(s)!==u){r=o;break}}return{searchStartOffset:n,searchEndOffset:r}}_matchBracket(t){const a=t.lineNumber,l=this.textModel.getLineTokens(a),h=this.textModel.getLineContent(a),d=l.findTokenIndexAtOffset(t.column-1);if(d<0)return null;const u=this.languageConfigurationService.getLanguageConfiguration(l.getLanguageId(d)).brackets;if(u&&!(0,E.ignoreBracketsInToken)(l.getStandardTokenType(d))){let{searchStartOffset:n,searchEndOffset:r}=this._establishBracketSearchOffsets(t,l,u,d),s=null;for(;;){const o=g.BracketsUtils.findNextBracketInRange(u.forwardRegex,a,h,n,r);if(!o)break;if(o.startColumn<=t.column&&t.column<=o.endColumn){const m=h.substring(o.startColumn-1,o.endColumn-1).toLowerCase(),_=this._matchFoundBracket(o,u.textIsBracket[m],u.textIsOpenBracket[m],null);if(_){if(_ instanceof p)return null;s=_}}n=o.endColumn-1}if(s)return s}if(d>0&&l.getStartOffset(d)===t.column-1){const n=d-1,r=this.languageConfigurationService.getLanguageConfiguration(l.getLanguageId(n)).brackets;if(r&&!(0,E.ignoreBracketsInToken)(l.getStandardTokenType(n))){let{searchStartOffset:s,searchEndOffset:o}=this._establishBracketSearchOffsets(t,l,r,n);const m=g.BracketsUtils.findPrevBracketInRange(r.reversedRegex,a,h,s,o);if(m&&m.startColumn<=t.column&&t.column<=m.endColumn){const _=h.substring(m.startColumn-1,m.endColumn-1).toLowerCase(),f=this._matchFoundBracket(m,r.textIsBracket[_],r.textIsOpenBracket[_],null);if(f)return f instanceof p?null:f}}}return null}_matchFoundBracket(t,a,l,h){if(!a)return null;const d=l?this._findMatchingBracketDown(a,t.getEndPosition(),h):this._findMatchingBracketUp(a,t.getStartPosition(),h);return d?d instanceof p?d:[t,d]:null}_findMatchingBracketUp(t,a,l){const h=t.languageId,d=t.reversedRegex;let u=-1,n=0;const r=(s,o,m,_)=>{for(;;){if(l&&++n%100==0&&!l())return p.INSTANCE;const f=g.BracketsUtils.findPrevBracketInRange(d,s,o,m,_);if(!f)break;const c=o.substring(f.startColumn-1,f.endColumn-1).toLowerCase();if(t.isOpen(c)?u++:t.isClose(c)&&u--,u===0)return f;_=f.startColumn-1}return null};for(let s=a.lineNumber;s>=1;s--){const o=this.textModel.getLineTokens(s),m=o.getCount(),_=this.textModel.getLineContent(s);let f=m-1,c=_.length,C=_.length;s===a.lineNumber&&(f=o.findTokenIndexAtOffset(a.column-1),c=a.column-1,C=a.column-1);let y=!0;for(;f>=0;f--){const w=o.getLanguageId(f)===h&&!(0,E.ignoreBracketsInToken)(o.getStandardTokenType(f));if(w)y?c=o.getStartOffset(f):(c=o.getStartOffset(f),C=o.getEndOffset(f));else if(y&&c!==C){const D=r(s,_,c,C);if(D)return D}y=w}if(y&&c!==C){const w=r(s,_,c,C);if(w)return w}}return null}_findMatchingBracketDown(t,a,l){const h=t.languageId,d=t.forwardRegex;let u=1,n=0;const r=(o,m,_,f)=>{for(;;){if(l&&++n%100==0&&!l())return p.INSTANCE;const c=g.BracketsUtils.findNextBracketInRange(d,o,m,_,f);if(!c)break;const C=m.substring(c.startColumn-1,c.endColumn-1).toLowerCase();if(t.isOpen(C)?u++:t.isClose(C)&&u--,u===0)return c;_=c.endColumn-1}return null},s=this.textModel.getLineCount();for(let o=a.lineNumber;o<=s;o++){const m=this.textModel.getLineTokens(o),_=m.getCount(),f=this.textModel.getLineContent(o);let c=0,C=0,y=0;o===a.lineNumber&&(c=m.findTokenIndexAtOffset(a.column-1),C=a.column-1,y=a.column-1);let w=!0;for(;c<_;c++){const D=m.getLanguageId(c)===h&&!(0,E.ignoreBracketsInToken)(m.getStandardTokenType(c));if(D)w||(C=m.getStartOffset(c)),y=m.getEndOffset(c);else if(w&&C!==y){const I=r(o,f,C,y);if(I)return I}w=D}if(w&&C!==y){const D=r(o,f,C,y);if(D)return D}}return null}findPrevBracket(t){const a=this.textModel.validatePosition(t);let l=null,h=null;for(let d=a.lineNumber;d>=1;d--){const u=this.textModel.getLineTokens(d),n=u.getCount(),r=this.textModel.getLineContent(d);let s=n-1,o=r.length,m=r.length;if(d===a.lineNumber){s=u.findTokenIndexAtOffset(a.column-1),o=a.column-1,m=a.column-1;const f=u.getLanguageId(s);l!==f&&(l=f,h=this.languageConfigurationService.getLanguageConfiguration(l).brackets)}let _=!0;for(;s>=0;s--){const f=u.getLanguageId(s);if(l!==f){if(h&&_&&o!==m){const C=g.BracketsUtils.findPrevBracketInRange(h.reversedRegex,d,r,o,m);if(C)return this._toFoundBracket(h,C);_=!1}l=f,h=this.languageConfigurationService.getLanguageConfiguration(l).brackets}const c=!!h&&!(0,E.ignoreBracketsInToken)(u.getStandardTokenType(s));if(c)_?o=u.getStartOffset(s):(o=u.getStartOffset(s),m=u.getEndOffset(s));else if(h&&_&&o!==m){const C=g.BracketsUtils.findPrevBracketInRange(h.reversedRegex,d,r,o,m);if(C)return this._toFoundBracket(h,C)}_=c}if(h&&_&&o!==m){const f=g.BracketsUtils.findPrevBracketInRange(h.reversedRegex,d,r,o,m);if(f)return this._toFoundBracket(h,f)}}return null}findNextBracket(t){const a=this.textModel.validatePosition(t),l=this.textModel.getLineCount();let h=null,d=null;for(let u=a.lineNumber;u<=l;u++){const n=this.textModel.getLineTokens(u),r=n.getCount(),s=this.textModel.getLineContent(u);let o=0,m=0,_=0;if(u===a.lineNumber){o=n.findTokenIndexAtOffset(a.column-1),m=a.column-1,_=a.column-1;const c=n.getLanguageId(o);h!==c&&(h=c,d=this.languageConfigurationService.getLanguageConfiguration(h).brackets)}let f=!0;for(;o<r;o++){const c=n.getLanguageId(o);if(h!==c){if(d&&f&&m!==_){const y=g.BracketsUtils.findNextBracketInRange(d.forwardRegex,u,s,m,_);if(y)return this._toFoundBracket(d,y);f=!1}h=c,d=this.languageConfigurationService.getLanguageConfiguration(h).brackets}const C=!!d&&!(0,E.ignoreBracketsInToken)(n.getStandardTokenType(o));if(C)f||(m=n.getStartOffset(o)),_=n.getEndOffset(o);else if(d&&f&&m!==_){const y=g.BracketsUtils.findNextBracketInRange(d.forwardRegex,u,s,m,_);if(y)return this._toFoundBracket(d,y)}f=C}if(d&&f&&m!==_){const c=g.BracketsUtils.findNextBracketInRange(d.forwardRegex,u,s,m,_);if(c)return this._toFoundBracket(d,c)}}return null}findEnclosingBrackets(t,a){let l;if(typeof a=="undefined")l=null;else{const f=Date.now();l=()=>Date.now()-f<=a}const h=this.textModel.validatePosition(t),d=this.textModel.getLineCount(),u=new Map;let n=[];const r=(f,c)=>{if(!u.has(f)){let C=[];for(let y=0,w=c?c.brackets.length:0;y<w;y++)C[y]=0;u.set(f,C)}n=u.get(f)};let s=0;const o=(f,c,C,y,w)=>{for(;;){if(l&&++s%100==0&&!l())return p.INSTANCE;const D=g.BracketsUtils.findNextBracketInRange(f.forwardRegex,c,C,y,w);if(!D)break;const I=C.substring(D.startColumn-1,D.endColumn-1).toLowerCase(),T=f.textIsBracket[I];if(T&&(T.isOpen(I)?n[T.index]++:T.isClose(I)&&n[T.index]--,n[T.index]===-1))return this._matchFoundBracket(D,T,!1,l);y=D.endColumn-1}return null};let m=null,_=null;for(let f=h.lineNumber;f<=d;f++){const c=this.textModel.getLineTokens(f),C=c.getCount(),y=this.textModel.getLineContent(f);let w=0,D=0,I=0;if(f===h.lineNumber){w=c.findTokenIndexAtOffset(h.column-1),D=h.column-1,I=h.column-1;const F=c.getLanguageId(w);m!==F&&(m=F,_=this.languageConfigurationService.getLanguageConfiguration(m).brackets,r(m,_))}let T=!0;for(;w<C;w++){const F=c.getLanguageId(w);if(m!==F){if(_&&T&&D!==I){const R=o(_,f,y,D,I);if(R)return v(R);T=!1}m=F,_=this.languageConfigurationService.getLanguageConfiguration(m).brackets,r(m,_)}const P=!!_&&!(0,E.ignoreBracketsInToken)(c.getStandardTokenType(w));if(P)T||(D=c.getStartOffset(w)),I=c.getEndOffset(w);else if(_&&T&&D!==I){const R=o(_,f,y,D,I);if(R)return v(R)}T=P}if(_&&T&&D!==I){const F=o(_,f,y,D,I);if(F)return v(F)}}return null}_toFoundBracket(t,a){if(!a)return null;let l=this.textModel.getValueInRange(a);l=l.toLowerCase();let h=t.textIsBracket[l];return h?{range:a,open:h.open,close:h.close,isOpen:t.textIsOpenBracket[l]}:null}}e.BracketPairs=S;function b(i,t){return{object:i,dispose:()=>t==null?void 0:t.dispose()}}class p{constructor(){this._searchCanceledBrand=void 0}}p.INSTANCE=new p;function v(i){return i instanceof p?null:i}}),define(ee[124],te([0,1,19,92,13,3,18,98]),function(Q,e,L,N,M,E,g,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokensStore=e.TokensStore2=e.MultilineTokens=e.MultilineTokens2=e.LineTokens2=e.SparseEncodedTokens=e.MultilineTokensBuilder=e.countEOL=void 0;function b(r){let s=0,o=0,m=0,_=0;for(let f=0,c=r.length;f<c;f++){const C=r.charCodeAt(f);C===13?(s===0&&(o=f),s++,f+1<c&&r.charCodeAt(f+1)===10?(_|=2,f++):_|=3,m=f+1):C===10&&(_|=1,s===0&&(o=f),s++,m=f+1)}return s===0&&(o=r.length),[s,o,r.length-m,_]}e.countEOL=b;function p(r){return(r<<0|0<<8|0<<11|1<<14|2<<23)>>>0}const v=new Uint32Array(0).buffer;class i{constructor(){this.tokens=[]}add(s,o){if(this.tokens.length>0){const m=this.tokens[this.tokens.length-1];if(m.startLineNumber+m.tokens.length-1+1===s){m.tokens.push(o);return}}this.tokens.push(new h(s,[o]))}static deserialize(s){let o=0;const m=(0,S.readUInt32BE)(s,o);o+=4;let _=[];for(let f=0;f<m;f++)o=h.deserialize(s,o,_);return _}serialize(){const s=this._serializeSize(),o=new Uint8Array(s);return this._serialize(o),o}_serializeSize(){let s=0;s+=4;for(let o=0;o<this.tokens.length;o++)s+=this.tokens[o].serializeSize();return s}_serialize(s){let o=0;(0,S.writeUInt32BE)(s,this.tokens.length,o),o+=4;for(let m=0;m<this.tokens.length;m++)o=this.tokens[m].serialize(s,o)}}e.MultilineTokensBuilder=i;class t{constructor(s){this._tokens=s,this._tokenCount=s.length/4}toString(s){let o=[];for(let m=0;m<this._tokenCount;m++)o.push(`(${this._getDeltaLine(m)+s},${this._getStartCharacter(m)}-${this._getEndCharacter(m)})`);return`[${o.join(",")}]`}getMaxDeltaLine(){const s=this._getTokenCount();return s===0?-1:this._getDeltaLine(s-1)}getRange(){const s=this._getTokenCount();if(s===0)return null;const o=this._getStartCharacter(0),m=this._getDeltaLine(s-1),_=this._getEndCharacter(s-1);return new E.Range(0,o+1,m,_+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(s){return this._tokens[4*s]}_getStartCharacter(s){return this._tokens[4*s+1]}_getEndCharacter(s){return this._tokens[4*s+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(s){let o=0,m=this._getTokenCount()-1;for(;o<m;){const _=o+Math.floor((m-o)/2),f=this._getDeltaLine(_);if(f<s)o=_+1;else if(f>s)m=_-1;else{let c=_;for(;c>o&&this._getDeltaLine(c-1)===s;)c--;let C=_;for(;C<m&&this._getDeltaLine(C+1)===s;)C++;return new a(this._tokens.subarray(4*c,4*C+4))}}return this._getDeltaLine(o)===s?new a(this._tokens.subarray(4*o,4*o+4)):null}clear(){this._tokenCount=0}removeTokens(s,o,m,_){const f=this._tokens,c=this._tokenCount;let C=0,y=!1,w=0;for(let D=0;D<c;D++){const I=4*D,T=f[I],F=f[I+1],P=f[I+2],R=f[I+3];if((T>s||T===s&&P>=o)&&(T<m||T===m&&F<=_))y=!0;else{if(C===0&&(w=T),y){const A=4*C;f[A]=T-w,f[A+1]=F,f[A+2]=P,f[A+3]=R}C++}}return this._tokenCount=C,w}split(s,o,m,_){const f=this._tokens,c=this._tokenCount;let C=[],y=[],w=C,D=0,I=0;for(let T=0;T<c;T++){const F=4*T,P=f[F],R=f[F+1],A=f[F+2],O=f[F+3];if(P>s||P===s&&A>=o){if(P<m||P===m&&R<=_)continue;w!==y&&(w=y,D=0,I=P)}w[D++]=P-I,w[D++]=R,w[D++]=A,w[D++]=O}return[new t(new Uint32Array(C)),new t(new Uint32Array(y)),I]}acceptDeleteRange(s,o,m,_,f){const c=this._tokens,C=this._tokenCount,y=_-o;let w=0,D=!1;for(let I=0;I<C;I++){const T=4*I;let F=c[T],P=c[T+1],R=c[T+2];const A=c[T+3];if(F<o||F===o&&R<=m){w++;continue}else if(F===o&&P<m)F===_&&R>f?R-=f-m:R=m;else if(F===o&&P===m)if(F===_&&R>f)R-=f-m;else{D=!0;continue}else if(F<_||F===_&&P<f)if(F===_&&R>f)F===o?(P=m,R=P+(R-f)):(P=0,R=P+(R-f));else{D=!0;continue}else if(F>_){if(y===0&&!D){w=C;break}F-=y}else if(F===_&&P>=f)s&&F===0&&(P+=s,R+=s),F-=y,P-=f-m,R-=f-m;else throw new Error("Not possible!");const O=4*w;c[O]=F,c[O+1]=P,c[O+2]=R,c[O+3]=A,w++}this._tokenCount=w}acceptInsertText(s,o,m,_,f,c){const C=m===0&&_===1&&(c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122),y=this._tokens,w=this._tokenCount;for(let D=0;D<w;D++){const I=4*D;let T=y[I],F=y[I+1],P=y[I+2];if(!(T<s||T===s&&P<o)){if(T===s&&P===o)if(C)P+=1;else continue;else if(T===s&&F<o&&o<P)m===0?P+=_:P=o;else{if(T===s&&F===o&&C)continue;if(T===s)if(T+=m,m===0)F+=_,P+=_;else{const R=P-F;F=f+(F-o),P=F+R}else T+=m}y[I]=T,y[I+1]=F,y[I+2]=P}}}}e.SparseEncodedTokens=t;class a{constructor(s){this._tokens=s}getCount(){return this._tokens.length/4}getStartCharacter(s){return this._tokens[4*s+1]}getEndCharacter(s){return this._tokens[4*s+2]}getMetadata(s){return this._tokens[4*s+3]}}e.LineTokens2=a;class l{constructor(s,o){this.startLineNumber=s,this.tokens=o,this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}toString(){return this.tokens.toString(this.startLineNumber)}_updateEndLineNumber(){this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}isEmpty(){return this.tokens.isEmpty()}getLineTokens(s){return this.startLineNumber<=s&&s<=this.endLineNumber?this.tokens.getLineTokens(s-this.startLineNumber):null}getRange(){const s=this.tokens.getRange();return s&&new E.Range(this.startLineNumber+s.startLineNumber,s.startColumn,this.startLineNumber+s.endLineNumber,s.endColumn)}removeTokens(s){const o=s.startLineNumber-this.startLineNumber,m=s.endLineNumber-this.startLineNumber;this.startLineNumber+=this.tokens.removeTokens(o,s.startColumn-1,m,s.endColumn-1),this._updateEndLineNumber()}split(s){const o=s.startLineNumber-this.startLineNumber,m=s.endLineNumber-this.startLineNumber,[_,f,c]=this.tokens.split(o,s.startColumn-1,m,s.endColumn-1);return[new l(this.startLineNumber,_),new l(this.startLineNumber+c,f)]}applyEdit(s,o){const[m,_,f]=b(o);this.acceptEdit(s,m,_,f,o.length>0?o.charCodeAt(0):0)}acceptEdit(s,o,m,_,f){this._acceptDeleteRange(s),this._acceptInsertText(new M.Position(s.startLineNumber,s.startColumn),o,m,_,f),this._updateEndLineNumber()}_acceptDeleteRange(s){if(s.startLineNumber===s.endLineNumber&&s.startColumn===s.endColumn)return;const o=s.startLineNumber-this.startLineNumber,m=s.endLineNumber-this.startLineNumber;if(m<0){const f=m-o;this.startLineNumber-=f;return}const _=this.tokens.getMaxDeltaLine();if(!(o>=_+1)){if(o<0&&m>=_+1){this.startLineNumber=0,this.tokens.clear();return}if(o<0){const f=-o;this.startLineNumber-=f,this.tokens.acceptDeleteRange(s.startColumn-1,0,0,m,s.endColumn-1)}else this.tokens.acceptDeleteRange(0,o,s.startColumn-1,m,s.endColumn-1)}}_acceptInsertText(s,o,m,_,f){if(o===0&&m===0)return;const c=s.lineNumber-this.startLineNumber;if(c<0){this.startLineNumber+=o;return}const C=this.tokens.getMaxDeltaLine();c>=C+1||this.tokens.acceptInsertText(c,s.column-1,o,m,_,f)}}e.MultilineTokens2=l;class h{constructor(s,o){this.startLineNumber=s,this.tokens=o}static deserialize(s,o,m){const _=new Uint32Array(s.buffer),f=(0,S.readUInt32BE)(s,o);o+=4;const c=(0,S.readUInt32BE)(s,o);o+=4;let C=[];for(let y=0;y<c;y++){const w=(0,S.readUInt32BE)(s,o);o+=4,C.push(_.subarray(o/4,o/4+w/4)),o+=w}return m.push(new h(f,C)),o}serializeSize(){let s=0;s+=4,s+=4;for(let o=0;o<this.tokens.length;o++){const m=this.tokens[o];if(!(m instanceof Uint32Array))throw new Error("Not supported!");s+=4,s+=m.byteLength}return s}serialize(s,o){(0,S.writeUInt32BE)(s,this.startLineNumber,o),o+=4,(0,S.writeUInt32BE)(s,this.tokens.length,o),o+=4;for(let m=0;m<this.tokens.length;m++){const _=this.tokens[m];if(!(_ instanceof Uint32Array))throw new Error("Not supported!");(0,S.writeUInt32BE)(s,_.byteLength,o),o+=4,s.set(new Uint8Array(_.buffer),o),o+=_.byteLength}return o}applyEdit(s,o){const[m,_]=b(o);this._acceptDeleteRange(s),this._acceptInsertText(new M.Position(s.startLineNumber,s.startColumn),m,_)}_acceptDeleteRange(s){if(s.startLineNumber===s.endLineNumber&&s.startColumn===s.endColumn)return;const o=s.startLineNumber-this.startLineNumber,m=s.endLineNumber-this.startLineNumber;if(m<0){const _=m-o;this.startLineNumber-=_;return}if(!(o>=this.tokens.length)){if(o<0&&m>=this.tokens.length){this.startLineNumber=0,this.tokens=[];return}if(o===m){this.tokens[o]=n._delete(this.tokens[o],s.startColumn-1,s.endColumn-1);return}if(o>=0)if(this.tokens[o]=n._deleteEnding(this.tokens[o],s.startColumn-1),m<this.tokens.length){const _=n._deleteBeginning(this.tokens[m],s.endColumn-1);this.tokens[o]=n._append(this.tokens[o],_),this.tokens.splice(o+1,m-o)}else this.tokens[o]=n._append(this.tokens[o],null),this.tokens=this.tokens.slice(0,o+1);else{const _=-o;this.startLineNumber-=_,this.tokens[m]=n._deleteBeginning(this.tokens[m],s.endColumn-1),this.tokens=this.tokens.slice(m)}}}_acceptInsertText(s,o,m){if(o===0&&m===0)return;const _=s.lineNumber-this.startLineNumber;if(_<0){this.startLineNumber+=o;return}if(!(_>=this.tokens.length)){if(o===0){this.tokens[_]=n._insert(this.tokens[_],s.column-1,m);return}this.tokens[_]=n._deleteEnding(this.tokens[_],s.column-1),this.tokens[_]=n._insert(this.tokens[_],s.column-1,m),this._insertLines(s.lineNumber,o)}}_insertLines(s,o){if(o===0)return;let m=[];for(let _=0;_<o;_++)m[_]=null;this.tokens=L.arrayInsert(this.tokens,s,m)}}e.MultilineTokens=h;function d(r){return r instanceof Uint32Array?r:new Uint32Array(r)}class u{constructor(s){this._pieces=[],this._isComplete=!1,this._languageIdCodec=s}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(s,o){this._pieces=s||[],this._isComplete=o}setPartial(s,o){let m=s;if(o.length>0){const f=o[0].getRange(),c=o[o.length-1].getRange();if(!f||!c)return s;m=s.plusRange(f).plusRange(c)}let _=null;for(let f=0,c=this._pieces.length;f<c;f++){const C=this._pieces[f];if(C.endLineNumber<m.startLineNumber)continue;if(C.startLineNumber>m.endLineNumber){_=_||{index:f};break}if(C.removeTokens(m),C.isEmpty()){this._pieces.splice(f,1),f--,c--;continue}if(C.endLineNumber<m.startLineNumber)continue;if(C.startLineNumber>m.endLineNumber){_=_||{index:f};continue}const[y,w]=C.split(m);if(y.isEmpty()){_=_||{index:f};continue}w.isEmpty()||(this._pieces.splice(f,1,y,w),f++,c++,_=_||{index:f})}return _=_||{index:this._pieces.length},o.length>0&&(this._pieces=L.arrayInsert(this._pieces,_.index,o)),m}isComplete(){return this._isComplete}addSemanticTokens(s,o){const m=this._pieces;if(m.length===0)return o;const _=u._findFirstPieceWithLine(m,s),f=m[_].getLineTokens(s);if(!f)return o;const c=o.getCount(),C=f.getCount();let y=0,w=[],D=0,I=0;const T=(F,P)=>{F!==I&&(I=F,w[D++]=F,w[D++]=P)};for(let F=0;F<C;F++){const P=f.getStartCharacter(F),R=f.getEndCharacter(F),A=f.getMetadata(F),O=((A&1?2048:0)|(A&2?4096:0)|(A&4?8192:0)|(A&8?8372224:0)|(A&16?4286578688:0))>>>0,k=~O>>>0;for(;y<c&&o.getEndOffset(y)<=P;)T(o.getEndOffset(y),o.getMetadata(y)),y++;for(y<c&&o.getStartOffset(y)<P&&T(P,o.getMetadata(y));y<c&&o.getEndOffset(y)<R;)T(o.getEndOffset(y),o.getMetadata(y)&k|A&O),y++;if(y<c)T(R,o.getMetadata(y)&k|A&O),o.getEndOffset(y)===R&&y++;else{const V=Math.min(Math.max(0,y-1),c-1);T(R,o.getMetadata(V)&k|A&O)}}for(;y<c;)T(o.getEndOffset(y),o.getMetadata(y)),y++;return new N.LineTokens(new Uint32Array(w),o.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(s,o){let m=0,_=s.length-1;for(;m<_;){let f=m+Math.floor((_-m)/2);if(s[f].endLineNumber<o)m=f+1;else if(s[f].startLineNumber>o)_=f-1;else{for(;f>m&&s[f-1].startLineNumber<=o&&o<=s[f-1].endLineNumber;)f--;return f}}return m}acceptEdit(s,o,m,_,f){for(const c of this._pieces)c.acceptEdit(s,o,m,_,f)}}e.TokensStore2=u;class n{constructor(s){this._lineTokens=[],this._len=0,this._languageIdCodec=s}flush(){this._lineTokens=[],this._len=0}getTokens(s,o,m){let _=null;if(o<this._len&&(_=this._lineTokens[o]),_!==null&&_!==v)return new N.LineTokens(d(_),m,this._languageIdCodec);const f=new Uint32Array(2);return f[0]=m.length,f[1]=p(this._languageIdCodec.encodeLanguageId(s)),new N.LineTokens(f,m,this._languageIdCodec)}static _massageTokens(s,o,m){const _=m?d(m):null;if(o===0){let f=!1;if(_&&_.length>1&&(f=g.TokenMetadata.getLanguageId(_[1])!==s),!f)return v}if(!_||_.length===0){const f=new Uint32Array(2);return f[0]=o,f[1]=p(s),f.buffer}return _[_.length-2]=o,_.byteOffset===0&&_.byteLength===_.buffer.byteLength?_.buffer:_}_ensureLine(s){for(;s>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(s,o){o!==0&&(s+o>this._len&&(o=this._len-s),this._lineTokens.splice(s,o),this._len-=o)}_insertLines(s,o){if(o===0)return;let m=[];for(let _=0;_<o;_++)m[_]=null;this._lineTokens=L.arrayInsert(this._lineTokens,s,m),this._len+=o}setTokens(s,o,m,_,f){const c=n._massageTokens(this._languageIdCodec.encodeLanguageId(s),m,_);this._ensureLine(o);const C=this._lineTokens[o];return this._lineTokens[o]=c,f?!n._equals(C,c):!1}static _equals(s,o){if(!s||!o)return!s&&!o;const m=d(s),_=d(o);if(m.length!==_.length)return!1;for(let f=0,c=m.length;f<c;f++)if(m[f]!==_[f])return!1;return!0}acceptEdit(s,o,m){this._acceptDeleteRange(s),this._acceptInsertText(new M.Position(s.startLineNumber,s.startColumn),o,m)}_acceptDeleteRange(s){const o=s.startLineNumber-1;if(o>=this._len)return;if(s.startLineNumber===s.endLineNumber){if(s.startColumn===s.endColumn)return;this._lineTokens[o]=n._delete(this._lineTokens[o],s.startColumn-1,s.endColumn-1);return}this._lineTokens[o]=n._deleteEnding(this._lineTokens[o],s.startColumn-1);const m=s.endLineNumber-1;let _=null;m<this._len&&(_=n._deleteBeginning(this._lineTokens[m],s.endColumn-1)),this._lineTokens[o]=n._append(this._lineTokens[o],_),this._deleteLines(s.startLineNumber,s.endLineNumber-s.startLineNumber)}_acceptInsertText(s,o,m){if(o===0&&m===0)return;const _=s.lineNumber-1;if(!(_>=this._len)){if(o===0){this._lineTokens[_]=n._insert(this._lineTokens[_],s.column-1,m);return}this._lineTokens[_]=n._deleteEnding(this._lineTokens[_],s.column-1),this._lineTokens[_]=n._insert(this._lineTokens[_],s.column-1,m),this._insertLines(s.lineNumber,o)}}static _deleteBeginning(s,o){return s===null||s===v?s:n._delete(s,0,o)}static _deleteEnding(s,o){if(s===null||s===v)return s;const m=d(s),_=m[m.length-2];return n._delete(s,o,_)}static _delete(s,o,m){if(s===null||s===v||o===m)return s;const _=d(s),f=_.length>>>1;if(o===0&&_[_.length-2]===m)return v;const c=N.LineTokens.findIndexInTokensArray(_,o),C=c>0?_[c-1<<1]:0,y=_[c<<1];if(m<y){const F=m-o;for(let P=c;P<f;P++)_[P<<1]-=F;return s}let w,D;C!==o?(_[c<<1]=o,w=c+1<<1,D=o):(w=c<<1,D=C);const I=m-o;for(let F=c+1;F<f;F++){const P=_[F<<1]-I;P>D&&(_[w++]=P,_[w++]=_[(F<<1)+1],D=P)}if(w===_.length)return s;let T=new Uint32Array(w);return T.set(_.subarray(0,w),0),T.buffer}static _append(s,o){if(o===v)return s;if(s===v)return o;if(s===null)return s;if(o===null)return null;const m=d(s),_=d(o),f=_.length>>>1;let c=new Uint32Array(m.length+_.length);c.set(m,0);let C=m.length;const y=m[m.length-2];for(let w=0;w<f;w++)c[C++]=_[w<<1]+y,c[C++]=_[(w<<1)+1];return c.buffer}static _insert(s,o,m){if(s===null||s===v)return s;const _=d(s),f=_.length>>>1;let c=N.LineTokens.findIndexInTokensArray(_,o);c>0&&_[c-1<<1]===o&&c--;for(let C=c;C<f;C++)_[C<<1]+=m;return s}}e.TokensStore=n}),define(ee[261],te([0,1,4,8,3,49,237,124,236,2]),function(Q,e,L,N,M,E,g,S,b,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBuffer=void 0;class v extends p.Disposable{constructor(t,a,l,h,d,u,n){super();this._onDidChangeContent=this._register(new L.Emitter),this.onDidChangeContent=this._onDidChangeContent.event,this._BOM=a,this._mightContainNonBasicASCII=!u,this._mightContainRTL=h,this._mightContainUnusualLineTerminators=d,this._pieceTree=new g.PieceTreeBase(t,l,n)}equals(t){return!(t instanceof v)||this._BOM!==t._BOM||this.getEOL()!==t.getEOL()?!1:this._pieceTree.equal(t._pieceTree)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(t){return this._pieceTree.createSnapshot(t?this._BOM:"")}getOffsetAt(t,a){return this._pieceTree.getOffsetAt(t,a)}getPositionAt(t){return this._pieceTree.getPositionAt(t)}getRangeAt(t,a){let l=t+a;const h=this.getPositionAt(t),d=this.getPositionAt(l);return new M.Range(h.lineNumber,h.column,d.lineNumber,d.column)}getValueInRange(t,a=0){if(t.isEmpty())return"";const l=this._getEndOfLine(a);return this._pieceTree.getValueInRange(t,l)}getValueLengthInRange(t,a=0){if(t.isEmpty())return 0;if(t.startLineNumber===t.endLineNumber)return t.endColumn-t.startColumn;let l=this.getOffsetAt(t.startLineNumber,t.startColumn);return this.getOffsetAt(t.endLineNumber,t.endColumn)-l}getCharacterCountInRange(t,a=0){if(this._mightContainNonBasicASCII){let l=0;const h=t.startLineNumber,d=t.endLineNumber;for(let u=h;u<=d;u++){const n=this.getLineContent(u),r=u===h?t.startColumn-1:0,s=u===d?t.endColumn-1:n.length;for(let o=r;o<s;o++)N.isHighSurrogate(n.charCodeAt(o))?(l=l+1,o=o+1):l=l+1}return l+=this._getEndOfLine(a).length*(d-h),l}return this.getValueLengthInRange(t,a)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(t){return this._pieceTree.getLineContent(t)}getLineCharCode(t,a){return this._pieceTree.getLineCharCode(t,a)}getCharCode(t){return this._pieceTree.getCharCode(t)}getLineLength(t){return this._pieceTree.getLineLength(t)}getLineMinColumn(t){return 1}getLineMaxColumn(t){return this.getLineLength(t)+1}getLineFirstNonWhitespaceColumn(t){const a=N.firstNonWhitespaceIndex(this.getLineContent(t));return a===-1?0:a+1}getLineLastNonWhitespaceColumn(t){const a=N.lastNonWhitespaceIndex(this.getLineContent(t));return a===-1?0:a+2}_getEndOfLine(t){switch(t){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(t){this._pieceTree.setEOL(t)}applyEdits(t,a,l){let h=this._mightContainRTL,d=this._mightContainUnusualLineTerminators,u=this._mightContainNonBasicASCII,n=!0,r=[];for(let C=0;C<t.length;C++){let y=t[C];n&&y._isTracked&&(n=!1);let w=y.range;if(y.text){let P=!0;u||(P=!N.isBasicASCII(y.text),u=P),!h&&P&&(h=N.containsRTL(y.text)),!d&&P&&(d=N.containsUnusualLineTerminators(y.text))}let D="",I=0,T=0,F=0;if(y.text){let P;[I,T,F,P]=(0,S.countEOL)(y.text);const R=this.getEOL();P===0||P===(R===`\r
`?2:1)?D=y.text:D=y.text.replace(/\r\n|\r|\n/g,R)}r[C]={sortIndex:C,identifier:y.identifier||null,range:w,rangeOffset:this.getOffsetAt(w.startLineNumber,w.startColumn),rangeLength:this.getValueLengthInRange(w),text:D,eolCount:I,firstLineLength:T,lastLineLength:F,forceMoveMarkers:Boolean(y.forceMoveMarkers),isAutoWhitespaceEdit:y.isAutoWhitespaceEdit||!1}}r.sort(v._sortOpsAscending);let s=!1;for(let C=0,y=r.length-1;C<y;C++){let w=r[C].range.getEndPosition(),D=r[C+1].range.getStartPosition();if(D.isBeforeOrEqual(w)){if(D.isBefore(w))throw new Error("Overlapping ranges are not allowed!");s=!0}}n&&(r=this._reduceOperations(r));let o=l||a?v._getInverseEditRanges(r):[],m=[];if(a)for(let C=0;C<r.length;C++){let y=r[C],w=o[C];if(y.isAutoWhitespaceEdit&&y.range.isEmpty())for(let D=w.startLineNumber;D<=w.endLineNumber;D++){let I="";D===w.startLineNumber&&(I=this.getLineContent(y.range.startLineNumber),N.firstNonWhitespaceIndex(I)!==-1)||m.push({lineNumber:D,oldContent:I})}}let _=null;if(l){let C=0;_=[];for(let y=0;y<r.length;y++){const w=r[y],D=o[y],I=this.getValueInRange(w.range),T=w.rangeOffset+C;C+=w.text.length-I.length,_[y]={sortIndex:w.sortIndex,identifier:w.identifier,range:D,text:I,textChange:new b.TextChange(w.rangeOffset,I,T,w.text)}}s||_.sort((y,w)=>y.sortIndex-w.sortIndex)}this._mightContainRTL=h,this._mightContainUnusualLineTerminators=d,this._mightContainNonBasicASCII=u;const f=this._doApplyEdits(r);let c=null;if(a&&m.length>0){m.sort((C,y)=>y.lineNumber-C.lineNumber),c=[];for(let C=0,y=m.length;C<y;C++){let w=m[C].lineNumber;if(C>0&&m[C-1].lineNumber===w)continue;let D=m[C].oldContent,I=this.getLineContent(w);I.length===0||I===D||N.firstNonWhitespaceIndex(I)!==-1||c.push(w)}}return this._onDidChangeContent.fire(),new E.ApplyEditsResult(_,f,c)}_reduceOperations(t){return t.length<1e3?t:[this._toSingleEditOperation(t)]}_toSingleEditOperation(t){let a=!1;const l=t[0].range,h=t[t.length-1].range,d=new M.Range(l.startLineNumber,l.startColumn,h.endLineNumber,h.endColumn);let u=l.startLineNumber,n=l.startColumn;const r=[];for(let f=0,c=t.length;f<c;f++){const C=t[f],y=C.range;a=a||C.forceMoveMarkers,r.push(this.getValueInRange(new M.Range(u,n,y.startLineNumber,y.startColumn))),C.text.length>0&&r.push(C.text),u=y.endLineNumber,n=y.endColumn}const s=r.join(""),[o,m,_]=(0,S.countEOL)(s);return{sortIndex:0,identifier:t[0].identifier,range:d,rangeOffset:this.getOffsetAt(d.startLineNumber,d.startColumn),rangeLength:this.getValueLengthInRange(d,0),text:s,eolCount:o,firstLineLength:m,lastLineLength:_,forceMoveMarkers:a,isAutoWhitespaceEdit:!1}}_doApplyEdits(t){t.sort(v._sortOpsDescending);let a=[];for(let l=0;l<t.length;l++){let h=t[l];const d=h.range.startLineNumber,u=h.range.startColumn,n=h.range.endLineNumber,r=h.range.endColumn;if(d===n&&u===r&&h.text.length===0)continue;h.text?(this._pieceTree.delete(h.rangeOffset,h.rangeLength),this._pieceTree.insert(h.rangeOffset,h.text,!0)):this._pieceTree.delete(h.rangeOffset,h.rangeLength);const s=new M.Range(d,u,n,r);a.push({range:s,rangeLength:h.rangeLength,text:h.text,rangeOffset:h.rangeOffset,forceMoveMarkers:h.forceMoveMarkers})}return a}findMatchesLineByLine(t,a,l,h){return this._pieceTree.findMatchesLineByLine(t,a,l,h)}getPieceTree(){return this._pieceTree}static _getInverseEditRange(t,a){let l=t.startLineNumber,h=t.startColumn;const[d,u,n]=(0,S.countEOL)(a);let r;if(a.length>0){const s=d+1;s===1?r=new M.Range(l,h,l,h+u):r=new M.Range(l,h,l+s-1,n+1)}else r=new M.Range(l,h,l,h);return r}static _getInverseEditRanges(t){let a=[],l=0,h=0,d=null;for(let u=0,n=t.length;u<n;u++){let r=t[u],s,o;d?d.range.endLineNumber===r.range.startLineNumber?(s=l,o=h+(r.range.startColumn-d.range.endColumn)):(s=l+(r.range.startLineNumber-d.range.endLineNumber),o=r.range.startColumn):(s=r.range.startLineNumber,o=r.range.startColumn);let m;if(r.text.length>0){const _=r.eolCount+1;_===1?m=new M.Range(s,o,s,o+r.firstLineLength):m=new M.Range(s,o,s+_-1,r.lastLineLength+1)}else m=new M.Range(s,o,s,o);l=m.endLineNumber,h=m.endColumn,a.push(m),d=r}return a}static _sortOpsAscending(t,a){let l=M.Range.compareRangesUsingEnds(t.range,a.range);return l===0?t.sortIndex-a.sortIndex:l}static _sortOpsDescending(t,a){let l=M.Range.compareRangesUsingEnds(t.range,a.range);return l===0?a.sortIndex-t.sortIndex:-l}}e.PieceTreeTextBuffer=v}),define(ee[586],te([0,1,8,237,261]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBufferBuilder=e.PieceTreeTextBufferFactory=void 0;class E{constructor(b,p,v,i,t,a,l,h,d){this._chunks=b,this._bom=p,this._cr=v,this._lf=i,this._crlf=t,this._containsRTL=a,this._containsUnusualLineTerminators=l,this._isBasicASCII=h,this._normalizeEOL=d}_getEOL(b){const p=this._cr+this._lf+this._crlf,v=this._cr+this._crlf;return p===0?b===1?`
`:`\r
`:v>p/2?`\r
`:`
`}create(b){const p=this._getEOL(b);let v=this._chunks;if(this._normalizeEOL&&(p===`\r
`&&(this._cr>0||this._lf>0)||p===`
`&&(this._cr>0||this._crlf>0)))for(let t=0,a=v.length;t<a;t++){let l=v[t].buffer.replace(/\r\n|\r|\n/g,p),h=(0,N.createLineStartsFast)(l);v[t]=new N.StringBuffer(l,h)}const i=new M.PieceTreeTextBuffer(v,this._bom,p,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:i,disposable:i}}getFirstLineText(b){return this._chunks[0].buffer.substr(0,b).split(/\r\n|\r|\n/)[0]}}e.PieceTreeTextBufferFactory=E;class g{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(b){if(b.length===0)return;this.chunks.length===0&&L.startsWithUTF8BOM(b)&&(this.BOM=L.UTF8_BOM_CHARACTER,b=b.substr(1));const p=b.charCodeAt(b.length-1);p===13||p>=55296&&p<=56319?(this._acceptChunk1(b.substr(0,b.length-1),!1),this._hasPreviousChar=!0,this._previousChar=p):(this._acceptChunk1(b,!1),this._hasPreviousChar=!1,this._previousChar=p)}_acceptChunk1(b,p){!p&&b.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+b):this._acceptChunk2(b))}_acceptChunk2(b){const p=(0,N.createLineStarts)(this._tmpLineStarts,b);this.chunks.push(new N.StringBuffer(b,p.lineStarts)),this.cr+=p.cr,this.lf+=p.lf,this.crlf+=p.crlf,this.isBasicASCII&&(this.isBasicASCII=p.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=L.containsRTL(b)),!this.isBasicASCII&&!this.containsUnusualLineTerminators&&(this.containsUnusualLineTerminators=L.containsUnusualLineTerminators(b))}finish(b=!0){return this._finish(),new E(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,b)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;let b=this.chunks[this.chunks.length-1];b.buffer+=String.fromCharCode(this._previousChar);let p=(0,N.createLineStartsFast)(b.buffer);b.lineStarts=p,this._previousChar===13&&this.cr++}}}e.PieceTreeTextBufferBuilder=g}),define(ee[587],te([0,1,19,12,92,13,18,83,2,87,124,10]),function(Q,e,L,N,M,E,g,S,b,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelTokenization=e.TokenizationStateStore=void 0;class t{constructor(){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0}_reset(u){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0,u&&this._setBeginState(0,u)}flush(u){this._reset(u)}get invalidLineStartIndex(){return this._invalidLineStartIndex}_invalidateLine(u){u<this._len&&(this._valid[u]=!1),u<this._invalidLineStartIndex&&(this._invalidLineStartIndex=u)}_isValid(u){return u<this._len?this._valid[u]:!1}getBeginState(u){return u<this._len?this._beginState[u]:null}_ensureLine(u){for(;u>=this._len;)this._beginState[this._len]=null,this._valid[this._len]=!1,this._len++}_deleteLines(u,n){n!==0&&(u+n>this._len&&(n=this._len-u),this._beginState.splice(u,n),this._valid.splice(u,n),this._len-=n)}_insertLines(u,n){if(n===0)return;const r=[],s=[];for(let o=0;o<n;o++)r[o]=null,s[o]=!1;this._beginState=L.arrayInsert(this._beginState,u,r),this._valid=L.arrayInsert(this._valid,u,s),this._len+=n}_setValid(u,n){this._ensureLine(u),this._valid[u]=n}_setBeginState(u,n){this._ensureLine(u),this._beginState[u]=n}setEndState(u,n,r){if(this._setValid(n,!0),this._invalidLineStartIndex=n+1,n===u-1)return;const s=this.getBeginState(n+1);if(s===null||!r.equals(s)){this._setBeginState(n+1,r),this._invalidateLine(n+1);return}let o=n+1;for(;o<u&&this._isValid(o);)o++;this._invalidLineStartIndex=o}setFakeTokens(u){this._setValid(u,!1)}applyEdits(u,n){const r=u.endLineNumber-u.startLineNumber,o=Math.min(r,n);for(let m=o;m>=0;m--)this._invalidateLine(u.startLineNumber+m-1);this._acceptDeleteRange(u),this._acceptInsertText(new E.Position(u.startLineNumber,u.startColumn),n)}_acceptDeleteRange(u){u.startLineNumber-1>=this._len||this._deleteLines(u.startLineNumber,u.endLineNumber-u.startLineNumber)}_acceptInsertText(u,n){u.lineNumber-1>=this._len||this._insertLines(u.lineNumber,n)}}e.TokenizationStateStore=t;class a extends b.Disposable{constructor(u,n){super();this._textModel=u,this._languageIdCodec=n,this._isScheduled=!1,this._isDisposed=!1,this._tokenizationStateStore=new t,this._tokenizationSupport=null,this._register(g.TokenizationRegistry.onDidChange(r=>{const s=this._textModel.getLanguageId();r.changedLanguages.indexOf(s)!==-1&&(this._resetTokenizationState(),this._textModel.clearTokens())})),this._register(this._textModel.onDidChangeContentFast(r=>{if(r.isFlush){this._resetTokenizationState();return}for(let s=0,o=r.changes.length;s<o;s++){const m=r.changes[s],[_]=(0,v.countEOL)(m.text);this._tokenizationStateStore.applyEdits(m.range,_)}this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeAttached(()=>{this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeLanguage(()=>{this._resetTokenizationState(),this._textModel.clearTokens()})),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}_resetTokenizationState(){const[u,n]=l(this._textModel);this._tokenizationSupport=u,this._tokenizationStateStore.flush(n),this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,(0,i.runWhenIdle)(u=>{this._isScheduled=!1,!this._isDisposed&&this._revalidateTokensNow(u)}))}_revalidateTokensNow(u){const n=this._textModel.getLineCount(),r=1,s=new v.MultilineTokensBuilder,o=p.StopWatch.create(!1);let m=-1;do if(o.elapsed()>r||(m=this._tokenizeOneInvalidLine(s),m>=n))break;while(this._hasLinesToTokenize()&&u.timeRemaining()>0);this._beginBackgroundTokenization(),this._textModel.setTokens(s.tokens,!this._hasLinesToTokenize())}tokenizeViewport(u,n){const r=new v.MultilineTokensBuilder;this._tokenizeViewport(r,u,n),this._textModel.setTokens(r.tokens,!this._hasLinesToTokenize())}reset(){this._resetTokenizationState(),this._textModel.clearTokens()}forceTokenization(u){const n=new v.MultilineTokensBuilder;this._updateTokensUntilLine(n,u),this._textModel.setTokens(n.tokens,!this._hasLinesToTokenize())}getTokenTypeIfInsertingCharacter(u,n){if(!this._tokenizationSupport)return 0;this.forceTokenization(u.lineNumber);const r=this._tokenizationStateStore.getBeginState(u.lineNumber-1);if(!r)return 0;const s=this._textModel.getLanguageId(),o=this._textModel.getLineContent(u.lineNumber),m=o.substring(0,u.column-1)+n+o.substring(u.column-1),_=h(this._languageIdCodec,s,this._tokenizationSupport,m,!0,r),f=new M.LineTokens(_.tokens,m,this._languageIdCodec);if(f.getCount()===0)return 0;const c=f.findTokenIndexAtOffset(u.column-1);return f.getStandardTokenType(c)}isCheapToTokenize(u){if(!this._tokenizationSupport)return!0;const n=this._tokenizationStateStore.invalidLineStartIndex+1;return u>n?!1:u<n||this._textModel.getLineLength(u)<2048}_hasLinesToTokenize(){return this._tokenizationSupport?this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount():!1}_tokenizeOneInvalidLine(u){if(!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const n=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(u,n),n}_updateTokensUntilLine(u,n){if(!this._tokenizationSupport)return;const r=this._textModel.getLanguageId(),s=this._textModel.getLineCount(),o=n-1;for(let m=this._tokenizationStateStore.invalidLineStartIndex;m<=o;m++){const _=this._textModel.getLineContent(m+1),f=this._tokenizationStateStore.getBeginState(m),c=h(this._languageIdCodec,r,this._tokenizationSupport,_,!0,f);u.add(m+1,c.tokens),this._tokenizationStateStore.setEndState(s,m,c.endState),m=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(u,n,r){if(!this._tokenizationSupport||r<=this._tokenizationStateStore.invalidLineStartIndex)return;if(n<=this._tokenizationStateStore.invalidLineStartIndex){this._updateTokensUntilLine(u,r);return}let s=this._textModel.getLineFirstNonWhitespaceColumn(n);const o=[];let m=null;for(let c=n-1;s>1&&c>=1;c--){const C=this._textModel.getLineFirstNonWhitespaceColumn(c);if(C!==0&&C<s){if(m=this._tokenizationStateStore.getBeginState(c-1),m)break;o.push(this._textModel.getLineContent(c)),s=C}}m||(m=this._tokenizationSupport.getInitialState());const _=this._textModel.getLanguageId();let f=m;for(let c=o.length-1;c>=0;c--)f=h(this._languageIdCodec,_,this._tokenizationSupport,o[c],!1,f).endState;for(let c=n;c<=r;c++){const C=this._textModel.getLineContent(c),y=h(this._languageIdCodec,_,this._tokenizationSupport,C,!0,f);u.add(c,y.tokens),this._tokenizationStateStore.setFakeTokens(c-1),f=y.endState}}}e.TextModelTokenization=a;function l(d){const u=d.getLanguageId();let n=d.isTooLargeForTokenization()?null:g.TokenizationRegistry.get(u),r=null;if(n)try{r=n.getInitialState()}catch(s){(0,N.onUnexpectedError)(s),n=null}return[n,r]}function h(d,u,n,r,s,o){let m=null;if(n)try{m=n.tokenize2(r,s,o.clone(),0)}catch(_){(0,N.onUnexpectedError)(_)}return m||(m=(0,S.nullTokenize2)(d.encodeLanguageId(u),r,o,0)),M.LineTokens.convertToEndOffset(m.tokens,r.length),m}}),define(ee[262],te([0,1,8,92,83]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tokenizeLineToHTML=e.tokenizeToString=void 0;const E={getInitialState:()=>M.NULL_STATE,tokenize2:(p,v,i,t)=>(0,M.nullTokenize2)(0,p,i,t)};function g(p,v,i=E){return b(p,v,i||E)}e.tokenizeToString=g;function S(p,v,i,t,a,l,h){let d="<div>",u=t,n=0,r=!0;for(let s=0,o=v.getCount();s<o;s++){const m=v.getEndOffset(s);if(m<=t)continue;let _="";for(;u<m&&u<a;u++){const f=p.charCodeAt(u);switch(f){case 9:let c=l-(u+n)%l;for(n+=c-1;c>0;)h&&r?(_+="&#160;",r=!1):(_+=" ",r=!0),c--;break;case 60:_+="&lt;",r=!1;break;case 62:_+="&gt;",r=!1;break;case 38:_+="&amp;",r=!1;break;case 0:_+="&#00;",r=!1;break;case 65279:case 8232:case 8233:case 133:_+="\uFFFD",r=!1;break;case 13:_+="&#8203",r=!1;break;case 32:h&&r?(_+="&#160;",r=!1):(_+=" ",r=!0);break;default:_+=String.fromCharCode(f),r=!1}}if(d+=`<span style="${v.getInlineStyle(s,i)}">${_}</span>`,m>a||u>=a)break}return d+="</div>",d}e.tokenizeLineToHTML=S;function b(p,v,i){let t='<div class="monaco-tokenized-source">';const a=L.splitLines(p);let l=i.getInitialState();for(let h=0,d=a.length;h<d;h++){const u=a[h];h>0&&(t+="<br/>");const n=i.tokenize2(u,!0,l,0);N.LineTokens.convertToEndOffset(n.tokens,u.length);const s=new N.LineTokens(n.tokens,u,v).inflate();let o=0;for(let m=0,_=s.getCount();m<_;m++){const f=s.getClassName(m),c=s.getEndOffset(m);t+=`<span class="${f}">${L.escape(u.substring(o,c))}</span>`,o=c}l=n.endState}return t+="</div>",t}}),define(ee[68],te([0,1,9]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextModelService=void 0,e.ITextModelService=(0,L.createDecorator)("textModelService")}),define(ee[156],te([0,1,9]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextResourcePropertiesService=e.ITextResourceConfigurationService=void 0,e.ITextResourceConfigurationService=(0,L.createDecorator)("textResourceConfigurationService"),e.ITextResourcePropertiesService=(0,L.createDecorator)("textResourcePropertiesService")}),define(ee[263],te([0,1,4,2,233,18]),function(Q,e,L,N,M,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapTokensColorTracker=void 0;class g extends N.Disposable{constructor(){super();this._onDidChange=new L.Emitter,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(E.TokenizationRegistry.onDidChange(b=>{b.changedColorMap&&this._updateColorMap()}))}static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,N.markAsSingleton)(new g)),this._INSTANCE}_updateColorMap(){const b=E.TokenizationRegistry.getColorMap();if(!b){this._colors=[M.RGBA8.Empty],this._backgroundIsLight=!0;return}this._colors=[M.RGBA8.Empty];for(let v=1;v<b.length;v++){const i=b[v].rgba;this._colors[v]=new M.RGBA8(i.r,i.g,i.b,Math.round(i.a*255))}let p=b[2].getRelativeLuminance();this._backgroundIsLight=p>=.5,this._onDidChange.fire(void 0)}getColor(b){return(b<1||b>=this._colors.length)&&(b=2),this._colors[b]}backgroundIsLight(){return this._backgroundIsLight}}e.MinimapTokensColorTracker=g,g._INSTANCE=null}),define(ee[588],te([0,1,92,13,91,65]),function(Q,e,L,N,M,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createModelLineProjection=void 0;function g(a,l){return a===null?l?b.INSTANCE:p.INSTANCE:new S(a,l)}e.createModelLineProjection=g;class S{constructor(l,h){this._lineBreakData=l,this._isVisible=h}isVisible(){return this._isVisible}setVisible(l){return this._isVisible=l,this}getLineBreakData(){return this._lineBreakData}getViewLineCount(){return this._isVisible?this._lineBreakData.getOutputLineCount():0}getInputStartOffsetOfOutputLineIndex(l){return this._lineBreakData.translateToInputOffset(l,0)}getInputEndOffsetOfOutputLineIndex(l){return this._lineBreakData.translateToInputOffset(l,this._lineBreakData.getMaxOutputOffset(l))}getViewLineContent(l,h,d){this.assertVisible();const u=d>0?this._lineBreakData.breakOffsets[d-1]:0,n=d<this._lineBreakData.breakOffsets.length?this._lineBreakData.breakOffsets[d]:this._lineBreakData.breakOffsets[this._lineBreakData.breakOffsets.length-1];let r;if(this._lineBreakData.injectionOffsets!==null){const s=this._lineBreakData.injectionOffsets.map((o,m)=>new M.LineInjectedText(0,0,o+1,this._lineBreakData.injectionOptions[m],0));r=M.LineInjectedText.applyInjectedText(l.getLineContent(h),s).substring(u,n)}else r=l.getValueInRange({startLineNumber:h,startColumn:u+1,endLineNumber:h,endColumn:n+1});return d>0&&(r=i(this._lineBreakData.wrappedTextIndentLength)+r),r}getViewLineLength(l,h,d){return this.assertVisible(),this._lineBreakData.getLineLength(d)}getViewLineMinColumn(l,h,d){return this.assertVisible(),this._lineBreakData.getMinOutputOffset(d)+1}getViewLineMaxColumn(l,h,d){return this.assertVisible(),this._lineBreakData.getMaxOutputOffset(d)+1}getViewLineData(l,h,d){this.assertVisible();const u=this._lineBreakData,n=d>0?u.wrappedTextIndentLength:0,r=u.injectionOffsets,s=u.injectionOptions;let o,m;if(r){const w=l.getLineTokens(h).withInserted(r.map((F,P)=>({offset:F,text:s[P].content,tokenMetadata:L.LineTokens.defaultTokenMetadata}))),D=d>0?u.breakOffsets[d-1]:0,I=u.breakOffsets[d];o=w.sliceAndInflate(D,I,n),m=new Array;let T=0;for(let F=0;F<r.length;F++){const P=s[F].content.length,R=r[F]+T,A=r[F]+T+P;if(R>I)break;if(D<A){const O=s[F];if(O.inlineClassName){const k=d>0?u.wrappedTextIndentLength:0,V=k+Math.max(R-D,0),B=k+Math.min(A-D,I);V!==B&&m.push(new E.SingleLineInlineDecoration(V,B,O.inlineClassName,O.inlineClassNameAffectsLetterSpacing))}}T+=P}}else{const w=this.getInputStartOffsetOfOutputLineIndex(d),D=this.getInputEndOffsetOfOutputLineIndex(d);o=l.getLineTokens(h).sliceAndInflate(w,D,n),m=null}let _=o.getLineContent();d>0&&(_=i(u.wrappedTextIndentLength)+_);const f=this._lineBreakData.getMinOutputOffset(d)+1,c=_.length+1,C=d+1<this.getViewLineCount(),y=d===0?0:u.breakOffsetsVisibleColumn[d-1];return new E.ViewLineData(_,C,f,c,y,o,m)}getViewLinesData(l,h,d,u,n,r,s){this.assertVisible();for(let o=d;o<u;o++){let m=n+o-d;if(!r[m]){s[m]=null;continue}s[m]=this.getViewLineData(l,h,o)}}getModelColumnOfViewPosition(l,h){return this.assertVisible(),this._lineBreakData.translateToInputOffset(l,h-1)+1}getViewPositionOfModelPosition(l,h,d=2){return this.assertVisible(),this._lineBreakData.translateToOutputPosition(h-1,d).toPosition(l)}getViewLineNumberOfModelPosition(l,h){this.assertVisible();const d=this._lineBreakData.translateToOutputPosition(h-1);return l+d.outputLineIndex}normalizePosition(l,h,d){const u=h.lineNumber-l;return this._lineBreakData.normalizeOutputPosition(l,h.column-1,d).toPosition(u)}getInjectedTextAt(l,h){return this._lineBreakData.getInjectedText(l,h-1)}assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class b{constructor(){}isVisible(){return!0}setVisible(l){return l?this:p.INSTANCE}getLineBreakData(){return null}getViewLineCount(){return 1}getViewLineContent(l,h,d){return l.getLineContent(h)}getViewLineLength(l,h,d){return l.getLineLength(h)}getViewLineMinColumn(l,h,d){return l.getLineMinColumn(h)}getViewLineMaxColumn(l,h,d){return l.getLineMaxColumn(h)}getViewLineData(l,h,d){let u=l.getLineTokens(h),n=u.getLineContent();return new E.ViewLineData(n,!1,1,n.length+1,0,u.inflate(),null)}getViewLinesData(l,h,d,u,n,r,s){if(!r[n]){s[n]=null;return}s[n]=this.getViewLineData(l,h,0)}getModelColumnOfViewPosition(l,h){return h}getViewPositionOfModelPosition(l,h){return new N.Position(l,h)}getViewLineNumberOfModelPosition(l,h){return l}normalizePosition(l,h,d){return h}getInjectedTextAt(l,h){return null}}b.INSTANCE=new b;class p{constructor(){}isVisible(){return!1}setVisible(l){return l?b.INSTANCE:this}getLineBreakData(){return null}getViewLineCount(){return 0}getViewLineContent(l,h,d){throw new Error("Not supported")}getViewLineLength(l,h,d){throw new Error("Not supported")}getViewLineMinColumn(l,h,d){throw new Error("Not supported")}getViewLineMaxColumn(l,h,d){throw new Error("Not supported")}getViewLineData(l,h,d){throw new Error("Not supported")}getViewLinesData(l,h,d,u,n,r,s){throw new Error("Not supported")}getModelColumnOfViewPosition(l,h){throw new Error("Not supported")}getViewPositionOfModelPosition(l,h){throw new Error("Not supported")}getViewLineNumberOfModelPosition(l,h){throw new Error("Not supported")}normalizePosition(l,h,d){throw new Error("Not supported")}getInjectedTextAt(l,h){throw new Error("Not supported")}}p.INSTANCE=new p;let v=[""];function i(a){if(a>=v.length)for(let l=1;l<=a;l++)v[l]=t(l);return v[a]}function t(a){return new Array(a+1).join(" ")}}),define(ee[264],te([0,1,19,21,12,55,48,8,3,18,155]),function(Q,e,L,N,M,E,g,S,b,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutlineModel=e.OutlineGroup=e.OutlineElement=e.TreeElement=void 0;class i{remove(){this.parent&&this.parent.children.delete(this.id)}static findId(d,u){let n;typeof d=="string"?n=`${u.id}/${d}`:(n=`${u.id}/${d.name}`,u.children.get(n)!==void 0&&(n=`${u.id}/${d.name}_${d.range.startLineNumber}_${d.range.startColumn}`));let r=n;for(let s=0;u.children.get(r)!==void 0;s++)r=`${n}_${s}`;return r}static getElementById(d,u){if(!d)return;let n=(0,S.commonPrefixLength)(d,u.id);if(n===d.length)return u;if(!(n<u.id.length))for(const[,r]of u.children){let s=i.getElementById(d,r);if(s)return s}}static size(d){let u=1;for(const[,n]of d.children)u+=i.size(n);return u}static empty(d){return d.children.size===0}}e.TreeElement=i;class t extends i{constructor(d,u,n){super();this.id=d,this.parent=u,this.symbol=n,this.children=new Map}adopt(d){let u=new t(this.id,d,this.symbol);for(const[n,r]of this.children)u.children.set(n,r.adopt(u));return u}}e.OutlineElement=t;class a extends i{constructor(d,u,n,r){super();this.id=d,this.parent=u,this.label=n,this.order=r,this.children=new Map}adopt(d){let u=new a(this.id,d,this.label,this.order);for(const[n,r]of this.children)u.children.set(n,r.adopt(u));return u}getItemEnclosingPosition(d){return d?this._getItemEnclosingPosition(d,this.children):void 0}_getItemEnclosingPosition(d,u){for(const[,n]of u)if(!(!n.symbol.range||!b.Range.containsPosition(n.symbol.range,d)))return this._getItemEnclosingPosition(d,n.children)||n}updateMarker(d){for(const[,u]of this.children)this._updateMarker(d,u)}_updateMarker(d,u){u.marker=void 0;let n=(0,L.binarySearch)(d,u.symbol.range,b.Range.compareRangesUsingStarts),r;n<0?(r=~n,r>0&&b.Range.areIntersecting(d[r-1],u.symbol.range)&&(r-=1)):r=n;let s=[],o;for(;r<d.length&&b.Range.areIntersecting(u.symbol.range,d[r]);r++){let m=d[r];s.push(m),d[r]=void 0,(!o||m.severity>o)&&(o=m.severity)}for(const[,m]of u.children)this._updateMarker(s,m);o&&(u.marker={count:s.length,topSev:o}),(0,L.coalesceInPlace)(d)}}e.OutlineGroup=a;class l extends i{constructor(d){super();this.uri=d,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(d,u){let n=this._keys.for(d,!0),r=l._requests.get(n);if(!r){let s=new N.CancellationTokenSource;r={promiseCnt:0,source:s,promise:l._create(d,s.token),model:void 0},l._requests.set(n,r);const o=Date.now();r.promise.then(()=>{this._requestDurations.update(d,Date.now()-o)})}return r.model?Promise.resolve(r.model):(r.promiseCnt+=1,u.onCancellationRequested(()=>{--r.promiseCnt==0&&(r.source.cancel(),l._requests.delete(n))}),new Promise((s,o)=>{r.promise.then(m=>{r.model=m,s(m)},m=>{l._requests.delete(n),o(m)})}))}static getRequestDelay(d){return d?this._requestDurations.get(d):this._requestDurations.min}static _create(d,u){const n=new N.CancellationTokenSource(u),r=new l(d.uri),s=p.DocumentSymbolProviderRegistry.ordered(d),o=s.map((_,f)=>{var c;let C=i.findId(`provider_${f}`,r),y=new a(C,r,(c=_.displayName)!==null&&c!==void 0?c:"Unknown Outline Provider",f);return Promise.resolve(_.provideDocumentSymbols(d,n.token)).then(w=>{for(const D of w||[])l._makeOutlineElement(D,y);return y},w=>((0,M.onUnexpectedExternalError)(w),y)).then(w=>{i.empty(w)?w.remove():r._groups.set(C,w)})}),m=p.DocumentSymbolProviderRegistry.onDidChange(()=>{const _=p.DocumentSymbolProviderRegistry.ordered(d);(0,L.equals)(_,s)||n.cancel()});return Promise.all(o).then(()=>n.token.isCancellationRequested&&!u.isCancellationRequested?l._create(d,u):r._compact()).finally(()=>{m.dispose()})}static _makeOutlineElement(d,u){let n=i.findId(d,u),r=new t(n,u,d);if(d.children)for(const s of d.children)l._makeOutlineElement(s,r);u.children.set(r.id,r)}static get(d){for(;d;){if(d instanceof l)return d;d=d.parent}}adopt(){let d=new l(this.uri);for(const[u,n]of this._groups)d._groups.set(u,n.adopt(d));return d._compact()}_compact(){let d=0;for(const[u,n]of this._groups)n.children.size===0?this._groups.delete(u):d+=1;if(d!==1)this.children=this._groups;else{let u=E.Iterable.first(this._groups.values());for(let[,n]of u.children)n.parent=this,this.children.set(n.id,n)}return this}merge(d){return this.uri.toString()!==d.uri.toString()||this._groups.size!==d._groups.size?!1:(this._groups=d._groups,this.children=d.children,!0)}getItemEnclosingPosition(d,u){let n;if(u){let s=u.parent;for(;s&&!n;)s instanceof a&&(n=s),s=s.parent}let r;for(const[,s]of this._groups)if(r=s.getItemEnclosingPosition(d),r&&(!n||n===s))break;return r}getItemById(d){return i.getElementById(d,this)}updateMarker(d){d.sort(b.Range.compareRangesUsingStarts);for(const[,u]of this._groups)u.updateMarker(d.slice(0))}getTopLevelSymbols(){const d=[];for(const u of this.children.values())u instanceof t?d.push(u.symbol):d.push(...E.Iterable.map(u.children.values(),n=>n.symbol));return d.sort((u,n)=>b.Range.compareRangesUsingStarts(u.range,n.range))}asListOfDocumentSymbols(){const d=this.getTopLevelSymbols(),u=[];return l._flattenDocumentSymbols(u,d,""),u.sort((n,r)=>b.Range.compareRangesUsingStarts(n.range,r.range))}static _flattenDocumentSymbols(d,u,n){for(const r of u)d.push({kind:r.kind,tags:r.tags,name:r.name,detail:r.detail,containerName:r.containerName||n,range:r.range,selectionRange:r.selectionRange,children:void 0}),r.children&&l._flattenDocumentSymbols(d,r.children,r.name)}}e.OutlineModel=l,l._requestDurations=new v.LanguageFeatureRequestDelays(p.DocumentSymbolProviderRegistry,350),l._requests=new g.LRUCache(9,.75),l._keys=new class{constructor(){this._counter=1,this._data=new WeakMap}for(h,d){return`${h.id}/${d?h.getVersionId():""}/${this._hash(p.DocumentSymbolProviderRegistry.all(h))}`}_hash(h){let d="";for(const u of h){let n=this._data.get(u);typeof n=="undefined"&&(n=this._counter++,this._data.set(u,n)),d+=n}return d}}}),define(ee[589],te([0,1,19,4,3,124]),function(Q,e,L,N,M,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HiddenRangeModel=void 0;class g{constructor(v){this._updateEventEmitter=new N.Emitter,this._hasLineChanges=!1,this._foldingModel=v,this._foldingModelListener=v.onDidChange(i=>this.updateHiddenRanges()),this._hiddenRanges=[],v.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}notifyChangeModelContent(v){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=v.changes.some(i=>i.range.endLineNumber!==i.range.startLineNumber||(0,E.countEOL)(i.text)[0]!==0))}updateHiddenRanges(){let v=!1,i=[],t=0,a=0,l=Number.MAX_VALUE,h=-1,d=this._foldingModel.regions;for(;t<d.length;t++){if(!d.isCollapsed(t))continue;let u=d.getStartLineNumber(t)+1,n=d.getEndLineNumber(t);l<=u&&n<=h||(!v&&a<this._hiddenRanges.length&&this._hiddenRanges[a].startLineNumber===u&&this._hiddenRanges[a].endLineNumber===n?(i.push(this._hiddenRanges[a]),a++):(v=!0,i.push(new M.Range(u,1,n,1))),l=u,h=n)}(this._hasLineChanges||v||a<this._hiddenRanges.length)&&this.applyHiddenRanges(i)}applyMemento(v){if(!Array.isArray(v)||v.length===0)return!1;let i=[];for(let t of v){if(!t.startLineNumber||!t.endLineNumber)return!1;i.push(new M.Range(t.startLineNumber+1,1,t.endLineNumber,1))}return this.applyHiddenRanges(i),!0}getMemento(){return this._hiddenRanges.map(v=>({startLineNumber:v.startLineNumber-1,endLineNumber:v.endLineNumber}))}applyHiddenRanges(v){this._hiddenRanges=v,this._hasLineChanges=!1,this._updateEventEmitter.fire(v)}hasRanges(){return this._hiddenRanges.length>0}isHidden(v){return b(this._hiddenRanges,v)!==null}adjustSelections(v){let i=!1,t=this._foldingModel.textModel,a=null,l=h=>((!a||!S(h,a))&&(a=b(this._hiddenRanges,h)),a?a.startLineNumber-1:null);for(let h=0,d=v.length;h<d;h++){let u=v[h],n=l(u.startLineNumber);n&&(u=u.setStartPosition(n,t.getLineMaxColumn(n)),i=!0);let r=l(u.endLineNumber);r&&(u=u.setEndPosition(r,t.getLineMaxColumn(r)),i=!0),v[h]=u}return i}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}e.HiddenRangeModel=g;function S(p,v){return p>=v.startLineNumber&&p<=v.endLineNumber}function b(p,v){let i=(0,L.findFirstInSorted)(p,t=>v<t.startLineNumber)-1;return i>=0&&p[i].endLineNumber>=v?p[i]:null}}),define(ee[265],te([0,1,146,18,83,254]),function(Q,e,L,N,M,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTokenizationSupport=e.MonarchTokenizer=void 0;const g=5;class S{constructor(n){this._maxCacheDepth=n,this._entries=Object.create(null)}static create(n,r){return this._INSTANCE.create(n,r)}create(n,r){if(n!==null&&n.depth>=this._maxCacheDepth)return new b(n,r);let s=b.getStackElementId(n);s.length>0&&(s+="|"),s+=r;let o=this._entries[s];return o||(o=new b(n,r),this._entries[s]=o,o)}}S._INSTANCE=new S(g);class b{constructor(n,r){this.parent=n,this.state=r,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(n){let r="";for(;n!==null;)r.length>0&&(r+="|"),r+=n.state,n=n.parent;return r}static _equals(n,r){for(;n!==null&&r!==null;){if(n===r)return!0;if(n.state!==r.state)return!1;n=n.parent,r=r.parent}return n===null&&r===null}equals(n){return b._equals(this,n)}push(n){return S.create(this,n)}pop(){return this.parent}popall(){let n=this;for(;n.parent;)n=n.parent;return n}switchTo(n){return S.create(this.parent,n)}}class p{constructor(n,r){this.languageId=n,this.state=r}equals(n){return this.languageId===n.languageId&&this.state.equals(n.state)}clone(){return this.state.clone()===this.state?this:new p(this.languageId,this.state)}}class v{constructor(n){this._maxCacheDepth=n,this._entries=Object.create(null)}static create(n,r){return this._INSTANCE.create(n,r)}create(n,r){if(r!==null)return new i(n,r);if(n!==null&&n.depth>=this._maxCacheDepth)return new i(n,r);let s=b.getStackElementId(n),o=this._entries[s];return o||(o=new i(n,null),this._entries[s]=o,o)}}v._INSTANCE=new v(g);class i{constructor(n,r){this.stack=n,this.embeddedModeData=r}clone(){return(this.embeddedModeData?this.embeddedModeData.clone():null)===this.embeddedModeData?this:v.create(this.stack,this.embeddedModeData)}equals(n){return!(n instanceof i)||!this.stack.equals(n.stack)?!1:this.embeddedModeData===null&&n.embeddedModeData===null?!0:this.embeddedModeData===null||n.embeddedModeData===null?!1:this.embeddedModeData.equals(n.embeddedModeData)}}class t{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterMode(n,r){this._languageId=r}emit(n,r){this._lastTokenType===r&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=r,this._lastTokenLanguage=this._languageId,this._tokens.push(new L.Token(n,r,this._languageId)))}nestedModeTokenize(n,r,s,o){const m=s.languageId,_=s.state,f=N.TokenizationRegistry.get(m);if(!f)return this.enterMode(o,m),this.emit(o,""),_;let c=f.tokenize(n,r,_,o);return this._tokens=this._tokens.concat(c.tokens),this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,c.endState}finalize(n){return new L.TokenizationResult(this._tokens,n)}}class a{constructor(n,r){this._modeService=n,this._theme=r,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterMode(n,r){this._currentLanguageId=this._modeService.languageIdCodec.encodeLanguageId(r)}emit(n,r){let s=this._theme.match(this._currentLanguageId,r);this._lastTokenMetadata!==s&&(this._lastTokenMetadata=s,this._tokens.push(n),this._tokens.push(s))}static _merge(n,r,s){let o=n!==null?n.length:0,m=r.length,_=s!==null?s.length:0;if(o===0&&m===0&&_===0)return new Uint32Array(0);if(o===0&&m===0)return s;if(m===0&&_===0)return n;let f=new Uint32Array(o+m+_);n!==null&&f.set(n);for(let c=0;c<m;c++)f[o+c]=r[c];return s!==null&&f.set(s,o+m),f}nestedModeTokenize(n,r,s,o){const m=s.languageId,_=s.state,f=N.TokenizationRegistry.get(m);if(!f)return this.enterMode(o,m),this.emit(o,""),_;let c=f.tokenize2(n,r,_,o);return this._prependTokens=a._merge(this._prependTokens,this._tokens,c.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,c.endState}finalize(n){return new L.TokenizationResult2(a._merge(this._prependTokens,this._tokens,null),n)}}class l{constructor(n,r,s,o){this._modeService=n,this._standaloneThemeService=r,this._languageId=s,this._lexer=o,this._embeddedModes=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let m=!1;this._tokenizationRegistryListener=N.TokenizationRegistry.onDidChange(_=>{if(m)return;let f=!1;for(let c=0,C=_.changedLanguages.length;c<C;c++){let y=_.changedLanguages[c];if(this._embeddedModes[y]){f=!0;break}}f&&(m=!0,N.TokenizationRegistry.fire([this._languageId]),m=!1)})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){let n=[];for(let r in this._embeddedModes){const s=N.TokenizationRegistry.get(r);if(s){if(s instanceof l){const m=s.getLoadStatus();m.loaded===!1&&n.push(m.promise)}continue}const o=N.TokenizationRegistry.getPromise(r);o&&n.push(o)}return n.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(n).then(r=>{})}}getInitialState(){let n=S.create(null,this._lexer.start);return v.create(n,null)}tokenize(n,r,s,o){let m=new t,_=this._tokenize(n,r,s,o,m);return m.finalize(_)}tokenize2(n,r,s,o){let m=new a(this._modeService,this._standaloneThemeService.getColorTheme().tokenTheme),_=this._tokenize(n,r,s,o,m);return m.finalize(_)}_tokenize(n,r,s,o,m){return s.embeddedModeData?this._nestedTokenize(n,r,s,o,m):this._myTokenize(n,r,s,o,m)}_findLeavingNestedModeOffset(n,r){let s=this._lexer.tokenizer[r.stack.state];if(!s&&(s=E.findRules(this._lexer,r.stack.state),!s))throw E.createError(this._lexer,"tokenizer state is not defined: "+r.stack.state);let o=-1,m=!1;for(const _ of s){if(!E.isIAction(_.action)||_.action.nextEmbedded!=="@pop")continue;m=!0;let f=_.regex,c=_.regex.source;if(c.substr(0,4)==="^(?:"&&c.substr(c.length-1,1)===")"){let y=(f.ignoreCase?"i":"")+(f.unicode?"u":"");f=new RegExp(c.substr(4,c.length-5),y)}let C=n.search(f);C===-1||C!==0&&_.matchOnlyAtLineStart||(o===-1||C<o)&&(o=C)}if(!m)throw E.createError(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+r.stack.state);return o}_nestedTokenize(n,r,s,o,m){let _=this._findLeavingNestedModeOffset(n,s);if(_===-1){let C=m.nestedModeTokenize(n,r,s.embeddedModeData,o);return v.create(s.stack,new p(s.embeddedModeData.languageId,C))}let f=n.substring(0,_);f.length>0&&m.nestedModeTokenize(f,!1,s.embeddedModeData,o);let c=n.substring(_);return this._myTokenize(c,r,s,o+_,m)}_safeRuleName(n){return n?n.name:"(unknown)"}_myTokenize(n,r,s,o,m){m.enterMode(o,this._languageId);const _=n.length,f=r&&this._lexer.includeLF?n+`
`:n,c=f.length;let C=s.embeddedModeData,y=s.stack,w=0,D=null,I=!0;for(;I||w<c;){const T=w,F=y.depth,P=D?D.groups.length:0,R=y.state;let A=null,O=null,k=null,V=null,B=null;if(D){A=D.matches;const X=D.groups.shift();O=X.matched,k=X.action,V=D.rule,D.groups.length===0&&(D=null)}else{if(!I&&w>=c)break;I=!1;let X=this._lexer.tokenizer[R];if(!X&&(X=E.findRules(this._lexer,R),!X))throw E.createError(this._lexer,"tokenizer state is not defined: "+R);let Z=f.substr(w);for(const q of X)if((w===0||!q.matchOnlyAtLineStart)&&(A=Z.match(q.regex),A)){O=A[0],k=q.action;break}}if(A||(A=[""],O=""),k||(w<c&&(A=[f.charAt(w)],O=A[0]),k=this._lexer.defaultToken),O===null)break;for(w+=O.length;E.isFuzzyAction(k)&&E.isIAction(k)&&k.test;)k=k.test(O,A,R,w===c);let x=null;if(typeof k=="string"||Array.isArray(k))x=k;else if(k.group)x=k.group;else if(k.token!==null&&k.token!==void 0){if(k.tokenSubst?x=E.substituteMatches(this._lexer,k.token,O,A,R):x=k.token,k.nextEmbedded)if(k.nextEmbedded==="@pop"){if(!C)throw E.createError(this._lexer,"cannot pop embedded mode if not inside one");C=null}else{if(C)throw E.createError(this._lexer,"cannot enter embedded mode from within an embedded mode");B=E.substituteMatches(this._lexer,k.nextEmbedded,O,A,R)}if(k.goBack&&(w=Math.max(0,w-k.goBack)),k.switchTo&&typeof k.switchTo=="string"){let X=E.substituteMatches(this._lexer,k.switchTo,O,A,R);if(X[0]==="@"&&(X=X.substr(1)),E.findRules(this._lexer,X))y=y.switchTo(X);else throw E.createError(this._lexer,"trying to switch to a state '"+X+"' that is undefined in rule: "+this._safeRuleName(V))}else{if(k.transform&&typeof k.transform=="function")throw E.createError(this._lexer,"action.transform not supported");if(k.next)if(k.next==="@push"){if(y.depth>=this._lexer.maxStack)throw E.createError(this._lexer,"maximum tokenizer stack size reached: ["+y.state+","+y.parent.state+",...]");y=y.push(R)}else if(k.next==="@pop"){if(y.depth<=1)throw E.createError(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(V));y=y.pop()}else if(k.next==="@popall")y=y.popall();else{let X=E.substituteMatches(this._lexer,k.next,O,A,R);if(X[0]==="@"&&(X=X.substr(1)),E.findRules(this._lexer,X))y=y.push(X);else throw E.createError(this._lexer,"trying to set a next state '"+X+"' that is undefined in rule: "+this._safeRuleName(V))}}k.log&&typeof k.log=="string"&&E.log(this._lexer,this._lexer.languageId+": "+E.substituteMatches(this._lexer,k.log,O,A,R))}if(x===null)throw E.createError(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(V));const K=X=>{let Z=this._modeService.getModeIdForLanguageName(X);Z&&(X=Z);const q=this._getNestedEmbeddedModeData(X);if(w<c){const H=n.substr(w);return this._nestedTokenize(H,r,v.create(y,q),o+w,m)}else return v.create(y,q)};if(Array.isArray(x)){if(D&&D.groups.length>0)throw E.createError(this._lexer,"groups cannot be nested: "+this._safeRuleName(V));if(A.length!==x.length+1)throw E.createError(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(V));let X=0;for(let Z=1;Z<A.length;Z++)X+=A[Z].length;if(X!==O.length)throw E.createError(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(V));D={rule:V,matches:A,groups:[]};for(let Z=0;Z<x.length;Z++)D.groups[Z]={action:x[Z],matched:A[Z+1]};w-=O.length;continue}else{if(x==="@rematch"&&(w-=O.length,O="",A=null,x="",B!==null))return K(B);if(O.length===0){if(c===0||F!==y.depth||R!==y.state||(D?D.groups.length:0)!==P)continue;throw E.createError(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(V))}let X=null;if(E.isString(x)&&x.indexOf("@brackets")===0){let Z=x.substr("@brackets".length),q=h(this._lexer,O);if(!q)throw E.createError(this._lexer,"@brackets token returned but no bracket defined as: "+O);X=E.sanitize(q.token+Z)}else{let Z=x===""?"":x+this._lexer.tokenPostfix;X=E.sanitize(Z)}T<_&&m.emit(T+o,X)}if(B!==null)return K(B)}return v.create(y,C)}_getNestedEmbeddedModeData(n){let r=this._locateMode(n);if(r){let s=N.TokenizationRegistry.get(r);if(s)return new p(r,s.getInitialState())}return new p(r||M.NULL_MODE_ID,M.NULL_STATE)}_locateMode(n){if(!n||!this._modeService.isRegisteredMode(n))return null;if(n===this._languageId)return n;const r=this._modeService.getModeId(n);return r&&(this._modeService.triggerMode(r),this._embeddedModes[r]=!0),r}}e.MonarchTokenizer=l;function h(u,n){if(!n)return null;n=E.fixCase(u,n);let r=u.brackets;for(const s of r){if(s.open===n)return{token:s.token,bracketType:1};if(s.close===n)return{token:s.token,bracketType:-1}}return null}function d(u,n,r,s){return new l(u,n,r,s)}e.createTokenizationSupport=d}),define(ee[590],te([0,1,10,8,92,18,120,65,265]),function(Q,e,L,N,M,E,g,S,b){"use strict";var p;Object.defineProperty(e,"__esModule",{value:!0}),e.Colorizer=void 0;const v=(p=window.trustedTypes)===null||p===void 0?void 0:p.createPolicy("standaloneColorizer",{createHTML:h=>h});class i{static colorizeElement(d,u,n,r){r=r||{};let s=r.theme||"vs",o=r.mimeType||n.getAttribute("lang")||n.getAttribute("data-lang");if(!o)return console.error("Mode not detected"),Promise.resolve();d.setTheme(s);let m=n.firstChild?n.firstChild.nodeValue:"";n.className+=" "+s;let _=f=>{var c;const C=(c=v==null?void 0:v.createHTML(f))!==null&&c!==void 0?c:f;n.innerHTML=C};return this.colorize(u,m||"",o,r).then(_,f=>console.error(f))}static colorize(d,u,n,r){const s=d.languageIdCodec;let o=4;r&&typeof r.tabSize=="number"&&(o=r.tabSize),N.startsWithUTF8BOM(u)&&(u=u.substr(1));let m=N.splitLines(u),_=d.getModeId(n);if(!_)return Promise.resolve(a(m,o,s));d.triggerMode(_);const f=E.TokenizationRegistry.get(_);if(f)return t(m,o,f,s);const c=E.TokenizationRegistry.getPromise(_);return c?new Promise((C,y)=>{c.then(w=>{t(m,o,w,s).then(C,y)},y)}):new Promise((C,y)=>{let w=null,D=null;const I=()=>{w&&(w.dispose(),w=null),D&&(D.dispose(),D=null);const T=E.TokenizationRegistry.get(_);if(T){t(m,o,T,s).then(C,y);return}C(a(m,o,s))};D=new L.TimeoutTimer,D.cancelAndSet(I,500),w=E.TokenizationRegistry.onDidChange(T=>{T.changedLanguages.indexOf(_)>=0&&I()})})}static colorizeLine(d,u,n,r,s=4){const o=S.ViewLineRenderingData.isBasicASCII(d,u),m=S.ViewLineRenderingData.containsRTL(d,o,n);return(0,g.renderViewLine2)(new g.RenderLineInput(!1,!0,d,!1,o,m,0,r,[],s,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(d,u,n=4){let r=d.getLineContent(u);d.forceTokenization(u);let o=d.getLineTokens(u).inflate();return this.colorizeLine(r,d.mightContainNonBasicASCII(),d.mightContainRTL(),o,n)}}e.Colorizer=i;function t(h,d,u,n){return new Promise((r,s)=>{const o=()=>{const m=l(h,d,u,n);if(u instanceof b.MonarchTokenizer){const _=u.getLoadStatus();if(_.loaded===!1){_.promise.then(o,s);return}}r(m)};o()})}function a(h,d,u){let n=[];const r=(0<<11|1<<14|2<<23)>>>0,s=new Uint32Array(2);s[0]=0,s[1]=r;for(let o=0,m=h.length;o<m;o++){let _=h[o];s[0]=_.length;const f=new M.LineTokens(s,_,u),c=S.ViewLineRenderingData.isBasicASCII(_,!0),C=S.ViewLineRenderingData.containsRTL(_,c,!0);let y=(0,g.renderViewLine2)(new g.RenderLineInput(!1,!0,_,!1,c,C,0,f,[],d,0,0,0,0,-1,"none",!1,!1,null));n=n.concat(y.html),n.push("<br/>")}return n.join("")}function l(h,d,u,n){let r=[],s=u.getInitialState();for(let o=0,m=h.length;o<m;o++){let _=h[o],f=u.tokenize2(_,!0,s,0);M.LineTokens.convertToEndOffset(f.tokens,_.length);let c=new M.LineTokens(f.tokens,_,n);const C=S.ViewLineRenderingData.isBasicASCII(_,!0),y=S.ViewLineRenderingData.containsRTL(_,C,!0);let w=(0,g.renderViewLine2)(new g.RenderLineInput(!1,!0,_,!1,C,y,0,c.inflate(),[],d,0,0,0,0,-1,"none",!1,!1,null));r=r.concat(w.html),r.push("<br/>"),s=f.endState}return r.join("")}}),define(ee[125],te([0,1,9]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IStandaloneThemeService=void 0,e.IStandaloneThemeService=(0,L.createDecorator)("themeService")}),define(ee[85],te([0,1,9]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IClipboardService=void 0,e.IClipboardService=(0,L.createDecorator)("clipboardService")}),define(ee[26],te([0,1,4,55,2,80,20,9]),function(Q,e,L,N,M,E,g,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NullCommandService=e.CommandsRegistry=e.ICommandService=void 0,e.ICommandService=(0,S.createDecorator)("commandService"),e.CommandsRegistry=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new L.Emitter,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(b,p){if(!b)throw new Error("invalid command");if(typeof b=="string"){if(!p)throw new Error("invalid command");return this.registerCommand({id:b,handler:p})}if(b.description){const l=[];for(let d of b.description.args)l.push(d.constraint);const h=b.handler;b.handler=function(d,...u){return(0,g.validateConstraints)(u,l),h(d,...u)}}const{id:v}=b;let i=this._commands.get(v);i||(i=new E.LinkedList,this._commands.set(v,i));let t=i.unshift(b),a=(0,M.toDisposable)(()=>{t();const l=this._commands.get(v);(l==null?void 0:l.isEmpty())&&this._commands.delete(v)});return this._onDidRegisterCommand.fire(v),a}registerCommandAlias(b,p){return e.CommandsRegistry.registerCommand(b,(v,...i)=>v.get(e.ICommandService).executeCommand(p,...i))}getCommand(b){const p=this._commands.get(b);if(!(!p||p.isEmpty()))return N.Iterable.first(p)}getCommands(){const b=new Map;for(const p of this._commands.keys()){const v=this.getCommand(p);v&&b.set(p,v)}return b}},e.NullCommandService={_serviceBrand:void 0,onWillExecuteCommand:()=>M.Disposable.None,onDidExecuteCommand:()=>M.Disposable.None,executeCommand(){return Promise.resolve(void 0)}},e.CommandsRegistry.registerCommand("noop",()=>{})}),define(ee[266],te([0,1,21,12,22,18,47,26,20,420,3]),function(Q,e,L,N,M,E,g,S,b,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDocumentRangeSemanticTokens=e.hasDocumentRangeSemanticTokensProvider=e.getDocumentSemanticTokens=e.hasDocumentSemanticTokensProvider=e.DocumentSemanticTokensResult=e.isSemanticTokensEdits=e.isSemanticTokens=void 0;function i(m){return m&&!!m.data}e.isSemanticTokens=i;function t(m){return m&&Array.isArray(m.edits)}e.isSemanticTokensEdits=t;class a{constructor(_,f,c){this.provider=_,this.tokens=f,this.error=c}}e.DocumentSemanticTokensResult=a;function l(m){return E.DocumentSemanticTokensProviderRegistry.has(m)}e.hasDocumentSemanticTokensProvider=l;function h(m){const _=E.DocumentSemanticTokensProviderRegistry.orderedGroups(m);return _.length>0?_[0]:[]}function d(m,_,f,c){return Me(this,void 0,void 0,function*(){const C=h(m),y=yield Promise.all(C.map(w=>Me(this,void 0,void 0,function*(){let D,I=null;try{D=yield w.provideDocumentSemanticTokens(m,w===_?f:null,c)}catch(T){I=T,D=null}return(!D||!i(D)&&!t(D))&&(D=null),new a(w,D,I)})));for(const w of y){if(w.error)throw w.error;if(w.tokens)return w}return y.length>0?y[0]:null})}e.getDocumentSemanticTokens=d;function u(m){const _=E.DocumentSemanticTokensProviderRegistry.orderedGroups(m);return _.length>0?_[0]:null}class n{constructor(_,f){this.provider=_,this.tokens=f}}function r(m){return E.DocumentRangeSemanticTokensProviderRegistry.has(m)}e.hasDocumentRangeSemanticTokensProvider=r;function s(m){const _=E.DocumentRangeSemanticTokensProviderRegistry.orderedGroups(m);return _.length>0?_[0]:[]}function o(m,_,f){return Me(this,void 0,void 0,function*(){const c=s(m),C=yield Promise.all(c.map(y=>Me(this,void 0,void 0,function*(){let w;try{w=yield y.provideDocumentRangeSemanticTokens(m,_,f)}catch(D){(0,N.onUnexpectedExternalError)(D),w=null}return(!w||!i(w))&&(w=null),new n(y,w)})));for(const y of C)if(y.tokens)return y;return C.length>0?C[0]:null})}e.getDocumentRangeSemanticTokens=o,S.CommandsRegistry.registerCommand("_provideDocumentSemanticTokensLegend",(m,..._)=>Me(void 0,void 0,void 0,function*(){const[f]=_;(0,b.assertType)(f instanceof M.URI);const c=m.get(g.IModelService).getModel(f);if(!c)return;const C=u(c);return C?C[0].getLegend():m.get(S.ICommandService).executeCommand("_provideDocumentRangeSemanticTokensLegend",f)})),S.CommandsRegistry.registerCommand("_provideDocumentSemanticTokens",(m,..._)=>Me(void 0,void 0,void 0,function*(){const[f]=_;(0,b.assertType)(f instanceof M.URI);const c=m.get(g.IModelService).getModel(f);if(!c)return;if(!l(c))return m.get(S.ICommandService).executeCommand("_provideDocumentRangeSemanticTokens",f,c.getFullModelRange());const C=yield d(c,null,null,L.CancellationToken.None);if(!C)return;const{provider:y,tokens:w}=C;if(!w||!i(w))return;const D=(0,p.encodeSemanticTokensDto)({id:0,type:"full",data:w.data});return w.resultId&&y.releaseDocumentSemanticTokens(w.resultId),D})),S.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokensLegend",(m,..._)=>Me(void 0,void 0,void 0,function*(){const[f,c]=_;(0,b.assertType)(f instanceof M.URI);const C=m.get(g.IModelService).getModel(f);if(!C)return;const y=s(C);if(y.length===0)return;if(y.length===1)return y[0].getLegend();if(!c||!v.Range.isIRange(c))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),y[0].getLegend();const w=yield o(C,v.Range.lift(c),L.CancellationToken.None);if(!!w)return w.provider.getLegend()})),S.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokens",(m,..._)=>Me(void 0,void 0,void 0,function*(){const[f,c]=_;(0,b.assertType)(f instanceof M.URI),(0,b.assertType)(v.Range.isIRange(c));const C=m.get(g.IModelService).getModel(f);if(!C)return;const y=yield o(C,v.Range.lift(c),L.CancellationToken.None);if(!(!y||!y.tokens))return(0,p.encodeSemanticTokensDto)({id:0,type:"full",data:y.tokens.data})}))}),define(ee[267],te([0,1,21,12,2,20,22,18,47,26]),function(Q,e,L,N,M,E,g,S,b,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeLensModel=e.CodeLensModel=void 0;class v{constructor(){this.lenses=[],this._disposables=new M.DisposableStore}dispose(){this._disposables.dispose()}add(a,l){this._disposables.add(a);for(const h of a.lenses)this.lenses.push({symbol:h,provider:l})}}e.CodeLensModel=v;function i(t,a){return Me(this,void 0,void 0,function*(){const l=S.CodeLensProviderRegistry.ordered(t),h=new Map,d=new v,u=l.map((n,r)=>Me(this,void 0,void 0,function*(){h.set(n,r);try{const s=yield Promise.resolve(n.provideCodeLenses(t,a));s&&d.add(s,n)}catch(s){(0,N.onUnexpectedExternalError)(s)}}));return yield Promise.all(u),d.lenses=d.lenses.sort((n,r)=>n.symbol.range.startLineNumber<r.symbol.range.startLineNumber?-1:n.symbol.range.startLineNumber>r.symbol.range.startLineNumber?1:h.get(n.provider)<h.get(r.provider)?-1:h.get(n.provider)>h.get(r.provider)?1:n.symbol.range.startColumn<r.symbol.range.startColumn?-1:n.symbol.range.startColumn>r.symbol.range.startColumn?1:0),d})}e.getCodeLensModel=i,p.CommandsRegistry.registerCommand("_executeCodeLensProvider",function(t,...a){let[l,h]=a;(0,E.assertType)(g.URI.isUri(l)),(0,E.assertType)(typeof h=="number"||!h);const d=t.get(b.IModelService).getModel(l);if(!d)throw(0,N.illegalArgument)();const u=[],n=new M.DisposableStore;return i(d,L.CancellationToken.None).then(r=>{n.add(r);let s=[];for(const o of r.lenses)h==null||Boolean(o.symbol.command)?u.push(o.symbol):h-- >0&&o.provider.resolveCodeLens&&s.push(Promise.resolve(o.provider.resolveCodeLens(d,o.symbol,L.CancellationToken.None)).then(m=>u.push(m||o.symbol)));return Promise.all(s)}).then(()=>u).finally(()=>{setTimeout(()=>n.dispose(),100)})})}),define(ee[268],te([0,1,21,12,22,3,18,47,26]),function(Q,e,L,N,M,E,g,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getColorPresentations=e.getColors=void 0;function p(i,t){const a=[],h=g.ColorProviderRegistry.ordered(i).reverse().map(d=>Promise.resolve(d.provideDocumentColors(i,t)).then(u=>{if(Array.isArray(u))for(let n of u)a.push({colorInfo:n,provider:d})}));return Promise.all(h).then(()=>a)}e.getColors=p;function v(i,t,a,l){return Promise.resolve(a.provideColorPresentations(i,t,l))}e.getColorPresentations=v,b.CommandsRegistry.registerCommand("_executeDocumentColorProvider",function(i,...t){const[a]=t;if(!(a instanceof M.URI))throw(0,N.illegalArgument)();const l=i.get(S.IModelService).getModel(a);if(!l)throw(0,N.illegalArgument)();const h=[],u=g.ColorProviderRegistry.ordered(l).reverse().map(n=>Promise.resolve(n.provideDocumentColors(l,L.CancellationToken.None)).then(r=>{if(Array.isArray(r))for(let s of r)h.push({range:s.range,color:[s.color.red,s.color.green,s.color.blue,s.color.alpha]})}));return Promise.all(u).then(()=>h)}),b.CommandsRegistry.registerCommand("_executeColorPresentationProvider",function(i,...t){const[a,l]=t,{uri:h,range:d}=l;if(!(h instanceof M.URI)||!Array.isArray(a)||a.length!==4||!E.Range.isIRange(d))throw(0,N.illegalArgument)();const[u,n,r,s]=a,o=i.get(S.IModelService).getModel(h);if(!o)throw(0,N.illegalArgument)();const m={range:d,color:{red:u,green:n,blue:r,alpha:s}},_=[],c=g.ColorProviderRegistry.ordered(o).reverse().map(C=>Promise.resolve(C.provideColorPresentations(o,m,L.CancellationToken.None)).then(y=>{Array.isArray(y)&&_.push(...y)}));return Promise.all(c).then(()=>_)})}),define(ee[591],te([0,1,21,20,22,47,68,264,26]),function(Q,e,L,N,M,E,g,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDocumentSymbols=void 0;function p(v,i,t){return Me(this,void 0,void 0,function*(){const a=yield S.OutlineModel.create(v,t);return i?a.asListOfDocumentSymbols():a.getTopLevelSymbols()})}e.getDocumentSymbols=p,b.CommandsRegistry.registerCommand("_executeDocumentSymbolProvider",function(v,...i){return Me(this,void 0,void 0,function*(){const[t]=i;(0,N.assertType)(M.URI.isUri(t));const a=v.get(E.IModelService).getModel(t);if(a)return p(a,!1,L.CancellationToken.None);const l=yield v.get(g.ITextModelService).createModelReference(t);try{return yield p(l.object.textEditorModel,!1,L.CancellationToken.None)}finally{l.dispose()}})})}),define(ee[592],te([0,1,19,21,12,2,20,22,3,18,47,26]),function(Q,e,L,N,M,E,g,S,b,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLinks=e.LinksList=e.Link=void 0;class t{constructor(d,u){this._link=d,this._provider=u}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(d){return Me(this,void 0,void 0,function*(){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,d)).then(u=>(this._link=u||this._link,this._link.url?this.resolve(d):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}e.Link=t;class a{constructor(d){this._disposables=new E.DisposableStore;let u=[];for(const[n,r]of d){const s=n.links.map(o=>new t(o,r));u=a._union(u,s),(0,E.isDisposable)(n)&&this._disposables.add(n)}this.links=u}dispose(){this._disposables.dispose(),this.links.length=0}static _union(d,u){let n=[],r,s,o,m;for(r=0,o=0,s=d.length,m=u.length;r<s&&o<m;){const _=d[r],f=u[o];if(b.Range.areIntersectingOrTouching(_.range,f.range)){r++;continue}b.Range.compareRangesUsingStarts(_.range,f.range)<0?(n.push(_),r++):(n.push(f),o++)}for(;r<s;r++)n.push(d[r]);for(;o<m;o++)n.push(u[o]);return n}}e.LinksList=a;function l(h,d){const u=[],n=p.LinkProviderRegistry.ordered(h).reverse().map((r,s)=>Promise.resolve(r.provideLinks(h,d)).then(o=>{o&&(u[s]=[o,r])},M.onUnexpectedExternalError));return Promise.all(n).then(()=>{const r=new a((0,L.coalesce)(u));return d.isCancellationRequested?(r.dispose(),new a([])):r})}e.getLinks=l,i.CommandsRegistry.registerCommand("_executeLinkProvider",(h,...d)=>Me(void 0,void 0,void 0,function*(){let[u,n]=d;(0,g.assertType)(u instanceof S.URI),typeof n!="number"&&(n=0);const r=h.get(v.IModelService).getModel(u);if(!r)return[];const s=yield l(r,N.CancellationToken.None);if(!s)return[];for(let m=0;m<Math.min(n,s.links.length);m++)yield s.links[m].resolve(N.CancellationToken.None);const o=s.links.slice(0);return s.dispose(),o}))}),define(ee[37],te([0,1,20,22,9]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMigratedSettingValue=e.merge=e.getConfigurationValue=e.removeFromValueTree=e.addToValueTree=e.toValuesTree=e.ConfigurationTargetToString=e.isConfigurationUpdateOverrides=e.isConfigurationOverrides=e.IConfigurationService=void 0,e.IConfigurationService=(0,M.createDecorator)("configurationService");function E(h){return h&&typeof h=="object"&&(!h.overrideIdentifier||typeof h.overrideIdentifier=="string")&&(!h.resource||h.resource instanceof N.URI)}e.isConfigurationOverrides=E;function g(h){return h&&typeof h=="object"&&(!h.overrideIdentifiers||L.isArray(h.overrideIdentifiers))&&!h.overrideIdentifier&&(!h.resource||h.resource instanceof N.URI)}e.isConfigurationUpdateOverrides=g;function S(h){switch(h){case 1:return"USER";case 2:return"USER_LOCAL";case 3:return"USER_REMOTE";case 4:return"WORKSPACE";case 5:return"WORKSPACE_FOLDER";case 6:return"DEFAULT";case 7:return"MEMORY"}}e.ConfigurationTargetToString=S;function b(h,d){const u=Object.create(null);for(let n in h)p(u,n,h[n],d);return u}e.toValuesTree=b;function p(h,d,u,n){const r=d.split("."),s=r.pop();let o=h;for(let m=0;m<r.length;m++){let _=r[m],f=o[_];switch(typeof f){case"undefined":f=o[_]=Object.create(null);break;case"object":break;default:n(`Ignoring ${d} as ${r.slice(0,m+1).join(".")} is ${JSON.stringify(f)}`);return}o=f}if(typeof o=="object"&&o!==null)try{o[s]=u}catch(m){n(`Ignoring ${d} as ${r.join(".")} is ${JSON.stringify(o)}`)}else n(`Ignoring ${d} as ${r.join(".")} is ${JSON.stringify(o)}`)}e.addToValueTree=p;function v(h,d){const u=d.split(".");i(h,u)}e.removeFromValueTree=v;function i(h,d){const u=d.shift();if(d.length===0){delete h[u];return}if(Object.keys(h).indexOf(u)!==-1){const n=h[u];typeof n=="object"&&!Array.isArray(n)&&(i(n,d),Object.keys(n).length===0&&delete h[u])}}function t(h,d,u){function n(o,m){let _=o;for(const f of m){if(typeof _!="object"||_===null)return;_=_[f]}return _}const r=d.split("."),s=n(h,r);return typeof s=="undefined"?u:s}e.getConfigurationValue=t;function a(h,d,u){Object.keys(d).forEach(n=>{n!=="__proto__"&&(n in h?L.isObject(h[n])&&L.isObject(d[n])?a(h[n],d[n],u):u&&(h[n]=d[n]):h[n]=d[n])})}e.merge=a;function l(h,d,u){const n=h.inspect(d),r=h.inspect(u);return typeof n.userValue!="undefined"||typeof n.workspaceValue!="undefined"||typeof n.workspaceFolderValue!="undefined"?n.value:typeof r.userValue!="undefined"||typeof r.workspaceValue!="undefined"||typeof r.workspaceFolderValue!="undefined"?r.value:n.defaultValue}e.getMigratedSettingValue=l});var Ce=this&&this.__param||function(Q,e){return function(L,N){e(L,N,Q)}};define(ee[40],te([0,1,4,2,8,149,118,150,413,417,414,416,178,9,37,39,74]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedLanguageConfiguration=e.LanguageConfigurationRegistry=e.LanguageConfigurationRegistryImpl=e.LanguageConfigurationChangeEvent=e.LanguageConfigurationService=e.ILanguageConfigurationService=e.LanguageConfigurationServiceChangeEvent=void 0;class u{constructor(I){this.languageId=I}affects(I){return this.languageId?this.languageId===I:!0}}e.LanguageConfigurationServiceChangeEvent=u,e.ILanguageConfigurationService=(0,a.createDecorator)("languageConfigurationService");let n=class extends N.Disposable{constructor(I,T){super();this.configurationService=I,this.modeService=T,this.onDidChangeEmitter=this._register(new L.Emitter),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const F=new Set(Object.values(s));this._register(this.configurationService.onDidChangeConfiguration(P=>{const R=P.change.keys.some(O=>F.has(O)),A=P.change.overrides.filter(([O,k])=>k.some(V=>F.has(V))).map(([O])=>this.modeService.validateLanguageId(O));if(R)this.configurations.clear(),this.onDidChangeEmitter.fire(new u(void 0));else for(const O of A)O&&(this.configurations.delete(O),this.onDidChangeEmitter.fire(new u(O)))})),this._register(e.LanguageConfigurationRegistry.onDidChange(P=>{this.configurations.delete(P.languageId),this.onDidChangeEmitter.fire(new u(P.languageId))}))}getLanguageConfiguration(I){let T=this.configurations.get(I);return T||(T=r(I,this.configurationService,this.modeService),this.configurations.set(I,T)),T}};n=Ve([Ce(0,l.IConfigurationService),Ce(1,h.IModeService)],n),e.LanguageConfigurationService=n;function r(D,I,T){let F=e.LanguageConfigurationRegistry.getLanguageConfiguration(D);if(!F){const O=T.validateLanguageId(D);if(!O)throw new Error("Unexpected languageId");F=new w(O,{})}const P=o(F.languageId,I),R=C([F.underlyingConfig,P]);return new w(F.languageId,R)}const s={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function o(D,I){const T=I.getValue(s.brackets,{overrideIdentifier:D}),F=I.getValue(s.colorizedBracketPairs,{overrideIdentifier:D});return{brackets:m(T),colorizedBracketPairs:m(F)}}function m(D){if(!!Array.isArray(D))return D.map(I=>{if(!(!Array.isArray(I)||I.length!==2))return[I[0],I[1]]}).filter(I=>!!I)}class _{constructor(I){this.languageId=I}}e.LanguageConfigurationChangeEvent=_;class f{constructor(){this._entries=new Map,this._onDidChange=new L.Emitter,this.onDidChange=this._onDidChange.event}register(I,T,F=0){let P=this._entries.get(I);P||(P=new c(I),this._entries.set(I,P));const R=P.register(T,F);return this._onDidChange.fire(new _(I)),(0,N.toDisposable)(()=>{R.dispose(),this._onDidChange.fire(new _(I))})}getLanguageConfiguration(I){let T=this._entries.get(I);return(T==null?void 0:T.getResolvedConfiguration())||null}getIndentationRules(I){const T=this.getLanguageConfiguration(I);return T&&T.indentationRules||null}_getElectricCharacterSupport(I){let T=this.getLanguageConfiguration(I);return T&&T.electricCharacter||null}getElectricCharacters(I){let T=this._getElectricCharacterSupport(I);return T?T.getElectricCharacters():[]}onElectricCharacter(I,T,F){let P=(0,S.createScopedLineTokens)(T,F-1),R=this._getElectricCharacterSupport(P.languageId);return R?R.onElectricCharacter(I,P,F-P.firstCharOffset):null}getComments(I){let T=this.getLanguageConfiguration(I);return T&&T.comments||null}_getCharacterPairSupport(I){let T=this.getLanguageConfiguration(I);return T&&T.characterPair||null}getAutoClosingPairs(I){const T=this._getCharacterPairSupport(I);return new g.AutoClosingPairs(T?T.getAutoClosingPairs():[])}getAutoCloseBeforeSet(I){let T=this._getCharacterPairSupport(I);return T?T.getAutoCloseBeforeSet():b.CharacterPairSupport.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED}getSurroundingPairs(I){let T=this._getCharacterPairSupport(I);return T?T.getSurroundingPairs():[]}getWordDefinition(I){let T=this.getLanguageConfiguration(I);return T?(0,E.ensureValidWordDefinition)(T.wordDefinition||null):(0,E.ensureValidWordDefinition)(null)}getWordDefinitions(){let I=[];for(const[T,F]of this._entries){const P=F.getResolvedConfiguration();P&&I.push([T,P.wordDefinition])}return I}getFoldingRules(I){let T=this.getLanguageConfiguration(I);return T?T.foldingRules:{}}getIndentRulesSupport(I){let T=this.getLanguageConfiguration(I);return T&&T.indentRulesSupport||null}getPrecedingValidLine(I,T,F){let P=I.getLanguageIdAtPosition(T,0);if(T>1){let R,A=-1;for(R=T-1;R>=1;R--){if(I.getLanguageIdAtPosition(R,0)!==P)return A;let O=I.getLineContent(R);if(F.shouldIgnore(O)||/^\s+$/.test(O)||O===""){A=R;continue}return R}}return-1}getInheritIndentForLine(I,T,F,P=!0){if(I<4)return null;const R=this.getIndentRulesSupport(T.getLanguageId());if(!R)return null;if(F<=1)return{indentation:"",action:null};const A=this.getPrecedingValidLine(T,F,R);if(A<0)return null;if(A<1)return{indentation:"",action:null};const O=T.getLineContent(A);if(R.shouldIncrease(O)||R.shouldIndentNextLine(O))return{indentation:M.getLeadingWhitespace(O),action:g.IndentAction.Indent,line:A};if(R.shouldDecrease(O))return{indentation:M.getLeadingWhitespace(O),action:null,line:A};{if(A===1)return{indentation:M.getLeadingWhitespace(T.getLineContent(A)),action:null,line:A};const k=A-1,V=R.getIndentMetadata(T.getLineContent(k));if(!(V&(1|2))&&V&4){let B=0;for(let x=k-1;x>0;x--)if(!R.shouldIndentNextLine(T.getLineContent(x))){B=x;break}return{indentation:M.getLeadingWhitespace(T.getLineContent(B+1)),action:null,line:B+1}}if(P)return{indentation:M.getLeadingWhitespace(T.getLineContent(A)),action:null,line:A};for(let B=A;B>0;B--){const x=T.getLineContent(B);if(R.shouldIncrease(x))return{indentation:M.getLeadingWhitespace(x),action:g.IndentAction.Indent,line:B};if(R.shouldIndentNextLine(x)){let K=0;for(let X=B-1;X>0;X--)if(!R.shouldIndentNextLine(T.getLineContent(B))){K=X;break}return{indentation:M.getLeadingWhitespace(T.getLineContent(K+1)),action:null,line:K+1}}else if(R.shouldDecrease(x))return{indentation:M.getLeadingWhitespace(x),action:null,line:B}}return{indentation:M.getLeadingWhitespace(T.getLineContent(1)),action:null,line:1}}}getGoodIndentForLine(I,T,F,P,R){if(I<4)return null;const A=this.getLanguageConfiguration(F);if(!A)return null;const O=this.getIndentRulesSupport(F);if(!O)return null;const k=this.getInheritIndentForLine(I,T,P),V=T.getLineContent(P);if(k){const B=k.line;if(B!==void 0){const x=A.onEnter(I,"",T.getLineContent(B),"");if(x){let K=M.getLeadingWhitespace(T.getLineContent(B));return x.removeText&&(K=K.substring(0,K.length-x.removeText)),x.indentAction===g.IndentAction.Indent||x.indentAction===g.IndentAction.IndentOutdent?K=R.shiftIndent(K):x.indentAction===g.IndentAction.Outdent&&(K=R.unshiftIndent(K)),O.shouldDecrease(V)&&(K=R.unshiftIndent(K)),x.appendText&&(K+=x.appendText),M.getLeadingWhitespace(K)}}return O.shouldDecrease(V)?k.action===g.IndentAction.Indent?k.indentation:R.unshiftIndent(k.indentation):k.action===g.IndentAction.Indent?R.shiftIndent(k.indentation):k.indentation}return null}getIndentForEnter(I,T,F,P){if(I<4)return null;T.forceTokenization(F.startLineNumber);const R=T.getLineTokens(F.startLineNumber),A=(0,S.createScopedLineTokens)(R,F.startColumn-1),O=A.getLineContent();let k=!1,V;A.firstCharOffset>0&&R.getLanguageId(0)!==A.languageId?(k=!0,V=O.substr(0,F.startColumn-1-A.firstCharOffset)):V=R.getLineContent().substring(0,F.startColumn-1);let B;F.isEmpty()?B=O.substr(F.startColumn-1-A.firstCharOffset):B=this.getScopedLineTokens(T,F.endLineNumber,F.endColumn).getLineContent().substr(F.endColumn-1-A.firstCharOffset);const x=this.getIndentRulesSupport(A.languageId);if(!x)return null;const K=V,X=M.getLeadingWhitespace(V),Z={getLineTokens:z=>T.getLineTokens(z),getLanguageId:()=>T.getLanguageId(),getLanguageIdAtPosition:(z,W)=>T.getLanguageIdAtPosition(z,W),getLineContent:z=>z===F.startLineNumber?K:T.getLineContent(z)},q=M.getLeadingWhitespace(R.getLineContent()),H=this.getInheritIndentForLine(I,Z,F.startLineNumber+1);if(!H){const z=k?q:X;return{beforeEnter:z,afterEnter:z}}let G=k?q:H.indentation;return H.action===g.IndentAction.Indent&&(G=P.shiftIndent(G)),x.shouldDecrease(B)&&(G=P.unshiftIndent(G)),{beforeEnter:k?q:X,afterEnter:G}}getIndentActionForType(I,T,F,P,R){if(I<4)return null;const A=this.getScopedLineTokens(T,F.startLineNumber,F.startColumn);if(A.firstCharOffset)return null;const O=this.getIndentRulesSupport(A.languageId);if(!O)return null;const k=A.getLineContent(),V=k.substr(0,F.startColumn-1-A.firstCharOffset);let B;if(F.isEmpty()?B=k.substr(F.startColumn-1-A.firstCharOffset):B=this.getScopedLineTokens(T,F.endLineNumber,F.endColumn).getLineContent().substr(F.endColumn-1-A.firstCharOffset),!O.shouldDecrease(V+B)&&O.shouldDecrease(V+P+B)){const x=this.getInheritIndentForLine(I,T,F.startLineNumber,!1);if(!x)return null;let K=x.indentation;return x.action!==g.IndentAction.Indent&&(K=R.unshiftIndent(K)),K}return null}getIndentMetadata(I,T){const F=this.getIndentRulesSupport(I.getLanguageId());return!F||T<1||T>I.getLineCount()?null:F.getIndentMetadata(I.getLineContent(T))}getEnterAction(I,T,F){const P=this.getScopedLineTokens(T,F.startLineNumber,F.startColumn),R=this.getLanguageConfiguration(P.languageId);if(!R)return null;const A=P.getLineContent(),O=A.substr(0,F.startColumn-1-P.firstCharOffset);let k;F.isEmpty()?k=A.substr(F.startColumn-1-P.firstCharOffset):k=this.getScopedLineTokens(T,F.endLineNumber,F.endColumn).getLineContent().substr(F.endColumn-1-P.firstCharOffset);let V="";if(F.startLineNumber>1&&P.firstCharOffset===0){const q=this.getScopedLineTokens(T,F.startLineNumber-1);q.languageId===P.languageId&&(V=q.getLineContent())}const B=R.onEnter(I,V,O,k);if(!B)return null;const x=B.indentAction;let K=B.appendText;const X=B.removeText||0;K?x===g.IndentAction.Indent&&(K="	"+K):x===g.IndentAction.Indent||x===g.IndentAction.IndentOutdent?K="	":K="";let Z=this.getIndentationAtPosition(T,F.startLineNumber,F.startColumn);return X&&(Z=Z.substring(0,Z.length-X)),{indentAction:x,appendText:K,removeText:X,indentation:Z}}getIndentationAtPosition(I,T,F){const P=I.getLineContent(T);let R=M.getLeadingWhitespace(P);return R.length>F-1&&(R=R.substring(0,F-1)),R}getScopedLineTokens(I,T,F){I.forceTokenization(T);const P=I.getLineTokens(T),R=typeof F=="undefined"?I.getLineMaxColumn(T)-1:F-1;return(0,S.createScopedLineTokens)(P,R)}getBracketsSupport(I){const T=this.getLanguageConfiguration(I);return T&&T.brackets||null}getColorizedBracketPairs(I){var T;return((T=this.getLanguageConfiguration(I))===null||T===void 0?void 0:T.characterPair.getColorizedBrackets())||[]}}e.LanguageConfigurationRegistryImpl=f,e.LanguageConfigurationRegistry=new f;class c{constructor(I){this.languageId=I,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(I,T){const F=new y(I,T,++this._order);return this._entries.push(F),this._resolved=null,(0,N.toDisposable)(()=>{for(let P=0;P<this._entries.length;P++)if(this._entries[P]===F){this._entries.splice(P,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const I=this._resolve();I&&(this._resolved=new w(this.languageId,I))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(y.cmp),C(this._entries.map(I=>I.configuration)))}}function C(D){let I={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const T of D)I={comments:T.comments||I.comments,brackets:T.brackets||I.brackets,wordPattern:T.wordPattern||I.wordPattern,indentationRules:T.indentationRules||I.indentationRules,onEnterRules:T.onEnterRules||I.onEnterRules,autoClosingPairs:T.autoClosingPairs||I.autoClosingPairs,surroundingPairs:T.surroundingPairs||I.surroundingPairs,autoCloseBefore:T.autoCloseBefore||I.autoCloseBefore,folding:T.folding||I.folding,colorizedBracketPairs:T.colorizedBracketPairs||I.colorizedBracketPairs,__electricCharacterSupport:T.__electricCharacterSupport||I.__electricCharacterSupport};return I}class y{constructor(I,T,F){this.configuration=I,this.priority=T,this.order=F}static cmp(I,T){return I.priority===T.priority?I.order-T.order:I.priority-T.priority}}class w{constructor(I,T){this.languageId=I,this.underlyingConfig=T,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new i.OnEnterSupport(this.underlyingConfig):null,this.comments=w._handleComments(this.underlyingConfig),this.characterPair=new b.CharacterPairSupport(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||E.DEFAULT_WORD_REGEXP,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new v.IndentRulesSupport(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{}}getWordDefinition(){return(0,E.ensureValidWordDefinition)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new t.RichEditBrackets(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new p.BracketElectricCharacterSupport(this.brackets)),this._electricCharacter}onEnter(I,T,F,P){return this._onEnterSupport?this._onEnterSupport.onEnter(I,T,F,P):null}static _handleComments(I){let T=I.comments;if(!T)return null;let F={};if(T.lineComment&&(F.lineCommentToken=T.lineComment),T.blockComment){let[P,R]=T.blockComment;F.blockCommentStartToken=P,F.blockCommentEndToken=R}return F}}e.ResolvedLanguageConfiguration=w,(0,d.registerSingleton)(e.ILanguageConfigurationService,n)}),define(ee[269],te([0,1,60,13,3,23,40]),function(Q,e,L,N,M,E,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlockCommentCommand=void 0;class S{constructor(p,v){this._selection=p,this._insertSpace=v,this._usedEndToken=null}static _haystackHasNeedleAtOffset(p,v,i){if(i<0)return!1;const t=v.length,a=p.length;if(i+t>a)return!1;for(let l=0;l<t;l++){const h=p.charCodeAt(i+l),d=v.charCodeAt(l);if(h!==d&&!(h>=65&&h<=90&&h+32===d)&&!(d>=65&&d<=90&&d+32===h))return!1}return!0}_createOperationsForBlockComment(p,v,i,t,a,l){const h=p.startLineNumber,d=p.startColumn,u=p.endLineNumber,n=p.endColumn,r=a.getLineContent(h),s=a.getLineContent(u);let o=r.lastIndexOf(v,d-1+v.length),m=s.indexOf(i,n-1-i.length);if(o!==-1&&m!==-1)if(h===u)r.substring(o+v.length,m).indexOf(i)>=0&&(o=-1,m=-1);else{const f=r.substring(o+v.length),c=s.substring(0,m);(f.indexOf(i)>=0||c.indexOf(i)>=0)&&(o=-1,m=-1)}let _;o!==-1&&m!==-1?(t&&o+v.length<r.length&&r.charCodeAt(o+v.length)===32&&(v=v+" "),t&&m>0&&s.charCodeAt(m-1)===32&&(i=" "+i,m-=1),_=S._createRemoveBlockCommentOperations(new M.Range(h,o+v.length+1,u,m+1),v,i)):(_=S._createAddBlockCommentOperations(p,v,i,this._insertSpace),this._usedEndToken=_.length===1?i:null);for(const f of _)l.addTrackedEditOperation(f.range,f.text)}static _createRemoveBlockCommentOperations(p,v,i){let t=[];return M.Range.isEmpty(p)?t.push(L.EditOperation.delete(new M.Range(p.startLineNumber,p.startColumn-v.length,p.endLineNumber,p.endColumn+i.length))):(t.push(L.EditOperation.delete(new M.Range(p.startLineNumber,p.startColumn-v.length,p.startLineNumber,p.startColumn))),t.push(L.EditOperation.delete(new M.Range(p.endLineNumber,p.endColumn,p.endLineNumber,p.endColumn+i.length)))),t}static _createAddBlockCommentOperations(p,v,i,t){let a=[];return M.Range.isEmpty(p)?a.push(L.EditOperation.replace(new M.Range(p.startLineNumber,p.startColumn,p.endLineNumber,p.endColumn),v+"  "+i)):(a.push(L.EditOperation.insert(new N.Position(p.startLineNumber,p.startColumn),v+(t?" ":""))),a.push(L.EditOperation.insert(new N.Position(p.endLineNumber,p.endColumn),(t?" ":"")+i))),a}getEditOperations(p,v){const i=this._selection.startLineNumber,t=this._selection.startColumn;p.tokenizeIfCheap(i);const a=p.getLanguageIdAtPosition(i,t),l=g.LanguageConfigurationRegistry.getComments(a);!l||!l.blockCommentStartToken||!l.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,l.blockCommentStartToken,l.blockCommentEndToken,this._insertSpace,p,v)}computeCursorState(p,v){const i=v.getInverseEditOperations();if(i.length===2){const t=i[0],a=i[1];return new E.Selection(t.range.endLineNumber,t.range.endColumn,a.range.startLineNumber,a.range.startColumn)}else{const t=i[0].range,a=this._usedEndToken?-this._usedEndToken.length-1:0;return new E.Selection(t.endLineNumber,t.endColumn+a,t.endLineNumber,t.endColumn+a)}}}e.BlockCommentCommand=S}),define(ee[593],te([0,1,8,60,13,3,23,40,269]),function(Q,e,L,N,M,E,g,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineCommentCommand=void 0;class p{constructor(i,t,a,l,h,d){this._selection=i,this._tabSize=t,this._type=a,this._insertSpace=l,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=h,this._ignoreFirstLine=d||!1}static _gatherPreflightCommentStrings(i,t,a){i.tokenizeIfCheap(t);const l=i.getLanguageIdAtPosition(t,1),h=S.LanguageConfigurationRegistry.getComments(l),d=h?h.lineCommentToken:null;if(!d)return null;let u=[];for(let n=0,r=a-t+1;n<r;n++)u[n]={ignore:!1,commentStr:d,commentStrOffset:0,commentStrLength:d.length};return u}static _analyzeLines(i,t,a,l,h,d,u){let n=!0,r;i===0?r=!0:i===1?r=!1:r=!0;for(let s=0,o=l.length;s<o;s++){const m=l[s],_=h+s;if(_===h&&u){m.ignore=!0;continue}const f=a.getLineContent(_),c=L.firstNonWhitespaceIndex(f);if(c===-1){m.ignore=d,m.commentStrOffset=f.length;continue}if(n=!1,m.ignore=!1,m.commentStrOffset=c,r&&!b.BlockCommentCommand._haystackHasNeedleAtOffset(f,m.commentStr,c)&&(i===0?r=!1:i===1||(m.ignore=!0)),r&&t){const C=c+m.commentStrLength;C<f.length&&f.charCodeAt(C)===32&&(m.commentStrLength+=1)}}if(i===0&&n){r=!1;for(let s=0,o=l.length;s<o;s++)l[s].ignore=!1}return{supported:!0,shouldRemoveComments:r,lines:l}}static _gatherPreflightData(i,t,a,l,h,d,u){const n=p._gatherPreflightCommentStrings(a,l,h);return n===null?{supported:!1}:p._analyzeLines(i,t,a,n,l,d,u)}_executeLineComments(i,t,a,l){let h;a.shouldRemoveComments?h=p._createRemoveLineCommentsOperations(a.lines,l.startLineNumber):(p._normalizeInsertionPoint(i,a.lines,l.startLineNumber,this._tabSize),h=this._createAddLineCommentsOperations(a.lines,l.startLineNumber));const d=new M.Position(l.positionLineNumber,l.positionColumn);for(let u=0,n=h.length;u<n;u++)t.addEditOperation(h[u].range,h[u].text),E.Range.isEmpty(h[u].range)&&E.Range.getStartPosition(h[u].range).equals(d)&&i.getLineContent(d.lineNumber).length+1===d.column&&(this._deltaColumn=(h[u].text||"").length);this._selectionId=t.trackSelection(l)}_attemptRemoveBlockComment(i,t,a,l){let h=t.startLineNumber,d=t.endLineNumber,u=l.length+Math.max(i.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.startColumn),n=i.getLineContent(h).lastIndexOf(a,u-1),r=i.getLineContent(d).indexOf(l,t.endColumn-1-a.length);return n!==-1&&r===-1&&(r=i.getLineContent(h).indexOf(l,n+a.length),d=h),n===-1&&r!==-1&&(n=i.getLineContent(d).lastIndexOf(a,r),h=d),t.isEmpty()&&(n===-1||r===-1)&&(n=i.getLineContent(h).indexOf(a),n!==-1&&(r=i.getLineContent(h).indexOf(l,n+a.length))),n!==-1&&i.getLineContent(h).charCodeAt(n+a.length)===32&&(a+=" "),r!==-1&&i.getLineContent(d).charCodeAt(r-1)===32&&(l=" "+l,r-=1),n!==-1&&r!==-1?b.BlockCommentCommand._createRemoveBlockCommentOperations(new E.Range(h,n+a.length+1,d,r+1),a,l):null}_executeBlockComment(i,t,a){i.tokenizeIfCheap(a.startLineNumber);let l=i.getLanguageIdAtPosition(a.startLineNumber,1),h=S.LanguageConfigurationRegistry.getComments(l);if(!h||!h.blockCommentStartToken||!h.blockCommentEndToken)return;const d=h.blockCommentStartToken,u=h.blockCommentEndToken;let n=this._attemptRemoveBlockComment(i,a,d,u);if(!n){if(a.isEmpty()){const r=i.getLineContent(a.startLineNumber);let s=L.firstNonWhitespaceIndex(r);s===-1&&(s=r.length),n=b.BlockCommentCommand._createAddBlockCommentOperations(new E.Range(a.startLineNumber,s+1,a.startLineNumber,r.length+1),d,u,this._insertSpace)}else n=b.BlockCommentCommand._createAddBlockCommentOperations(new E.Range(a.startLineNumber,i.getLineFirstNonWhitespaceColumn(a.startLineNumber),a.endLineNumber,i.getLineMaxColumn(a.endLineNumber)),d,u,this._insertSpace);n.length===1&&(this._deltaColumn=d.length+1)}this._selectionId=t.trackSelection(a);for(const r of n)t.addEditOperation(r.range,r.text)}getEditOperations(i,t){let a=this._selection;if(this._moveEndPositionDown=!1,a.startLineNumber===a.endLineNumber&&this._ignoreFirstLine){t.addEditOperation(new E.Range(a.startLineNumber,i.getLineMaxColumn(a.startLineNumber),a.startLineNumber+1,1),a.startLineNumber===i.getLineCount()?"":`
`),this._selectionId=t.trackSelection(a);return}a.startLineNumber<a.endLineNumber&&a.endColumn===1&&(this._moveEndPositionDown=!0,a=a.setEndPosition(a.endLineNumber-1,i.getLineMaxColumn(a.endLineNumber-1)));const l=p._gatherPreflightData(this._type,this._insertSpace,i,a.startLineNumber,a.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine);return l.supported?this._executeLineComments(i,t,l,a):this._executeBlockComment(i,t,a)}computeCursorState(i,t){let a=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(a=a.setEndPosition(a.endLineNumber+1,1)),new g.Selection(a.selectionStartLineNumber,a.selectionStartColumn+this._deltaColumn,a.positionLineNumber,a.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(i,t){let a=[];for(let l=0,h=i.length;l<h;l++){const d=i[l];d.ignore||a.push(N.EditOperation.delete(new E.Range(t+l,d.commentStrOffset+1,t+l,d.commentStrOffset+d.commentStrLength+1)))}return a}_createAddLineCommentsOperations(i,t){let a=[];const l=this._insertSpace?" ":"";for(let h=0,d=i.length;h<d;h++){const u=i[h];u.ignore||a.push(N.EditOperation.insert(new M.Position(t+h,u.commentStrOffset+1),u.commentStr+l))}return a}static nextVisibleColumn(i,t,a,l){return a?i+(t-i%t):i+l}static _normalizeInsertionPoint(i,t,a,l){let h=1073741824,d,u;for(let n=0,r=t.length;n<r;n++){if(t[n].ignore)continue;const s=i.getLineContent(a+n);let o=0;for(let m=0,_=t[n].commentStrOffset;o<h&&m<_;m++)o=p.nextVisibleColumn(o,l,s.charCodeAt(m)===9,1);o<h&&(h=o)}h=Math.floor(h/l)*l;for(let n=0,r=t.length;n<r;n++){if(t[n].ignore)continue;const s=i.getLineContent(a+n);let o=0;for(d=0,u=t[n].commentStrOffset;o<h&&d<u;d++)o=p.nextVisibleColumn(o,l,s.charCodeAt(d)===9,1);o>h?t[n].commentStrOffset=d-1:t[n].commentStrOffset=d}}}e.LineCommentCommand=p}),define(ee[17],te([0,1,15,8,9]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.implies=e.SET_CONTEXT_COMMAND_ID=e.IContextKeyService=e.RawContextKey=e.ContextKeyNotRegexExpr=e.ContextKeyRegexExpr=e.ContextKeySmallerEqualsExpr=e.ContextKeySmallerExpr=e.ContextKeyGreaterEqualsExpr=e.ContextKeyGreaterExpr=e.ContextKeyNotExpr=e.ContextKeyNotEqualsExpr=e.ContextKeyNotInExpr=e.ContextKeyInExpr=e.ContextKeyEqualsExpr=e.ContextKeyDefinedExpr=e.ContextKeyTrueExpr=e.ContextKeyFalseExpr=e.expressionsAreEqualWithConstantSubstitution=e.ContextKeyExpr=void 0;let E=L.userAgent||"";const g=new Map;g.set("false",!1),g.set("true",!0),g.set("isMac",L.isMacintosh),g.set("isLinux",L.isLinux),g.set("isWindows",L.isWindows),g.set("isWeb",L.isWeb),g.set("isMacNative",L.isMacintosh&&!L.isWeb),g.set("isEdge",E.indexOf("Edg/")>=0),g.set("isFirefox",E.indexOf("Firefox")>=0),g.set("isChrome",E.indexOf("Chrome")>=0),g.set("isSafari",E.indexOf("Safari")>=0);const S=Object.prototype.hasOwnProperty;class b{static false(){return i.INSTANCE}static true(){return t.INSTANCE}static has(A){return a.create(A)}static equals(A,O){return l.create(A,O)}static notEquals(A,O){return u.create(A,O)}static regex(A,O){return f.create(A,O)}static in(A,O){return h.create(A,O)}static not(A){return n.create(A)}static and(...A){return y.create(A,null)}static or(...A){return w.create(A,null,!0)}static greater(A,O){return s.create(A,O)}static greaterEquals(A,O){return o.create(A,O)}static smaller(A,O){return m.create(A,O)}static smallerEquals(A,O){return _.create(A,O)}static deserialize(A,O=!1){if(!!A)return this._deserializeOrExpression(A,O)}static _deserializeOrExpression(A,O){let k=A.split("||");return w.create(k.map(V=>this._deserializeAndExpression(V,O)),null,!0)}static _deserializeAndExpression(A,O){let k=A.split("&&");return y.create(k.map(V=>this._deserializeOne(V,O)),null)}static _deserializeOne(A,O){if(A=A.trim(),A.indexOf("!=")>=0){let k=A.split("!=");return u.create(k[0].trim(),this._deserializeValue(k[1],O))}if(A.indexOf("==")>=0){let k=A.split("==");return l.create(k[0].trim(),this._deserializeValue(k[1],O))}if(A.indexOf("=~")>=0){let k=A.split("=~");return f.create(k[0].trim(),this._deserializeRegexValue(k[1],O))}if(A.indexOf(" in ")>=0){let k=A.split(" in ");return h.create(k[0].trim(),k[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(A)){const k=A.split(">=");return o.create(k[0].trim(),k[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(A)){const k=A.split(">");return s.create(k[0].trim(),k[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(A)){const k=A.split("<=");return _.create(k[0].trim(),k[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(A)){const k=A.split("<");return m.create(k[0].trim(),k[1].trim())}return/^\!\s*/.test(A)?n.create(A.substr(1).trim()):a.create(A)}static _deserializeValue(A,O){if(A=A.trim(),A==="true")return!0;if(A==="false")return!1;let k=/^'([^']*)'$/.exec(A);return k?k[1].trim():A}static _deserializeRegexValue(A,O){if((0,N.isFalsyOrWhitespace)(A)){if(O)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}let k=A.indexOf("/"),V=A.lastIndexOf("/");if(k===V||k<0){if(O)throw new Error(`bad regexp-value '${A}', missing /-enclosure`);return console.warn(`bad regexp-value '${A}', missing /-enclosure`),null}let B=A.slice(k+1,V),x=A[V+1]==="i"?"i":"";try{return new RegExp(B,x)}catch(K){if(O)throw new Error(`bad regexp-value '${A}', parse error: ${K}`);return console.warn(`bad regexp-value '${A}', parse error: ${K}`),null}}}e.ContextKeyExpr=b;function p(R,A){const O=R?R.substituteConstants():void 0,k=A?A.substituteConstants():void 0;return!O&&!k?!0:!O||!k?!1:O.equals(k)}e.expressionsAreEqualWithConstantSubstitution=p;function v(R,A){return R.cmp(A)}class i{constructor(){this.type=0}cmp(A){return this.type-A.type}equals(A){return A.type===this.type}substituteConstants(){return this}evaluate(A){return!1}serialize(){return"false"}keys(){return[]}map(A){return this}negate(){return t.INSTANCE}}e.ContextKeyFalseExpr=i,i.INSTANCE=new i;class t{constructor(){this.type=1}cmp(A){return this.type-A.type}equals(A){return A.type===this.type}substituteConstants(){return this}evaluate(A){return!0}serialize(){return"true"}keys(){return[]}map(A){return this}negate(){return i.INSTANCE}}e.ContextKeyTrueExpr=t,t.INSTANCE=new t;class a{constructor(A,O){this.key=A,this.negated=O,this.type=2}static create(A,O=null){const k=g.get(A);return typeof k=="boolean"?k?t.INSTANCE:i.INSTANCE:new a(A,O)}cmp(A){return A.type!==this.type?this.type-A.type:I(this.key,A.key)}equals(A){return A.type===this.type?this.key===A.key:!1}substituteConstants(){const A=g.get(this.key);return typeof A=="boolean"?A?t.INSTANCE:i.INSTANCE:this}evaluate(A){return!!A.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}map(A){return A.mapDefined(this.key)}negate(){return this.negated||(this.negated=n.create(this.key,this)),this.negated}}e.ContextKeyDefinedExpr=a;class l{constructor(A,O,k){this.key=A,this.value=O,this.negated=k,this.type=4}static create(A,O,k=null){if(typeof O=="boolean")return O?a.create(A,k):n.create(A,k);const V=g.get(A);return typeof V=="boolean"?O===(V?"true":"false")?t.INSTANCE:i.INSTANCE:new l(A,O,k)}cmp(A){return A.type!==this.type?this.type-A.type:T(this.key,this.value,A.key,A.value)}equals(A){return A.type===this.type?this.key===A.key&&this.value===A.value:!1}substituteConstants(){const A=g.get(this.key);if(typeof A=="boolean"){const O=A?"true":"false";return this.value===O?t.INSTANCE:i.INSTANCE}return this}evaluate(A){return A.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}map(A){return A.mapEquals(this.key,this.value)}negate(){return this.negated||(this.negated=u.create(this.key,this.value,this)),this.negated}}e.ContextKeyEqualsExpr=l;class h{constructor(A,O){this.key=A,this.valueKey=O,this.type=10,this.negated=null}static create(A,O){return new h(A,O)}cmp(A){return A.type!==this.type?this.type-A.type:T(this.key,this.valueKey,A.key,A.valueKey)}equals(A){return A.type===this.type?this.key===A.key&&this.valueKey===A.valueKey:!1}substituteConstants(){return this}evaluate(A){const O=A.getValue(this.valueKey),k=A.getValue(this.key);return Array.isArray(O)?O.indexOf(k)>=0:typeof k=="string"&&typeof O=="object"&&O!==null?S.call(O,k):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}map(A){return A.mapIn(this.key,this.valueKey)}negate(){return this.negated||(this.negated=d.create(this)),this.negated}}e.ContextKeyInExpr=h;class d{constructor(A){this._actual=A,this.type=11}static create(A){return new d(A)}cmp(A){return A.type!==this.type?this.type-A.type:this._actual.cmp(A._actual)}equals(A){return A.type===this.type?this._actual.equals(A._actual):!1}substituteConstants(){return this}evaluate(A){return!this._actual.evaluate(A)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}map(A){return new d(this._actual.map(A))}negate(){return this._actual}}e.ContextKeyNotInExpr=d;class u{constructor(A,O,k){this.key=A,this.value=O,this.negated=k,this.type=5}static create(A,O,k=null){if(typeof O=="boolean")return O?n.create(A,k):a.create(A,k);const V=g.get(A);return typeof V=="boolean"?O===(V?"true":"false")?i.INSTANCE:t.INSTANCE:new u(A,O,k)}cmp(A){return A.type!==this.type?this.type-A.type:T(this.key,this.value,A.key,A.value)}equals(A){return A.type===this.type?this.key===A.key&&this.value===A.value:!1}substituteConstants(){const A=g.get(this.key);if(typeof A=="boolean"){const O=A?"true":"false";return this.value===O?i.INSTANCE:t.INSTANCE}return this}evaluate(A){return A.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}map(A){return A.mapNotEquals(this.key,this.value)}negate(){return this.negated||(this.negated=l.create(this.key,this.value,this)),this.negated}}e.ContextKeyNotEqualsExpr=u;class n{constructor(A,O){this.key=A,this.negated=O,this.type=3}static create(A,O=null){const k=g.get(A);return typeof k=="boolean"?k?i.INSTANCE:t.INSTANCE:new n(A,O)}cmp(A){return A.type!==this.type?this.type-A.type:I(this.key,A.key)}equals(A){return A.type===this.type?this.key===A.key:!1}substituteConstants(){const A=g.get(this.key);return typeof A=="boolean"?A?i.INSTANCE:t.INSTANCE:this}evaluate(A){return!A.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}map(A){return A.mapNot(this.key)}negate(){return this.negated||(this.negated=a.create(this.key,this)),this.negated}}e.ContextKeyNotExpr=n;function r(R,A){if(typeof R=="string"){const O=parseFloat(R);isNaN(O)||(R=O)}return typeof R=="string"||typeof R=="number"?A(R):i.INSTANCE}class s{constructor(A,O,k){this.key=A,this.value=O,this.negated=k,this.type=12}static create(A,O,k=null){return r(O,V=>new s(A,V,k))}cmp(A){return A.type!==this.type?this.type-A.type:T(this.key,this.value,A.key,A.value)}equals(A){return A.type===this.type?this.key===A.key&&this.value===A.value:!1}substituteConstants(){return this}evaluate(A){return typeof this.value=="string"?!1:parseFloat(A.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}map(A){return A.mapGreater(this.key,this.value)}negate(){return this.negated||(this.negated=_.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterExpr=s;class o{constructor(A,O,k){this.key=A,this.value=O,this.negated=k,this.type=13}static create(A,O,k=null){return r(O,V=>new o(A,V,k))}cmp(A){return A.type!==this.type?this.type-A.type:T(this.key,this.value,A.key,A.value)}equals(A){return A.type===this.type?this.key===A.key&&this.value===A.value:!1}substituteConstants(){return this}evaluate(A){return typeof this.value=="string"?!1:parseFloat(A.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}map(A){return A.mapGreaterEquals(this.key,this.value)}negate(){return this.negated||(this.negated=m.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterEqualsExpr=o;class m{constructor(A,O,k){this.key=A,this.value=O,this.negated=k,this.type=14}static create(A,O,k=null){return r(O,V=>new m(A,V,k))}cmp(A){return A.type!==this.type?this.type-A.type:T(this.key,this.value,A.key,A.value)}equals(A){return A.type===this.type?this.key===A.key&&this.value===A.value:!1}substituteConstants(){return this}evaluate(A){return typeof this.value=="string"?!1:parseFloat(A.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}map(A){return A.mapSmaller(this.key,this.value)}negate(){return this.negated||(this.negated=o.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerExpr=m;class _{constructor(A,O,k){this.key=A,this.value=O,this.negated=k,this.type=15}static create(A,O,k=null){return r(O,V=>new _(A,V,k))}cmp(A){return A.type!==this.type?this.type-A.type:T(this.key,this.value,A.key,A.value)}equals(A){return A.type===this.type?this.key===A.key&&this.value===A.value:!1}substituteConstants(){return this}evaluate(A){return typeof this.value=="string"?!1:parseFloat(A.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}map(A){return A.mapSmallerEquals(this.key,this.value)}negate(){return this.negated||(this.negated=s.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerEqualsExpr=_;class f{constructor(A,O){this.key=A,this.regexp=O,this.type=7,this.negated=null}static create(A,O){return new f(A,O)}cmp(A){if(A.type!==this.type)return this.type-A.type;if(this.key<A.key)return-1;if(this.key>A.key)return 1;const O=this.regexp?this.regexp.source:"",k=A.regexp?A.regexp.source:"";return O<k?-1:O>k?1:0}equals(A){if(A.type===this.type){const O=this.regexp?this.regexp.source:"",k=A.regexp?A.regexp.source:"";return this.key===A.key&&O===k}return!1}substituteConstants(){return this}evaluate(A){let O=A.getValue(this.key);return this.regexp?this.regexp.test(O):!1}serialize(){const A=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${A}`}keys(){return[this.key]}map(A){return A.mapRegex(this.key,this.regexp)}negate(){return this.negated||(this.negated=c.create(this)),this.negated}}e.ContextKeyRegexExpr=f;class c{constructor(A){this._actual=A,this.type=8}static create(A){return new c(A)}cmp(A){return A.type!==this.type?this.type-A.type:this._actual.cmp(A._actual)}equals(A){return A.type===this.type?this._actual.equals(A._actual):!1}substituteConstants(){return this}evaluate(A){return!this._actual.evaluate(A)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}map(A){return new c(this._actual.map(A))}negate(){return this._actual}}e.ContextKeyNotRegexExpr=c;function C(R){let A=null;for(let O=0,k=R.length;O<k;O++){const V=R[O].substituteConstants();if(R[O]!==V&&A===null){A=[];for(let B=0;B<O;B++)A[B]=R[B]}A!==null&&(A[O]=V)}return A===null?R:A}class y{constructor(A,O){this.expr=A,this.negated=O,this.type=6}static create(A,O){return y._normalizeArr(A,O)}cmp(A){if(A.type!==this.type)return this.type-A.type;if(this.expr.length<A.expr.length)return-1;if(this.expr.length>A.expr.length)return 1;for(let O=0,k=this.expr.length;O<k;O++){const V=v(this.expr[O],A.expr[O]);if(V!==0)return V}return 0}equals(A){if(A.type===this.type){if(this.expr.length!==A.expr.length)return!1;for(let O=0,k=this.expr.length;O<k;O++)if(!this.expr[O].equals(A.expr[O]))return!1;return!0}return!1}substituteConstants(){const A=C(this.expr);return A===this.expr?this:y.create(A,this.negated)}evaluate(A){for(let O=0,k=this.expr.length;O<k;O++)if(!this.expr[O].evaluate(A))return!1;return!0}static _normalizeArr(A,O){const k=[];let V=!1;for(const B of A)if(!!B){if(B.type===1){V=!0;continue}if(B.type===0)return i.INSTANCE;if(B.type===6){k.push(...B.expr);continue}k.push(B)}if(k.length===0&&V)return t.INSTANCE;if(k.length!==0){if(k.length===1)return k[0];k.sort(v);for(let B=1;B<k.length;B++)k[B-1].equals(k[B])&&(k.splice(B,1),B--);if(k.length===1)return k[0];for(;k.length>1;){const B=k[k.length-1];if(B.type!==9)break;k.pop();const x=k.pop(),K=k.length===0,X=w.create(B.expr.map(Z=>y.create([Z,x],null)),null,K);X&&(k.push(X),k.sort(v))}return k.length===1?k[0]:new y(k,O)}}serialize(){return this.expr.map(A=>A.serialize()).join(" && ")}keys(){const A=[];for(let O of this.expr)A.push(...O.keys());return A}map(A){return new y(this.expr.map(O=>O.map(A)),null)}negate(){if(!this.negated){const A=[];for(let O of this.expr)A.push(O.negate());this.negated=w.create(A,this,!0)}return this.negated}}class w{constructor(A,O){this.expr=A,this.negated=O,this.type=9}static create(A,O,k){return w._normalizeArr(A,O,k)}cmp(A){if(A.type!==this.type)return this.type-A.type;if(this.expr.length<A.expr.length)return-1;if(this.expr.length>A.expr.length)return 1;for(let O=0,k=this.expr.length;O<k;O++){const V=v(this.expr[O],A.expr[O]);if(V!==0)return V}return 0}equals(A){if(A.type===this.type){if(this.expr.length!==A.expr.length)return!1;for(let O=0,k=this.expr.length;O<k;O++)if(!this.expr[O].equals(A.expr[O]))return!1;return!0}return!1}substituteConstants(){const A=C(this.expr);return A===this.expr?this:w.create(A,this.negated,!1)}evaluate(A){for(let O=0,k=this.expr.length;O<k;O++)if(this.expr[O].evaluate(A))return!0;return!1}static _normalizeArr(A,O,k){let V=[],B=!1;if(A){for(let x=0,K=A.length;x<K;x++){const X=A[x];if(!!X){if(X.type===0){B=!0;continue}if(X.type===1)return t.INSTANCE;if(X.type===9){V=V.concat(X.expr);continue}V.push(X)}}if(V.length===0&&B)return i.INSTANCE;V.sort(v)}if(V.length!==0){if(V.length===1)return V[0];for(let x=1;x<V.length;x++)V[x-1].equals(V[x])&&(V.splice(x,1),x--);if(V.length===1)return V[0];if(k){for(let x=0;x<V.length;x++)for(let K=x+1;K<V.length;K++)F(V[x],V[K])&&(V.splice(K,1),K--);if(V.length===1)return V[0]}return new w(V,O)}}serialize(){return this.expr.map(A=>A.serialize()).join(" || ")}keys(){const A=[];for(let O of this.expr)A.push(...O.keys());return A}map(A){return new w(this.expr.map(O=>O.map(A)),null)}negate(){if(!this.negated){let A=[];for(let O of this.expr)A.push(O.negate());for(;A.length>1;){const O=A.shift(),k=A.shift(),V=[];for(const x of P(O))for(const K of P(k))V.push(y.create([x,K],null));const B=A.length===0;A.unshift(w.create(V,null,B))}this.negated=A[0]}return this.negated}}class D extends a{constructor(A,O,k){super(A,null);this._defaultValue=O,typeof k=="object"?D._info.push(Object.assign(Object.assign({},k),{key:A})):k!==!0&&D._info.push({key:A,description:k,type:O!=null?typeof O:void 0})}static all(){return D._info.values()}bindTo(A){return A.createKey(this.key,this._defaultValue)}getValue(A){return A.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(A){return l.create(this.key,A)}notEqualsTo(A){return u.create(this.key,A)}}e.RawContextKey=D,D._info=[],e.IContextKeyService=(0,M.createDecorator)("contextKeyService"),e.SET_CONTEXT_COMMAND_ID="setContext";function I(R,A){return R<A?-1:R>A?1:0}function T(R,A,O,k){return R<O?-1:R>O?1:A<k?-1:A>k?1:0}function F(R,A){if(A.type===6&&R.type!==9&&R.type!==6){for(const V of A.expr)if(R.equals(V))return!0}const O=R.negate(),k=P(O).concat(P(A));k.sort(v);for(let V=0;V<k.length;V++){const x=k[V].negate();for(let K=V+1;K<k.length;K++){const X=k[K];if(x.equals(X))return!0}}return!1}e.implies=F;function P(R){return R.type===9?R.expr:[R]}}),define(ee[25],te([0,1,494,17]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorContextKeys=void 0;var M;(function(E){E.editorSimpleInput=new N.RawContextKey("editorSimpleInput",!1,!0),E.editorTextFocus=new N.RawContextKey("editorTextFocus",!1,L.localize(0,null)),E.focus=new N.RawContextKey("editorFocus",!1,L.localize(1,null)),E.textInputFocus=new N.RawContextKey("textInputFocus",!1,L.localize(2,null)),E.readOnly=new N.RawContextKey("editorReadonly",!1,L.localize(3,null)),E.inDiffEditor=new N.RawContextKey("inDiffEditor",!1,L.localize(4,null)),E.columnSelection=new N.RawContextKey("editorColumnSelection",!1,L.localize(5,null)),E.writable=E.readOnly.toNegated(),E.hasNonEmptySelection=new N.RawContextKey("editorHasSelection",!1,L.localize(6,null)),E.hasOnlyEmptySelection=E.hasNonEmptySelection.toNegated(),E.hasMultipleSelections=new N.RawContextKey("editorHasMultipleSelections",!1,L.localize(7,null)),E.hasSingleSelection=E.hasMultipleSelections.toNegated(),E.tabMovesFocus=new N.RawContextKey("editorTabMovesFocus",!1,L.localize(8,null)),E.tabDoesNotMoveFocus=E.tabMovesFocus.toNegated(),E.isInWalkThroughSnippet=new N.RawContextKey("isInEmbeddedEditor",!1,!0),E.canUndo=new N.RawContextKey("canUndo",!1,!0),E.canRedo=new N.RawContextKey("canRedo",!1,!0),E.hoverVisible=new N.RawContextKey("editorHoverVisible",!1,L.localize(9,null)),E.inCompositeEditor=new N.RawContextKey("inCompositeEditor",void 0,L.localize(10,null)),E.notInCompositeEditor=E.inCompositeEditor.toNegated(),E.languageId=new N.RawContextKey("editorLangId","",L.localize(11,null)),E.hasCompletionItemProvider=new N.RawContextKey("editorHasCompletionItemProvider",!1,L.localize(12,null)),E.hasCodeActionsProvider=new N.RawContextKey("editorHasCodeActionsProvider",!1,L.localize(13,null)),E.hasCodeLensProvider=new N.RawContextKey("editorHasCodeLensProvider",!1,L.localize(14,null)),E.hasDefinitionProvider=new N.RawContextKey("editorHasDefinitionProvider",!1,L.localize(15,null)),E.hasDeclarationProvider=new N.RawContextKey("editorHasDeclarationProvider",!1,L.localize(16,null)),E.hasImplementationProvider=new N.RawContextKey("editorHasImplementationProvider",!1,L.localize(17,null)),E.hasTypeDefinitionProvider=new N.RawContextKey("editorHasTypeDefinitionProvider",!1,L.localize(18,null)),E.hasHoverProvider=new N.RawContextKey("editorHasHoverProvider",!1,L.localize(19,null)),E.hasDocumentHighlightProvider=new N.RawContextKey("editorHasDocumentHighlightProvider",!1,L.localize(20,null)),E.hasDocumentSymbolProvider=new N.RawContextKey("editorHasDocumentSymbolProvider",!1,L.localize(21,null)),E.hasReferenceProvider=new N.RawContextKey("editorHasReferenceProvider",!1,L.localize(22,null)),E.hasRenameProvider=new N.RawContextKey("editorHasRenameProvider",!1,L.localize(23,null)),E.hasSignatureHelpProvider=new N.RawContextKey("editorHasSignatureHelpProvider",!1,L.localize(24,null)),E.hasInlayHintsProvider=new N.RawContextKey("editorHasInlayHintsProvider",!1,L.localize(25,null)),E.hasDocumentFormattingProvider=new N.RawContextKey("editorHasDocumentFormattingProvider",!1,L.localize(26,null)),E.hasDocumentSelectionFormattingProvider=new N.RawContextKey("editorHasDocumentSelectionFormattingProvider",!1,L.localize(27,null)),E.hasMultipleDocumentFormattingProvider=new N.RawContextKey("editorHasMultipleDocumentFormattingProvider",!1,L.localize(28,null)),E.hasMultipleDocumentSelectionFormattingProvider=new N.RawContextKey("editorHasMultipleDocumentSelectionFormattingProvider",!1,L.localize(29,null))})(M=e.EditorContextKeys||(e.EditorContextKeys={}))}),define(ee[193],te([0,1,21,12,20,22,13,18,68,26,17]),function(Q,e,L,N,M,E,g,S,b,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideSignatureHelp=e.Context=void 0,e.Context={Visible:new v.RawContextKey("parameterHintsVisible",!1),MultipleSignatures:new v.RawContextKey("parameterHintsMultipleSignatures",!1)};function i(t,a,l,h){return Me(this,void 0,void 0,function*(){const d=S.SignatureHelpProviderRegistry.ordered(t);for(const u of d)try{const n=yield u.provideSignatureHelp(t,a,h,l);if(n)return n}catch(n){(0,N.onUnexpectedExternalError)(n)}})}e.provideSignatureHelp=i,p.CommandsRegistry.registerCommand("_executeSignatureHelpProvider",(t,...a)=>Me(void 0,void 0,void 0,function*(){const[l,h,d]=a;(0,M.assertType)(E.URI.isUri(l)),(0,M.assertType)(g.Position.isIPosition(h)),(0,M.assertType)(typeof d=="string"||!d);const u=yield t.get(b.ITextModelService).createModelReference(l);try{const n=yield i(u.object.textEditorModel,g.Position.lift(h),{triggerKind:S.SignatureHelpTriggerKind.Invoke,isRetrigger:!1,triggerCharacter:d},L.CancellationToken.None);return n?(setTimeout(()=>n.dispose(),0),n.value):void 0}finally{u.dispose()}}))}),define(ee[594],te([0,1,10,12,4,2,101,18,193]),function(Q,e,L,N,M,E,g,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsModel=void 0;var p;(function(t){t.Default={type:0};class a{constructor(d,u){this.request=d,this.previouslyActiveHints=u,this.type=2}}t.Pending=a;class l{constructor(d){this.hints=d,this.type=1}}t.Active=l})(p||(p={}));class v extends E.Disposable{constructor(a,l=v.DEFAULT_DELAY){super();this._onChangedHints=this._register(new M.Emitter),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=p.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new E.MutableDisposable),this.triggerChars=new g.CharacterSet,this.retriggerChars=new g.CharacterSet,this.triggerId=0,this.editor=a,this.throttledDelayer=new L.Delayer(l),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(h=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(h=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(h=>this.onCursorChange(h))),this._register(this.editor.onDidChangeModelContent(h=>this.onModelContentChange())),this._register(S.SignatureHelpProviderRegistry.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(h=>this.onDidType(h))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(a){this._state.type===2&&this._state.request.cancel(),this._state=a}cancel(a=!1){this.state=p.Default,this.throttledDelayer.cancel(),a||this._onChangedHints.fire(void 0)}trigger(a,l){const h=this.editor.getModel();if(!h||!S.SignatureHelpProviderRegistry.has(h))return;const d=++this.triggerId;this._pendingTriggers.push(a),this.throttledDelayer.trigger(()=>this.doTrigger(d),l).catch(N.onUnexpectedError)}next(){if(this.state.type!==1)return;const a=this.state.hints.signatures.length,l=this.state.hints.activeSignature,h=l%a==a-1,d=this.editor.getOption(75).cycle;if((a<2||h)&&!d){this.cancel();return}this.updateActiveSignature(h&&d?0:l+1)}previous(){if(this.state.type!==1)return;const a=this.state.hints.signatures.length,l=this.state.hints.activeSignature,h=l===0,d=this.editor.getOption(75).cycle;if((a<2||h)&&!d){this.cancel();return}this.updateActiveSignature(h&&d?a-1:l-1)}updateActiveSignature(a){this.state.type===1&&(this.state=new p.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:a})),this._onChangedHints.fire(this.state.hints))}doTrigger(a){return Me(this,void 0,void 0,function*(){const l=this.state.type===1||this.state.type===2,h=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const d=this._pendingTriggers.reduce(i);this._pendingTriggers=[];const u={triggerKind:d.triggerKind,triggerCharacter:d.triggerCharacter,isRetrigger:l,activeSignatureHelp:h};if(!this.editor.hasModel())return!1;const n=this.editor.getModel(),r=this.editor.getPosition();this.state=new p.Pending((0,L.createCancelablePromise)(s=>(0,b.provideSignatureHelp)(n,r,u,s)),h);try{const s=yield this.state.request;return a!==this.triggerId?(s==null||s.dispose(),!1):!s||!s.value.signatures||s.value.signatures.length===0?(s==null||s.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new p.Active(s.value),this._lastSignatureHelpResult.value=s,this._onChangedHints.fire(this.state.hints),!0)}catch(s){return a===this.triggerId&&(this.state=p.Default),(0,N.onUnexpectedError)(s),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new g.CharacterSet,this.retriggerChars=new g.CharacterSet;const a=this.editor.getModel();if(!!a)for(const l of S.SignatureHelpProviderRegistry.ordered(a)){for(const h of l.signatureHelpTriggerCharacters||[])this.triggerChars.add(h.charCodeAt(0)),this.retriggerChars.add(h.charCodeAt(0));for(const h of l.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(h.charCodeAt(0))}}onDidType(a){if(!this.triggerOnType)return;const l=a.length-1,h=a.charCodeAt(l);(this.triggerChars.has(h)||this.isTriggered&&this.retriggerChars.has(h))&&this.trigger({triggerKind:S.SignatureHelpTriggerKind.TriggerCharacter,triggerCharacter:a.charAt(l)})}onCursorChange(a){a.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:S.SignatureHelpTriggerKind.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:S.SignatureHelpTriggerKind.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(75).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}e.ParameterHintsModel=v,v.DEFAULT_DELAY=120;function i(t,a){switch(a.triggerKind){case S.SignatureHelpTriggerKind.Invoke:return a;case S.SignatureHelpTriggerKind.ContentChange:return t;case S.SignatureHelpTriggerKind.TriggerCharacter:default:return a}}}),define(ee[595],te([0,1,17]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestAlternatives=void 0;let N=class Kt{constructor(E,g){this._editor=E,this._index=0,this._ckOtherSuggestions=Kt.OtherSuggestions.bindTo(g)}dispose(){this.reset()}reset(){var E;this._ckOtherSuggestions.reset(),(E=this._listener)===null||E===void 0||E.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:E,index:g},S){if(E.items.length===0){this.reset();return}if(Kt._moveIndex(!0,E,g)===g){this.reset();return}this._acceptNext=S,this._model=E,this._index=g,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(E,g,S){let b=S;for(;b=(b+g.items.length+(E?1:-1))%g.items.length,!(b===S||!g.items[b].completion.additionalTextEdits););return b}next(){this._move(!0)}prev(){this._move(!1)}_move(E){if(!!this._model)try{this._ignore=!0,this._index=Kt._moveIndex(E,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};N.OtherSuggestions=new L.RawContextKey("hasOtherSuggestions",!1),N=Ve([Ce(1,L.IContextKeyService)],N),e.SuggestAlternatives=N}),define(ee[596],te([0,1,17]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordContextKey=void 0;let N=class Ni{constructor(E,g){this._editor=E,this._enabled=!1,this._ckAtEnd=Ni.AtEnd.bindTo(g),this._configListener=this._editor.onDidChangeConfiguration(S=>S.hasChanged(110)&&this._update()),this._update()}dispose(){var E;this._configListener.dispose(),(E=this._selectionListener)===null||E===void 0||E.dispose(),this._ckAtEnd.reset()}_update(){const E=this._editor.getOption(110)==="on";if(this._enabled!==E)if(this._enabled=E,this._enabled){const g=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const S=this._editor.getModel(),b=this._editor.getSelection(),p=S.getWordAtPosition(b.getStartPosition());if(!p){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(p.endColumn===b.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(g),g()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};N.AtEnd=new L.RawContextKey("atEndOfWord",!1),N=Ve([Ce(1,L.IContextKeyService)],N),e.WordContextKey=N}),define(ee[62],te([0,1,17,9]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=e.IAccessibilityService=void 0,e.IAccessibilityService=(0,N.createDecorator)("accessibilityService"),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=new L.RawContextKey("accessibilityModeEnabled",!1)}),define(ee[597],te([0,1,45,4,2,62,37,17]),function(Q,e,L,N,M,E,g,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityService=void 0;let b=class extends M.Disposable{constructor(v,i){super();this._contextKeyService=v,this._configurationService=i,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new N.Emitter,this._accessibilityModeEnabledContext=E.CONTEXT_ACCESSIBILITY_MODE_ENABLED.bindTo(this._contextKeyService);const t=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(a=>{a.affectsConfiguration("editor.accessibilitySupport")&&(t(),this._onDidChangeScreenReaderOptimized.fire())})),t(),this.onDidChangeScreenReaderOptimized(()=>t())}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const v=this._configurationService.getValue("editor.accessibilitySupport");return v==="on"||v==="auto"&&this._accessibilitySupport===2}getAccessibilitySupport(){return this._accessibilitySupport}alwaysUnderlineAccessKeys(){return Promise.resolve(!1)}setAccessibilitySupport(v){this._accessibilitySupport!==v&&(this._accessibilitySupport=v,this._onDidChangeScreenReaderOptimized.fire())}alert(v){(0,L.alert)(v)}};b=Ve([Ce(0,S.IContextKeyService),Ce(1,g.IConfigurationService)],b),e.AccessibilityService=b}),define(ee[270],te([0,1,15,566,17]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputFocusedContext=e.InputFocusedContextKey=e.IsDevelopmentContext=e.IsIOSContext=e.IsMacNativeContext=e.IsWebContext=e.IsWindowsContext=e.IsLinuxContext=e.IsMacContext=void 0,e.IsMacContext=new M.RawContextKey("isMac",L.isMacintosh,(0,N.localize)(0,null)),e.IsLinuxContext=new M.RawContextKey("isLinux",L.isLinux,(0,N.localize)(1,null)),e.IsWindowsContext=new M.RawContextKey("isWindows",L.isWindows,(0,N.localize)(2,null)),e.IsWebContext=new M.RawContextKey("isWeb",L.isWeb,(0,N.localize)(3,null)),e.IsMacNativeContext=new M.RawContextKey("isMacNative",L.isMacintosh&&!L.isWeb,(0,N.localize)(4,null)),e.IsIOSContext=new M.RawContextKey("isIOS",L.isIOS,(0,N.localize)(5,null)),e.IsDevelopmentContext=new M.RawContextKey("isDevelopment",!1,!0),e.InputFocusedContextKey="inputFocus",e.InputFocusedContext=new M.RawContextKey(e.InputFocusedContextKey,!1,(0,N.localize)(6,null))}),define(ee[69],te([0,1,9]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IContextMenuService=e.IContextViewService=void 0,e.IContextViewService=(0,L.createDecorator)("contextViewService"),e.IContextMenuService=(0,L.createDecorator)("contextMenuService")}),define(ee[126],te([0,1,33,567,9]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getFileNamesMessage=e.IFileDialogService=e.IDialogService=void 0,e.IDialogService=(0,M.createDecorator)("dialogService"),e.IFileDialogService=(0,M.createDecorator)("fileDialogService");const E=10;function g(S){const b=[];return b.push(...S.slice(0,E).map(p=>typeof p=="string"?p:(0,L.basename)(p))),S.length>E&&(S.length-E==1?b.push((0,N.localize)(0,null)):b.push((0,N.localize)(1,null,S.length-E))),b.push(""),b.join(`
`)}e.getFileNamesMessage=g}),define(ee[271],te([0,1,48,58,8,20,22,568,9]),function(Q,e,L,N,M,E,g,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPlatformLimits=e.ByteSize=e.FALLBACK_MAX_MEMORY_SIZE_MB=e.MIN_MAX_MEMORY_SIZE_MB=e.whenProviderRegistered=e.etag=e.ETAG_DISABLED=e.FileKind=e.FILES_EXCLUDE_CONFIG=e.FILES_ASSOCIATIONS_CONFIG=e.HotExitConfiguration=e.AutoSaveConfiguration=e.NotModifiedSinceFileOperationError=e.FileOperationError=e.isParent=e.FileChangesEvent=e.FileOperationEvent=e.toFileOperationResult=e.toFileSystemProviderErrorCode=e.markAsFileSystemProviderError=e.ensureFileSystemProviderError=e.createFileSystemProviderError=e.FileSystemProviderError=e.FileSystemProviderErrorCode=e.hasFileReadStreamCapability=e.hasOpenReadWriteCloseCapability=e.hasFileFolderCopyCapability=e.hasReadWriteCapability=e.FilePermission=e.FileType=e.isFileOpenForWriteOptions=e.IFileService=void 0,e.IFileService=(0,b.createDecorator)("fileService");function p(P){return P.create===!0}e.isFileOpenForWriteOptions=p;var v;(function(P){P[P.Unknown=0]="Unknown",P[P.File=1]="File",P[P.Directory=2]="Directory",P[P.SymbolicLink=64]="SymbolicLink"})(v=e.FileType||(e.FileType={}));var i;(function(P){P[P.Readonly=1]="Readonly"})(i=e.FilePermission||(e.FilePermission={}));function t(P){return!!(P.capabilities&2)}e.hasReadWriteCapability=t;function a(P){return!!(P.capabilities&8)}e.hasFileFolderCopyCapability=a;function l(P){return!!(P.capabilities&4)}e.hasOpenReadWriteCloseCapability=l;function h(P){return!!(P.capabilities&16)}e.hasFileReadStreamCapability=h;var d;(function(P){P.FileExists="EntryExists",P.FileNotFound="EntryNotFound",P.FileNotADirectory="EntryNotADirectory",P.FileIsADirectory="EntryIsADirectory",P.FileExceedsMemoryLimit="EntryExceedsMemoryLimit",P.FileTooLarge="EntryTooLarge",P.FileWriteLocked="EntryWriteLocked",P.NoPermissions="NoPermissions",P.Unavailable="Unavailable",P.Unknown="Unknown"})(d=e.FileSystemProviderErrorCode||(e.FileSystemProviderErrorCode={}));class u extends Error{constructor(R,A){super(R);this.code=A}}e.FileSystemProviderError=u;function n(P,R){const A=new u(P.toString(),R);return s(A,R),A}e.createFileSystemProviderError=n;function r(P){return P||n((0,S.localize)(0,null),d.Unknown)}e.ensureFileSystemProviderError=r;function s(P,R){return P.name=R?`${R} (FileSystemError)`:"FileSystemError",P}e.markAsFileSystemProviderError=s;function o(P){if(!P)return d.Unknown;if(P instanceof u)return P.code;const R=/^(.+) \(FileSystemError\)$/.exec(P.name);if(!R)return d.Unknown;switch(R[1]){case d.FileExists:return d.FileExists;case d.FileIsADirectory:return d.FileIsADirectory;case d.FileNotADirectory:return d.FileNotADirectory;case d.FileNotFound:return d.FileNotFound;case d.FileExceedsMemoryLimit:return d.FileExceedsMemoryLimit;case d.FileTooLarge:return d.FileTooLarge;case d.FileWriteLocked:return d.FileWriteLocked;case d.NoPermissions:return d.NoPermissions;case d.Unavailable:return d.Unavailable}return d.Unknown}e.toFileSystemProviderErrorCode=o;function m(P){if(P instanceof C)return P.fileOperationResult;switch(o(P)){case d.FileNotFound:return 1;case d.FileIsADirectory:return 0;case d.FileNotADirectory:return 10;case d.FileWriteLocked:return 5;case d.NoPermissions:return 6;case d.FileExists:return 4;case d.FileExceedsMemoryLimit:return 9;case d.FileTooLarge:return 7;default:return 11}}e.toFileOperationResult=m;class _{constructor(R,A,O){this.resource=R,this.operation=A,this.target=O}isOperation(R){return this.operation===R}}e.FileOperationEvent=_;class f{constructor(R,A){this.added=void 0,this.updated=void 0,this.deleted=void 0;const O=new Map;for(const k of R){const V=O.get(k.type);V?V.push([k.resource,k]):O.set(k.type,[[k.resource,k]])}for(const[k,V]of O)switch(k){case 1:this.added=L.TernarySearchTree.forUris(()=>A),this.added.fill(V);break;case 0:this.updated=L.TernarySearchTree.forUris(()=>A),this.updated.fill(V);break;case 2:this.deleted=L.TernarySearchTree.forUris(()=>A),this.deleted.fill(V);break}}contains(R,...A){return this.doContains(R,{includeChildren:!1},...A)}affects(R,...A){return this.doContains(R,{includeChildren:!0},...A)}doContains(R,A,...O){var k,V,B,x,K,X;if(!R)return!1;const Z=O.length>0;return!!((!Z||O.includes(1))&&(((k=this.added)===null||k===void 0?void 0:k.get(R))||A.includeChildren&&((V=this.added)===null||V===void 0?void 0:V.findSuperstr(R)))||(!Z||O.includes(0))&&(((B=this.updated)===null||B===void 0?void 0:B.get(R))||A.includeChildren&&((x=this.updated)===null||x===void 0?void 0:x.findSuperstr(R)))||(!Z||O.includes(2))&&(((K=this.deleted)===null||K===void 0?void 0:K.findSubstr(R))||A.includeChildren&&((X=this.deleted)===null||X===void 0?void 0:X.findSuperstr(R))))}gotAdded(){return!!this.added}gotDeleted(){return!!this.deleted}gotUpdated(){return!!this.updated}get rawAdded(){return this.added}get rawDeleted(){return this.deleted}}e.FileChangesEvent=f;function c(P,R,A){return!P||!R||P===R||R.length>P.length?!1:(R.charAt(R.length-1)!==N.sep&&(R+=N.sep),A?(0,M.startsWithIgnoreCase)(P,R):P.indexOf(R)===0)}e.isParent=c;class C extends Error{constructor(R,A,O){super(R);this.fileOperationResult=A,this.options=O}}e.FileOperationError=C;class y extends C{constructor(R,A,O){super(R,2,O);this.stat=A}}e.NotModifiedSinceFileOperationError=y,e.AutoSaveConfiguration={OFF:"off",AFTER_DELAY:"afterDelay",ON_FOCUS_CHANGE:"onFocusChange",ON_WINDOW_CHANGE:"onWindowChange"},e.HotExitConfiguration={OFF:"off",ON_EXIT:"onExit",ON_EXIT_AND_WINDOW_CLOSE:"onExitAndWindowClose"},e.FILES_ASSOCIATIONS_CONFIG="files.associations",e.FILES_EXCLUDE_CONFIG="files.exclude";var w;(function(P){P[P.FILE=0]="FILE",P[P.FOLDER=1]="FOLDER",P[P.ROOT_FOLDER=2]="ROOT_FOLDER"})(w=e.FileKind||(e.FileKind={})),e.ETAG_DISABLED="";function D(P){if(!(typeof P.size!="number"||typeof P.mtime!="number"))return P.mtime.toString(29)+P.size.toString(31)}e.etag=D;function I(P,R){return Me(this,void 0,void 0,function*(){if(!R.hasProvider(g.URI.from({scheme:P.scheme})))return new Promise(A=>{const O=R.onDidChangeFileSystemProviderRegistrations(k=>{k.scheme===P.scheme&&k.added&&(O.dispose(),A())})})})}e.whenProviderRegistered=I,e.MIN_MAX_MEMORY_SIZE_MB=2048,e.FALLBACK_MAX_MEMORY_SIZE_MB=4096;class T{static formatSize(R){return(0,E.isNumber)(R)||(R=0),R<T.KB?(0,S.localize)(1,null,R.toFixed(0)):R<T.MB?(0,S.localize)(2,null,(R/T.KB).toFixed(2)):R<T.GB?(0,S.localize)(3,null,(R/T.MB).toFixed(2)):R<T.TB?(0,S.localize)(4,null,(R/T.GB).toFixed(2)):(0,S.localize)(5,null,(R/T.TB).toFixed(2))}}e.ByteSize=T,T.KB=1024,T.MB=T.KB*T.KB,T.GB=T.MB*T.KB,T.TB=T.GB*T.KB;function F(P){return{maxFileSize:P===0?300*T.MB:16*T.GB,maxHeapSize:P===0?700*T.MB:2*700*T.MB}}e.getPlatformLimits=F}),define(ee[157],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ServiceCollection=void 0;class L{constructor(...M){this._entries=new Map;for(let[E,g]of M)this.set(E,g)}set(M,E){const g=this._entries.get(M);return this._entries.set(M,E),g}has(M){return this._entries.has(M)}get(M){return this._entries.get(M)}}e.ServiceCollection=L}),define(ee[598],te([0,1,10,12,191,582,9,157]),function(Q,e,L,N,M,E,g,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InstantiationService=void 0;const b=!1;class p extends Error{constructor(a){var l;super("cyclic dependency between services");this.message=(l=a.findCycleSlow())!==null&&l!==void 0?l:`UNABLE to detect cycle, dumping graph: 
${a.toString()}`}}class v{constructor(a=new S.ServiceCollection,l=!1,h){this._activeInstantiations=new Set,this._services=a,this._strict=l,this._parent=h,this._services.set(g.IInstantiationService,this)}createChild(a){return new v(a,this._strict,this)}invokeFunction(a,...l){let h=i.traceInvocation(a),d=!1;try{return a({get:n=>{if(d)throw(0,N.illegalState)("service accessor is only valid during the invocation of its target method");const r=this._getOrCreateServiceInstance(n,h);if(!r)throw new Error(`[invokeFunction] unknown service '${n}'`);return r}},...l)}finally{d=!0,h.stop()}}createInstance(a,...l){let h,d;return a instanceof M.SyncDescriptor?(h=i.traceCreation(a.ctor),d=this._createInstance(a.ctor,a.staticArguments.concat(l),h)):(h=i.traceCreation(a),d=this._createInstance(a,l,h)),h.stop(),d}_createInstance(a,l=[],h){let d=g._util.getServiceDependencies(a).sort((r,s)=>r.index-s.index),u=[];for(const r of d){let s=this._getOrCreateServiceInstance(r.id,h);if(!s&&this._strict&&!r.optional)throw new Error(`[createInstance] ${a.name} depends on UNKNOWN service ${r.id}.`);u.push(s)}let n=d.length>0?d[0].index:l.length;if(l.length!==n){console.warn(`[createInstance] First service dependency of ${a.name} at position ${n+1} conflicts with ${l.length} static arguments`);let r=n-l.length;r>0?l=l.concat(new Array(r)):l=l.slice(0,n)}return new a(...[...l,...u])}_setServiceInstance(a,l){if(this._services.get(a)instanceof M.SyncDescriptor)this._services.set(a,l);else if(this._parent)this._parent._setServiceInstance(a,l);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(a){let l=this._services.get(a);return!l&&this._parent?this._parent._getServiceInstanceOrDescriptor(a):l}_getOrCreateServiceInstance(a,l){let h=this._getServiceInstanceOrDescriptor(a);return h instanceof M.SyncDescriptor?this._safeCreateAndCacheServiceInstance(a,h,l.branch(a,!0)):(l.branch(a,!1),h)}_safeCreateAndCacheServiceInstance(a,l,h){if(this._activeInstantiations.has(a))throw new Error(`illegal state - RECURSIVELY instantiating service '${a}'`);this._activeInstantiations.add(a);try{return this._createAndCacheServiceInstance(a,l,h)}finally{this._activeInstantiations.delete(a)}}_createAndCacheServiceInstance(a,l,h){const d=new E.Graph(r=>r.id.toString());let u=0;const n=[{id:a,desc:l,_trace:h}];for(;n.length;){const r=n.pop();if(d.lookupOrInsertNode(r),u++>1e3)throw new p(d);for(let s of g._util.getServiceDependencies(r.desc.ctor)){let o=this._getServiceInstanceOrDescriptor(s.id);if(!o&&!s.optional&&console.warn(`[createInstance] ${a} depends on ${s.id} which is NOT registered.`),o instanceof M.SyncDescriptor){const m={id:s.id,desc:o,_trace:r._trace.branch(s.id,!0)};d.insertEdge(r,m),n.push(m)}}}for(;;){const r=d.roots();if(r.length===0){if(!d.isEmpty())throw new p(d);break}for(const{data:s}of r){if(this._getServiceInstanceOrDescriptor(s.id)instanceof M.SyncDescriptor){const m=this._createServiceInstanceWithOwner(s.id,s.desc.ctor,s.desc.staticArguments,s.desc.supportsDelayedInstantiation,s._trace);this._setServiceInstance(s.id,m)}d.removeNode(s)}}return this._getServiceInstanceOrDescriptor(a)}_createServiceInstanceWithOwner(a,l,h=[],d,u){if(this._services.get(a)instanceof M.SyncDescriptor)return this._createServiceInstance(l,h,d,u);if(this._parent)return this._parent._createServiceInstanceWithOwner(a,l,h,d,u);throw new Error(`illegalState - creating UNKNOWN service instance ${l.name}`)}_createServiceInstance(a,l=[],h,d){if(h){const u=new L.IdleValue(()=>this._createInstance(a,l,d));return new Proxy(Object.create(null),{get(n,r){if(r in n)return n[r];let s=u.value,o=s[r];return typeof o!="function"||(o=o.bind(s),n[r]=o),o},set(n,r,s){return u.value[r]=s,!0}})}else return this._createInstance(a,l,d)}}e.InstantiationService=v;class i{constructor(a,l){this.type=a,this.name=l,this._start=Date.now(),this._dep=[]}static traceInvocation(a){return b?new i(1,a.name||a.toString().substring(0,42).replace(/\n/g,"")):i._None}static traceCreation(a){return b?new i(0,a.name):i._None}branch(a,l){let h=new i(2,a.toString());return this._dep.push([a,l,h]),h}stop(){let a=Date.now()-this._start;i._totals+=a;let l=!1;function h(u,n){let r=[],s=new Array(u+1).join("	");for(const[o,m,_]of n._dep)if(m&&_){l=!0,r.push(`${s}CREATES -> ${o}`);let f=h(u+1,_);f&&r.push(f)}else r.push(`${s}uses -> ${o}`);return r.join(`
`)}let d=[`${this.type===0?"CREATE":"CALL"} ${this.name}`,`${h(1,this)}`,`DONE, took ${a.toFixed(2)}ms (grand total ${i._totals.toFixed(2)}ms)`];(a>2||l)&&console.log(d.join(`
`))}}i._None=new class extends i{constructor(){super(-1,null)}stop(){}branch(){return this}},i._totals=0}),define(ee[599],te([0,1,19,10,4,2,569]),function(Q,e,L,N,M,E,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractKeybindingService=void 0;const S=/^(cursor|delete)/;class b extends E.Disposable{constructor(i,t,a,l,h){super();this._contextKeyService=i,this._commandService=t,this._telemetryService=a,this._notificationService=l,this._logService=h,this._onDidUpdateKeybindings=this._register(new M.Emitter),this._currentChord=null,this._currentChordChecker=new N.IntervalTimer,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=p.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new N.TimeoutTimer,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:M.Event.None}get inChordMode(){return!!this._currentChord}dispose(){super.dispose()}getDefaultKeybindingsContent(){return""}toggleLogging(){return this._logging=!this._logging,this._logging}_log(i){this._logging&&this._logService.info(`[KeybindingService]: ${i}`)}getDefaultKeybindings(){return this._getResolver().getDefaultKeybindings()}getKeybindings(){return this._getResolver().getKeybindings()}customKeybindingsCount(){return 0}lookupKeybindings(i){return L.coalesce(this._getResolver().lookupKeybindings(i).map(t=>t.resolvedKeybinding))}lookupKeybinding(i,t){const a=this._getResolver().lookupPrimaryKeybinding(i,t||this._contextKeyService);if(!!a)return a.resolvedKeybinding}dispatchEvent(i,t){return this._dispatch(i,t)}softDispatch(i,t){const a=this.resolveKeyboardEvent(i);if(a.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[l]=a.getDispatchParts();if(l===null)return null;const h=this._contextKeyService.getContext(t),d=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(h,d,l)}_enterChordMode(i,t){this._currentChord={keypress:i,label:t},this._currentChordStatusMessage=this._notificationService.status(g.localize(0,null,t));const a=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-a>5e3&&this._leaveChordMode()},500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}dispatchByUserSettingsLabel(i,t){this._log(`/ Dispatching keybinding triggered via menu entry accelerator - ${i}`);const a=this.resolveUserBinding(i);a.length===0?this._log(`\\ Could not resolve - ${i}`):this._doDispatch(a[0],t,!1)}_dispatch(i,t){return this._doDispatch(this.resolveKeyboardEvent(i),t,!1)}_singleModifierDispatch(i,t){const a=this.resolveKeyboardEvent(i),[l]=a.getSingleModifierDispatchParts();if(l)return this._ignoreSingleModifiers.has(l)?(this._log(`+ Ignoring single modifier ${l} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=p.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=p.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${l}.`),this._currentSingleModifier=l,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):l===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${l} ${l}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(a,t,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${l}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[h]=a.getParts();return this._ignoreSingleModifiers=new p(h),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(i,t,a=!1){let l=!1;if(i.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let h=null,d=null;if(a){const[s]=i.getSingleModifierDispatchParts();h=s,d=s}else[h]=i.getDispatchParts(),d=this._currentChord?this._currentChord.keypress:null;if(h===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),l;const u=this._contextKeyService.getContext(t),n=i.getLabel(),r=this._getResolver().resolve(u,d,h);return this._logService.trace("KeybindingService#dispatch",n,r==null?void 0:r.commandId),r&&r.enterChord?(l=!0,this._enterChordMode(h,n),l):(this._currentChord&&(!r||!r.commandId)&&(this._notificationService.status(g.localize(1,null,this._currentChord.label,n),{hideAfter:10*1e3}),l=!0),this._leaveChordMode(),r&&r.commandId&&(r.bubble||(l=!0),typeof r.commandArgs=="undefined"?this._commandService.executeCommand(r.commandId).then(void 0,s=>this._notificationService.warn(s)):this._commandService.executeCommand(r.commandId,r.commandArgs).then(void 0,s=>this._notificationService.warn(s)),S.test(r.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:r.commandId,from:"keybinding"})),l)}mightProducePrintableCharacter(i){return i.ctrlKey||i.metaKey?!1:i.keyCode>=31&&i.keyCode<=56||i.keyCode>=21&&i.keyCode<=30}}e.AbstractKeybindingService=b;class p{constructor(i){this._ctrlKey=i?i.ctrlKey:!1,this._shiftKey=i?i.shiftKey:!1,this._altKey=i?i.altKey:!1,this._metaKey=i?i.metaKey:!1}has(i){switch(i){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}p.EMPTY=new p(null)}),define(ee[600],te([0,1,12,189,97]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseResolvedKeybinding=void 0;class E extends M.ResolvedKeybinding{constructor(S,b){super();if(b.length===0)throw(0,L.illegalArgument)("parts");this._os=S,this._parts=b}getLabel(){return N.UILabelProvider.toLabel(this._os,this._parts,S=>this._getLabel(S))}getAriaLabel(){return N.AriaLabelProvider.toLabel(this._os,this._parts,S=>this._getAriaLabel(S))}getElectronAccelerator(){return this._parts.length>1||this._parts[0].isDuplicateModifierCase()?null:N.ElectronAcceleratorLabelProvider.toLabel(this._os,this._parts,S=>this._getElectronAccelerator(S))}getUserSettingsLabel(){return N.UserSettingsLabelProvider.toLabel(this._os,this._parts,S=>this._getUserSettingsLabel(S))}isWYSIWYG(){return this._parts.every(S=>this._isWYSIWYG(S))}isChord(){return this._parts.length>1}getParts(){return this._parts.map(S=>this._getPart(S))}_getPart(S){return new M.ResolvedKeybindingPart(S.ctrlKey,S.shiftKey,S.altKey,S.metaKey,this._getLabel(S),this._getAriaLabel(S))}getDispatchParts(){return this._parts.map(S=>this._getDispatchPart(S))}getSingleModifierDispatchParts(){return this._parts.map(S=>this._getSingleModifierDispatchPart(S))}}e.BaseResolvedKeybinding=E}),define(ee[43],te([0,1,9]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IKeybindingService=void 0,e.IKeybindingService=(0,L.createDecorator)("keybindingService")}),define(ee[272],te([0,1,17]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingResolver=void 0;class N{constructor(S,b,p){this._log=p,this._defaultKeybindings=S,this._defaultBoundCommands=new Map;for(let v=0,i=S.length;v<i;v++){const t=S[v].command;t&&this._defaultBoundCommands.set(t,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=N.combine(S,b);for(let v=0,i=this._keybindings.length;v<i;v++){let t=this._keybindings[v];t.keypressParts.length!==0&&(t.when&&t.when.type===0||this._addKeyPress(t.keypressParts[0],t))}}static _isTargetedForRemoval(S,b,p,v,i){return!(S.command!==v||b&&S.keypressParts[0]!==b||p&&S.keypressParts[1]!==p||i&&(!S.when||!(0,L.expressionsAreEqualWithConstantSubstitution)(i,S.when)))}static combine(S,b){S=S.slice(0);let p=[];for(const v of b){if(!v.command||v.command.length===0||v.command.charAt(0)!=="-"){p.push(v);continue}const i=v.command.substr(1),t=v.keypressParts[0],a=v.keypressParts[1],l=v.when;for(let h=S.length-1;h>=0;h--)this._isTargetedForRemoval(S[h],t,a,i,l)&&S.splice(h,1)}return S.concat(p)}_addKeyPress(S,b){const p=this._map.get(S);if(typeof p=="undefined"){this._map.set(S,[b]),this._addToLookupMap(b);return}for(let v=p.length-1;v>=0;v--){let i=p[v];if(i.command===b.command)continue;const t=i.keypressParts.length>1,a=b.keypressParts.length>1;t&&a&&i.keypressParts[1]!==b.keypressParts[1]||N.whenIsEntirelyIncluded(i.when,b.when)&&this._removeFromLookupMap(i)}p.push(b),this._addToLookupMap(b)}_addToLookupMap(S){if(!S.command)return;let b=this._lookupMap.get(S.command);typeof b=="undefined"?(b=[S],this._lookupMap.set(S.command,b)):b.push(S)}_removeFromLookupMap(S){if(!S.command)return;let b=this._lookupMap.get(S.command);if(typeof b!="undefined"){for(let p=0,v=b.length;p<v;p++)if(b[p]===S){b.splice(p,1);return}}}static whenIsEntirelyIncluded(S,b){return!b||b.type===1?!0:!S||S.type===1?!1:(0,L.implies)(S,b)}getDefaultBoundCommands(){return this._defaultBoundCommands}getDefaultKeybindings(){return this._defaultKeybindings}getKeybindings(){return this._keybindings}lookupKeybindings(S){let b=this._lookupMap.get(S);if(typeof b=="undefined"||b.length===0)return[];let p=[],v=0;for(let i=b.length-1;i>=0;i--)p[v++]=b[i];return p}lookupPrimaryKeybinding(S,b){const p=this._lookupMap.get(S);if(typeof p=="undefined"||p.length===0)return null;if(p.length===1)return p[0];for(let v=p.length-1;v>=0;v--){const i=p[v];if(b.contextMatchesRules(i.when))return i}return p[p.length-1]}resolve(S,b,p){this._log(`| Resolving ${p}${b?` chorded from ${b}`:""}`);let v=null;if(b!==null){const t=this._map.get(b);if(typeof t=="undefined")return this._log("\\ No keybinding entries."),null;v=[];for(let a=0,l=t.length;a<l;a++){let h=t[a];h.keypressParts[1]===p&&v.push(h)}}else{const t=this._map.get(p);if(typeof t=="undefined")return this._log("\\ No keybinding entries."),null;v=t}let i=this._findCommand(S,v);return i?b===null&&i.keypressParts.length>1&&i.keypressParts[1]!==null?(this._log(`\\ From ${v.length} keybinding entries, matched chord, when: ${M(i.when)}, source: ${E(i)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${v.length} keybinding entries, matched ${i.command}, when: ${M(i.when)}, source: ${E(i)}.`),{enterChord:!1,leaveChord:i.keypressParts.length>1,commandId:i.command,commandArgs:i.commandArgs,bubble:i.bubble}):(this._log(`\\ From ${v.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(S,b){for(let p=b.length-1;p>=0;p--){let v=b[p];if(!!N.contextMatchesRules(S,v.when))return v}return null}static contextMatchesRules(S,b){return b?b.evaluate(S):!0}}e.KeybindingResolver=N;function M(g){return g?`${g.serialize()}`:"no when condition"}function E(g){return g.extensionId?g.isBuiltinExtension?`built-in extension ${g.extensionId}`:`user extension ${g.extensionId}`:g.isDefault?"built-in":"user"}}),define(ee[601],te([0,1,4,55,2,48,34,565,26,37,17,272]),function(Q,e,L,N,M,E,g,S,b,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextKeyService=e.AbstractContextKeyService=e.Context=void 0;const t="data-keybinding-context";class a{constructor(y,w){this._id=y,this._parent=w,this._value=Object.create(null),this._value._contextId=y}setValue(y,w){return this._value[y]!==w?(this._value[y]=w,!0):!1}removeValue(y){return y in this._value?(delete this._value[y],!0):!1}getValue(y){const w=this._value[y];return typeof w=="undefined"&&this._parent?this._parent.getValue(y):w}updateParent(y){this._parent=y}collectAllValues(){let y=this._parent?this._parent.collectAllValues():Object.create(null);return y=Object.assign(Object.assign({},y),this._value),delete y._contextId,y}}e.Context=a;class l extends a{constructor(){super(-1,null)}setValue(y,w){return!1}removeValue(y){return!1}getValue(y){}collectAllValues(){return Object.create(null)}}l.INSTANCE=new l;class h extends a{constructor(y,w,D){super(y,null);this._configurationService=w,this._values=E.TernarySearchTree.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(I=>{if(I.source===6){const T=Array.from(N.Iterable.map(this._values,([F])=>F));this._values.clear(),D.fire(new n(T))}else{const T=[];for(const F of I.affectedKeys){const P=`config.${F}`,R=this._values.findSuperstr(P);R!==void 0&&(T.push(...N.Iterable.map(R,([A])=>A)),this._values.deleteSuperstr(P)),this._values.has(P)&&(T.push(P),this._values.delete(P))}D.fire(new n(T))}})}dispose(){this._listener.dispose()}getValue(y){if(y.indexOf(h._keyPrefix)!==0)return super.getValue(y);if(this._values.has(y))return this._values.get(y);const w=y.substr(h._keyPrefix.length),D=this._configurationService.getValue(w);let I;switch(typeof D){case"number":case"boolean":case"string":I=D;break;default:Array.isArray(D)?I=JSON.stringify(D):I=D}return this._values.set(y,I),I}setValue(y,w){return super.setValue(y,w)}removeValue(y){return super.removeValue(y)}collectAllValues(){const y=Object.create(null);return this._values.forEach((w,D)=>y[D]=w),Object.assign(Object.assign({},y),super.collectAllValues())}}h._keyPrefix="config.";class d{constructor(y,w,D){this._service=y,this._key=w,this._defaultValue=D,this.reset()}set(y){this._service.setContext(this._key,y)}reset(){typeof this._defaultValue=="undefined"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class u{constructor(y){this.key=y}affectsSome(y){return y.has(this.key)}}class n{constructor(y){this.keys=y}affectsSome(y){for(const w of this.keys)if(y.has(w))return!0;return!1}}class r{constructor(y){this.events=y}affectsSome(y){for(const w of this.events)if(w.affectsSome(y))return!0;return!1}}class s{constructor(y){this._onDidChangeContext=new L.PauseableEmitter({merge:w=>new r(w)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=y}get contextId(){return this._myContextId}createKey(y,w){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new d(this,y,w)}bufferChangeEvents(y){this._onDidChangeContext.pause();try{y()}finally{this._onDidChangeContext.resume()}}createScoped(y){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new m(this,y)}createOverlay(y=N.Iterable.empty()){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new f(this,y)}contextMatchesRules(y){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const w=this.getContextValuesContainer(this._myContextId);return i.KeybindingResolver.contextMatchesRules(w,y)}getContextKeyValue(y){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(y)}setContext(y,w){if(this._isDisposed)return;const D=this.getContextValuesContainer(this._myContextId);!D||D.setValue(y,w)&&this._onDidChangeContext.fire(new u(y))}removeContext(y){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(y)&&this._onDidChangeContext.fire(new u(y))}getContext(y){return this._isDisposed?l.INSTANCE:this.getContextValuesContainer(c(y))}}e.AbstractContextKeyService=s;let o=class extends s{constructor(y){super(0);this._contexts=new Map,this._toDispose=new M.DisposableStore,this._lastContextId=0;const w=new h(this._myContextId,y,this._onDidChangeContext);this._contexts.set(this._myContextId,w),this._toDispose.add(w)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(y){return this._isDisposed?l.INSTANCE:this._contexts.get(y)||l.INSTANCE}createChildContext(y=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");let w=++this._lastContextId;return this._contexts.set(w,new a(w,this.getContextValuesContainer(y))),w}disposeContext(y){this._isDisposed||this._contexts.delete(y)}updateParent(y){throw new Error("Cannot update parent of root ContextKeyService")}};o=Ve([Ce(0,p.IConfigurationService)],o),e.ContextKeyService=o;class m extends s{constructor(y,w){super(y.createChildContext());if(this._parentChangeListener=new M.MutableDisposable,this._parent=y,this._updateParentChangeListener(),this._domNode=w,this._domNode.hasAttribute(t)){let D="";this._domNode.classList&&(D=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${D?": "+D:""}`)}this._domNode.setAttribute(t,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(this._onDidChangeContext.fire,this._onDidChangeContext)}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(t),this._isDisposed=!0)}getContextValuesContainer(y){return this._isDisposed?l.INSTANCE:this._parent.getContextValuesContainer(y)}createChildContext(y=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(y)}disposeContext(y){this._isDisposed||this._parent.disposeContext(y)}updateParent(y){const w=this._parent.getContextValuesContainer(this._myContextId),D=w.collectAllValues();this._parent=y,this._updateParentChangeListener();const I=this._parent.getContextValuesContainer(this._parent.contextId);w.updateParent(I);const T=w.collectAllValues(),F=Object.assign(Object.assign({},(0,g.distinct)(D,T)),(0,g.distinct)(T,D)),P=Object.keys(F);this._onDidChangeContext.fire(new n(P))}}class _{constructor(y,w){this.parent=y,this.overlay=w}getValue(y){return this.overlay.has(y)?this.overlay.get(y):this.parent.getValue(y)}}class f{constructor(y,w){this.parent=y,this.overlay=new Map(w)}get contextId(){return this.parent.contextId}get onDidChangeContext(){return this.parent.onDidChangeContext}bufferChangeEvents(y){this.parent.bufferChangeEvents(y)}createKey(){throw new Error("Not supported.")}getContext(y){return new _(this.parent.getContext(y),this.overlay)}getContextValuesContainer(y){const w=this.parent.getContextValuesContainer(y);return new _(w,this.overlay)}contextMatchesRules(y){const w=this.getContextValuesContainer(this.contextId);return i.KeybindingResolver.contextMatchesRules(w,y)}getContextKeyValue(y){return this.overlay.has(y)?this.overlay.get(y):this.parent.getContextKeyValue(y)}createScoped(){throw new Error("Not supported.")}createOverlay(y=N.Iterable.empty()){return new f(this,y)}updateParent(){throw new Error("Not supported.")}dispose(){}}function c(C){for(;C;){if(C.hasAttribute(t)){const y=C.getAttribute(t);return y?parseInt(y,10):NaN}C=C.parentElement}return 0}b.CommandsRegistry.registerCommand(v.SET_CONTEXT_COMMAND_ID,function(C,y,w){C.get(v.IContextKeyService).createKey(String(y),w)}),b.CommandsRegistry.registerCommand({id:"getContextKeyInfo",handler(){return[...v.RawContextKey.all()].sort((C,y)=>C.key.localeCompare(y.key))},description:{description:(0,S.localize)(0,null),args:[]}}),b.CommandsRegistry.registerCommand("_generateContextKeyInfo",function(){const C=[],y=new Set;for(let w of v.RawContextKey.all())y.has(w.key)||(y.add(w.key),C.push(w));C.sort((w,D)=>w.key.localeCompare(D.key)),console.log(JSON.stringify(C,void 0,2))})}),define(ee[273],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeElementsAfterNulls=e.ResolvedKeybindingItem=void 0;class L{constructor(E,g,S,b,p,v,i){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=E,this.keypressParts=E?N(E.getDispatchParts()):[],E&&this.keypressParts.length===0&&(this.keypressParts=N(E.getSingleModifierDispatchParts())),this.bubble=g?g.charCodeAt(0)===94:!1,this.command=this.bubble?g.substr(1):g,this.commandArgs=S,this.when=b,this.isDefault=p,this.extensionId=v,this.isBuiltinExtension=i}}e.ResolvedKeybindingItem=L;function N(M){let E=[];for(let g=0,S=M.length;g<S;g++){const b=M[g];if(!b)return E;E.push(b)}return E}e.removeElementsAfterNulls=N}),define(ee[602],te([0,1,56,97,600,273]),function(Q,e,L,N,M,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.USLayoutResolvedKeybinding=void 0;class g extends M.BaseResolvedKeybinding{constructor(b,p){super(p,b.parts)}_keyCodeToUILabel(b){if(this._os===2)switch(b){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return L.KeyCodeUtils.toString(b)}_getLabel(b){return b.isDuplicateModifierCase()?"":this._keyCodeToUILabel(b.keyCode)}_getAriaLabel(b){return b.isDuplicateModifierCase()?"":L.KeyCodeUtils.toString(b.keyCode)}_getElectronAccelerator(b){return L.KeyCodeUtils.toElectronAccelerator(b.keyCode)}_getUserSettingsLabel(b){if(b.isDuplicateModifierCase())return"";const p=L.KeyCodeUtils.toUserSettingsUS(b.keyCode);return p&&p.toLowerCase()}_isWYSIWYG(){return!0}_getDispatchPart(b){return g.getDispatchStr(b)}static getDispatchStr(b){if(b.isModifierKey())return null;let p="";return b.ctrlKey&&(p+="ctrl+"),b.shiftKey&&(p+="shift+"),b.altKey&&(p+="alt+"),b.metaKey&&(p+="meta+"),p+=L.KeyCodeUtils.toString(b.keyCode),p}_getSingleModifierDispatchPart(b){return b.keyCode===5&&!b.shiftKey&&!b.altKey&&!b.metaKey?"ctrl":b.keyCode===4&&!b.ctrlKey&&!b.altKey&&!b.metaKey?"shift":b.keyCode===6&&!b.ctrlKey&&!b.shiftKey&&!b.metaKey?"alt":b.keyCode===57&&!b.ctrlKey&&!b.shiftKey&&!b.altKey?"meta":null}static _scanCodeToKeyCode(b){const p=L.IMMUTABLE_CODE_TO_KEY_CODE[b];if(p!==-1)return p;switch(b){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 83;case 52:return 81;case 53:return 87;case 54:return 89;case 55:return 88;case 56:return 0;case 57:return 80;case 58:return 90;case 59:return 86;case 60:return 82;case 61:return 84;case 62:return 85;case 106:return 92}return 0}static _resolveSimpleUserBinding(b){if(!b)return null;if(b instanceof N.SimpleKeybinding)return b;const p=this._scanCodeToKeyCode(b.scanCode);return p===0?null:new N.SimpleKeybinding(b.ctrlKey,b.shiftKey,b.altKey,b.metaKey,p)}static resolveUserBinding(b,p){const v=(0,E.removeElementsAfterNulls)(b.map(i=>this._resolveSimpleUserBinding(i)));return v.length>0?[new g(new N.ChordKeybinding(v),p)]:[]}}e.USLayoutResolvedKeybinding=g}),define(ee[127],te([0,1,9]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILabelService=void 0,e.ILabelService=(0,L.createDecorator)("labelService")}),define(ee[158],te([0,1,9]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILayoutService=void 0,e.ILayoutService=(0,L.createDecorator)("layoutService")}),define(ee[603],te([0,1,221,2,158]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextViewService=void 0;let E=class extends N.Disposable{constructor(S){super();this.layoutService=S,this.currentViewDisposable=N.Disposable.None,this.container=S.container,this.contextView=this._register(new L.ContextView(this.container,1)),this.layout(),this._register(S.onDidLayout(()=>this.layout()))}setContainer(S,b){this.contextView.setContainer(S,b||1)}showContextView(S,b,p){b?b!==this.container&&(this.container=b,this.setContainer(b,p?3:2)):this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.contextView.show(S);const v=(0,N.toDisposable)(()=>{this.currentViewDisposable===v&&this.hideContextView()});return this.currentViewDisposable=v,v}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(S){this.contextView.hide(S)}};E=Ve([Ce(0,M.ILayoutService)],E),e.ContextViewService=E}),define(ee[75],te([0,1,257,4,2,15,9]),function(Q,e,L,N,M,E,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LogLevelToString=e.parseLogLevel=e.getLogLevel=e.NullLogService=e.AbstractLoggerService=e.LogService=e.MultiplexLogService=e.AdapterLogger=e.ConsoleLogger=e.ConsoleMainLogger=e.AbstractMessageLogger=e.AbstractLogger=e.format=e.log=e.DEFAULT_LOG_LEVEL=e.LogLevel=e.ILoggerService=e.ILogService=void 0,e.ILogService=(0,g.createDecorator)("logService"),e.ILoggerService=(0,g.createDecorator)("loggerService");function S(){return new Date().toISOString()}var b;(function(_){_[_.Trace=0]="Trace",_[_.Debug=1]="Debug",_[_.Info=2]="Info",_[_.Warning=3]="Warning",_[_.Error=4]="Error",_[_.Critical=5]="Critical",_[_.Off=6]="Off"})(b=e.LogLevel||(e.LogLevel={})),e.DEFAULT_LOG_LEVEL=b.Info;function p(_,f,c){switch(f){case b.Trace:_.trace(c);break;case b.Debug:_.debug(c);break;case b.Info:_.info(c);break;case b.Warning:_.warn(c);break;case b.Error:_.error(c);break;case b.Critical:_.critical(c);break;default:throw new Error("Invalid log level")}}e.log=p;function v(_){let f="";for(let c=0;c<_.length;c++){let C=_[c];if(typeof C=="object")try{C=JSON.stringify(C)}catch(y){}f+=(c>0?" ":"")+C}return f}e.format=v;class i extends M.Disposable{constructor(){super(...arguments);this.level=e.DEFAULT_LOG_LEVEL,this._onDidChangeLogLevel=this._register(new N.Emitter),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(f){this.level!==f&&(this.level=f,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}e.AbstractLogger=i;class t extends i{constructor(f){super();this.logAlways=f}checkLogLevel(f){return this.logAlways||this.getLevel()<=f}trace(f,...c){this.checkLogLevel(b.Trace)&&this.log(b.Trace,v([f,...c]))}debug(f,...c){this.checkLogLevel(b.Debug)&&this.log(b.Debug,v([f,...c]))}info(f,...c){this.checkLogLevel(b.Info)&&this.log(b.Info,v([f,...c]))}warn(f,...c){this.checkLogLevel(b.Warning)&&this.log(b.Warning,v([f,...c]))}error(f,...c){if(this.checkLogLevel(b.Error))if(f instanceof Error){const C=Array.prototype.slice.call(arguments);C[0]=f.stack,this.log(b.Error,v(C))}else this.log(b.Error,v([f,...c]))}critical(f,...c){this.checkLogLevel(b.Critical)&&this.log(b.Critical,v([f,...c]))}flush(){}}e.AbstractMessageLogger=t;class a extends i{constructor(f=e.DEFAULT_LOG_LEVEL){super();this.setLevel(f),this.useColors=!E.isWindows}trace(f,...c){this.getLevel()<=b.Trace&&(this.useColors?console.log(`[90m[main ${S()}][0m`,f,...c):console.log(`[main ${S()}]`,f,...c))}debug(f,...c){this.getLevel()<=b.Debug&&(this.useColors?console.log(`[90m[main ${S()}][0m`,f,...c):console.log(`[main ${S()}]`,f,...c))}info(f,...c){this.getLevel()<=b.Info&&(this.useColors?console.log(`[90m[main ${S()}][0m`,f,...c):console.log(`[main ${S()}]`,f,...c))}warn(f,...c){this.getLevel()<=b.Warning&&(this.useColors?console.warn(`[93m[main ${S()}][0m`,f,...c):console.warn(`[main ${S()}]`,f,...c))}error(f,...c){this.getLevel()<=b.Error&&(this.useColors?console.error(`[91m[main ${S()}][0m`,f,...c):console.error(`[main ${S()}]`,f,...c))}critical(f,...c){this.getLevel()<=b.Critical&&(this.useColors?console.error(`[90m[main ${S()}][0m`,f,...c):console.error(`[main ${S()}]`,f,...c))}dispose(){}flush(){}}e.ConsoleMainLogger=a;class l extends i{constructor(f=e.DEFAULT_LOG_LEVEL){super();this.setLevel(f)}trace(f,...c){this.getLevel()<=b.Trace&&console.log("%cTRACE","color: #888",f,...c)}debug(f,...c){this.getLevel()<=b.Debug&&console.log("%cDEBUG","background: #eee; color: #888",f,...c)}info(f,...c){this.getLevel()<=b.Info&&console.log("%c INFO","color: #33f",f,...c)}warn(f,...c){this.getLevel()<=b.Warning&&console.log("%c WARN","color: #993",f,...c)}error(f,...c){this.getLevel()<=b.Error&&console.log("%c  ERR","color: #f33",f,...c)}critical(f,...c){this.getLevel()<=b.Critical&&console.log("%cCRITI","background: #f33; color: white",f,...c)}dispose(){}flush(){}}e.ConsoleLogger=l;class h extends i{constructor(f,c=e.DEFAULT_LOG_LEVEL){super();this.adapter=f,this.setLevel(c)}trace(f,...c){this.getLevel()<=b.Trace&&this.adapter.log(b.Trace,[this.extractMessage(f),...c])}debug(f,...c){this.getLevel()<=b.Debug&&this.adapter.log(b.Debug,[this.extractMessage(f),...c])}info(f,...c){this.getLevel()<=b.Info&&this.adapter.log(b.Info,[this.extractMessage(f),...c])}warn(f,...c){this.getLevel()<=b.Warning&&this.adapter.log(b.Warning,[this.extractMessage(f),...c])}error(f,...c){this.getLevel()<=b.Error&&this.adapter.log(b.Error,[this.extractMessage(f),...c])}critical(f,...c){this.getLevel()<=b.Critical&&this.adapter.log(b.Critical,[this.extractMessage(f),...c])}extractMessage(f){return typeof f=="string"?f:(0,L.toErrorMessage)(f,this.getLevel()<=b.Trace)}dispose(){}flush(){}}e.AdapterLogger=h;class d extends i{constructor(f){super();this.logServices=f,f.length&&this.setLevel(f[0].getLevel())}setLevel(f){for(const c of this.logServices)c.setLevel(f);super.setLevel(f)}trace(f,...c){for(const C of this.logServices)C.trace(f,...c)}debug(f,...c){for(const C of this.logServices)C.debug(f,...c)}info(f,...c){for(const C of this.logServices)C.info(f,...c)}warn(f,...c){for(const C of this.logServices)C.warn(f,...c)}error(f,...c){for(const C of this.logServices)C.error(f,...c)}critical(f,...c){for(const C of this.logServices)C.critical(f,...c)}flush(){for(const f of this.logServices)f.flush()}dispose(){for(const f of this.logServices)f.dispose()}}e.MultiplexLogService=d;class u extends M.Disposable{constructor(f){super();this.logger=f,this._register(f)}get onDidChangeLogLevel(){return this.logger.onDidChangeLogLevel}setLevel(f){this.logger.setLevel(f)}getLevel(){return this.logger.getLevel()}trace(f,...c){this.logger.trace(f,...c)}debug(f,...c){this.logger.debug(f,...c)}info(f,...c){this.logger.info(f,...c)}warn(f,...c){this.logger.warn(f,...c)}error(f,...c){this.logger.error(f,...c)}critical(f,...c){this.logger.critical(f,...c)}flush(){this.logger.flush()}}e.LogService=u;class n extends M.Disposable{constructor(f,c){super();this.logLevel=f,this.loggers=new Map,this.logLevelChangeableLoggers=[],this._register(c(C=>{this.logLevel=C,this.logLevelChangeableLoggers.forEach(y=>y.setLevel(C))}))}getLogger(f){return this.loggers.get(f.toString())}createLogger(f,c){let C=this.loggers.get(f.toString());return C||(C=this.doCreateLogger(f,(c==null?void 0:c.always)?b.Trace:this.logLevel,c),this.loggers.set(f.toString(),C),(c==null?void 0:c.always)||this.logLevelChangeableLoggers.push(C)),C}dispose(){this.logLevelChangeableLoggers.splice(0,this.logLevelChangeableLoggers.length),this.loggers.forEach(f=>f.dispose()),this.loggers.clear(),super.dispose()}}e.AbstractLoggerService=n;class r{constructor(){this.onDidChangeLogLevel=new N.Emitter().event}setLevel(f){}getLevel(){return b.Info}trace(f,...c){}debug(f,...c){}info(f,...c){}warn(f,...c){}error(f,...c){}critical(f,...c){}dispose(){}flush(){}}e.NullLogService=r;function s(_){if(_.verbose)return b.Trace;if(typeof _.logLevel=="string"){const f=o(_.logLevel.toLowerCase());if(f!==void 0)return f}return e.DEFAULT_LOG_LEVEL}e.getLogLevel=s;function o(_){switch(_){case"trace":return b.Trace;case"debug":return b.Debug;case"info":return b.Info;case"warn":return b.Warning;case"error":return b.Error;case"critical":return b.Critical;case"off":return b.Off}}e.parseLogLevel=o;function m(_){switch(_){case b.Trace:return"trace";case b.Debug:return"debug";case b.Info:return"info";case b.Warning:return"warn";case b.Error:return"error";case b.Critical:return"critical";case b.Off:return"off"}}e.LogLevelToString=m}),define(ee[274],te([0,1,10,2,218,326,3,18,40,427,47,156,8,19,75,87,12]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorWorkerClient=e.EditorWorkerHost=e.EditorWorkerServiceImpl=void 0;const u=60*1e3,n=5*60*1e3;function r(y,w){let D=y.getModel(w);return!(!D||D.isTooLargeForSyncing())}let s=class extends N.Disposable{constructor(w,D,I){super();this._modelService=w,this._workerManager=this._register(new m(this._modelService)),this._logService=I,this._register(S.LinkProviderRegistry.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(T,F)=>r(this._modelService,T.uri)?this._workerManager.withWorker().then(P=>P.computeLinks(T.uri)).then(P=>P&&{links:P}):Promise.resolve({links:[]})})),this._register(S.CompletionProviderRegistry.register("*",new o(this._workerManager,D,this._modelService)))}dispose(){super.dispose()}canComputeUnicodeHighlights(w){return r(this._modelService,w)}computedUnicodeHighlights(w,D,I){return this._workerManager.withWorker().then(T=>T.computedUnicodeHighlights(w,D,I))}computeDiff(w,D,I,T){return this._workerManager.withWorker().then(F=>F.computeDiff(w,D,I,T))}canComputeDirtyDiff(w,D){return r(this._modelService,w)&&r(this._modelService,D)}computeDirtyDiff(w,D,I){return this._workerManager.withWorker().then(T=>T.computeDirtyDiff(w,D,I))}computeMoreMinimalEdits(w,D){if((0,a.isNonEmptyArray)(D)){if(!r(this._modelService,w))return Promise.resolve(D);const I=h.StopWatch.create(!0),T=this._workerManager.withWorker().then(F=>F.computeMoreMinimalEdits(w,D));return T.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",w.toString(!0),I.elapsed())),Promise.race([T,(0,L.timeout)(1e3).then(()=>D)])}else return Promise.resolve(void 0)}canNavigateValueSet(w){return r(this._modelService,w)}navigateValueSet(w,D,I){return this._workerManager.withWorker().then(T=>T.navigateValueSet(w,D,I))}canComputeWordRanges(w){return r(this._modelService,w)}computeWordRanges(w,D){return this._workerManager.withWorker().then(I=>I.computeWordRanges(w,D))}};s=Ve([Ce(0,v.IModelService),Ce(1,i.ITextResourceConfigurationService),Ce(2,l.ILogService)],s),e.EditorWorkerServiceImpl=s;class o{constructor(w,D,I){this._debugDisplayName="wordbasedCompletions",this._workerManager=w,this._configurationService=D,this._modelService=I}provideCompletionItems(w,D){return Me(this,void 0,void 0,function*(){const I=this._configurationService.getValue(w.uri,D,"editor");if(!I.wordBasedSuggestions)return;const T=[];if(I.wordBasedSuggestionsMode==="currentDocument")r(this._modelService,w.uri)&&T.push(w.uri);else for(const V of this._modelService.getModels())!r(this._modelService,V.uri)||(V===w?T.unshift(V.uri):(I.wordBasedSuggestionsMode==="allDocuments"||V.getLanguageId()===w.getLanguageId())&&T.push(V.uri));if(T.length===0)return;const F=b.LanguageConfigurationRegistry.getWordDefinition(w.getLanguageId()),P=w.getWordAtPosition(D),R=P?new g.Range(D.lineNumber,P.startColumn,D.lineNumber,P.endColumn):g.Range.fromPositions(D),A=R.setEndPosition(D.lineNumber,D.column),k=yield(yield this._workerManager.withWorker()).textualSuggest(T,P==null?void 0:P.word,F);if(!!k)return{duration:k.duration,suggestions:k.words.map(V=>({kind:18,label:V,insertText:V,range:{insert:A,replace:R}}))}})}}class m extends N.Disposable{constructor(w){super();this._modelService=w,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new L.IntervalTimer).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(n/2)),this._register(this._modelService.onModelRemoved(I=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>n&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new C(this._modelService,!1,"editorWorkerService")),Promise.resolve(this._editorWorkerClient)}}class _ extends N.Disposable{constructor(w,D,I){super();if(this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=w,this._modelService=D,!I){let T=new L.IntervalTimer;T.cancelAndSet(()=>this._checkStopModelSync(),Math.round(u/2)),this._register(T)}}dispose(){for(let w in this._syncedModels)(0,N.dispose)(this._syncedModels[w]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(w,D){for(const I of w){let T=I.toString();this._syncedModels[T]||this._beginModelSync(I,D),this._syncedModels[T]&&(this._syncedModelsLastUsedTime[T]=new Date().getTime())}}_checkStopModelSync(){let w=new Date().getTime(),D=[];for(let I in this._syncedModelsLastUsedTime)w-this._syncedModelsLastUsedTime[I]>u&&D.push(I);for(const I of D)this._stopModelSync(I)}_beginModelSync(w,D){let I=this._modelService.getModel(w);if(!I||!D&&I.isTooLargeForSyncing())return;let T=w.toString();this._proxy.acceptNewModel({url:I.uri.toString(),lines:I.getLinesContent(),EOL:I.getEOL(),versionId:I.getVersionId()});const F=new N.DisposableStore;F.add(I.onDidChangeContent(P=>{this._proxy.acceptModelChanged(T.toString(),P)})),F.add(I.onWillDispose(()=>{this._stopModelSync(T)})),F.add((0,N.toDisposable)(()=>{this._proxy.acceptRemovedModel(T)})),this._syncedModels[T]=F}_stopModelSync(w){let D=this._syncedModels[w];delete this._syncedModels[w],delete this._syncedModelsLastUsedTime[w],(0,N.dispose)(D)}}class f{constructor(w){this._instance=w,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class c{constructor(w){this._workerClient=w}fhr(w,D){return this._workerClient.fhr(w,D)}}e.EditorWorkerHost=c;class C extends N.Disposable{constructor(w,D,I){super();this._disposed=!1,this._modelService=w,this._keepIdleModels=D,this._workerFactory=new E.DefaultWorkerFactory(I),this._worker=null,this._modelManager=null}fhr(w,D){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new M.SimpleWorkerClient(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new c(this)))}catch(w){(0,M.logOnceWebWorkerWarning)(w),this._worker=new f(new p.EditorSimpleWorker(new c(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,w=>((0,M.logOnceWebWorkerWarning)(w),this._worker=new f(new p.EditorSimpleWorker(new c(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(w){return this._modelManager||(this._modelManager=this._register(new _(w,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(w,D=!1){return Me(this,void 0,void 0,function*(){return this._disposed?Promise.reject((0,d.canceled)()):this._getProxy().then(I=>(this._getOrCreateModelManager(I).ensureSyncedResources(w,D),I))})}computedUnicodeHighlights(w,D,I){return this._withSyncedResources([w]).then(T=>T.computeUnicodeHighlights(w.toString(),D,I))}computeDiff(w,D,I,T){return this._withSyncedResources([w,D],!0).then(F=>F.computeDiff(w.toString(),D.toString(),I,T))}computeDirtyDiff(w,D,I){return this._withSyncedResources([w,D]).then(T=>T.computeDirtyDiff(w.toString(),D.toString(),I))}computeMoreMinimalEdits(w,D){return this._withSyncedResources([w]).then(I=>I.computeMoreMinimalEdits(w.toString(),D))}computeLinks(w){return this._withSyncedResources([w]).then(D=>D.computeLinks(w.toString()))}textualSuggest(w,D,I){return Me(this,void 0,void 0,function*(){const T=yield this._withSyncedResources(w),F=I.source,P=(0,t.regExpFlags)(I);return T.textualSuggest(w.map(R=>R.toString()),D,F,P)})}computeWordRanges(w,D){return this._withSyncedResources([w]).then(I=>{let T=this._modelService.getModel(w);if(!T)return Promise.resolve(null);let F=b.LanguageConfigurationRegistry.getWordDefinition(T.getLanguageId()),P=F.source,R=(0,t.regExpFlags)(F);return I.computeWordRanges(w.toString(),D,P,R)})}navigateValueSet(w,D,I){return this._withSyncedResources([w]).then(T=>{let F=this._modelService.getModel(w);if(!F)return null;let P=b.LanguageConfigurationRegistry.getWordDefinition(F.getLanguageId()),R=P.source,A=(0,t.regExpFlags)(P);return T.navigateValueSet(w.toString(),D,I,R,A)})}dispose(){super.dispose(),this._disposed=!0}}e.EditorWorkerClient=C}),define(ee[604],te([0,1,274,20]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createWebWorker=void 0;function M(g,S){return new E(g,S)}e.createWebWorker=M;class E extends L.EditorWorkerClient{constructor(S,b){super(S,b.keepIdleModels||!1,b.label);this._foreignModuleId=b.moduleId,this._foreignModuleCreateData=b.createData||null,this._foreignModuleHost=b.host||null,this._foreignProxy=null}fhr(S,b){if(!this._foreignModuleHost||typeof this._foreignModuleHost[S]!="function")return Promise.reject(new Error("Missing method "+S+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[S].apply(this._foreignModuleHost,b))}catch(p){return Promise.reject(p)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(S=>{const b=this._foreignModuleHost?N.getAllMethodNames(this._foreignModuleHost):[];return S.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,b).then(p=>{this._foreignModuleCreateData=null;const v=(a,l)=>S.fmr(a,l),i=(a,l)=>function(){const h=Array.prototype.slice.call(arguments,0);return l(a,h)};let t={};for(const a of p)t[a]=i(a,v);return t})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(S){return this._withSyncedResources(S).then(b=>this.getProxy())}}}),define(ee[93],te([0,1,82,571,9]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerService=e.IMarkerData=e.MarkerSeverity=void 0;var E;(function(S){S[S.Hint=1]="Hint",S[S.Info=2]="Info",S[S.Warning=4]="Warning",S[S.Error=8]="Error"})(E=e.MarkerSeverity||(e.MarkerSeverity={})),function(S){function b(a,l){return l-a}S.compare=b;const p=Object.create(null);p[S.Error]=(0,N.localize)(0,null),p[S.Warning]=(0,N.localize)(1,null),p[S.Info]=(0,N.localize)(2,null);function v(a){return p[a]||""}S.toString=v;function i(a){switch(a){case L.default.Error:return S.Error;case L.default.Warning:return S.Warning;case L.default.Info:return S.Info;case L.default.Ignore:return S.Hint}}S.fromSeverity=i;function t(a){switch(a){case S.Error:return L.default.Error;case S.Warning:return L.default.Warning;case S.Info:return L.default.Info;case S.Hint:return L.default.Ignore}}S.toSeverity=t}(E=e.MarkerSeverity||(e.MarkerSeverity={}));var g;(function(S){const b="";function p(i){return v(i,!0)}S.makeKey=p;function v(i,t){let a=[b];return i.source?a.push(i.source.replace("\xA6","\\\xA6")):a.push(b),i.code?typeof i.code=="string"?a.push(i.code.replace("\xA6","\\\xA6")):a.push(i.code.value.replace("\xA6","\\\xA6")):a.push(b),i.severity!==void 0&&i.severity!==null?a.push(E.toString(i.severity)):a.push(b),i.message&&t?a.push(i.message.replace("\xA6","\\\xA6")):a.push(b),i.startLineNumber!==void 0&&i.startLineNumber!==null?a.push(i.startLineNumber.toString()):a.push(b),i.startColumn!==void 0&&i.startColumn!==null?a.push(i.startColumn.toString()):a.push(b),i.endLineNumber!==void 0&&i.endLineNumber!==null?a.push(i.endLineNumber.toString()):a.push(b),i.endColumn!==void 0&&i.endColumn!==null?a.push(i.endColumn.toString()):a.push(b),a.push(b),a.join("\xA6")}S.makeKeyOptionalMessage=v})(g=e.IMarkerData||(e.IMarkerData={})),e.IMarkerService=(0,M.createDecorator)("markerService")}),define(ee[605],te([0,1,19,4,2,80,8,22,3,74,9,93,37]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerNavigationService=e.MarkerList=e.MarkerCoordinate=void 0;class a{constructor(u,n,r){this.marker=u,this.index=n,this.total=r}}e.MarkerCoordinate=a;let l=class{constructor(u,n,r){this._markerService=n,this._configService=r,this._onDidChange=new N.Emitter,this.onDidChange=this._onDidChange.event,this._dispoables=new M.DisposableStore,this._markers=[],this._nextIdx=-1,S.URI.isUri(u)?this._resourceFilter=_=>_.toString()===u.toString():u&&(this._resourceFilter=u);const s=this._configService.getValue("problems.sortOrder"),o=(_,f)=>{let c=(0,g.compare)(_.resource.toString(),f.resource.toString());return s==="position"?c=b.Range.compareRangesUsingStarts(_,f)||i.MarkerSeverity.compare(_.severity,f.severity):c=i.MarkerSeverity.compare(_.severity,f.severity)||b.Range.compareRangesUsingStarts(_,f),c},m=()=>{this._markers=this._markerService.read({resource:S.URI.isUri(u)?u:void 0,severities:i.MarkerSeverity.Error|i.MarkerSeverity.Warning|i.MarkerSeverity.Info}),typeof u=="function"&&(this._markers=this._markers.filter(_=>this._resourceFilter(_.resource))),this._markers.sort(o)};m(),this._dispoables.add(n.onMarkerChanged(_=>{(!this._resourceFilter||_.some(f=>this._resourceFilter(f)))&&(m(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(u){return!this._resourceFilter&&!u?!0:!this._resourceFilter||!u?!1:this._resourceFilter(u)}get selected(){const u=this._markers[this._nextIdx];return u&&new a(u,this._nextIdx+1,this._markers.length)}_initIdx(u,n,r){let s=!1,o=this._markers.findIndex(m=>m.resource.toString()===u.uri.toString());o<0&&(o=(0,L.binarySearch)(this._markers,{resource:u.uri},(m,_)=>(0,g.compare)(m.resource.toString(),_.resource.toString())),o<0&&(o=~o));for(let m=o;m<this._markers.length;m++){let _=b.Range.lift(this._markers[m]);if(_.isEmpty()){const f=u.getWordAtPosition(_.getStartPosition());f&&(_=new b.Range(_.startLineNumber,f.startColumn,_.startLineNumber,f.endColumn))}if(n&&(_.containsPosition(n)||n.isBeforeOrEqual(_.getStartPosition()))){this._nextIdx=m,s=!0;break}if(this._markers[m].resource.toString()!==u.uri.toString())break}s||(this._nextIdx=r?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(u,n,r){if(this._markers.length===0)return!1;let s=this._nextIdx;return this._nextIdx===-1?this._initIdx(n,r,u):u?this._nextIdx=(this._nextIdx+1)%this._markers.length:u||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),s!==this._nextIdx}find(u,n){let r=this._markers.findIndex(s=>s.resource.toString()===u.toString());if(!(r<0)){for(;r<this._markers.length;r++)if(b.Range.containsPosition(this._markers[r],n))return new a(this._markers[r],r+1,this._markers.length)}}};l=Ve([Ce(1,i.IMarkerService),Ce(2,t.IConfigurationService)],l),e.MarkerList=l,e.IMarkerNavigationService=(0,v.createDecorator)("IMarkerNavigationService");let h=class{constructor(u,n){this._markerService=u,this._configService=n,this._provider=new E.LinkedList}registerProvider(u){const n=this._provider.unshift(u);return(0,M.toDisposable)(()=>n())}getMarkerList(u){for(let n of this._provider){const r=n.getMarkerList(u);if(r)return r}return new l(u,this._markerService,this._configService)}};h=Ve([Ce(0,i.IMarkerService),Ce(1,t.IConfigurationService)],h),(0,p.registerSingleton)(e.IMarkerNavigationService,h,!0)}),define(ee[606],te([0,1,19,4,55,48,42,22,93]),function(Q,e,L,N,M,E,g,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerService=void 0;class p{constructor(){this._byResource=new E.ResourceMap,this._byOwner=new Map}set(a,l,h){let d=this._byResource.get(a);d||(d=new Map,this._byResource.set(a,d)),d.set(l,h);let u=this._byOwner.get(l);u||(u=new E.ResourceMap,this._byOwner.set(l,u)),u.set(a,h)}get(a,l){let h=this._byResource.get(a);return h==null?void 0:h.get(l)}delete(a,l){let h=!1,d=!1,u=this._byResource.get(a);u&&(h=u.delete(l));let n=this._byOwner.get(l);if(n&&(d=n.delete(a)),h!==d)throw new Error("illegal state");return h&&d}values(a){var l,h,d,u;return typeof a=="string"?(h=(l=this._byOwner.get(a))===null||l===void 0?void 0:l.values())!==null&&h!==void 0?h:M.Iterable.empty():S.URI.isUri(a)?(u=(d=this._byResource.get(a))===null||d===void 0?void 0:d.values())!==null&&u!==void 0?u:M.Iterable.empty():M.Iterable.map(M.Iterable.concat(...this._byOwner.values()),n=>n[1])}}class v{constructor(a){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new E.ResourceMap,this._service=a,this._subscription=a.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(a){for(const l of a){const h=this._data.get(l);h&&this._substract(h);const d=this._resourceStats(l);this._add(d),this._data.set(l,d)}}_resourceStats(a){const l={errors:0,warnings:0,infos:0,unknowns:0};if(a.scheme===g.Schemas.inMemory||a.scheme===g.Schemas.walkThrough||a.scheme===g.Schemas.walkThroughSnippet)return l;for(const{severity:h}of this._service.read({resource:a}))h===b.MarkerSeverity.Error?l.errors+=1:h===b.MarkerSeverity.Warning?l.warnings+=1:h===b.MarkerSeverity.Info?l.infos+=1:l.unknowns+=1;return l}_substract(a){this.errors-=a.errors,this.warnings-=a.warnings,this.infos-=a.infos,this.unknowns-=a.unknowns}_add(a){this.errors+=a.errors,this.warnings+=a.warnings,this.infos+=a.infos,this.unknowns+=a.unknowns}}class i{constructor(){this._onMarkerChanged=new N.DebounceEmitter({delay:0,merge:i._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new p,this._stats=new v(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}getStatistics(){return this._stats}remove(a,l){for(const h of l||[])this.changeOne(a,h,[])}changeOne(a,l,h){if((0,L.isFalsyOrEmpty)(h))this._data.delete(l,a)&&this._onMarkerChanged.fire([l]);else{const d=[];for(const u of h){const n=i._toMarker(a,l,u);n&&d.push(n)}this._data.set(l,a,d),this._onMarkerChanged.fire([l])}}static _toMarker(a,l,h){let{code:d,severity:u,message:n,source:r,startLineNumber:s,startColumn:o,endLineNumber:m,endColumn:_,relatedInformation:f,tags:c}=h;if(!!n)return s=s>0?s:1,o=o>0?o:1,m=m>=s?m:s,_=_>0?_:o,{resource:l,owner:a,code:d,severity:u,message:n,source:r,startLineNumber:s,startColumn:o,endLineNumber:m,endColumn:_,relatedInformation:f,tags:c}}changeAll(a,l){const h=[],d=this._data.values(a);if(d)for(let u of d){const n=M.Iterable.first(u);n&&(h.push(n.resource),this._data.delete(n.resource,a))}if((0,L.isNonEmptyArray)(l)){const u=new E.ResourceMap;for(const{resource:n,marker:r}of l){const s=i._toMarker(a,n,r);if(!s)continue;const o=u.get(n);o?o.push(s):(u.set(n,[s]),h.push(n))}for(const[n,r]of u)this._data.set(n,a,r)}h.length>0&&this._onMarkerChanged.fire(h)}read(a=Object.create(null)){let{owner:l,resource:h,severities:d,take:u}=a;if((!u||u<0)&&(u=-1),l&&h){const n=this._data.get(h,l);if(n){const r=[];for(const s of n)if(i._accept(s,d)){const o=r.push(s);if(u>0&&o===u)break}return r}else return[]}else if(!l&&!h){const n=[];for(let r of this._data.values())for(let s of r)if(i._accept(s,d)){const o=n.push(s);if(u>0&&o===u)return n}return n}else{const n=this._data.values(h!=null?h:l),r=[];for(const s of n)for(const o of s)if(i._accept(o,d)){const m=r.push(o);if(u>0&&m===u)return r}return r}}static _accept(a,l){return l===void 0||(l&a.severity)===a.severity}static _merge(a){const l=new E.ResourceMap;for(let h of a)for(let d of h)l.set(d,!0);return Array.from(l.keys())}}e.MarkerService=i}),define(ee[41],te([0,1,4,82,9]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoOpProgress=e.NoOpNotification=e.NotificationsFilter=e.NeverShowAgainScope=e.INotificationService=e.Severity=void 0,e.Severity=N.default,e.INotificationService=(0,M.createDecorator)("notificationService");var E;(function(p){p[p.WORKSPACE=0]="WORKSPACE",p[p.GLOBAL=1]="GLOBAL"})(E=e.NeverShowAgainScope||(e.NeverShowAgainScope={}));var g;(function(p){p[p.OFF=0]="OFF",p[p.SILENT=1]="SILENT",p[p.ERROR=2]="ERROR"})(g=e.NotificationsFilter||(e.NotificationsFilter={}));class S{constructor(){this.progress=new b,this.onDidClose=L.Event.None,this.onDidChangeVisibility=L.Event.None}updateSeverity(v){}updateMessage(v){}updateActions(v){}close(){}}e.NoOpNotification=S;class b{infinite(){}done(){}total(v){}worked(v){}}e.NoOpProgress=b}),define(ee[54],te([0,1,2,8,22,9]),function(Q,e,L,N,M,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchesSomeScheme=e.matchesScheme=e.NullOpenerService=e.IOpenerService=void 0,e.IOpenerService=(0,E.createDecorator)("openerService"),e.NullOpenerService=Object.freeze({_serviceBrand:void 0,registerOpener(){return L.Disposable.None},registerValidator(){return L.Disposable.None},registerExternalUriResolver(){return L.Disposable.None},setDefaultExternalOpener(){},registerExternalOpener(){return L.Disposable.None},open(){return Me(this,void 0,void 0,function*(){return!1})},resolveExternalUri(b){return Me(this,void 0,void 0,function*(){return{resolved:b,dispose(){}}})}});function g(b,p){return M.URI.isUri(b)?(0,N.equalsIgnoreCase)(b.scheme,p):(0,N.startsWithIgnoreCase)(b,p+":")}e.matchesScheme=g;function S(b,...p){return p.some(v=>g(b,v))}e.matchesSomeScheme=S}),define(ee[607],te([0,1,7,21,80,48,212,42,33,22,30,26,581,54]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpenerService=void 0;let l=class{constructor(n){this._commandService=n}open(n,r){return Me(this,void 0,void 0,function*(){if(!(0,a.matchesScheme)(n,S.Schemas.command))return!1;if(!(r==null?void 0:r.allowCommands))return!0;typeof n=="string"&&(n=p.URI.parse(n));let s=[];try{s=(0,g.parse)(decodeURIComponent(n.query))}catch(o){try{s=(0,g.parse)(n.query)}catch(m){}}return Array.isArray(s)||(s=[s]),yield this._commandService.executeCommand(n.path,...s),!0})}};l=Ve([Ce(0,i.ICommandService)],l);let h=class{constructor(n){this._editorService=n}open(n,r){return Me(this,void 0,void 0,function*(){typeof n=="string"&&(n=p.URI.parse(n));let s;const o=/^L?(\d+)(?:,(\d+))?/.exec(n.fragment);return o&&(s={startLineNumber:parseInt(o[1]),startColumn:o[2]?parseInt(o[2]):1},n=n.with({fragment:""})),n.scheme===S.Schemas.file&&(n=(0,b.normalizePath)(n)),yield this._editorService.openCodeEditor({resource:n,options:Object.assign({selection:s,context:(r==null?void 0:r.fromUserGesture)?t.EditorOpenContext.USER:t.EditorOpenContext.API},r==null?void 0:r.editorOptions)},this._editorService.getFocusedCodeEditor(),r==null?void 0:r.openToSide),!0})}};h=Ve([Ce(0,v.ICodeEditorService)],h);let d=class{constructor(n,r){this._openers=new M.LinkedList,this._validators=new M.LinkedList,this._resolvers=new M.LinkedList,this._resolvedUriTargets=new E.ResourceMap(s=>s.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new M.LinkedList,this._defaultExternalOpener={openExternal:s=>Me(this,void 0,void 0,function*(){return(0,a.matchesSomeScheme)(s,S.Schemas.http,S.Schemas.https)?L.windowOpenNoOpener(s):window.location.href=s,!0})},this._openers.push({open:(s,o)=>Me(this,void 0,void 0,function*(){return(o==null?void 0:o.openExternal)||(0,a.matchesSomeScheme)(s,S.Schemas.mailto,S.Schemas.http,S.Schemas.https,S.Schemas.vsls)?(yield this._doOpenExternal(s,o),!0):!1})}),this._openers.push(new l(r)),this._openers.push(new h(n))}registerOpener(n){return{dispose:this._openers.unshift(n)}}registerValidator(n){return{dispose:this._validators.push(n)}}registerExternalUriResolver(n){return{dispose:this._resolvers.push(n)}}setDefaultExternalOpener(n){this._defaultExternalOpener=n}registerExternalOpener(n){return{dispose:this._externalOpeners.push(n)}}open(n,r){var s;return Me(this,void 0,void 0,function*(){const o=typeof n=="string"?p.URI.parse(n):n,m=(s=this._resolvedUriTargets.get(o))!==null&&s!==void 0?s:n;for(const _ of this._validators)if(!(yield _.shouldOpen(m)))return!1;for(const _ of this._openers)if(yield _.open(n,r))return!0;return!1})}resolveExternalUri(n,r){return Me(this,void 0,void 0,function*(){for(const s of this._resolvers)try{const o=yield s.resolveExternalUri(n,r);if(o)return this._resolvedUriTargets.has(o.resolved)||this._resolvedUriTargets.set(o.resolved,n),o}catch(o){}throw new Error("Could not resolve external URI: "+n.toString())})}_doOpenExternal(n,r){return Me(this,void 0,void 0,function*(){const s=typeof n=="string"?p.URI.parse(n):n;let o;try{o=(yield this.resolveExternalUri(s,r)).resolved}catch(_){o=s}let m;if(typeof n=="string"&&s.toString()===o.toString()?m=n:m=encodeURI(o.toString(!0)),r==null?void 0:r.allowContributedOpeners){const _=typeof(r==null?void 0:r.allowContributedOpeners)=="string"?r==null?void 0:r.allowContributedOpeners:void 0;for(const f of this._externalOpeners)if(yield f.openExternal(m,{sourceUri:s,preferredOpenerId:_},N.CancellationToken.None))return!0}return this._defaultExternalOpener.openExternal(m,{sourceUri:s},N.CancellationToken.None)})}dispose(){this._validators.clear()}};d=Ve([Ce(0,v.ICodeEditorService),Ce(1,i.ICommandService)],d),e.OpenerService=d}),define(ee[61],te([0,1,10,21,2,9]),function(Q,e,L,N,M,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorProgressService=e.LongRunningOperation=e.UnmanagedProgress=e.Progress=e.emptyProgressRunner=e.IProgressService=void 0,e.IProgressService=(0,E.createDecorator)("progressService"),e.emptyProgressRunner=Object.freeze({total(){},worked(){},done(){}});class g{constructor(v){this.callback=v}get value(){return this._value}report(v){this._value=v,this.callback(this._value)}}e.Progress=g,g.None=Object.freeze({report(){}});let S=class extends M.Disposable{constructor(v,i){super();this.deferred=new L.DeferredPromise,i.withProgress(v,t=>(this.reporter=t,this.lastStep&&t.report(this.lastStep),this.deferred.p)),this._register((0,M.toDisposable)(()=>this.deferred.complete()))}report(v){this.reporter?this.reporter.report(v):this.lastStep=v}};S=Ve([Ce(1,e.IProgressService)],S),e.UnmanagedProgress=S;class b extends M.Disposable{constructor(v){super();this.progressIndicator=v,this.currentOperationId=0,this.currentOperationDisposables=this._register(new M.DisposableStore)}start(v){this.stop();const i=++this.currentOperationId,t=new N.CancellationTokenSource;return this.currentProgressTimeout=setTimeout(()=>{i===this.currentOperationId&&(this.currentProgressRunner=this.progressIndicator.show(!0))},v),this.currentOperationDisposables.add((0,M.toDisposable)(()=>clearTimeout(this.currentProgressTimeout))),this.currentOperationDisposables.add((0,M.toDisposable)(()=>t.cancel())),this.currentOperationDisposables.add((0,M.toDisposable)(()=>this.currentProgressRunner?this.currentProgressRunner.done():void 0)),{id:i,token:t.token,stop:()=>this.doStop(i),isCurrent:()=>this.currentOperationId===i}}stop(){this.doStop(this.currentOperationId)}doStop(v){this.currentOperationId===v&&this.currentOperationDisposables.clear()}}e.LongRunningOperation=b,e.IEditorProgressService=(0,E.createDecorator)("editorProgressService")}),define(ee[608],te([0,1,10,21,2]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PickerQuickAccessProvider=e.TriggerAction=void 0;var E;(function(p){p[p.NO_ACTION=0]="NO_ACTION",p[p.CLOSE_PICKER=1]="CLOSE_PICKER",p[p.REFRESH_PICKER=2]="REFRESH_PICKER",p[p.REMOVE_ITEM=3]="REMOVE_ITEM"})(E=e.TriggerAction||(e.TriggerAction={}));function g(p){const v=p;return Array.isArray(v.items)}function S(p){const v=p;return!!v.picks&&v.additionalPicks instanceof Promise}class b extends M.Disposable{constructor(v,i){super();this.prefix=v,this.options=i}provide(v,i){var t;const a=new M.DisposableStore;v.canAcceptInBackground=!!((t=this.options)===null||t===void 0?void 0:t.canAcceptInBackground),v.matchOnLabel=v.matchOnDescription=v.matchOnDetail=v.sortByLabel=!1;let l;const h=a.add(new M.MutableDisposable),d=()=>Me(this,void 0,void 0,function*(){const u=h.value=new M.DisposableStore;l==null||l.dispose(!0),v.busy=!1,l=new N.CancellationTokenSource(i);const n=l.token,r=v.value.substr(this.prefix.length).trim(),s=this._getPicks(r,u,n),o=(m,_)=>{var f;let c,C;if(g(m)?(c=m.items,C=m.active):c=m,c.length===0){if(_)return!1;r.length>0&&((f=this.options)===null||f===void 0?void 0:f.noResultsPick)&&(c=[this.options.noResultsPick])}return v.items=c,C&&(v.activeItems=[C]),!0};if(s!==null)if(S(s)){let m=!1,_=!1;yield Promise.all([(()=>Me(this,void 0,void 0,function*(){yield(0,L.timeout)(b.FAST_PICKS_RACE_DELAY),!n.isCancellationRequested&&(_||(m=o(s.picks,!0)))}))(),(()=>Me(this,void 0,void 0,function*(){v.busy=!0;try{const f=yield s.additionalPicks;if(n.isCancellationRequested)return;let c,C;g(s.picks)?(c=s.picks.items,C=s.picks.active):c=s.picks;let y,w;if(g(f)?(y=f.items,w=f.active):y=f,y.length>0||!m){let D;if(!C&&!w){const I=v.activeItems[0];I&&c.indexOf(I)!==-1&&(D=I)}o({items:[...c,...y],active:C||w||D})}}finally{n.isCancellationRequested||(v.busy=!1),_=!0}}))()])}else if(!(s instanceof Promise))o(s);else{v.busy=!0;try{const m=yield s;if(n.isCancellationRequested)return;o(m)}finally{n.isCancellationRequested||(v.busy=!1)}}});return a.add(v.onDidChangeValue(()=>d())),d(),a.add(v.onDidAccept(u=>{const[n]=v.selectedItems;typeof(n==null?void 0:n.accept)=="function"&&(u.inBackground||v.hide(),n.accept(v.keyMods,u))})),a.add(v.onDidTriggerItemButton(({button:u,item:n})=>Me(this,void 0,void 0,function*(){var r,s;if(typeof n.trigger=="function"){const o=(s=(r=n.buttons)===null||r===void 0?void 0:r.indexOf(u))!==null&&s!==void 0?s:-1;if(o>=0){const m=n.trigger(o,v.keyMods),_=typeof m=="number"?m:yield m;if(i.isCancellationRequested)return;switch(_){case E.NO_ACTION:break;case E.CLOSE_PICKER:v.hide();break;case E.REFRESH_PICKER:d();break;case E.REMOVE_ITEM:const f=v.items.indexOf(n);if(f!==-1){const c=v.items.slice(),C=c.splice(f,1),y=v.activeItems.filter(D=>D!==C[0]),w=v.keepScrollPosition;v.keepScrollPosition=!0,v.items=c,y&&(v.activeItems=y),v.keepScrollPosition=w}break}}}}))),a}}e.PickerQuickAccessProvider=b,b.FAST_PICKS_RACE_DELAY=200});var ni=this&&this.__createBinding||(Object.create?function(Q,e,L,N){N===void 0&&(N=L),Object.defineProperty(Q,N,{enumerable:!0,get:function(){return e[L]}})}:function(Q,e,L,N){N===void 0&&(N=L),Q[N]=e[L]}),si=this&&this.__exportStar||function(Q,e){for(var L in Q)L!=="default"&&!Object.prototype.hasOwnProperty.call(e,L)&&ni(e,Q,L)};define(ee[76],te([0,1,9,219]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IQuickInputService=void 0,si(N,e),e.IQuickInputService=(0,L.createDecorator)("quickInputService")}),define(ee[35],te([0,1,209,20]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Registry=void 0;class M{constructor(){this.data=new Map}add(g,S){L.ok(N.isString(g)),L.ok(N.isObject(S)),L.ok(!this.data.has(g),"There is already an extension with this id"),this.data.set(g,S)}knows(g){return this.data.has(g)}as(g){return this.data.get(g)||null}}e.Registry=new M}),define(ee[194],te([0,1,4,35]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=void 0,e.Extensions={JSONContribution:"base.contributions.json"};function M(S){return S.length>0&&S.charAt(S.length-1)==="#"?S.substring(0,S.length-1):S}class E{constructor(){this._onDidChangeSchema=new L.Emitter,this.onDidChangeSchema=this._onDidChangeSchema.event,this.schemasById={}}registerSchema(b,p){this.schemasById[M(b)]=p,this._onDidChangeSchema.fire(b)}notifySchemaChanged(b){this._onDidChangeSchema.fire(b)}getSchemaContributions(){return{schemas:this.schemasById}}}const g=new E;N.Registry.add(e.Extensions.JSONContribution,g)}),define(ee[105],te([0,1,19,4,20,564,194,35]),function(Q,e,L,N,M,E,g,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getScopes=e.validateProperty=e.getDefaultValue=e.keyFromOverrideIdentifiers=e.overrideIdentifiersFromKey=e.OVERRIDE_PROPERTY_REGEX=e.OVERRIDE_PROPERTY_PATTERN=e.configurationDefaultsSchemaId=e.resourceLanguageSettingsSchemaId=e.resourceSettings=e.windowSettings=e.machineOverridableSettings=e.machineSettings=e.applicationSettings=e.allSettings=e.Extensions=e.EditPresentationTypes=void 0;var b;(function(r){r.Multiline="multilineText",r.Singleline="singlelineText"})(b=e.EditPresentationTypes||(e.EditPresentationTypes={})),e.Extensions={Configuration:"base.contributions.configuration"},e.allSettings={properties:{},patternProperties:{}},e.applicationSettings={properties:{},patternProperties:{}},e.machineSettings={properties:{},patternProperties:{}},e.machineOverridableSettings={properties:{},patternProperties:{}},e.windowSettings={properties:{},patternProperties:{}},e.resourceSettings={properties:{},patternProperties:{}},e.resourceLanguageSettingsSchemaId="vscode://schemas/settings/resourceLanguage",e.configurationDefaultsSchemaId="vscode://schemas/settings/configurationDefaults";const p=S.Registry.as(g.Extensions.JSONContribution);class v{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new N.Emitter,this.onDidSchemaChange=this._onDidSchemaChange.event,this._onDidUpdateConfiguration=new N.Emitter,this.onDidUpdateConfiguration=this._onDidUpdateConfiguration.event,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:E.localize(0,null),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},p.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(s,o=!0){this.registerConfigurations([s],o)}registerConfigurations(s,o=!0){const m=this.doRegisterConfigurations(s,o);p.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:m})}deregisterConfigurations(s){const o=this.doDeregisterConfigurations(s);p.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:o})}updateConfigurations({add:s,remove:o}){const m=[];m.push(...this.doDeregisterConfigurations(o)),m.push(...this.doRegisterConfigurations(s,!1)),p.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:(0,L.distinct)(m)})}registerDefaultConfigurations(s){var o;const m=[],_=[];for(const{overrides:f,source:c}of s)for(const C in f)if(m.push(C),e.OVERRIDE_PROPERTY_REGEX.test(C)){const y=Object.assign(Object.assign({},((o=this.configurationDefaultsOverrides.get(C))===null||o===void 0?void 0:o.value)||{}),f[C]);this.configurationDefaultsOverrides.set(C,{source:c,value:y});const w={type:"object",default:y,description:E.localize(1,null,C),$ref:e.resourceLanguageSettingsSchemaId,defaultDefaultValue:y,source:M.isString(c)?void 0:c};_.push(...a(C)),this.configurationProperties[C]=w,this.defaultLanguageConfigurationOverridesNode.properties[C]=w}else{this.configurationDefaultsOverrides.set(C,{value:f[C],source:c});const y=this.configurationProperties[C];y&&(this.updatePropertyDefaultValue(C,y),this.updateSchema(C,y))}this.registerOverrideIdentifiers(_),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:m,defaultsOverrides:!0})}deregisterDefaultConfigurations(s){var o;const m=[];for(const{overrides:_,source:f}of s)for(const c in _){const C=this.configurationDefaultsOverrides.get(c),y=M.isString(f)?f:f==null?void 0:f.id,w=M.isString(C==null?void 0:C.source)?C==null?void 0:C.source:(o=C==null?void 0:C.source)===null||o===void 0?void 0:o.id;if(y===w)if(m.push(c),this.configurationDefaultsOverrides.delete(c),e.OVERRIDE_PROPERTY_REGEX.test(c))delete this.configurationProperties[c],delete this.defaultLanguageConfigurationOverridesNode.properties[c];else{const D=this.configurationProperties[c];D&&(this.updatePropertyDefaultValue(c,D),this.updateSchema(c,D))}}this.updateOverridePropertyPatternKey(),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:m,defaultsOverrides:!0})}notifyConfigurationSchemaUpdated(...s){this._onDidSchemaChange.fire()}registerOverrideIdentifiers(s){for(const o of s)this.overrideIdentifiers.add(o);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(s,o){const m=[];return s.forEach(_=>{m.push(...this.validateAndRegisterProperties(_,o,_.extensionInfo,_.restrictedProperties)),this.configurationContributors.push(_),this.registerJSONConfiguration(_)}),m}doDeregisterConfigurations(s){const o=[],m=_=>{if(_.properties)for(const f in _.properties)o.push(f),delete this.configurationProperties[f],this.removeFromSchema(f,_.properties[f]);_.allOf&&_.allOf.forEach(f=>m(f))};for(const _ of s){m(_);const f=this.configurationContributors.indexOf(_);f!==-1&&this.configurationContributors.splice(f,1)}return o}validateAndRegisterProperties(s,o=!0,m,_,f=3){f=M.isUndefinedOrNull(s.scope)?f:s.scope;let c=[],C=s.properties;if(C)for(let w in C){if(o&&u(w)){delete C[w];continue}const D=C[w];if(D.source=m,D.defaultDefaultValue=C[w].default,this.updatePropertyDefaultValue(w,D),e.OVERRIDE_PROPERTY_REGEX.test(w)?D.scope=void 0:(D.scope=M.isUndefinedOrNull(D.scope)?f:D.scope,D.restricted=M.isUndefinedOrNull(D.restricted)?!!(_==null?void 0:_.includes(w)):D.restricted),C[w].hasOwnProperty("included")&&!C[w].included){this.excludedConfigurationProperties[w]=C[w],delete C[w];continue}else this.configurationProperties[w]=C[w];!C[w].deprecationMessage&&C[w].markdownDeprecationMessage&&(C[w].deprecationMessage=C[w].markdownDeprecationMessage),c.push(w)}let y=s.allOf;if(y)for(let w of y)c.push(...this.validateAndRegisterProperties(w,o,m,_,f));return c}getConfigurations(){return this.configurationContributors}getConfigurationProperties(){return this.configurationProperties}getExcludedConfigurationProperties(){return this.excludedConfigurationProperties}getConfigurationDefaultsOverrides(){return this.configurationDefaultsOverrides}registerJSONConfiguration(s){const o=m=>{let _=m.properties;if(_)for(const c in _)this.updateSchema(c,_[c]);let f=m.allOf;f&&f.forEach(o)};o(s)}updateSchema(s,o){switch(e.allSettings.properties[s]=o,o.scope){case 1:e.applicationSettings.properties[s]=o;break;case 2:e.machineSettings.properties[s]=o;break;case 6:e.machineOverridableSettings.properties[s]=o;break;case 3:e.windowSettings.properties[s]=o;break;case 4:e.resourceSettings.properties[s]=o;break;case 5:e.resourceSettings.properties[s]=o,this.resourceLanguageSettingsSchema.properties[s]=o;break}}removeFromSchema(s,o){switch(delete e.allSettings.properties[s],o.scope){case 1:delete e.applicationSettings.properties[s];break;case 2:delete e.machineSettings.properties[s];break;case 6:delete e.machineOverridableSettings.properties[s];break;case 3:delete e.windowSettings.properties[s];break;case 4:case 5:delete e.resourceSettings.properties[s],delete this.resourceLanguageSettingsSchema.properties[s];break}}updateOverridePropertyPatternKey(){for(const s of this.overrideIdentifiers.values()){const o=`[${s}]`,m={type:"object",description:E.localize(2,null),errorMessage:E.localize(3,null),$ref:e.resourceLanguageSettingsSchemaId};this.updatePropertyDefaultValue(o,m),e.allSettings.properties[o]=m,e.applicationSettings.properties[o]=m,e.machineSettings.properties[o]=m,e.machineOverridableSettings.properties[o]=m,e.windowSettings.properties[o]=m,e.resourceSettings.properties[o]=m}this._onDidSchemaChange.fire()}registerOverridePropertyPatternKey(){const s={type:"object",description:E.localize(4,null),errorMessage:E.localize(5,null),$ref:e.resourceLanguageSettingsSchemaId};e.allSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.applicationSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.machineSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.machineOverridableSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.windowSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.resourceSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(s,o){const m=this.configurationDefaultsOverrides.get(s);let _=m==null?void 0:m.value,f=m==null?void 0:m.source;M.isUndefined(_)&&(_=o.defaultDefaultValue,f=void 0),M.isUndefined(_)&&(_=h(o.type)),o.default=_,o.defaultValueSource=f}}const i="\\[([^\\]]+)\\]",t=new RegExp(i,"g");e.OVERRIDE_PROPERTY_PATTERN=`^(${i})+$`,e.OVERRIDE_PROPERTY_REGEX=new RegExp(e.OVERRIDE_PROPERTY_PATTERN);function a(r){const s=[];if(e.OVERRIDE_PROPERTY_REGEX.test(r)){let o=t.exec(r);for(;o==null?void 0:o.length;){const m=o[1].trim();m&&s.push(m),o=t.exec(r)}}return(0,L.distinct)(s)}e.overrideIdentifiersFromKey=a;function l(r){return r.reduce((s,o)=>`${s}[${o}]`,"")}e.keyFromOverrideIdentifiers=l;function h(r){switch(Array.isArray(r)?r[0]:r){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}e.getDefaultValue=h;const d=new v;S.Registry.add(e.Extensions.Configuration,d);function u(r){return r.trim()?e.OVERRIDE_PROPERTY_REGEX.test(r)?E.localize(7,null,r):d.getConfigurationProperties()[r]!==void 0?E.localize(8,null,r):null:E.localize(6,null)}e.validateProperty=u;function n(){const r=[],s=d.getConfigurationProperties();for(const o of Object.keys(s))r.push([o,s[o].scope]);return r.push(["launch",4]),r.push(["task",4]),r}e.getScopes=n}),define(ee[195],te([0,1,491,4,2,34,19,29,144,190,105,35,210]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDiffEditorConfigurationKey=e.isEditorConfigurationKey=e.editorConfigurationBaseNode=e.CommonEditorConfiguration=e.ComputedEditorOptions=e.TabFocus=void 0,e.TabFocus=new class{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new N.Emitter,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(y){this._tabFocus!==y&&(this._tabFocus=y,this._onDidChangeTabFocus.fire(this._tabFocus))}};const a=Object.hasOwnProperty;class l{constructor(){this._values=[]}_read(w){return this._values[w]}get(w){return this._values[w]}_write(w,D){this._values[w]=D}}e.ComputedEditorOptions=l;class h{constructor(){this._values=[]}_read(w){return this._values[w]}_write(w,D){this._values[w]=D}}class d{static readOptions(w){const D=w,I=new h;for(const T of S.editorOptionsRegistry){const F=T.name==="_never_"?void 0:D[T.name];I._write(T.id,F)}return I}static validateOptions(w){const D=new S.ValidatedEditorOptions;for(const I of S.editorOptionsRegistry)D._write(I.id,I.validate(w._read(I.id)));return D}static computeOptions(w,D){const I=new l;for(const T of S.editorOptionsRegistry)I._write(T.id,T.compute(D,I,w._read(T.id)));return I}static _deepEquals(w,D){if(typeof w!="object"||typeof D!="object"||!w||!D)return w===D;if(Array.isArray(w)||Array.isArray(D))return Array.isArray(w)&&Array.isArray(D)?g.equals(w,D):!1;if(Object.keys(w).length!==Object.keys(D).length)return!1;for(let I in w)if(!d._deepEquals(w[I],D[I]))return!1;return!0}static checkEquals(w,D){const I=[];let T=!1;for(const F of S.editorOptionsRegistry){const P=!d._deepEquals(w._read(F.id),D._read(F.id));I[F.id]=P,P&&(T=!0)}return T?new S.ConfigurationChangedEvent(I):null}static applyUpdate(w,D){let I=!1;for(const T of S.editorOptionsRegistry)if(D.hasOwnProperty(T.name)){const F=T.applyUpdate(w[T.name],D[T.name]);w[T.name]=F.newValue,I=I||F.didChange}return I}}function u(y){const w=y.wordWrap;w===!0?y.wordWrap="on":w===!1&&(y.wordWrap="off");const D=y.lineNumbers;D===!0?y.lineNumbers="on":D===!1&&(y.lineNumbers="off"),y.autoClosingBrackets===!1&&(y.autoClosingBrackets="never",y.autoClosingQuotes="never",y.autoSurround="never"),y.cursorBlinking==="visible"&&(y.cursorBlinking="solid");const F=y.renderWhitespace;F===!0?y.renderWhitespace="boundary":F===!1&&(y.renderWhitespace="none");const P=y.renderLineHighlight;P===!0?y.renderLineHighlight="line":P===!1&&(y.renderLineHighlight="none");const R=y.acceptSuggestionOnEnter;R===!0?y.acceptSuggestionOnEnter="on":R===!1&&(y.acceptSuggestionOnEnter="off");const A=y.tabCompletion;A===!1?y.tabCompletion="off":A===!0&&(y.tabCompletion="onlySnippets");const O=y.suggest;if(O&&typeof O.filteredTypes=="object"&&O.filteredTypes){const Z={};Z.method="showMethods",Z.function="showFunctions",Z.constructor="showConstructors",Z.deprecated="showDeprecated",Z.field="showFields",Z.variable="showVariables",Z.class="showClasses",Z.struct="showStructs",Z.interface="showInterfaces",Z.module="showModules",Z.property="showProperties",Z.event="showEvents",Z.operator="showOperators",Z.unit="showUnits",Z.value="showValues",Z.constant="showConstants",Z.enum="showEnums",Z.enumMember="showEnumMembers",Z.keyword="showKeywords",Z.text="showWords",Z.color="showColors",Z.file="showFiles",Z.reference="showReferences",Z.folder="showFolders",Z.typeParameter="showTypeParameters",Z.snippet="showSnippets",(0,t.forEach)(Z,q=>{const H=O.filteredTypes[q.key];H===!1&&(O[q.value]=H)})}const k=y.hover;k===!0?y.hover={enabled:!0}:k===!1&&(y.hover={enabled:!1});const V=y.parameterHints;V===!0?y.parameterHints={enabled:!0}:V===!1&&(y.parameterHints={enabled:!1});const B=y.autoIndent;B===!0?y.autoIndent="full":B===!1&&(y.autoIndent="advanced");const x=y.matchBrackets;x===!0?y.matchBrackets="always":x===!1&&(y.matchBrackets="never");const{renderIndentGuides:K,highlightActiveIndentGuide:X}=y;y.guides||(y.guides={}),K!==void 0&&(y.guides.indentation=!!K),X!==void 0&&(y.guides.highlightActiveIndentation=!!X)}function n(y){const w=E.deepClone(y);return u(w),w}class r extends M.Disposable{constructor(w,D){super();this._onDidChange=this._register(new N.Emitter),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new N.Emitter),this.onDidChangeFast=this._onDidChangeFast.event,this._reservedHeight=0,this.isSimpleWidget=w,this._isDominatedByLongLines=!1,this._computeOptionsMemory=new S.ComputeOptionsMemory,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._rawOptions=n(D),this._readOptions=d.readOptions(this._rawOptions),this._validatedOptions=d.validateOptions(this._readOptions),this._register(b.EditorZoom.onDidChangeZoomLevel(I=>this._recomputeOptions())),this._register(e.TabFocus.onDidChangeTabFocus(I=>this._recomputeOptions()))}observeReferenceElement(w){}updatePixelRatio(){}_recomputeOptions(){const w=this.options,D=this._computeInternalOptions();if(!w)this.options=D;else{const I=d.checkEquals(w,D);if(I===null)return;this.options=D,this._onDidChangeFast.fire(I),this._onDidChange.fire(I)}}getRawOptions(){return this._rawOptions}_computeInternalOptions(){const w=this._getEnvConfiguration(),D=p.BareFontInfo.createFromValidatedSettings(this._validatedOptions,w.zoomLevel,w.pixelRatio,this.isSimpleWidget),I={memory:this._computeOptionsMemory,outerWidth:w.outerWidth,outerHeight:w.outerHeight-this._reservedHeight,fontInfo:this.readConfiguration(D),extraEditorClassName:w.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:w.emptySelectionClipboard,pixelRatio:w.pixelRatio,tabFocusMode:e.TabFocus.getTabFocusMode(),accessibilitySupport:w.accessibilitySupport};return d.computeOptions(this._validatedOptions,I)}updateOptions(w){if(typeof w=="undefined")return;const D=n(w);!d.applyUpdate(this._rawOptions,D)||(this._readOptions=d.readOptions(this._rawOptions),this._validatedOptions=d.validateOptions(this._readOptions),this._recomputeOptions())}setIsDominatedByLongLines(w){this._isDominatedByLongLines=w,this._recomputeOptions()}setMaxLineNumber(w){const D=r._digitCount(w);this._lineNumbersDigitCount!==D&&(this._lineNumbersDigitCount=D,this._recomputeOptions())}setViewLineCount(w){this._viewLineCount!==w&&(this._viewLineCount=w,this._recomputeOptions())}static _digitCount(w){let D=0;for(;w;)w=Math.floor(w/10),D++;return D||1}reserveHeight(w){this._reservedHeight=w,this._recomputeOptions()}}e.CommonEditorConfiguration=r,e.editorConfigurationBaseNode=Object.freeze({id:"editor",order:5,type:"object",title:L.localize(0,null),scope:5});const s=i.Registry.as(v.Extensions.Configuration),o=Object.assign(Object.assign({},e.editorConfigurationBaseNode),{properties:{"editor.tabSize":{type:"number",default:S.EDITOR_MODEL_DEFAULTS.tabSize,minimum:1,markdownDescription:L.localize(1,null)},"editor.insertSpaces":{type:"boolean",default:S.EDITOR_MODEL_DEFAULTS.insertSpaces,markdownDescription:L.localize(2,null)},"editor.detectIndentation":{type:"boolean",default:S.EDITOR_MODEL_DEFAULTS.detectIndentation,markdownDescription:L.localize(3,null)},"editor.trimAutoWhitespace":{type:"boolean",default:S.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,description:L.localize(4,null)},"editor.largeFileOptimizations":{type:"boolean",default:S.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,description:L.localize(5,null)},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:L.localize(6,null)},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[L.localize(7,null),L.localize(8,null),L.localize(9,null)],description:L.localize(10,null)},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[L.localize(11,null),L.localize(12,null),L.localize(13,null)],default:"configuredByTheme",description:L.localize(14,null)},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:L.localize(15,null)},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:L.localize(16,null)},"editor.language.brackets":{type:"array",default:!1,description:L.localize(17,null),items:{type:"array",items:[{type:"string",description:L.localize(18,null)},{type:"string",description:L.localize(19,null)}]}},"editor.language.colorizedBracketPairs":{type:"array",default:!1,description:L.localize(20,null),items:{type:"array",items:[{type:"string",description:L.localize(21,null)},{type:"string",description:L.localize(22,null)}]}},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:L.localize(23,null)},"diffEditor.maxFileSize":{type:"number",default:50,description:L.localize(24,null)},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:L.localize(25,null)},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:L.localize(26,null)},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:L.localize(27,null)},"diffEditor.codeLens":{type:"boolean",default:!1,description:L.localize(28,null)},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[L.localize(29,null),L.localize(30,null),L.localize(31,null)]}}});function m(y){return typeof y.type!="undefined"||typeof y.anyOf!="undefined"}for(const y of S.editorOptionsRegistry){const w=y.schema;if(typeof w!="undefined")if(m(w))o.properties[`editor.${y.name}`]=w;else for(let D in w)a.call(w,D)&&(o.properties[D]=w[D])}let _=null;function f(){return _===null&&(_=Object.create(null),Object.keys(o.properties).forEach(y=>{_[y]=!0})),_}function c(y){return f()[`editor.${y}`]||!1}e.isEditorConfigurationKey=c;function C(y){return f()[`diffEditor.${y}`]||!1}e.isDiffEditorConfigurationKey=C,s.registerConfiguration(o)}),define(ee[63],te([0,1,36,4,2,15,493,229,195,29,190]),function(Q,e,L,N,M,E,g,S,b,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Configuration=e.serializeFontInfo=e.restoreFontInfo=e.readFontInfo=e.clearAllFontInfos=void 0;class i{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(r){const s=r.getId();return!!this._values[s]}get(r){const s=r.getId();return this._values[s]}put(r,s){const o=r.getId();this._keys[o]=r,this._values[o]=s}remove(r){const s=r.getId();delete this._keys[s],delete this._values[s]}getValues(){return Object.keys(this._keys).map(r=>this._values[r])}}function t(){d.INSTANCE.clearCache()}e.clearAllFontInfos=t;function a(n){return d.INSTANCE.readConfiguration(n)}e.readFontInfo=a;function l(n){d.INSTANCE.restoreFontInfo(n)}e.restoreFontInfo=l;function h(){const n=d.INSTANCE.saveFontInfo();return n.length>0?n:null}e.serializeFontInfo=h;class d extends M.Disposable{constructor(){super();this._onDidChange=this._register(new N.Emitter),this.onDidChange=this._onDidChange.event,this._cache=new i,this._evictUntrustedReadingsTimeout=-1}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearCache(){this._cache=new i,this._onDidChange.fire()}_writeToCache(r,s){this._cache.put(r,s),!s.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const r=this._cache.getValues();let s=!1;for(const o of r)o.isTrusted||(s=!0,this._cache.remove(o));s&&this._onDidChange.fire()}saveFontInfo(){return this._cache.getValues().filter(r=>r.isTrusted)}restoreFontInfo(r){for(const s of r){if(s.version!==v.SERIALIZED_FONT_INFO_VERSION)continue;const o=new v.FontInfo(s,!1);this._writeToCache(o,o)}}readConfiguration(r){if(!this._cache.has(r)){let s=d._actualReadConfiguration(r);(s.typicalHalfwidthCharacterWidth<=2||s.typicalFullwidthCharacterWidth<=2||s.spaceWidth<=2||s.maxDigitWidth<=2)&&(s=new v.FontInfo({zoomLevel:L.getZoomLevel(),pixelRatio:L.getPixelRatio(),fontFamily:s.fontFamily,fontWeight:s.fontWeight,fontSize:s.fontSize,fontFeatureSettings:s.fontFeatureSettings,lineHeight:s.lineHeight,letterSpacing:s.letterSpacing,isMonospace:s.isMonospace,typicalHalfwidthCharacterWidth:Math.max(s.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(s.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:s.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(s.spaceWidth,5),middotWidth:Math.max(s.middotWidth,5),wsmiddotWidth:Math.max(s.wsmiddotWidth,5),maxDigitWidth:Math.max(s.maxDigitWidth,5)},!1)),this._writeToCache(r,s)}return this._cache.get(r)}static createRequest(r,s,o,m){const _=new g.CharWidthRequest(r,s);return o.push(_),m&&m.push(_),_}static _actualReadConfiguration(r){const s=[],o=[],m=this.createRequest("n",0,s,o),_=this.createRequest("\uFF4D",0,s,null),f=this.createRequest(" ",0,s,o),c=this.createRequest("0",0,s,o),C=this.createRequest("1",0,s,o),y=this.createRequest("2",0,s,o),w=this.createRequest("3",0,s,o),D=this.createRequest("4",0,s,o),I=this.createRequest("5",0,s,o),T=this.createRequest("6",0,s,o),F=this.createRequest("7",0,s,o),P=this.createRequest("8",0,s,o),R=this.createRequest("9",0,s,o),A=this.createRequest("\u2192",0,s,o),O=this.createRequest("\uFFEB",0,s,null),k=this.createRequest("\xB7",0,s,o),V=this.createRequest(String.fromCharCode(11825),0,s,null),B="|/-_ilm%";for(let H=0,G=B.length;H<G;H++)this.createRequest(B.charAt(H),0,s,o),this.createRequest(B.charAt(H),1,s,o),this.createRequest(B.charAt(H),2,s,o);(0,g.readCharWidths)(r,s);const x=Math.max(c.width,C.width,y.width,w.width,D.width,I.width,T.width,F.width,P.width,R.width);let K=r.fontFeatureSettings===p.EditorFontLigatures.OFF;const X=o[0].width;for(let H=1,G=o.length;K&&H<G;H++){const z=X-o[H].width;if(z<-.001||z>.001){K=!1;break}}let Z=!0;K&&O.width!==X&&(Z=!1),O.width>A.width&&(Z=!1);const q=L.getTimeSinceLastZoomLevelChanged()>2e3;return new v.FontInfo({zoomLevel:L.getZoomLevel(),pixelRatio:L.getPixelRatio(),fontFamily:r.fontFamily,fontWeight:r.fontWeight,fontSize:r.fontSize,fontFeatureSettings:r.fontFeatureSettings,lineHeight:r.lineHeight,letterSpacing:r.letterSpacing,isMonospace:K,typicalHalfwidthCharacterWidth:m.width,typicalFullwidthCharacterWidth:_.width,canUseHalfwidthRightwardsArrow:Z,spaceWidth:f.width,middotWidth:k.width,wsmiddotWidth:V.width,maxDigitWidth:x},q)}}d.INSTANCE=new d;class u extends b.CommonEditorConfiguration{constructor(r,s,o=null,m){super(r,s);this.accessibilityService=m,this._elementSizeObserver=this._register(new S.ElementSizeObserver(o,s.dimension,()=>this._recomputeOptions())),this._register(d.INSTANCE.onDidChange(()=>this._recomputeOptions())),this._validatedOptions.get(10)&&this._elementSizeObserver.startObserving(),this._register(L.onDidChangeZoomLevel(_=>this._recomputeOptions())),this._register(this.accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions())),this._recomputeOptions()}static applyFontInfoSlow(r,s){r.style.fontFamily=s.getMassagedFontFamily(L.isSafari?p.EDITOR_FONT_DEFAULTS.fontFamily:null),r.style.fontWeight=s.fontWeight,r.style.fontSize=s.fontSize+"px",r.style.fontFeatureSettings=s.fontFeatureSettings,r.style.lineHeight=s.lineHeight+"px",r.style.letterSpacing=s.letterSpacing+"px"}static applyFontInfo(r,s){r.setFontFamily(s.getMassagedFontFamily(L.isSafari?p.EDITOR_FONT_DEFAULTS.fontFamily:null)),r.setFontWeight(s.fontWeight),r.setFontSize(s.fontSize),r.setFontFeatureSettings(s.fontFeatureSettings),r.setLineHeight(s.lineHeight),r.setLetterSpacing(s.letterSpacing)}observeReferenceElement(r){this._elementSizeObserver.observe(r)}updatePixelRatio(){this._recomputeOptions()}static _getExtraEditorClassName(){let r="";return!L.isSafari&&!L.isWebkitWebView&&(r+="no-user-select "),L.isSafari&&(r+="no-minimap-shadow "),E.isMacintosh&&(r+="mac "),r}_getEnvConfiguration(){return{extraEditorClassName:u._getExtraEditorClassName(),outerWidth:this._elementSizeObserver.getWidth(),outerHeight:this._elementSizeObserver.getHeight(),emptySelectionClipboard:L.isWebKit||L.isFirefox,pixelRatio:L.getPixelRatio(),zoomLevel:L.getZoomLevel(),accessibilitySupport:this.accessibilityService.isScreenReaderOptimized()?2:this.accessibilityService.getAccessibilitySupport()}}readConfiguration(r){return d.INSTANCE.readConfiguration(r)}}e.Configuration=u}),define(ee[106],te([0,1,213,54,39,12,262,4,2,18,63]),function(Q,e,L,N,M,E,g,S,b,p,v){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.MarkdownRenderer=void 0;let t=class Ti{constructor(l,h,d){this._options=l,this._modeService=h,this._openerService=d,this._onDidRenderAsync=new S.Emitter,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(l,h,d){if(!l)return{element:document.createElement("span"),dispose:()=>{}};const u=new b.DisposableStore;return{element:u.add((0,L.renderMarkdown)(l,Object.assign(Object.assign({},this._getRenderOptions(l,u)),h),d)).element,dispose:()=>u.dispose()}}_getRenderOptions(l,h){return{baseUrl:this._options.baseUrl,codeBlockRenderer:(d,u)=>Me(this,void 0,void 0,function*(){var n,r,s,o;let m;d?m=this._modeService.getModeIdForLanguageName(d):this._options.editor&&(m=(n=this._options.editor.getModel())===null||n===void 0?void 0:n.getLanguageId()),m||(m="plaintext"),this._modeService.triggerMode(m);const _=(r=yield p.TokenizationRegistry.getPromise(m))!==null&&r!==void 0?r:void 0,f=document.createElement("span");if(f.innerHTML=(o=(s=Ti._ttpTokenizer)===null||s===void 0?void 0:s.createHTML(u,this._modeService.languageIdCodec,_))!==null&&o!==void 0?o:(0,g.tokenizeToString)(u,this._modeService.languageIdCodec,_),this._options.editor){const c=this._options.editor.getOption(43);v.Configuration.applyFontInfoSlow(f,c)}else this._options.codeBlockFontFamily&&(f.style.fontFamily=this._options.codeBlockFontFamily);return f}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:d=>this._openerService.open(d,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:l.isTrusted}).catch(E.onUnexpectedError),disposables:h}}}};t._ttpTokenizer=(i=window.trustedTypes)===null||i===void 0?void 0:i.createPolicy("tokenizeToString",{createHTML(a,l,h){return(0,g.tokenizeToString)(a,l,h)}}),t=Ve([Ce(1,M.IModeService),Ce(2,N.IOpenerService)],t),e.MarkdownRenderer=t}),define(ee[609],te([0,1,89,8,63,91,241]),function(Q,e,L,N,M,E,g){"use strict";var S;Object.defineProperty(e,"__esModule",{value:!0}),e.DOMLineBreaksComputerFactory=void 0;const b=(S=window.trustedTypes)===null||S===void 0?void 0:S.createPolicy("domLineBreaksComputer",{createHTML:h=>h});class p{static create(){return new p}constructor(){}createLineBreaksComputer(d,u,n,r){let s=[],o=[];return{addRequest:(m,_,f)=>{s.push(m),o.push(_)},finalize:()=>v(s,d,u,n,r,o)}}}e.DOMLineBreaksComputerFactory=p;function v(h,d,u,n,r,s){var o;function m(B){const x=s[B];if(x){const K=E.LineInjectedText.applyInjectedText(h[B],x),X=x.map(q=>q.options),Z=x.map(q=>q.column-1);return new g.ModelLineProjectionData(Z,X,[K.length],[],0)}else return null}if(n===-1){const B=[];for(let x=0,K=h.length;x<K;x++)B[x]=m(x);return B}const _=Math.round(n*d.typicalHalfwidthCharacterWidth),c=Math.round(u*(r===3?2:r===2?1:0)),C=Math.ceil(d.spaceWidth*c),y=document.createElement("div");M.Configuration.applyFontInfoSlow(y,d);const w=(0,L.createStringBuilder)(1e4),D=[],I=[],T=[],F=[],P=[];for(let B=0;B<h.length;B++){const x=E.LineInjectedText.applyInjectedText(h[B],s[B]);let K=0,X=0,Z=_;if(r!==0)if(K=N.firstNonWhitespaceIndex(x),K===-1)K=0;else{for(let z=0;z<K;z++)X+=x.charCodeAt(z)===9?u-X%u:1;const G=Math.ceil(d.spaceWidth*X);G+d.typicalFullwidthCharacterWidth>_?(K=0,X=0):Z=_-G}const q=x.substr(K),H=i(q,X,u,Z,w,C);D[B]=K,I[B]=X,T[B]=q,F[B]=H[0],P[B]=H[1]}const R=w.build(),A=(o=b==null?void 0:b.createHTML(R))!==null&&o!==void 0?o:R;y.innerHTML=A,y.style.position="absolute",y.style.top="10000",y.style.wordWrap="break-word",document.body.appendChild(y);let O=document.createRange();const k=Array.prototype.slice.call(y.children,0);let V=[];for(let B=0;B<h.length;B++){const x=k[B],K=t(O,x,T[B],F[B]);if(K===null){V[B]=m(B);continue}const X=D[B],Z=I[B]+c,q=P[B],H=[];for(let j=0,U=K.length;j<U;j++)H[j]=q[K[j]];if(X!==0)for(let j=0,U=K.length;j<U;j++)K[j]+=X;let G,z;const W=s[B];W?(G=W.map(j=>j.options),z=W.map(j=>j.column-1)):(G=null,z=null),V[B]=new g.ModelLineProjectionData(z,G,K,H,Z)}return document.body.removeChild(y),V}function i(h,d,u,n,r,s){if(s!==0){let y=String(s);r.appendASCIIString('<div style="text-indent: -'),r.appendASCIIString(y),r.appendASCIIString("px; padding-left: "),r.appendASCIIString(y),r.appendASCIIString("px; box-sizing: border-box; width:")}else r.appendASCIIString('<div style="width:');r.appendASCIIString(String(n)),r.appendASCIIString('px;">');const o=h.length;let m=d,_=0,f=[],c=[],C=0<o?h.charCodeAt(0):0;r.appendASCIIString("<span>");for(let y=0;y<o;y++){y!==0&&y%16384==0&&r.appendASCIIString("</span><span>"),f[y]=_,c[y]=m;const w=C;C=y+1<o?h.charCodeAt(y+1):0;let D=1,I=1;switch(w){case 9:D=u-m%u,I=D;for(let T=1;T<=D;T++)T<D?r.write1(160):r.appendASCII(32);break;case 32:C===32?r.write1(160):r.appendASCII(32);break;case 60:r.appendASCIIString("&lt;");break;case 62:r.appendASCIIString("&gt;");break;case 38:r.appendASCIIString("&amp;");break;case 0:r.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:r.write1(65533);break;default:N.isFullWidthCharacter(w)&&I++,w<32?r.write1(9216+w):r.write1(w)}_+=D,m+=I}return r.appendASCIIString("</span>"),f[h.length]=_,c[h.length]=m,r.appendASCIIString("</div>"),[f,c]}function t(h,d,u,n){if(u.length<=1)return null;const r=Array.prototype.slice.call(d.children,0),s=[];try{a(h,r,n,0,null,u.length-1,null,s)}catch(o){return console.log(o),null}return s.length===0?null:(s.push(u.length),s)}function a(h,d,u,n,r,s,o,m){if(n===s||(r=r||l(h,d,u[n],u[n+1]),o=o||l(h,d,u[s],u[s+1]),Math.abs(r[0].top-o[0].top)<=.1))return;if(n+1===s){m.push(s);return}const _=n+(s-n)/2|0,f=l(h,d,u[_],u[_+1]);a(h,d,u,n,r,_,f,m),a(h,d,u,_,f,s,o,m)}function l(h,d,u,n){return h.setStart(d[u/16384|0].firstChild,u%16384),h.setEnd(d[n/16384|0].firstChild,n%16384),h.getClientRects()}}),define(ee[610],te([0,1,32,63,177,51]),function(Q,e,L,N,M,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewOverlays=e.ContentViewOverlays=e.ViewOverlayLine=e.ViewOverlays=void 0;class g extends E.ViewPart{constructor(i){super(i);this._visibleLines=new M.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let i=0,t=this._dynamicOverlays.length;i<t;i++)if(this._dynamicOverlays[i].shouldRender())return!0;return!1}dispose(){super.dispose();for(let i=0,t=this._dynamicOverlays.length;i<t;i++)this._dynamicOverlays[i].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new S(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(i){this._dynamicOverlays.push(i)}onConfigurationChanged(i){this._visibleLines.onConfigurationChanged(i);const t=this._visibleLines.getStartLineNumber(),a=this._visibleLines.getEndLineNumber();for(let l=t;l<=a;l++)this._visibleLines.getVisibleLine(l).onConfigurationChanged(i);return!0}onFlushed(i){return this._visibleLines.onFlushed(i)}onFocusChanged(i){return this._isFocused=i.isFocused,!0}onLinesChanged(i){return this._visibleLines.onLinesChanged(i)}onLinesDeleted(i){return this._visibleLines.onLinesDeleted(i)}onLinesInserted(i){return this._visibleLines.onLinesInserted(i)}onScrollChanged(i){return this._visibleLines.onScrollChanged(i)||!0}onTokensChanged(i){return this._visibleLines.onTokensChanged(i)}onZonesChanged(i){return this._visibleLines.onZonesChanged(i)}prepareRender(i){const t=this._dynamicOverlays.filter(a=>a.shouldRender());for(let a=0,l=t.length;a<l;a++){const h=t[a];h.prepareRender(i),h.onDidRender()}}render(i){this._viewOverlaysRender(i),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(i){this._visibleLines.renderLines(i.viewportData)}}e.ViewOverlays=g;class S{constructor(i,t){this._configuration=i,this._lineHeight=this._configuration.options.get(58),this._dynamicOverlays=t,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(i){this._domNode=(0,L.createFastDomNode)(i)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(i){this._lineHeight=this._configuration.options.get(58)}renderLine(i,t,a,l){let h="";for(let d=0,u=this._dynamicOverlays.length;d<u;d++)h+=this._dynamicOverlays[d].render(a.startLineNumber,i);return this._renderedContent===h?!1:(this._renderedContent=h,l.appendASCIIString('<div style="position:absolute;top:'),l.appendASCIIString(String(t)),l.appendASCIIString("px;width:100%;height:"),l.appendASCIIString(String(this._lineHeight)),l.appendASCIIString('px;">'),l.appendASCIIString(h),l.appendASCIIString("</div>"),!0)}layoutLine(i,t){this._domNode&&(this._domNode.setTop(t),this._domNode.setHeight(this._lineHeight))}}e.ViewOverlayLine=S;class b extends g{constructor(i){super(i);const a=this._context.configuration.options.get(130);this._contentWidth=a.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(i){const a=this._context.configuration.options.get(130);return this._contentWidth=a.contentWidth,super.onConfigurationChanged(i)||!0}onScrollChanged(i){return super.onScrollChanged(i)||i.scrollWidthChanged}_viewOverlaysRender(i){super._viewOverlaysRender(i),this.domNode.setWidth(Math.max(i.scrollWidth,this._contentWidth))}}e.ContentViewOverlays=b;class p extends g{constructor(i){super(i);const t=this._context.configuration.options,a=t.get(130);this._contentLeft=a.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),N.Configuration.applyFontInfo(this.domNode,t.get(43))}onConfigurationChanged(i){const t=this._context.configuration.options;N.Configuration.applyFontInfo(this.domNode,t.get(43));const a=t.get(130);return this._contentLeft=a.contentLeft,super.onConfigurationChanged(i)||!0}onScrollChanged(i){return super.onScrollChanged(i)||i.scrollHeightChanged}_viewOverlaysRender(i){super._viewOverlaysRender(i);const t=Math.min(i.scrollHeight,1e6);this.domNode.setHeight(t),this.domNode.setWidth(this._contentLeft)}}e.MarginViewOverlays=p}),define(ee[611],te([0,1,7,32,8,63,29,13,3,142]),function(Q,e,L,N,M,E,g,S,b,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursor=void 0;class v{constructor(a,l,h,d,u,n){this.top=a,this.left=l,this.width=h,this.height=d,this.textContent=u,this.textContentClassName=n}}class i{constructor(a){this._context=a;const l=this._context.configuration.options,h=l.get(43);this._cursorStyle=l.get(24),this._lineHeight=l.get(58),this._typicalHalfwidthCharacterWidth=h.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(l.get(27),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,N.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(`cursor ${p.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),E.Configuration.applyFontInfo(this._domNode,h),this._domNode.setDisplay("none"),this._position=new S.Position(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(a){const l=this._context.configuration.options,h=l.get(43);return this._cursorStyle=l.get(24),this._lineHeight=l.get(58),this._typicalHalfwidthCharacterWidth=h.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(l.get(27),this._typicalHalfwidthCharacterWidth),E.Configuration.applyFontInfo(this._domNode,h),!0}onCursorPositionChanged(a){return this._position=a,!0}_prepareRender(a){let l="";if(this._cursorStyle===g.TextEditorCursorStyle.Line||this._cursorStyle===g.TextEditorCursorStyle.LineThin){const f=a.visibleRangeForPosition(this._position);if(!f||f.outsideRenderedLine)return null;let c;if(this._cursorStyle===g.TextEditorCursorStyle.Line){if(c=L.computeScreenAwareSize(this._lineCursorWidth>0?this._lineCursorWidth:2),c>2){const w=this._context.model.getLineContent(this._position.lineNumber),D=M.nextCharLength(w,this._position.column-1);l=w.substr(this._position.column-1,D)}}else c=L.computeScreenAwareSize(1);let C=f.left;c>=2&&C>=1&&(C-=1);const y=a.getVerticalOffsetForLineNumber(this._position.lineNumber)-a.bigNumbersDelta;return new v(y,C,c,this._lineHeight,l,"")}const h=this._context.model.getLineContent(this._position.lineNumber),d=M.nextCharLength(h,this._position.column-1),u=a.linesVisibleRangesForRange(new b.Range(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column+d),!1);if(!u||u.length===0)return null;const n=u[0];if(n.outsideRenderedLine||n.ranges.length===0)return null;const r=n.ranges[0],s=r.width<1?this._typicalHalfwidthCharacterWidth:r.width;let o="";if(this._cursorStyle===g.TextEditorCursorStyle.Block){const f=this._context.model.getViewLineData(this._position.lineNumber);l=h.substr(this._position.column-1,d);const c=f.tokens.findTokenIndexAtOffset(this._position.column-1);o=f.tokens.getClassName(c)}let m=a.getVerticalOffsetForLineNumber(this._position.lineNumber)-a.bigNumbersDelta,_=this._lineHeight;return(this._cursorStyle===g.TextEditorCursorStyle.Underline||this._cursorStyle===g.TextEditorCursorStyle.UnderlineThin)&&(m+=this._lineHeight-2,_=2),new v(m,r.left,s,_,l,o)}prepareRender(a){this._renderData=this._prepareRender(a)}render(a){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${p.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}e.ViewCursor=i}),define(ee[128],te([0,1,496,4,40,35,112,105]),function(Q,e,L,N,M,E,g,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PLAINTEXT_EXTENSION=e.PLAINTEXT_MODE_ID=e.ModesRegistry=e.EditorModesRegistry=e.Extensions=void 0,e.Extensions={ModesRegistry:"editor.modesRegistry"};class b{constructor(){this._onDidChangeLanguages=new N.Emitter,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[],this._dynamicLanguages=[]}registerLanguage(v){return this._languages.push(v),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let i=0,t=this._languages.length;i<t;i++)if(this._languages[i]===v){this._languages.splice(i,1);return}}}}setDynamicLanguages(v){this._dynamicLanguages=v,this._onDidChangeLanguages.fire(void 0)}getLanguages(){return[].concat(this._languages).concat(this._dynamicLanguages)}}e.EditorModesRegistry=b,e.ModesRegistry=new b,E.Registry.add(e.Extensions.ModesRegistry,e.ModesRegistry),e.PLAINTEXT_MODE_ID="plaintext",e.PLAINTEXT_EXTENSION=".txt",e.ModesRegistry.registerLanguage({id:e.PLAINTEXT_MODE_ID,extensions:[e.PLAINTEXT_EXTENSION],aliases:[L.localize(0,null),"text"],mimetypes:[g.Mimes.text]}),M.LanguageConfigurationRegistry.register(e.PLAINTEXT_MODE_ID,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0),E.Registry.as(S.Extensions.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1}}}])}),define(ee[612],te([0,1,42,33,128,271]),function(Q,e,L,N,M,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cssEscape=e.getIconClassesForModeId=e.getIconClasses=void 0;function g(v,i,t,a){const l=a===E.FileKind.ROOT_FOLDER?["rootfolder-icon"]:a===E.FileKind.FOLDER?["folder-icon"]:["file-icon"];if(t){let h;if(t.scheme===L.Schemas.data?h=N.DataUri.parseMetaData(t).get(N.DataUri.META_DATA_LABEL):h=p((0,N.basenameOrAuthority)(t).toLowerCase()),a===E.FileKind.FOLDER)l.push(`${h}-name-folder-icon`);else{if(h){if(l.push(`${h}-name-file-icon`),h.length<=255){const u=h.split(".");for(let n=1;n<u.length;n++)l.push(`${u.slice(n).join(".")}-ext-file-icon`)}l.push("ext-file-icon")}const d=b(v,i,t);d&&l.push(`${p(d)}-lang-file-icon`)}}return l}e.getIconClasses=g;function S(v){return["file-icon",`${p(v)}-lang-file-icon`]}e.getIconClassesForModeId=S;function b(v,i,t){if(!t)return null;let a=null;if(t.scheme===L.Schemas.data){const h=N.DataUri.parseMetaData(t).get(N.DataUri.META_DATA_MIME);h&&(a=i.getModeId(h))}else{const l=v.getModel(t);l&&(a=l.getLanguageId())}return a&&a!==M.PLAINTEXT_MODE_ID?a:i.getModeIdByFilepathOrFirstLine(t)}function p(v){return v.replace(/[\11\12\14\15\40]/g,"/")}e.cssEscape=p}),define(ee[613],te([0,1,12,4,2,112,8,128,83,105,35]),function(Q,e,L,N,M,E,g,S,b,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguagesRegistry=e.LanguageIdCodec=void 0;const i=Object.prototype.hasOwnProperty;class t{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(b.NULL_MODE_ID,0),this._register(S.PLAINTEXT_MODE_ID,1),this._nextLanguageId=2}_register(h,d){this._languageIdToLanguage[d]=h,this._languageToLanguageId.set(h,d)}register(h){if(this._languageToLanguageId.has(h))return;const d=this._nextLanguageId++;this._register(h,d)}encodeLanguageId(h){return this._languageToLanguageId.get(h)||0}decodeLanguageId(h){return this._languageIdToLanguage[h]||b.NULL_MODE_ID}}e.LanguageIdCodec=t;class a extends M.Disposable{constructor(h=!0,d=!1){super();this._onDidChange=this._register(new N.Emitter),this.onDidChange=this._onDidChange.event,a.instanceCount++,this._warnOnOverwrite=d,this.languageIdCodec=new t,this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},h&&(this._initializeFromRegistry(),this._register(S.ModesRegistry.onDidChangeLanguages(u=>{this._initializeFromRegistry()})))}dispose(){a.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},E.clearTextMimes();const h=S.ModesRegistry.getLanguages();this._registerLanguages(h)}_registerLanguages(h){for(const d of h)this._registerLanguage(d);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(d=>{let u=this._languages[d];u.name&&(this._nameMap[u.name]=u.identifier),u.aliases.forEach(n=>{this._lowercaseNameMap[n.toLowerCase()]=u.identifier}),u.mimetypes.forEach(n=>{this._mimeTypesMap[n]=u.identifier})}),v.Registry.as(p.Extensions.Configuration).registerOverrideIdentifiers(S.ModesRegistry.getLanguages().map(d=>d.id)),this._onDidChange.fire()}_registerLanguage(h){const d=h.id;let u;i.call(this._languages,d)?u=this._languages[d]:(this.languageIdCodec.register(d),u={identifier:d,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[]},this._languages[d]=u),this._mergeLanguage(u,h)}_mergeLanguage(h,d){const u=d.id;let n=null;if(Array.isArray(d.mimetypes)&&d.mimetypes.length>0&&(h.mimetypes.push(...d.mimetypes),n=d.mimetypes[0]),n||(n=`text/x-${u}`,h.mimetypes.push(n)),Array.isArray(d.extensions)){d.configuration?h.extensions=d.extensions.concat(h.extensions):h.extensions=h.extensions.concat(d.extensions);for(let o of d.extensions)E.registerTextMime({id:u,mime:n,extension:o},this._warnOnOverwrite)}if(Array.isArray(d.filenames))for(let o of d.filenames)E.registerTextMime({id:u,mime:n,filename:o},this._warnOnOverwrite),h.filenames.push(o);if(Array.isArray(d.filenamePatterns))for(let o of d.filenamePatterns)E.registerTextMime({id:u,mime:n,filepattern:o},this._warnOnOverwrite);if(typeof d.firstLine=="string"&&d.firstLine.length>0){let o=d.firstLine;o.charAt(0)!=="^"&&(o="^"+o);try{let m=new RegExp(o);g.regExpLeadsToEndlessLoop(m)||E.registerTextMime({id:u,mime:n,firstline:m},this._warnOnOverwrite)}catch(m){(0,L.onUnexpectedError)(m)}}h.aliases.push(u);let r=null;if(typeof d.aliases!="undefined"&&Array.isArray(d.aliases)&&(d.aliases.length===0?r=[null]:r=d.aliases),r!==null)for(const o of r)!o||o.length===0||h.aliases.push(o);let s=r!==null&&r.length>0;if(!(s&&r[0]===null)){let o=(s?r[0]:null)||u;(s||!h.name)&&(h.name=o)}d.configuration&&h.configurationFiles.push(d.configuration)}isRegisteredMode(h){return i.call(this._mimeTypesMap,h)?!0:i.call(this._languages,h)}getRegisteredModes(){return Object.keys(this._languages)}getRegisteredLanguageNames(){return Object.keys(this._nameMap)}getLanguageName(h){return i.call(this._languages,h)?this._languages[h].name:null}getModeIdForLanguageNameLowercase(h){return i.call(this._lowercaseNameMap,h)?this._lowercaseNameMap[h]:null}getConfigurationFiles(h){return i.call(this._languages,h)?this._languages[h].configurationFiles||[]:[]}getMimeForMode(h){return i.call(this._languages,h)&&this._languages[h].mimetypes[0]||null}extractModeIds(h){return h?h.split(",").map(d=>d.trim()).map(d=>i.call(this._mimeTypesMap,d)?this._mimeTypesMap[d]:d).filter(d=>i.call(this._languages,d)):[]}validateLanguageId(h){return!h||h===b.NULL_MODE_ID?b.NULL_MODE_ID:i.call(this._languages,h)?h:null}getModeIdFromLanguageName(h){return h&&i.call(this._nameMap,h)?this._nameMap[h]:null}getModeIdsFromFilepathOrFirstLine(h,d){if(!h&&!d)return[];let u=E.guessMimeTypes(h,d);return this.extractModeIds(u.join(","))}getExtensions(h){if(!i.call(this._nameMap,h))return[];const d=this._nameMap[h];return this._languages[d].extensions}getFilenames(h){if(!i.call(this._nameMap,h))return[];const d=this._nameMap[h];return this._languages[d].filenames}}e.LanguagesRegistry=a,a.instanceCount=0}),define(ee[614],te([0,1,4,2,83,613,19]),function(Q,e,L,N,M,E,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModeServiceImpl=void 0;class S{constructor(v,i){this._selector=i,this.languageId=this._selector();let t;this._onDidChange=new L.Emitter({onFirstListenerAdd:()=>{t=v(()=>this._evaluate())},onLastListenerRemove:()=>{t.dispose()}}),this.onDidChange=this._onDidChange.event}_evaluate(){const v=this._selector();v!==this.languageId&&(this.languageId=v,this._onDidChange.fire(this.languageId))}}class b extends N.Disposable{constructor(v=!1){super();this._onDidEncounterLanguage=this._register(new L.Emitter),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._onLanguagesMaybeChanged=this._register(new L.Emitter({leakWarningThreshold:200})),this.onLanguagesMaybeChanged=this._onLanguagesMaybeChanged.event,b.instanceCount++,this._encounteredLanguages=new Set,this._registry=this._register(new E.LanguagesRegistry(!0,v)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onLanguagesMaybeChanged.fire()))}dispose(){b.instanceCount--,super.dispose()}isRegisteredMode(v){return this._registry.isRegisteredMode(v)}getRegisteredModes(){return this._registry.getRegisteredModes()}getRegisteredLanguageNames(){return this._registry.getRegisteredLanguageNames()}getExtensions(v){return this._registry.getExtensions(v)}getFilenames(v){return this._registry.getFilenames(v)}getMimeForMode(v){return this._registry.getMimeForMode(v)}getLanguageName(v){return this._registry.getLanguageName(v)}getModeIdForLanguageName(v){return this._registry.getModeIdForLanguageNameLowercase(v)}getModeIdByFilepathOrFirstLine(v,i){const t=this._registry.getModeIdsFromFilepathOrFirstLine(v,i);return(0,g.firstOrDefault)(t,null)}getModeId(v){const i=this._registry.extractModeIds(v);return(0,g.firstOrDefault)(i,null)}validateLanguageId(v){return this._registry.validateLanguageId(v)}getConfigurationFiles(v){return this._registry.getConfigurationFiles(v)}create(v){return new S(this.onLanguagesMaybeChanged,()=>{const i=this.getModeId(v);return this._createModeAndGetLanguageIdentifier(i)})}createByLanguageName(v){return new S(this.onLanguagesMaybeChanged,()=>{const i=this._getModeIdByLanguageName(v);return this._createModeAndGetLanguageIdentifier(i)})}createByFilepathOrFirstLine(v,i){return new S(this.onLanguagesMaybeChanged,()=>{const t=this.getModeIdByFilepathOrFirstLine(v,i);return this._createModeAndGetLanguageIdentifier(t)})}_createModeAndGetLanguageIdentifier(v){const i=this.validateLanguageId(v||"plaintext")||M.NULL_MODE_ID;return this._getOrCreateMode(i),i}triggerMode(v){const i=this.getModeId(v);this._getOrCreateMode(i||"plaintext")}_getModeIdByLanguageName(v){return this._registry.getModeIdFromLanguageName(v)}_getOrCreateMode(v){if(!this._encounteredLanguages.has(v)){this._encounteredLanguages.add(v);const i=this.validateLanguageId(v)||M.NULL_MODE_ID;this._onDidEncounterLanguage.fire(i)}}}e.ModeServiceImpl=b,b.instanceCount=0}),define(ee[615],te([0,1,7,19,73,2,106,247,53,54,226]),function(Q,e,L,N,M,E,g,S,b,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModesGlyphHoverWidget=void 0;const i=L.$;class t{constructor(h){this._editor=h,this._lineNumber=-1,this._result=[]}setLineNumber(h){this._lineNumber=h,this._result=[]}clearResult(){this._result=[]}computeSync(){const h=n=>({value:n}),d=this._editor.getLineDecorations(this._lineNumber),u=[];if(!d)return u;for(const n of d){if(!n.options.glyphMarginClassName)continue;const r=n.options.glyphMarginHoverMessage;!r||(0,M.isEmptyMarkdownString)(r)||u.push(...(0,N.asArray)(r).map(h))}return u}onResult(h,d){this._result=this._result.concat(h)}getResult(){return this._result}getResultWithLoadingMessage(){return this.getResult()}}class a extends b.Widget{constructor(h,d,u=p.NullOpenerService){super();this._renderDisposeables=this._register(new E.DisposableStore),this._editor=h,this._isVisible=!1,this._messages=[],this._lastLineNumber=-1,this._hover=this._register(new v.HoverWidget),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new g.MarkdownRenderer({editor:this._editor},d,u)),this._computer=new t(this._editor),this._hoverOperation=new S.HoverOperation(this._computer,n=>this._withResult(n),void 0,n=>this._withResult(n),300),this._register(this._editor.onDidChangeConfiguration(n=>{n.hasChanged(43)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._hoverOperation.cancel(),this._editor.removeOverlayWidget(this),super.dispose()}getId(){return a.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_showAt(h){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const d=this._editor.getLayoutInfo(),u=this._editor.getTopForLineNumber(h),n=this._editor.getScrollTop(),r=this._editor.getOption(58),s=this._hover.containerDomNode.clientHeight,o=u-n-(s-r)/2;this._hover.containerDomNode.style.left=`${d.glyphMarginLeft+d.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(o),0)}px`}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(d=>this._editor.applyFontInfo(d))}_updateContents(h){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(h),this._updateFont()}onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start(0))}startShowingAt(h){this._lastLineNumber!==h&&(this._hoverOperation.cancel(),this.hide(),this._lastLineNumber=h,this._computer.setLineNumber(h),this._hoverOperation.start(0))}hide(){this._lastLineNumber=-1,this._hoverOperation.cancel(),!!this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(h){this._messages=h,this._messages.length>0?this._renderMessages(this._lastLineNumber,this._messages):this.hide()}_renderMessages(h,d){this._renderDisposeables.clear();const u=document.createDocumentFragment();for(const n of d){const r=i("div.hover-row.markdown-hover"),s=L.append(r,i("div.hover-contents")),o=this._renderDisposeables.add(this._markdownRenderer.render(n.value));s.appendChild(o.element),u.appendChild(r)}this._updateContents(u),this._showAt(h)}}e.ModesGlyphHoverWidget=a,a.ID="editor.contrib.modesGlyphHoverWidget"}),define(ee[275],te([0,1,36,7,64,27,4,73,2,106,29,253,553,9]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestDetailsOverlay=e.SuggestDetailsWidget=e.canExpandCompletionItem=void 0;function l(u){return!!u&&Boolean(u.completion.documentation||u.completion.detail&&u.completion.detail!==u.completion.label)}e.canExpandCompletionItem=l;let h=class{constructor(n,r){this._editor=n,this._onDidClose=new g.Emitter,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new g.Emitter,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new b.DisposableStore,this._renderDisposeable=new b.DisposableStore,this._borderWidth=1,this._size=new N.Dimension(330,0),this.domNode=N.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=r.createInstance(p.MarkdownRenderer,{editor:n}),this._body=N.$(".body"),this._scrollbar=new M.DomScrollableElement(this._body,{}),N.append(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=N.append(this._body,N.$(".header")),this._close=N.append(this._header,N.$("span"+E.Codicon.close.cssSelector)),this._close.title=t.localize(0,null),this._type=N.append(this._header,N.$("p.type")),this._docs=N.append(this._body,N.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(s=>{s.hasChanged(43)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const n=this._editor.getOptions(),r=n.get(43),s=r.getMassagedFontFamily(L.isSafari?v.EDITOR_FONT_DEFAULTS.fontFamily:null),o=n.get(106)||r.fontSize,m=n.get(107)||r.lineHeight,_=r.fontWeight,f=`${o}px`,c=`${m}px`;this.domNode.style.fontSize=f,this.domNode.style.lineHeight=`${m/o}`,this.domNode.style.fontWeight=_,this.domNode.style.fontFeatureSettings=r.fontFeatureSettings,this._type.style.fontFamily=s,this._close.style.height=c,this._close.style.width=c}getLayoutInfo(){const n=this._editor.getOption(107)||this._editor.getOption(43).lineHeight,r=this._borderWidth,s=r*2;return{lineHeight:n,borderWidth:r,borderHeight:s,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=t.localize(1,null),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(n,r){var s,o;this._renderDisposeable.clear();let{detail:m,documentation:_}=n.completion;if(r){let f="";f+=`score: ${n.score[0]}
`,f+=`prefix: ${(s=n.word)!==null&&s!==void 0?s:"(no prefix)"}
`,f+=`word: ${n.completion.filterText?n.completion.filterText+" (filterText)":n.textLabel}
`,f+=`distance: ${n.distance} (localityBonus-setting)
`,f+=`index: ${n.idx}, based on ${n.completion.sortText&&`sortText: "${n.completion.sortText}"`||"label"}
`,f+=`commit_chars: ${(o=n.completion.commitCharacters)===null||o===void 0?void 0:o.join("")}
`,_=new S.MarkdownString().appendCodeblock("empty",f),m=`Provider: ${n.provider._debugDisplayName}`}if(!r&&!l(n)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),m){const f=m.length>1e5?`${m.substr(0,1e5)}\u2026`:m;this._type.textContent=f,this._type.title=f,N.show(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(f))}else N.clearNode(this._type),this._type.title="",N.hide(this._type),this.domNode.classList.add("no-type");if(N.clearNode(this._docs),typeof _=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=_;else if(_){this._docs.classList.add("markdown-docs"),N.clearNode(this._docs);const f=this._markdownRenderer.render(_);this._docs.appendChild(f.element),this._renderDisposeable.add(f),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=f=>{f.preventDefault(),f.stopPropagation()},this._close.onclick=f=>{f.preventDefault(),f.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(n,r){const s=new N.Dimension(n,r);N.Dimension.equals(s,this._size)||(this._size=s,N.size(this.domNode,n,r)),this._scrollbar.scanDomNode()}scrollDown(n=8){this._body.scrollTop+=n}scrollUp(n=8){this._body.scrollTop-=n}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(n){this._borderWidth=n}get borderWidth(){return this._borderWidth}};h=Ve([Ce(1,a.IInstantiationService)],h),e.SuggestDetailsWidget=h;class d{constructor(n,r){this.widget=n,this._editor=r,this._disposables=new b.DisposableStore,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new i.ResizableHTMLElement,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(n.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let s,o,m=0,_=0;this._disposables.add(this._resizable.onDidWillResize(()=>{s=this._topLeft,o=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(f=>{if(s&&o){this.widget.layout(f.dimension.width,f.dimension.height);let c=!1;f.west&&(_=o.width-f.dimension.width,c=!0),f.north&&(m=o.height-f.dimension.height,c=!0),c&&this._applyTopLeft({top:s.top+m,left:s.left+_})}f.done&&(s=void 0,o=void 0,m=0,_=0,this._userSize=f.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var f;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(f=this._userSize)!==null&&f!==void 0?f:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(n=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),n&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(n,r){var s;const o=n.getBoundingClientRect();this._anchorBox=o,this._preferAlignAtTop=r,this._placeAtAnchor(this._anchorBox,(s=this._userSize)!==null&&s!==void 0?s:this.widget.size,r)}_placeAtAnchor(n,r,s){var o;const m=N.getClientArea(document.body),_=this.widget.getLayoutInfo(),f=new N.Dimension(220,2*_.lineHeight),c=n.top,C=function(){const O=m.width-(n.left+n.width+_.borderWidth+_.horizontalPadding),k=-_.borderWidth+n.left+n.width,V=new N.Dimension(O,m.height-n.top-_.borderHeight-_.verticalPadding),B=V.with(void 0,n.top+n.height-_.borderHeight-_.verticalPadding);return{top:c,left:k,fit:O-r.width,maxSizeTop:V,maxSizeBottom:B,minSize:f.with(Math.min(O,f.width))}}(),y=function(){const O=n.left-_.borderWidth-_.horizontalPadding,k=Math.max(_.horizontalPadding,n.left-r.width-_.borderWidth),V=new N.Dimension(O,m.height-n.top-_.borderHeight-_.verticalPadding),B=V.with(void 0,n.top+n.height-_.borderHeight-_.verticalPadding);return{top:c,left:k,fit:O-r.width,maxSizeTop:V,maxSizeBottom:B,minSize:f.with(Math.min(O,f.width))}}(),w=function(){const O=n.left,k=-_.borderWidth+n.top+n.height,V=new N.Dimension(n.width-_.borderHeight,m.height-n.top-n.height-_.verticalPadding);return{top:k,left:O,fit:V.height-r.height,maxSizeBottom:V,maxSizeTop:V,minSize:f.with(V.width)}}(),D=[C,y,w],I=(o=D.find(O=>O.fit>=0))!==null&&o!==void 0?o:D.sort((O,k)=>k.fit-O.fit)[0],T=n.top+n.height-_.borderHeight;let F,P=r.height;const R=Math.max(I.maxSizeTop.height,I.maxSizeBottom.height);P>R&&(P=R);let A;s?P<=I.maxSizeTop.height?(F=!0,A=I.maxSizeTop):(F=!1,A=I.maxSizeBottom):P<=I.maxSizeBottom.height?(F=!1,A=I.maxSizeBottom):(F=!0,A=I.maxSizeTop),this._applyTopLeft({left:I.left,top:F?I.top:T-P}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!F,I===C,F,I!==C),this._resizable.minSize=I.minSize,this._resizable.maxSize=A,this._resizable.layout(P,Math.min(A.width,r.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(n){this._topLeft=n,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}e.SuggestDetailsOverlay=d}),define(ee[616],te([0,1,19,4,134,2,48,34,20,22,37,105,35]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AllKeysConfigurationChangeEvent=e.ConfigurationChangeEvent=e.mergeChanges=e.Configuration=e.UserSettings=e.ConfigurationModelParser=e.DefaultConfigurationModel=e.ConfigurationModel=void 0;class a{constructor(f={},c=[],C=[]){this._contents=f,this._keys=c,this._overrides=C,this.isFrozen=!1,this.overrideConfigurations=new Map}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(f){return f?(0,v.getConfigurationValue)(this.contents,f):this.contents}getOverrideValue(f,c){const C=this.getContentsForOverrideIdentifer(c);return C?f?(0,v.getConfigurationValue)(C,f):C:void 0}getKeysForOverrideIdentifier(f){const c=[];for(const C of this.overrides)C.identifiers.includes(f)&&c.push(...C.keys);return L.distinct(c)}getAllOverrideIdentifiers(){const f=[];for(const c of this.overrides)f.push(...c.identifiers);return L.distinct(f)}override(f){let c=this.overrideConfigurations.get(f);return c||(c=this.createOverrideConfigurationModel(f),this.overrideConfigurations.set(f,c)),c}merge(...f){const c=S.deepClone(this.contents),C=S.deepClone(this.overrides),y=[...this.keys];for(const w of f){this.mergeContents(c,w.contents);for(const D of w.overrides){const[I]=C.filter(T=>L.equals(T.identifiers,D.identifiers));I?(this.mergeContents(I.contents,D.contents),I.keys.push(...D.keys),I.keys=L.distinct(I.keys)):C.push(S.deepClone(D))}for(const D of w.keys)y.indexOf(D)===-1&&y.push(D)}return new a(c,y,C)}freeze(){return this.isFrozen=!0,this}createOverrideConfigurationModel(f){const c=this.getContentsForOverrideIdentifer(f);if(!c||typeof c!="object"||!Object.keys(c).length)return this;let C={};for(const y of L.distinct([...Object.keys(this.contents),...Object.keys(c)])){let w=this.contents[y],D=c[y];D&&(typeof w=="object"&&typeof D=="object"?(w=S.deepClone(w),this.mergeContents(w,D)):w=D),C[y]=w}return new a(C,this.keys,this.overrides)}mergeContents(f,c){for(const C of Object.keys(c)){if(C in f&&b.isObject(f[C])&&b.isObject(c[C])){this.mergeContents(f[C],c[C]);continue}f[C]=S.deepClone(c[C])}}checkAndFreeze(f){return this.isFrozen&&!Object.isFrozen(f)?S.deepFreeze(f):f}getContentsForOverrideIdentifer(f){let c=null,C=null;const y=w=>{w&&(C?this.mergeContents(C,w):C=S.deepClone(w))};for(const w of this.overrides)L.equals(w.identifiers,[f])?c=w.contents:w.identifiers.includes(f)&&y(w.contents);return y(c),C}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(f,c){this.addKey(f),(0,v.addToValueTree)(this.contents,f,c,C=>{throw new Error(C)})}removeValue(f){this.removeKey(f)&&(0,v.removeFromValueTree)(this.contents,f)}addKey(f){let c=this.keys.length;for(let C=0;C<c;C++)f.indexOf(this.keys[C])===0&&(c=C);this.keys.splice(c,1,f)}removeKey(f){let c=this.keys.indexOf(f);return c!==-1?(this.keys.splice(c,1),!0):!1}}e.ConfigurationModel=a;class l extends a{constructor(f={}){const c=t.Registry.as(i.Extensions.Configuration).getConfigurationProperties(),C=Object.keys(c),y=Object.create(null),w=[];for(const D in c){const I=f[D],T=I!==void 0?I:c[D].default;(0,v.addToValueTree)(y,D,T,F=>console.error(`Conflict in default settings: ${F}`))}for(const D of Object.keys(y))i.OVERRIDE_PROPERTY_REGEX.test(D)&&w.push({identifiers:(0,i.overrideIdentifiersFromKey)(D),keys:Object.keys(y[D]),contents:(0,v.toValuesTree)(y[D],I=>console.error(`Conflict in default settings file: ${I}`))});super(y,C,w)}}e.DefaultConfigurationModel=l;class h{constructor(f){this._name=f,this._raw=null,this._configurationModel=null,this._restrictedConfigurations=[],this._parseErrors=[]}get configurationModel(){return this._configurationModel||new a}get restrictedConfigurations(){return this._restrictedConfigurations}get errors(){return this._parseErrors}parse(f,c){if(!b.isUndefinedOrNull(f)){const C=this.doParseContent(f);this.parseRaw(C,c)}}reparse(f){this._raw&&this.parseRaw(this._raw,f)}parseRaw(f,c){this._raw=f;const{contents:C,keys:y,overrides:w,restricted:D}=this.doParseRaw(f,c);this._configurationModel=new a(C,y,w),this._restrictedConfigurations=D||[]}doParseContent(f){let c={},C=null,y=[],w=[],D=[];function I(F){Array.isArray(y)?y.push(F):C!==null&&(y[C]=F)}let T={onObjectBegin:()=>{let F={};I(F),w.push(y),y=F,C=null},onObjectProperty:F=>{C=F},onObjectEnd:()=>{y=w.pop()},onArrayBegin:()=>{let F=[];I(F),w.push(y),y=F,C=null},onArrayEnd:()=>{y=w.pop()},onLiteralValue:I,onError:(F,P,R)=>{D.push({error:F,offset:P,length:R})}};if(f)try{M.visit(f,T),c=y[0]||{}}catch(F){console.error(`Error while parsing settings file ${this._name}: ${F}`),this._parseErrors=[F]}return c}doParseRaw(f,c){const C=t.Registry.as(i.Extensions.Configuration).getConfigurationProperties(),y=this.filter(f,C,!0,c);f=y.raw;const w=(0,v.toValuesTree)(f,T=>console.error(`Conflict in settings file ${this._name}: ${T}`)),D=Object.keys(f),I=this.toOverrides(f,T=>console.error(`Conflict in settings file ${this._name}: ${T}`));return{contents:w,keys:D,overrides:I,restricted:y.restricted}}filter(f,c,C,y){if(!(y==null?void 0:y.scopes)&&!(y==null?void 0:y.skipRestricted))return{raw:f,restricted:[]};const w={},D=[];for(let I in f)if(i.OVERRIDE_PROPERTY_REGEX.test(I)&&C){const T=this.filter(f[I],c,!1,y);w[I]=T.raw,D.push(...T.restricted)}else{const T=c[I],F=T?typeof T.scope!="undefined"?T.scope:3:void 0;(T==null?void 0:T.restricted)&&D.push(I),(F===void 0||y.scopes===void 0||y.scopes.includes(F))&&(y.skipRestricted&&(T==null?void 0:T.restricted)||(w[I]=f[I]))}return{raw:w,restricted:D}}toOverrides(f,c){const C=[];for(const y of Object.keys(f))if(i.OVERRIDE_PROPERTY_REGEX.test(y)){const w={};for(const D in f[y])w[D]=f[y][D];C.push({identifiers:(0,i.overrideIdentifiersFromKey)(y),keys:Object.keys(w),contents:(0,v.toValuesTree)(w,c)})}return C}}e.ConfigurationModelParser=h;class d extends E.Disposable{constructor(f,c,C,y){super();this.userSettingsResource=f,this.scopes=c,this.fileService=y,this._onDidChange=this._register(new N.Emitter),this.onDidChange=this._onDidChange.event,this.parser=new h(this.userSettingsResource.toString()),this.parseOptions={scopes:this.scopes},this._register(this.fileService.watch(C.dirname(this.userSettingsResource))),this._register(this.fileService.watch(this.userSettingsResource)),this._register(N.Event.filter(this.fileService.onDidFilesChange,w=>w.contains(this.userSettingsResource))(()=>this._onDidChange.fire()))}loadConfiguration(){return Me(this,void 0,void 0,function*(){try{const f=yield this.fileService.readFile(this.userSettingsResource);return this.parser.parse(f.value.toString()||"{}",this.parseOptions),this.parser.configurationModel}catch(f){return new a}})}reparse(){return this.parser.reparse(this.parseOptions),this.parser.configurationModel}getRestrictedSettings(){return this.parser.restrictedConfigurations}}e.UserSettings=d;class u{constructor(f,c,C=new a,y=new a,w=new g.ResourceMap,D=new a,I=new g.ResourceMap,T=!0){this._defaultConfiguration=f,this._localUserConfiguration=c,this._remoteUserConfiguration=C,this._workspaceConfiguration=y,this._folderConfigurations=w,this._memoryConfiguration=D,this._memoryConfigurationByResource=I,this._freeze=T,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new g.ResourceMap,this._userConfiguration=null}getValue(f,c,C){return this.getConsolidateConfigurationModel(c,C).getValue(f)}updateValue(f,c,C={}){let y;C.resource?(y=this._memoryConfigurationByResource.get(C.resource),y||(y=new a,this._memoryConfigurationByResource.set(C.resource,y))):y=this._memoryConfiguration,c===void 0?y.removeValue(f):y.setValue(f,c),C.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(f,c,C){const y=this.getConsolidateConfigurationModel(c,C),w=this.getFolderConfigurationModelForResource(c.resource,C),D=c.resource?this._memoryConfigurationByResource.get(c.resource)||this._memoryConfiguration:this._memoryConfiguration,I=c.overrideIdentifier?this._defaultConfiguration.freeze().override(c.overrideIdentifier).getValue(f):this._defaultConfiguration.freeze().getValue(f),T=c.overrideIdentifier?this.userConfiguration.freeze().override(c.overrideIdentifier).getValue(f):this.userConfiguration.freeze().getValue(f),F=c.overrideIdentifier?this.localUserConfiguration.freeze().override(c.overrideIdentifier).getValue(f):this.localUserConfiguration.freeze().getValue(f),P=c.overrideIdentifier?this.remoteUserConfiguration.freeze().override(c.overrideIdentifier).getValue(f):this.remoteUserConfiguration.freeze().getValue(f),R=C?c.overrideIdentifier?this._workspaceConfiguration.freeze().override(c.overrideIdentifier).getValue(f):this._workspaceConfiguration.freeze().getValue(f):void 0,A=w?c.overrideIdentifier?w.freeze().override(c.overrideIdentifier).getValue(f):w.freeze().getValue(f):void 0,O=c.overrideIdentifier?D.override(c.overrideIdentifier).getValue(f):D.getValue(f),k=y.getValue(f),V=L.distinct(L.flatten(y.overrides.map(B=>B.identifiers))).filter(B=>y.getOverrideValue(f,B)!==void 0);return{defaultValue:I,userValue:T,userLocalValue:F,userRemoteValue:P,workspaceValue:R,workspaceFolderValue:A,memoryValue:O,value:k,default:I!==void 0?{value:this._defaultConfiguration.freeze().getValue(f),override:c.overrideIdentifier?this._defaultConfiguration.freeze().getOverrideValue(f,c.overrideIdentifier):void 0}:void 0,user:T!==void 0?{value:this.userConfiguration.freeze().getValue(f),override:c.overrideIdentifier?this.userConfiguration.freeze().getOverrideValue(f,c.overrideIdentifier):void 0}:void 0,userLocal:F!==void 0?{value:this.localUserConfiguration.freeze().getValue(f),override:c.overrideIdentifier?this.localUserConfiguration.freeze().getOverrideValue(f,c.overrideIdentifier):void 0}:void 0,userRemote:P!==void 0?{value:this.remoteUserConfiguration.freeze().getValue(f),override:c.overrideIdentifier?this.remoteUserConfiguration.freeze().getOverrideValue(f,c.overrideIdentifier):void 0}:void 0,workspace:R!==void 0?{value:this._workspaceConfiguration.freeze().getValue(f),override:c.overrideIdentifier?this._workspaceConfiguration.freeze().getOverrideValue(f,c.overrideIdentifier):void 0}:void 0,workspaceFolder:A!==void 0?{value:w==null?void 0:w.freeze().getValue(f),override:c.overrideIdentifier?w==null?void 0:w.freeze().getOverrideValue(f,c.overrideIdentifier):void 0}:void 0,memory:O!==void 0?{value:D.getValue(f),override:c.overrideIdentifier?D.getOverrideValue(f,c.overrideIdentifier):void 0}:void 0,overrideIdentifiers:V.length?V:void 0}}keys(f){const c=this.getFolderConfigurationModelForResource(void 0,f);return{default:this._defaultConfiguration.freeze().keys,user:this.userConfiguration.freeze().keys,workspace:this._workspaceConfiguration.freeze().keys,workspaceFolder:c?c.freeze().keys:[]}}updateDefaultConfiguration(f){this._defaultConfiguration=f,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations.clear()}updateLocalUserConfiguration(f){this._localUserConfiguration=f,this._userConfiguration=null,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations.clear()}updateRemoteUserConfiguration(f){this._remoteUserConfiguration=f,this._userConfiguration=null,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations.clear()}updateWorkspaceConfiguration(f){this._workspaceConfiguration=f,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations.clear()}updateFolderConfiguration(f,c){this._folderConfigurations.set(f,c),this._foldersConsolidatedConfigurations.delete(f)}deleteFolderConfiguration(f){this.folderConfigurations.delete(f),this._foldersConsolidatedConfigurations.delete(f)}compareAndUpdateDefaultConfiguration(f,c){const C=[];if(!c){const{added:y,updated:w,removed:D}=o(this._defaultConfiguration,f);c=[...y,...w,...D]}for(const y of c)for(const w of(0,i.overrideIdentifiersFromKey)(y)){const D=this._defaultConfiguration.getKeysForOverrideIdentifier(w),I=f.getKeysForOverrideIdentifier(w),T=[...I.filter(F=>D.indexOf(F)===-1),...D.filter(F=>I.indexOf(F)===-1),...D.filter(F=>!S.equals(this._defaultConfiguration.override(w).getValue(F),f.override(w).getValue(F)))];C.push([w,T])}return this.updateDefaultConfiguration(f),{keys:c,overrides:C}}compareAndUpdateLocalUserConfiguration(f){const{added:c,updated:C,removed:y,overrides:w}=o(this.localUserConfiguration,f),D=[...c,...C,...y];return D.length&&this.updateLocalUserConfiguration(f),{keys:D,overrides:w}}compareAndUpdateRemoteUserConfiguration(f){const{added:c,updated:C,removed:y,overrides:w}=o(this.remoteUserConfiguration,f);let D=[...c,...C,...y];return D.length&&this.updateRemoteUserConfiguration(f),{keys:D,overrides:w}}compareAndUpdateWorkspaceConfiguration(f){const{added:c,updated:C,removed:y,overrides:w}=o(this.workspaceConfiguration,f);let D=[...c,...C,...y];return D.length&&this.updateWorkspaceConfiguration(f),{keys:D,overrides:w}}compareAndUpdateFolderConfiguration(f,c){const C=this.folderConfigurations.get(f),{added:y,updated:w,removed:D,overrides:I}=o(C,c);let T=[...y,...w,...D];return(T.length||!C)&&this.updateFolderConfiguration(f,c),{keys:T,overrides:I}}compareAndDeleteFolderConfiguration(f){const c=this.folderConfigurations.get(f);if(!c)throw new Error("Unknown folder");this.deleteFolderConfiguration(f);const{added:C,updated:y,removed:w,overrides:D}=o(c,void 0);return{keys:[...C,...y,...w],overrides:D}}get defaults(){return this._defaultConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}get workspaceConfiguration(){return this._workspaceConfiguration}get folderConfigurations(){return this._folderConfigurations}getConsolidateConfigurationModel(f,c){let C=this.getConsolidatedConfigurationModelForResource(f,c);return f.overrideIdentifier?C.override(f.overrideIdentifier):C}getConsolidatedConfigurationModelForResource({resource:f},c){let C=this.getWorkspaceConsolidatedConfiguration();if(c&&f){const y=c.getFolder(f);y&&(C=this.getFolderConsolidatedConfiguration(y.uri)||C);const w=this._memoryConfigurationByResource.get(f);w&&(C=C.merge(w))}return C}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(f){let c=this._foldersConsolidatedConfigurations.get(f);if(!c){const C=this.getWorkspaceConsolidatedConfiguration(),y=this._folderConfigurations.get(f);y?(c=C.merge(y),this._freeze&&(c=c.freeze()),this._foldersConsolidatedConfigurations.set(f,c)):c=C}return c}getFolderConfigurationModelForResource(f,c){if(c&&f){const C=c.getFolder(f);if(C)return this._folderConfigurations.get(C.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((f,c)=>{const{contents:C,overrides:y,keys:w}=this._folderConfigurations.get(c);return f.push([c,{contents:C,overrides:y,keys:w}]),f},[])}}allKeys(){const f=new Set;return this._defaultConfiguration.freeze().keys.forEach(c=>f.add(c)),this.userConfiguration.freeze().keys.forEach(c=>f.add(c)),this._workspaceConfiguration.freeze().keys.forEach(c=>f.add(c)),this._folderConfigurations.forEach(c=>c.freeze().keys.forEach(C=>f.add(C))),[...f.values()]}allOverrideIdentifiers(){const f=new Set;return this._defaultConfiguration.freeze().getAllOverrideIdentifiers().forEach(c=>f.add(c)),this.userConfiguration.freeze().getAllOverrideIdentifiers().forEach(c=>f.add(c)),this._workspaceConfiguration.freeze().getAllOverrideIdentifiers().forEach(c=>f.add(c)),this._folderConfigurations.forEach(c=>c.freeze().getAllOverrideIdentifiers().forEach(C=>f.add(C))),[...f.values()]}getAllKeysForOverrideIdentifier(f){const c=new Set;return this._defaultConfiguration.getKeysForOverrideIdentifier(f).forEach(C=>c.add(C)),this.userConfiguration.getKeysForOverrideIdentifier(f).forEach(C=>c.add(C)),this._workspaceConfiguration.getKeysForOverrideIdentifier(f).forEach(C=>c.add(C)),this._folderConfigurations.forEach(C=>C.getKeysForOverrideIdentifier(f).forEach(y=>c.add(y))),[...c.values()]}static parse(f){const c=this.parseConfigurationModel(f.defaults),C=this.parseConfigurationModel(f.user),y=this.parseConfigurationModel(f.workspace),w=f.folders.reduce((D,I)=>(D.set(p.URI.revive(I[0]),this.parseConfigurationModel(I[1])),D),new g.ResourceMap);return new u(c,C,new a,y,w,new a,new g.ResourceMap,!1)}static parseConfigurationModel(f){return new a(f.contents,f.keys,f.overrides).freeze()}}e.Configuration=u;function n(..._){if(_.length===0)return{keys:[],overrides:[]};if(_.length===1)return _[0];const f=new Set,c=new Map;for(const y of _)y.keys.forEach(w=>f.add(w)),y.overrides.forEach(([w,D])=>{const I=(0,g.getOrSet)(c,w,new Set);D.forEach(T=>I.add(T))});const C=[];return c.forEach((y,w)=>C.push([w,[...y.values()]])),{keys:[...f.values()],overrides:C}}e.mergeChanges=n;class r{constructor(f,c,C,y){this.change=f,this.previous=c,this.currentConfiguraiton=C,this.currentWorkspace=y,this._previousConfiguration=void 0;const w=new Set;f.keys.forEach(I=>w.add(I)),f.overrides.forEach(([,I])=>I.forEach(T=>w.add(T))),this.affectedKeys=[...w.values()];const D=new a;this.affectedKeys.forEach(I=>D.setValue(I,{})),this.affectedKeysTree=D.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=u.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(f,c){var C;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,f)){if(c){const y=this.previousConfiguration?this.previousConfiguration.getValue(f,c,(C=this.previous)===null||C===void 0?void 0:C.workspace):void 0,w=this.currentConfiguraiton.getValue(f,c,this.currentWorkspace);return!S.equals(y,w)}return!0}return!1}doesAffectedKeysTreeContains(f,c){let C=(0,v.toValuesTree)({[c]:!0},()=>{}),y;for(;typeof C=="object"&&(y=Object.keys(C)[0]);){if(f=f[y],!f)return!1;C=C[y]}return!0}}e.ConfigurationChangeEvent=r;class s extends r{constructor(f,c,C,y){super({keys:f.allKeys(),overrides:[]},void 0,f,c);this.source=C,this.sourceConfig=y}}e.AllKeysConfigurationChangeEvent=s;function o(_,f){const{added:c,removed:C,updated:y}=m(f,_),w=[],D=(_==null?void 0:_.getAllOverrideIdentifiers())||[],I=(f==null?void 0:f.getAllOverrideIdentifiers())||[];if(f){const T=I.filter(F=>!D.includes(F));for(const F of T)w.push([F,f.getKeysForOverrideIdentifier(F)])}if(_){const T=D.filter(F=>!I.includes(F));for(const F of T)w.push([F,_.getKeysForOverrideIdentifier(F)])}if(f&&_){for(const T of D)if(I.includes(T)){const F=m({contents:_.getOverrideValue(void 0,T)||{},keys:_.getKeysForOverrideIdentifier(T)},{contents:f.getOverrideValue(void 0,T)||{},keys:f.getKeysForOverrideIdentifier(T)});w.push([T,[...F.added,...F.removed,...F.updated]])}}return{added:c,removed:C,updated:y,overrides:w}}function m(_,f){const c=_?f?_.keys.filter(w=>f.keys.indexOf(w)===-1):[..._.keys]:[],C=f?_?f.keys.filter(w=>_.keys.indexOf(w)===-1):[...f.keys]:[],y=[];if(_&&f){for(const w of f.keys)if(_.keys.indexOf(w)!==-1){const D=(0,v.getConfigurationValue)(f.contents,w),I=(0,v.getConfigurationValue)(_.contents,w);S.equals(D,I)||y.push(w)}}return{added:c,removed:C,updated:y}}}),define(ee[77],te([0,1,97,15,26,35]),function(Q,e,L,N,M,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=e.KeybindingsRegistry=void 0;class g{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(p){if(N.OS===1){if(p&&p.win)return p.win}else if(N.OS===2){if(p&&p.mac)return p.mac}else if(p&&p.linux)return p.linux;return p}registerKeybindingRule(p){const v=g.bindToCurrentPlatform(p);if(v&&v.primary){const i=(0,L.createKeybinding)(v.primary,N.OS);i&&this._registerDefaultKeybinding(i,p.id,p.args,p.weight,0,p.when)}if(v&&Array.isArray(v.secondary))for(let i=0,t=v.secondary.length;i<t;i++){const a=v.secondary[i],l=(0,L.createKeybinding)(a,N.OS);l&&this._registerDefaultKeybinding(l,p.id,p.args,p.weight,-i-1,p.when)}}setExtensionKeybindings(p){let v=[],i=0;for(const t of p)t.keybinding.length>0&&(v[i++]={keybinding:t.keybinding,command:t.id,commandArgs:t.args,when:t.when,weight1:t.weight,weight2:0,extensionId:t.extensionId||null,isBuiltinExtension:t.isBuiltinExtension||!1});this._extensionKeybindings=v,this._cachedMergedKeybindings=null}registerCommandAndKeybindingRule(p){this.registerKeybindingRule(p),M.CommandsRegistry.registerCommand(p)}static _mightProduceChar(p){return p>=21&&p<=30||p>=31&&p<=56?!0:p===80||p===81||p===82||p===83||p===84||p===85||p===86||p===110||p===111||p===87||p===88||p===89||p===90||p===91||p===92}_assertNoCtrlAlt(p,v){p.ctrlKey&&p.altKey&&!p.metaKey&&g._mightProduceChar(p.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",p," for ",v)}_registerDefaultKeybinding(p,v,i,t,a,l){N.OS===1&&this._assertNoCtrlAlt(p.parts[0],v),this._coreKeybindings.push({keybinding:p.parts,command:v,commandArgs:i,when:l,weight1:t,weight2:a,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(S)),this._cachedMergedKeybindings.slice(0)}}e.KeybindingsRegistry=new g,e.Extensions={EditorModes:"platform.keybindingsRegistry"},E.Registry.add(e.Extensions.EditorModes,e.KeybindingsRegistry);function S(b,p){return b.weight1!==p.weight1?b.weight1-p.weight1:b.command<p.command?-1:b.command>p.command?1:b.weight2-p.weight2}}),define(ee[107],te([0,1,19,2,35]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessRegistry=e.Extensions=e.DefaultQuickAccessFilterValue=void 0;var E;(function(S){S[S.PRESERVE=0]="PRESERVE",S[S.LAST=1]="LAST"})(E=e.DefaultQuickAccessFilterValue||(e.DefaultQuickAccessFilterValue={})),e.Extensions={Quickaccess:"workbench.contributions.quickaccess"};class g{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(b){return b.prefix.length===0?this.defaultProvider=b:this.providers.push(b),this.providers.sort((p,v)=>v.prefix.length-p.prefix.length),(0,N.toDisposable)(()=>{this.providers.splice(this.providers.indexOf(b),1),this.defaultProvider===b&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,L.coalesce)([this.defaultProvider,...this.providers])}getQuickAccessProvider(b){return b&&this.providers.find(v=>b.startsWith(v.prefix))||void 0||this.defaultProvider}clear(){const b=[...this.providers],p=this.defaultProvider;return this.providers=[],this.defaultProvider=void 0,()=>{this.providers=b,this.defaultProvider=p}}}e.QuickAccessRegistry=g,M.Registry.add(e.Extensions.Quickaccess,new g)}),define(ee[617],te([0,1,2,573,107,76,35]),function(Q,e,L,N,M,E,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HelpQuickAccessProvider=void 0;let S=class jt{constructor(p){this.quickInputService=p,this.registry=g.Registry.as(M.Extensions.Quickaccess)}provide(p){const v=new L.DisposableStore;v.add(p.onDidAccept(()=>{const[a]=p.selectedItems;a&&this.quickInputService.quickAccess.show(a.prefix,{preserveValue:!0})})),v.add(p.onDidChangeValue(a=>{const l=this.registry.getQuickAccessProvider(a.substr(jt.PREFIX.length));l&&l.prefix&&l.prefix!==jt.PREFIX&&this.quickInputService.quickAccess.show(l.prefix,{preserveValue:!0})}));const{editorProviders:i,globalProviders:t}=this.getQuickAccessProviders();return p.items=i.length===0||t.length===0?[...i.length===0?t:i]:[{label:(0,N.localize)(0,null),type:"separator"},...t,{label:(0,N.localize)(1,null),type:"separator"},...i],v}getQuickAccessProviders(){const p=[],v=[];for(const i of this.registry.getQuickAccessProviders().sort((t,a)=>t.prefix.localeCompare(a.prefix)))if(i.prefix!==jt.PREFIX)for(const t of i.helpEntries){const a=t.prefix||i.prefix,l=a||"\u2026";(t.needsEditor?v:p).push({prefix:a,label:l,ariaLabel:(0,N.localize)(2,null,l,t.description),description:t.description})}return{editorProviders:v,globalProviders:p}}};S.PREFIX="?",S=Ve([Ce(0,E.IQuickInputService)],S),e.HelpQuickAccessProvider=S}),define(ee[618],te([0,1,35,107,66,617]),function(Q,e,L,N,M,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),L.Registry.as(N.Extensions.Quickaccess).registerQuickAccessProvider({ctor:E.HelpQuickAccessProvider,prefix:"",helpEntries:[{description:M.QuickHelpNLS.helpQuickAccessActionLabel,needsEditor:!0}]})}),define(ee[619],te([0,1,10,21,79,2,9,107,76,35]),function(Q,e,L,N,M,E,g,S,b,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessController=void 0;let v=class extends E.Disposable{constructor(t,a){super();this.quickInputService=t,this.instantiationService=a,this.registry=p.Registry.as(S.Extensions.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}pick(t="",a){return this.doShowOrPick(t,!0,a)}show(t="",a){this.doShowOrPick(t,!1,a)}doShowOrPick(t,a,l){var h;const[d,u]=this.getOrInstantiateProvider(t),n=this.visibleQuickAccess,r=n==null?void 0:n.descriptor;if(n&&u&&r===u){t!==u.prefix&&!(l==null?void 0:l.preserveValue)&&(n.picker.value=t),this.adjustValueSelection(n.picker,u,l);return}if(u&&!(l==null?void 0:l.preserveValue)){let f;if(n&&r&&r!==u){const c=n.value.substr(r.prefix.length);c&&(f=`${u.prefix}${c}`)}if(!f){const c=d==null?void 0:d.defaultFilterValue;c===S.DefaultQuickAccessFilterValue.LAST?f=this.lastAcceptedPickerValues.get(u):typeof c=="string"&&(f=`${u.prefix}${c}`)}typeof f=="string"&&(t=f)}const s=new E.DisposableStore,o=s.add(this.quickInputService.createQuickPick());o.value=t,this.adjustValueSelection(o,u,l),o.placeholder=u==null?void 0:u.placeholder,o.quickNavigate=l==null?void 0:l.quickNavigateConfiguration,o.hideInput=!!o.quickNavigate&&!n,(typeof(l==null?void 0:l.itemActivation)=="number"||(l==null?void 0:l.quickNavigateConfiguration))&&(o.itemActivation=(h=l==null?void 0:l.itemActivation)!==null&&h!==void 0?h:b.ItemActivation.SECOND),o.contextKey=u==null?void 0:u.contextKey,o.filterValue=f=>f.substring(u?u.prefix.length:0),(u==null?void 0:u.placeholder)&&(o.ariaLabel=u==null?void 0:u.placeholder);let m;a&&(m=new L.DeferredPromise,s.add((0,M.once)(o.onWillAccept)(f=>{f.veto(),o.hide()}))),s.add(this.registerPickerListeners(o,d,u,t));const _=s.add(new N.CancellationTokenSource);if(d&&s.add(d.provide(o,_.token)),(0,M.once)(o.onDidHide)(()=>{o.selectedItems.length===0&&_.cancel(),s.dispose(),m==null||m.complete(o.selectedItems.slice(0))}),o.show(),a)return m==null?void 0:m.p}adjustValueSelection(t,a,l){var h;let d;(l==null?void 0:l.preserveValue)?d=[t.value.length,t.value.length]:d=[(h=a==null?void 0:a.prefix.length)!==null&&h!==void 0?h:0,t.value.length],t.valueSelection=d}registerPickerListeners(t,a,l,h){const d=new E.DisposableStore,u=this.visibleQuickAccess={picker:t,descriptor:l,value:h};return d.add((0,E.toDisposable)(()=>{u===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),d.add(t.onDidChangeValue(n=>{const[r]=this.getOrInstantiateProvider(n);r!==a?this.show(n,{preserveValue:!0}):u.value=n})),l&&d.add(t.onDidAccept(()=>{this.lastAcceptedPickerValues.set(l,t.value)})),d}getOrInstantiateProvider(t){const a=this.registry.getQuickAccessProvider(t);if(!a)return[void 0,void 0];let l=this.mapProviderToDescriptor.get(a);return l||(l=this.instantiationService.createInstance(a.ctor),this.mapProviderToDescriptor.set(a,l)),[l,a]}};v=Ve([Ce(0,b.IQuickInputService),Ce(1,g.IInstantiationService)],v),e.QuickAccessController=v}),define(ee[276],te([0,1,42]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isVirtualWorkspace=e.getVirtualWorkspaceScheme=e.getVirtualWorkspaceLocation=e.isVirtualResource=e.getRemoteName=e.getRemoteAuthority=void 0;function N(p){return p.scheme===L.Schemas.vscodeRemote?p.authority:void 0}e.getRemoteAuthority=N;function M(p){if(!p)return;const v=p.indexOf("+");return v<0?p:p.substr(0,v)}e.getRemoteName=M;function E(p){return p.scheme!==L.Schemas.file&&p.scheme!==L.Schemas.vscodeRemote}e.isVirtualResource=E;function g(p){if(p.folders.length)return p.folders.every(v=>E(v.uri))?p.folders[0].uri:void 0;if(p.configuration&&E(p.configuration))return p.configuration}e.getVirtualWorkspaceLocation=g;function S(p){var v;return(v=g(p))===null||v===void 0?void 0:v.scheme}e.getVirtualWorkspaceScheme=S;function b(p){return g(p)!==void 0}e.isVirtualWorkspace=b}),define(ee[620],te([0,1,8,9,276]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IBuiltinExtensionsScannerService=e.isResolverExtension=e.isAuthenticationProviderExtension=e.isLanguagePackExtension=e.ExtensionIdentifier=e.EXTENSION_CATEGORIES=e.isIExtensionIdentifier=e.getWorkspaceSupportTypeMessage=e.ALL_EXTENSION_KINDS=e.BUILTIN_MANIFEST_CACHE_FILE=e.USER_MANIFEST_CACHE_FILE=e.MANIFEST_CACHE_FOLDER=void 0,e.MANIFEST_CACHE_FOLDER="CachedExtensions",e.USER_MANIFEST_CACHE_FILE="user",e.BUILTIN_MANIFEST_CACHE_FILE="builtin",e.ALL_EXTENSION_KINDS=["ui","workspace","web"];function E(i){if(typeof i=="object"&&i!==null&&i.supported!==!0)return i.description}e.getWorkspaceSupportTypeMessage=E;function g(i){return i&&typeof i=="object"&&typeof i.id=="string"&&(!i.uuid||typeof i.uuid=="string")}e.isIExtensionIdentifier=g,e.EXTENSION_CATEGORIES=["Azure","Data Science","Debuggers","Extension Packs","Education","Formatters","Keymaps","Language Packs","Linters","Machine Learning","Notebooks","Programming Languages","SCM Providers","Snippets","Testing","Themes","Visualization","Other"];class S{constructor(t){this.value=t,this._lower=t.toLowerCase()}static equals(t,a){if(typeof t=="undefined"||t===null)return typeof a=="undefined"||a===null;if(typeof a=="undefined"||a===null)return!1;if(typeof t=="string"||typeof a=="string"){let l=typeof t=="string"?t:t.value,h=typeof a=="string"?a:a.value;return L.equalsIgnoreCase(l,h)}return t._lower===a._lower}static toKey(t){return typeof t=="string"?t.toLowerCase():t._lower}}e.ExtensionIdentifier=S;function b(i){return i.contributes&&i.contributes.localizations?i.contributes.localizations.length>0:!1}e.isLanguagePackExtension=b;function p(i){return i.contributes&&i.contributes.authentication?i.contributes.authentication.length>0:!1}e.isAuthenticationProviderExtension=p;function v(i,t){var a;if(t){const l=`onResolveRemoteAuthority:${(0,M.getRemoteName)(t)}`;return((a=i.activationEvents)===null||a===void 0?void 0:a.indexOf(l))!==-1}return!1}e.isResolverExtension=v,e.IBuiltinExtensionsScannerService=(0,N.createDecorator)("IBuiltinExtensionsScannerService")}),define(ee[78],te([0,1,10,4,2,746,20,325,9]),function(Q,e,L,N,M,E,g,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.logStorage=e.InMemoryStorageService=e.AbstractStorageService=e.WillSaveStateReason=e.IStorageService=e.IS_NEW_KEY=void 0,e.IS_NEW_KEY="__$__isNewStorageMarker";const p="__$__targetStorageMarker";e.IStorageService=(0,b.createDecorator)("storageService");var v;(function(l){l[l.NONE=0]="NONE",l[l.SHUTDOWN=1]="SHUTDOWN"})(v=e.WillSaveStateReason||(e.WillSaveStateReason={}));class i extends M.Disposable{constructor(h={flushInterval:i.DEFAULT_FLUSH_INTERVAL}){super();this.options=h,this._onDidChangeValue=this._register(new N.PauseableEmitter),this.onDidChangeValue=this._onDidChangeValue.event,this._onDidChangeTarget=this._register(new N.PauseableEmitter),this.onDidChangeTarget=this._onDidChangeTarget.event,this._onWillSaveState=this._register(new N.Emitter),this.onWillSaveState=this._onWillSaveState.event,this.flushWhenIdleScheduler=this._register(new L.RunOnceScheduler(()=>this.doFlushWhenIdle(),this.options.flushInterval)),this.runFlushWhenIdle=this._register(new M.MutableDisposable),this._workspaceKeyTargets=void 0,this._globalKeyTargets=void 0}doFlushWhenIdle(){this.runFlushWhenIdle.value=(0,L.runWhenIdle)(()=>{this.shouldFlushWhenIdle()&&this.flush(),this.flushWhenIdleScheduler.schedule()})}shouldFlushWhenIdle(){return!0}stopFlushWhenIdle(){(0,M.dispose)([this.runFlushWhenIdle,this.flushWhenIdleScheduler])}initialize(){return this.initializationPromise||(this.initializationPromise=(()=>Me(this,void 0,void 0,function*(){(0,E.mark)("code/willInitStorage");try{yield this.doInitialize()}finally{(0,E.mark)("code/didInitStorage")}this.flushWhenIdleScheduler.schedule()}))()),this.initializationPromise}emitDidChangeValue(h,d){d===p?(h===0?this._globalKeyTargets=void 0:h===1&&(this._workspaceKeyTargets=void 0),this._onDidChangeTarget.fire({scope:h})):this._onDidChangeValue.fire({scope:h,key:d,target:this.getKeyTargets(h)[d]})}emitWillSaveState(h){this._onWillSaveState.fire({reason:h})}get(h,d,u){var n;return(n=this.getStorage(d))===null||n===void 0?void 0:n.get(h,u)}getBoolean(h,d,u){var n;return(n=this.getStorage(d))===null||n===void 0?void 0:n.getBoolean(h,u)}getNumber(h,d,u){var n;return(n=this.getStorage(d))===null||n===void 0?void 0:n.getNumber(h,u)}store(h,d,u,n){if((0,g.isUndefinedOrNull)(d)){this.remove(h,u);return}this.withPausedEmitters(()=>{var r;this.updateKeyTarget(h,u,n),(r=this.getStorage(u))===null||r===void 0||r.set(h,d)})}remove(h,d){this.withPausedEmitters(()=>{var u;this.updateKeyTarget(h,d,void 0),(u=this.getStorage(d))===null||u===void 0||u.delete(h)})}withPausedEmitters(h){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{h()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}keys(h,d){const u=[],n=this.getKeyTargets(h);for(const r of Object.keys(n))n[r]===d&&u.push(r);return u}updateKeyTarget(h,d,u){var n,r;const s=this.getKeyTargets(d);typeof u=="number"?s[h]!==u&&(s[h]=u,(n=this.getStorage(d))===null||n===void 0||n.set(p,JSON.stringify(s))):typeof s[h]=="number"&&(delete s[h],(r=this.getStorage(d))===null||r===void 0||r.set(p,JSON.stringify(s)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get globalKeyTargets(){return this._globalKeyTargets||(this._globalKeyTargets=this.loadKeyTargets(0)),this._globalKeyTargets}getKeyTargets(h){return h===0?this.globalKeyTargets:this.workspaceKeyTargets}loadKeyTargets(h){const d=this.get(p,h);if(d)try{return JSON.parse(d)}catch(u){}return Object.create(null)}isNew(h){return this.getBoolean(e.IS_NEW_KEY,h)===!0}flush(h=v.NONE){var d,u,n,r;return Me(this,void 0,void 0,function*(){this._onWillSaveState.fire({reason:h});const s=this.getStorage(0),o=this.getStorage(1);switch(h){case v.NONE:yield L.Promises.settled([(d=s==null?void 0:s.whenFlushed())!==null&&d!==void 0?d:Promise.resolve(),(u=o==null?void 0:o.whenFlushed())!==null&&u!==void 0?u:Promise.resolve()]);break;case v.SHUTDOWN:yield L.Promises.settled([(n=s==null?void 0:s.flush(0))!==null&&n!==void 0?n:Promise.resolve(),(r=o==null?void 0:o.flush(0))!==null&&r!==void 0?r:Promise.resolve()]);break}})}logStorage(){var h,d,u,n,r,s;return Me(this,void 0,void 0,function*(){const o=(d=(h=this.getStorage(0))===null||h===void 0?void 0:h.items)!==null&&d!==void 0?d:new Map,m=(n=(u=this.getStorage(1))===null||u===void 0?void 0:u.items)!==null&&n!==void 0?n:new Map;return a(o,m,(r=this.getLogDetails(0))!==null&&r!==void 0?r:"",(s=this.getLogDetails(1))!==null&&s!==void 0?s:"")})}}e.AbstractStorageService=i,i.DEFAULT_FLUSH_INTERVAL=60*1e3;class t extends i{constructor(){super();this.globalStorage=this._register(new S.Storage(new S.InMemoryStorageDatabase)),this.workspaceStorage=this._register(new S.Storage(new S.InMemoryStorageDatabase)),this._register(this.workspaceStorage.onDidChangeStorage(h=>this.emitDidChangeValue(1,h))),this._register(this.globalStorage.onDidChangeStorage(h=>this.emitDidChangeValue(0,h)))}getStorage(h){return h===0?this.globalStorage:this.workspaceStorage}getLogDetails(h){return h===0?"inMemory (global)":"inMemory (workspace)"}doInitialize(){return Me(this,void 0,void 0,function*(){})}migrate(h){return Me(this,void 0,void 0,function*(){})}}e.InMemoryStorageService=t;function a(l,h,d,u){return Me(this,void 0,void 0,function*(){const n=c=>{try{return JSON.parse(c)}catch(C){return c}},r=new Map,s=new Map;l.forEach((c,C)=>{r.set(C,c),s.set(C,n(c))});const o=new Map,m=new Map;h.forEach((c,C)=>{o.set(C,c),m.set(C,n(c))}),console.group(`Storage: Global (path: ${d})`);let _=[];r.forEach((c,C)=>{_.push({key:C,value:c})}),console.table(_),console.groupEnd(),console.log(s),console.group(`Storage: Workspace (path: ${u})`);let f=[];o.forEach((c,C)=>{f.push({key:C,value:c})}),console.table(f),console.groupEnd(),console.log(m)})}e.logStorage=a}),define(ee[621],te([0,1,10,79,48,3,267,74,9,78]),function(Q,e,L,N,M,E,g,S,b,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensCache=e.ICodeLensCache=void 0,e.ICodeLensCache=(0,b.createDecorator)("ICodeLensCache");class v{constructor(a,l){this.lineCount=a,this.data=l}}let i=class{constructor(a){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new M.LRUCache(20,.75);const l="codelens/cache";(0,L.runWhenIdle)(()=>a.remove(l,1));const h="codelens/cache2",d=a.get(h,1,"{}");this._deserialize(d),(0,N.once)(a.onWillSaveState)(u=>{u.reason===p.WillSaveStateReason.SHUTDOWN&&a.store(h,this._serialize(),1,1)})}put(a,l){const h=l.lenses.map(n=>{var r;return{range:n.symbol.range,command:n.symbol.command&&{id:"",title:(r=n.symbol.command)===null||r===void 0?void 0:r.title}}}),d=new g.CodeLensModel;d.add({lenses:h,dispose:()=>{}},this._fakeProvider);const u=new v(a.getLineCount(),d);this._cache.set(a.uri.toString(),u)}get(a){const l=this._cache.get(a.uri.toString());return l&&l.lineCount===a.getLineCount()?l.data:void 0}delete(a){this._cache.delete(a.uri.toString())}_serialize(){const a=Object.create(null);for(const[l,h]of this._cache){const d=new Set;for(const u of h.data.lenses)d.add(u.symbol.range.startLineNumber);a[l]={lineCount:h.lineCount,lines:[...d.values()]}}return JSON.stringify(a)}_deserialize(a){try{const l=JSON.parse(a);for(const h in l){const d=l[h],u=[];for(const r of d.lines)u.push({range:new E.Range(r,1,r,11)});const n=new g.CodeLensModel;n.add({lenses:u,dispose(){}},this._fakeProvider),this._cache.set(h,new v(d.lineCount,n))}}catch(l){}}};i=Ve([Ce(0,p.IStorageService)],i),e.CodeLensCache=i,(0,S.registerSingleton)(e.ICodeLensCache,i)}),define(ee[622],te([0,1,10,2,48,18,37,74,9,78]),function(Q,e,L,N,M,E,g,S,b,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISuggestMemoryService=e.SuggestMemoryService=e.PrefixMemory=e.LRUMemory=e.NoMemory=e.Memory=void 0;class v{constructor(d){this.name=d}select(d,u,n){if(n.length===0)return 0;let r=n[0].score[0];for(let s=0;s<n.length;s++){const{score:o,completion:m}=n[s];if(o[0]!==r)break;if(m.preselect)return s}return 0}}e.Memory=v;class i extends v{constructor(){super("first")}memorize(d,u,n){}toJSON(){}fromJSON(){}}e.NoMemory=i;class t extends v{constructor(){super("recentlyUsed");this._cache=new M.LRUCache(300,.66),this._seq=0}memorize(d,u,n){const r=`${d.getLanguageId()}/${n.textLabel}`;this._cache.set(r,{touch:this._seq++,type:n.completion.kind,insertText:n.completion.insertText})}select(d,u,n){if(n.length===0)return 0;const r=d.getLineContent(u.lineNumber).substr(u.column-10,u.column-1);if(/\s$/.test(r))return super.select(d,u,n);let s=n[0].score[0],o=-1,m=-1,_=-1;for(let f=0;f<n.length&&n[f].score[0]===s;f++){const c=`${d.getLanguageId()}/${n[f].textLabel}`,C=this._cache.peek(c);if(C&&C.touch>_&&C.type===n[f].completion.kind&&C.insertText===n[f].completion.insertText&&(_=C.touch,m=f),n[f].completion.preselect&&o===-1)return o=f}return m!==-1?m:o!==-1?o:0}toJSON(){return this._cache.toJSON()}fromJSON(d){this._cache.clear();let u=0;for(const[n,r]of d)r.touch=u,r.type=typeof r.type=="number"?r.type:(0,E.completionKindFromString)(r.type),this._cache.set(n,r);this._seq=this._cache.size}}e.LRUMemory=t;class a extends v{constructor(){super("recentlyUsedByPrefix");this._trie=M.TernarySearchTree.forStrings(),this._seq=0}memorize(d,u,n){const{word:r}=d.getWordUntilPosition(u),s=`${d.getLanguageId()}/${r}`;this._trie.set(s,{type:n.completion.kind,insertText:n.completion.insertText,touch:this._seq++})}select(d,u,n){let{word:r}=d.getWordUntilPosition(u);if(!r)return super.select(d,u,n);let s=`${d.getLanguageId()}/${r}`,o=this._trie.get(s);if(o||(o=this._trie.findSubstr(s)),o)for(let m=0;m<n.length;m++){let{kind:_,insertText:f}=n[m].completion;if(_===o.type&&f===o.insertText)return m}return super.select(d,u,n)}toJSON(){let d=[];return this._trie.forEach((u,n)=>d.push([n,u])),d.sort((u,n)=>-(u[1].touch-n[1].touch)).forEach((u,n)=>u[1].touch=n),d.slice(0,200)}fromJSON(d){if(this._trie.clear(),d.length>0){this._seq=d[0][1].touch+1;for(const[u,n]of d)n.type=typeof n.type=="number"?n.type:(0,E.completionKindFromString)(n.type),this._trie.set(u,n)}}}e.PrefixMemory=a;let l=class $t{constructor(d,u){this._storageService=d,this._configService=u,this._disposables=new N.DisposableStore,this._persistSoon=new L.RunOnceScheduler(()=>this._saveState(),500),this._disposables.add(d.onWillSaveState(n=>{n.reason===p.WillSaveStateReason.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(d,u,n){this._withStrategy(d,u).memorize(d,u,n),this._persistSoon.schedule()}select(d,u,n){return this._withStrategy(d,u).select(d,u,n)}_withStrategy(d,u){var n;const r=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:d.getLanguageIdAtPosition(u.lineNumber,u.column),resource:d.uri});if(((n=this._strategy)===null||n===void 0?void 0:n.name)!==r){this._saveState();const s=$t._strategyCtors.get(r)||i;this._strategy=new s;try{const m=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,_=this._storageService.get(`${$t._storagePrefix}/${r}`,m);_&&this._strategy.fromJSON(JSON.parse(_))}catch(o){}}return this._strategy}_saveState(){if(this._strategy){const u=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,n=JSON.stringify(this._strategy);this._storageService.store(`${$t._storagePrefix}/${this._strategy.name}`,n,u,1)}}};l._strategyCtors=new Map([["recentlyUsedByPrefix",a],["recentlyUsed",t],["first",i]]),l._storagePrefix="suggest/memories",l=Ve([Ce(0,p.IStorageService),Ce(1,g.IConfigurationService)],l),e.SuggestMemoryService=l,e.ISuggestMemoryService=(0,b.createDecorator)("ISuggestMemories"),(0,S.registerSingleton)(e.ISuggestMemoryService,l,!0)}),define(ee[86],te([0,1,9]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TELEMETRY_OLD_SETTING_ID=e.TELEMETRY_SETTING_ID=e.TELEMETRY_SECTION_ID=e.machineIdKey=e.lastSessionDateStorageKey=e.firstSessionDateStorageKey=e.currentSessionDateStorageKey=e.ICustomEndpointTelemetryService=e.ITelemetryService=void 0,e.ITelemetryService=(0,L.createDecorator)("telemetryService"),e.ICustomEndpointTelemetryService=(0,L.createDecorator)("customEndpointTelemetryService"),e.currentSessionDateStorageKey="telemetry.currentSessionDate",e.firstSessionDateStorageKey="telemetry.firstSessionDate",e.lastSessionDateStorageKey="telemetry.lastSessionDate",e.machineIdKey="telemetry.machineId",e.TELEMETRY_SECTION_ID="telemetry",e.TELEMETRY_SETTING_ID="telemetry.telemetryLevel",e.TELEMETRY_OLD_SETTING_ID="telemetry.enableTelemetry"}),define(ee[623],te([0,1,257,12,72,2,48,82,20,572,26,37,126,9,43,608,78,86]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsHistory=e.AbstractCommandsQuickAccessProvider=void 0;let n=class qt extends h.PickerQuickAccessProvider{constructor(o,m,_,f,c,C){super(qt.PREFIX,o);this.instantiationService=m,this.keybindingService=_,this.commandService=f,this.telemetryService=c,this.dialogService=C,this.commandsHistory=this._register(this.instantiationService.createInstance(r)),this.options=o}_getPicks(o,m,_){return Me(this,void 0,void 0,function*(){const f=yield this.getCommandPicks(m,_);if(_.isCancellationRequested)return[];const c=[];for(const D of f){const I=(0,b.withNullAsUndefined)(qt.WORD_FILTER(o,D.label)),T=D.commandAlias?(0,b.withNullAsUndefined)(qt.WORD_FILTER(o,D.commandAlias)):void 0;I||T?(D.highlights={label:I,detail:this.options.showAlias?T:void 0},c.push(D)):o===D.commandId&&c.push(D)}const C=new Map;for(const D of c){const I=C.get(D.label);I?(D.description=D.commandId,I.description=I.commandId):C.set(D.label,D)}c.sort((D,I)=>{const T=this.commandsHistory.peek(D.commandId),F=this.commandsHistory.peek(I.commandId);return T&&F?T>F?-1:1:T?-1:F?1:D.label.localeCompare(I.label)});const y=[];let w=!1;for(let D=0;D<c.length;D++){const I=c[D],T=this.keybindingService.lookupKeybinding(I.commandId),F=T?(0,p.localize)(0,null,I.label,T.getAriaLabel()):I.label;D===0&&this.commandsHistory.peek(I.commandId)&&(y.push({type:"separator",label:(0,p.localize)(1,null)}),w=!0),D!==0&&w&&!this.commandsHistory.peek(I.commandId)&&(y.push({type:"separator",label:(0,p.localize)(2,null)}),w=!1),y.push(Object.assign(Object.assign({},I),{ariaLabel:F,detail:this.options.showAlias&&I.commandAlias!==I.label?I.commandAlias:void 0,keybinding:T,accept:()=>Me(this,void 0,void 0,function*(){this.commandsHistory.push(I.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:I.commandId,from:"quick open"});try{yield this.commandService.executeCommand(I.commandId)}catch(P){(0,N.isPromiseCanceledError)(P)||this.dialogService.show(S.default.Error,(0,p.localize)(3,null,I.label,(0,L.toErrorMessage)(P)))}})}))}return y})}};n.PREFIX=">",n.WORD_FILTER=(0,M.or)(M.matchesPrefix,M.matchesWords,M.matchesContiguousSubString),n=Ve([Ce(1,a.IInstantiationService),Ce(2,l.IKeybindingService),Ce(3,v.ICommandService),Ce(4,u.ITelemetryService),Ce(5,t.IDialogService)],n),e.AbstractCommandsQuickAccessProvider=n;let r=class lt extends E.Disposable{constructor(o,m){super();this.storageService=o,this.configurationService=m,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(()=>this.updateConfiguration()))}updateConfiguration(){this.configuredCommandsHistoryLength=lt.getConfiguredCommandHistoryLength(this.configurationService),lt.cache&&lt.cache.limit!==this.configuredCommandsHistoryLength&&(lt.cache.limit=this.configuredCommandsHistoryLength,lt.saveState(this.storageService))}load(){const o=this.storageService.get(lt.PREF_KEY_CACHE,0);let m;if(o)try{m=JSON.parse(o)}catch(f){}const _=lt.cache=new g.LRUCache(this.configuredCommandsHistoryLength,1);if(m){let f;m.usesLRU?f=m.entries:f=m.entries.sort((c,C)=>c.value-C.value),f.forEach(c=>_.set(c.key,c.value))}lt.counter=this.storageService.getNumber(lt.PREF_KEY_COUNTER,0,lt.counter)}push(o){!lt.cache||(lt.cache.set(o,lt.counter++),lt.saveState(this.storageService))}peek(o){var m;return(m=lt.cache)===null||m===void 0?void 0:m.peek(o)}static saveState(o){if(!lt.cache)return;const m={usesLRU:!0,entries:[]};lt.cache.forEach((_,f)=>m.entries.push({key:f,value:_})),o.store(lt.PREF_KEY_CACHE,JSON.stringify(m),0,0),o.store(lt.PREF_KEY_COUNTER,lt.counter,0,0)}static getConfiguredCommandHistoryLength(o){var m,_;const c=(_=(m=o.getValue().workbench)===null||m===void 0?void 0:m.commandPalette)===null||_===void 0?void 0:_.history;return typeof c=="number"?c:lt.DEFAULT_COMMANDS_HISTORY_LENGTH}static clearHistory(o,m){const _=lt.getConfiguredCommandHistoryLength(o);lt.cache=new g.LRUCache(_),lt.counter=1,lt.saveState(m)}};r.DEFAULT_COMMANDS_HISTORY_LENGTH=50,r.PREF_KEY_CACHE="commandPalette.mru.cache",r.PREF_KEY_COUNTER="commandPalette.mru.counter",r.counter=1,r=Ve([Ce(0,d.IStorageService),Ce(1,i.IConfigurationService)],r),e.CommandsHistory=r}),define(ee[624],te([0,1,110,623]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorCommandsQuickAccessProvider=void 0;class M extends N.AbstractCommandsQuickAccessProvider{constructor(g,S,b,p,v,i){super(g,S,b,p,v,i)}getCodeEditorCommandPicks(){const g=this.activeTextEditorControl;if(!g)return[];const S=[];for(const b of g.getSupportedActions())S.push({commandId:b.id,commandAlias:b.alias,label:(0,L.stripIcons)(b.label)||b.id});return S}}e.AbstractEditorCommandsQuickAccessProvider=M}),define(ee[24],te([0,1,10,28,4,20,574,194,35]),function(Q,e,L,N,M,E,g,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.workbenchColorsSchemaId=e.resolveColorValue=e.ifDefinedThenElse=e.oneOf=e.transparent=e.lighten=e.darken=e.executeTransform=e.chartsPurple=e.chartsGreen=e.chartsOrange=e.chartsYellow=e.chartsBlue=e.chartsRed=e.chartsLines=e.chartsForeground=e.problemsInfoIconForeground=e.problemsWarningIconForeground=e.problemsErrorIconForeground=e.minimapSliderActiveBackground=e.minimapSliderHoverBackground=e.minimapSliderBackground=e.minimapUnicodeHighlight=e.minimapForegroundOpacity=e.minimapBackground=e.minimapWarning=e.minimapError=e.minimapSelection=e.minimapSelectionOccurrenceHighlight=e.minimapFindMatch=e.overviewRulerUnicodeHighlightForeground=e.overviewRulerSelectionHighlightForeground=e.overviewRulerFindMatchForeground=e.overviewRulerCommonContentForeground=e.overviewRulerIncomingContentForeground=e.overviewRulerCurrentContentForeground=e.mergeBorder=e.mergeCommonContentBackground=e.mergeCommonHeaderBackground=e.mergeIncomingContentBackground=e.mergeIncomingHeaderBackground=e.mergeCurrentContentBackground=e.mergeCurrentHeaderBackground=e.breadcrumbsPickerBackground=e.breadcrumbsActiveSelectionForeground=e.breadcrumbsFocusForeground=e.breadcrumbsBackground=e.breadcrumbsForeground=e.snippetFinalTabstopHighlightBorder=e.snippetFinalTabstopHighlightBackground=e.snippetTabstopHighlightBorder=e.snippetTabstopHighlightBackground=e.toolbarActiveBackground=e.toolbarHoverOutline=e.toolbarHoverBackground=e.menuSeparatorBackground=e.menuSelectionBorder=e.menuSelectionBackground=e.menuSelectionForeground=e.menuBackground=e.menuForeground=e.menuBorder=e.quickInputListFocusBackground=e.quickInputListFocusIconForeground=e.quickInputListFocusForeground=e._deprecatedQuickInputListFocusBackground=e.listDeemphasizedForeground=e.tableOddRowsBackgroundColor=e.tableColumnsBorder=e.treeIndentGuidesStroke=e.listFilterMatchHighlightBorder=e.listFilterMatchHighlight=e.listFilterWidgetNoMatchesOutline=e.listFilterWidgetOutline=e.listFilterWidgetBackground=e.listWarningForeground=e.listErrorForeground=e.listInvalidItemForeground=e.listFocusHighlightForeground=e.listHighlightForeground=e.listDropBackground=e.listHoverForeground=e.listHoverBackground=e.listInactiveFocusOutline=e.listInactiveFocusBackground=e.listInactiveSelectionIconForeground=e.listInactiveSelectionForeground=e.listInactiveSelectionBackground=e.listActiveSelectionIconForeground=e.listActiveSelectionForeground=e.listActiveSelectionBackground=e.listFocusOutline=e.listFocusForeground=e.listFocusBackground=e.diffDiagonalFill=e.diffBorder=e.diffRemovedOutline=e.diffInsertedOutline=e.diffRemoved=e.diffInserted=e.defaultRemoveColor=e.defaultInsertColor=e.editorLightBulbAutoFixForeground=e.editorLightBulbForeground=e.editorInlayHintParameterBackground=e.editorInlayHintParameterForeground=e.editorInlayHintTypeBackground=e.editorInlayHintTypeForeground=e.editorInlayHintBackground=e.editorInlayHintForeground=e.editorActiveLinkForeground=e.editorHoverStatusBarBackground=e.editorHoverBorder=e.editorHoverForeground=e.editorHoverBackground=e.editorHoverHighlight=e.searchEditorFindMatchBorder=e.searchEditorFindMatch=e.editorFindRangeHighlightBorder=e.editorFindMatchHighlightBorder=e.editorFindMatchBorder=e.editorFindRangeHighlight=e.editorFindMatchHighlight=e.editorFindMatch=e.editorSelectionHighlightBorder=e.editorSelectionHighlight=e.editorInactiveSelection=e.editorSelectionForeground=e.editorSelectionBackground=e.keybindingLabelBottomBorder=e.keybindingLabelBorder=e.keybindingLabelForeground=e.keybindingLabelBackground=e.pickerGroupBorder=e.pickerGroupForeground=e.quickInputTitleBackground=e.quickInputForeground=e.quickInputBackground=e.editorWidgetResizeBorder=e.editorWidgetBorder=e.editorWidgetForeground=e.editorWidgetBackground=e.editorForeground=e.editorBackground=e.sashHoverBorder=e.editorHintBorder=e.editorHintForeground=e.editorInfoBorder=e.editorInfoForeground=e.editorInfoBackground=e.editorWarningBorder=e.editorWarningForeground=e.editorWarningBackground=e.editorErrorBorder=e.editorErrorForeground=e.editorErrorBackground=e.progressBarBackground=e.scrollbarSliderActiveBackground=e.scrollbarSliderHoverBackground=e.scrollbarSliderBackground=e.scrollbarShadow=e.badgeForeground=e.badgeBackground=e.buttonSecondaryHoverBackground=e.buttonSecondaryBackground=e.buttonSecondaryForeground=e.buttonBorder=e.buttonHoverBackground=e.buttonBackground=e.buttonForeground=e.simpleCheckboxBorder=e.simpleCheckboxForeground=e.simpleCheckboxBackground=e.selectBorder=e.selectForeground=e.selectListBackground=e.selectBackground=e.inputValidationErrorBorder=e.inputValidationErrorForeground=e.inputValidationErrorBackground=e.inputValidationWarningBorder=e.inputValidationWarningForeground=e.inputValidationWarningBackground=e.inputValidationInfoBorder=e.inputValidationInfoForeground=e.inputValidationInfoBackground=e.inputPlaceholderForeground=e.inputActiveOptionForeground=e.inputActiveOptionBackground=e.inputActiveOptionHoverBackground=e.inputActiveOptionBorder=e.inputBorder=e.inputForeground=e.inputBackground=e.widgetShadow=e.textCodeBlockBackground=e.textBlockQuoteBorder=e.textBlockQuoteBackground=e.textPreformatForeground=e.textLinkActiveForeground=e.textLinkForeground=e.textSeparatorForeground=e.selectionBackground=e.activeContrastBorder=e.contrastBorder=e.focusBorder=e.iconForeground=e.descriptionForeground=e.errorForeground=e.foreground=e.getColorRegistry=e.registerColor=e.Extensions=e.asCssVariableName=void 0;function p(I){return`--vscode-${I.replace(".","-")}`}e.asCssVariableName=p,e.Extensions={ColorContribution:"base.contributions.colors"};class v{constructor(){this._onDidChangeSchema=new M.Emitter,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(T,F,P,R=!1,A){let O={id:T,description:P,defaults:F,needsTransparency:R,deprecationMessage:A};this.colorsById[T]=O;let k={type:"string",description:P,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return A&&(k.deprecationMessage=A),this.colorSchema.properties[T]=k,this.colorReferenceSchema.enum.push(T),this.colorReferenceSchema.enumDescriptions.push(P),this._onDidChangeSchema.fire(),T}deregisterColor(T){delete this.colorsById[T],delete this.colorSchema.properties[T];const F=this.colorReferenceSchema.enum.indexOf(T);F!==-1&&(this.colorReferenceSchema.enum.splice(F,1),this.colorReferenceSchema.enumDescriptions.splice(F,1)),this._onDidChangeSchema.fire()}getColors(){return Object.keys(this.colorsById).map(T=>this.colorsById[T])}resolveDefaultColor(T,F){const P=this.colorsById[T];if(P&&P.defaults){const R=P.defaults[F.type];return y(R,F)}}getColorSchema(){return this.colorSchema}getColorReferenceSchema(){return this.colorReferenceSchema}toString(){let T=(F,P)=>{let R=F.indexOf(".")===-1?0:1,A=P.indexOf(".")===-1?0:1;return R!==A?R-A:F.localeCompare(P)};return Object.keys(this.colorsById).sort(T).map(F=>`- \`${F}\`: ${this.colorsById[F].description}`).join(`
`)}}const i=new v;b.Registry.add(e.Extensions.ColorContribution,i);function t(I,T,F,P,R){return i.registerColor(I,T,F,P,R)}e.registerColor=t;function a(){return i}e.getColorRegistry=a,e.foreground=t("foreground",{dark:"#CCCCCC",light:"#616161",hc:"#FFFFFF"},g.localize(0,null)),e.errorForeground=t("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},g.localize(1,null)),e.descriptionForeground=t("descriptionForeground",{light:"#717171",dark:_(e.foreground,.7),hc:_(e.foreground,.7)},g.localize(2,null)),e.iconForeground=t("icon.foreground",{dark:"#C5C5C5",light:"#424242",hc:"#FFFFFF"},g.localize(3,null)),e.focusBorder=t("focusBorder",{dark:"#007FD4",light:"#0090F1",hc:"#F38518"},g.localize(4,null)),e.contrastBorder=t("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},g.localize(5,null)),e.activeContrastBorder=t("contrastActiveBorder",{light:null,dark:null,hc:e.focusBorder},g.localize(6,null)),e.selectionBackground=t("selection.background",{light:null,dark:null,hc:null},g.localize(7,null)),e.textSeparatorForeground=t("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hc:N.Color.black},g.localize(8,null)),e.textLinkForeground=t("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},g.localize(9,null)),e.textLinkActiveForeground=t("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},g.localize(10,null)),e.textPreformatForeground=t("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hc:"#D7BA7D"},g.localize(11,null)),e.textBlockQuoteBackground=t("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hc:null},g.localize(12,null)),e.textBlockQuoteBorder=t("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hc:N.Color.white},g.localize(13,null)),e.textCodeBlockBackground=t("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:N.Color.black},g.localize(14,null)),e.widgetShadow=t("widget.shadow",{dark:_(N.Color.black,.36),light:_(N.Color.black,.16),hc:null},g.localize(15,null)),e.inputBackground=t("input.background",{dark:"#3C3C3C",light:N.Color.white,hc:N.Color.black},g.localize(16,null)),e.inputForeground=t("input.foreground",{dark:e.foreground,light:e.foreground,hc:e.foreground},g.localize(17,null)),e.inputBorder=t("input.border",{dark:null,light:null,hc:e.contrastBorder},g.localize(18,null)),e.inputActiveOptionBorder=t("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hc:e.contrastBorder},g.localize(19,null)),e.inputActiveOptionHoverBackground=t("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hc:null},g.localize(20,null)),e.inputActiveOptionBackground=t("inputOption.activeBackground",{dark:_(e.focusBorder,.4),light:_(e.focusBorder,.2),hc:N.Color.transparent},g.localize(21,null)),e.inputActiveOptionForeground=t("inputOption.activeForeground",{dark:N.Color.white,light:N.Color.black,hc:null},g.localize(22,null)),e.inputPlaceholderForeground=t("input.placeholderForeground",{light:_(e.foreground,.5),dark:_(e.foreground,.5),hc:_(e.foreground,.7)},g.localize(23,null)),e.inputValidationInfoBackground=t("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:N.Color.black},g.localize(24,null)),e.inputValidationInfoForeground=t("inputValidation.infoForeground",{dark:null,light:null,hc:null},g.localize(25,null)),e.inputValidationInfoBorder=t("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:e.contrastBorder},g.localize(26,null)),e.inputValidationWarningBackground=t("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:N.Color.black},g.localize(27,null)),e.inputValidationWarningForeground=t("inputValidation.warningForeground",{dark:null,light:null,hc:null},g.localize(28,null)),e.inputValidationWarningBorder=t("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:e.contrastBorder},g.localize(29,null)),e.inputValidationErrorBackground=t("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:N.Color.black},g.localize(30,null)),e.inputValidationErrorForeground=t("inputValidation.errorForeground",{dark:null,light:null,hc:null},g.localize(31,null)),e.inputValidationErrorBorder=t("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:e.contrastBorder},g.localize(32,null)),e.selectBackground=t("dropdown.background",{dark:"#3C3C3C",light:N.Color.white,hc:N.Color.black},g.localize(33,null)),e.selectListBackground=t("dropdown.listBackground",{dark:null,light:null,hc:N.Color.black},g.localize(34,null)),e.selectForeground=t("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:N.Color.white},g.localize(35,null)),e.selectBorder=t("dropdown.border",{dark:e.selectBackground,light:"#CECECE",hc:e.contrastBorder},g.localize(36,null)),e.simpleCheckboxBackground=t("checkbox.background",{dark:e.selectBackground,light:e.selectBackground,hc:e.selectBackground},g.localize(37,null)),e.simpleCheckboxForeground=t("checkbox.foreground",{dark:e.selectForeground,light:e.selectForeground,hc:e.selectForeground},g.localize(38,null)),e.simpleCheckboxBorder=t("checkbox.border",{dark:e.selectBorder,light:e.selectBorder,hc:e.selectBorder},g.localize(39,null)),e.buttonForeground=t("button.foreground",{dark:N.Color.white,light:N.Color.white,hc:N.Color.white},g.localize(40,null)),e.buttonBackground=t("button.background",{dark:"#0E639C",light:"#007ACC",hc:null},g.localize(41,null)),e.buttonHoverBackground=t("button.hoverBackground",{dark:m(e.buttonBackground,.2),light:o(e.buttonBackground,.2),hc:null},g.localize(42,null)),e.buttonBorder=t("button.border",{dark:e.contrastBorder,light:e.contrastBorder,hc:e.contrastBorder},g.localize(43,null)),e.buttonSecondaryForeground=t("button.secondaryForeground",{dark:N.Color.white,light:N.Color.white,hc:N.Color.white},g.localize(44,null)),e.buttonSecondaryBackground=t("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hc:null},g.localize(45,null)),e.buttonSecondaryHoverBackground=t("button.secondaryHoverBackground",{dark:m(e.buttonSecondaryBackground,.2),light:o(e.buttonSecondaryBackground,.2),hc:null},g.localize(46,null)),e.badgeBackground=t("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hc:N.Color.black},g.localize(47,null)),e.badgeForeground=t("badge.foreground",{dark:N.Color.white,light:"#333",hc:N.Color.white},g.localize(48,null)),e.scrollbarShadow=t("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},g.localize(49,null)),e.scrollbarSliderBackground=t("scrollbarSlider.background",{dark:N.Color.fromHex("#797979").transparent(.4),light:N.Color.fromHex("#646464").transparent(.4),hc:_(e.contrastBorder,.6)},g.localize(50,null)),e.scrollbarSliderHoverBackground=t("scrollbarSlider.hoverBackground",{dark:N.Color.fromHex("#646464").transparent(.7),light:N.Color.fromHex("#646464").transparent(.7),hc:_(e.contrastBorder,.8)},g.localize(51,null)),e.scrollbarSliderActiveBackground=t("scrollbarSlider.activeBackground",{dark:N.Color.fromHex("#BFBFBF").transparent(.4),light:N.Color.fromHex("#000000").transparent(.6),hc:e.contrastBorder},g.localize(52,null)),e.progressBarBackground=t("progressBar.background",{dark:N.Color.fromHex("#0E70C0"),light:N.Color.fromHex("#0E70C0"),hc:e.contrastBorder},g.localize(53,null)),e.editorErrorBackground=t("editorError.background",{dark:null,light:null,hc:null},g.localize(54,null),!0),e.editorErrorForeground=t("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hc:null},g.localize(55,null)),e.editorErrorBorder=t("editorError.border",{dark:null,light:null,hc:N.Color.fromHex("#E47777").transparent(.8)},g.localize(56,null)),e.editorWarningBackground=t("editorWarning.background",{dark:null,light:null,hc:null},g.localize(57,null),!0),e.editorWarningForeground=t("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hc:null},g.localize(58,null)),e.editorWarningBorder=t("editorWarning.border",{dark:null,light:null,hc:N.Color.fromHex("#FFCC00").transparent(.8)},g.localize(59,null)),e.editorInfoBackground=t("editorInfo.background",{dark:null,light:null,hc:null},g.localize(60,null),!0),e.editorInfoForeground=t("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hc:"#3794FF"},g.localize(61,null)),e.editorInfoBorder=t("editorInfo.border",{dark:null,light:null,hc:N.Color.fromHex("#3794FF").transparent(.8)},g.localize(62,null)),e.editorHintForeground=t("editorHint.foreground",{dark:N.Color.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hc:null},g.localize(63,null)),e.editorHintBorder=t("editorHint.border",{dark:null,light:null,hc:N.Color.fromHex("#eeeeee").transparent(.8)},g.localize(64,null)),e.sashHoverBorder=t("sash.hoverBorder",{dark:e.focusBorder,light:e.focusBorder,hc:e.focusBorder},g.localize(65,null)),e.editorBackground=t("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:N.Color.black},g.localize(66,null)),e.editorForeground=t("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:N.Color.white},g.localize(67,null)),e.editorWidgetBackground=t("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hc:"#0C141F"},g.localize(68,null)),e.editorWidgetForeground=t("editorWidget.foreground",{dark:e.foreground,light:e.foreground,hc:e.foreground},g.localize(69,null)),e.editorWidgetBorder=t("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:e.contrastBorder},g.localize(70,null)),e.editorWidgetResizeBorder=t("editorWidget.resizeBorder",{light:null,dark:null,hc:null},g.localize(71,null)),e.quickInputBackground=t("quickInput.background",{dark:e.editorWidgetBackground,light:e.editorWidgetBackground,hc:e.editorWidgetBackground},g.localize(72,null)),e.quickInputForeground=t("quickInput.foreground",{dark:e.editorWidgetForeground,light:e.editorWidgetForeground,hc:e.editorWidgetForeground},g.localize(73,null)),e.quickInputTitleBackground=t("quickInputTitle.background",{dark:new N.Color(new N.RGBA(255,255,255,.105)),light:new N.Color(new N.RGBA(0,0,0,.06)),hc:"#000000"},g.localize(74,null)),e.pickerGroupForeground=t("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hc:N.Color.white},g.localize(75,null)),e.pickerGroupBorder=t("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:N.Color.white},g.localize(76,null)),e.keybindingLabelBackground=t("keybindingLabel.background",{dark:new N.Color(new N.RGBA(128,128,128,.17)),light:new N.Color(new N.RGBA(221,221,221,.4)),hc:N.Color.transparent},g.localize(77,null)),e.keybindingLabelForeground=t("keybindingLabel.foreground",{dark:N.Color.fromHex("#CCCCCC"),light:N.Color.fromHex("#555555"),hc:N.Color.white},g.localize(78,null)),e.keybindingLabelBorder=t("keybindingLabel.border",{dark:new N.Color(new N.RGBA(51,51,51,.6)),light:new N.Color(new N.RGBA(204,204,204,.4)),hc:new N.Color(new N.RGBA(111,195,223))},g.localize(79,null)),e.keybindingLabelBottomBorder=t("keybindingLabel.bottomBorder",{dark:new N.Color(new N.RGBA(68,68,68,.6)),light:new N.Color(new N.RGBA(187,187,187,.4)),hc:new N.Color(new N.RGBA(111,195,223))},g.localize(80,null)),e.editorSelectionBackground=t("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},g.localize(81,null)),e.editorSelectionForeground=t("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},g.localize(82,null)),e.editorInactiveSelection=t("editor.inactiveSelectionBackground",{light:_(e.editorSelectionBackground,.5),dark:_(e.editorSelectionBackground,.5),hc:_(e.editorSelectionBackground,.5)},g.localize(83,null),!0),e.editorSelectionHighlight=t("editor.selectionHighlightBackground",{light:C(e.editorSelectionBackground,e.editorBackground,.3,.6),dark:C(e.editorSelectionBackground,e.editorBackground,.3,.6),hc:null},g.localize(84,null),!0),e.editorSelectionHighlightBorder=t("editor.selectionHighlightBorder",{light:null,dark:null,hc:e.activeContrastBorder},g.localize(85,null)),e.editorFindMatch=t("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},g.localize(86,null)),e.editorFindMatchHighlight=t("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},g.localize(87,null),!0),e.editorFindRangeHighlight=t("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},g.localize(88,null),!0),e.editorFindMatchBorder=t("editor.findMatchBorder",{light:null,dark:null,hc:e.activeContrastBorder},g.localize(89,null)),e.editorFindMatchHighlightBorder=t("editor.findMatchHighlightBorder",{light:null,dark:null,hc:e.activeContrastBorder},g.localize(90,null)),e.editorFindRangeHighlightBorder=t("editor.findRangeHighlightBorder",{dark:null,light:null,hc:_(e.activeContrastBorder,.4)},g.localize(91,null),!0),e.searchEditorFindMatch=t("searchEditor.findMatchBackground",{light:_(e.editorFindMatchHighlight,.66),dark:_(e.editorFindMatchHighlight,.66),hc:e.editorFindMatchHighlight},g.localize(92,null)),e.searchEditorFindMatchBorder=t("searchEditor.findMatchBorder",{light:_(e.editorFindMatchHighlightBorder,.66),dark:_(e.editorFindMatchHighlightBorder,.66),hc:e.editorFindMatchHighlightBorder},g.localize(93,null)),e.editorHoverHighlight=t("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},g.localize(94,null),!0),e.editorHoverBackground=t("editorHoverWidget.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hc:e.editorWidgetBackground},g.localize(95,null)),e.editorHoverForeground=t("editorHoverWidget.foreground",{light:e.editorWidgetForeground,dark:e.editorWidgetForeground,hc:e.editorWidgetForeground},g.localize(96,null)),e.editorHoverBorder=t("editorHoverWidget.border",{light:e.editorWidgetBorder,dark:e.editorWidgetBorder,hc:e.editorWidgetBorder},g.localize(97,null)),e.editorHoverStatusBarBackground=t("editorHoverWidget.statusBarBackground",{dark:m(e.editorHoverBackground,.2),light:o(e.editorHoverBackground,.05),hc:e.editorWidgetBackground},g.localize(98,null)),e.editorActiveLinkForeground=t("editorLink.activeForeground",{dark:"#4E94CE",light:N.Color.blue,hc:N.Color.cyan},g.localize(99,null)),e.editorInlayHintForeground=t("editorInlayHint.foreground",{dark:_(e.badgeForeground,.8),light:_(e.badgeForeground,.8),hc:e.badgeForeground},g.localize(100,null)),e.editorInlayHintBackground=t("editorInlayHint.background",{dark:_(e.badgeBackground,.6),light:_(e.badgeBackground,.3),hc:e.badgeBackground},g.localize(101,null)),e.editorInlayHintTypeForeground=t("editorInlayHint.typeForeground",{dark:e.editorInlayHintForeground,light:e.editorInlayHintForeground,hc:e.editorInlayHintForeground},g.localize(102,null)),e.editorInlayHintTypeBackground=t("editorInlayHint.typeBackground",{dark:e.editorInlayHintBackground,light:e.editorInlayHintBackground,hc:e.editorInlayHintBackground},g.localize(103,null)),e.editorInlayHintParameterForeground=t("editorInlayHint.parameterForeground",{dark:e.editorInlayHintForeground,light:e.editorInlayHintForeground,hc:e.editorInlayHintForeground},g.localize(104,null)),e.editorInlayHintParameterBackground=t("editorInlayHint.parameterBackground",{dark:e.editorInlayHintBackground,light:e.editorInlayHintBackground,hc:e.editorInlayHintBackground},g.localize(105,null)),e.editorLightBulbForeground=t("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hc:"#FFCC00"},g.localize(106,null)),e.editorLightBulbAutoFixForeground=t("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},g.localize(107,null)),e.defaultInsertColor=new N.Color(new N.RGBA(155,185,85,.2)),e.defaultRemoveColor=new N.Color(new N.RGBA(255,0,0,.2)),e.diffInserted=t("diffEditor.insertedTextBackground",{dark:e.defaultInsertColor,light:e.defaultInsertColor,hc:null},g.localize(108,null),!0),e.diffRemoved=t("diffEditor.removedTextBackground",{dark:e.defaultRemoveColor,light:e.defaultRemoveColor,hc:null},g.localize(109,null),!0),e.diffInsertedOutline=t("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},g.localize(110,null)),e.diffRemovedOutline=t("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},g.localize(111,null)),e.diffBorder=t("diffEditor.border",{dark:null,light:null,hc:e.contrastBorder},g.localize(112,null)),e.diffDiagonalFill=t("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hc:null},g.localize(113,null)),e.listFocusBackground=t("list.focusBackground",{dark:null,light:null,hc:null},g.localize(114,null)),e.listFocusForeground=t("list.focusForeground",{dark:null,light:null,hc:null},g.localize(115,null)),e.listFocusOutline=t("list.focusOutline",{dark:e.focusBorder,light:e.focusBorder,hc:e.activeContrastBorder},g.localize(116,null)),e.listActiveSelectionBackground=t("list.activeSelectionBackground",{dark:"#094771",light:"#0060C0",hc:null},g.localize(117,null)),e.listActiveSelectionForeground=t("list.activeSelectionForeground",{dark:N.Color.white,light:N.Color.white,hc:null},g.localize(118,null)),e.listActiveSelectionIconForeground=t("list.activeSelectionIconForeground",{dark:null,light:null,hc:null},g.localize(119,null)),e.listInactiveSelectionBackground=t("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hc:null},g.localize(120,null)),e.listInactiveSelectionForeground=t("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},g.localize(121,null)),e.listInactiveSelectionIconForeground=t("list.inactiveSelectionIconForeground",{dark:null,light:null,hc:null},g.localize(122,null)),e.listInactiveFocusBackground=t("list.inactiveFocusBackground",{dark:null,light:null,hc:null},g.localize(123,null)),e.listInactiveFocusOutline=t("list.inactiveFocusOutline",{dark:null,light:null,hc:null},g.localize(124,null)),e.listHoverBackground=t("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},g.localize(125,null)),e.listHoverForeground=t("list.hoverForeground",{dark:null,light:null,hc:null},g.localize(126,null)),e.listDropBackground=t("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hc:null},g.localize(127,null)),e.listHighlightForeground=t("list.highlightForeground",{dark:"#18A3FF",light:"#0066BF",hc:e.focusBorder},g.localize(128,null)),e.listFocusHighlightForeground=t("list.focusHighlightForeground",{dark:e.listHighlightForeground,light:c(e.listActiveSelectionBackground,e.listHighlightForeground,"#9DDDFF"),hc:e.listHighlightForeground},g.localize(129,null)),e.listInvalidItemForeground=t("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hc:"#B89500"},g.localize(130,null)),e.listErrorForeground=t("list.errorForeground",{dark:"#F88070",light:"#B01011",hc:null},g.localize(131,null)),e.listWarningForeground=t("list.warningForeground",{dark:"#CCA700",light:"#855F00",hc:null},g.localize(132,null)),e.listFilterWidgetBackground=t("listFilterWidget.background",{light:"#efc1ad",dark:"#653723",hc:N.Color.black},g.localize(133,null)),e.listFilterWidgetOutline=t("listFilterWidget.outline",{dark:N.Color.transparent,light:N.Color.transparent,hc:"#f38518"},g.localize(134,null)),e.listFilterWidgetNoMatchesOutline=t("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hc:e.contrastBorder},g.localize(135,null)),e.listFilterMatchHighlight=t("list.filterMatchBackground",{dark:e.editorFindMatchHighlight,light:e.editorFindMatchHighlight,hc:null},g.localize(136,null)),e.listFilterMatchHighlightBorder=t("list.filterMatchBorder",{dark:e.editorFindMatchHighlightBorder,light:e.editorFindMatchHighlightBorder,hc:e.contrastBorder},g.localize(137,null)),e.treeIndentGuidesStroke=t("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hc:"#a9a9a9"},g.localize(138,null)),e.tableColumnsBorder=t("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hc:null},g.localize(139,null)),e.tableOddRowsBackgroundColor=t("tree.tableOddRowsBackground",{dark:_(e.foreground,.04),light:_(e.foreground,.04),hc:null},g.localize(140,null)),e.listDeemphasizedForeground=t("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hc:"#A7A8A9"},g.localize(141,null)),e._deprecatedQuickInputListFocusBackground=t("quickInput.list.focusBackground",{dark:null,light:null,hc:null},"",void 0,g.localize(142,null)),e.quickInputListFocusForeground=t("quickInputList.focusForeground",{dark:e.listActiveSelectionForeground,light:e.listActiveSelectionForeground,hc:e.listActiveSelectionForeground},g.localize(143,null)),e.quickInputListFocusIconForeground=t("quickInputList.focusIconForeground",{dark:e.listActiveSelectionIconForeground,light:e.listActiveSelectionIconForeground,hc:e.listActiveSelectionIconForeground},g.localize(144,null)),e.quickInputListFocusBackground=t("quickInputList.focusBackground",{dark:f(e._deprecatedQuickInputListFocusBackground,e.listActiveSelectionBackground),light:f(e._deprecatedQuickInputListFocusBackground,e.listActiveSelectionBackground),hc:null},g.localize(145,null)),e.menuBorder=t("menu.border",{dark:null,light:null,hc:e.contrastBorder},g.localize(146,null)),e.menuForeground=t("menu.foreground",{dark:e.selectForeground,light:e.foreground,hc:e.selectForeground},g.localize(147,null)),e.menuBackground=t("menu.background",{dark:e.selectBackground,light:e.selectBackground,hc:e.selectBackground},g.localize(148,null)),e.menuSelectionForeground=t("menu.selectionForeground",{dark:e.listActiveSelectionForeground,light:e.listActiveSelectionForeground,hc:e.listActiveSelectionForeground},g.localize(149,null)),e.menuSelectionBackground=t("menu.selectionBackground",{dark:e.listActiveSelectionBackground,light:e.listActiveSelectionBackground,hc:e.listActiveSelectionBackground},g.localize(150,null)),e.menuSelectionBorder=t("menu.selectionBorder",{dark:null,light:null,hc:e.activeContrastBorder},g.localize(151,null)),e.menuSeparatorBackground=t("menu.separatorBackground",{dark:"#BBBBBB",light:"#888888",hc:e.contrastBorder},g.localize(152,null)),e.toolbarHoverBackground=t("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hc:null},g.localize(153,null)),e.toolbarHoverOutline=t("toolbar.hoverOutline",{dark:null,light:null,hc:e.activeContrastBorder},g.localize(154,null)),e.toolbarActiveBackground=t("toolbar.activeBackground",{dark:m(e.toolbarHoverBackground,.1),light:o(e.toolbarHoverBackground,.1),hc:null},g.localize(155,null)),e.snippetTabstopHighlightBackground=t("editor.snippetTabstopHighlightBackground",{dark:new N.Color(new N.RGBA(124,124,124,.3)),light:new N.Color(new N.RGBA(10,50,100,.2)),hc:new N.Color(new N.RGBA(124,124,124,.3))},g.localize(156,null)),e.snippetTabstopHighlightBorder=t("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hc:null},g.localize(157,null)),e.snippetFinalTabstopHighlightBackground=t("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hc:null},g.localize(158,null)),e.snippetFinalTabstopHighlightBorder=t("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new N.Color(new N.RGBA(10,50,100,.5)),hc:"#525252"},g.localize(159,null)),e.breadcrumbsForeground=t("breadcrumb.foreground",{light:_(e.foreground,.8),dark:_(e.foreground,.8),hc:_(e.foreground,.8)},g.localize(160,null)),e.breadcrumbsBackground=t("breadcrumb.background",{light:e.editorBackground,dark:e.editorBackground,hc:e.editorBackground},g.localize(161,null)),e.breadcrumbsFocusForeground=t("breadcrumb.focusForeground",{light:o(e.foreground,.2),dark:m(e.foreground,.1),hc:m(e.foreground,.1)},g.localize(162,null)),e.breadcrumbsActiveSelectionForeground=t("breadcrumb.activeSelectionForeground",{light:o(e.foreground,.2),dark:m(e.foreground,.1),hc:m(e.foreground,.1)},g.localize(163,null)),e.breadcrumbsPickerBackground=t("breadcrumbPicker.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hc:e.editorWidgetBackground},g.localize(164,null));const l=.5,h=N.Color.fromHex("#40C8AE").transparent(l),d=N.Color.fromHex("#40A6FF").transparent(l),u=N.Color.fromHex("#606060").transparent(.4),n=.4,r=1;e.mergeCurrentHeaderBackground=t("merge.currentHeaderBackground",{dark:h,light:h,hc:null},g.localize(165,null),!0),e.mergeCurrentContentBackground=t("merge.currentContentBackground",{dark:_(e.mergeCurrentHeaderBackground,n),light:_(e.mergeCurrentHeaderBackground,n),hc:_(e.mergeCurrentHeaderBackground,n)},g.localize(166,null),!0),e.mergeIncomingHeaderBackground=t("merge.incomingHeaderBackground",{dark:d,light:d,hc:null},g.localize(167,null),!0),e.mergeIncomingContentBackground=t("merge.incomingContentBackground",{dark:_(e.mergeIncomingHeaderBackground,n),light:_(e.mergeIncomingHeaderBackground,n),hc:_(e.mergeIncomingHeaderBackground,n)},g.localize(168,null),!0),e.mergeCommonHeaderBackground=t("merge.commonHeaderBackground",{dark:u,light:u,hc:null},g.localize(169,null),!0),e.mergeCommonContentBackground=t("merge.commonContentBackground",{dark:_(e.mergeCommonHeaderBackground,n),light:_(e.mergeCommonHeaderBackground,n),hc:_(e.mergeCommonHeaderBackground,n)},g.localize(170,null),!0),e.mergeBorder=t("merge.border",{dark:null,light:null,hc:"#C3DF6F"},g.localize(171,null)),e.overviewRulerCurrentContentForeground=t("editorOverviewRuler.currentContentForeground",{dark:_(e.mergeCurrentHeaderBackground,r),light:_(e.mergeCurrentHeaderBackground,r),hc:e.mergeBorder},g.localize(172,null)),e.overviewRulerIncomingContentForeground=t("editorOverviewRuler.incomingContentForeground",{dark:_(e.mergeIncomingHeaderBackground,r),light:_(e.mergeIncomingHeaderBackground,r),hc:e.mergeBorder},g.localize(173,null)),e.overviewRulerCommonContentForeground=t("editorOverviewRuler.commonContentForeground",{dark:_(e.mergeCommonHeaderBackground,r),light:_(e.mergeCommonHeaderBackground,r),hc:e.mergeBorder},g.localize(174,null)),e.overviewRulerFindMatchForeground=t("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},g.localize(175,null),!0),e.overviewRulerSelectionHighlightForeground=t("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},g.localize(176,null),!0),e.overviewRulerUnicodeHighlightForeground=t("editorOverviewRuler.unicodeForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},g.localize(177,null),!0),e.minimapFindMatch=t("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},g.localize(178,null),!0),e.minimapSelectionOccurrenceHighlight=t("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hc:"#ffffff"},g.localize(179,null),!0),e.minimapSelection=t("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hc:"#ffffff"},g.localize(180,null),!0),e.minimapError=t("minimap.errorHighlight",{dark:new N.Color(new N.RGBA(255,18,18,.7)),light:new N.Color(new N.RGBA(255,18,18,.7)),hc:new N.Color(new N.RGBA(255,50,50,1))},g.localize(181,null)),e.minimapWarning=t("minimap.warningHighlight",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hc:e.editorWarningBorder},g.localize(182,null)),e.minimapBackground=t("minimap.background",{dark:null,light:null,hc:null},g.localize(183,null)),e.minimapForegroundOpacity=t("minimap.foregroundOpacity",{dark:N.Color.fromHex("#000f"),light:N.Color.fromHex("#000f"),hc:N.Color.fromHex("#000f")},g.localize(184,null)),e.minimapUnicodeHighlight=t("minimap.unicodeHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},g.localize(185,null)),e.minimapSliderBackground=t("minimapSlider.background",{light:_(e.scrollbarSliderBackground,.5),dark:_(e.scrollbarSliderBackground,.5),hc:_(e.scrollbarSliderBackground,.5)},g.localize(186,null)),e.minimapSliderHoverBackground=t("minimapSlider.hoverBackground",{light:_(e.scrollbarSliderHoverBackground,.5),dark:_(e.scrollbarSliderHoverBackground,.5),hc:_(e.scrollbarSliderHoverBackground,.5)},g.localize(187,null)),e.minimapSliderActiveBackground=t("minimapSlider.activeBackground",{light:_(e.scrollbarSliderActiveBackground,.5),dark:_(e.scrollbarSliderActiveBackground,.5),hc:_(e.scrollbarSliderActiveBackground,.5)},g.localize(188,null)),e.problemsErrorIconForeground=t("problemsErrorIcon.foreground",{dark:e.editorErrorForeground,light:e.editorErrorForeground,hc:e.editorErrorForeground},g.localize(189,null)),e.problemsWarningIconForeground=t("problemsWarningIcon.foreground",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hc:e.editorWarningForeground},g.localize(190,null)),e.problemsInfoIconForeground=t("problemsInfoIcon.foreground",{dark:e.editorInfoForeground,light:e.editorInfoForeground,hc:e.editorInfoForeground},g.localize(191,null)),e.chartsForeground=t("charts.foreground",{dark:e.foreground,light:e.foreground,hc:e.foreground},g.localize(192,null)),e.chartsLines=t("charts.lines",{dark:_(e.foreground,.5),light:_(e.foreground,.5),hc:_(e.foreground,.5)},g.localize(193,null)),e.chartsRed=t("charts.red",{dark:e.editorErrorForeground,light:e.editorErrorForeground,hc:e.editorErrorForeground},g.localize(194,null)),e.chartsBlue=t("charts.blue",{dark:e.editorInfoForeground,light:e.editorInfoForeground,hc:e.editorInfoForeground},g.localize(195,null)),e.chartsYellow=t("charts.yellow",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hc:e.editorWarningForeground},g.localize(196,null)),e.chartsOrange=t("charts.orange",{dark:e.minimapFindMatch,light:e.minimapFindMatch,hc:e.minimapFindMatch},g.localize(197,null)),e.chartsGreen=t("charts.green",{dark:"#89D185",light:"#388A34",hc:"#89D185"},g.localize(198,null)),e.chartsPurple=t("charts.purple",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},g.localize(199,null));function s(I,T){var F,P,R;switch(I.op){case 0:return(F=y(I.value,T))===null||F===void 0?void 0:F.darken(I.factor);case 1:return(P=y(I.value,T))===null||P===void 0?void 0:P.lighten(I.factor);case 2:return(R=y(I.value,T))===null||R===void 0?void 0:R.transparent(I.factor);case 3:for(const k of I.values){const V=y(k,T);if(V)return V}return;case 5:return y(T.defines(I.if)?I.then:I.else,T);case 4:const A=y(I.value,T);if(!A)return;const O=y(I.background,T);return O?A.isDarkerThan(O)?N.Color.getLighterColor(A,O,I.factor).transparent(I.transparency):N.Color.getDarkerColor(A,O,I.factor).transparent(I.transparency):A.transparent(I.factor*I.transparency);default:throw(0,E.assertNever)(I)}}e.executeTransform=s;function o(I,T){return{op:0,value:I,factor:T}}e.darken=o;function m(I,T){return{op:1,value:I,factor:T}}e.lighten=m;function _(I,T){return{op:2,value:I,factor:T}}e.transparent=_;function f(...I){return{op:3,values:I}}e.oneOf=f;function c(I,T,F){return{op:5,if:I,then:T,else:F}}e.ifDefinedThenElse=c;function C(I,T,F,P){return{op:4,value:I,background:T,factor:F,transparency:P}}function y(I,T){if(I!==null){if(typeof I=="string")return I[0]==="#"?N.Color.fromHex(I):T.getColor(I);if(I instanceof N.Color)return I;if(typeof I=="object")return s(I,T)}}e.resolveColorValue=y,e.workbenchColorsSchemaId="vscode://schemas/workbench-colors";let w=b.Registry.as(S.Extensions.JSONContribution);w.registerSchema(e.workbenchColorsSchemaId,i.getColorSchema());const D=new L.RunOnceScheduler(()=>w.notifySchemaChanged(e.workbenchColorsSchemaId),200);i.onDidChangeSchema(()=>{D.isScheduled()||D.schedule()})}),define(ee[129],te([0,1,7,99,59,10,2,24]),function(Q,e,L,N,M,E,g,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicCssRules=e.GlobalEditorMouseMoveMonitor=e.EditorPointerEventFactory=e.EditorMouseEventFactory=e.EditorMouseEvent=e.createEditorPagePosition=e.EditorPagePosition=e.ClientCoordinates=e.PageCoordinates=void 0;class b{constructor(s,o){this.x=s,this.y=o,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new p(this.x-L.StandardWindow.scrollX,this.y-L.StandardWindow.scrollY)}}e.PageCoordinates=b;class p{constructor(s,o){this.clientX=s,this.clientY=o,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new b(this.clientX+L.StandardWindow.scrollX,this.clientY+L.StandardWindow.scrollY)}}e.ClientCoordinates=p;class v{constructor(s,o,m,_){this.x=s,this.y=o,this.width=m,this.height=_,this._editorPagePositionBrand=void 0}}e.EditorPagePosition=v;function i(r){const s=L.getDomNodePagePosition(r);return new v(s.left,s.top,s.width,s.height)}e.createEditorPagePosition=i;class t extends M.StandardMouseEvent{constructor(s,o){super(s);this._editorMouseEventBrand=void 0,this.pos=new b(this.posx,this.posy),this.editorPos=i(o)}}e.EditorMouseEvent=t;class a{constructor(s){this._editorViewDomNode=s}_create(s){return new t(s,this._editorViewDomNode)}onContextMenu(s,o){return L.addDisposableListener(s,"contextmenu",m=>{o(this._create(m))})}onMouseUp(s,o){return L.addDisposableListener(s,"mouseup",m=>{o(this._create(m))})}onMouseDown(s,o){return L.addDisposableListener(s,"mousedown",m=>{o(this._create(m))})}onMouseLeave(s,o){return L.addDisposableNonBubblingMouseOutListener(s,m=>{o(this._create(m))})}onMouseMoveThrottled(s,o,m,_){const f=(c,C)=>m(c,this._create(C));return L.addDisposableThrottledListener(s,"mousemove",o,f,_)}}e.EditorMouseEventFactory=a;class l{constructor(s){this._editorViewDomNode=s}_create(s){return new t(s,this._editorViewDomNode)}onPointerUp(s,o){return L.addDisposableListener(s,"pointerup",m=>{o(this._create(m))})}onPointerDown(s,o){return L.addDisposableListener(s,"pointerdown",m=>{o(this._create(m))})}onPointerLeave(s,o){return L.addDisposableNonBubblingPointerOutListener(s,m=>{o(this._create(m))})}onPointerMoveThrottled(s,o,m,_){const f=(c,C)=>m(c,this._create(C));return L.addDisposableThrottledListener(s,"pointermove",o,f,_)}}e.EditorPointerEventFactory=l;class h extends g.Disposable{constructor(s){super();this._editorViewDomNode=s,this._globalMouseMoveMonitor=this._register(new N.GlobalMouseMoveMonitor),this._keydownListener=null}startMonitoring(s,o,m,_,f){this._keydownListener=L.addStandardDisposableListener(document,"keydown",C=>{C.toKeybinding().isModifierKey()||this._globalMouseMoveMonitor.stopMonitoring(!0,C.browserEvent)},!0);const c=(C,y)=>m(C,new t(y,this._editorViewDomNode));this._globalMouseMoveMonitor.startMonitoring(s,o,c,_,C=>{this._keydownListener.dispose(),f(C)})}stopMonitoring(){this._globalMouseMoveMonitor.stopMonitoring(!0)}}e.GlobalEditorMouseMoveMonitor=h;class d{constructor(s){this._editor=s,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new E.RunOnceScheduler(()=>this.garbageCollect(),1e3)}createClassNameRef(s){const o=this.getOrCreateRule(s);return o.increaseRefCount(),{className:o.className,dispose:()=>{o.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(s){const o=this.computeUniqueKey(s);let m=this._rules.get(o);if(!m){const _=this._counter++;m=new u(o,`dyn-rule-${_}`,L.isInShadowDOM(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,s),this._rules.set(o,m)}return m}computeUniqueKey(s){return JSON.stringify(s)}garbageCollect(){for(const s of this._rules.values())s.hasReferences()||(this._rules.delete(s.key),s.dispose())}}e.DynamicCssRules=d;class u{constructor(s,o,m,_){this.key=s,this.className=o,this.properties=_,this._referenceCount=0,this._styleElement=L.createStyleSheet(m),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(s,o){let m=`.${s} {`;for(const _ in o){const f=o[_];let c;typeof f=="object"?c=`var(${(0,S.asCssVariableName)(f.id)})`:c=f,m+=`
	${n(_)}: ${c};`}return m+=`
}`,m}dispose(){this._styleElement.remove()}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}function n(r){return r.replace(/(^[A-Z])/,([s])=>s.toLowerCase()).replace(/([A-Z])/g,([s])=>`-${s.toLowerCase()}`)}}),define(ee[108],te([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorScheme=void 0;var L;(function(N){N.DARK="dark",N.LIGHT="light",N.HIGH_CONTRAST="hc"})(L=e.ColorScheme||(e.ColorScheme={}))}),define(ee[277],te([0,1,36,32,15,421,119,151,120,108,29]),function(Q,e,L,N,M,E,g,S,b,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLine=e.ViewLineOptions=e.DomReadingContext=void 0;const i=function(){return M.isNative?!0:!(M.isLinux||L.isFirefox||L.isSafari)}();let t=!0;class a{constructor(_,f){this._domNode=_,this._clientRectDeltaLeft=0,this._clientRectDeltaLeftRead=!1,this.endNode=f}get clientRectDeltaLeft(){return this._clientRectDeltaLeftRead||(this._clientRectDeltaLeftRead=!0,this._clientRectDeltaLeft=this._domNode.getBoundingClientRect().left),this._clientRectDeltaLeft}}e.DomReadingContext=a;class l{constructor(_,f){this.themeType=f;const c=_.options,C=c.get(43);this.renderWhitespace=c.get(87),this.renderControlCharacters=c.get(82),this.spaceWidth=C.spaceWidth,this.middotWidth=C.middotWidth,this.wsmiddotWidth=C.wsmiddotWidth,this.useMonospaceOptimizations=C.isMonospace&&!c.get(29),this.canUseHalfwidthRightwardsArrow=C.canUseHalfwidthRightwardsArrow,this.lineHeight=c.get(58),this.stopRenderingLineAfter=c.get(104),this.fontLigatures=c.get(44)}equals(_){return this.themeType===_.themeType&&this.renderWhitespace===_.renderWhitespace&&this.renderControlCharacters===_.renderControlCharacters&&this.spaceWidth===_.spaceWidth&&this.middotWidth===_.middotWidth&&this.wsmiddotWidth===_.wsmiddotWidth&&this.useMonospaceOptimizations===_.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===_.canUseHalfwidthRightwardsArrow&&this.lineHeight===_.lineHeight&&this.stopRenderingLineAfter===_.stopRenderingLineAfter&&this.fontLigatures===_.fontLigatures}}e.ViewLineOptions=l;class h{constructor(_){this._options=_,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(_){if(this._renderedViewLine)this._renderedViewLine.domNode=(0,N.createFastDomNode)(_);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(_){this._isMaybeInvalid=!0,this._options=_}onSelectionChanged(){return this._options.themeType===p.ColorScheme.HIGH_CONTRAST||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(_,f,c,C){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const y=c.getViewLineRenderingData(_),w=this._options,D=S.LineDecoration.filter(y.inlineDecorations,_,y.minColumn,y.maxColumn);let I=null;if(w.themeType===p.ColorScheme.HIGH_CONTRAST||this._options.renderWhitespace==="selection"){const R=c.selections;for(const A of R){if(A.endLineNumber<_||A.startLineNumber>_)continue;const O=A.startLineNumber===_?A.startColumn:y.minColumn,k=A.endLineNumber===_?A.endColumn:y.maxColumn;O<k&&(w.themeType===p.ColorScheme.HIGH_CONTRAST||this._options.renderWhitespace!=="selection"?D.push(new S.LineDecoration(O,k,"inline-selected-text",0)):(I||(I=[]),I.push(new b.LineRange(O-1,k-1))))}}const T=new b.RenderLineInput(w.useMonospaceOptimizations,w.canUseHalfwidthRightwardsArrow,y.content,y.continuesWithWrappedLine,y.isBasicASCII,y.containsRTL,y.minColumn-1,y.tokens,D,y.tabSize,y.startVisibleColumn,w.spaceWidth,w.middotWidth,w.wsmiddotWidth,w.stopRenderingLineAfter,w.renderWhitespace,w.renderControlCharacters,w.fontLigatures!==v.EditorFontLigatures.OFF,I);if(this._renderedViewLine&&this._renderedViewLine.input.equals(T))return!1;C.appendASCIIString('<div style="top:'),C.appendASCIIString(String(f)),C.appendASCIIString("px;height:"),C.appendASCIIString(String(this._options.lineHeight)),C.appendASCIIString('px;" class="'),C.appendASCIIString(h.CLASS_NAME),C.appendASCIIString('">');const F=(0,b.renderViewLine)(T,C);C.appendASCIIString("</div>");let P=null;return t&&i&&y.isBasicASCII&&w.useMonospaceOptimizations&&F.containsForeignElements===0&&y.content.length<300&&T.lineTokens.getCount()<100&&(P=new d(this._renderedViewLine?this._renderedViewLine.domNode:null,T,F.characterMapping)),P||(P=r(this._renderedViewLine?this._renderedViewLine.domNode:null,T,F.characterMapping,F.containsRTL,F.containsForeignElements)),this._renderedViewLine=P,!0}layoutLine(_,f){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(f),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof d:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof d?this._renderedViewLine.monospaceAssumptionsAreValid():t}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof d&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(_,f,c,C){if(!this._renderedViewLine)return null;f=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,f)),c=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,c));const y=this._renderedViewLine.input.stopRenderingLineAfter;let w=!1;y!==-1&&f>y+1&&c>y+1&&(w=!0),y!==-1&&f>y+1&&(f=y+1),y!==-1&&c>y+1&&(c=y+1);const D=this._renderedViewLine.getVisibleRangesForRange(_,f,c,C);return D&&D.length>0?new g.VisibleRanges(w,D):null}getColumnOfNodeOffset(_,f,c){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(_,f,c):1}}e.ViewLine=h,h.CLASS_NAME="view-line";class d{constructor(_,f,c){this.domNode=_,this.input=f,this._characterMapping=c,this._charWidth=f.spaceWidth}getWidth(){return Math.round(this._getCharPosition(this._characterMapping.length))}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return t;const _=this.getWidth(),f=this.domNode.domNode.firstChild.offsetWidth;return Math.abs(_-f)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),t=!1),t}toSlowRenderedLine(){return r(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(_,f,c,C){const y=this._getCharPosition(f),w=this._getCharPosition(c);return[new g.FloatHorizontalRange(y,w-y)]}_getCharPosition(_){const f=this._characterMapping.getAbsoluteOffset(_);return this._charWidth*f}getColumnOfNodeOffset(_,f,c){const C=f.textContent.length;let y=-1;for(;f;)f=f.previousSibling,y++;return this._characterMapping.getColumn(new b.DomPosition(y,c),C)}}class u{constructor(_,f,c,C,y){if(this.domNode=_,this.input=f,this._characterMapping=c,this._isWhitespaceOnly=/^\s*$/.test(f.lineContent),this._containsForeignElements=y,this._cachedWidth=-1,this._pixelOffsetCache=null,!C||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let w=0,D=this._characterMapping.length;w<=D;w++)this._pixelOffsetCache[w]=-1}}_getReadingTarget(_){return _.domNode.firstChild}getWidth(){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(_,f,c,C){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const y=this._readPixelOffset(this.domNode,_,f,C);if(y===-1)return null;const w=this._readPixelOffset(this.domNode,_,c,C);return w===-1?null:[new g.FloatHorizontalRange(y,w-y)]}return this._readVisibleRangesForRange(this.domNode,_,f,c,C)}_readVisibleRangesForRange(_,f,c,C,y){if(c===C){const w=this._readPixelOffset(_,f,c,y);return w===-1?null:[new g.FloatHorizontalRange(w,0)]}else return this._readRawVisibleRangesForRange(_,c,C,y)}_readPixelOffset(_,f,c,C){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth();const y=this._getReadingTarget(_);return y.firstChild?y.firstChild.offsetWidth:0}if(this._pixelOffsetCache!==null){const y=this._pixelOffsetCache[c];if(y!==-1)return y;const w=this._actualReadPixelOffset(_,f,c,C);return this._pixelOffsetCache[c]=w,w}return this._actualReadPixelOffset(_,f,c,C)}_actualReadPixelOffset(_,f,c,C){if(this._characterMapping.length===0){const I=E.RangeUtil.readHorizontalRanges(this._getReadingTarget(_),0,0,0,0,C.clientRectDeltaLeft,C.endNode);return!I||I.length===0?-1:I[0].left}if(c===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth();const y=this._characterMapping.getDomPosition(c),w=E.RangeUtil.readHorizontalRanges(this._getReadingTarget(_),y.partIndex,y.charIndex,y.partIndex,y.charIndex,C.clientRectDeltaLeft,C.endNode);if(!w||w.length===0)return-1;const D=w[0].left;if(this.input.isBasicASCII){const I=this._characterMapping.getAbsoluteOffset(c),T=Math.round(this.input.spaceWidth*I);if(Math.abs(T-D)<=1)return T}return D}_readRawVisibleRangesForRange(_,f,c,C){if(f===1&&c===this._characterMapping.length)return[new g.FloatHorizontalRange(0,this.getWidth())];const y=this._characterMapping.getDomPosition(f),w=this._characterMapping.getDomPosition(c);return E.RangeUtil.readHorizontalRanges(this._getReadingTarget(_),y.partIndex,y.charIndex,w.partIndex,w.charIndex,C.clientRectDeltaLeft,C.endNode)}getColumnOfNodeOffset(_,f,c){const C=f.textContent.length;let y=-1;for(;f;)f=f.previousSibling,y++;return this._characterMapping.getColumn(new b.DomPosition(y,c),C)}}class n extends u{_readVisibleRangesForRange(_,f,c,C,y){const w=super._readVisibleRangesForRange(_,f,c,C,y);if(!w||w.length===0||c===C||c===1&&C===this._characterMapping.length)return w;if(!this.input.containsRTL){const D=this._readPixelOffset(_,f,C,y);if(D!==-1){const I=w[w.length-1];I.left<D&&(I.width=D-I.left)}}return w}}const r=function(){return L.isWebKit?s:o}();function s(m,_,f,c,C){return new n(m,_,f,c,C)}function o(m,_,f,c,C){return new u(m,_,f,c,C)}}),define(ee[625],te([0,1,15,10,63,177,51,277,13,3,119,142,356]),function(Q,e,L,N,M,E,g,S,b,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLines=void 0;class t{constructor(){this._currentVisibleRange=new p.Range(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(u){this._currentVisibleRange=u}}class a{constructor(u,n,r,s,o,m){this.lineNumber=u,this.startColumn=n,this.endColumn=r,this.startScrollTop=s,this.stopScrollTop=o,this.scrollType=m,this.type="range",this.minLineNumber=u,this.maxLineNumber=u}}class l{constructor(u,n,r,s){this.selections=u,this.startScrollTop=n,this.stopScrollTop=r,this.scrollType=s,this.type="selections";let o=u[0].startLineNumber,m=u[0].endLineNumber;for(let _=1,f=u.length;_<f;_++){const c=u[_];o=Math.min(o,c.startLineNumber),m=Math.max(m,c.endLineNumber)}this.minLineNumber=o,this.maxLineNumber=m}}class h extends g.ViewPart{constructor(u,n){super(u);this._linesContent=n,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new E.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode;const r=this._context.configuration,s=this._context.configuration.options,o=s.get(43),m=s.get(131);this._lineHeight=s.get(58),this._typicalHalfwidthCharacterWidth=o.typicalHalfwidthCharacterWidth,this._isViewportWrapping=m.isViewportWrapping,this._revealHorizontalRightPadding=s.get(88),this._cursorSurroundingLines=s.get(25),this._cursorSurroundingLinesStyle=s.get(26),this._canUseLayerHinting=!s.get(28),this._viewLineOptions=new S.ViewLineOptions(r,this._context.theme.type),g.PartFingerprints.write(this.domNode,7),this.domNode.setClassName(`view-lines ${i.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),M.Configuration.applyFontInfo(this.domNode,o),this._maxLineWidth=0,this._asyncUpdateLineWidths=new N.RunOnceScheduler(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new N.RunOnceScheduler(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new t,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new S.ViewLine(this._viewLineOptions)}onConfigurationChanged(u){this._visibleLines.onConfigurationChanged(u),u.hasChanged(131)&&(this._maxLineWidth=0);const n=this._context.configuration.options,r=n.get(43),s=n.get(131);return this._lineHeight=n.get(58),this._typicalHalfwidthCharacterWidth=r.typicalHalfwidthCharacterWidth,this._isViewportWrapping=s.isViewportWrapping,this._revealHorizontalRightPadding=n.get(88),this._cursorSurroundingLines=n.get(25),this._cursorSurroundingLinesStyle=n.get(26),this._canUseLayerHinting=!n.get(28),M.Configuration.applyFontInfo(this.domNode,r),this._onOptionsMaybeChanged(),u.hasChanged(130)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const u=this._context.configuration,n=new S.ViewLineOptions(u,this._context.theme.type);if(!this._viewLineOptions.equals(n)){this._viewLineOptions=n;const r=this._visibleLines.getStartLineNumber(),s=this._visibleLines.getEndLineNumber();for(let o=r;o<=s;o++)this._visibleLines.getVisibleLine(o).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(u){const n=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();let s=!1;for(let o=n;o<=r;o++)s=this._visibleLines.getVisibleLine(o).onSelectionChanged()||s;return s}onDecorationsChanged(u){{const n=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();for(let s=n;s<=r;s++)this._visibleLines.getVisibleLine(s).onDecorationsChanged()}return!0}onFlushed(u){const n=this._visibleLines.onFlushed(u);return this._maxLineWidth=0,n}onLinesChanged(u){return this._visibleLines.onLinesChanged(u)}onLinesDeleted(u){return this._visibleLines.onLinesDeleted(u)}onLinesInserted(u){return this._visibleLines.onLinesInserted(u)}onRevealRangeRequest(u){const n=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),u.source,u.range,u.selections,u.verticalType);if(n===-1)return!1;let r=this._context.viewLayout.validateScrollPosition({scrollTop:n});u.revealHorizontal?u.range&&u.range.startLineNumber!==u.range.endLineNumber?r={scrollTop:r.scrollTop,scrollLeft:0}:u.range?this._horizontalRevealRequest=new a(u.range.startLineNumber,u.range.startColumn,u.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),r.scrollTop,u.scrollType):u.selections&&u.selections.length>0&&(this._horizontalRevealRequest=new l(u.selections,this._context.viewLayout.getCurrentScrollTop(),r.scrollTop,u.scrollType)):this._horizontalRevealRequest=null;const o=Math.abs(this._context.viewLayout.getCurrentScrollTop()-r.scrollTop)<=this._lineHeight?1:u.scrollType;return this._context.model.setScrollPosition(r,o),!0}onScrollChanged(u){if(this._horizontalRevealRequest&&u.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&u.scrollTopChanged){const n=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),r=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(u.scrollTop<n||u.scrollTop>r)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(u.scrollWidth),this._visibleLines.onScrollChanged(u)||!0}onTokensChanged(u){return this._visibleLines.onTokensChanged(u)}onZonesChanged(u){return this._context.model.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(u)}onThemeChanged(u){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(u,n){const r=this._getViewLineDomNode(u);if(r===null)return null;const s=this._getLineNumberFor(r);if(s===-1||s<1||s>this._context.model.getLineCount())return null;if(this._context.model.getLineMaxColumn(s)===1)return new b.Position(s,1);const o=this._visibleLines.getStartLineNumber(),m=this._visibleLines.getEndLineNumber();if(s<o||s>m)return null;let _=this._visibleLines.getVisibleLine(s).getColumnOfNodeOffset(s,u,n);const f=this._context.model.getLineMinColumn(s);return _<f&&(_=f),new b.Position(s,_)}_getViewLineDomNode(u){for(;u&&u.nodeType===1;){if(u.className===S.ViewLine.CLASS_NAME)return u;u=u.parentElement}return null}_getLineNumberFor(u){const n=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();for(let s=n;s<=r;s++){const o=this._visibleLines.getVisibleLine(s);if(u===o.getDomNode())return s}return-1}getLineWidth(u){const n=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();return u<n||u>r?-1:this._visibleLines.getVisibleLine(u).getWidth()}linesVisibleRangesForRange(u,n){if(this.shouldRender())return null;const r=u.endLineNumber,s=p.Range.intersectRanges(u,this._lastRenderedData.getCurrentVisibleRange());if(!s)return null;let o=[],m=0;const _=new S.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot);let f=0;n&&(f=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new b.Position(s.startLineNumber,1)).lineNumber);const c=this._visibleLines.getStartLineNumber(),C=this._visibleLines.getEndLineNumber();for(let y=s.startLineNumber;y<=s.endLineNumber;y++){if(y<c||y>C)continue;const w=y===s.startLineNumber?s.startColumn:1,D=y===s.endLineNumber?s.endColumn:this._context.model.getLineMaxColumn(y),I=this._visibleLines.getVisibleLine(y).getVisibleRangesForRange(y,w,D,_);if(!!I){if(n&&y<r){const T=f;f=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new b.Position(y+1,1)).lineNumber,T!==f&&(I.ranges[I.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}o[m++]=new v.LineVisibleRanges(I.outsideRenderedLine,y,v.HorizontalRange.from(I.ranges))}}return m===0?null:o}_visibleRangesForLineRange(u,n,r){return this.shouldRender()||u<this._visibleLines.getStartLineNumber()||u>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(u).getVisibleRangesForRange(u,n,r,new S.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(u){const n=this._visibleRangesForLineRange(u.lineNumber,u.column,u.column);return n?new v.HorizontalPosition(n.outsideRenderedLine,n.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(u){const n=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();let s=1,o=!0;for(let m=n;m<=r;m++){const _=this._visibleLines.getVisibleLine(m);if(u&&!_.getWidthIsFast()){o=!1;continue}s=Math.max(s,_.getWidth())}return o&&n===1&&r===this._context.model.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(s),o}_checkMonospaceFontAssumptions(){let u=-1,n=-1;const r=this._visibleLines.getStartLineNumber(),s=this._visibleLines.getEndLineNumber();for(let o=r;o<=s;o++){const m=this._visibleLines.getVisibleLine(o);if(m.needsMonospaceFontCheck()){const _=m.getWidth();_>n&&(n=_,u=o)}}if(u!==-1&&!this._visibleLines.getVisibleLine(u).monospaceAssumptionsAreValid())for(let o=r;o<=s;o++)this._visibleLines.getVisibleLine(o).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(u){if(this._visibleLines.renderLines(u),this._lastRenderedData.setCurrentVisibleRange(u.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const r=this._horizontalRevealRequest;if(u.startLineNumber<=r.minLineNumber&&r.maxLineNumber<=u.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const s=this._computeScrollLeftToReveal(r);s&&(this._isViewportWrapping||this._ensureMaxLineWidth(s.maxHorizontalOffset),this._context.model.setScrollPosition({scrollLeft:s.scrollLeft},r.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),L.isLinux&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const r=this._visibleLines.getStartLineNumber(),s=this._visibleLines.getEndLineNumber();for(let o=r;o<=s;o++)if(this._visibleLines.getVisibleLine(o).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const n=this._context.viewLayout.getCurrentScrollTop()-u.bigNumbersDelta;this._linesContent.setTop(-n),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(u){const n=Math.ceil(u);this._maxLineWidth<n&&(this._maxLineWidth=n,this._context.model.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(u,n,r,s,o){const m=u.top,_=u.height,f=m+_;let c,C,y;if(s&&s.length>0){let I=s[0].startLineNumber,T=s[0].endLineNumber;for(let F=1,P=s.length;F<P;F++){const R=s[F];I=Math.min(I,R.startLineNumber),T=Math.max(T,R.endLineNumber)}c=!1,C=this._context.viewLayout.getVerticalOffsetForLineNumber(I),y=this._context.viewLayout.getVerticalOffsetForLineNumber(T)+this._lineHeight}else if(r)c=!0,C=this._context.viewLayout.getVerticalOffsetForLineNumber(r.startLineNumber),y=this._context.viewLayout.getVerticalOffsetForLineNumber(r.endLineNumber)+this._lineHeight;else return-1;if(!(n==="mouse"&&this._cursorSurroundingLinesStyle==="default")){const I=Math.min(_/this._lineHeight/2,this._cursorSurroundingLines);C-=I*this._lineHeight,y+=Math.max(0,I-1)*this._lineHeight}(o===0||o===4)&&(y+=this._lineHeight);let D;if(y-C>_){if(!c)return-1;D=C}else if(o===5||o===6)if(o===6&&m<=C&&y<=f)D=m;else{const I=Math.max(5*this._lineHeight,_*.2),T=C-I,F=y-_;D=Math.max(F,T)}else if(o===1||o===2)if(o===2&&m<=C&&y<=f)D=m;else{const I=(C+y)/2;D=Math.max(0,I-_/2)}else D=this._computeMinimumScrolling(m,f,C,y,o===3,o===4);return D}_computeScrollLeftToReveal(u){const n=this._context.viewLayout.getCurrentViewport(),r=n.left,s=r+n.width;let o=1073741824,m=0;if(u.type==="range"){const f=this._visibleRangesForLineRange(u.lineNumber,u.startColumn,u.endColumn);if(!f)return null;for(const c of f.ranges)o=Math.min(o,Math.round(c.left)),m=Math.max(m,Math.round(c.left+c.width))}else for(const f of u.selections){if(f.startLineNumber!==f.endLineNumber)return null;const c=this._visibleRangesForLineRange(f.startLineNumber,f.startColumn,f.endColumn);if(!c)return null;for(const C of c.ranges)o=Math.min(o,Math.round(C.left)),m=Math.max(m,Math.round(C.left+C.width))}return o=Math.max(0,o-h.HORIZONTAL_EXTRA_PX),m+=this._revealHorizontalRightPadding,u.type==="selections"&&m-o>n.width?null:{scrollLeft:this._computeMinimumScrolling(r,s,o,m),maxHorizontalOffset:m}}_computeMinimumScrolling(u,n,r,s,o,m){u=u|0,n=n|0,r=r|0,s=s|0,o=!!o,m=!!m;const _=n-u;if(s-r<_){if(o)return r;if(m)return Math.max(0,s-_);if(r<u)return r;if(s>n)return Math.max(0,s-_)}else return r;return u}}e.ViewLines=h,h.HORIZONTAL_EXTRA_PX=30}),define(ee[130],te([0,1,28,24,108]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.attachDialogStyler=e.defaultDialogStyles=e.attachMenuStyler=e.defaultMenuStyles=e.attachBreadcrumbsStyler=e.defaultBreadcrumbsStyles=e.attachStylerCallback=e.attachProgressBarStyler=e.attachKeybindingLabelStyler=e.attachButtonStyler=e.defaultListStyles=e.attachListStyler=e.attachFindReplaceInputBoxStyler=e.attachSelectBoxStyler=e.attachInputBoxStyler=e.attachBadgeStyler=e.attachCheckboxStyler=e.attachStyler=e.computeStyles=void 0;function E(s,o){const m=Object.create(null);for(let _ in o){const f=o[_];f&&(m[_]=(0,N.resolveColorValue)(f,s))}return m}e.computeStyles=E;function g(s,o,m){function _(){const f=E(s.getColorTheme(),o);typeof m=="function"?m(f):m.style(f)}return _(),s.onDidColorThemeChange(_)}e.attachStyler=g;function S(s,o,m){return g(o,{inputActiveOptionBorder:(m==null?void 0:m.inputActiveOptionBorderColor)||N.inputActiveOptionBorder,inputActiveOptionForeground:(m==null?void 0:m.inputActiveOptionForegroundColor)||N.inputActiveOptionForeground,inputActiveOptionBackground:(m==null?void 0:m.inputActiveOptionBackgroundColor)||N.inputActiveOptionBackground},s)}e.attachCheckboxStyler=S;function b(s,o,m){return g(o,{badgeBackground:(m==null?void 0:m.badgeBackground)||N.badgeBackground,badgeForeground:(m==null?void 0:m.badgeForeground)||N.badgeForeground,badgeBorder:N.contrastBorder},s)}e.attachBadgeStyler=b;function p(s,o,m){return g(o,{inputBackground:(m==null?void 0:m.inputBackground)||N.inputBackground,inputForeground:(m==null?void 0:m.inputForeground)||N.inputForeground,inputBorder:(m==null?void 0:m.inputBorder)||N.inputBorder,inputValidationInfoBorder:(m==null?void 0:m.inputValidationInfoBorder)||N.inputValidationInfoBorder,inputValidationInfoBackground:(m==null?void 0:m.inputValidationInfoBackground)||N.inputValidationInfoBackground,inputValidationInfoForeground:(m==null?void 0:m.inputValidationInfoForeground)||N.inputValidationInfoForeground,inputValidationWarningBorder:(m==null?void 0:m.inputValidationWarningBorder)||N.inputValidationWarningBorder,inputValidationWarningBackground:(m==null?void 0:m.inputValidationWarningBackground)||N.inputValidationWarningBackground,inputValidationWarningForeground:(m==null?void 0:m.inputValidationWarningForeground)||N.inputValidationWarningForeground,inputValidationErrorBorder:(m==null?void 0:m.inputValidationErrorBorder)||N.inputValidationErrorBorder,inputValidationErrorBackground:(m==null?void 0:m.inputValidationErrorBackground)||N.inputValidationErrorBackground,inputValidationErrorForeground:(m==null?void 0:m.inputValidationErrorForeground)||N.inputValidationErrorForeground},s)}e.attachInputBoxStyler=p;function v(s,o,m){return g(o,{selectBackground:(m==null?void 0:m.selectBackground)||N.selectBackground,selectListBackground:(m==null?void 0:m.selectListBackground)||N.selectListBackground,selectForeground:(m==null?void 0:m.selectForeground)||N.selectForeground,decoratorRightForeground:(m==null?void 0:m.pickerGroupForeground)||N.pickerGroupForeground,selectBorder:(m==null?void 0:m.selectBorder)||N.selectBorder,focusBorder:(m==null?void 0:m.focusBorder)||N.focusBorder,listFocusBackground:(m==null?void 0:m.listFocusBackground)||N.quickInputListFocusBackground,listInactiveSelectionIconForeground:(m==null?void 0:m.listInactiveSelectionIconForeground)||N.quickInputListFocusIconForeground,listFocusForeground:(m==null?void 0:m.listFocusForeground)||N.quickInputListFocusForeground,listFocusOutline:(m==null?void 0:m.listFocusOutline)||(_=>_.type===M.ColorScheme.HIGH_CONTRAST?N.activeContrastBorder:L.Color.transparent),listHoverBackground:(m==null?void 0:m.listHoverBackground)||N.listHoverBackground,listHoverForeground:(m==null?void 0:m.listHoverForeground)||N.listHoverForeground,listHoverOutline:(m==null?void 0:m.listFocusOutline)||N.activeContrastBorder,selectListBorder:(m==null?void 0:m.selectListBorder)||N.editorWidgetBorder},s)}e.attachSelectBoxStyler=v;function i(s,o,m){return g(o,{inputBackground:(m==null?void 0:m.inputBackground)||N.inputBackground,inputForeground:(m==null?void 0:m.inputForeground)||N.inputForeground,inputBorder:(m==null?void 0:m.inputBorder)||N.inputBorder,inputActiveOptionBorder:(m==null?void 0:m.inputActiveOptionBorder)||N.inputActiveOptionBorder,inputActiveOptionForeground:(m==null?void 0:m.inputActiveOptionForeground)||N.inputActiveOptionForeground,inputActiveOptionBackground:(m==null?void 0:m.inputActiveOptionBackground)||N.inputActiveOptionBackground,inputValidationInfoBorder:(m==null?void 0:m.inputValidationInfoBorder)||N.inputValidationInfoBorder,inputValidationInfoBackground:(m==null?void 0:m.inputValidationInfoBackground)||N.inputValidationInfoBackground,inputValidationInfoForeground:(m==null?void 0:m.inputValidationInfoForeground)||N.inputValidationInfoForeground,inputValidationWarningBorder:(m==null?void 0:m.inputValidationWarningBorder)||N.inputValidationWarningBorder,inputValidationWarningBackground:(m==null?void 0:m.inputValidationWarningBackground)||N.inputValidationWarningBackground,inputValidationWarningForeground:(m==null?void 0:m.inputValidationWarningForeground)||N.inputValidationWarningForeground,inputValidationErrorBorder:(m==null?void 0:m.inputValidationErrorBorder)||N.inputValidationErrorBorder,inputValidationErrorBackground:(m==null?void 0:m.inputValidationErrorBackground)||N.inputValidationErrorBackground,inputValidationErrorForeground:(m==null?void 0:m.inputValidationErrorForeground)||N.inputValidationErrorForeground},s)}e.attachFindReplaceInputBoxStyler=i;function t(s,o,m){return g(o,Object.assign(Object.assign({},e.defaultListStyles),m||{}),s)}e.attachListStyler=t,e.defaultListStyles={listFocusBackground:N.listFocusBackground,listFocusForeground:N.listFocusForeground,listFocusOutline:N.listFocusOutline,listActiveSelectionBackground:N.listActiveSelectionBackground,listActiveSelectionForeground:N.listActiveSelectionForeground,listActiveSelectionIconForeground:N.listActiveSelectionIconForeground,listFocusAndSelectionBackground:N.listActiveSelectionBackground,listFocusAndSelectionForeground:N.listActiveSelectionForeground,listInactiveSelectionBackground:N.listInactiveSelectionBackground,listInactiveSelectionIconForeground:N.listInactiveSelectionIconForeground,listInactiveSelectionForeground:N.listInactiveSelectionForeground,listInactiveFocusBackground:N.listInactiveFocusBackground,listInactiveFocusOutline:N.listInactiveFocusOutline,listHoverBackground:N.listHoverBackground,listHoverForeground:N.listHoverForeground,listDropBackground:N.listDropBackground,listSelectionOutline:N.activeContrastBorder,listHoverOutline:N.activeContrastBorder,listFilterWidgetBackground:N.listFilterWidgetBackground,listFilterWidgetOutline:N.listFilterWidgetOutline,listFilterWidgetNoMatchesOutline:N.listFilterWidgetNoMatchesOutline,listMatchesShadow:N.widgetShadow,treeIndentGuidesStroke:N.treeIndentGuidesStroke,tableColumnsBorder:N.tableColumnsBorder,tableOddRowsBackgroundColor:N.tableOddRowsBackgroundColor};function a(s,o,m){return g(o,{buttonForeground:(m==null?void 0:m.buttonForeground)||N.buttonForeground,buttonBackground:(m==null?void 0:m.buttonBackground)||N.buttonBackground,buttonHoverBackground:(m==null?void 0:m.buttonHoverBackground)||N.buttonHoverBackground,buttonSecondaryForeground:(m==null?void 0:m.buttonSecondaryForeground)||N.buttonSecondaryForeground,buttonSecondaryBackground:(m==null?void 0:m.buttonSecondaryBackground)||N.buttonSecondaryBackground,buttonSecondaryHoverBackground:(m==null?void 0:m.buttonSecondaryHoverBackground)||N.buttonSecondaryHoverBackground,buttonBorder:(m==null?void 0:m.buttonBorder)||N.buttonBorder},s)}e.attachButtonStyler=a;function l(s,o,m){return g(o,{keybindingLabelBackground:m&&m.keybindingLabelBackground||N.keybindingLabelBackground,keybindingLabelForeground:m&&m.keybindingLabelForeground||N.keybindingLabelForeground,keybindingLabelBorder:m&&m.keybindingLabelBorder||N.keybindingLabelBorder,keybindingLabelBottomBorder:m&&m.keybindingLabelBottomBorder||N.keybindingLabelBottomBorder,keybindingLabelShadow:m&&m.keybindingLabelShadow||N.widgetShadow},s)}e.attachKeybindingLabelStyler=l;function h(s,o,m){return g(o,{progressBarBackground:(m==null?void 0:m.progressBarBackground)||N.progressBarBackground},s)}e.attachProgressBarStyler=h;function d(s,o,m){return g(s,o,m)}e.attachStylerCallback=d,e.defaultBreadcrumbsStyles={breadcrumbsBackground:N.breadcrumbsBackground,breadcrumbsForeground:N.breadcrumbsForeground,breadcrumbsHoverForeground:N.breadcrumbsFocusForeground,breadcrumbsFocusForeground:N.breadcrumbsFocusForeground,breadcrumbsFocusAndSelectionForeground:N.breadcrumbsActiveSelectionForeground};function u(s,o,m){return g(o,Object.assign(Object.assign({},e.defaultBreadcrumbsStyles),m),s)}e.attachBreadcrumbsStyler=u,e.defaultMenuStyles={shadowColor:N.widgetShadow,borderColor:N.menuBorder,foregroundColor:N.menuForeground,backgroundColor:N.menuBackground,selectionForegroundColor:N.menuSelectionForeground,selectionBackgroundColor:N.menuSelectionBackground,selectionBorderColor:N.menuSelectionBorder,separatorColor:N.menuSeparatorBackground,scrollbarShadow:N.scrollbarShadow,scrollbarSliderBackground:N.scrollbarSliderBackground,scrollbarSliderHoverBackground:N.scrollbarSliderHoverBackground,scrollbarSliderActiveBackground:N.scrollbarSliderActiveBackground};function n(s,o,m){return g(o,Object.assign(Object.assign({},e.defaultMenuStyles),m),s)}e.attachMenuStyler=n,e.defaultDialogStyles={dialogBackground:N.editorWidgetBackground,dialogForeground:N.editorWidgetForeground,dialogShadow:N.widgetShadow,dialogBorder:N.contrastBorder,buttonForeground:N.buttonForeground,buttonBackground:N.buttonBackground,buttonSecondaryBackground:N.buttonSecondaryBackground,buttonSecondaryForeground:N.buttonSecondaryForeground,buttonSecondaryHoverBackground:N.buttonSecondaryHoverBackground,buttonHoverBackground:N.buttonHoverBackground,buttonBorder:N.buttonBorder,checkboxBorder:N.simpleCheckboxBorder,checkboxBackground:N.simpleCheckboxBackground,checkboxForeground:N.simpleCheckboxForeground,errorIconForeground:N.problemsErrorIconForeground,warningIconForeground:N.problemsWarningIconForeground,infoIconForeground:N.problemsInfoIconForeground,inputBackground:N.inputBackground,inputForeground:N.inputForeground,inputBorder:N.inputBorder,textLinkForeground:N.textLinkForeground};function r(s,o,m){return g(o,Object.assign(Object.assign({},e.defaultDialogStyles),m),s)}e.attachDialogStyler=r}),define(ee[626],te([0,1,7,59,473,46,12,2,130,396]),function(Q,e,L,N,M,E,g,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuHandler=void 0;class p{constructor(i,t,a,l,h){this.contextViewService=i,this.telemetryService=t,this.notificationService=a,this.keybindingService=l,this.themeService=h,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(i){this.options=i}showContextMenu(i){const t=i.getActions();if(!t.length)return;this.focusToReturn=document.activeElement;let a,l=(0,L.isHTMLElement)(i.domForShadowRoot)?i.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>i.getAnchor(),canRelayout:!1,anchorAlignment:i.anchorAlignment,anchorAxisAlignment:i.anchorAxisAlignment,render:h=>{let d=i.getMenuClassName?i.getMenuClassName():"";d&&(h.className+=" "+d),this.options.blockMouse&&(this.block=h.appendChild((0,L.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(0,L.addDisposableListener)(this.block,L.EventType.MOUSE_DOWN,r=>r.stopPropagation()));const u=new S.DisposableStore,n=i.actionRunner||new E.ActionRunner;return n.onBeforeRun(this.onActionRun,this,u),n.onDidRun(this.onDidActionRun,this,u),a=new M.Menu(h,t,{actionViewItemProvider:i.getActionViewItem,context:i.getActionsContext?i.getActionsContext():null,actionRunner:n,getKeyBinding:i.getKeyBinding?i.getKeyBinding:r=>this.keybindingService.lookupKeybinding(r.id)}),u.add((0,b.attachMenuStyler)(a,this.themeService)),a.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,u),a.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,u),u.add((0,L.addDisposableListener)(window,L.EventType.BLUR,()=>this.contextViewService.hideContextView(!0))),u.add((0,L.addDisposableListener)(window,L.EventType.MOUSE_DOWN,r=>{if(r.defaultPrevented)return;let s=new N.StandardMouseEvent(r),o=s.target;if(!s.rightButton){for(;o;){if(o===h)return;o=o.parentElement}this.contextViewService.hideContextView(!0)}})),(0,S.combinedDisposable)(u,a)},focus:()=>{a&&a.focus(!!i.autoSelectFirstItem)},onHide:h=>{i.onHide&&i.onHide(!!h),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},l,!!l)}onActionRun(i){this.telemetryService.publicLog2("workbenchActionExecuted",{id:i.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(i){i.error&&!(0,g.isPromiseCanceledError)(i.error)&&this.notificationService.error(i.error)}}e.ContextMenuHandler=p}),define(ee[14],te([0,1,27,4,2,9,35,108]),function(Q,e,L,N,M,E,g,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Themable=e.registerThemingParticipant=e.Extensions=e.getThemeTypeSelector=e.FolderThemeIcon=e.FileThemeIcon=e.ThemeIcon=e.themeColorFromId=e.ThemeColor=e.IThemeService=void 0,e.IThemeService=(0,E.createDecorator)("themeService");var b;(function(d){function u(n){return n&&typeof n=="object"&&typeof n.id=="string"}d.isThemeColor=u})(b=e.ThemeColor||(e.ThemeColor={}));function p(d){return{id:d}}e.themeColorFromId=p;var v;(function(d){function u(f){return f&&typeof f=="object"&&typeof f.id=="string"&&(typeof f.color=="undefined"||b.isThemeColor(f.color))}d.isThemeIcon=u;const n=new RegExp(`^\\$\\((${L.CSSIcon.iconNameExpression}(?:${L.CSSIcon.iconModifierExpression})?)\\)$`);function r(f){const c=n.exec(f);if(!c)return;let[,C]=c;return{id:C}}d.fromString=r;function s(f,c){let C=f.id;const y=C.lastIndexOf("~");return y!==-1&&(C=C.substring(0,y)),c&&(C=`${C}~${c}`),{id:C}}d.modify=s;function o(f){const c=f.id.lastIndexOf("~");if(c!==-1)return f.id.substring(c+1)}d.getModifier=o;function m(f,c){var C,y;return f.id===c.id&&((C=f.color)===null||C===void 0?void 0:C.id)===((y=c.color)===null||y===void 0?void 0:y.id)}d.isEqual=m;function _(f,c){return{id:f.id,color:c?p(c):void 0}}d.asThemeIcon=_,d.asClassNameArray=L.CSSIcon.asClassNameArray,d.asClassName=L.CSSIcon.asClassName,d.asCSSSelector=L.CSSIcon.asCSSSelector})(v=e.ThemeIcon||(e.ThemeIcon={})),e.FileThemeIcon=L.Codicon.file,e.FolderThemeIcon=L.Codicon.folder;function i(d){switch(d){case S.ColorScheme.DARK:return"vs-dark";case S.ColorScheme.HIGH_CONTRAST:return"hc-black";default:return"vs"}}e.getThemeTypeSelector=i,e.Extensions={ThemingContribution:"base.contributions.theming"};class t{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new N.Emitter}onColorThemeChange(u){return this.themingParticipants.push(u),this.onThemingParticipantAddedEmitter.fire(u),(0,M.toDisposable)(()=>{const n=this.themingParticipants.indexOf(u);this.themingParticipants.splice(n,1)})}get onThemingParticipantAdded(){return this.onThemingParticipantAddedEmitter.event}getThemingParticipants(){return this.themingParticipants}}let a=new t;g.Registry.add(e.Extensions.ThemingContribution,a);function l(d){return a.onColorThemeChange(d)}e.registerThemingParticipant=l;class h extends M.Disposable{constructor(u){super();this.themeService=u,this.theme=u.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(n=>this.onThemeChange(n)))}onThemeChange(u){this.theme=u,this.updateStyles()}updateStyles(){}getColor(u,n){let r=this.theme.getColor(u);return r&&n&&(r=n(r,this.theme)),r?r.toString():null}}e.Themable=h}),define(ee[627],te([0,1,7,2,8,22,397,115,49,14]),function(Q,e,L,N,M,E,g,S,b,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._CSS_MAP=e.DecorationTypeOptionsProvider=e.DecorationSubTypeOptionsProvider=e.CodeEditorServiceImpl=e.GlobalStyleSheet=e.RefCountedStyleSheet=void 0;class v{constructor(n,r,s){this._parent=n,this._editorId=r,this._styleSheet=s,this._refCount=0}get sheet(){return this._styleSheet.sheet}ref(){this._refCount++}unref(){var n;this._refCount--,this._refCount===0&&((n=this._styleSheet.parentNode)===null||n===void 0||n.removeChild(this._styleSheet),this._parent._removeEditorStyleSheets(this._editorId))}insertRule(n,r){this._styleSheet.sheet.insertRule(n,r)}removeRulesContainingSelector(n){L.removeCSSRulesContainingSelector(n,this._styleSheet)}}e.RefCountedStyleSheet=v;class i{constructor(n){this._styleSheet=n}get sheet(){return this._styleSheet.sheet}ref(){}unref(){}insertRule(n,r){this._styleSheet.sheet.insertRule(n,r)}removeRulesContainingSelector(n){L.removeCSSRulesContainingSelector(n,this._styleSheet)}}e.GlobalStyleSheet=i;let t=class extends g.AbstractCodeEditorService{constructor(n,r){super();this._decorationOptionProviders=new Map,this._editorStyleSheets=new Map,this._globalStyleSheet=n||null,this._themeService=r}_getOrCreateGlobalStyleSheet(){return this._globalStyleSheet||(this._globalStyleSheet=new i(L.createStyleSheet())),this._globalStyleSheet}_getOrCreateStyleSheet(n){if(!n)return this._getOrCreateGlobalStyleSheet();const r=n.getContainerDomNode();if(!L.isInShadowDOM(r))return this._getOrCreateGlobalStyleSheet();const s=n.getId();if(!this._editorStyleSheets.has(s)){const o=new v(this,s,L.createStyleSheet(r));this._editorStyleSheets.set(s,o)}return this._editorStyleSheets.get(s)}_removeEditorStyleSheets(n){this._editorStyleSheets.delete(n)}registerDecorationType(n,r,s,o,m){let _=this._decorationOptionProviders.get(r);if(!_){const f=this._getOrCreateStyleSheet(m),c={styleSheet:f,key:r,parentTypeKey:o,options:s||Object.create(null)};o?_=new a(this._themeService,f,c):_=new l(n,this._themeService,f,c),this._decorationOptionProviders.set(r,_),this._onDecorationTypeRegistered.fire(r)}_.refCount++}removeDecorationType(n){const r=this._decorationOptionProviders.get(n);r&&(r.refCount--,r.refCount<=0&&(this._decorationOptionProviders.delete(n),r.dispose(),this.listCodeEditors().forEach(s=>s.removeDecorations(n))))}resolveDecorationOptions(n,r){const s=this._decorationOptionProviders.get(n);if(!s)throw new Error("Unknown decoration type key: "+n);return s.getOptions(this,r)}resolveDecorationCSSRules(n){const r=this._decorationOptionProviders.get(n);return r?r.resolveDecorationCSSRules():null}};t=Ve([Ce(1,p.IThemeService)],t),e.CodeEditorServiceImpl=t;class a{constructor(n,r,s){this._styleSheet=r,this._styleSheet.ref(),this._parentTypeKey=s.parentTypeKey,this.refCount=0,this._beforeContentRules=new h(3,s,n),this._afterContentRules=new h(4,s,n)}getOptions(n,r){const s=n.resolveDecorationOptions(this._parentTypeKey,!0);return this._beforeContentRules&&(s.beforeContentClassName=this._beforeContentRules.className),this._afterContentRules&&(s.afterContentClassName=this._afterContentRules.className),s}resolveDecorationCSSRules(){return this._styleSheet.sheet.cssRules}dispose(){this._beforeContentRules&&(this._beforeContentRules.dispose(),this._beforeContentRules=null),this._afterContentRules&&(this._afterContentRules.dispose(),this._afterContentRules=null),this._styleSheet.unref()}}e.DecorationSubTypeOptionsProvider=a;class l{constructor(n,r,s,o){this._disposables=new N.DisposableStore,this.description=n,this._styleSheet=s,this._styleSheet.ref(),this.refCount=0;const m=w=>{const D=new h(w,o,r);if(this._disposables.add(D),D.hasContent)return D.className},_=w=>{const D=new h(w,o,r);return this._disposables.add(D),D.hasContent?{className:D.className,hasLetterSpacing:D.hasLetterSpacing}:null};this.className=m(0);const f=_(1);if(f&&(this.inlineClassName=f.className,this.inlineClassNameAffectsLetterSpacing=f.hasLetterSpacing),this.beforeContentClassName=m(3),this.afterContentClassName=m(4),o.options.beforeInjectedText&&o.options.beforeInjectedText.contentText){const w=_(5);this.beforeInjectedText={content:o.options.beforeInjectedText.contentText,inlineClassName:w==null?void 0:w.className,inlineClassNameAffectsLetterSpacing:(w==null?void 0:w.hasLetterSpacing)||o.options.beforeInjectedText.affectsLetterSpacing}}if(o.options.afterInjectedText&&o.options.afterInjectedText.contentText){const w=_(6);this.afterInjectedText={content:o.options.afterInjectedText.contentText,inlineClassName:w==null?void 0:w.className,inlineClassNameAffectsLetterSpacing:(w==null?void 0:w.hasLetterSpacing)||o.options.afterInjectedText.affectsLetterSpacing}}this.glyphMarginClassName=m(2);const c=o.options;this.isWholeLine=Boolean(c.isWholeLine),this.stickiness=c.rangeBehavior;const C=c.light&&c.light.overviewRulerColor||c.overviewRulerColor,y=c.dark&&c.dark.overviewRulerColor||c.overviewRulerColor;(typeof C!="undefined"||typeof y!="undefined")&&(this.overviewRuler={color:C||y,darkColor:y||C,position:c.overviewRulerLane||b.OverviewRulerLane.Center})}getOptions(n,r){return r?{description:this.description,inlineClassName:this.inlineClassName,beforeContentClassName:this.beforeContentClassName,afterContentClassName:this.afterContentClassName,className:this.className,glyphMarginClassName:this.glyphMarginClassName,isWholeLine:this.isWholeLine,overviewRuler:this.overviewRuler,stickiness:this.stickiness,before:this.beforeInjectedText,after:this.afterInjectedText}:this}resolveDecorationCSSRules(){return this._styleSheet.sheet.rules}dispose(){this._disposables.dispose(),this._styleSheet.unref()}}e.DecorationTypeOptionsProvider=l,e._CSS_MAP={color:"color:{0} !important;",opacity:"opacity:{0};",backgroundColor:"background-color:{0};",outline:"outline:{0};",outlineColor:"outline-color:{0};",outlineStyle:"outline-style:{0};",outlineWidth:"outline-width:{0};",border:"border:{0};",borderColor:"border-color:{0};",borderRadius:"border-radius:{0};",borderSpacing:"border-spacing:{0};",borderStyle:"border-style:{0};",borderWidth:"border-width:{0};",fontStyle:"font-style:{0};",fontWeight:"font-weight:{0};",fontSize:"font-size:{0};",fontFamily:"font-family:{0};",textDecoration:"text-decoration:{0};",cursor:"cursor:{0};",letterSpacing:"letter-spacing:{0};",gutterIconPath:"background:{0} center center no-repeat;",gutterIconSize:"background-size:{0};",contentText:"content:'{0}';",contentIconPath:"content:{0};",margin:"margin:{0};",padding:"padding:{0};",width:"width:{0};",height:"height:{0};",verticalAlign:"vertical-align:{0};"};class h{constructor(n,r,s){this._theme=s.getColorTheme(),this._ruleType=n,this._providerArgs=r,this._usesThemeColors=!1,this._hasContent=!1,this._hasLetterSpacing=!1;let o=d.getClassName(this._providerArgs.key,n);this._providerArgs.parentTypeKey&&(o=o+" "+d.getClassName(this._providerArgs.parentTypeKey,n)),this._className=o,this._unThemedSelector=d.getSelector(this._providerArgs.key,this._providerArgs.parentTypeKey,n),this._buildCSS(),this._usesThemeColors?this._themeListener=s.onDidColorThemeChange(m=>{this._theme=s.getColorTheme(),this._removeCSS(),this._buildCSS()}):this._themeListener=null}dispose(){this._hasContent&&(this._removeCSS(),this._hasContent=!1),this._themeListener&&(this._themeListener.dispose(),this._themeListener=null)}get hasContent(){return this._hasContent}get hasLetterSpacing(){return this._hasLetterSpacing}get className(){return this._className}_buildCSS(){const n=this._providerArgs.options;let r,s,o;switch(this._ruleType){case 0:r=this.getCSSTextForModelDecorationClassName(n),s=this.getCSSTextForModelDecorationClassName(n.light),o=this.getCSSTextForModelDecorationClassName(n.dark);break;case 1:r=this.getCSSTextForModelDecorationInlineClassName(n),s=this.getCSSTextForModelDecorationInlineClassName(n.light),o=this.getCSSTextForModelDecorationInlineClassName(n.dark);break;case 2:r=this.getCSSTextForModelDecorationGlyphMarginClassName(n),s=this.getCSSTextForModelDecorationGlyphMarginClassName(n.light),o=this.getCSSTextForModelDecorationGlyphMarginClassName(n.dark);break;case 3:r=this.getCSSTextForModelDecorationContentClassName(n.before),s=this.getCSSTextForModelDecorationContentClassName(n.light&&n.light.before),o=this.getCSSTextForModelDecorationContentClassName(n.dark&&n.dark.before);break;case 4:r=this.getCSSTextForModelDecorationContentClassName(n.after),s=this.getCSSTextForModelDecorationContentClassName(n.light&&n.light.after),o=this.getCSSTextForModelDecorationContentClassName(n.dark&&n.dark.after);break;case 5:r=this.getCSSTextForModelDecorationContentClassName(n.beforeInjectedText),s=this.getCSSTextForModelDecorationContentClassName(n.light&&n.light.beforeInjectedText),o=this.getCSSTextForModelDecorationContentClassName(n.dark&&n.dark.beforeInjectedText);break;case 6:r=this.getCSSTextForModelDecorationContentClassName(n.afterInjectedText),s=this.getCSSTextForModelDecorationContentClassName(n.light&&n.light.afterInjectedText),o=this.getCSSTextForModelDecorationContentClassName(n.dark&&n.dark.afterInjectedText);break;default:throw new Error("Unknown rule type: "+this._ruleType)}const m=this._providerArgs.styleSheet;let _=!1;r.length>0&&(m.insertRule(`${this._unThemedSelector} {${r}}`,0),_=!0),s.length>0&&(m.insertRule(`.vs${this._unThemedSelector} {${s}}`,0),_=!0),o.length>0&&(m.insertRule(`.vs-dark${this._unThemedSelector}, .hc-black${this._unThemedSelector} {${o}}`,0),_=!0),this._hasContent=_}_removeCSS(){this._providerArgs.styleSheet.removeRulesContainingSelector(this._unThemedSelector)}getCSSTextForModelDecorationClassName(n){if(!n)return"";const r=[];return this.collectCSSText(n,["backgroundColor"],r),this.collectCSSText(n,["outline","outlineColor","outlineStyle","outlineWidth"],r),this.collectBorderSettingsCSSText(n,r),r.join("")}getCSSTextForModelDecorationInlineClassName(n){if(!n)return"";const r=[];return this.collectCSSText(n,["fontStyle","fontWeight","textDecoration","cursor","color","opacity","letterSpacing"],r),n.letterSpacing&&(this._hasLetterSpacing=!0),r.join("")}getCSSTextForModelDecorationContentClassName(n){if(!n)return"";const r=[];if(typeof n!="undefined"){if(this.collectBorderSettingsCSSText(n,r),typeof n.contentIconPath!="undefined"&&r.push(M.format(e._CSS_MAP.contentIconPath,L.asCSSUrl(E.URI.revive(n.contentIconPath)))),typeof n.contentText=="string"){const o=n.contentText.match(/^.*$/m)[0].replace(/['\\]/g,"\\$&");r.push(M.format(e._CSS_MAP.contentText,o))}this.collectCSSText(n,["verticalAlign","fontStyle","fontWeight","fontSize","fontFamily","textDecoration","color","opacity","backgroundColor","margin","padding"],r),this.collectCSSText(n,["width","height"],r)&&r.push("display:inline-block;")}return r.join("")}getCSSTextForModelDecorationGlyphMarginClassName(n){if(!n)return"";const r=[];return typeof n.gutterIconPath!="undefined"&&(r.push(M.format(e._CSS_MAP.gutterIconPath,L.asCSSUrl(E.URI.revive(n.gutterIconPath)))),typeof n.gutterIconSize!="undefined"&&r.push(M.format(e._CSS_MAP.gutterIconSize,n.gutterIconSize))),r.join("")}collectBorderSettingsCSSText(n,r){return this.collectCSSText(n,["border","borderColor","borderRadius","borderSpacing","borderStyle","borderWidth"],r)?(r.push(M.format("box-sizing: border-box;")),!0):!1}collectCSSText(n,r,s){const o=s.length;for(let m of r){const _=this.resolveValue(n[m]);typeof _=="string"&&s.push(M.format(e._CSS_MAP[m],_))}return s.length!==o}resolveValue(n){if((0,S.isThemeColor)(n)){this._usesThemeColors=!0;const r=this._theme.getColor(n.id);return r?r.toString():"transparent"}return n}}class d{static getClassName(n,r){return"ced-"+n+"-"+r}static getSelector(n,r,s){let o=".monaco-editor ."+this.getClassName(n,s);return r&&(o=o+"."+this.getClassName(r,s)),s===3?o+="::before":s===4&&(o+="::after"),o}}}),define(ee[628],te([0,1,7,32,64,51,14,24]),function(Q,e,L,N,M,E,g,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScrollbar=void 0;class b extends E.ViewPart{constructor(v,i,t,a){super(v);const l=this._context.configuration.options,h=l.get(91),d=l.get(66),u=l.get(34),n=l.get(94),r={listenOnDomNode:t.domNode,className:"editor-scrollable "+(0,g.getThemeTypeSelector)(v.theme.type),useShadows:!1,lazyRender:!0,vertical:h.vertical,horizontal:h.horizontal,verticalHasArrows:h.verticalHasArrows,horizontalHasArrows:h.horizontalHasArrows,verticalScrollbarSize:h.verticalScrollbarSize,verticalSliderSize:h.verticalSliderSize,horizontalScrollbarSize:h.horizontalScrollbarSize,horizontalSliderSize:h.horizontalSliderSize,handleMouseWheel:h.handleMouseWheel,alwaysConsumeMouseWheel:h.alwaysConsumeMouseWheel,arrowSize:h.arrowSize,mouseWheelScrollSensitivity:d,fastScrollSensitivity:u,scrollPredominantAxis:n,scrollByPage:h.scrollByPage};this.scrollbar=this._register(new M.SmoothScrollableElement(i.domNode,r,this._context.viewLayout.getScrollable())),E.PartFingerprints.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=(0,N.createFastDomNode)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const s=(o,m,_)=>{const f={};if(m){const c=o.scrollTop;c&&(f.scrollTop=this._context.viewLayout.getCurrentScrollTop()+c,o.scrollTop=0)}if(_){const c=o.scrollLeft;c&&(f.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+c,o.scrollLeft=0)}this._context.model.setScrollPosition(f,1)};this._register(L.addDisposableListener(t.domNode,"scroll",o=>s(t.domNode,!0,!0))),this._register(L.addDisposableListener(i.domNode,"scroll",o=>s(i.domNode,!0,!1))),this._register(L.addDisposableListener(a.domNode,"scroll",o=>s(a.domNode,!0,!1))),this._register(L.addDisposableListener(this.scrollbarDomNode.domNode,"scroll",o=>s(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const v=this._context.configuration.options,i=v.get(130);this.scrollbarDomNode.setLeft(i.contentLeft),v.get(64).side==="right"?this.scrollbarDomNode.setWidth(i.contentWidth+i.minimap.minimapWidth):this.scrollbarDomNode.setWidth(i.contentWidth),this.scrollbarDomNode.setHeight(i.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarMouseDown(v){this.scrollbar.delegateVerticalScrollbarMouseDown(v)}onConfigurationChanged(v){if(v.hasChanged(91)||v.hasChanged(66)||v.hasChanged(34)){const i=this._context.configuration.options,t=i.get(91),a=i.get(66),l=i.get(34),h=i.get(94),d={vertical:t.vertical,horizontal:t.horizontal,verticalScrollbarSize:t.verticalScrollbarSize,horizontalScrollbarSize:t.horizontalScrollbarSize,scrollByPage:t.scrollByPage,handleMouseWheel:t.handleMouseWheel,mouseWheelScrollSensitivity:a,fastScrollSensitivity:l,scrollPredominantAxis:h};this.scrollbar.updateOptions(d)}return v.hasChanged(130)&&this._setLayout(),!0}onScrollChanged(v){return!0}onThemeChanged(v){return this.scrollbar.updateClassName("editor-scrollable "+(0,g.getThemeTypeSelector)(this._context.theme.type)),!0}prepareRender(v){}render(v){this.scrollbar.renderNow()}}e.EditorScrollbar=b,(0,g.registerThemingParticipant)((p,v)=>{const i=p.getColor(S.scrollbarShadow);i&&v.addRule(`
			.monaco-scrollable-element > .shadow.top {
				box-shadow: ${i} 0 6px 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.left {
				box-shadow: ${i} 6px 0 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.top.left {
				box-shadow: ${i} 6px 6px 6px -6px inset;
			}
		`);const t=p.getColor(S.scrollbarSliderBackground);t&&v.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider {
				background: ${t};
			}
		`);const a=p.getColor(S.scrollbarSliderHoverBackground);a&&v.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider:hover {
				background: ${a};
			}
		`);const l=p.getColor(S.scrollbarSliderActiveBackground);l&&v.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider.active {
				background: ${l};
			}
		`)})}),define(ee[629],te([0,1,7,32,99,2,15,8,177,51,29,3,233,263,65,24,14,23,57,400,49,79,359]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u,n,r,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Minimap=void 0;const m=140,_=2;class f{constructor(R,A,O){const k=R.options,V=k.get(128),B=k.get(130),x=B.minimap,K=k.get(43),X=k.get(64);this.renderMinimap=x.renderMinimap,this.size=X.size,this.minimapHeightIsEditorHeight=x.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=k.get(93),this.showSlider=X.showSlider,this.pixelRatio=V,this.typicalHalfwidthCharacterWidth=K.typicalHalfwidthCharacterWidth,this.lineHeight=k.get(58),this.minimapLeft=x.minimapLeft,this.minimapWidth=x.minimapWidth,this.minimapHeight=B.height,this.canvasInnerWidth=x.minimapCanvasInnerWidth,this.canvasInnerHeight=x.minimapCanvasInnerHeight,this.canvasOuterWidth=x.minimapCanvasOuterWidth,this.canvasOuterHeight=x.minimapCanvasOuterHeight,this.isSampling=x.minimapIsSampling,this.editorHeight=B.height,this.fontScale=x.minimapScale,this.minimapLineHeight=x.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,o.once)(()=>r.MinimapCharRendererFactory.create(this.fontScale,K.fontFamily)),this.defaultBackgroundColor=O.getColor(2),this.backgroundColor=f._getMinimapBackground(A,this.defaultBackgroundColor),this.foregroundAlpha=f._getMinimapForegroundOpacity(A)}static _getMinimapBackground(R,A){const O=R.getColor(h.minimapBackground);return O?new t.RGBA8(O.rgba.r,O.rgba.g,O.rgba.b,Math.round(255*O.rgba.a)):A}static _getMinimapForegroundOpacity(R){const A=R.getColor(h.minimapForegroundOpacity);return A?t.RGBA8._clamp(Math.round(255*A.rgba.a)):255}equals(R){return this.renderMinimap===R.renderMinimap&&this.size===R.size&&this.minimapHeightIsEditorHeight===R.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===R.scrollBeyondLastLine&&this.showSlider===R.showSlider&&this.pixelRatio===R.pixelRatio&&this.typicalHalfwidthCharacterWidth===R.typicalHalfwidthCharacterWidth&&this.lineHeight===R.lineHeight&&this.minimapLeft===R.minimapLeft&&this.minimapWidth===R.minimapWidth&&this.minimapHeight===R.minimapHeight&&this.canvasInnerWidth===R.canvasInnerWidth&&this.canvasInnerHeight===R.canvasInnerHeight&&this.canvasOuterWidth===R.canvasOuterWidth&&this.canvasOuterHeight===R.canvasOuterHeight&&this.isSampling===R.isSampling&&this.editorHeight===R.editorHeight&&this.fontScale===R.fontScale&&this.minimapLineHeight===R.minimapLineHeight&&this.minimapCharWidth===R.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(R.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(R.backgroundColor)&&this.foregroundAlpha===R.foregroundAlpha}}class c{constructor(R,A,O,k,V,B,x,K){this.scrollTop=R,this.scrollHeight=A,this.sliderNeeded=O,this._computedSliderRatio=k,this.sliderTop=V,this.sliderHeight=B,this.startLineNumber=x,this.endLineNumber=K}getDesiredScrollTopFromDelta(R){return Math.round(this.scrollTop+R/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(R){return Math.round((R-this.sliderHeight/2)/this._computedSliderRatio)}static create(R,A,O,k,V,B,x,K,X,Z,q){const H=R.pixelRatio,G=R.minimapLineHeight,z=Math.floor(R.canvasInnerHeight/G),W=R.lineHeight;if(R.minimapHeightIsEditorHeight){const re=K*R.lineHeight+(R.scrollBeyondLastLine?V-R.lineHeight:0),ge=Math.max(1,Math.floor(V*V/re)),pe=Math.max(0,R.minimapHeight-ge),oe=pe/(Z-V),$=X*oe,ie=pe>0,le=Math.floor(R.canvasInnerHeight/R.minimapLineHeight);return new c(X,Z,ie,oe,$,ge,1,Math.min(x,le))}let j;if(B&&O!==x){const re=O-A+1;j=Math.floor(re*G/H)}else{const re=V/W;j=Math.floor(re*G/H)}let U;R.scrollBeyondLastLine?U=(x-1)*G/H:U=Math.max(0,x*G/H-j),U=Math.min(R.minimapHeight-j,U);const Y=U/(Z-V),ne=X*Y;let J=0;if(R.scrollBeyondLastLine&&(J=V/W-1),z>=x+J){const re=1,ge=x,pe=U>0;return new c(X,Z,pe,Y,ne,j,re,ge)}else{let re=Math.max(1,Math.floor(A-ne*H/G));q&&q.scrollHeight===Z&&(q.scrollTop>X&&(re=Math.min(re,q.startLineNumber)),q.scrollTop<X&&(re=Math.max(re,q.startLineNumber)));const ge=Math.min(x,re+z-1),pe=(X-k)/W,oe=(A-re+pe)*G/H;return new c(X,Z,!0,Y,oe,j,re,ge)}}}class C{constructor(R){this.dy=R}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}C.INVALID=new C(-1);class y{constructor(R,A,O){this.renderedLayout=R,this._imageData=A,this._renderedLines=new b.RenderedLinesCollection(()=>C.INVALID),this._renderedLines._set(R.startLineNumber,O)}linesEquals(R){if(!this.scrollEquals(R))return!1;const O=this._renderedLines._get().lines;for(let k=0,V=O.length;k<V;k++)if(O[k].dy===-1)return!1;return!0}scrollEquals(R){return this.renderedLayout.startLineNumber===R.startLineNumber&&this.renderedLayout.endLineNumber===R.endLineNumber}_get(){const R=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:R.rendLineNumberStart,lines:R.lines}}onLinesChanged(R,A){return this._renderedLines.onLinesChanged(R,A)}onLinesDeleted(R,A){this._renderedLines.onLinesDeleted(R,A)}onLinesInserted(R,A){this._renderedLines.onLinesInserted(R,A)}onTokensChanged(R){return this._renderedLines.onTokensChanged(R)}}class w{constructor(R,A,O,k){this._backgroundFillData=w._createBackgroundFillData(A,O,k),this._buffers=[R.createImageData(A,O),R.createImageData(A,O)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const R=this._buffers[this._lastUsedBuffer];return R.data.set(this._backgroundFillData),R}static _createBackgroundFillData(R,A,O){const k=O.r,V=O.g,B=O.b,x=O.a,K=new Uint8ClampedArray(R*A*4);let X=0;for(let Z=0;Z<A;Z++)for(let q=0;q<R;q++)K[X]=k,K[X+1]=V,K[X+2]=B,K[X+3]=x,X+=4;return K}}class D{constructor(R,A){this.samplingRatio=R,this.minimapLines=A}static compute(R,A,O){if(R.renderMinimap===0||!R.isSampling)return[null,[]];const k=R.pixelRatio,V=R.lineHeight,B=R.scrollBeyondLastLine,{minimapLineCount:x}=v.EditorLayoutInfoComputer.computeContainedMinimapLineCount({viewLineCount:A,scrollBeyondLastLine:B,height:R.editorHeight,lineHeight:V,pixelRatio:k}),K=A/x,X=K/2;if(!O||O.minimapLines.length===0){let ne=[];if(ne[0]=1,x>1){for(let J=0,re=x-1;J<re;J++)ne[J]=Math.round(J*K+X);ne[x-1]=A}return[new D(K,ne),[]]}const Z=O.minimapLines,q=Z.length;let H=[],G=0,z=0,W=1;const j=10;let U=[],Y=null;for(let ne=0;ne<x;ne++){const J=Math.max(W,Math.round(ne*K)),re=Math.max(J,Math.round((ne+1)*K));for(;G<q&&Z[G]<J;){if(U.length<j){const pe=G+1+z;Y&&Y.type==="deleted"&&Y._oldIndex===G-1?Y.deleteToLineNumber++:(Y={type:"deleted",_oldIndex:G,deleteFromLineNumber:pe,deleteToLineNumber:pe},U.push(Y)),z--}G++}let ge;if(G<q&&Z[G]<=re)ge=Z[G],G++;else if(ne===0?ge=1:ne+1===x?ge=A:ge=Math.round(ne*K+X),U.length<j){const pe=G+1+z;Y&&Y.type==="inserted"&&Y._i===ne-1?Y.insertToLineNumber++:(Y={type:"inserted",_i:ne,insertFromLineNumber:pe,insertToLineNumber:pe},U.push(Y)),z++}H[ne]=ge,W=ge}if(U.length<j)for(;G<q;){const ne=G+1+z;Y&&Y.type==="deleted"&&Y._oldIndex===G-1?Y.deleteToLineNumber++:(Y={type:"deleted",_oldIndex:G,deleteFromLineNumber:ne,deleteToLineNumber:ne},U.push(Y)),z--,G++}else U=[{type:"flush"}];return[new D(K,H),U]}modelLineToMinimapLine(R){return Math.min(this.minimapLines.length,Math.max(1,Math.round(R/this.samplingRatio)))}modelLineRangeToMinimapLineRange(R,A){let O=this.modelLineToMinimapLine(R)-1;for(;O>0&&this.minimapLines[O-1]>=R;)O--;let k=this.modelLineToMinimapLine(A)-1;for(;k+1<this.minimapLines.length&&this.minimapLines[k+1]<=A;)k++;if(O===k){const V=this.minimapLines[O];if(V<R||V>A)return null}return[O+1,k+1]}decorationLineRangeToMinimapLineRange(R,A){let O=this.modelLineToMinimapLine(R),k=this.modelLineToMinimapLine(A);return R!==A&&k===O&&(k===this.minimapLines.length?O>1&&O--:k++),[O,k]}onLinesDeleted(R){const A=R.toLineNumber-R.fromLineNumber+1;let O=this.minimapLines.length,k=0;for(let V=this.minimapLines.length-1;V>=0&&!(this.minimapLines[V]<R.fromLineNumber);V--)this.minimapLines[V]<=R.toLineNumber?(this.minimapLines[V]=Math.max(1,R.fromLineNumber-1),O=Math.min(O,V),k=Math.max(k,V)):this.minimapLines[V]-=A;return[O,k]}onLinesInserted(R){const A=R.toLineNumber-R.fromLineNumber+1;for(let O=this.minimapLines.length-1;O>=0&&!(this.minimapLines[O]<R.fromLineNumber);O--)this.minimapLines[O]+=A}}class I extends p.ViewPart{constructor(R){super(R);this.tokensColorTracker=a.MinimapTokensColorTracker.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new f(this._context.configuration,this._context.theme,this.tokensColorTracker);const[A]=D.compute(this.options,this._context.model.getLineCount(),null);this._samplingState=A,this._shouldCheckSampling=!1,this._actual=new T(R.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const R=new f(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(R)?!1:(this.options=R,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(R){return this._onOptionsMaybeChanged()}onCursorStateChanged(R){return this._selections=R.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(R){return R.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(R){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(R){if(this._samplingState){const A=this._samplingState.modelLineRangeToMinimapLineRange(R.fromLineNumber,R.toLineNumber);return A?this._actual.onLinesChanged(A[0],A[1]):!1}else return this._actual.onLinesChanged(R.fromLineNumber,R.toLineNumber)}onLinesDeleted(R){if(this._samplingState){const[A,O]=this._samplingState.onLinesDeleted(R);return A<=O&&this._actual.onLinesChanged(A+1,O+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(R.fromLineNumber,R.toLineNumber)}onLinesInserted(R){return this._samplingState?(this._samplingState.onLinesInserted(R),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(R.fromLineNumber,R.toLineNumber)}onScrollChanged(R){return this._actual.onScrollChanged()}onThemeChanged(R){return this._context.model.invalidateMinimapColorCache(),this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(R){if(this._samplingState){let A=[];for(const O of R.ranges){const k=this._samplingState.modelLineRangeToMinimapLineRange(O.fromLineNumber,O.toLineNumber);k&&A.push({fromLineNumber:k[0],toLineNumber:k[1]})}return A.length?this._actual.onTokensChanged(A):!1}else return this._actual.onTokensChanged(R.ranges)}onTokensColorsChanged(R){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(R){return this._actual.onZonesChanged()}prepareRender(R){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(R){let A=R.visibleRange.startLineNumber,O=R.visibleRange.endLineNumber;this._samplingState&&(A=this._samplingState.modelLineToMinimapLine(A),O=this._samplingState.modelLineToMinimapLine(O));const k={viewportContainsWhitespaceGaps:R.viewportData.whitespaceViewportData.length>0,scrollWidth:R.scrollWidth,scrollHeight:R.scrollHeight,viewportStartLineNumber:A,viewportEndLineNumber:O,viewportStartLineNumberVerticalOffset:R.getVerticalOffsetForLineNumber(A),scrollTop:R.scrollTop,scrollLeft:R.scrollLeft,viewportWidth:R.viewportWidth,viewportHeight:R.viewportHeight};this._actual.render(k)}_recreateLineSampling(){this._minimapSelections=null;const R=Boolean(this._samplingState),[A,O]=D.compute(this.options,this._context.model.getLineCount(),this._samplingState);if(this._samplingState=A,R&&this._samplingState)for(const k of O)switch(k.type){case"deleted":this._actual.onLinesDeleted(k.deleteFromLineNumber,k.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(k.insertFromLineNumber,k.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.model.getLineCount()}getRealLineCount(){return this._context.model.getLineCount()}getLineContent(R){return this._samplingState?this._context.model.getLineContent(this._samplingState.minimapLines[R-1]):this._context.model.getLineContent(R)}getLineMaxColumn(R){return this._samplingState?this._context.model.getLineMaxColumn(this._samplingState.minimapLines[R-1]):this._context.model.getLineMaxColumn(R)}getMinimapLinesRenderingData(R,A,O){if(this._samplingState){let k=[];for(let V=0,B=A-R+1;V<B;V++)O[V]?k[V]=this._context.model.getViewLineData(this._samplingState.minimapLines[R+V-1]):k[V]=null;return k}return this._context.model.getMinimapLinesRenderingData(R,A,O).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const R of this._selections){const[A,O]=this._samplingState.decorationLineRangeToMinimapLineRange(R.startLineNumber,R.endLineNumber);this._minimapSelections.push(new u.Selection(A,R.startColumn,O,R.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(R,A){let O;if(this._samplingState){const V=this._samplingState.minimapLines[R-1],B=this._samplingState.minimapLines[A-1];O=new i.Range(V,1,B,this._context.model.getLineMaxColumn(B))}else O=new i.Range(R,1,A,this._context.model.getLineMaxColumn(A));const k=this._context.model.getDecorationsInViewport(O);if(this._samplingState){let V=[];for(const B of k){if(!B.options.minimap)continue;const x=B.range,K=this._samplingState.modelLineToMinimapLine(x.startLineNumber),X=this._samplingState.modelLineToMinimapLine(x.endLineNumber);V.push(new l.ViewModelDecoration(new i.Range(K,x.startColumn,X,x.endColumn),B.options))}return V}return k}getOptions(){return this._context.model.getTextModelOptions()}revealLineNumber(R){this._samplingState&&(R=this._samplingState.minimapLines[R-1]),this._context.model.revealRange("mouse",!1,new i.Range(R,1,R,1),1,0)}setScrollTop(R){this._context.model.setScrollPosition({scrollTop:R},1)}}e.Minimap=I;class T extends E.Disposable{constructor(R,A){super();this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=R,this._model=A,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(h.minimapSelection),this._domNode=(0,N.createFastDomNode)(document.createElement("div")),p.PartFingerprints.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,N.createFastDomNode)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,N.createFastDomNode)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,N.createFastDomNode)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,N.createFastDomNode)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,N.createFastDomNode)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._mouseDownListener=L.addStandardDisposableListener(this._domNode.domNode,"mousedown",O=>{if(O.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(O.leftButton&&this._lastRenderData){const X=L.getDomNodePagePosition(this._slider.domNode),Z=X.top+X.height/2;this._startSliderDragging(O.buttons,O.posx,Z,O.posy,this._lastRenderData.renderedLayout)}return}const V=this._model.options.minimapLineHeight,B=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*O.browserEvent.offsetY;let K=Math.floor(B/V)+this._lastRenderData.renderedLayout.startLineNumber;K=Math.min(K,this._model.getLineCount()),this._model.revealLineNumber(K)}),this._sliderMouseMoveMonitor=new M.GlobalMouseMoveMonitor,this._sliderMouseDownListener=L.addStandardDisposableListener(this._slider.domNode,"mousedown",O=>{O.preventDefault(),O.stopPropagation(),O.leftButton&&this._lastRenderData&&this._startSliderDragging(O.buttons,O.posx,O.posy,O.posy,this._lastRenderData.renderedLayout)}),this._gestureDisposable=n.Gesture.addTarget(this._domNode.domNode),this._sliderTouchStartListener=L.addDisposableListener(this._domNode.domNode,n.EventType.Start,O=>{O.preventDefault(),O.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(O))},{passive:!1}),this._sliderTouchMoveListener=L.addDisposableListener(this._domNode.domNode,n.EventType.Change,O=>{O.preventDefault(),O.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(O)},{passive:!1}),this._sliderTouchEndListener=L.addStandardDisposableListener(this._domNode.domNode,n.EventType.End,O=>{O.preventDefault(),O.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(R,A,O,k,V){this._slider.toggleClassName("active",!0);const B=(x,K)=>{const X=Math.abs(K-A);if(g.isWindows&&X>m){this._model.setScrollTop(V.scrollTop);return}const Z=x-O;this._model.setScrollTop(V.getDesiredScrollTopFromDelta(Z))};k!==O&&B(k,A),this._sliderMouseMoveMonitor.startMonitoring(this._slider.domNode,R,M.standardMouseMoveMerger,x=>B(x.posy,x.posx),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(R){const A=this._domNode.domNode.getBoundingClientRect().top,O=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(R.pageY-A);this._model.setScrollTop(O)}dispose(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){return this._model.options.showSlider==="always"?"minimap slider-always":"minimap slider-mouseover"}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new w(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(R,A){return this._lastRenderData?this._lastRenderData.onLinesChanged(R,A):!1}onLinesDeleted(R,A){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(R,A),!0}onLinesInserted(R,A){return this._lastRenderData&&this._lastRenderData.onLinesInserted(R,A),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(h.minimapSelection),this._renderDecorations=!0,!0}onTokensChanged(R){return this._lastRenderData?this._lastRenderData.onTokensChanged(R):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(R){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}R.scrollLeft+R.viewportWidth>=R.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const O=c.create(this._model.options,R.viewportStartLineNumber,R.viewportEndLineNumber,R.viewportStartLineNumberVerticalOffset,R.viewportHeight,R.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),R.scrollTop,R.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(O.sliderNeeded?"block":"none"),this._slider.setTop(O.sliderTop),this._slider.setHeight(O.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(O.sliderHeight),this.renderDecorations(O),this._lastRenderData=this.renderLines(O)}renderDecorations(R){if(this._renderDecorations){this._renderDecorations=!1;const A=this._model.getSelections();A.sort(i.Range.compareRangesUsingStarts);const O=this._model.getMinimapDecorationsInViewport(R.startLineNumber,R.endLineNumber);O.sort((H,G)=>(H.options.zIndex||0)-(G.options.zIndex||0));const{canvasInnerWidth:k,canvasInnerHeight:V}=this._model.options,B=this._model.options.minimapLineHeight,x=this._model.options.minimapCharWidth,K=this._model.getOptions().tabSize,X=this._decorationsCanvas.domNode.getContext("2d");X.clearRect(0,0,k,V);const Z=new F(R.startLineNumber,R.endLineNumber,!1);this._renderSelectionLineHighlights(X,A,Z,R,B),this._renderDecorationsLineHighlights(X,O,Z,R,B);const q=new F(R.startLineNumber,R.endLineNumber,null);this._renderSelectionsHighlights(X,A,q,R,B,K,x,k),this._renderDecorationsHighlights(X,O,q,R,B,K,x,k)}}_renderSelectionLineHighlights(R,A,O,k,V){if(!this._selectionColor||this._selectionColor.isTransparent())return;R.fillStyle=this._selectionColor.transparent(.5).toString();let B=0,x=0;for(const K of A){const X=Math.max(k.startLineNumber,K.startLineNumber),Z=Math.min(k.endLineNumber,K.endLineNumber);if(X>Z)continue;for(let G=X;G<=Z;G++)O.set(G,!0);const q=(X-k.startLineNumber)*V,H=(Z-k.startLineNumber)*V+V;x>=q||(x>B&&R.fillRect(v.MINIMAP_GUTTER_WIDTH,B,R.canvas.width,x-B),B=q),x=H}x>B&&R.fillRect(v.MINIMAP_GUTTER_WIDTH,B,R.canvas.width,x-B)}_renderDecorationsLineHighlights(R,A,O,k,V){const B=new Map;for(let x=A.length-1;x>=0;x--){const K=A[x],X=K.options.minimap;if(!X||X.position!==s.MinimapPosition.Inline)continue;const Z=Math.max(k.startLineNumber,K.range.startLineNumber),q=Math.min(k.endLineNumber,K.range.endLineNumber);if(Z>q)continue;const H=X.getColor(this._theme);if(!H||H.isTransparent())continue;let G=B.get(H.toString());G||(G=H.transparent(.5).toString(),B.set(H.toString(),G)),R.fillStyle=G;for(let z=Z;z<=q;z++){if(O.has(z))continue;O.set(z,!0);const W=(Z-k.startLineNumber)*V;R.fillRect(v.MINIMAP_GUTTER_WIDTH,W,R.canvas.width,V)}}}_renderSelectionsHighlights(R,A,O,k,V,B,x,K){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(const X of A){const Z=Math.max(k.startLineNumber,X.startLineNumber),q=Math.min(k.endLineNumber,X.endLineNumber);if(!(Z>q))for(let H=Z;H<=q;H++)this.renderDecorationOnLine(R,O,X,this._selectionColor,k,H,V,V,B,x,K)}}_renderDecorationsHighlights(R,A,O,k,V,B,x,K){for(const X of A){const Z=X.options.minimap;if(!Z)continue;const q=Math.max(k.startLineNumber,X.range.startLineNumber),H=Math.min(k.endLineNumber,X.range.endLineNumber);if(q>H)continue;const G=Z.getColor(this._theme);if(!(!G||G.isTransparent()))for(let z=q;z<=H;z++)switch(Z.position){case s.MinimapPosition.Inline:this.renderDecorationOnLine(R,O,X.range,G,k,z,V,V,B,x,K);continue;case s.MinimapPosition.Gutter:const W=(z-k.startLineNumber)*V,j=2;this.renderDecoration(R,G,j,W,_,V);continue}}}renderDecorationOnLine(R,A,O,k,V,B,x,K,X,Z,q){const H=(B-V.startLineNumber)*K;if(H+x<0||H>this._model.options.canvasInnerHeight)return;const{startLineNumber:G,endLineNumber:z}=O,W=G===B?O.startColumn:1,j=z===B?O.endColumn:this._model.getLineMaxColumn(B),U=this.getXOffsetForPosition(A,B,W,X,Z,q),Y=this.getXOffsetForPosition(A,B,j,X,Z,q);this.renderDecoration(R,k,U,H,Y-U,x)}getXOffsetForPosition(R,A,O,k,V,B){if(O===1)return v.MINIMAP_GUTTER_WIDTH;if((O-1)*V>=B)return B;let K=R.get(A);if(!K){const X=this._model.getLineContent(A);K=[v.MINIMAP_GUTTER_WIDTH];let Z=v.MINIMAP_GUTTER_WIDTH;for(let q=1;q<X.length+1;q++){const H=X.charCodeAt(q-1),G=H===9?k*V:S.isFullWidthCharacter(H)?2*V:V,z=Z+G;if(z>=B){K[q]=B;break}K[q]=z,Z=z}R.set(A,K)}return O-1<K.length?K[O-1]:B}renderDecoration(R,A,O,k,V,B){R.fillStyle=A&&A.toString()||"",R.fillRect(O,k,V,B)}renderLines(R){const A=R.startLineNumber,O=R.endLineNumber,k=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(R)){const se=this._lastRenderData._get();return new y(R,se.imageData,se.lines)}const V=this._getBuffer();if(!V)return null;let[B,x,K]=T._renderUntouchedLines(V,A,O,k,this._lastRenderData);const X=this._model.getMinimapLinesRenderingData(A,O,K),Z=this._model.getOptions().tabSize,q=this._model.options.defaultBackgroundColor,H=this._model.options.backgroundColor,G=this._model.options.foregroundAlpha,z=this._model.tokensColorTracker,W=z.backgroundIsLight(),j=this._model.options.renderMinimap,U=this._model.options.charRenderer(),Y=this._model.options.fontScale,ne=this._model.options.minimapCharWidth,re=(j===1?2:2+1)*Y,ge=k>re?Math.floor((k-re)/2):0,pe=H.a/255,oe=new t.RGBA8(Math.round((H.r-q.r)*pe+q.r),Math.round((H.g-q.g)*pe+q.g),Math.round((H.b-q.b)*pe+q.b),255);let $=0;const ie=[];for(let se=0,ce=O-A+1;se<ce;se++)K[se]&&T._renderLine(V,oe,H.a,W,j,ne,z,G,U,$,ge,Z,X[se],Y,k),ie[se]=new C($),$+=k;const le=B===-1?0:B,fe=(x===-1?V.height:x)-le;return this._canvas.domNode.getContext("2d").putImageData(V,0,0,0,le,V.width,fe),new y(R,V,ie)}static _renderUntouchedLines(R,A,O,k,V){const B=[];if(!V){for(let oe=0,$=O-A+1;oe<$;oe++)B[oe]=!0;return[-1,-1,B]}const x=V._get(),K=x.imageData.data,X=x.rendLineNumberStart,Z=x.lines,q=Z.length,H=R.width,G=R.data,z=(O-A+1)*k*H*4;let W=-1,j=-1,U=-1,Y=-1,ne=-1,J=-1,re=0;for(let oe=A;oe<=O;oe++){const $=oe-A,ie=oe-X,le=ie>=0&&ie<q?Z[ie].dy:-1;if(le===-1){B[$]=!0,re+=k;continue}const de=le*H*4,fe=(le+k)*H*4,he=re*H*4,se=(re+k)*H*4;Y===de&&J===he?(Y=fe,J=se):(U!==-1&&(G.set(K.subarray(U,Y),ne),W===-1&&U===0&&U===ne&&(W=Y),j===-1&&Y===z&&U===ne&&(j=U)),U=de,Y=fe,ne=he,J=se),B[$]=!1,re+=k}U!==-1&&(G.set(K.subarray(U,Y),ne),W===-1&&U===0&&U===ne&&(W=Y),j===-1&&Y===z&&U===ne&&(j=U));const ge=W===-1?-1:W/(H*4),pe=j===-1?-1:j/(H*4);return[ge,pe,B]}static _renderLine(R,A,O,k,V,B,x,K,X,Z,q,H,G,z,W){const j=G.content,U=G.tokens,Y=R.width-B,ne=W===1;let J=v.MINIMAP_GUTTER_WIDTH,re=0,ge=0;for(let pe=0,oe=U.getCount();pe<oe;pe++){const $=U.getEndOffset(pe),ie=U.getForeground(pe),le=x.getColor(ie);for(;re<$;re++){if(J>Y)return;const de=j.charCodeAt(re);if(de===9){const fe=H-(re+ge)%H;ge+=fe-1,J+=fe*B}else if(de===32)J+=B;else{const fe=S.isFullWidthCharacter(de)?2:1;for(let he=0;he<fe;he++)if(V===2?X.blockRenderChar(R,J,Z+q,le,K,A,O,ne):X.renderChar(R,J,Z+q,de,le,K,A,O,z,k,ne),J+=B,J>Y)return}}}}}class F{constructor(R,A,O){this._startLineNumber=R,this._endLineNumber=A,this._defaultValue=O,this._values=[];for(let k=0,V=this._endLineNumber-this._startLineNumber+1;k<V;k++)this._values[k]=O}has(R){return this.get(R)!==this._defaultValue}set(R,A){R<this._startLineNumber||R>this._endLineNumber||(this._values[R-this._startLineNumber]=A)}get(R){return R<this._startLineNumber||R>this._endLineNumber?this._defaultValue:this._values[R-this._startLineNumber]}}(0,d.registerThemingParticipant)((P,R)=>{const A=P.getColor(h.minimapSliderBackground);A&&R.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${A}; }`);const O=P.getColor(h.minimapSliderHoverBackground);O&&R.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${O}; }`);const k=P.getColor(h.minimapSliderActiveBackground);k&&R.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${k}; }`);const V=P.getColor(h.scrollbarShadow);V&&R.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${V} -6px 0 6px -6px inset; }`)})}),define(ee[630],te([0,1,32,51,24,14,362]),function(Q,e,L,N,M,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollDecorationViewPart=void 0;class g extends N.ViewPart{constructor(b){super(b);this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const v=this._context.configuration.options.get(91);this._useShadows=v.useShadows,this._domNode=(0,L.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const b=this._useShadows&&this._scrollTop>0;return this._shouldShow!==b?(this._shouldShow=b,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const p=this._context.configuration.options.get(130);p.minimap.renderMinimap===0||p.minimap.minimapWidth>0&&p.minimap.minimapLeft===0?this._width=p.width:this._width=p.width-p.minimap.minimapWidth-p.verticalScrollbarWidth}onConfigurationChanged(b){const v=this._context.configuration.options.get(91);return this._useShadows=v.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(b){return this._scrollTop=b.scrollTop,this._updateShouldShow()}prepareRender(b){}render(b){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}e.ScrollDecorationViewPart=g,(0,E.registerThemingParticipant)((S,b)=>{const p=S.getColor(M.scrollbarShadow);p&&b.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${p} 0 6px 6px -6px inset; }`)})}),define(ee[631],te([0,1,103,24,14,363]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionsOverlay=void 0;class E{constructor(t){this.left=t.left,this.width=t.width,this.startStyle=null,this.endStyle=null}}class g{constructor(t,a){this.lineNumber=t,this.ranges=a}}function S(i){return new E(i)}function b(i){return new g(i.lineNumber,i.ranges.map(S))}class p extends L.DynamicViewOverlay{constructor(t){super();this._previousFrameVisibleRangesWithStyle=[],this._context=t;const a=this._context.configuration.options;this._lineHeight=a.get(58),this._roundedSelection=a.get(89),this._typicalHalfwidthCharacterWidth=a.get(43).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){const a=this._context.configuration.options;return this._lineHeight=a.get(58),this._roundedSelection=a.get(89),this._typicalHalfwidthCharacterWidth=a.get(43).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(t){return this._selections=t.selections.slice(0),!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged}onZonesChanged(t){return!0}_visibleRangesHaveGaps(t){for(let a=0,l=t.length;a<l;a++)if(t[a].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(t,a,l){const h=this._typicalHalfwidthCharacterWidth/4;let d=null,u=null;if(l&&l.length>0&&a.length>0){const n=a[0].lineNumber;if(n===t.startLineNumber)for(let s=0;!d&&s<l.length;s++)l[s].lineNumber===n&&(d=l[s].ranges[0]);const r=a[a.length-1].lineNumber;if(r===t.endLineNumber)for(let s=l.length-1;!u&&s>=0;s--)l[s].lineNumber===r&&(u=l[s].ranges[0]);d&&!d.startStyle&&(d=null),u&&!u.startStyle&&(u=null)}for(let n=0,r=a.length;n<r;n++){const s=a[n].ranges[0],o=s.left,m=s.left+s.width,_={top:0,bottom:0},f={top:0,bottom:0};if(n>0){const c=a[n-1].ranges[0].left,C=a[n-1].ranges[0].left+a[n-1].ranges[0].width;v(o-c)<h?_.top=2:o>c&&(_.top=1),v(m-C)<h?f.top=2:c<m&&m<C&&(f.top=1)}else d&&(_.top=d.startStyle.top,f.top=d.endStyle.top);if(n+1<r){const c=a[n+1].ranges[0].left,C=a[n+1].ranges[0].left+a[n+1].ranges[0].width;v(o-c)<h?_.bottom=2:c<o&&o<C&&(_.bottom=1),v(m-C)<h?f.bottom=2:m<C&&(f.bottom=1)}else u&&(_.bottom=u.startStyle.bottom,f.bottom=u.endStyle.bottom);s.startStyle=_,s.endStyle=f}}_getVisibleRangesWithStyle(t,a,l){const d=(a.linesVisibleRangesForRange(t,!0)||[]).map(b);return!this._visibleRangesHaveGaps(d)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(a.visibleRange,d,l),d}_createSelectionPiece(t,a,l,h,d){return'<div class="cslr '+l+'" style="top:'+t.toString()+"px;left:"+h.toString()+"px;width:"+d.toString()+"px;height:"+a+'px;"></div>'}_actualRenderOneSelection(t,a,l,h){if(h.length===0)return;const d=!!h[0].ranges[0].startStyle,u=this._lineHeight.toString(),n=(this._lineHeight-1).toString(),r=h[0].lineNumber,s=h[h.length-1].lineNumber;for(let o=0,m=h.length;o<m;o++){const _=h[o],f=_.lineNumber,c=f-a,C=l&&(f===s||f===r)?n:u,y=l&&f===r?1:0;let w="",D="";for(let I=0,T=_.ranges.length;I<T;I++){const F=_.ranges[I];if(d){const R=F.startStyle,A=F.endStyle;if(R.top===1||R.bottom===1){w+=this._createSelectionPiece(y,C,p.SELECTION_CLASS_NAME,F.left-p.ROUNDED_PIECE_WIDTH,p.ROUNDED_PIECE_WIDTH);let O=p.EDITOR_BACKGROUND_CLASS_NAME;R.top===1&&(O+=" "+p.SELECTION_TOP_RIGHT),R.bottom===1&&(O+=" "+p.SELECTION_BOTTOM_RIGHT),w+=this._createSelectionPiece(y,C,O,F.left-p.ROUNDED_PIECE_WIDTH,p.ROUNDED_PIECE_WIDTH)}if(A.top===1||A.bottom===1){w+=this._createSelectionPiece(y,C,p.SELECTION_CLASS_NAME,F.left+F.width,p.ROUNDED_PIECE_WIDTH);let O=p.EDITOR_BACKGROUND_CLASS_NAME;A.top===1&&(O+=" "+p.SELECTION_TOP_LEFT),A.bottom===1&&(O+=" "+p.SELECTION_BOTTOM_LEFT),w+=this._createSelectionPiece(y,C,O,F.left+F.width,p.ROUNDED_PIECE_WIDTH)}}let P=p.SELECTION_CLASS_NAME;if(d){const R=F.startStyle,A=F.endStyle;R.top===0&&(P+=" "+p.SELECTION_TOP_LEFT),R.bottom===0&&(P+=" "+p.SELECTION_BOTTOM_LEFT),A.top===0&&(P+=" "+p.SELECTION_TOP_RIGHT),A.bottom===0&&(P+=" "+p.SELECTION_BOTTOM_RIGHT)}D+=this._createSelectionPiece(y,C,P,F.left,F.width)}t[c][0]+=w,t[c][1]+=D}}prepareRender(t){const a=[],l=t.visibleRange.startLineNumber,h=t.visibleRange.endLineNumber;for(let u=l;u<=h;u++){const n=u-l;a[n]=["",""]}const d=[];for(let u=0,n=this._selections.length;u<n;u++){const r=this._selections[u];if(r.isEmpty()){d[u]=null;continue}const s=this._getVisibleRangesWithStyle(r,t,this._previousFrameVisibleRangesWithStyle[u]);d[u]=s,this._actualRenderOneSelection(a,l,this._selections.length>1,s)}this._previousFrameVisibleRangesWithStyle=d,this._renderResult=a.map(([u,n])=>u+n)}render(t,a){if(!this._renderResult)return"";const l=a-t;return l<0||l>=this._renderResult.length?"":this._renderResult[l]}}e.SelectionsOverlay=p,p.SELECTION_CLASS_NAME="selected-text",p.SELECTION_TOP_LEFT="top-left-radius",p.SELECTION_BOTTOM_LEFT="bottom-left-radius",p.SELECTION_TOP_RIGHT="top-right-radius",p.SELECTION_BOTTOM_RIGHT="bottom-right-radius",p.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",p.ROUNDED_PIECE_WIDTH=10,(0,M.registerThemingParticipant)((i,t)=>{const a=i.getColor(N.editorSelectionBackground);a&&t.addRule(`.monaco-editor .focused .selected-text { background-color: ${a}; }`);const l=i.getColor(N.editorInactiveSelection);l&&t.addRule(`.monaco-editor .selected-text { background-color: ${l}; }`);const h=i.getColor(N.editorSelectionForeground);h&&!h.isTransparent()&&t.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${h}; }`)});function v(i){return i<0?-i:i}}),define(ee[278],te([0,1,18,14,75,124,39]),function(Q,e,L,N,M,E,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toMultilineTokens2=e.SemanticTokensProviderStyling=void 0;let S=class{constructor(t,a,l,h){this._legend=t,this._themeService=a,this._modeService=l,this._logService=h,this._hashTable=new v,this._hasWarnedOverlappingTokens=!1}getMetadata(t,a,l){const h=this._modeService.languageIdCodec.encodeLanguageId(l),d=this._hashTable.get(t,a,h);let u;if(d)u=d.metadata,this._logService.getLevel()===M.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${t} / ${a}: foreground ${L.TokenMetadata.getForeground(u)}, fontStyle ${L.TokenMetadata.getFontStyle(u).toString(2)}`);else{let n=this._legend.tokenTypes[t];const r=[];if(n){let s=a;for(let m=0;s>0&&m<this._legend.tokenModifiers.length;m++)s&1&&r.push(this._legend.tokenModifiers[m]),s=s>>1;s>0&&this._logService.getLevel()===M.LogLevel.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${a.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),r.push("not-in-legend"));const o=this._themeService.getColorTheme().getTokenStyleMetadata(n,r,l);typeof o=="undefined"?u=2147483647:(u=0,typeof o.italic!="undefined"&&(u|=(o.italic?1:0)<<11|1),typeof o.bold!="undefined"&&(u|=(o.bold?2:0)<<11|2),typeof o.underline!="undefined"&&(u|=(o.underline?4:0)<<11|4),o.foreground&&(u|=o.foreground<<14|8),u===0&&(u=2147483647))}else this._logService.getLevel()===M.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${t} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),u=2147483647,n="not-in-legend";this._hashTable.add(t,a,h,u),this._logService.getLevel()===M.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${t} (${n}) / ${a} (${r.join(" ")}): foreground ${L.TokenMetadata.getForeground(u)}, fontStyle ${L.TokenMetadata.getFontStyle(u).toString(2)}`)}return u}warnOverlappingSemanticTokens(t,a){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${t}, column ${a}`))}};S=Ve([Ce(1,N.IThemeService),Ce(2,g.IModeService),Ce(3,M.ILogService)],S),e.SemanticTokensProviderStyling=S;function b(i,t,a){const l=i.data,h=i.data.length/5|0,d=Math.max(Math.ceil(h/1024),400),u=[];let n=0,r=1,s=0;for(;n<h;){const o=n;let m=Math.min(o+d,h);if(m<h){let I=m;for(;I-1>o&&l[5*I]===0;)I--;if(I-1===o){let T=m;for(;T+1<h&&l[5*T]===0;)T++;m=T}else m=I}let _=new Uint32Array((m-o)*4),f=0,c=0,C=0,y=0,w=0;for(;n<m;){const I=5*n,T=l[I],F=l[I+1],P=r+T|0,R=T===0?s+F|0:F,A=l[I+2],O=l[I+3],k=l[I+4],V=t.getMetadata(O,k,a);V!==2147483647&&(c===0&&(c=P),C===P&&w>R&&(t.warnOverlappingSemanticTokens(P,R+1),y<R?_[f-4+2]=R:f-=4),_[f]=P-c,_[f+1]=R,_[f+2]=R+A,_[f+3]=V,f+=4,C=P,y=R,w=R+A),r=P,s=R,n++}f!==_.length&&(_=_.subarray(0,f));const D=new E.MultilineTokens2(c,new E.SparseEncodedTokens(_));u.push(D)}return u}e.toMultilineTokens2=b;class p{constructor(t,a,l,h){this.tokenTypeIndex=t,this.tokenModifierSet=a,this.languageId=l,this.metadata=h,this.next=null}}class v{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=v._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<v._SIZES.length?2/3*this._currentLength:0),this._elements=[],v._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(t,a){for(let l=0;l<a;l++)t[l]=null}_hash2(t,a){return(t<<5)-t+a|0}_hashFunc(t,a,l){return this._hash2(this._hash2(t,a),l)%this._currentLength}get(t,a,l){const h=this._hashFunc(t,a,l);let d=this._elements[h];for(;d;){if(d.tokenTypeIndex===t&&d.tokenModifierSet===a&&d.languageId===l)return d;d=d.next}return null}add(t,a,l,h){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const d=this._elements;this._currentLengthIndex++,this._currentLength=v._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<v._SIZES.length?2/3*this._currentLength:0),this._elements=[],v._nullOutEntries(this._elements,this._currentLength);for(const u of d){let n=u;for(;n;){const r=n.next;n.next=null,this._add(n),n=r}}}this._add(new p(t,a,l,h))}_add(t){const a=this._hashFunc(t.tokenTypeIndex,t.tokenModifierSet,t.languageId);t.next=this._elements[a],this._elements[a]=t}}v._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]}),define(ee[52],te([0,1,498,28,24,14]),function(Q,e,L,N,M,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorUnicodeHighlightBorder=e.editorBracketPairGuideActiveBackground6=e.editorBracketPairGuideActiveBackground5=e.editorBracketPairGuideActiveBackground4=e.editorBracketPairGuideActiveBackground3=e.editorBracketPairGuideActiveBackground2=e.editorBracketPairGuideActiveBackground1=e.editorBracketPairGuideBackground6=e.editorBracketPairGuideBackground5=e.editorBracketPairGuideBackground4=e.editorBracketPairGuideBackground3=e.editorBracketPairGuideBackground2=e.editorBracketPairGuideBackground1=e.editorBracketHighlightingUnexpectedBracketForeground=e.editorBracketHighlightingForeground6=e.editorBracketHighlightingForeground5=e.editorBracketHighlightingForeground4=e.editorBracketHighlightingForeground3=e.editorBracketHighlightingForeground2=e.editorBracketHighlightingForeground1=e.overviewRulerInfo=e.overviewRulerWarning=e.overviewRulerError=e.overviewRulerRangeHighlight=e.ghostTextBackground=e.ghostTextForeground=e.ghostTextBorder=e.editorUnnecessaryCodeOpacity=e.editorUnnecessaryCodeBorder=e.editorGutter=e.editorOverviewRulerBackground=e.editorOverviewRulerBorder=e.editorBracketMatchBorder=e.editorBracketMatchBackground=e.editorCodeLensForeground=e.editorRuler=e.editorActiveLineNumber=e.editorLineNumbers=e.editorActiveIndentGuides=e.editorIndentGuides=e.editorWhitespaces=e.editorCursorBackground=e.editorCursorForeground=e.editorSymbolHighlightBorder=e.editorSymbolHighlight=e.editorRangeHighlightBorder=e.editorRangeHighlight=e.editorLineHighlightBorder=e.editorLineHighlight=void 0,e.editorLineHighlight=(0,M.registerColor)("editor.lineHighlightBackground",{dark:null,light:null,hc:null},L.localize(0,null)),e.editorLineHighlightBorder=(0,M.registerColor)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},L.localize(1,null)),e.editorRangeHighlight=(0,M.registerColor)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},L.localize(2,null),!0),e.editorRangeHighlightBorder=(0,M.registerColor)("editor.rangeHighlightBorder",{dark:null,light:null,hc:M.activeContrastBorder},L.localize(3,null),!0),e.editorSymbolHighlight=(0,M.registerColor)("editor.symbolHighlightBackground",{dark:M.editorFindMatchHighlight,light:M.editorFindMatchHighlight,hc:null},L.localize(4,null),!0),e.editorSymbolHighlightBorder=(0,M.registerColor)("editor.symbolHighlightBorder",{dark:null,light:null,hc:M.activeContrastBorder},L.localize(5,null),!0),e.editorCursorForeground=(0,M.registerColor)("editorCursor.foreground",{dark:"#AEAFAD",light:N.Color.black,hc:N.Color.white},L.localize(6,null)),e.editorCursorBackground=(0,M.registerColor)("editorCursor.background",null,L.localize(7,null)),e.editorWhitespaces=(0,M.registerColor)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},L.localize(8,null)),e.editorIndentGuides=(0,M.registerColor)("editorIndentGuide.background",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hc:e.editorWhitespaces},L.localize(9,null)),e.editorActiveIndentGuides=(0,M.registerColor)("editorIndentGuide.activeBackground",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hc:e.editorWhitespaces},L.localize(10,null)),e.editorLineNumbers=(0,M.registerColor)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:N.Color.white},L.localize(11,null));const g=(0,M.registerColor)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:M.activeContrastBorder},L.localize(12,null),!1,L.localize(13,null));e.editorActiveLineNumber=(0,M.registerColor)("editorLineNumber.activeForeground",{dark:g,light:g,hc:g},L.localize(14,null)),e.editorRuler=(0,M.registerColor)("editorRuler.foreground",{dark:"#5A5A5A",light:N.Color.lightgrey,hc:N.Color.white},L.localize(15,null)),e.editorCodeLensForeground=(0,M.registerColor)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hc:"#999999"},L.localize(16,null)),e.editorBracketMatchBackground=(0,M.registerColor)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},L.localize(17,null)),e.editorBracketMatchBorder=(0,M.registerColor)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:M.contrastBorder},L.localize(18,null)),e.editorOverviewRulerBorder=(0,M.registerColor)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},L.localize(19,null)),e.editorOverviewRulerBackground=(0,M.registerColor)("editorOverviewRuler.background",null,L.localize(20,null)),e.editorGutter=(0,M.registerColor)("editorGutter.background",{dark:M.editorBackground,light:M.editorBackground,hc:M.editorBackground},L.localize(21,null)),e.editorUnnecessaryCodeBorder=(0,M.registerColor)("editorUnnecessaryCode.border",{dark:null,light:null,hc:N.Color.fromHex("#fff").transparent(.8)},L.localize(22,null)),e.editorUnnecessaryCodeOpacity=(0,M.registerColor)("editorUnnecessaryCode.opacity",{dark:N.Color.fromHex("#000a"),light:N.Color.fromHex("#0007"),hc:null},L.localize(23,null)),e.ghostTextBorder=(0,M.registerColor)("editorGhostText.border",{dark:null,light:null,hc:N.Color.fromHex("#fff").transparent(.8)},L.localize(24,null)),e.ghostTextForeground=(0,M.registerColor)("editorGhostText.foreground",{dark:N.Color.fromHex("#ffffff56"),light:N.Color.fromHex("#0007"),hc:null},L.localize(25,null)),e.ghostTextBackground=(0,M.registerColor)("editorGhostText.background",{dark:null,light:null,hc:null},L.localize(26,null));const S=new N.Color(new N.RGBA(0,122,204,.6));e.overviewRulerRangeHighlight=(0,M.registerColor)("editorOverviewRuler.rangeHighlightForeground",{dark:S,light:S,hc:S},L.localize(27,null),!0),e.overviewRulerError=(0,M.registerColor)("editorOverviewRuler.errorForeground",{dark:new N.Color(new N.RGBA(255,18,18,.7)),light:new N.Color(new N.RGBA(255,18,18,.7)),hc:new N.Color(new N.RGBA(255,50,50,1))},L.localize(28,null)),e.overviewRulerWarning=(0,M.registerColor)("editorOverviewRuler.warningForeground",{dark:M.editorWarningForeground,light:M.editorWarningForeground,hc:M.editorWarningBorder},L.localize(29,null)),e.overviewRulerInfo=(0,M.registerColor)("editorOverviewRuler.infoForeground",{dark:M.editorInfoForeground,light:M.editorInfoForeground,hc:M.editorInfoBorder},L.localize(30,null)),e.editorBracketHighlightingForeground1=(0,M.registerColor)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hc:"#FFD700"},L.localize(31,null)),e.editorBracketHighlightingForeground2=(0,M.registerColor)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hc:"#DA70D6"},L.localize(32,null)),e.editorBracketHighlightingForeground3=(0,M.registerColor)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hc:"#87CEFA"},L.localize(33,null)),e.editorBracketHighlightingForeground4=(0,M.registerColor)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},L.localize(34,null)),e.editorBracketHighlightingForeground5=(0,M.registerColor)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},L.localize(35,null)),e.editorBracketHighlightingForeground6=(0,M.registerColor)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},L.localize(36,null)),e.editorBracketHighlightingUnexpectedBracketForeground=(0,M.registerColor)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new N.Color(new N.RGBA(255,18,18,.8)),light:new N.Color(new N.RGBA(255,18,18,.8)),hc:new N.Color(new N.RGBA(255,50,50,1))},L.localize(37,null)),e.editorBracketPairGuideBackground1=(0,M.registerColor)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hc:"#00000000"},L.localize(38,null)),e.editorBracketPairGuideBackground2=(0,M.registerColor)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hc:"#00000000"},L.localize(39,null)),e.editorBracketPairGuideBackground3=(0,M.registerColor)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hc:"#00000000"},L.localize(40,null)),e.editorBracketPairGuideBackground4=(0,M.registerColor)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},L.localize(41,null)),e.editorBracketPairGuideBackground5=(0,M.registerColor)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},L.localize(42,null)),e.editorBracketPairGuideBackground6=(0,M.registerColor)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},L.localize(43,null)),e.editorBracketPairGuideActiveBackground1=(0,M.registerColor)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hc:"#00000000"},L.localize(44,null)),e.editorBracketPairGuideActiveBackground2=(0,M.registerColor)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hc:"#00000000"},L.localize(45,null)),e.editorBracketPairGuideActiveBackground3=(0,M.registerColor)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hc:"#00000000"},L.localize(46,null)),e.editorBracketPairGuideActiveBackground4=(0,M.registerColor)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},L.localize(47,null)),e.editorBracketPairGuideActiveBackground5=(0,M.registerColor)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},L.localize(48,null)),e.editorBracketPairGuideActiveBackground6=(0,M.registerColor)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},L.localize(49,null)),e.editorUnicodeHighlightBorder=(0,M.registerColor)("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hc:"#ff0000"},L.localize(50,null)),(0,E.registerThemingParticipant)((b,p)=>{const v=b.getColor(M.editorBackground);v&&p.addRule(`.monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: ${v}; }`);const i=b.getColor(M.editorForeground);i&&p.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${i}; }`);const t=b.getColor(e.editorGutter);t&&p.addRule(`.monaco-editor .margin { background-color: ${t}; }`);const a=b.getColor(e.editorRangeHighlight);a&&p.addRule(`.monaco-editor .rangeHighlight { background-color: ${a}; }`);const l=b.getColor(e.editorRangeHighlightBorder);l&&p.addRule(`.monaco-editor .rangeHighlight { border: 1px ${b.type==="hc"?"dotted":"solid"} ${l}; }`);const h=b.getColor(e.editorSymbolHighlight);h&&p.addRule(`.monaco-editor .symbolHighlight { background-color: ${h}; }`);const d=b.getColor(e.editorSymbolHighlightBorder);d&&p.addRule(`.monaco-editor .symbolHighlight { border: 1px ${b.type==="hc"?"dotted":"solid"} ${d}; }`);const u=b.getColor(e.editorWhitespaces);u&&(p.addRule(`.monaco-editor .mtkw { color: ${u} !important; }`),p.addRule(`.monaco-editor .mtkz { color: ${u} !important; }`))})}),define(ee[632],te([0,1,103,52,19,14,23,351]),function(Q,e,L,N,M,E,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CurrentLineMarginHighlightOverlay=e.CurrentLineHighlightOverlay=e.AbstractLineHighlightOverlay=void 0;let S=!0;class b extends L.DynamicViewOverlay{constructor(t){super();this._context=t;const a=this._context.configuration.options,l=a.get(130);this._lineHeight=a.get(58),this._renderLineHighlight=a.get(84),this._renderLineHighlightOnlyWhenFocus=a.get(85),this._contentLeft=l.contentLeft,this._contentWidth=l.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new g.Selection(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let t=!1;const a=S?this._selections.slice(0,1):this._selections,l=a.map(d=>d.positionLineNumber);l.sort((d,u)=>d-u),M.equals(this._cursorLineNumbers,l)||(this._cursorLineNumbers=l,t=!0);const h=a.every(d=>d.isEmpty());return this._selectionIsEmpty!==h&&(this._selectionIsEmpty=h,t=!0),t}onThemeChanged(t){return this._readFromSelections()}onConfigurationChanged(t){const a=this._context.configuration.options,l=a.get(130);return this._lineHeight=a.get(58),this._renderLineHighlight=a.get(84),this._renderLineHighlightOnlyWhenFocus=a.get(85),this._contentLeft=l.contentLeft,this._contentWidth=l.contentWidth,!0}onCursorStateChanged(t){return this._selections=t.selections,this._readFromSelections()}onFlushed(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollWidthChanged||t.scrollTopChanged}onZonesChanged(t){return!0}onFocusChanged(t){return this._renderLineHighlightOnlyWhenFocus?(this._focused=t.isFocused,!0):!1}prepareRender(t){if(!this._shouldRenderThis()){this._renderData=null;return}const a=this._renderOne(t),l=t.visibleRange.startLineNumber,h=t.visibleRange.endLineNumber,d=this._cursorLineNumbers.length;let u=0;const n=[];for(let r=l;r<=h;r++){const s=r-l;for(;u<d&&this._cursorLineNumbers[u]<r;)u++;u<d&&this._cursorLineNumbers[u]===r?n[s]=a:n[s]=""}this._renderData=n}render(t,a){if(!this._renderData)return"";const l=a-t;return l>=this._renderData.length?"":this._renderData[l]}}e.AbstractLineHighlightOverlay=b;class p extends b{_renderOne(t){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(t.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderOther(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}e.CurrentLineHighlightOverlay=p;class v extends b{_renderOne(t){return`<div class="${"current-line"+(this._shouldRenderMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderThis(){return!0}_shouldRenderOther(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}e.CurrentLineMarginHighlightOverlay=v,(0,E.registerThemingParticipant)((i,t)=>{S=!1;const a=i.getColor(N.editorLineHighlight);if(a&&(t.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${a}; }`),t.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${a}; border: none; }`)),!a||a.isTransparent()||i.defines(N.editorLineHighlightBorder)){const l=i.getColor(N.editorLineHighlightBorder);l&&(S=!0,t.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${l}; }`),t.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${l}; }`),i.type==="hc"&&(t.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),t.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}})}),define(ee[279],te([0,1,15,103,13,52,14,355]),function(Q,e,L,N,M,E,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineNumbersOverlay=void 0;class S extends N.DynamicViewOverlay{constructor(p){super();this._context=p,this._readConfig(),this._lastCursorModelPosition=new M.Position(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const p=this._context.configuration.options;this._lineHeight=p.get(58);const v=p.get(59);this._renderLineNumbers=v.renderType,this._renderCustomLineNumbers=v.renderFn,this._renderFinalNewline=p.get(83);const i=p.get(130);this._lineNumbersLeft=i.lineNumbersLeft,this._lineNumbersWidth=i.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(p){return this._readConfig(),!0}onCursorStateChanged(p){const v=p.selections[0].getPosition();this._lastCursorModelPosition=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(v);let i=!1;return this._activeLineNumber!==v.lineNumber&&(this._activeLineNumber=v.lineNumber,i=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(i=!0),i}onFlushed(p){return!0}onLinesChanged(p){return!0}onLinesDeleted(p){return!0}onLinesInserted(p){return!0}onScrollChanged(p){return p.scrollTopChanged}onZonesChanged(p){return!0}_getLineRenderLineNumber(p){const v=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new M.Position(p,1));if(v.column!==1)return"";const i=v.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(i);if(this._renderLineNumbers===2){const t=Math.abs(this._lastCursorModelPosition.lineNumber-i);return t===0?'<span class="relative-current-line-number">'+i+"</span>":String(t)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===i||i%10==0?String(i):"":String(i)}prepareRender(p){if(this._renderLineNumbers===0){this._renderResult=null;return}const v=L.isLinux?this._lineHeight%2==0?" lh-even":" lh-odd":"",i=p.visibleRange.startLineNumber,t=p.visibleRange.endLineNumber,a='<div class="'+S.CLASS_NAME+v+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">',l=this._context.model.getLineCount(),h=[];for(let d=i;d<=t;d++){const u=d-i;if(!this._renderFinalNewline&&d===l&&this._context.model.getLineLength(d)===0){h[u]="";continue}const n=this._getLineRenderLineNumber(d);n?d===this._activeLineNumber?h[u]='<div class="active-line-number '+S.CLASS_NAME+v+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+n+"</div>":h[u]=a+n+"</div>":h[u]=""}this._renderResult=h}render(p,v){if(!this._renderResult)return"";const i=v-p;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}e.LineNumbersOverlay=S,S.CLASS_NAME="line-numbers",(0,g.registerThemingParticipant)((b,p)=>{const v=b.getColor(E.editorLineNumbers);v&&p.addRule(`.monaco-editor .line-numbers { color: ${v}; }`);const i=b.getColor(E.editorActiveLineNumber);i&&p.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${i}; }`)})}),define(ee[633],te([0,1,483,36,32,15,8,63,176,231,51,279,243,29,114,13,3,23,142,350]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaHandler=void 0;class r{constructor(C,y,w){this._visibleTextAreaBrand=void 0,this.top=C,this.left=y,this.width=w}setWidth(C){return new r(this.top,this.left,C)}}const s=N.isFirefox;class o extends v.ViewPart{constructor(C,y,w){super(C);this._primaryCursorPosition=new h.Position(1,1),this._primaryCursorVisibleRange=null,this._viewController=y,this._viewHelper=w,this._scrollLeft=0,this._scrollTop=0;const D=this._context.configuration.options,I=D.get(130);this._setAccessibilityOptions(D),this._contentLeft=I.contentLeft,this._contentWidth=I.contentWidth,this._contentHeight=I.height,this._fontInfo=D.get(43),this._lineHeight=D.get(58),this._emptySelectionClipboard=D.get(32),this._copyWithSyntaxHighlighting=D.get(21),this._visibleTextArea=null,this._selections=[new u.Selection(1,1,1,1)],this._modelSelections=[new u.Selection(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,M.createFastDomNode)(document.createElement("textarea")),v.PartFingerprints.write(this.textArea,6),this.textArea.setClassName(`inputarea ${n.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(D)),this.textArea.setAttribute("tabindex",String(D.get(111))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",L.localize(0,null)),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),D.get(30)&&D.get(80)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=(0,M.createFastDomNode)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const T={getLineCount:()=>this._context.model.getLineCount(),getLineMaxColumn:R=>this._context.model.getLineMaxColumn(R),getValueInRange:(R,A)=>this._context.model.getValueInRange(R,A)},F={getDataToCopy:R=>{const A=this._context.model.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,E.isWindows),O=this._context.model.getEOL(),k=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),V=Array.isArray(A)?A:null,B=Array.isArray(A)?A.join(O):A;let x,K=null;if(R&&(b.CopyOptions.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&B.length<65536)){const X=this._context.model.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);X&&(x=X.html,K=X.mode)}return{isFromEmptySelection:k,multicursorText:V,text:B,html:x,mode:K}},getScreenReaderContent:R=>{if(this._accessibilitySupport===1){if(E.isMacintosh){const A=this._selections[0];if(A.isEmpty()){const O=A.getStartPosition();let k=this._getWordBeforePosition(O);if(k.length===0&&(k=this._getCharacterBeforePosition(O)),k.length>0)return new p.TextAreaState(k,k.length,k.length,O,O)}}return p.TextAreaState.EMPTY}if(N.isAndroid){const A=this._selections[0];if(A.isEmpty()){const O=A.getStartPosition(),[k,V]=this._getAndroidWordAtPosition(O);if(k.length>0)return new p.TextAreaState(k,V,V,O,O)}return p.TextAreaState.EMPTY}return p.PagedScreenReaderStrategy.fromEditorSelection(R,T,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(R,A,O)=>this._context.model.deduceModelPositionRelativeToViewPosition(R,A,O)},P=this._register(new b.TextAreaWrapper(this.textArea.domNode));this._textAreaInput=this._register(new b.TextAreaInput(F,P,E.OS,N)),this._register(this._textAreaInput.onKeyDown(R=>{this._viewController.emitKeyDown(R)})),this._register(this._textAreaInput.onKeyUp(R=>{this._viewController.emitKeyUp(R)})),this._register(this._textAreaInput.onPaste(R=>{let A=!1,O=null,k=null;R.metadata&&(A=this._emptySelectionClipboard&&!!R.metadata.isFromEmptySelection,O=typeof R.metadata.multicursorText!="undefined"?R.metadata.multicursorText:null,k=R.metadata.mode),this._viewController.paste(R.text,A,O,k)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(R=>{R.replacePrevCharCnt||R.replaceNextCharCnt||R.positionDelta?(p._debugComposition&&console.log(` => compositionType: <<${R.text}>>, ${R.replacePrevCharCnt}, ${R.replaceNextCharCnt}, ${R.positionDelta}`),this._viewController.compositionType(R.text,R.replacePrevCharCnt,R.replaceNextCharCnt,R.positionDelta)):(p._debugComposition&&console.log(` => type: <<${R.text}>>`),this._viewController.type(R.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(R=>{this._viewController.setSelection(R)})),this._register(this._textAreaInput.onCompositionStart(R=>{const A=this._selections[0].startLineNumber,O=this._selections[0].startColumn+R.revealDeltaColumns;this._context.model.revealRange("keyboard",!0,new d.Range(A,O,A,O),0,1);const k=this._viewHelper.visibleRangeForPositionRelativeToEditor(A,O);k&&(this._visibleTextArea=new r(this._context.viewLayout.getVerticalOffsetForLineNumber(A),k.left,s?0:1),this.textArea.domNode.scrollLeft=0,this._render()),this.textArea.setClassName(`inputarea ${n.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ime-input`),this._viewController.compositionStart(),this._context.model.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(R=>{!this._visibleTextArea||(this._visibleTextArea=this._visibleTextArea.setWidth(m(R.data,this._fontInfo)),this.textArea.domNode.scrollLeft=0,this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName(`inputarea ${n.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._viewController.compositionEnd(),this._context.model.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.model.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.model.setHasFocus(!1)}))}dispose(){super.dispose()}_getAndroidWordAtPosition(C){const y='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',w=this._context.model.getLineContent(C.lineNumber),D=(0,l.getMapForWordSeparators)(y);let I=!0,T=C.column,F=!0,P=C.column,R=0;for(;R<50&&(I||F);){if(I&&T<=1&&(I=!1),I){const A=w.charCodeAt(T-2);D.get(A)!==0?I=!1:T--}if(F&&P>w.length&&(F=!1),F){const A=w.charCodeAt(P-1);D.get(A)!==0?F=!1:P++}R++}return[w.substring(T-1,P-1),C.column-T]}_getWordBeforePosition(C){const y=this._context.model.getLineContent(C.lineNumber),w=(0,l.getMapForWordSeparators)(this._context.configuration.options.get(116));let D=C.column,I=0;for(;D>1;){const T=y.charCodeAt(D-2);if(w.get(T)!==0||I>50)return y.substring(D-1,C.column-1);I++,D--}return y.substring(0,C.column-1)}_getCharacterBeforePosition(C){if(C.column>1){const w=this._context.model.getLineContent(C.lineNumber).charAt(C.column-2);if(!g.isHighSurrogate(w.charCodeAt(0)))return w}return""}_getAriaLabel(C){return C.get(2)===1?L.localize(1,null,E.isLinux?"Shift+Alt+F1":"Alt+F1"):C.get(4)}_setAccessibilityOptions(C){this._accessibilitySupport=C.get(2);const y=C.get(3);this._accessibilitySupport===2&&y===a.EditorOptions.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=y}onConfigurationChanged(C){const y=this._context.configuration.options,w=y.get(130);return this._setAccessibilityOptions(y),this._contentLeft=w.contentLeft,this._contentWidth=w.contentWidth,this._contentHeight=w.height,this._fontInfo=y.get(43),this._lineHeight=y.get(58),this._emptySelectionClipboard=y.get(32),this._copyWithSyntaxHighlighting=y.get(21),this.textArea.setAttribute("aria-label",this._getAriaLabel(y)),this.textArea.setAttribute("tabindex",String(y.get(111))),(C.hasChanged(30)||C.hasChanged(80))&&(y.get(30)&&y.get(80)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),C.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(C){return this._selections=C.selections.slice(0),this._modelSelections=C.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(C){return!0}onFlushed(C){return!0}onLinesChanged(C){return!0}onLinesDeleted(C){return!0}onLinesInserted(C){return!0}onScrollChanged(C){return this._scrollLeft=C.scrollLeft,this._scrollTop=C.scrollTop,!0}onZonesChanged(C){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}refreshFocusState(){this._textAreaInput.refreshFocusState()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(C){C.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",C.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),C.role&&this.textArea.setAttribute("role",C.role)}prepareRender(C){this._primaryCursorPosition=new h.Position(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=C.visibleRangeForPosition(this._primaryCursorPosition)}render(C){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea){this._renderInsideEditor(null,this._visibleTextArea.top-this._scrollTop,this._contentLeft+this._visibleTextArea.left-this._scrollLeft,this._visibleTextArea.width,this._lineHeight);return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const C=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(C<this._contentLeft||C>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const y=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(y<0||y>this._contentHeight){this._renderAtTopLeft();return}if(E.isMacintosh){this._renderInsideEditor(this._primaryCursorPosition,y,C,s?0:1,this._lineHeight),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const w=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=w*this._lineHeight;return}this._renderInsideEditor(this._primaryCursorPosition,y,C,s?0:1,s?0:1)}_newlinecount(C){let y=0,w=-1;do{if(w=C.indexOf(`
`,w+1),w===-1)break;y++}while(!0);return y}_renderInsideEditor(C,y,w,D,I){this._lastRenderPosition=C;const T=this.textArea,F=this.textAreaCover;S.Configuration.applyFontInfo(T,this._fontInfo),T.setTop(y),T.setLeft(w),T.setWidth(D),T.setHeight(I),F.setTop(0),F.setLeft(0),F.setWidth(0),F.setHeight(0)}_renderAtTopLeft(){this._lastRenderPosition=null;const C=this.textArea,y=this.textAreaCover;if(S.Configuration.applyFontInfo(C,this._fontInfo),C.setTop(0),C.setLeft(0),y.setTop(0),y.setLeft(0),s){C.setWidth(0),C.setHeight(0),y.setWidth(0),y.setHeight(0);return}C.setWidth(1),C.setHeight(1),y.setWidth(1),y.setHeight(1);const w=this._context.configuration.options;w.get(49)?y.setClassName("monaco-editor-background textAreaCover "+t.Margin.OUTER_CLASS_NAME):w.get(59).renderType!==0?y.setClassName("monaco-editor-background textAreaCover "+i.LineNumbersOverlay.CLASS_NAME):y.setClassName("monaco-editor-background textAreaCover")}}e.TextAreaHandler=o;function m(c,C){const w=document.createElement("canvas").getContext("2d");w.font=_(C);const D=w.measureText(c);return N.isFirefox?D.width+2:D.width}function _(c){return f("normal",c.fontWeight,c.fontSize,c.lineHeight,c.fontFamily)}function f(c,C,y,w,D){return`${c} normal ${C} ${y}px / ${w}px ${D}`}}),define(ee[634],te([0,1,32,28,51,13,18,52,65]),function(Q,e,L,N,M,E,g,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverviewRuler=void 0;class p{constructor(t,a){const l=t.options;this.lineHeight=l.get(58),this.pixelRatio=l.get(128),this.overviewRulerLanes=l.get(73),this.renderBorder=l.get(72);const h=a.getColor(S.editorOverviewRulerBorder);this.borderColor=h?h.toString():null,this.hideCursor=l.get(51);const d=a.getColor(S.editorCursorForeground);this.cursorColor=d?d.transparent(.7).toString():null,this.themeType=a.type;const u=l.get(64),n=u.enabled,r=u.side,s=n?a.getColor(S.editorOverviewRulerBackground)||g.TokenizationRegistry.getDefaultBackground():null;s===null||r==="left"?this.backgroundColor=null:this.backgroundColor=N.Color.Format.CSS.formatHex(s);const m=l.get(130).overviewRuler;this.top=m.top,this.right=m.right,this.domWidth=m.width,this.domHeight=m.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[_,f]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=_,this.w=f}_initLanes(t,a,l){const h=a-t;if(l>=3){const d=Math.floor(h/3),u=Math.floor(h/3),n=h-d-u,r=t,s=r+d,o=r+d+n;return[[0,r,s,r,o,r,s,r],[0,d,n,d+n,u,d+n+u,n+u,d+n+u]]}else if(l===2){const d=Math.floor(h/2),u=h-d,n=t,r=n+d;return[[0,n,n,n,r,n,n,n],[0,d,d,d,u,d+u,d+u,d+u]]}else{const d=t,u=h;return[[0,d,d,d,d,d,d,d],[0,u,u,u,u,u,u,u]]}}equals(t){return this.lineHeight===t.lineHeight&&this.pixelRatio===t.pixelRatio&&this.overviewRulerLanes===t.overviewRulerLanes&&this.renderBorder===t.renderBorder&&this.borderColor===t.borderColor&&this.hideCursor===t.hideCursor&&this.cursorColor===t.cursorColor&&this.themeType===t.themeType&&this.backgroundColor===t.backgroundColor&&this.top===t.top&&this.right===t.right&&this.domWidth===t.domWidth&&this.domHeight===t.domHeight&&this.canvasWidth===t.canvasWidth&&this.canvasHeight===t.canvasHeight}}class v extends M.ViewPart{constructor(t){super(t);this._domNode=(0,L.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=g.TokenizationRegistry.onDidChange(a=>{a.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(t){const a=new p(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(a)?!1:(this._settings=a,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,t&&this._render(),!0)}onConfigurationChanged(t){return this._updateSettings(!1)}onCursorStateChanged(t){this._cursorPositions=[];for(let a=0,l=t.selections.length;a<l;a++)this._cursorPositions[a]=t.selections[a].getPosition();return this._cursorPositions.sort(E.Position.compare),!0}onDecorationsChanged(t){return!!t.affectsOverviewRuler}onFlushed(t){return!0}onScrollChanged(t){return t.scrollHeightChanged}onZonesChanged(t){return!0}onThemeChanged(t){return this._context.model.invalidateOverviewRulerColorCache(),this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(t){}render(t){this._render()}_render(){if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:"");return}const t=this._settings.canvasWidth,a=this._settings.canvasHeight,l=this._settings.lineHeight,h=this._context.viewLayout,d=this._context.viewLayout.getScrollHeight(),u=a/d,n=this._context.model.getAllOverviewRulerDecorations(this._context.theme),r=6*this._settings.pixelRatio|0,s=r/2|0,o=this._domNode.domNode.getContext("2d");this._settings.backgroundColor===null?o.clearRect(0,0,t,a):(o.fillStyle=this._settings.backgroundColor,o.fillRect(0,0,t,a));const m=this._settings.x,_=this._settings.w;n.sort(b.OverviewRulerDecorationsGroup.cmp);for(const f of n){const c=f.color,C=f.data;o.fillStyle=c;let y=0,w=0,D=0;for(let I=0,T=C.length/3;I<T;I++){const F=C[3*I],P=C[3*I+1],R=C[3*I+2];let A=h.getVerticalOffsetForLineNumber(P)*u|0,O=(h.getVerticalOffsetForLineNumber(R)+l)*u|0;if(O-A<r){let V=(A+O)/2|0;V<s?V=s:V+s>a&&(V=a-s),A=V-s,O=V+s}A>D+1||F!==y?(I!==0&&o.fillRect(m[y],w,_[y],D-w),y=F,w=A,D=O):O>D&&(D=O)}o.fillRect(m[y],w,_[y],D-w)}if(!this._settings.hideCursor&&this._settings.cursorColor){const f=2*this._settings.pixelRatio|0,c=f/2|0,C=this._settings.x[7],y=this._settings.w[7];o.fillStyle=this._settings.cursorColor;let w=-100,D=-100;for(let I=0,T=this._cursorPositions.length;I<T;I++){const F=this._cursorPositions[I];let P=h.getVerticalOffsetForLineNumber(F.lineNumber)*u|0;P<c?P=c:P+c>a&&(P=a-c);const R=P-c,A=R+f;R>D+1?(I!==0&&o.fillRect(C,w,y,D-w),w=R,D=A):A>D&&(D=A)}o.fillRect(C,w,y,D-w)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(o.beginPath(),o.lineWidth=1,o.strokeStyle=this._settings.borderColor,o.moveTo(0,0),o.lineTo(0,a),o.stroke(),o.moveTo(0,0),o.lineTo(t,0),o.stroke())}}e.DecorationsOverviewRuler=v}),define(ee[635],te([0,1,32,51,52,14,361]),function(Q,e,L,N,M,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rulers=void 0;class g extends N.ViewPart{constructor(b){super(b);this.domNode=(0,L.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const p=this._context.configuration.options;this._rulers=p.get(90),this._typicalHalfwidthCharacterWidth=p.get(43).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(b){const p=this._context.configuration.options;return this._rulers=p.get(90),this._typicalHalfwidthCharacterWidth=p.get(43).typicalHalfwidthCharacterWidth,!0}onScrollChanged(b){return b.scrollHeightChanged}prepareRender(b){}_ensureRulersCount(){const b=this._renderedRulers.length,p=this._rulers.length;if(b===p)return;if(b<p){const{tabSize:i}=this._context.model.getTextModelOptions(),t=i;let a=p-b;for(;a>0;){const l=(0,L.createFastDomNode)(document.createElement("div"));l.setClassName("view-ruler"),l.setWidth(t),this.domNode.appendChild(l),this._renderedRulers.push(l),a--}return}let v=b-p;for(;v>0;){const i=this._renderedRulers.pop();this.domNode.removeChild(i),v--}}render(b){this._ensureRulersCount();for(let p=0,v=this._rulers.length;p<v;p++){const i=this._renderedRulers[p],t=this._rulers[p];i.setBoxShadow(t.color?`1px 0 0 0 ${t.color} inset`:""),i.setHeight(Math.min(b.scrollHeight,1e6)),i.setLeft(t.column*this._typicalHalfwidthCharacterWidth)}}}e.Rulers=g,(0,E.registerThemingParticipant)((S,b)=>{const p=S.getColor(M.editorRuler);p&&b.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${p} inset; }`)})}),define(ee[636],te([0,1,32,10,51,611,29,52,14,364]),function(Q,e,L,N,M,E,g,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursors=void 0;class p extends M.ViewPart{constructor(i){super(i);const t=this._context.configuration.options;this._readOnly=t.get(80),this._cursorBlinking=t.get(22),this._cursorStyle=t.get(24),this._cursorSmoothCaretAnimation=t.get(23),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new E.ViewCursor(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,L.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new N.TimeoutTimer,this._cursorFlatBlinkInterval=new N.IntervalTimer,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(i){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(i){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(i){const t=this._context.configuration.options;this._readOnly=t.get(80),this._cursorBlinking=t.get(22),this._cursorStyle=t.get(24),this._cursorSmoothCaretAnimation=t.get(23),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(i);for(let a=0,l=this._secondaryCursors.length;a<l;a++)this._secondaryCursors[a].onConfigurationChanged(i);return!0}_onCursorPositionChanged(i,t){if(this._primaryCursor.onCursorPositionChanged(i),this._updateBlinking(),this._secondaryCursors.length<t.length){const a=t.length-this._secondaryCursors.length;for(let l=0;l<a;l++){const h=new E.ViewCursor(this._context);this._domNode.domNode.insertBefore(h.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(h)}}else if(this._secondaryCursors.length>t.length){const a=this._secondaryCursors.length-t.length;for(let l=0;l<a;l++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let a=0;a<t.length;a++)this._secondaryCursors[a].onCursorPositionChanged(t[a])}onCursorStateChanged(i){const t=[];for(let l=0,h=i.selections.length;l<h;l++)t[l]=i.selections[l].getPosition();this._onCursorPositionChanged(t[0],t.slice(1));const a=i.selections[0].isEmpty();return this._selectionIsEmpty!==a&&(this._selectionIsEmpty=a,this._updateDomClassName()),!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onFocusChanged(i){return this._editorHasFocus=i.isFocused,this._updateBlinking(),!1}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return!0}onTokensChanged(i){const t=a=>{for(let l=0,h=i.ranges.length;l<h;l++)if(i.ranges[l].fromLineNumber<=a.lineNumber&&a.lineNumber<=i.ranges[l].toLineNumber)return!0;return!1};if(t(this._primaryCursor.getPosition()))return!0;for(const a of this._secondaryCursors)if(t(a.getPosition()))return!0;return!1}onZonesChanged(i){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const i=this._getCursorBlinking(),t=i===0,a=i===5;t?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!t&&!a&&(i===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},p.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},p.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let i="cursors-layer";switch(this._selectionIsEmpty||(i+=" has-selection"),this._cursorStyle){case g.TextEditorCursorStyle.Line:i+=" cursor-line-style";break;case g.TextEditorCursorStyle.Block:i+=" cursor-block-style";break;case g.TextEditorCursorStyle.Underline:i+=" cursor-underline-style";break;case g.TextEditorCursorStyle.LineThin:i+=" cursor-line-thin-style";break;case g.TextEditorCursorStyle.BlockOutline:i+=" cursor-block-outline-style";break;case g.TextEditorCursorStyle.UnderlineThin:i+=" cursor-underline-thin-style";break;default:i+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:i+=" cursor-blink";break;case 2:i+=" cursor-smooth";break;case 3:i+=" cursor-phase";break;case 4:i+=" cursor-expand";break;case 5:i+=" cursor-solid";break;default:i+=" cursor-solid"}else i+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(i+=" cursor-smooth-caret-animation"),i}_show(){this._primaryCursor.show();for(let i=0,t=this._secondaryCursors.length;i<t;i++)this._secondaryCursors[i].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let i=0,t=this._secondaryCursors.length;i<t;i++)this._secondaryCursors[i].hide();this._isVisible=!1}prepareRender(i){this._primaryCursor.prepareRender(i);for(let t=0,a=this._secondaryCursors.length;t<a;t++)this._secondaryCursors[t].prepareRender(i)}render(i){let t=[],a=0;const l=this._primaryCursor.render(i);l&&(t[a++]=l);for(let h=0,d=this._secondaryCursors.length;h<d;h++){const u=this._secondaryCursors[h].render(i);u&&(t[a++]=u)}this._renderData=t}getLastRenderData(){return this._renderData}}e.ViewCursors=p,p.BLINK_INTERVAL=500,(0,b.registerThemingParticipant)((v,i)=>{const t=v.getColor(S.editorCursorForeground);if(t){let a=v.getColor(S.editorCursorBackground);a||(a=t.opposite()),i.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${t}; border-color: ${t}; color: ${a}; }`),v.type==="hc"&&i.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${a}; border-right: 1px solid ${a}; }`)}})}),define(ee[637],te([0,1,4,2,3,52,14]),function(Q,e,L,N,M,E,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorizedBracketPairsDecorationProvider=void 0;class S extends N.Disposable{constructor(v){super();this.textModel=v,this.colorProvider=new b,this.onDidChangeEmitter=new L.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=v.getOptions().bracketPairColorizationOptions,this._register(v.onDidChangeOptions(i=>{this.colorizationOptions=v.getOptions().bracketPairColorizationOptions})),this._register(v.bracketPairs.onDidChange(i=>{this.onDidChangeEmitter.fire()}))}getDecorationsInRange(v,i,t){if(i===void 0)return[];if(!this.colorizationOptions.enabled)return[];const a=new Array,l=this.textModel.bracketPairs.getBracketsInRange(v);for(const h of l)a.push({id:`bracket${h.range.toString()}-${h.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(h)},ownerId:0,range:h.range});return a}getAllDecorations(v,i){return v===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new M.Range(1,1,this.textModel.getLineCount(),1),v,i):[]}}e.ColorizedBracketPairsDecorationProvider=S;class b{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(v){return v.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(v.nestingLevel)}getInlineClassNameOfLevel(v){return`bracket-highlighting-${v%30}`}}(0,g.registerThemingParticipant)((p,v)=>{const i=[E.editorBracketHighlightingForeground1,E.editorBracketHighlightingForeground2,E.editorBracketHighlightingForeground3,E.editorBracketHighlightingForeground4,E.editorBracketHighlightingForeground5,E.editorBracketHighlightingForeground6],t=new b;v.addRule(`.monaco-editor .${t.unexpectedClosingBracketClassName} { color: ${p.getColor(E.editorBracketHighlightingUnexpectedBracketForeground)}; }`);let a=i.map(l=>p.getColor(l)).filter(l=>!!l).filter(l=>!l.isTransparent());for(let l=0;l<30;l++){const h=a[l%a.length];v.addRule(`.monaco-editor .${t.getInlineClassNameOfLevel(l)} { color: ${h}; }`)}})}),define(ee[638],te([0,1,93,2,49,14,52,47,3,42,4,24,48]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsService=void 0;class a extends N.Disposable{constructor(d){super();this.model=d,this._markersData=new Map,this._register((0,N.toDisposable)(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(d,u){const n=[...this._markersData.keys()];this._markersData.clear();const r=this.model.deltaDecorations(n,u);for(let s=0;s<r.length;s++)this._markersData.set(r[s],d[s]);return n.length!==0||r.length!==0}getMarker(d){return this._markersData.get(d.id)}getMarkers(){const d=[];return this._markersData.forEach((u,n)=>{let r=this.model.getDecorationRange(n);r&&d.push([r,u])}),d}}let l=class extends N.Disposable{constructor(d,u){super();this._markerService=u,this._onDidChangeMarker=this._register(new v.Emitter),this.onDidChangeMarker=this._onDidChangeMarker.event,this._markerDecorations=new t.ResourceMap,d.getModels().forEach(n=>this._onModelAdded(n)),this._register(d.onModelAdded(this._onModelAdded,this)),this._register(d.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(d=>d.dispose()),this._markerDecorations.clear()}getMarker(d,u){const n=this._markerDecorations.get(d);return n&&n.getMarker(u)||null}getLiveMarkers(d){const u=this._markerDecorations.get(d);return u?u.getMarkers():[]}_handleMarkerChange(d){d.forEach(u=>{const n=this._markerDecorations.get(u);n&&this._updateDecorations(n)})}_onModelAdded(d){const u=new a(d);this._markerDecorations.set(d.uri,u),this._updateDecorations(u)}_onModelRemoved(d){const u=this._markerDecorations.get(d.uri);u&&(u.dispose(),this._markerDecorations.delete(d.uri)),(d.uri.scheme===p.Schemas.inMemory||d.uri.scheme===p.Schemas.internal||d.uri.scheme===p.Schemas.vscode)&&this._markerService&&this._markerService.read({resource:d.uri}).map(n=>n.owner).forEach(n=>this._markerService.remove(n,[d.uri]))}_updateDecorations(d){const u=this._markerService.read({resource:d.model.uri,take:500});let n=u.map(r=>({range:this._createDecorationRange(d.model,r),options:this._createDecorationOption(r)}));d.update(u,n)&&this._onDidChangeMarker.fire(d.model)}_createDecorationRange(d,u){let n=b.Range.lift(u);return u.severity===L.MarkerSeverity.Hint&&!this._hasMarkerTag(u,1)&&!this._hasMarkerTag(u,2)&&(n=n.setEndPosition(n.startLineNumber,n.startColumn+2)),d.validateRange(n)}_createDecorationOption(d){let u,n,r,s,o;switch(d.severity){case L.MarkerSeverity.Hint:this._hasMarkerTag(d,2)?u=void 0:this._hasMarkerTag(d,1)?u="squiggly-unnecessary":u="squiggly-hint",r=0;break;case L.MarkerSeverity.Warning:u="squiggly-warning",n=(0,E.themeColorFromId)(g.overviewRulerWarning),r=20,o={color:(0,E.themeColorFromId)(i.minimapWarning),position:M.MinimapPosition.Inline};break;case L.MarkerSeverity.Info:u="squiggly-info",n=(0,E.themeColorFromId)(g.overviewRulerInfo),r=10;break;case L.MarkerSeverity.Error:default:u="squiggly-error",n=(0,E.themeColorFromId)(g.overviewRulerError),r=30,o={color:(0,E.themeColorFromId)(i.minimapError),position:M.MinimapPosition.Inline};break}return d.tags&&(d.tags.indexOf(1)!==-1&&(s="squiggly-inline-unnecessary"),d.tags.indexOf(2)!==-1&&(s="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:u,showIfCollapsed:!0,overviewRuler:{color:n,position:M.OverviewRulerLane.Right},minimap:o,zIndex:r,inlineClassName:s}}_hasMarkerTag(d,u){return d.tags?d.tags.indexOf(u)>=0:!1}};l=Ve([Ce(0,S.IModelService),Ce(1,L.IMarkerService)],l),e.MarkerDecorationsService=l}),define(ee[639],te([0,1,36,7,99,53,28,4,2,507,24,14,372]),function(Q,e,L,N,M,E,g,S,b,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerWidget=e.ColorPickerBody=e.ColorPickerHeader=void 0;const t=N.$;class a extends b.Disposable{constructor(o,m,_){super();this.model=m,this.domNode=t(".colorpicker-header"),N.append(o,this.domNode),this.pickedColorNode=N.append(this.domNode,t(".picked-color"));const f=(0,p.localize)(0,null);this.pickedColorNode.setAttribute("title",f);const c=N.append(this.domNode,t(".original-color"));c.style.backgroundColor=g.Color.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=_.getColorTheme().getColor(v.editorHoverBackground)||g.Color.white,this._register((0,i.registerThemingParticipant)((C,y)=>{this.backgroundColor=C.getColor(v.editorHoverBackground)||g.Color.white})),this._register(N.addDisposableListener(this.pickedColorNode,N.EventType.CLICK,()=>this.model.selectNextColorPresentation())),this._register(N.addDisposableListener(c,N.EventType.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(m.onDidChangeColor(this.onDidChangeColor,this)),this._register(m.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=g.Color.Format.CSS.format(m.color)||"",this.pickedColorNode.classList.toggle("light",m.color.rgba.a<.5?this.backgroundColor.isLighter():m.color.isLighter()),this.onDidChangeColor(this.model.color)}onDidChangeColor(o){this.pickedColorNode.style.backgroundColor=g.Color.Format.CSS.format(o)||"",this.pickedColorNode.classList.toggle("light",o.rgba.a<.5?this.backgroundColor.isLighter():o.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:"",this.pickedColorNode.prepend(t(".codicon.codicon-color-mode"))}}e.ColorPickerHeader=a;class l extends b.Disposable{constructor(o,m,_){super();this.model=m,this.pixelRatio=_,this.domNode=t(".colorpicker-body"),N.append(o,this.domNode),this.saturationBox=new h(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new u(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new n(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:o,v:m}){const _=this.model.color.hsva;this.model.color=new g.Color(new g.HSVA(_.h,o,m,_.a))}onDidOpacityChange(o){const m=this.model.color.hsva;this.model.color=new g.Color(new g.HSVA(m.h,m.s,m.v,o))}onDidHueChange(o){const m=this.model.color.hsva,_=(1-o)*360;this.model.color=new g.Color(new g.HSVA(_===360?0:_,m.s,m.v,m.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}e.ColorPickerBody=l;class h extends b.Disposable{constructor(o,m,_){super();this.model=m,this.pixelRatio=_,this._onDidChange=new S.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new S.Emitter,this.onColorFlushed=this._onColorFlushed.event,this.domNode=t(".saturation-wrap"),N.append(o,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",N.append(this.domNode,this.canvas),this.selection=t(".saturation-selection"),N.append(this.domNode,this.selection),this.layout(),this._register(N.addDisposableGenericMouseDownListner(this.domNode,f=>this.onMouseDown(f))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onMouseDown(o){this.monitor=this._register(new M.GlobalMouseMoveMonitor);const m=N.getDomNodePagePosition(this.domNode);o.target!==this.selection&&this.onDidChangePosition(o.offsetX,o.offsetY),this.monitor.startMonitoring(o.target,o.buttons,M.standardMouseMoveMerger,f=>this.onDidChangePosition(f.posx-m.left,f.posy-m.top),()=>null);const _=N.addDisposableGenericMouseUpListner(document,()=>{this._onColorFlushed.fire(),_.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(o,m){const _=Math.max(0,Math.min(1,o/this.width)),f=Math.max(0,Math.min(1,1-m/this.height));this.paintSelection(_,f),this._onDidChange.fire({s:_,v:f})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const o=this.model.color.hsva;this.paintSelection(o.s,o.v)}paint(){const o=this.model.color.hsva,m=new g.Color(new g.HSVA(o.h,1,1,1)),_=this.canvas.getContext("2d"),f=_.createLinearGradient(0,0,this.canvas.width,0);f.addColorStop(0,"rgba(255, 255, 255, 1)"),f.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),f.addColorStop(1,"rgba(255, 255, 255, 0)");const c=_.createLinearGradient(0,0,0,this.canvas.height);c.addColorStop(0,"rgba(0, 0, 0, 0)"),c.addColorStop(1,"rgba(0, 0, 0, 1)"),_.rect(0,0,this.canvas.width,this.canvas.height),_.fillStyle=g.Color.Format.CSS.format(m),_.fill(),_.fillStyle=f,_.fill(),_.fillStyle=c,_.fill()}paintSelection(o,m){this.selection.style.left=`${o*this.width}px`,this.selection.style.top=`${this.height-m*this.height}px`}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class d extends b.Disposable{constructor(o,m){super();this.model=m,this._onDidChange=new S.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new S.Emitter,this.onColorFlushed=this._onColorFlushed.event,this.domNode=N.append(o,t(".strip")),this.overlay=N.append(this.domNode,t(".overlay")),this.slider=N.append(this.domNode,t(".slider")),this.slider.style.top="0px",this._register(N.addDisposableGenericMouseDownListner(this.domNode,_=>this.onMouseDown(_))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const o=this.getValue(this.model.color);this.updateSliderPosition(o)}onMouseDown(o){const m=this._register(new M.GlobalMouseMoveMonitor),_=N.getDomNodePagePosition(this.domNode);this.domNode.classList.add("grabbing"),o.target!==this.slider&&this.onDidChangeTop(o.offsetY),m.startMonitoring(o.target,o.buttons,M.standardMouseMoveMerger,c=>this.onDidChangeTop(c.posy-_.top),()=>null);const f=N.addDisposableGenericMouseUpListner(document,()=>{this._onColorFlushed.fire(),f.dispose(),m.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(o){const m=Math.max(0,Math.min(1,1-o/this.height));this.updateSliderPosition(m),this._onDidChange.fire(m)}updateSliderPosition(o){this.slider.style.top=`${(1-o)*this.height}px`}}class u extends d{constructor(o,m){super(o,m);this.domNode.classList.add("opacity-strip"),this._register(m.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(o){const{r:m,g:_,b:f}=o.rgba,c=new g.Color(new g.RGBA(m,_,f,1)),C=new g.Color(new g.RGBA(m,_,f,0));this.overlay.style.background=`linear-gradient(to bottom, ${c} 0%, ${C} 100%)`}getValue(o){return o.hsva.a}}class n extends d{constructor(o,m){super(o,m);this.domNode.classList.add("hue-strip")}getValue(o){return 1-o.hsva.h/360}}class r extends E.Widget{constructor(o,m,_,f){super();this.model=m,this.pixelRatio=_,this._register((0,L.onDidChangeZoomLevel)(()=>this.layout()));const c=t(".colorpicker-widget");o.appendChild(c);const C=new a(c,this.model,f);this.body=new l(c,this.model,this.pixelRatio),this._register(C),this._register(this.body)}getId(){return r.ID}layout(){this.body.layout()}}e.ColorPickerWidget=r,r.ID="editor.contrib.colorPickerWidget"}),define(ee[640],te([0,1,7,222,214,186,72,140,2,33,68,523,9,43,127,130,14,123]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityProvider=e.OneReferenceRenderer=e.FileReferencesRenderer=e.IdentityProvider=e.StringRepresentationProvider=e.Delegate=e.DataSource=void 0;let n=class{constructor(w){this._resolverService=w}hasChildren(w){return w instanceof u.ReferencesModel||w instanceof u.FileReferences}getChildren(w){if(w instanceof u.ReferencesModel)return w.groups;if(w instanceof u.FileReferences)return w.resolve(this._resolverService).then(D=>D.children);throw new Error("bad tree")}};n=Ve([Ce(0,v.ITextModelService)],n),e.DataSource=n;class r{getHeight(){return 23}getTemplateId(w){return w instanceof u.FileReferences?_.id:c.id}}e.Delegate=r;let s=class{constructor(w){this._keybindingService=w}getKeyboardNavigationLabel(w){var D;if(w instanceof u.OneReference){const I=(D=w.parent.getPreview(w))===null||D===void 0?void 0:D.preview(w.range);if(I)return I.value}return(0,p.basename)(w.uri)}mightProducePrintableCharacter(w){return this._keybindingService.mightProducePrintableCharacter(w)}};s=Ve([Ce(0,a.IKeybindingService)],s),e.StringRepresentationProvider=s;class o{getId(w){return w instanceof u.OneReference?w.id:w.uri}}e.IdentityProvider=o;let m=class extends b.Disposable{constructor(w,D,I){super();this._uriLabel=D;const T=document.createElement("div");T.classList.add("reference-file"),this.file=this._register(new E.IconLabel(T,{supportHighlights:!0})),this.badge=new N.CountBadge(L.append(T,L.$(".count"))),this._register((0,h.attachBadgeStyler)(this.badge,I)),w.appendChild(T)}set(w,D){let I=(0,p.dirname)(w.uri);this.file.setLabel((0,S.getBaseLabel)(w.uri),this._uriLabel.getUriLabel(I,{relative:!0}),{title:this._uriLabel.getUriLabel(w.uri),matches:D});const T=w.children.length;this.badge.setCount(T),T>1?this.badge.setTitleFormat((0,i.localize)(0,null,T)):this.badge.setTitleFormat((0,i.localize)(1,null,T))}};m=Ve([Ce(1,l.ILabelService),Ce(2,d.IThemeService)],m);let _=class Mi{constructor(w){this._instantiationService=w,this.templateId=Mi.id}renderTemplate(w){return this._instantiationService.createInstance(m,w)}renderElement(w,D,I){I.set(w.element,(0,g.createMatches)(w.filterData))}disposeTemplate(w){w.dispose()}};_.id="FileReferencesRenderer",_=Ve([Ce(0,t.IInstantiationService)],_),e.FileReferencesRenderer=_;class f{constructor(w){this.label=new M.HighlightedLabel(w)}set(w,D){var I;const T=(I=w.parent.getPreview(w))===null||I===void 0?void 0:I.preview(w.range);if(!T||!T.value)this.label.set(`${(0,p.basename)(w.uri)}:${w.range.startLineNumber+1}:${w.range.startColumn+1}`);else{const{value:F,highlight:P}=T;D&&!g.FuzzyScore.isDefault(D)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(F,(0,g.createMatches)(D))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(F,[P]))}}}class c{constructor(){this.templateId=c.id}renderTemplate(w){return new f(w)}renderElement(w,D,I){I.set(w.element,w.filterData)}disposeTemplate(){}}e.OneReferenceRenderer=c,c.id="OneReferenceRenderer";class C{getWidgetAriaLabel(){return(0,i.localize)(2,null)}getAriaLabel(w){return w.ariaMessage}}e.AccessibilityProvider=C}),define(ee[641],te([0,1,7,2,8,63,29,92,13,3,89,39,52,151,120,9,14,379]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.GhostTextWidget=void 0;const n=(u=window.trustedTypes)===null||u===void 0?void 0:u.createPolicy("editorGhostText",{createHTML:f=>f});let r=class extends N.Disposable{constructor(c,C,y,w){super();this.editor=c,this.model=C,this.instantiationService=y,this.modeService=w,this.disposed=!1,this.partsWidget=this._register(this.instantiationService.createInstance(s,this.editor)),this.additionalLinesWidget=this._register(new o(this.editor,this.modeService.languageIdCodec)),this.viewMoreContentWidget=void 0,this._register(this.editor.onDidChangeConfiguration(D=>{(D.hasChanged(29)||D.hasChanged(104)||D.hasChanged(87)||D.hasChanged(82)||D.hasChanged(44)||D.hasChanged(43)||D.hasChanged(58))&&this.update()})),this._register((0,N.toDisposable)(()=>{var D;this.disposed=!0,this.update(),(D=this.viewMoreContentWidget)===null||D===void 0||D.dispose(),this.viewMoreContentWidget=void 0})),this._register(C.onDidChange(()=>{this.update()})),this.update()}shouldShowHoverAtViewZone(c){return this.additionalLinesWidget.viewZoneId===c}update(){var c;const C=this.model.ghostText;if(!this.editor.hasModel()||!C||this.disposed){this.partsWidget.clear(),this.additionalLinesWidget.clear();return}const y=new Array,w=new Array;function D(P,R){if(w.length>0){const A=w[w.length-1];R&&A.decorations.push(new a.LineDecoration(A.content.length+1,A.content.length+1+P[0].length,R,0)),A.content+=P[0],P=P.slice(1)}for(const A of P)w.push({content:A,decorations:R?[new a.LineDecoration(1,A.length+1,R,0)]:[]})}const I=this.editor.getModel().getLineContent(C.lineNumber);this.editor.getModel().getLineTokens(C.lineNumber);let T,F=0;for(const P of C.parts){let R=P.lines;T===void 0?(y.push({column:P.column,text:R[0],preview:P.preview}),R=R.slice(1)):D([I.substring(F,P.column-1)],void 0),R.length>0&&(D(R,"ghost-text"),T===void 0&&P.column<=I.length&&(T=P.column)),F=P.column-1}T!==void 0&&D([I.substring(F)],void 0),this.partsWidget.setParts(C.lineNumber,y,T!==void 0?{column:T,length:I.length+1-T}:void 0),this.additionalLinesWidget.updateLines(C.lineNumber,w,C.additionalReservedLineCount),C.parts.some(P=>P.lines.length<0)?this.viewMoreContentWidget=this.renderViewMoreLines(new b.Position(C.lineNumber,this.editor.getModel().getLineMaxColumn(C.lineNumber)),"",0):((c=this.viewMoreContentWidget)===null||c===void 0||c.dispose(),this.viewMoreContentWidget=void 0)}renderViewMoreLines(c,C,y){const w=this.editor.getOption(43),D=document.createElement("div");D.className="suggest-preview-additional-widget",E.Configuration.applyFontInfoSlow(D,w);const I=document.createElement("span");I.className="content-spacer",I.append(C),D.append(I);const T=document.createElement("span");T.className="content-newline suggest-preview-text",T.append("\u23CE  "),D.append(T);const F=new N.DisposableStore,P=document.createElement("div");return P.className="button suggest-preview-text",P.append(`+${y} lines\u2026`),F.add(L.addStandardDisposableListener(P,"mousedown",R=>{var A;(A=this.model)===null||A===void 0||A.setExpanded(!0),R.preventDefault(),this.editor.focus()})),D.append(P),new _(this.editor,c,D,F)}};r=Ve([Ce(2,h.IInstantiationService),Ce(3,i.IModeService)],r),e.GhostTextWidget=r;class s{constructor(c){this.editor=c,this.decorationIds=[],this.disposableStore=new N.DisposableStore}dispose(){this.clear(),this.disposableStore.dispose()}clear(){this.editor.deltaDecorations(this.decorationIds,[]),this.disposableStore.clear()}setParts(c,C,y){if(this.disposableStore.clear(),!this.editor.getModel())return;const D=new Array;y&&D.push({range:p.Range.fromPositions(new b.Position(c,y.column),new b.Position(c,y.column+y.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}}),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,C.map(I=>({range:p.Range.fromPositions(new b.Position(c,I.column)),options:{description:"ghost-text",after:{content:I.text,inlineClassName:I.preview?"ghost-text-decoration-preview":"ghost-text-decoration"},showIfCollapsed:!0}})).concat(D))}}class o{constructor(c,C){this.editor=c,this.languageIdCodec=C,this._viewZoneId=void 0}get viewZoneId(){return this._viewZoneId}dispose(){this.clear()}clear(){this.editor.changeViewZones(c=>{this._viewZoneId&&(c.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(c,C,y){const w=this.editor.getModel();if(!w)return;const{tabSize:D}=w.getOptions();this.editor.changeViewZones(I=>{this._viewZoneId&&(I.removeZone(this._viewZoneId),this._viewZoneId=void 0);const T=Math.max(C.length,y);if(T>0){const F=document.createElement("div");m(F,D,C,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=I.addZone({afterLineNumber:c,heightInLines:T,domNode:F})}})}}function m(f,c,C,y,w){const D=y.get(29),I=y.get(104),T="none",F=y.get(82),P=y.get(44),R=y.get(43),A=y.get(58),O=(0,v.createStringBuilder)(1e4);O.appendASCIIString('<div class="suggest-preview-text">');for(let B=0,x=C.length;B<x;B++){const K=C[B],X=K.content;O.appendASCIIString('<div class="view-line'),O.appendASCIIString('" style="top:'),O.appendASCIIString(String(B*A)),O.appendASCIIString('px;width:1000000px;">');const Z=M.isBasicASCII(X),q=M.containsRTL(X),H=S.LineTokens.createEmpty(X,w);(0,l.renderViewLine)(new l.RenderLineInput(R.isMonospace&&!D,R.canUseHalfwidthRightwardsArrow,X,!1,Z,q,0,H,K.decorations,c,0,R.spaceWidth,R.middotWidth,R.wsmiddotWidth,I,T,F,P!==g.EditorFontLigatures.OFF,null),O),O.appendASCIIString("</div>")}O.appendASCIIString("</div>"),E.Configuration.applyFontInfoSlow(f,R);const k=O.build(),V=n?n.createHTML(k):k;f.innerHTML=V}class _ extends N.Disposable{constructor(c,C,y,w){super();this.editor=c,this.position=C,this.domNode=y,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(w),this._register((0,N.toDisposable)(()=>{this.editor.removeContentWidget(this)})),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}}(0,d.registerThemingParticipant)((f,c)=>{const C=f.getColor(t.ghostTextForeground);C&&(c.addRule(`.monaco-editor .ghost-text-decoration { color: ${C.toString()} !important; }`),c.addRule(`.monaco-editor .ghost-text-decoration-preview { color: ${C.toString()} !important; }`),c.addRule(`.monaco-editor .suggest-preview-text .ghost-text { color: ${C.toString()} !important; }`));const y=f.getColor(t.ghostTextBackground);y&&(c.addRule(`.monaco-editor .ghost-text-decoration { background-color: ${y.toString()}; }`),c.addRule(`.monaco-editor .ghost-text-decoration-preview { background-color: ${y.toString()}; }`),c.addRule(`.monaco-editor .suggest-preview-text .ghost-text { background-color: ${y.toString()}; }`));const w=f.getColor(t.ghostTextBorder);w&&(c.addRule(`.monaco-editor .suggest-preview-text .ghost-text { border: 1px solid ${w}; }`),c.addRule(`.monaco-editor .ghost-text-decoration { border: 1px solid ${w}; }`),c.addRule(`.monaco-editor .ghost-text-decoration-preview { border: 1px solid ${w}; }`))})}),define(ee[280],te([0,1,79,2,20,116,49,52,14]),function(Q,e,L,N,M,E,g,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorNavigationQuickAccessProvider=void 0;class p{constructor(i){this.options=i,this.rangeHighlightDecorationId=void 0}provide(i,t){var a;const l=new N.DisposableStore;i.canAcceptInBackground=!!((a=this.options)===null||a===void 0?void 0:a.canAcceptInBackground),i.matchOnLabel=i.matchOnDescription=i.matchOnDetail=i.sortByLabel=!1;const h=l.add(new N.MutableDisposable);return h.value=this.doProvide(i,t),l.add(this.onDidActiveTextEditorControlChange(()=>{h.value=void 0,h.value=this.doProvide(i,t)})),l}doProvide(i,t){const a=new N.DisposableStore,l=this.activeTextEditorControl;if(l&&this.canProvideWithTextEditor(l)){const h={editor:l},d=(0,E.getCodeEditor)(l);if(d){let u=(0,M.withNullAsUndefined)(l.saveViewState());a.add(d.onDidChangeCursorPosition(()=>{u=(0,M.withNullAsUndefined)(l.saveViewState())})),h.restoreViewState=()=>{u&&l===this.activeTextEditorControl&&l.restoreViewState(u)},a.add((0,L.once)(t.onCancellationRequested)(()=>{var n;return(n=h.restoreViewState)===null||n===void 0?void 0:n.call(h)}))}a.add((0,N.toDisposable)(()=>this.clearDecorations(l))),a.add(this.provideWithTextEditor(h,i,t))}else a.add(this.provideWithoutTextEditor(i,t));return a}canProvideWithTextEditor(i){return!0}gotoLocation({editor:i},t){i.setSelection(t.range),i.revealRangeInCenter(t.range,0),t.preserveFocus||i.focus()}getModel(i){var t;return(0,E.isDiffEditor)(i)?(t=i.getModel())===null||t===void 0?void 0:t.modified:i.getModel()}addDecorations(i,t){i.changeDecorations(a=>{const l=[];this.rangeHighlightDecorationId&&(l.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),l.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const h=[{range:t,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:t,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,b.themeColorFromId)(S.overviewRulerRangeHighlight),position:g.OverviewRulerLane.Full}}}],[d,u]=a.deltaDecorations(l,h);this.rangeHighlightDecorationId={rangeHighlightId:d,overviewRulerDecorationId:u}})}clearDecorations(i){const t=this.rangeHighlightDecorationId;t&&(i.changeDecorations(a=>{a.deltaDecorations([t.overviewRulerDecorationId,t.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}e.AbstractEditorNavigationQuickAccessProvider=p}),define(ee[642],te([0,1,2,116,280,543]),function(Q,e,L,N,M,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoLineQuickAccessProvider=void 0;class g extends M.AbstractEditorNavigationQuickAccessProvider{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(b){const p=(0,E.localize)(0,null);return b.items=[{label:p}],b.ariaLabel=p,L.Disposable.None}provideWithTextEditor(b,p,v){const i=b.editor,t=new L.DisposableStore;t.add(p.onDidAccept(h=>{const[d]=p.selectedItems;if(d){if(!this.isValidLineNumber(i,d.lineNumber))return;this.gotoLocation(b,{range:this.toRange(d.lineNumber,d.column),keyMods:p.keyMods,preserveFocus:h.inBackground}),h.inBackground||p.hide()}}));const a=()=>{const h=this.parsePosition(i,p.value.trim().substr(g.PREFIX.length)),d=this.getPickLabel(i,h.lineNumber,h.column);if(p.items=[{lineNumber:h.lineNumber,column:h.column,label:d}],p.ariaLabel=d,!this.isValidLineNumber(i,h.lineNumber)){this.clearDecorations(i);return}const u=this.toRange(h.lineNumber,h.column);i.revealRangeInCenter(u,0),this.addDecorations(i,u)};a(),t.add(p.onDidChangeValue(()=>a()));const l=(0,N.getCodeEditor)(i);return l&&l.getOptions().get(59).renderType===2&&(l.updateOptions({lineNumbers:"on"}),t.add((0,L.toDisposable)(()=>l.updateOptions({lineNumbers:"relative"})))),t}toRange(b=1,p=1){return{startLineNumber:b,startColumn:p,endLineNumber:b,endColumn:p}}parsePosition(b,p){const v=p.split(/,|:|#/).map(t=>parseInt(t,10)).filter(t=>!isNaN(t)),i=this.lineCount(b)+1;return{lineNumber:v[0]>0?v[0]:i+v[0],column:v[1]}}getPickLabel(b,p,v){if(this.isValidLineNumber(b,p))return this.isValidColumn(b,p,v)?(0,E.localize)(1,null,p,v):(0,E.localize)(2,null,p);const i=b.getPosition()||{lineNumber:1,column:1},t=this.lineCount(b);return t>1?(0,E.localize)(3,null,i.lineNumber,i.column,t):(0,E.localize)(4,null,i.lineNumber,i.column)}isValidLineNumber(b,p){return!p||typeof p!="number"?!1:p>0&&p<=this.lineCount(b)}isValidColumn(b,p,v){if(!v||typeof v!="number")return!1;const i=this.getModel(b);if(!i)return!1;const t={lineNumber:p,column:v};return i.validatePosition(t).equals(t)}lineCount(b){var p,v;return(v=(p=this.getModel(b))===null||p===void 0?void 0:p.getLineCount())!==null&&v!==void 0?v:0}}e.AbstractGotoLineQuickAccessProvider=g,g.PREFIX=":"}),define(ee[643],te([0,1,10,21,27,323,2,8,3,18,264,280,544]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoSymbolQuickAccessProvider=void 0;class a extends i.AbstractEditorNavigationQuickAccessProvider{constructor(u=Object.create(null)){super(u);this.options=u,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(u){return this.provideLabelPick(u,(0,t.localize)(0,null)),g.Disposable.None}provideWithTextEditor(u,n,r){const s=u.editor,o=this.getModel(s);return o?p.DocumentSymbolProviderRegistry.has(o)?this.doProvideWithEditorSymbols(u,o,n,r):this.doProvideWithoutEditorSymbols(u,o,n,r):g.Disposable.None}doProvideWithoutEditorSymbols(u,n,r,s){const o=new g.DisposableStore;return this.provideLabelPick(r,(0,t.localize)(1,null)),(()=>Me(this,void 0,void 0,function*(){!(yield this.waitForLanguageSymbolRegistry(n,o))||s.isCancellationRequested||o.add(this.doProvideWithEditorSymbols(u,n,r,s))}))(),o}provideLabelPick(u,n){u.items=[{label:n,index:0,kind:14}],u.ariaLabel=n}waitForLanguageSymbolRegistry(u,n){return Me(this,void 0,void 0,function*(){if(p.DocumentSymbolProviderRegistry.has(u))return!0;const r=new L.DeferredPromise,s=n.add(p.DocumentSymbolProviderRegistry.onDidChange(()=>{p.DocumentSymbolProviderRegistry.has(u)&&(s.dispose(),r.complete(!0))}));return n.add((0,g.toDisposable)(()=>r.complete(!1))),r.p})}doProvideWithEditorSymbols(u,n,r,s){const o=u.editor,m=new g.DisposableStore;m.add(r.onDidAccept(y=>{const[w]=r.selectedItems;w&&w.range&&(this.gotoLocation(u,{range:w.range.selection,keyMods:r.keyMods,preserveFocus:y.inBackground}),y.inBackground||r.hide())})),m.add(r.onDidTriggerItemButton(({item:y})=>{y&&y.range&&(this.gotoLocation(u,{range:y.range.selection,keyMods:r.keyMods,forceSideBySide:!0}),r.hide())}));const _=this.getDocumentSymbols(n,s);let f;const c=()=>Me(this,void 0,void 0,function*(){f==null||f.dispose(!0),r.busy=!1,f=new N.CancellationTokenSource(s),r.busy=!0;try{const y=(0,E.prepareQuery)(r.value.substr(a.PREFIX.length).trim()),w=yield this.doGetSymbolPicks(_,y,void 0,f.token);if(s.isCancellationRequested)return;w.length>0?r.items=w:y.original.length>0?this.provideLabelPick(r,(0,t.localize)(2,null)):this.provideLabelPick(r,(0,t.localize)(3,null))}finally{s.isCancellationRequested||(r.busy=!1)}});m.add(r.onDidChangeValue(()=>c())),c();let C=!0;return m.add(r.onDidChangeActive(()=>{const[y]=r.activeItems;if(y&&y.range){if(C){C=!1;return}o.revealRangeInCenter(y.range.selection,0),this.addDecorations(o,y.range.decoration)}})),m}doGetSymbolPicks(u,n,r,s){return Me(this,void 0,void 0,function*(){const o=yield u;if(s.isCancellationRequested)return[];const m=n.original.indexOf(a.SCOPE_PREFIX)===0,_=m?1:0;let f,c;n.values&&n.values.length>1?(f=(0,E.pieceToQuery)(n.values[0]),c=(0,E.pieceToQuery)(n.values.slice(1))):f=n;const C=[];for(let D=0;D<o.length;D++){const I=o[D],T=(0,S.trim)(I.name),F=`$(symbol-${p.SymbolKinds.toString(I.kind)||"property"}) ${T}`,P=F.length-T.length;let R=I.containerName;(r==null?void 0:r.extraContainerLabel)&&(R?R=`${r.extraContainerLabel} \u2022 ${R}`:R=r.extraContainerLabel);let A,O,k,V;if(n.original.length>_){let x=!1;if(f!==n&&([A,O]=(0,E.scoreFuzzy2)(F,Object.assign(Object.assign({},n),{values:void 0}),_,P),typeof A=="number"&&(x=!0)),typeof A!="number"&&([A,O]=(0,E.scoreFuzzy2)(F,f,_,P),typeof A!="number"))continue;if(!x&&c){if(R&&c.original.length>0&&([k,V]=(0,E.scoreFuzzy2)(R,c)),typeof k!="number")continue;typeof A=="number"&&(A+=k)}}const B=I.tags&&I.tags.indexOf(1)>=0;C.push({index:D,kind:I.kind,score:A,label:F,ariaLabel:T,description:R,highlights:B?void 0:{label:O,description:V},range:{selection:b.Range.collapseToStart(I.selectionRange),decoration:I.range},strikethrough:B,buttons:(()=>{var x,K;const X=((x=this.options)===null||x===void 0?void 0:x.openSideBySideDirection)?(K=this.options)===null||K===void 0?void 0:K.openSideBySideDirection():void 0;if(!!X)return[{iconClass:X==="right"?M.Codicon.splitHorizontal.classNames:M.Codicon.splitVertical.classNames,tooltip:X==="right"?(0,t.localize)(4,null):(0,t.localize)(5,null)}]})()})}const y=C.sort((D,I)=>m?this.compareByKindAndScore(D,I):this.compareByScore(D,I));let w=[];if(m){let F=function(){I&&typeof D=="number"&&T>0&&(I.label=(0,S.format)(h[D]||l,T))},D,I,T=0;for(const P of y)D!==P.kind?(F(),D=P.kind,T=1,I={type:"separator"},w.push(I)):T++,w.push(P);F()}else y.length>0&&(w=[{label:(0,t.localize)(6,null,C.length),type:"separator"},...y]);return w})}compareByScore(u,n){if(typeof u.score!="number"&&typeof n.score=="number")return 1;if(typeof u.score=="number"&&typeof n.score!="number")return-1;if(typeof u.score=="number"&&typeof n.score=="number"){if(u.score>n.score)return-1;if(u.score<n.score)return 1}return u.index<n.index?-1:u.index>n.index?1:0}compareByKindAndScore(u,n){const r=h[u.kind]||l,s=h[n.kind]||l,o=r.localeCompare(s);return o===0?this.compareByScore(u,n):o}getDocumentSymbols(u,n){return Me(this,void 0,void 0,function*(){const r=yield v.OutlineModel.create(u,n);return n.isCancellationRequested?[]:r.asListOfDocumentSymbols()})}}e.AbstractGotoSymbolQuickAccessProvider=a,a.PREFIX="@",a.SCOPE_PREFIX=":",a.PREFIX_BY_CATEGORY=`${a.PREFIX}${a.SCOPE_PREFIX}`;const l=(0,t.localize)(7,null),h={[5]:(0,t.localize)(8,null),[11]:(0,t.localize)(9,null),[8]:(0,t.localize)(10,null),[12]:(0,t.localize)(11,null),[4]:(0,t.localize)(12,null),[22]:(0,t.localize)(13,null),[23]:(0,t.localize)(14,null),[24]:(0,t.localize)(15,null),[10]:(0,t.localize)(16,null),[2]:(0,t.localize)(17,null),[3]:(0,t.localize)(18,null),[25]:(0,t.localize)(19,null),[1]:(0,t.localize)(20,null),[6]:(0,t.localize)(21,null),[9]:(0,t.localize)(22,null),[21]:(0,t.localize)(23,null),[14]:(0,t.localize)(24,null),[0]:(0,t.localize)(25,null),[17]:(0,t.localize)(26,null),[15]:(0,t.localize)(27,null),[16]:(0,t.localize)(28,null),[18]:(0,t.localize)(29,null),[19]:(0,t.localize)(30,null),[7]:(0,t.localize)(31,null),[13]:(0,t.localize)(32,null)}}),define(ee[644],te([0,1,2,13,546,17,43,24,14,384]),function(Q,e,L,N,M,E,g,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameInputField=e.CONTEXT_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_RENAME_INPUT_VISIBLE=new E.RawContextKey("renameInputVisible",!1,(0,M.localize)(0,null));let p=class{constructor(i,t,a,l,h){this._editor=i,this._acceptKeybindings=t,this._themeService=a,this._keybindingService=l,this._disposables=new L.DisposableStore,this.allowEditorOverflow=!0,this._visibleContextKey=e.CONTEXT_RENAME_INPUT_VISIBLE.bindTo(h),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(d=>{d.hasChanged(43)&&this._updateFont()})),this._disposables.add(a.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",(0,M.localize)(1,null)),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);const i=()=>{var t,a;const[l,h]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(l),this._label.innerText=(0,M.localize)(2,null,(t=this._keybindingService.lookupKeybinding(l))===null||t===void 0?void 0:t.getLabel(),(a=this._keybindingService.lookupKeybinding(h))===null||a===void 0?void 0:a.getLabel())};i(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(i)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(i){var t,a,l,h;if(!this._input||!this._domNode)return;const d=i.getColor(S.widgetShadow);this._domNode.style.backgroundColor=String((t=i.getColor(S.editorWidgetBackground))!==null&&t!==void 0?t:""),this._domNode.style.boxShadow=d?` 0 0 8px 2px ${d}`:"",this._domNode.style.color=String((a=i.getColor(S.inputForeground))!==null&&a!==void 0?a:""),this._input.style.backgroundColor=String((l=i.getColor(S.inputBackground))!==null&&l!==void 0?l:"");const u=i.getColor(S.inputBorder);this._input.style.borderWidth=u?"1px":"0px",this._input.style.borderStyle=u?"solid":"none",this._input.style.borderColor=(h=u==null?void 0:u.toString())!==null&&h!==void 0?h:"none"}_updateFont(){if(!this._input||!this._label)return;const i=this._editor.getOption(43);this._input.style.fontFamily=i.fontFamily,this._input.style.fontWeight=i.fontWeight,this._input.style.fontSize=`${i.fontSize}px`,this._label.style.fontSize=`${i.fontSize*.8}px`}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(i){i||this.cancelInput(!0)}acceptInput(i){this._currentAcceptInput&&this._currentAcceptInput(i)}cancelInput(i){this._currentCancelInput&&this._currentCancelInput(i)}getInput(i,t,a,l,h,d){this._domNode.classList.toggle("preview",h),this._position=new N.Position(i.startLineNumber,i.startColumn),this._input.value=t,this._input.setAttribute("selectionStart",a.toString()),this._input.setAttribute("selectionEnd",l.toString()),this._input.size=Math.max((i.endColumn-i.startColumn)*1.1,20);const u=new L.DisposableStore;return new Promise(n=>{this._currentCancelInput=r=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,n(r),!0),this._currentAcceptInput=r=>{if(this._input.value.trim().length===0||this._input.value===t){this.cancelInput(!0);return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,n({newName:this._input.value,wantsPreview:h&&r})},d.onCancellationRequested(()=>this.cancelInput(!0)),u.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!1))),this._show()}).finally(()=>{u.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};p=Ve([Ce(2,b.IThemeService),Ce(3,g.IKeybindingService),Ce(4,E.IContextKeyService)],p),e.RenameInputField=p}),define(ee[281],te([0,1,27,556,24,14]),function(Q,e,L,N,M,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SYMBOL_ICON_VARIABLE_FOREGROUND=e.SYMBOL_ICON_UNIT_FOREGROUND=e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=e.SYMBOL_ICON_TEXT_FOREGROUND=e.SYMBOL_ICON_STRUCT_FOREGROUND=e.SYMBOL_ICON_STRING_FOREGROUND=e.SYMBOL_ICON_SNIPPET_FOREGROUND=e.SYMBOL_ICON_REFERENCE_FOREGROUND=e.SYMBOL_ICON_PROPERTY_FOREGROUND=e.SYMBOL_ICON_PACKAGE_FOREGROUND=e.SYMBOL_ICON_OPERATOR_FOREGROUND=e.SYMBOL_ICON_OBJECT_FOREGROUND=e.SYMBOL_ICON_NUMBER_FOREGROUND=e.SYMBOL_ICON_NULL_FOREGROUND=e.SYMBOL_ICON_NAMESPACE_FOREGROUND=e.SYMBOL_ICON_MODULE_FOREGROUND=e.SYMBOL_ICON_METHOD_FOREGROUND=e.SYMBOL_ICON_KEYWORD_FOREGROUND=e.SYMBOL_ICON_KEY_FOREGROUND=e.SYMBOL_ICON_INTERFACE_FOREGROUND=e.SYMBOL_ICON_FUNCTION_FOREGROUND=e.SYMBOL_ICON_FOLDER_FOREGROUND=e.SYMBOL_ICON_FILE_FOREGROUND=e.SYMBOL_ICON_FIELD_FOREGROUND=e.SYMBOL_ICON_EVENT_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=e.SYMBOL_ICON_CONSTANT_FOREGROUND=e.SYMBOL_ICON_COLOR_FOREGROUND=e.SYMBOL_ICON_CLASS_FOREGROUND=e.SYMBOL_ICON_BOOLEAN_FOREGROUND=e.SYMBOL_ICON_ARRAY_FOREGROUND=void 0,e.SYMBOL_ICON_ARRAY_FOREGROUND=(0,M.registerColor)("symbolIcon.arrayForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},(0,N.localize)(0,null)),e.SYMBOL_ICON_BOOLEAN_FOREGROUND=(0,M.registerColor)("symbolIcon.booleanForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},(0,N.localize)(1,null)),e.SYMBOL_ICON_CLASS_FOREGROUND=(0,M.registerColor)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,N.localize)(2,null)),e.SYMBOL_ICON_COLOR_FOREGROUND=(0,M.registerColor)("symbolIcon.colorForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},(0,N.localize)(3,null)),e.SYMBOL_ICON_CONSTANT_FOREGROUND=(0,M.registerColor)("symbolIcon.constantForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},(0,N.localize)(4,null)),e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=(0,M.registerColor)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,N.localize)(5,null)),e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=(0,M.registerColor)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,N.localize)(6,null)),e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=(0,M.registerColor)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,N.localize)(7,null)),e.SYMBOL_ICON_EVENT_FOREGROUND=(0,M.registerColor)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,N.localize)(8,null)),e.SYMBOL_ICON_FIELD_FOREGROUND=(0,M.registerColor)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,N.localize)(9,null)),e.SYMBOL_ICON_FILE_FOREGROUND=(0,M.registerColor)("symbolIcon.fileForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},(0,N.localize)(10,null)),e.SYMBOL_ICON_FOLDER_FOREGROUND=(0,M.registerColor)("symbolIcon.folderForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},(0,N.localize)(11,null)),e.SYMBOL_ICON_FUNCTION_FOREGROUND=(0,M.registerColor)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,N.localize)(12,null)),e.SYMBOL_ICON_INTERFACE_FOREGROUND=(0,M.registerColor)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,N.localize)(13,null)),e.SYMBOL_ICON_KEY_FOREGROUND=(0,M.registerColor)("symbolIcon.keyForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},(0,N.localize)(14,null)),e.SYMBOL_ICON_KEYWORD_FOREGROUND=(0,M.registerColor)("symbolIcon.keywordForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},(0,N.localize)(15,null)),e.SYMBOL_ICON_METHOD_FOREGROUND=(0,M.registerColor)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,N.localize)(16,null)),e.SYMBOL_ICON_MODULE_FOREGROUND=(0,M.registerColor)("symbolIcon.moduleForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},(0,N.localize)(17,null)),e.SYMBOL_ICON_NAMESPACE_FOREGROUND=(0,M.registerColor)("symbolIcon.namespaceForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},(0,N.localize)(18,null)),e.SYMBOL_ICON_NULL_FOREGROUND=(0,M.registerColor)("symbolIcon.nullForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},(0,N.localize)(19,null)),e.SYMBOL_ICON_NUMBER_FOREGROUND=(0,M.registerColor)("symbolIcon.numberForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},(0,N.localize)(20,null)),e.SYMBOL_ICON_OBJECT_FOREGROUND=(0,M.registerColor)("symbolIcon.objectForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},(0,N.localize)(21,null)),e.SYMBOL_ICON_OPERATOR_FOREGROUND=(0,M.registerColor)("symbolIcon.operatorForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},(0,N.localize)(22,null)),e.SYMBOL_ICON_PACKAGE_FOREGROUND=(0,M.registerColor)("symbolIcon.packageForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},(0,N.localize)(23,null)),e.SYMBOL_ICON_PROPERTY_FOREGROUND=(0,M.registerColor)("symbolIcon.propertyForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},(0,N.localize)(24,null)),e.SYMBOL_ICON_REFERENCE_FOREGROUND=(0,M.registerColor)("symbolIcon.referenceForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},(0,N.localize)(25,null)),e.SYMBOL_ICON_SNIPPET_FOREGROUND=(0,M.registerColor)("symbolIcon.snippetForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},(0,N.localize)(26,null)),e.SYMBOL_ICON_STRING_FOREGROUND=(0,M.registerColor)("symbolIcon.stringForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},(0,N.localize)(27,null)),e.SYMBOL_ICON_STRUCT_FOREGROUND=(0,M.registerColor)("symbolIcon.structForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},(0,N.localize)(28,null)),e.SYMBOL_ICON_TEXT_FOREGROUND=(0,M.registerColor)("symbolIcon.textForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},(0,N.localize)(29,null)),e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=(0,M.registerColor)("symbolIcon.typeParameterForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},(0,N.localize)(30,null)),e.SYMBOL_ICON_UNIT_FOREGROUND=(0,M.registerColor)("symbolIcon.unitForeground",{dark:M.foreground,light:M.foreground,hc:M.foreground},(0,N.localize)(31,null)),e.SYMBOL_ICON_VARIABLE_FOREGROUND=(0,M.registerColor)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,N.localize)(32,null)),(0,E.registerThemingParticipant)((g,S)=>{const b=g.getColor(e.SYMBOL_ICON_ARRAY_FOREGROUND);b&&S.addRule(`${L.Codicon.symbolArray.cssSelector} { color: ${b}; }`);const p=g.getColor(e.SYMBOL_ICON_BOOLEAN_FOREGROUND);p&&S.addRule(`${L.Codicon.symbolBoolean.cssSelector} { color: ${p}; }`);const v=g.getColor(e.SYMBOL_ICON_CLASS_FOREGROUND);v&&S.addRule(`${L.Codicon.symbolClass.cssSelector} { color: ${v}; }`);const i=g.getColor(e.SYMBOL_ICON_METHOD_FOREGROUND);i&&S.addRule(`${L.Codicon.symbolMethod.cssSelector} { color: ${i}; }`);const t=g.getColor(e.SYMBOL_ICON_COLOR_FOREGROUND);t&&S.addRule(`${L.Codicon.symbolColor.cssSelector} { color: ${t}; }`);const a=g.getColor(e.SYMBOL_ICON_CONSTANT_FOREGROUND);a&&S.addRule(`${L.Codicon.symbolConstant.cssSelector} { color: ${a}; }`);const l=g.getColor(e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND);l&&S.addRule(`${L.Codicon.symbolConstructor.cssSelector} { color: ${l}; }`);const h=g.getColor(e.SYMBOL_ICON_ENUMERATOR_FOREGROUND);h&&S.addRule(`
			${L.Codicon.symbolValue.cssSelector},${L.Codicon.symbolEnum.cssSelector} { color: ${h}; }`);const d=g.getColor(e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND);d&&S.addRule(`${L.Codicon.symbolEnumMember.cssSelector} { color: ${d}; }`);const u=g.getColor(e.SYMBOL_ICON_EVENT_FOREGROUND);u&&S.addRule(`${L.Codicon.symbolEvent.cssSelector} { color: ${u}; }`);const n=g.getColor(e.SYMBOL_ICON_FIELD_FOREGROUND);n&&S.addRule(`${L.Codicon.symbolField.cssSelector} { color: ${n}; }`);const r=g.getColor(e.SYMBOL_ICON_FILE_FOREGROUND);r&&S.addRule(`${L.Codicon.symbolFile.cssSelector} { color: ${r}; }`);const s=g.getColor(e.SYMBOL_ICON_FOLDER_FOREGROUND);s&&S.addRule(`${L.Codicon.symbolFolder.cssSelector} { color: ${s}; }`);const o=g.getColor(e.SYMBOL_ICON_FUNCTION_FOREGROUND);o&&S.addRule(`${L.Codicon.symbolFunction.cssSelector} { color: ${o}; }`);const m=g.getColor(e.SYMBOL_ICON_INTERFACE_FOREGROUND);m&&S.addRule(`${L.Codicon.symbolInterface.cssSelector} { color: ${m}; }`);const _=g.getColor(e.SYMBOL_ICON_KEY_FOREGROUND);_&&S.addRule(`${L.Codicon.symbolKey.cssSelector} { color: ${_}; }`);const f=g.getColor(e.SYMBOL_ICON_KEYWORD_FOREGROUND);f&&S.addRule(`${L.Codicon.symbolKeyword.cssSelector} { color: ${f}; }`);const c=g.getColor(e.SYMBOL_ICON_MODULE_FOREGROUND);c&&S.addRule(`${L.Codicon.symbolModule.cssSelector} { color: ${c}; }`);const C=g.getColor(e.SYMBOL_ICON_NAMESPACE_FOREGROUND);C&&S.addRule(`${L.Codicon.symbolNamespace.cssSelector} { color: ${C}; }`);const y=g.getColor(e.SYMBOL_ICON_NULL_FOREGROUND);y&&S.addRule(`${L.Codicon.symbolNull.cssSelector} { color: ${y}; }`);const w=g.getColor(e.SYMBOL_ICON_NUMBER_FOREGROUND);w&&S.addRule(`${L.Codicon.symbolNumber.cssSelector} { color: ${w}; }`);const D=g.getColor(e.SYMBOL_ICON_OBJECT_FOREGROUND);D&&S.addRule(`${L.Codicon.symbolObject.cssSelector} { color: ${D}; }`);const I=g.getColor(e.SYMBOL_ICON_OPERATOR_FOREGROUND);I&&S.addRule(`${L.Codicon.symbolOperator.cssSelector} { color: ${I}; }`);const T=g.getColor(e.SYMBOL_ICON_PACKAGE_FOREGROUND);T&&S.addRule(`${L.Codicon.symbolPackage.cssSelector} { color: ${T}; }`);const F=g.getColor(e.SYMBOL_ICON_PROPERTY_FOREGROUND);F&&S.addRule(`${L.Codicon.symbolProperty.cssSelector} { color: ${F}; }`);const P=g.getColor(e.SYMBOL_ICON_REFERENCE_FOREGROUND);P&&S.addRule(`${L.Codicon.symbolReference.cssSelector} { color: ${P}; }`);const R=g.getColor(e.SYMBOL_ICON_SNIPPET_FOREGROUND);R&&S.addRule(`${L.Codicon.symbolSnippet.cssSelector} { color: ${R}; }`);const A=g.getColor(e.SYMBOL_ICON_STRING_FOREGROUND);A&&S.addRule(`${L.Codicon.symbolString.cssSelector} { color: ${A}; }`);const O=g.getColor(e.SYMBOL_ICON_STRUCT_FOREGROUND);O&&S.addRule(`${L.Codicon.symbolStruct.cssSelector} { color: ${O}; }`);const k=g.getColor(e.SYMBOL_ICON_TEXT_FOREGROUND);k&&S.addRule(`${L.Codicon.symbolText.cssSelector} { color: ${k}; }`);const V=g.getColor(e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND);V&&S.addRule(`${L.Codicon.symbolTypeParameter.cssSelector} { color: ${V}; }`);const B=g.getColor(e.SYMBOL_ICON_UNIT_FOREGROUND);B&&S.addRule(`${L.Codicon.symbolUnit.cssSelector} { color: ${B}; }`);const x=g.getColor(e.SYMBOL_ICON_VARIABLE_FOREGROUND);x&&S.addRule(`${L.Codicon.symbolVariable.cssSelector} { color: ${x}; }`)})}),define(ee[282],te([0,1,7,42,627,17,14]),function(Q,e,L,N,M,E,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneCodeEditorServiceImpl=void 0;let S=class extends M.CodeEditorServiceImpl{constructor(p,v,i){super(p,i);this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=v.createKey("editorIsOpen",!1),this._activeCodeEditor=null}_checkContextKey(){let p=!1;for(const v of this.listCodeEditors())if(!v.isSimpleWidget){p=!0;break}this._editorIsOpen.set(p)}setActiveCodeEditor(p){this._activeCodeEditor=p}getActiveCodeEditor(){return this._activeCodeEditor}openCodeEditor(p,v,i){return v?Promise.resolve(this.doOpenEditor(v,p)):Promise.resolve(null)}doOpenEditor(p,v){if(!this.findModel(p,v.resource)){if(v.resource){const a=v.resource.scheme;if(a===N.Schemas.http||a===N.Schemas.https)return(0,L.windowOpenNoOpener)(v.resource.toString()),p}return null}const t=v.options?v.options.selection:null;if(t)if(typeof t.endLineNumber=="number"&&typeof t.endColumn=="number")p.setSelection(t),p.revealRangeInCenter(t,1);else{const a={lineNumber:t.startLineNumber,column:t.startColumn};p.setPosition(a),p.revealPositionInCenter(a,1)}return p}findModel(p,v){const i=p.getModel();return i&&i.uri.toString()!==v.toString()?null:i}};S=Ve([Ce(1,E.IContextKeyService),Ce(2,g.IThemeService)],S),e.StandaloneCodeEditorServiceImpl=S}),define(ee[645],te([0,1,52,24]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hc_black=e.vs_dark=e.vs=void 0,e.vs={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[N.editorBackground]:"#FFFFFE",[N.editorForeground]:"#000000",[N.editorInactiveSelection]:"#E5EBF1",[L.editorIndentGuides]:"#D3D3D3",[L.editorActiveIndentGuides]:"#939393",[N.editorSelectionHighlight]:"#ADD6FF4D"}},e.vs_dark={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[N.editorBackground]:"#1E1E1E",[N.editorForeground]:"#D4D4D4",[N.editorInactiveSelection]:"#3A3D41",[L.editorIndentGuides]:"#404040",[L.editorActiveIndentGuides]:"#707070",[N.editorSelectionHighlight]:"#ADD6FF26"}},e.hc_black={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[N.editorBackground]:"#000000",[N.editorForeground]:"#FFFFFF",[L.editorIndentGuides]:"#FFFFFF",[L.editorActiveIndentGuides]:"#FFFFFF"}}});var In=this&&this.__rest||function(Q,e){var L={};for(var N in Q)Object.prototype.hasOwnProperty.call(Q,N)&&e.indexOf(N)<0&&(L[N]=Q[N]);if(Q!=null&&typeof Object.getOwnPropertySymbols=="function")for(var M=0,N=Object.getOwnPropertySymbols(Q);M<N.length;M++)e.indexOf(N[M])<0&&Object.prototype.propertyIsEnumerable.call(Q,N[M])&&(L[N[M]]=Q[N[M]]);return L};define(ee[38],te([0,1,46,27,4,55,2,80,26,17,191,9,77,14]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerAction2=e.Action2=e.SyncActionDescriptor=e.MenuItemAction=e.SubmenuItemAction=e.ExecuteCommandAction=e.MenuRegistry=e.IMenuService=e.MenuId=e.isISubmenuItem=e.isIMenuItem=void 0;function l(_){return _.command!==void 0}e.isIMenuItem=l;function h(_){return _.submenu!==void 0}e.isISubmenuItem=h;class d{constructor(f){this.id=d._idPool++,this._debugName=f}}e.MenuId=d,d._idPool=0,d.CommandPalette=new d("CommandPalette"),d.DebugBreakpointsContext=new d("DebugBreakpointsContext"),d.DebugCallStackContext=new d("DebugCallStackContext"),d.DebugConsoleContext=new d("DebugConsoleContext"),d.DebugVariablesContext=new d("DebugVariablesContext"),d.DebugWatchContext=new d("DebugWatchContext"),d.DebugToolBar=new d("DebugToolBar"),d.EditorContext=new d("EditorContext"),d.SimpleEditorContext=new d("SimpleEditorContext"),d.EditorContextCopy=new d("EditorContextCopy"),d.EditorContextPeek=new d("EditorContextPeek"),d.EditorTitle=new d("EditorTitle"),d.EditorTitleRun=new d("EditorTitleRun"),d.EditorTitleContext=new d("EditorTitleContext"),d.EmptyEditorGroup=new d("EmptyEditorGroup"),d.EmptyEditorGroupContext=new d("EmptyEditorGroupContext"),d.ExplorerContext=new d("ExplorerContext"),d.ExtensionContext=new d("ExtensionContext"),d.GlobalActivity=new d("GlobalActivity"),d.LayoutControlMenu=new d("LayoutControlMenu"),d.MenubarMainMenu=new d("MenubarMainMenu"),d.MenubarAppearanceMenu=new d("MenubarAppearanceMenu"),d.MenubarDebugMenu=new d("MenubarDebugMenu"),d.MenubarEditMenu=new d("MenubarEditMenu"),d.MenubarCopy=new d("MenubarCopy"),d.MenubarFileMenu=new d("MenubarFileMenu"),d.MenubarGoMenu=new d("MenubarGoMenu"),d.MenubarHelpMenu=new d("MenubarHelpMenu"),d.MenubarLayoutMenu=new d("MenubarLayoutMenu"),d.MenubarNewBreakpointMenu=new d("MenubarNewBreakpointMenu"),d.MenubarPreferencesMenu=new d("MenubarPreferencesMenu"),d.MenubarRecentMenu=new d("MenubarRecentMenu"),d.MenubarSelectionMenu=new d("MenubarSelectionMenu"),d.MenubarSwitchEditorMenu=new d("MenubarSwitchEditorMenu"),d.MenubarSwitchGroupMenu=new d("MenubarSwitchGroupMenu"),d.MenubarTerminalMenu=new d("MenubarTerminalMenu"),d.MenubarViewMenu=new d("MenubarViewMenu"),d.MenubarHomeMenu=new d("MenubarHomeMenu"),d.OpenEditorsContext=new d("OpenEditorsContext"),d.ProblemsPanelContext=new d("ProblemsPanelContext"),d.SCMChangeContext=new d("SCMChangeContext"),d.SCMResourceContext=new d("SCMResourceContext"),d.SCMResourceFolderContext=new d("SCMResourceFolderContext"),d.SCMResourceGroupContext=new d("SCMResourceGroupContext"),d.SCMSourceControl=new d("SCMSourceControl"),d.SCMTitle=new d("SCMTitle"),d.SearchContext=new d("SearchContext"),d.StatusBarWindowIndicatorMenu=new d("StatusBarWindowIndicatorMenu"),d.StatusBarRemoteIndicatorMenu=new d("StatusBarRemoteIndicatorMenu"),d.TestItem=new d("TestItem"),d.TestItemGutter=new d("TestItemGutter"),d.TestPeekElement=new d("TestPeekElement"),d.TestPeekTitle=new d("TestPeekTitle"),d.TouchBarContext=new d("TouchBarContext"),d.TitleBarContext=new d("TitleBarContext"),d.TunnelContext=new d("TunnelContext"),d.TunnelPrivacy=new d("TunnelPrivacy"),d.TunnelProtocol=new d("TunnelProtocol"),d.TunnelPortInline=new d("TunnelInline"),d.TunnelTitle=new d("TunnelTitle"),d.TunnelLocalAddressInline=new d("TunnelLocalAddressInline"),d.TunnelOriginInline=new d("TunnelOriginInline"),d.ViewItemContext=new d("ViewItemContext"),d.ViewContainerTitle=new d("ViewContainerTitle"),d.ViewContainerTitleContext=new d("ViewContainerTitleContext"),d.ViewTitle=new d("ViewTitle"),d.ViewTitleContext=new d("ViewTitleContext"),d.CommentThreadTitle=new d("CommentThreadTitle"),d.CommentThreadActions=new d("CommentThreadActions"),d.CommentTitle=new d("CommentTitle"),d.CommentActions=new d("CommentActions"),d.InteractiveToolbar=new d("InteractiveToolbar"),d.InteractiveCellTitle=new d("InteractiveCellTitle"),d.InteractiveCellExecute=new d("InteractiveCellExecute"),d.InteractiveInputExecute=new d("InteractiveInputExecute"),d.NotebookToolbar=new d("NotebookToolbar"),d.NotebookCellTitle=new d("NotebookCellTitle"),d.NotebookCellInsert=new d("NotebookCellInsert"),d.NotebookCellBetween=new d("NotebookCellBetween"),d.NotebookCellListTop=new d("NotebookCellTop"),d.NotebookCellExecute=new d("NotebookCellExecute"),d.NotebookCellExecutePrimary=new d("NotebookCellExecutePrimary"),d.NotebookDiffCellInputTitle=new d("NotebookDiffCellInputTitle"),d.NotebookDiffCellMetadataTitle=new d("NotebookDiffCellMetadataTitle"),d.NotebookDiffCellOutputsTitle=new d("NotebookDiffCellOutputsTitle"),d.NotebookOutputToolbar=new d("NotebookOutputToolbar"),d.NotebookEditorLayoutConfigure=new d("NotebookEditorLayoutConfigure"),d.BulkEditTitle=new d("BulkEditTitle"),d.BulkEditContext=new d("BulkEditContext"),d.TimelineItemContext=new d("TimelineItemContext"),d.TimelineTitle=new d("TimelineTitle"),d.TimelineTitleContext=new d("TimelineTitleContext"),d.AccountsContext=new d("AccountsContext"),d.PanelTitle=new d("PanelTitle"),d.TerminalInstanceContext=new d("TerminalInstanceContext"),d.TerminalEditorInstanceContext=new d("TerminalEditorInstanceContext"),d.TerminalNewDropdownContext=new d("TerminalNewDropdownContext"),d.TerminalTabContext=new d("TerminalTabContext"),d.TerminalTabEmptyAreaContext=new d("TerminalTabEmptyAreaContext"),d.TerminalInlineTabContext=new d("TerminalInlineTabContext"),d.WebviewContext=new d("WebviewContext"),d.InlineCompletionsActions=new d("InlineCompletionsActions"),d.NewFile=new d("NewFile"),e.IMenuService=(0,i.createDecorator)("menuService"),e.MenuRegistry=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new M.Emitter,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:_=>_===d.CommandPalette}}addCommand(_){return this.addCommands(E.Iterable.single(_))}addCommands(_){for(const f of _)this._commands.set(f.id,f);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),(0,g.toDisposable)(()=>{let f=!1;for(const c of _)f=this._commands.delete(c.id)||f;f&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)})}getCommand(_){return this._commands.get(_)}getCommands(){const _=new Map;return this._commands.forEach((f,c)=>_.set(c,f)),_}appendMenuItem(_,f){return this.appendMenuItems(E.Iterable.single({id:_,item:f}))}appendMenuItems(_){const f=new Set,c=new S.LinkedList;for(const{id:C,item:y}of _){let w=this._menuItems.get(C);w||(w=new S.LinkedList,this._menuItems.set(C,w)),c.push(w.push(y)),f.add(C)}return this._onDidChangeMenu.fire(f),(0,g.toDisposable)(()=>{if(c.size>0){for(let C of c)C();this._onDidChangeMenu.fire(f),c.clear()}})}getMenuItems(_){let f;return this._menuItems.has(_)?f=[...this._menuItems.get(_)]:f=[],_===d.CommandPalette&&this._appendImplicitItems(f),f}_appendImplicitItems(_){const f=new Set;for(const c of _)l(c)&&(f.add(c.command.id),c.alt&&f.add(c.alt.id));this._commands.forEach((c,C)=>{f.has(C)||_.push({command:c})})}};let u=class extends L.Action{constructor(f,c,C){super(f,c);this._commandService=C}run(...f){return this._commandService.executeCommand(this.id,...f)}};u=Ve([Ce(2,b.ICommandService)],u),e.ExecuteCommandAction=u;class n extends L.SubmenuAction{constructor(f,c,C,y){super(`submenuitem.${f.submenu.id}`,typeof f.title=="string"?f.title:f.title.value,[],"submenu");this.item=f,this._menuService=c,this._contextKeyService=C,this._options=y}get actions(){const f=[],c=this._menuService.createMenu(this.item.submenu,this._contextKeyService),C=c.getActions(this._options);c.dispose();for(const[,y]of C)y.length>0&&(f.push(...y),f.push(new L.Separator));return f.length&&f.pop(),f}}e.SubmenuItemAction=n;let r=class Ai{constructor(f,c,C,y,w){var D,I;if(this._commandService=w,this.id=f.id,this.label=(C==null?void 0:C.renderShortTitle)&&f.shortTitle?typeof f.shortTitle=="string"?f.shortTitle:f.shortTitle.value:typeof f.title=="string"?f.title:f.title.value,this.tooltip=(I=typeof f.tooltip=="string"?f.tooltip:(D=f.tooltip)===null||D===void 0?void 0:D.value)!==null&&I!==void 0?I:"",this.enabled=!f.precondition||y.contextMatchesRules(f.precondition),this.checked=void 0,f.toggled){const T=f.toggled.condition?f.toggled:{condition:f.toggled};this.checked=y.contextMatchesRules(T.condition),this.checked&&T.tooltip&&(this.tooltip=typeof T.tooltip=="string"?T.tooltip:T.tooltip.value),T.title&&(this.label=typeof T.title=="string"?T.title:T.title.value)}this.item=f,this.alt=c?new Ai(c,void 0,C,y,w):void 0,this._options=C,a.ThemeIcon.isThemeIcon(f.icon)&&(this.class=N.CSSIcon.asClassName(f.icon))}dispose(){}run(...f){var c,C;let y=[];return((c=this._options)===null||c===void 0?void 0:c.arg)&&(y=[...y,this._options.arg]),((C=this._options)===null||C===void 0?void 0:C.shouldForwardArgs)&&(y=[...y,...f]),this._commandService.executeCommand(this.id,...y)}};r=Ve([Ce(3,p.IContextKeyService),Ce(4,b.ICommandService)],r),e.MenuItemAction=r;class s{constructor(f,c,C,y,w,D){this._id=c,this._label=C,this._keybindings=y,this._keybindingContext=w,this._keybindingWeight=D,this._descriptor=new v.SyncDescriptor(f,[this._id,this._label])}static create(f,c,C,y,w,D){return new s(f,c,C,y,w,D)}static from(f,c,C,y){return s.create(f,f.ID,f.LABEL,c,C,y)}get syncDescriptor(){return this._descriptor}get id(){return this._id}get label(){return this._label}get keybindings(){return this._keybindings}get keybindingContext(){return this._keybindingContext}get keybindingWeight(){return this._keybindingWeight}}e.SyncActionDescriptor=s;class o{constructor(f){this.desc=f}}e.Action2=o;function m(_){const f=new g.DisposableStore,c=new _,C=c.desc,{f1:y,menu:w,keybinding:D,description:I}=C,T=In(C,["f1","menu","keybinding","description"]);if(f.add(b.CommandsRegistry.registerCommand({id:T.id,handler:(F,...P)=>c.run(F,...P),description:I})),Array.isArray(w)?f.add(e.MenuRegistry.appendMenuItems(w.map(F=>({id:F.id,item:Object.assign({command:T},F)})))):w&&f.add(e.MenuRegistry.appendMenuItem(w.id,Object.assign({command:T},w))),y&&(f.add(e.MenuRegistry.appendMenuItem(d.CommandPalette,{command:T,when:T.precondition})),f.add(e.MenuRegistry.addCommand(T))),Array.isArray(D))for(let F of D)t.KeybindingsRegistry.registerKeybindingRule(Object.assign(Object.assign({},F),{id:T.id,when:T.precondition?p.ContextKeyExpr.and(T.precondition,F.when):F.when}));else D&&t.KeybindingsRegistry.registerKeybindingRule(Object.assign(Object.assign({},D),{id:T.id,when:T.precondition?p.ContextKeyExpr.and(T.precondition,D.when):D.when}));return f}e.registerAction2=m}),define(ee[16],te([0,1,485,22,30,13,47,68,38,26,17,77,35,86,20,75]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectAllCommand=e.RedoCommand=e.UndoCommand=e.EditorExtensionsRegistry=e.registerDiffEditorContribution=e.registerEditorContribution=e.registerInstantiatedEditorAction=e.registerMultiEditorAction=e.registerEditorAction=e.registerEditorCommand=e.registerModelCommand=e.registerModelAndPositionCommand=e.EditorAction2=e.MultiEditorAction=e.EditorAction=e.EditorCommand=e.ProxyCommand=e.MultiCommand=e.Command=void 0;class d{constructor(O){this.id=O.id,this.precondition=O.precondition,this._kbOpts=O.kbOpts,this._menuOpts=O.menuOpts,this._description=O.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const O=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const k of O){let V=k.kbExpr;this.precondition&&(V?V=v.ContextKeyExpr.and(V,this.precondition):V=this.precondition);const B={id:this.id,weight:k.weight,args:k.args,when:V,primary:k.primary,secondary:k.secondary,win:k.win,linux:k.linux,mac:k.mac};i.KeybindingsRegistry.registerKeybindingRule(B)}}p.CommandsRegistry.registerCommand({id:this.id,handler:(O,k)=>this.runCommand(O,k),description:this._description})}_registerMenuItem(O){b.MenuRegistry.appendMenuItem(O.menuId,{group:O.group,command:{id:this.id,title:O.title,icon:O.icon,precondition:this.precondition},when:O.when,order:O.order})}}e.Command=d;class u extends d{constructor(){super(...arguments);this._implementations=[]}addImplementation(O,k,V){return this._implementations.push({priority:O,name:k,implementation:V}),this._implementations.sort((B,x)=>x.priority-B.priority),{dispose:()=>{for(let B=0;B<this._implementations.length;B++)if(this._implementations[B].implementation===V){this._implementations.splice(B,1);return}}}}runCommand(O,k){const V=O.get(h.ILogService);V.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const B of this._implementations){const x=B.implementation(O,k);if(x)return V.trace(`Command '${this.id}' was handled by '${B.name}'.`),typeof x=="boolean"?void 0:x}V.trace(`The Command '${this.id}' was not handled by any implementation.`)}}e.MultiCommand=u;class n extends d{constructor(O,k){super(k);this.command=O}runCommand(O,k){return this.command.runCommand(O,k)}}e.ProxyCommand=n;class r extends d{static bindToContribution(O){return class extends r{constructor(V){super(V);this._callback=V.handler}runEditorCommand(V,B,x){O(B)&&this._callback(O(B),x)}}}runCommand(O,k){const V=O.get(M.ICodeEditorService),B=V.getFocusedCodeEditor()||V.getActiveCodeEditor();if(!!B)return B.invokeWithinContext(x=>{if(!!x.get(v.IContextKeyService).contextMatchesRules((0,l.withNullAsUndefined)(this.precondition)))return this.runEditorCommand(x,B,k)})}}e.EditorCommand=r;class s extends r{constructor(O){super(s.convertOptions(O));this.label=O.label,this.alias=O.alias}static convertOptions(O){let k;Array.isArray(O.menuOpts)?k=O.menuOpts:O.menuOpts?k=[O.menuOpts]:k=[];function V(B){return B.menuId||(B.menuId=b.MenuId.EditorContext),B.title||(B.title=O.label),B.when=v.ContextKeyExpr.and(O.precondition,B.when),B}return Array.isArray(O.contextMenuOpts)?k.push(...O.contextMenuOpts.map(V)):O.contextMenuOpts&&k.push(V(O.contextMenuOpts)),O.menuOpts=k,O}runEditorCommand(O,k,V){return this.reportTelemetry(O,k),this.run(O,k,V||{})}reportTelemetry(O,k){O.get(a.ITelemetryService).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}e.EditorAction=s;class o extends s{constructor(){super(...arguments);this._implementations=[]}addImplementation(O,k){return this._implementations.push([O,k]),this._implementations.sort((V,B)=>B[0]-V[0]),{dispose:()=>{for(let V=0;V<this._implementations.length;V++)if(this._implementations[V][1]===k){this._implementations.splice(V,1);return}}}}run(O,k,V){for(const B of this._implementations){const x=B[1](O,k,V);if(x)return typeof x=="boolean"?void 0:x}}}e.MultiEditorAction=o;class m extends b.Action2{run(O,...k){const V=O.get(M.ICodeEditorService),B=V.getFocusedCodeEditor()||V.getActiveCodeEditor();if(!!B)return B.invokeWithinContext(x=>{if(x.get(v.IContextKeyService).contextMatchesRules((0,l.withNullAsUndefined)(this.desc.precondition)))return this.runEditorCommand(x,B,k)})}}e.EditorAction2=m;function _(A,O){p.CommandsRegistry.registerCommand(A,function(k,...V){const[B,x]=V;(0,l.assertType)(N.URI.isUri(B)),(0,l.assertType)(E.Position.isIPosition(x));const K=k.get(g.IModelService).getModel(B);if(K){const X=E.Position.lift(x);return O(K,X,...V.slice(2))}return k.get(S.ITextModelService).createModelReference(B).then(X=>new Promise((Z,q)=>{try{const H=O(X.object.textEditorModel,E.Position.lift(x),V.slice(2));Z(H)}catch(H){q(H)}}).finally(()=>{X.dispose()}))})}e.registerModelAndPositionCommand=_;function f(A,O){p.CommandsRegistry.registerCommand(A,function(k,...V){const[B]=V;(0,l.assertType)(N.URI.isUri(B));const x=k.get(g.IModelService).getModel(B);return x?O(x,...V.slice(1)):k.get(S.ITextModelService).createModelReference(B).then(K=>new Promise((X,Z)=>{try{const q=O(K.object.textEditorModel,V.slice(1));X(q)}catch(q){Z(q)}}).finally(()=>{K.dispose()}))})}e.registerModelCommand=f;function c(A){return P.INSTANCE.registerEditorCommand(A),A}e.registerEditorCommand=c;function C(A){const O=new A;return P.INSTANCE.registerEditorAction(O),O}e.registerEditorAction=C;function y(A){return P.INSTANCE.registerEditorAction(A),A}e.registerMultiEditorAction=y;function w(A){P.INSTANCE.registerEditorAction(A)}e.registerInstantiatedEditorAction=w;function D(A,O){P.INSTANCE.registerEditorContribution(A,O)}e.registerEditorContribution=D;function I(A,O){P.INSTANCE.registerDiffEditorContribution(A,O)}e.registerDiffEditorContribution=I;var T;(function(A){function O(K){return P.INSTANCE.getEditorCommand(K)}A.getEditorCommand=O;function k(){return P.INSTANCE.getEditorActions()}A.getEditorActions=k;function V(){return P.INSTANCE.getEditorContributions()}A.getEditorContributions=V;function B(K){return P.INSTANCE.getEditorContributions().filter(X=>K.indexOf(X.id)>=0)}A.getSomeEditorContributions=B;function x(){return P.INSTANCE.getDiffEditorContributions()}A.getDiffEditorContributions=x})(T=e.EditorExtensionsRegistry||(e.EditorExtensionsRegistry={}));const F={EditorCommonContributions:"editor.contributions"};class P{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(O,k){this.editorContributions.push({id:O,ctor:k})}getEditorContributions(){return this.editorContributions.slice(0)}registerDiffEditorContribution(O,k){this.diffEditorContributions.push({id:O,ctor:k})}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(O){O.register(),this.editorActions.push(O)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(O){O.register(),this.editorCommands[O.id]=O}getEditorCommand(O){return this.editorCommands[O]||null}}P.INSTANCE=new P,t.Registry.add(F.EditorCommonContributions,P.INSTANCE);function R(A){return A.register(),A}e.UndoCommand=R(new u({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2048|56},menuOpts:[{menuId:b.MenuId.MenubarEditMenu,group:"1_do",title:L.localize(0,null),order:1},{menuId:b.MenuId.CommandPalette,group:"",title:L.localize(1,null),order:1}]})),R(new n(e.UndoCommand,{id:"default:undo",precondition:void 0})),e.RedoCommand=R(new u({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2048|55,secondary:[2048|1024|56],mac:{primary:2048|1024|56}},menuOpts:[{menuId:b.MenuId.MenubarEditMenu,group:"1_do",title:L.localize(2,null),order:2},{menuId:b.MenuId.CommandPalette,group:"",title:L.localize(3,null),order:1}]})),R(new n(e.RedoCommand,{id:"default:redo",precondition:void 0})),e.SelectAllCommand=R(new u({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2048|31},menuOpts:[{menuId:b.MenuId.MenubarSelectionMenu,group:"1_basic",title:L.localize(4,null),order:1},{menuId:b.MenuId.CommandPalette,group:"",title:L.localize(5,null),order:1}]}))}),define(ee[646],te([0,1,16,17,21,80,9,74,484]),function(Q,e,L,N,M,E,g,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorKeybindingCancellationTokenSource=void 0;const p=(0,g.createDecorator)("IEditorCancelService"),v=new N.RawContextKey("cancellableOperation",!1,(0,b.localize)(0,null));(0,S.registerSingleton)(p,class{constructor(){this._tokens=new WeakMap}add(t,a){let l=this._tokens.get(t);l||(l=t.invokeWithinContext(d=>{const u=v.bindTo(d.get(N.IContextKeyService)),n=new E.LinkedList;return{key:u,tokens:n}}),this._tokens.set(t,l));let h;return l.key.set(!0),h=l.tokens.push(a),()=>{h&&(h(),l.key.set(!l.tokens.isEmpty()),h=void 0)}}cancel(t){const a=this._tokens.get(t);if(!a)return;const l=a.tokens.pop();l&&(l.cancel(),a.key.set(!a.tokens.isEmpty()))}},!0);class i extends M.CancellationTokenSource{constructor(a,l){super(l);this.editor=a,this._unregister=a.invokeWithinContext(h=>h.get(p).add(a,this))}dispose(){this._unregister(),super.dispose()}}e.EditorKeybindingCancellationTokenSource=i,(0,L.registerEditorCommand)(new class extends L.EditorCommand{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:v})}runEditorCommand(t,a){t.get(p).cancel(a)}})}),define(ee[70],te([0,1,8,3,21,2,646]),function(Q,e,L,N,M,E,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StableEditorScrollState=e.TextModelCancellationTokenSource=e.EditorStateCancellationTokenSource=e.EditorState=void 0;class S{constructor(t,a){if(this.flags=a,(this.flags&1)!=0){const l=t.getModel();this.modelVersionId=l?L.format("{0}#{1}",l.uri.toString(),l.getVersionId()):null}else this.modelVersionId=null;(this.flags&4)!=0?this.position=t.getPosition():this.position=null,(this.flags&2)!=0?this.selection=t.getSelection():this.selection=null,(this.flags&8)!=0?(this.scrollLeft=t.getScrollLeft(),this.scrollTop=t.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(t){if(!(t instanceof S))return!1;const a=t;return!(this.modelVersionId!==a.modelVersionId||this.scrollLeft!==a.scrollLeft||this.scrollTop!==a.scrollTop||!this.position&&a.position||this.position&&!a.position||this.position&&a.position&&!this.position.equals(a.position)||!this.selection&&a.selection||this.selection&&!a.selection||this.selection&&a.selection&&!this.selection.equalsRange(a.selection))}validate(t){return this._equals(new S(t,this.flags))}}e.EditorState=S;class b extends g.EditorKeybindingCancellationTokenSource{constructor(t,a,l,h){super(t,h);this._listener=new E.DisposableStore,a&4&&this._listener.add(t.onDidChangeCursorPosition(d=>{(!l||!N.Range.containsPosition(l,d.position))&&this.cancel()})),a&2&&this._listener.add(t.onDidChangeCursorSelection(d=>{(!l||!N.Range.containsRange(l,d.selection))&&this.cancel()})),a&8&&this._listener.add(t.onDidScrollChange(d=>this.cancel())),a&1&&(this._listener.add(t.onDidChangeModel(d=>this.cancel())),this._listener.add(t.onDidChangeModelContent(d=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}e.EditorStateCancellationTokenSource=b;class p extends M.CancellationTokenSource{constructor(t,a){super(a);this._listener=t.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}e.TextModelCancellationTokenSource=p;class v{constructor(t,a,l){this._visiblePosition=t,this._visiblePositionScrollDelta=a,this._cursorPosition=l}static capture(t){let a=null,l=0;if(t.getScrollTop()!==0){const h=t.getVisibleRanges();if(h.length>0){a=h[0].getStartPosition();const d=t.getTopForPosition(a.lineNumber,a.column);l=t.getScrollTop()-d}}return new v(a,l,t.getPosition())}restore(t){if(this._visiblePosition){const a=t.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);t.setScrollTop(a+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(t){const a=t.getPosition();if(!this._cursorPosition||!a)return;const l=t.getTopForLineNumber(a.lineNumber)-t.getTopForLineNumber(this._cursorPosition.lineNumber);t.setScrollTop(t.getScrollTop()+l)}}e.StableEditorScrollState=v}),define(ee[647],te([0,1,192,16]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsContribution=void 0;let M=class{constructor(g,S){}dispose(){}};M.ID="editor.contrib.markerDecorations",M=Ve([Ce(1,L.IMarkerDecorationsService)],M),e.MarkerDecorationsContribution=M,(0,N.registerEditorContribution)(M.ID,M)}),define(ee[648],te([0,1,45,73,56,16,23,25,499,17,368]),function(Q,e,L,N,M,E,g,S,b,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionAnchorSet=void 0,e.SelectionAnchorSet=new p.RawContextKey("selectionAnchorSet",!1);let v=class Ri{constructor(d,u){this.editor=d,this.selectionAnchorSetContextKey=e.SelectionAnchorSet.bindTo(u),this.modelChangeListener=d.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}static get(d){return d.getContribution(Ri.ID)}setSelectionAnchor(){if(this.editor.hasModel()){const d=this.editor.getPosition(),u=this.decorationId?[this.decorationId]:[],n=this.editor.deltaDecorations(u,[{range:g.Selection.fromPositions(d,d),options:{description:"selection-anchor",stickiness:1,hoverMessage:new N.MarkdownString().appendText((0,b.localize)(0,null)),className:"selection-anchor"}}]);this.decorationId=n[0],this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,L.alert)((0,b.localize)(1,null,d.lineNumber,d.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const d=this.editor.getModel().getDecorationRange(this.decorationId);d&&this.editor.setPosition(d.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const d=this.editor.getModel().getDecorationRange(this.decorationId);if(d){const u=this.editor.getPosition();this.editor.setSelection(g.Selection.fromPositions(d.getStartPosition(),u)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){this.decorationId&&(this.editor.deltaDecorations([this.decorationId],[]),this.decorationId=void 0,this.selectionAnchorSetContextKey.set(!1))}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};v.ID="editor.contrib.selectionAnchorController",v=Ve([Ce(1,p.IContextKeyService)],v);class i extends E.EditorAction{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,b.localize)(2,null),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:S.EditorContextKeys.editorTextFocus,primary:(0,M.KeyChord)(2048|41,2048|32),weight:100}})}run(d,u){return Me(this,void 0,void 0,function*(){v.get(u).setSelectionAnchor()})}}class t extends E.EditorAction{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,b.localize)(3,null),alias:"Go to Selection Anchor",precondition:e.SelectionAnchorSet})}run(d,u){return Me(this,void 0,void 0,function*(){v.get(u).goToSelectionAnchor()})}}class a extends E.EditorAction{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,b.localize)(4,null),alias:"Select from Anchor to Cursor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:S.EditorContextKeys.editorTextFocus,primary:(0,M.KeyChord)(2048|41,2048|41),weight:100}})}run(d,u){return Me(this,void 0,void 0,function*(){v.get(u).selectFromAnchorToCursor()})}}class l extends E.EditorAction{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,b.localize)(5,null),alias:"Cancel Selection Anchor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:S.EditorContextKeys.editorTextFocus,primary:9,weight:100}})}run(d,u){return Me(this,void 0,void 0,function*(){v.get(u).cancelSelectionAnchor()})}}(0,E.registerEditorContribution)(v.ID,v),(0,E.registerEditorAction)(i),(0,E.registerEditorAction)(t),(0,E.registerEditorAction)(a),(0,E.registerEditorAction)(l)}),define(ee[649],te([0,1,16,25,436,501]),function(Q,e,L,N,M,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class g extends L.EditorAction{constructor(v,i){super(i);this.left=v}run(v,i){if(!i.hasModel())return;let t=[],a=i.getSelections();for(const l of a)t.push(new M.MoveCaretCommand(l,this.left));i.pushUndoStop(),i.executeCommands(this.id,t),i.pushUndoStop()}}class S extends g{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:E.localize(0,null),alias:"Move Selected Text Left",precondition:N.EditorContextKeys.writable})}}class b extends g{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:E.localize(1,null),alias:"Move Selected Text Right",precondition:N.EditorContextKeys.writable})}}(0,L.registerEditorAction)(S),(0,L.registerEditorAction)(b)}),define(ee[650],te([0,1,36,15,176,16,30,25,503,38,85]),function(Q,e,L,N,M,E,g,S,b,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PasteAction=e.CopyAction=e.CutAction=void 0;const i="9_cutcopypaste",t=N.isNative||document.queryCommandSupported("cut"),a=N.isNative||document.queryCommandSupported("copy"),l=typeof navigator.clipboard=="undefined"||L.isFirefox?document.queryCommandSupported("paste"):!0;function h(n){return n.register(),n}e.CutAction=t?h(new E.MultiCommand({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:N.isNative?{primary:2048|54,win:{primary:2048|54,secondary:[1024|20]},weight:100}:void 0,menuOpts:[{menuId:p.MenuId.MenubarEditMenu,group:"2_ccp",title:b.localize(0,null),order:1},{menuId:p.MenuId.EditorContext,group:i,title:b.localize(1,null),when:S.EditorContextKeys.writable,order:1},{menuId:p.MenuId.CommandPalette,group:"",title:b.localize(2,null),order:1},{menuId:p.MenuId.SimpleEditorContext,group:i,title:b.localize(3,null),when:S.EditorContextKeys.writable,order:1}]})):void 0,e.CopyAction=a?h(new E.MultiCommand({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:N.isNative?{primary:2048|33,win:{primary:2048|33,secondary:[2048|19]},weight:100}:void 0,menuOpts:[{menuId:p.MenuId.MenubarEditMenu,group:"2_ccp",title:b.localize(4,null),order:2},{menuId:p.MenuId.EditorContext,group:i,title:b.localize(5,null),order:2},{menuId:p.MenuId.CommandPalette,group:"",title:b.localize(6,null),order:1},{menuId:p.MenuId.SimpleEditorContext,group:i,title:b.localize(7,null),order:2}]})):void 0,p.MenuRegistry.appendMenuItem(p.MenuId.MenubarEditMenu,{submenu:p.MenuId.MenubarCopy,title:{value:b.localize(8,null),original:"Copy As"},group:"2_ccp",order:3}),p.MenuRegistry.appendMenuItem(p.MenuId.EditorContext,{submenu:p.MenuId.EditorContextCopy,title:{value:b.localize(9,null),original:"Copy As"},group:i,order:3}),e.PasteAction=l?h(new E.MultiCommand({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:N.isNative?{primary:2048|52,win:{primary:2048|52,secondary:[1024|19]},linux:{primary:2048|52,secondary:[1024|19]},weight:100}:void 0,menuOpts:[{menuId:p.MenuId.MenubarEditMenu,group:"2_ccp",title:b.localize(10,null),order:4},{menuId:p.MenuId.EditorContext,group:i,title:b.localize(11,null),when:S.EditorContextKeys.writable,order:4},{menuId:p.MenuId.CommandPalette,group:"",title:b.localize(12,null),order:1},{menuId:p.MenuId.SimpleEditorContext,group:i,title:b.localize(13,null),when:S.EditorContextKeys.writable,order:4}]})):void 0;class d extends E.EditorAction{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:b.localize(14,null),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:S.EditorContextKeys.textInputFocus,primary:0,weight:100}})}run(r,s){!s.hasModel()||!s.getOption(32)&&s.getSelection().isEmpty()||(M.CopyOptions.forceCopyWithSyntaxHighlighting=!0,s.focus(),document.execCommand("copy"),M.CopyOptions.forceCopyWithSyntaxHighlighting=!1)}}function u(n,r){!n||(n.addImplementation(1e4,"code-editor",(s,o)=>{const m=s.get(g.ICodeEditorService).getFocusedCodeEditor();if(m&&m.hasTextFocus()){const _=m.getOption(32),f=m.getSelection();return f&&f.isEmpty()&&!_||document.execCommand(r),!0}return!1}),n.addImplementation(0,"generic-dom",(s,o)=>(document.execCommand(r),!0)))}u(e.CutAction,"cut"),u(e.CopyAction,"copy"),e.PasteAction&&(e.PasteAction.addImplementation(1e4,"code-editor",(n,r)=>{const s=n.get(g.ICodeEditorService),o=n.get(v.IClipboardService),m=s.getFocusedCodeEditor();return m&&m.hasTextFocus()?!document.execCommand("paste")&&N.isWeb?(()=>Me(void 0,void 0,void 0,function*(){const f=yield o.readText();if(f!==""){const c=M.InMemoryClipboardMetadataManager.INSTANCE.get(f);let C=!1,y=null,w=null;c&&(C=m.getOption(32)&&!!c.isFromEmptySelection,y=typeof c.multicursorText!="undefined"?c.multicursorText:null,w=c.mode),m.trigger("keyboard","paste",{text:f,pasteOnNewLine:C,multicursorText:y,mode:w})}}))():!0:!1}),e.PasteAction.addImplementation(0,"generic-dom",(n,r)=>(document.execCommand("paste"),!0))),a&&(0,E.registerEditorAction)(d)}),define(ee[159],te([0,1,19,21,12,2,22,70,3,23,18,47,26,61,152]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeActions=e.CodeActionItem=e.fixAllCommandId=e.organizeImportsCommandId=e.sourceActionCommandId=e.refactorCommandId=e.codeActionCommandId=void 0,e.codeActionCommandId="editor.action.codeAction",e.refactorCommandId="editor.action.refactor",e.sourceActionCommandId="editor.action.sourceAction",e.organizeImportsCommandId="editor.action.organizeImports",e.fixAllCommandId="editor.action.fixAll";class h{constructor(m,_){this.action=m,this.provider=_}resolve(m){var _;return Me(this,void 0,void 0,function*(){if(((_=this.provider)===null||_===void 0?void 0:_.resolveCodeAction)&&!this.action.edit){let f;try{f=yield this.provider.resolveCodeAction(this.action,m)}catch(c){(0,M.onUnexpectedExternalError)(c)}f&&(this.action.edit=f.edit)}return this})}}e.CodeActionItem=h;class d extends E.Disposable{constructor(m,_,f){super();this.documentation=_,this._register(f),this.allActions=[...m].sort(d.codeActionsComparator),this.validActions=this.allActions.filter(({action:c})=>!c.disabled)}static codeActionsComparator({action:m},{action:_}){return m.isPreferred&&!_.isPreferred?-1:!m.isPreferred&&_.isPreferred?1:(0,L.isNonEmptyArray)(m.diagnostics)?(0,L.isNonEmptyArray)(_.diagnostics)?m.diagnostics[0].message.localeCompare(_.diagnostics[0].message):-1:(0,L.isNonEmptyArray)(_.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some(({action:m})=>!!m.kind&&l.CodeActionKind.QuickFix.contains(new l.CodeActionKind(m.kind))&&!!m.isPreferred)}}const u={actions:[],documentation:void 0};function n(o,m,_,f,c){var C;const y=_.filter||{},w={only:(C=y.include)===null||C===void 0?void 0:C.value,trigger:_.type},D=new S.TextModelCancellationTokenSource(o,c),I=r(o,y),T=new E.DisposableStore,F=I.map(R=>Me(this,void 0,void 0,function*(){try{f.report(R);const A=yield R.provideCodeActions(o,m,w,D.token);if(A&&T.add(A),D.token.isCancellationRequested)return u;const O=((A==null?void 0:A.actions)||[]).filter(V=>V&&(0,l.filtersAction)(y,V)),k=s(R,O,y.include);return{actions:O.map(V=>new h(V,R)),documentation:k}}catch(A){if((0,M.isPromiseCanceledError)(A))throw A;return(0,M.onUnexpectedExternalError)(A),u}})),P=v.CodeActionProviderRegistry.onDidChange(()=>{const R=v.CodeActionProviderRegistry.all(o);(0,L.equals)(R,I)||D.cancel()});return Promise.all(F).then(R=>{const A=(0,L.flatten)(R.map(k=>k.actions)),O=(0,L.coalesce)(R.map(k=>k.documentation));return new d(A,O,T)}).finally(()=>{P.dispose(),D.dispose()})}e.getCodeActions=n;function r(o,m){return v.CodeActionProviderRegistry.all(o).filter(_=>_.providedCodeActionKinds?_.providedCodeActionKinds.some(f=>(0,l.mayIncludeActionsOfKind)(m,new l.CodeActionKind(f))):!0)}function s(o,m,_){if(!o.documentation)return;const f=o.documentation.map(c=>({kind:new l.CodeActionKind(c.kind),command:c.command}));if(_){let c;for(const C of f)C.kind.contains(_)&&(c?c.kind.contains(C.kind)&&(c=C):c=C);if(c)return c==null?void 0:c.command}for(const c of m)if(!!c.kind){for(const C of f)if(C.kind.contains(new l.CodeActionKind(c.kind)))return C.command}}t.CommandsRegistry.registerCommand("_executeCodeActionProvider",function(o,m,_,f,c){return Me(this,void 0,void 0,function*(){if(!(m instanceof g.URI))throw(0,M.illegalArgument)();const C=o.get(i.IModelService).getModel(m);if(!C)throw(0,M.illegalArgument)();const y=p.Selection.isISelection(_)?p.Selection.liftSelection(_):b.Range.isIRange(_)?C.validateRange(_):void 0;if(!y)throw(0,M.illegalArgument)();const w=typeof f=="string"?new l.CodeActionKind(f):void 0,D=yield n(C,y,{type:1,filter:{includeSourceActions:!0,include:w}},a.Progress.None,N.CancellationToken.None),I=[],T=Math.min(D.validActions.length,typeof c=="number"?c:0);for(let F=0;F<T;F++)I.push(D.validActions[F].resolve(N.CancellationToken.None));try{return yield Promise.all(I),D.validActions.map(F=>F.action)}finally{setTimeout(()=>D.dispose(),100)}})})}),define(ee[651],te([0,1,7,46,12,168,2,13,18,159,152,69,43]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionKeybindingResolver=e.CodeActionMenu=void 0;class a extends N.Action{constructor(n,r){super(n.command?n.command.id:n.title,l(n.title),void 0,!n.disabled,r);this.action=n}}function l(u){return u.replace(/\r\n|\r|\n/g," ")}let h=class extends g.Disposable{constructor(n,r,s,o){super();this._editor=n,this._delegate=r,this._contextMenuService=s,this._visible=!1,this._showingActions=this._register(new g.MutableDisposable),this._keybindingResolver=new d({getKeybindings:()=>o.getKeybindings()})}get isVisible(){return this._visible}show(n,r,s,o){return Me(this,void 0,void 0,function*(){const m=o.includeDisabledActions?r.allActions:r.validActions;if(!m.length){this._visible=!1;return}if(!this._editor.getDomNode())throw this._visible=!1,(0,M.canceled)();this._visible=!0,this._showingActions.value=r;const _=this.getMenuActions(n,m,r.documentation),f=S.Position.isIPosition(s)?this._toCoords(s):s||{x:0,y:0},c=this._keybindingResolver.getResolver(),C=this._editor.getOption(114);this._contextMenuService.showContextMenu({domForShadowRoot:C?this._editor.getDomNode():void 0,getAnchor:()=>f,getActions:()=>_,onHide:()=>{this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:y=>y instanceof a?c(y.action):void 0})})}getMenuActions(n,r,s){var o,m;const _=y=>new a(y.action,()=>this._delegate.onSelectCodeAction(y)),f=r.map(_),c=[...s],C=this._editor.getModel();if(C&&f.length)for(const y of b.CodeActionProviderRegistry.all(C))y._getAdditionalMenuItems&&c.push(...y._getAdditionalMenuItems({trigger:n.type,only:(m=(o=n.filter)===null||o===void 0?void 0:o.include)===null||m===void 0?void 0:m.value},r.map(w=>w.action)));return c.length&&f.push(new N.Separator,...c.map(y=>_(new p.CodeActionItem({title:y.title,command:y},void 0)))),f}_toCoords(n){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(n,1),this._editor.render();const r=this._editor.getScrolledVisiblePosition(n),s=(0,L.getDomNodePagePosition)(this._editor.getDomNode()),o=s.left+r.left,m=s.top+r.top+r.height;return{x:o,y:m}}};h=Ve([Ce(2,i.IContextMenuService),Ce(3,t.IKeybindingService)],h),e.CodeActionMenu=h;class d{constructor(n){this._keybindingProvider=n}getResolver(){const n=new E.Lazy(()=>this._keybindingProvider.getKeybindings().filter(r=>d.codeActionCommands.indexOf(r.command)>=0).filter(r=>r.resolvedKeybinding).map(r=>{let s=r.commandArgs;return r.command===p.organizeImportsCommandId?s={kind:v.CodeActionKind.SourceOrganizeImports.value}:r.command===p.fixAllCommandId&&(s={kind:v.CodeActionKind.SourceFixAll.value}),Object.assign({resolvedKeybinding:r.resolvedKeybinding},v.CodeActionCommandArgs.fromUser(s,{kind:v.CodeActionKind.None,apply:"never"}))}));return r=>{if(r.kind){const s=this.bestKeybindingForCodeAction(r,n.getValue());return s==null?void 0:s.resolvedKeybinding}}}bestKeybindingForCodeAction(n,r){if(!n.kind)return;const s=new v.CodeActionKind(n.kind);return r.filter(o=>o.kind.contains(s)).filter(o=>o.preferred?n.isPreferred:!0).reduceRight((o,m)=>o?o.kind.contains(m.kind)?m:o:m,void 0)}}e.CodeActionKeybindingResolver=d,d.codeActionCommands=[p.refactorCommandId,p.codeActionCommandId,p.sourceActionCommandId,p.organizeImportsCommandId,p.fixAllCommandId]});var mt=this&&this.__classPrivateFieldGet||function(Q,e,L,N){if(L==="a"&&!N)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?Q!==e||!N:!e.has(Q))throw new TypeError("Cannot read private member from an object whose class did not declare it");return L==="m"?N:L==="a"?N.call(Q):N?N.value:e.get(Q)},Ft=this&&this.__classPrivateFieldSet||function(Q,e,L,N,M){if(N==="m")throw new TypeError("Private method is not writable");if(N==="a"&&!M)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?Q!==e||!M:!e.has(Q))throw new TypeError("Cannot write private member to an object whose class did not declare it");return N==="a"?M.call(Q,L):M?M.value=L:e.set(Q,L),L};define(ee[652],te([0,1,10,12,4,2,33,3,18,17,61,159]),function(Q,e,L,N,M,E,g,S,b,p,v,i){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionModel=e.CodeActionsState=e.SUPPORTED_CODE_ACTIONS=void 0,e.SUPPORTED_CODE_ACTIONS=new p.RawContextKey("supportedCodeAction","");class a extends E.Disposable{constructor(n,r,s,o=250){super();this._editor=n,this._markerService=r,this._signalChange=s,this._delay=o,this._autoTriggerTimer=this._register(new L.TimeoutTimer),this._register(this._markerService.onMarkerChanged(m=>this._onMarkerChanges(m))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(n){const r=this._getRangeOfSelectionUnlessWhitespaceEnclosed(n);return this._createEventAndSignalChange(n,r)}_onMarkerChanges(n){const r=this._editor.getModel();!r||n.some(s=>(0,g.isEqual)(s,r.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_getRangeOfMarker(n){const r=this._editor.getModel();if(!!r)for(const s of this._markerService.read({resource:r.uri})){const o=r.validateRange(s);if(S.Range.intersectRanges(o,n))return S.Range.lift(o)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(n){if(!this._editor.hasModel())return;const r=this._editor.getModel(),s=this._editor.getSelection();if(s.isEmpty()&&n.type===2){const{lineNumber:o,column:m}=s.getPosition(),_=r.getLineContent(o);if(_.length===0)return;if(m===1){if(/\s/.test(_[0]))return}else if(m===r.getLineMaxColumn(o)){if(/\s/.test(_[_.length-1]))return}else if(/\s/.test(_[m-2])&&/\s/.test(_[m-1]))return}return s}_createEventAndSignalChange(n,r){const s=this._editor.getModel();if(!r||!s){this._signalChange(void 0);return}const o=this._getRangeOfMarker(r),m=o?o.getStartPosition():r.getStartPosition(),_={trigger:n,selection:r,position:m};return this._signalChange(_),_}}var l;(function(u){u.Empty={type:0};class n{constructor(s,o,m,_){this.trigger=s,this.rangeOrSelection=o,this.position=m,this._cancellablePromise=_,this.type=1,this.actions=_.catch(f=>{if((0,N.isPromiseCanceledError)(f))return h;throw f})}cancel(){this._cancellablePromise.cancel()}}u.Triggered=n})(l=e.CodeActionsState||(e.CodeActionsState={}));const h={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1};class d extends E.Disposable{constructor(n,r,s,o){super();this._editor=n,this._markerService=r,this._progressService=o,this._codeActionOracle=this._register(new E.MutableDisposable),this._state=l.Empty,this._onDidChangeState=this._register(new M.Emitter),this.onDidChangeState=this._onDidChangeState.event,t.set(this,!1),this._supportedCodeActions=e.SUPPORTED_CODE_ACTIONS.bindTo(s),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(b.CodeActionProviderRegistry.onDidChange(()=>this._update())),this._update()}dispose(){mt(this,t,"f")||(Ft(this,t,!0,"f"),super.dispose(),this.setState(l.Empty,!0))}_update(){if(mt(this,t,"f"))return;this._codeActionOracle.value=void 0,this.setState(l.Empty);const n=this._editor.getModel();if(n&&b.CodeActionProviderRegistry.has(n)&&!this._editor.getOption(80)){const r=[];for(const s of b.CodeActionProviderRegistry.all(n))Array.isArray(s.providedCodeActionKinds)&&r.push(...s.providedCodeActionKinds);this._supportedCodeActions.set(r.join(" ")),this._codeActionOracle.value=new a(this._editor,this._markerService,s=>{var o;if(!s){this.setState(l.Empty);return}const m=(0,L.createCancelablePromise)(_=>(0,i.getCodeActions)(n,s.selection,s.trigger,v.Progress.None,_));s.trigger.type===1&&((o=this._progressService)===null||o===void 0||o.showWhile(m,250)),this.setState(new l.Triggered(s.trigger,s.selection,s.position,m))},void 0),this._codeActionOracle.value.trigger({type:2})}else this._supportedCodeActions.reset()}trigger(n){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(n)}setState(n,r){n!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=n,!r&&!mt(this,t,"f")&&this._onDidChangeState.fire(n))}}e.CodeActionModel=d,t=new WeakMap}),define(ee[653],te([0,1,56,16,3,25,269,593,508,38]),function(Q,e,L,N,M,E,g,S,b,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class v extends N.EditorAction{constructor(d,u){super(u);this._type=d}run(d,u){if(!u.hasModel())return;const n=u.getModel(),r=[],s=n.getOptions(),o=u.getOption(19),m=u.getSelections().map((f,c)=>({selection:f,index:c,ignoreFirstLine:!1}));m.sort((f,c)=>M.Range.compareRangesUsingStarts(f.selection,c.selection));let _=m[0];for(let f=1;f<m.length;f++){const c=m[f];_.selection.endLineNumber===c.selection.startLineNumber&&(_.index<c.index?c.ignoreFirstLine=!0:(_.ignoreFirstLine=!0,_=c))}for(const f of m)r.push(new S.LineCommentCommand(f.selection,s.tabSize,this._type,o.insertSpace,o.ignoreEmptyLines,f.ignoreFirstLine));u.pushUndoStop(),u.executeCommands(this.id,r),u.pushUndoStop()}}class i extends v{constructor(){super(0,{id:"editor.action.commentLine",label:b.localize(0,null),alias:"Toggle Line Comment",precondition:E.EditorContextKeys.writable,kbOpts:{kbExpr:E.EditorContextKeys.editorTextFocus,primary:2048|85,weight:100},menuOpts:{menuId:p.MenuId.MenubarEditMenu,group:"5_insert",title:b.localize(1,null),order:1}})}}class t extends v{constructor(){super(1,{id:"editor.action.addCommentLine",label:b.localize(2,null),alias:"Add Line Comment",precondition:E.EditorContextKeys.writable,kbOpts:{kbExpr:E.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2048|41,2048|33),weight:100}})}}class a extends v{constructor(){super(2,{id:"editor.action.removeCommentLine",label:b.localize(3,null),alias:"Remove Line Comment",precondition:E.EditorContextKeys.writable,kbOpts:{kbExpr:E.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2048|41,2048|51),weight:100}})}}class l extends N.EditorAction{constructor(){super({id:"editor.action.blockComment",label:b.localize(4,null),alias:"Toggle Block Comment",precondition:E.EditorContextKeys.writable,kbOpts:{kbExpr:E.EditorContextKeys.editorTextFocus,primary:1024|512|31,linux:{primary:2048|1024|31},weight:100},menuOpts:{menuId:p.MenuId.MenubarEditMenu,group:"5_insert",title:b.localize(5,null),order:2}})}run(d,u){if(!u.hasModel())return;const n=u.getOption(19),r=[],s=u.getSelections();for(const o of s)r.push(new g.BlockCommentCommand(o,n.insertSpace));u.pushUndoStop(),u.executeCommands(this.id,r),u.pushUndoStop()}}(0,N.registerEditorAction)(i),(0,N.registerEditorAction)(t),(0,N.registerEditorAction)(a),(0,N.registerEditorAction)(l)}),define(ee[654],te([0,1,7,104,46,2,15,16,25,509,38,17,69,43]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuController=void 0;let l=class Pi{constructor(u,n,r,s,o,m){this._contextMenuService=n,this._contextViewService=r,this._contextKeyService=s,this._keybindingService=o,this._menuService=m,this._toDispose=new E.DisposableStore,this._contextMenuIsBeingShownCount=0,this._editor=u,this._toDispose.add(this._editor.onContextMenu(_=>this._onContextMenu(_))),this._toDispose.add(this._editor.onMouseWheel(_=>{if(this._contextMenuIsBeingShownCount>0){const f=this._contextViewService.getContextViewElement(),c=_.srcElement;c.shadowRoot&&L.getShadowRoot(f)===c.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(_=>{_.keyCode===58&&(_.preventDefault(),_.stopPropagation(),this.showContextMenu())}))}static get(u){return u.getContribution(Pi.ID)}_onContextMenu(u){if(!this._editor.hasModel())return;if(!this._editor.getOption(20)){this._editor.focus(),u.target.position&&!this._editor.getSelection().containsPosition(u.target.position)&&this._editor.setPosition(u.target.position);return}if(u.target.type===12||(u.event.preventDefault(),u.event.stopPropagation(),u.target.type!==6&&u.target.type!==7&&u.target.type!==1))return;if(this._editor.focus(),u.target.position){let r=!1;for(const s of this._editor.getSelections())if(s.containsPosition(u.target.position)){r=!0;break}r||this._editor.setPosition(u.target.position)}let n=null;u.target.type!==1&&(n={x:u.event.posx-1,width:2,y:u.event.posy-1,height:2}),this.showContextMenu(n)}showContextMenu(u){if(!this._editor.getOption(20)||!this._editor.hasModel())return;if(!this._contextMenuService){this._editor.focus();return}const n=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?v.MenuId.SimpleEditorContext:v.MenuId.EditorContext);n.length>0&&this._doShowContextMenu(n,u)}_getMenuActions(u,n){const r=[],s=this._menuService.createMenu(n,this._contextKeyService),o=s.getActions({arg:u.uri});s.dispose();for(let m of o){const[,_]=m;let f=0;for(const c of _)if(c instanceof v.SubmenuItemAction){const C=this._getMenuActions(u,c.item.submenu);C.length>0&&(r.push(new M.SubmenuAction(c.id,c.label,C)),f++)}else r.push(c),f++;f&&r.push(new M.Separator)}return r.length&&r.pop(),r}_doShowContextMenu(u,n=null){if(!this._editor.hasModel())return;const r=this._editor.getOption(52);if(this._editor.updateOptions({hover:{enabled:!1}}),!n){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const o=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),m=L.getDomNodePagePosition(this._editor.getDomNode()),_=m.left+o.left,f=m.top+o.top+o.height;n={x:_,y:f}}const s=this._editor.getOption(114)&&!g.isIOS;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:s?this._editor.getDomNode():void 0,getAnchor:()=>n,getActions:()=>u,getActionViewItem:o=>{const m=this._keybindingFor(o);if(m)return new N.ActionViewItem(o,o,{label:!0,keybinding:m.getLabel(),isMenu:!0});const _=o;return typeof _.getActionViewItem=="function"?_.getActionViewItem():new N.ActionViewItem(o,o,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:o=>this._keybindingFor(o),onHide:o=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:r})}})}_keybindingFor(u){return this._keybindingService.lookupKeybinding(u.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};l.ID="editor.contrib.contextmenu",l=Ve([Ce(1,t.IContextMenuService),Ce(2,t.IContextViewService),Ce(3,i.IContextKeyService),Ce(4,a.IKeybindingService),Ce(5,v.IMenuService)],l),e.ContextMenuController=l;class h extends S.EditorAction{constructor(){super({id:"editor.action.showContextMenu",label:p.localize(0,null),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.textInputFocus,primary:1024|68,weight:100}})}run(u,n){l.get(n).showContextMenu()}}(0,S.registerEditorContribution)(l.ID,l),(0,S.registerEditorAction)(h)}),define(ee[655],te([0,1,2,16,25,510]),function(Q,e,L,N,M,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorRedo=e.CursorUndo=e.CursorUndoRedoController=void 0;class g{constructor(t){this.selections=t}equals(t){const a=this.selections.length,l=t.selections.length;if(a!==l)return!1;for(let h=0;h<a;h++)if(!this.selections[h].equalsSelection(t.selections[h]))return!1;return!0}}class S{constructor(t,a,l){this.cursorState=t,this.scrollTop=a,this.scrollLeft=l}}class b extends L.Disposable{constructor(t){super();this._editor=t,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(t.onDidChangeModel(a=>{this._undoStack=[],this._redoStack=[]})),this._register(t.onDidChangeModelContent(a=>{this._undoStack=[],this._redoStack=[]})),this._register(t.onDidChangeCursorSelection(a=>{if(this._isCursorUndoRedo||!a.oldSelections||a.oldModelVersionId!==a.modelVersionId)return;const l=new g(a.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(l)||(this._undoStack.push(new S(l,t.getScrollTop(),t.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}static get(t){return t.getContribution(b.ID)}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new S(new g(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new S(new g(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(t){this._isCursorUndoRedo=!0,this._editor.setSelections(t.cursorState.selections),this._editor.setScrollPosition({scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),this._isCursorUndoRedo=!1}}e.CursorUndoRedoController=b,b.ID="editor.contrib.cursorUndoRedoController";class p extends N.EditorAction{constructor(){super({id:"cursorUndo",label:E.localize(0,null),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:M.EditorContextKeys.textInputFocus,primary:2048|51,weight:100}})}run(t,a,l){b.get(a).cursorUndo()}}e.CursorUndo=p;class v extends N.EditorAction{constructor(){super({id:"cursorRedo",label:E.localize(1,null),alias:"Cursor Redo",precondition:void 0})}run(t,a,l){b.get(a).cursorRedo()}}e.CursorRedo=v,(0,N.registerEditorContribution)(b.ID,b),(0,N.registerEditorAction)(p),(0,N.registerEditorAction)(v)}),define(ee[656],te([0,1,16,144,515]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class E extends L.EditorAction{constructor(){super({id:"editor.action.fontZoomIn",label:M.localize(0,null),alias:"Editor Font Zoom In",precondition:void 0})}run(p,v){N.EditorZoom.setZoomLevel(N.EditorZoom.getZoomLevel()+1)}}class g extends L.EditorAction{constructor(){super({id:"editor.action.fontZoomOut",label:M.localize(1,null),alias:"Editor Font Zoom Out",precondition:void 0})}run(p,v){N.EditorZoom.setZoomLevel(N.EditorZoom.getZoomLevel()-1)}}class S extends L.EditorAction{constructor(){super({id:"editor.action.fontZoomReset",label:M.localize(2,null),alias:"Editor Font Zoom Reset",precondition:void 0})}run(p,v){N.EditorZoom.setZoomLevel(0)}}(0,L.registerEditorAction)(E),(0,L.registerEditorAction)(g),(0,L.registerEditorAction)(S)}),define(ee[283],te([0,1,45,19,21,12,55,80,20,22,70,116,13,3,23,18,67,68,245,516,26,620,9]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u,n,r,s,o,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOnTypeFormattingEdits=e.getDocumentFormattingEditsUntilResult=e.getDocumentRangeFormattingEditsUntilResult=e.formatDocumentWithProvider=e.formatDocumentWithSelectedProvider=e.formatDocumentRangesWithProvider=e.formatDocumentRangesWithSelectedProvider=e.FormattingConflicts=e.getRealAndSyntheticDocumentFormattersOrdered=e.alertFormattingEdits=void 0;function _(P){if(P=P.filter(k=>k.range),!P.length)return;let{range:R}=P[0];for(let k=1;k<P.length;k++)R=a.Range.plusRange(R,P[k].range);const{startLineNumber:A,endLineNumber:O}=R;A===O?P.length===1?(0,L.alert)(r.localize(0,null,A)):(0,L.alert)(r.localize(1,null,P.length,A)):P.length===1?(0,L.alert)(r.localize(2,null,A,O)):(0,L.alert)(r.localize(3,null,P.length,A,O))}e.alertFormattingEdits=_;function f(P){const R=[],A=new Set,O=h.DocumentFormattingEditProviderRegistry.ordered(P);for(const V of O)R.push(V),V.extensionId&&A.add(o.ExtensionIdentifier.toKey(V.extensionId));const k=h.DocumentRangeFormattingEditProviderRegistry.ordered(P);for(const V of k){if(V.extensionId){if(A.has(o.ExtensionIdentifier.toKey(V.extensionId)))continue;A.add(o.ExtensionIdentifier.toKey(V.extensionId))}R.push({displayName:V.displayName,extensionId:V.extensionId,provideDocumentFormattingEdits(B,x,K){return V.provideDocumentRangeFormattingEdits(B,B.getFullModelRange(),x,K)}})}return R}e.getRealAndSyntheticDocumentFormattersOrdered=f;class c{static setFormatterSelector(R){return{dispose:c._selectors.unshift(R)}}static select(R,A,O){return Me(this,void 0,void 0,function*(){if(R.length===0)return;const k=g.Iterable.first(c._selectors);if(k)return yield k(R,A,O)})}}e.FormattingConflicts=c,c._selectors=new S.LinkedList;function C(P,R,A,O,k,V){return Me(this,void 0,void 0,function*(){const B=P.get(m.IInstantiationService),x=(0,i.isCodeEditor)(R)?R.getModel():R,K=h.DocumentRangeFormattingEditProviderRegistry.ordered(x),X=yield c.select(K,x,O);X&&(k.report(X),yield B.invokeFunction(y,X,R,A,V))})}e.formatDocumentRangesWithSelectedProvider=C;function y(P,R,A,O,k){return Me(this,void 0,void 0,function*(){const V=P.get(d.IEditorWorkerService);let B,x;(0,i.isCodeEditor)(A)?(B=A.getModel(),x=new v.EditorStateCancellationTokenSource(A,1|4,void 0,k)):(B=A,x=new v.TextModelCancellationTokenSource(A,k));let K=[],X=0;for(let z of(0,N.asArray)(O).sort(a.Range.compareRangesUsingStarts))X>0&&a.Range.areIntersectingOrTouching(K[X-1],z)?K[X-1]=a.Range.fromPositions(K[X-1].getStartPosition(),z.getEndPosition()):X=K.push(z);const Z=z=>Me(this,void 0,void 0,function*(){return(yield R.provideDocumentRangeFormattingEdits(B,z,B.getFormattingOptions(),x.token))||[]}),q=(z,W)=>{if(!z.length||!W.length)return!1;const j=z.reduce((U,Y)=>a.Range.plusRange(U,Y.range),z[0].range);if(!W.some(U=>a.Range.intersectRanges(j,U.range)))return!1;for(let U of z)for(let Y of W)if(a.Range.intersectRanges(U.range,Y.range))return!0;return!1},H=[],G=[];try{for(let z of K){if(x.token.isCancellationRequested)return!0;G.push(yield Z(z))}for(let z=0;z<K.length;++z)for(let W=z+1;W<K.length;++W){if(x.token.isCancellationRequested)return!0;if(q(G[z],G[W])){const j=a.Range.plusRange(K[z],K[W]),U=yield Z(j);K.splice(W,1),K.splice(z,1),K.push(j),G.splice(W,1),G.splice(z,1),G.push(U),z=0,W=0}}for(let z of G){if(x.token.isCancellationRequested)return!0;const W=yield V.computeMoreMinimalEdits(B.uri,z);W&&H.push(...W)}}finally{x.dispose()}if(H.length===0)return!1;if((0,i.isCodeEditor)(A))n.FormattingEdit.execute(A,H,!0),_(H),A.revealPositionInCenterIfOutsideViewport(A.getPosition(),1);else{const[{range:z}]=H,W=new l.Selection(z.startLineNumber,z.startColumn,z.endLineNumber,z.endColumn);B.pushEditOperations([W],H.map(j=>({text:j.text,range:a.Range.lift(j.range),forceMoveMarkers:!0})),j=>{for(const{range:U}of j)if(a.Range.areIntersectingOrTouching(U,W))return[new l.Selection(U.startLineNumber,U.startColumn,U.endLineNumber,U.endColumn)];return null})}return!0})}e.formatDocumentRangesWithProvider=y;function w(P,R,A,O,k){return Me(this,void 0,void 0,function*(){const V=P.get(m.IInstantiationService),B=(0,i.isCodeEditor)(R)?R.getModel():R,x=f(B),K=yield c.select(x,B,A);K&&(O.report(K),yield V.invokeFunction(D,K,R,A,k))})}e.formatDocumentWithSelectedProvider=w;function D(P,R,A,O,k){return Me(this,void 0,void 0,function*(){const V=P.get(d.IEditorWorkerService);let B,x;(0,i.isCodeEditor)(A)?(B=A.getModel(),x=new v.EditorStateCancellationTokenSource(A,1|4,void 0,k)):(B=A,x=new v.TextModelCancellationTokenSource(A,k));let K;try{const X=yield R.provideDocumentFormattingEdits(B,B.getFormattingOptions(),x.token);if(K=yield V.computeMoreMinimalEdits(B.uri,X),x.token.isCancellationRequested)return!0}finally{x.dispose()}if(!K||K.length===0)return!1;if((0,i.isCodeEditor)(A))n.FormattingEdit.execute(A,K,O!==2),O!==2&&(_(K),A.revealPositionInCenterIfOutsideViewport(A.getPosition(),1));else{const[{range:X}]=K,Z=new l.Selection(X.startLineNumber,X.startColumn,X.endLineNumber,X.endColumn);B.pushEditOperations([Z],K.map(q=>({text:q.text,range:a.Range.lift(q.range),forceMoveMarkers:!0})),q=>{for(const{range:H}of q)if(a.Range.areIntersectingOrTouching(H,Z))return[new l.Selection(H.startLineNumber,H.startColumn,H.endLineNumber,H.endColumn)];return null})}return!0})}e.formatDocumentWithProvider=D;function I(P,R,A,O,k){return Me(this,void 0,void 0,function*(){const V=h.DocumentRangeFormattingEditProviderRegistry.ordered(R);for(const B of V){let x=yield Promise.resolve(B.provideDocumentRangeFormattingEdits(R,A,O,k)).catch(E.onUnexpectedExternalError);if((0,N.isNonEmptyArray)(x))return yield P.computeMoreMinimalEdits(R.uri,x)}})}e.getDocumentRangeFormattingEditsUntilResult=I;function T(P,R,A,O){return Me(this,void 0,void 0,function*(){const k=f(R);for(const V of k){let B=yield Promise.resolve(V.provideDocumentFormattingEdits(R,A,O)).catch(E.onUnexpectedExternalError);if((0,N.isNonEmptyArray)(B))return yield P.computeMoreMinimalEdits(R.uri,B)}})}e.getDocumentFormattingEditsUntilResult=T;function F(P,R,A,O,k){const V=h.OnTypeFormattingEditProviderRegistry.ordered(R);return V.length===0||V[0].autoFormatTriggerCharacters.indexOf(O)<0?Promise.resolve(void 0):Promise.resolve(V[0].provideOnTypeFormattingEdits(R,A,O,k,M.CancellationToken.None)).catch(E.onUnexpectedExternalError).then(B=>P.computeMoreMinimalEdits(R.uri,B))}e.getOnTypeFormattingEdits=F,s.CommandsRegistry.registerCommand("_executeFormatRangeProvider",function(P,...R){return Me(this,void 0,void 0,function*(){const[A,O,k]=R;(0,b.assertType)(p.URI.isUri(A)),(0,b.assertType)(a.Range.isIRange(O));const V=P.get(u.ITextModelService),B=P.get(d.IEditorWorkerService),x=yield V.createModelReference(A);try{return I(B,x.object.textEditorModel,a.Range.lift(O),k,M.CancellationToken.None)}finally{x.dispose()}})}),s.CommandsRegistry.registerCommand("_executeFormatDocumentProvider",function(P,...R){return Me(this,void 0,void 0,function*(){const[A,O]=R;(0,b.assertType)(p.URI.isUri(A));const k=P.get(u.ITextModelService),V=P.get(d.IEditorWorkerService),B=yield k.createModelReference(A);try{return T(V,B.object.textEditorModel,O,M.CancellationToken.None)}finally{B.dispose()}})}),s.CommandsRegistry.registerCommand("_executeFormatOnTypeProvider",function(P,...R){return Me(this,void 0,void 0,function*(){const[A,O,k,V]=R;(0,b.assertType)(p.URI.isUri(A)),(0,b.assertType)(t.Position.isIPosition(O)),(0,b.assertType)(typeof k=="string");const B=P.get(u.ITextModelService),x=P.get(d.IEditorWorkerService),K=yield B.createModelReference(A);try{return F(x,K.object.textEditorModel,t.Position.lift(O),k,V)}finally{K.dispose()}})})}),define(ee[657],te([0,1,19,21,12,56,2,16,30,101,3,25,18,67,283,245,517,26,17,9,61]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u,n,r,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let o=class{constructor(C,y){this._workerService=y,this._callOnDispose=new g.DisposableStore,this._callOnModel=new g.DisposableStore,this._editor=C,this._callOnDispose.add(C.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(C.onDidChangeModel(()=>this._update())),this._callOnDispose.add(C.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(t.OnTypeFormattingEditProviderRegistry.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){if(this._callOnModel.clear(),!this._editor.getOption(48)||!this._editor.hasModel())return;const C=this._editor.getModel(),[y]=t.OnTypeFormattingEditProviderRegistry.ordered(C);if(!y||!y.autoFormatTriggerCharacters)return;let w=new p.CharacterSet;for(let D of y.autoFormatTriggerCharacters)w.add(D.charCodeAt(0));this._callOnModel.add(this._editor.onDidType(D=>{let I=D.charCodeAt(D.length-1);w.has(I)&&this._trigger(String.fromCharCode(I))}))}_trigger(C){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const y=this._editor.getModel(),w=this._editor.getPosition();let D=!1;const I=this._editor.onDidChangeModelContent(T=>{if(T.isFlush){D=!0,I.dispose();return}for(let F=0,P=T.changes.length;F<P;F++)if(T.changes[F].range.endLineNumber<=w.lineNumber){D=!0,I.dispose();return}});(0,l.getOnTypeFormattingEdits)(this._workerService,y,w,C,y.getFormattingOptions()).then(T=>{I.dispose(),!D&&(0,L.isNonEmptyArray)(T)&&(h.FormattingEdit.execute(this._editor,T,!0),(0,l.alertFormattingEdits)(T))},T=>{throw I.dispose(),T})}};o.ID="editor.contrib.autoFormat",o=Ve([Ce(1,a.IEditorWorkerService)],o);let m=class{constructor(C,y){this.editor=C,this._instantiationService=y,this._callOnDispose=new g.DisposableStore,this._callOnModel=new g.DisposableStore,this._callOnDispose.add(C.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(C.onDidChangeModel(()=>this._update())),this._callOnDispose.add(C.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(t.DocumentRangeFormattingEditProviderRegistry.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),!!this.editor.getOption(47)&&(!this.editor.hasModel()||!t.DocumentRangeFormattingEditProviderRegistry.has(this.editor.getModel())||this._callOnModel.add(this.editor.onDidPaste(({range:C})=>this._trigger(C))))}_trigger(C){!this.editor.hasModel()||this.editor.getSelections().length>1||this._instantiationService.invokeFunction(l.formatDocumentRangesWithSelectedProvider,this.editor,C,2,s.Progress.None,N.CancellationToken.None).catch(M.onUnexpectedError)}};m.ID="editor.contrib.formatOnPaste",m=Ve([Ce(1,r.IInstantiationService)],m);class _ extends S.EditorAction{constructor(){super({id:"editor.action.formatDocument",label:d.localize(0,null),alias:"Format Document",precondition:n.ContextKeyExpr.and(i.EditorContextKeys.notInCompositeEditor,i.EditorContextKeys.writable,i.EditorContextKeys.hasDocumentFormattingProvider),kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:1024|512|36,linux:{primary:2048|1024|39},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(C,y){return Me(this,void 0,void 0,function*(){if(y.hasModel()){const w=C.get(r.IInstantiationService);yield C.get(s.IEditorProgressService).showWhile(w.invokeFunction(l.formatDocumentWithSelectedProvider,y,1,s.Progress.None,N.CancellationToken.None),250)}})}}class f extends S.EditorAction{constructor(){super({id:"editor.action.formatSelection",label:d.localize(1,null),alias:"Format Selection",precondition:n.ContextKeyExpr.and(i.EditorContextKeys.writable,i.EditorContextKeys.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:(0,E.KeyChord)(2048|41,2048|36),weight:100},contextMenuOpts:{when:i.EditorContextKeys.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(C,y){return Me(this,void 0,void 0,function*(){if(!y.hasModel())return;const w=C.get(r.IInstantiationService),D=y.getModel(),I=y.getSelections().map(F=>F.isEmpty()?new v.Range(F.startLineNumber,1,F.startLineNumber,D.getLineMaxColumn(F.startLineNumber)):F);yield C.get(s.IEditorProgressService).showWhile(w.invokeFunction(l.formatDocumentRangesWithSelectedProvider,y,I,1,s.Progress.None,N.CancellationToken.None),250)})}}(0,S.registerEditorContribution)(o.ID,o),(0,S.registerEditorContribution)(m.ID,m),(0,S.registerEditorAction)(_),(0,S.registerEditorAction)(f),u.CommandsRegistry.registerCommand("editor.action.format",c=>Me(void 0,void 0,void 0,function*(){const C=c.get(b.ICodeEditorService).getFocusedCodeEditor();if(!C||!C.hasModel())return;const y=c.get(u.ICommandService);C.getSelection().isEmpty()?yield y.executeCommand("editor.action.formatDocument"):yield y.executeCommand("editor.action.formatSelection")}))}),define(ee[284],te([0,1,21,12,16,18,123]),function(Q,e,L,N,M,E,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getReferencesAtPosition=e.getTypeDefinitionsAtPosition=e.getImplementationsAtPosition=e.getDeclarationsAtPosition=e.getDefinitionsAtPosition=void 0;function S(l,h,d,u){const r=d.ordered(l).map(s=>Promise.resolve(u(s,l,h)).then(void 0,o=>{(0,N.onUnexpectedExternalError)(o)}));return Promise.all(r).then(s=>{const o=[];for(let m of s)Array.isArray(m)?o.push(...m):m&&o.push(m);return o})}function b(l,h,d){return S(l,h,E.DefinitionProviderRegistry,(u,n,r)=>u.provideDefinition(n,r,d))}e.getDefinitionsAtPosition=b;function p(l,h,d){return S(l,h,E.DeclarationProviderRegistry,(u,n,r)=>u.provideDeclaration(n,r,d))}e.getDeclarationsAtPosition=p;function v(l,h,d){return S(l,h,E.ImplementationProviderRegistry,(u,n,r)=>u.provideImplementation(n,r,d))}e.getImplementationsAtPosition=v;function i(l,h,d){return S(l,h,E.TypeDefinitionProviderRegistry,(u,n,r)=>u.provideTypeDefinition(n,r,d))}e.getTypeDefinitionsAtPosition=i;function t(l,h,d,u){return S(l,h,E.ReferenceProviderRegistry,(n,r,s)=>Me(this,void 0,void 0,function*(){const o=yield n.provideReferences(r,s,{includeDeclaration:!0},u);if(!d||!o||o.length!==2)return o;const m=yield n.provideReferences(r,s,{includeDeclaration:!1},u);return m&&m.length===1?m:o}))}e.getReferencesAtPosition=t;function a(l){return Me(this,void 0,void 0,function*(){const h=yield l(),d=new g.ReferencesModel(h,""),u=d.references.map(n=>n.link);return d.dispose(),u})}(0,M.registerModelAndPositionCommand)("_executeDefinitionProvider",(l,h)=>a(()=>b(l,h,L.CancellationToken.None))),(0,M.registerModelAndPositionCommand)("_executeDeclarationProvider",(l,h)=>a(()=>p(l,h,L.CancellationToken.None))),(0,M.registerModelAndPositionCommand)("_executeImplementationProvider",(l,h)=>a(()=>v(l,h,L.CancellationToken.None))),(0,M.registerModelAndPositionCommand)("_executeTypeDefinitionProvider",(l,h)=>a(()=>i(l,h,L.CancellationToken.None))),(0,M.registerModelAndPositionCommand)("_executeReferenceProvider",(l,h)=>a(()=>t(l,h,!1,L.CancellationToken.None)))}),define(ee[658],te([0,1,4,2,33,16,30,3,526,17,74,9,43,77,41]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISymbolNavigationService=e.ctxHasSymbols=void 0,e.ctxHasSymbols=new p.RawContextKey("hasSymbols",!1,(0,b.localize)(0,null)),e.ISymbolNavigationService=(0,i.createDecorator)("ISymbolNavigationService");let h=class{constructor(n,r,s,o){this._editorService=r,this._notificationService=s,this._keybindingService=o,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=e.ctxHasSymbols.bindTo(n)}reset(){var n,r;this._ctxHasSymbols.reset(),(n=this._currentState)===null||n===void 0||n.dispose(),(r=this._currentMessage)===null||r===void 0||r.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(n){const r=n.parent.parent;if(r.references.length<=1){this.reset();return}this._currentModel=r,this._currentIdx=r.references.indexOf(n),this._ctxHasSymbols.set(!0),this._showMessage();const s=new d(this._editorService),o=s.onDidChange(m=>{if(this._ignoreEditorChange)return;const _=this._editorService.getActiveCodeEditor();if(!_)return;const f=_.getModel(),c=_.getPosition();if(!f||!c)return;let C=!1,y=!1;for(const w of r.references)if((0,M.isEqual)(w.uri,f.uri))C=!0,y=y||S.Range.containsPosition(w.range,c);else if(C)break;(!C||!y)&&this.reset()});this._currentState=(0,N.combinedDisposable)(s,o)}revealNext(n){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const r=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:r.uri,options:{selection:S.Range.collapseToStart(r.range),selectionRevealType:3}},n).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var n;(n=this._currentMessage)===null||n===void 0||n.dispose();const r=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),s=r?(0,b.localize)(1,null,this._currentIdx+1,this._currentModel.references.length,r.getLabel()):(0,b.localize)(2,null,this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(s)}};h=Ve([Ce(0,p.IContextKeyService),Ce(1,g.ICodeEditorService),Ce(2,l.INotificationService),Ce(3,t.IKeybindingService)],h),(0,v.registerSingleton)(e.ISymbolNavigationService,h,!0),(0,E.registerEditorCommand)(new class extends E.EditorCommand{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:e.ctxHasSymbols,kbOpts:{weight:100,primary:70}})}runEditorCommand(u,n){return u.get(e.ISymbolNavigationService).revealNext(n)}}),a.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:e.ctxHasSymbols,primary:9,handler(u){u.get(e.ISymbolNavigationService).reset()}});let d=class{constructor(n){this._listener=new Map,this._disposables=new N.DisposableStore,this._onDidChange=new L.Emitter,this.onDidChange=this._onDidChange.event,this._disposables.add(n.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(n.onCodeEditorAdd(this._onDidAddEditor,this)),n.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,N.dispose)(this._listener.values())}_onDidAddEditor(n){this._listener.set(n,(0,N.combinedDisposable)(n.onDidChangeCursorPosition(r=>this._onDidChange.fire({editor:n})),n.onDidChangeModelContent(r=>this._onDidChange.fire({editor:n}))))}_onDidRemoveEditor(n){var r;(r=this._listener.get(n))===null||r===void 0||r.dispose(),this._listener.delete(n)}};d=Ve([Ce(0,g.ICodeEditorService)],d)}),define(ee[659],te([0,1,10,21,12,16,18]),function(Q,e,L,N,M,E,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getHoverPromise=e.getHover=e.HoverProviderResult=void 0;class S{constructor(a,l,h){this.provider=a,this.hover=l,this.ordinal=h}}e.HoverProviderResult=S;function b(t,a,l,h,d){return Me(this,void 0,void 0,function*(){try{const u=yield Promise.resolve(t.provideHover(l,h,d));if(u&&i(u))return new S(t,u,a)}catch(u){(0,M.onUnexpectedExternalError)(u)}})}function p(t,a,l){const d=g.HoverProviderRegistry.ordered(t).map((u,n)=>b(u,n,t,a,l));return L.AsyncIterableObject.fromPromises(d).coalesce()}e.getHover=p;function v(t,a,l){return p(t,a,l).map(h=>h.hover).toPromise()}e.getHoverPromise=v,(0,E.registerModelAndPositionCommand)("_executeHoverProvider",(t,a)=>v(t,a,N.CancellationToken.None));function i(t){const a=typeof t.range!="undefined",l=typeof t.contents!="undefined"&&t.contents&&t.contents.length>0;return a&&l}}),define(ee[285],te([0,1,7,19,10,73,2,106,13,3,18,39,659,528,37,54]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderMarkdownHovers=e.MarkdownHoverParticipant=e.MarkdownHover=void 0;const d=L.$;class u{constructor(o,m,_,f){this.owner=o,this.range=m,this.contents=_,this.ordinal=f}isValidForHoverAnchor(o){return o.type===1&&this.range.startColumn<=o.range.startColumn&&this.range.endColumn>=o.range.endColumn}}e.MarkdownHover=u;let n=class{constructor(o,m,_,f,c){this._editor=o,this._hover=m,this._modeService=_,this._openerService=f,this._configurationService=c}createLoadingMessage(o){return new u(this,o.range,[new E.MarkdownString().appendText(a.localize(0,null))],2e3)}computeSync(o,m){if(!this._editor.hasModel()||o.type!==1)return[];const _=this._editor.getModel(),f=o.range.startLineNumber,c=_.getLineMaxColumn(f),C=[];let y=1e3;const w=_.getLineLength(f),D=_.getLanguageIdAtPosition(o.range.startLineNumber,o.range.startColumn),I=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:D});typeof I=="number"&&w>=I&&C.push(new u(this,o.range,[{value:a.localize(1,null)}],y++));for(const T of m){const F=T.range.startLineNumber===f?T.range.startColumn:1,P=T.range.endLineNumber===f?T.range.endColumn:c,R=T.options.hoverMessage;if(!R||(0,E.isEmptyMarkdownString)(R))continue;const A=new p.Range(o.range.startLineNumber,F,o.range.startLineNumber,P);C.push(new u(this,A,(0,N.asArray)(R),y++))}return C}computeAsync(o,m,_){if(!this._editor.hasModel()||o.type!==1)return M.AsyncIterableObject.EMPTY;const f=this._editor.getModel();if(!v.HoverProviderRegistry.has(f))return M.AsyncIterableObject.EMPTY;const c=new b.Position(o.range.startLineNumber,o.range.startColumn);return(0,t.getHover)(f,c,_).filter(C=>!(0,E.isEmptyMarkdownString)(C.hover.contents)).map(C=>{const y=C.hover.range?p.Range.lift(C.hover.range):o.range;return new u(this,y,C.hover.contents,C.ordinal)})}renderHoverParts(o,m,_){return r(o,m,this._editor,this._hover,this._modeService,this._openerService)}};n=Ve([Ce(2,i.IModeService),Ce(3,h.IOpenerService),Ce(4,l.IConfigurationService)],n),e.MarkdownHoverParticipant=n;function r(s,o,m,_,f,c){s.sort((y,w)=>y.ordinal-w.ordinal);const C=new g.DisposableStore;for(const y of s)for(const w of y.contents){if((0,E.isEmptyMarkdownString)(w))continue;const D=d("div.hover-row.markdown-hover"),I=L.append(D,d("div.hover-contents")),T=C.add(new S.MarkdownRenderer({editor:m},f,c));C.add(T.onDidRenderAsync(()=>{I.className="hover-contents code-hover-contents",_.onContentsChanged()}));const F=C.add(T.render(w));I.appendChild(F.element),o.appendChild(D)}return C}e.renderMarkdownHovers=r}),define(ee[660],te([0,1,10,21,12,2,48,20,22,129,16,29,13,3,18,155,68,26,24,14]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsController=e.getInlayHints=void 0;const s=1500;class o{constructor(){this._data=new g.ResourceMap}push(w,D){const I=this._data.get(w.uri);I===void 0?this._data.set(w.uri,new Set([D])):I.add(D)}pop(w,D){const I=this._data.get(w.uri);I&&(I.delete(D),I.size===0&&this._data.delete(w.uri))}has(w,D){var I;return Boolean((I=this._data.get(w.uri))===null||I===void 0?void 0:I.has(D))}}function m(y,w,D,I){return Me(this,void 0,void 0,function*(){const T=[],P=l.InlayHintsProviderRegistry.ordered(y).reverse().map(R=>w.map(A=>Me(this,void 0,void 0,function*(){try{D.push(y,R);const O=yield R.provideInlayHints(y,A,I);(O==null?void 0:O.length)&&T.push(O.filter(k=>A.containsPosition(k.position)))}catch(O){(0,M.onUnexpectedExternalError)(O)}finally{D.pop(y,R)}})));return yield Promise.all(P.flat()),T.flat().sort((R,A)=>t.Position.compare(R.position,A.position))})}e.getInlayHints=m;class _{constructor(){this._entries=new g.LRUCache(50)}get(w){const D=_._key(w);return this._entries.get(D)}set(w,D){const I=_._key(w);this._entries.set(I,D)}static _key(w){return`${w.uri.toString()}/${w.getVersionId()}`}}class f{constructor(w){this._editor=w,this._decorationOwnerId=++f._decorationOwnerIdPool,this._disposables=new E.DisposableStore,this._sessionDisposables=new E.DisposableStore,this._getInlayHintsDelays=new h.LanguageFeatureRequestDelays(l.InlayHintsProviderRegistry,25,500),this._cache=new _,this._decorationsMetadata=new Map,this._ruleFactory=new p.DynamicCssRules(this._editor),this._disposables.add(l.InlayHintsProviderRegistry.onDidChange(()=>this._update())),this._disposables.add(w.onDidChangeModel(()=>this._update())),this._disposables.add(w.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(w.onDidChangeConfiguration(D=>{D.hasChanged(126)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){if(this._sessionDisposables.clear(),this._removeAllDecorations(),!this._editor.getOption(126).enabled)return;const w=this._editor.getModel();if(!w||!l.InlayHintsProviderRegistry.has(w))return;const D=this._cache.get(w);D&&this._updateHintsDecorators([w.getFullModelRange()],D);const I=new o,T=new L.RunOnceScheduler(()=>Me(this,void 0,void 0,function*(){const P=Date.now(),R=new N.CancellationTokenSource;this._sessionDisposables.add((0,E.toDisposable)(()=>R.dispose(!0)));const A=this._getHintsRanges(),O=yield m(w,A,I,R.token);T.delay=this._getInlayHintsDelays.update(w,Date.now()-P),!R.token.isCancellationRequested&&(this._updateHintsDecorators(A,O),this._cache.set(w,Array.from(this._decorationsMetadata.values()).map(k=>k.hint)))}),this._getInlayHintsDelays.get(w));this._sessionDisposables.add(T),this._sessionDisposables.add(this._editor.onDidChangeModelContent(()=>T.schedule())),this._sessionDisposables.add(this._editor.onDidScrollChange(()=>T.schedule())),T.schedule();const F=new E.DisposableStore;this._sessionDisposables.add(F);for(const P of l.InlayHintsProviderRegistry.all(w))typeof P.onDidChangeInlayHints=="function"&&F.add(P.onDidChangeInlayHints(()=>{I.has(w,P)||T.schedule()}))}_getHintsRanges(){const w=30,D=this._editor.getModel(),I=this._editor.getVisibleRangesPlusViewportAboveBelow(),T=[];for(const F of I.sort(a.Range.compareRangesUsingStarts)){const P=D.validateRange(new a.Range(F.startLineNumber-w,F.startColumn,F.endLineNumber+w,F.endColumn));T.length===0||!a.Range.areIntersectingOrTouching(T[T.length-1],P)?T.push(P):T[T.length-1]=a.Range.plusRange(T[T.length-1],P)}return T}_updateHintsDecorators(w,D){const{fontSize:I,fontFamily:T}=this._getLayoutInfo(),F=this._editor.getModel(),P=[],R="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(R,T);for(const k of D){const{text:V,position:B,whitespaceBefore:x,whitespaceAfter:K}=k,X=x?I/3|0:0,Z=K?I/3|0:0;let q,H;k.kind===l.InlayHintKind.Parameter?(q=(0,r.themeColorFromId)(n.editorInlayHintParameterBackground),H=(0,r.themeColorFromId)(n.editorInlayHintParameterForeground)):k.kind===l.InlayHintKind.Type?(q=(0,r.themeColorFromId)(n.editorInlayHintTypeBackground),H=(0,r.themeColorFromId)(n.editorInlayHintTypeForeground)):(q=(0,r.themeColorFromId)(n.editorInlayHintBackground),H=(0,r.themeColorFromId)(n.editorInlayHintForeground));const G=this._ruleFactory.createClassNameRef({fontSize:`${I}px`,margin:`0px ${Z}px 0px ${X}px`,fontFamily:`var(${R}), ${i.EDITOR_FONT_DEFAULTS.fontFamily}`,padding:`1px ${Math.max(1,I/4)|0}px`,borderRadius:`${I/4|0}px`,verticalAlign:"middle",backgroundColor:q,color:H});let z="before",W=a.Range.fromPositions(B),j=F.getWordAtPosition(B),U=!1;if(j&&(j.endColumn===B.column?(z="after",U=!0,W=c(j,B.lineNumber)):j.startColumn===B.column&&(U=!0,W=c(j,B.lineNumber))),P.push({decoration:{range:W,options:{[z]:{content:C(V),inlineClassNameAffectsLetterSpacing:!0,inlineClassName:G.className},description:"InlayHint",showIfCollapsed:!U,stickiness:0}},classNameRef:G}),P.length>s)break}const A=[];for(const k of w)for(const{id:V}of F.getDecorationsInRange(k,this._decorationOwnerId,!0)){const B=this._decorationsMetadata.get(V);B&&(A.push(V),B.classNameRef.dispose(),this._decorationsMetadata.delete(V))}const O=F.deltaDecorations(A,P.map(k=>k.decoration),this._decorationOwnerId);for(let k=0;k<O.length;k++)this._decorationsMetadata.set(O[k],{hint:D[k],classNameRef:P[k].classNameRef})}_getLayoutInfo(){const w=this._editor.getOption(126),D=this._editor.getOption(45);let I=w.fontSize;(!I||I<5||I>D)&&(I=D*.9|0);const T=w.fontFamily||this._editor.getOption(42);return{fontSize:I,fontFamily:T}}_removeAllDecorations(){this._editor.deltaDecorations(Array.from(this._decorationsMetadata.keys()),[]);for(let w of this._decorationsMetadata.values())w.classNameRef.dispose();this._decorationsMetadata.clear()}}e.InlayHintsController=f,f.ID="editor.contrib.InlayHints",f._decorationOwnerIdPool=0;function c(y,w){return new a.Range(w,y.startColumn,w,y.endColumn)}function C(y){const w="\xA0";return y.replace(/[ \t]/g,w)}(0,v.registerEditorContribution)(f.ID,f),u.CommandsRegistry.registerCommand("_executeInlayHintProvider",(y,...w)=>Me(void 0,void 0,void 0,function*(){const[D,I]=w;(0,S.assertType)(b.URI.isUri(D)),(0,S.assertType)(a.Range.isIRange(I));const T=yield y.get(d.ITextModelService).createModelReference(D);try{return yield m(T.object.textEditorModel,[a.Range.lift(I)],new o,N.CancellationToken.None)}finally{T.dispose()}}))}),define(ee[160],te([0,1,45,10,2,16,3,538,17,381]),function(Q,e,L,N,M,E,g,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MessageController=void 0;let p=class ri{constructor(a,l){this._messageWidget=new M.MutableDisposable,this._messageListeners=new M.DisposableStore,this._editor=a,this._visible=ri.MESSAGE_VISIBLE.bindTo(l),this._editorListener=this._editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit())}static get(a){return a.getContribution(ri.ID)}dispose(){this._editorListener.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}isVisible(){return this._visible.get()}showMessage(a,l){(0,L.alert)(a),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new i(this._editor,l,a),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new N.TimeoutTimer(()=>this.closeMessage(),3e3));let h;this._messageListeners.add(this._editor.onMouseMove(d=>{!d.target.position||(h?h.containsPosition(d.target.position)||this.closeMessage():h=new g.Range(l.lineNumber-3,1,d.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(i.fadeOut(this._messageWidget.value))}_onDidAttemptReadOnlyEdit(){this._editor.hasModel()&&this.showMessage(S.localize(1,null),this._editor.getPosition())}};p.ID="editor.contrib.messageController",p.MESSAGE_VISIBLE=new b.RawContextKey("messageVisible",!1,S.localize(0,null)),p=Ve([Ce(1,b.IContextKeyService)],p),e.MessageController=p;const v=E.EditorCommand.bindToContribution(p.get);(0,E.registerEditorCommand)(new v({id:"leaveEditorMessage",precondition:p.MESSAGE_VISIBLE,handler:t=>t.closeMessage(),kbOpts:{weight:100+30,primary:9}}));class i{constructor(a,{lineNumber:l,column:h},d){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=a,this._editor.revealLinesInCenterIfOutsideViewport(l,l,0),this._position={lineNumber:l,column:h-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");const u=document.createElement("div");u.classList.add("anchor","top"),this._domNode.appendChild(u);const n=document.createElement("div");n.classList.add("message"),n.textContent=d,this._domNode.appendChild(n);const r=document.createElement("div");r.classList.add("anchor","below"),this._domNode.appendChild(r),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(a){let l;const h=()=>{a.dispose(),clearTimeout(l),a.getDomNode().removeEventListener("animationend",h)};return l=setTimeout(h,110),a.getDomNode().addEventListener("animationend",h),a.getDomNode().classList.add("fadeOut"),{dispose:h}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2]}}afterRender(a){this._domNode.classList.toggle("below",a===2)}}(0,E.registerEditorContribution)(p.ID,p)}),define(ee[661],te([0,1,45,10,21,12,2,20,22,70,16,154,30,13,3,25,18,156,160,545,105,17,9,75,41,61,35,644]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u,n,r,s,o,m,_,f,c,C,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameAction=e.rename=void 0;class w{constructor(R,A){this.model=R,this.position=A,this._providerRenameIdx=0,this._providers=d.RenameProviderRegistry.ordered(R)}hasProvider(){return this._providers.length>0}resolveRenameLocation(R){return Me(this,void 0,void 0,function*(){const A=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const k=this._providers[this._providerRenameIdx];if(!k.resolveRenameLocation)break;let V=yield k.resolveRenameLocation(this.model,this.position,R);if(!!V){if(V.rejectReason){A.push(V.rejectReason);continue}return V}}const O=this.model.getWordAtPosition(this.position);return O?{range:new l.Range(this.position.lineNumber,O.startColumn,this.position.lineNumber,O.endColumn),text:O.word,rejectReason:A.length>0?A.join(`
`):void 0}:{range:l.Range.fromPositions(this.position),text:"",rejectReason:A.length>0?A.join(`
`):void 0}})}provideRenameEdits(R,A){return Me(this,void 0,void 0,function*(){return this._provideRenameEdits(R,this._providerRenameIdx,[],A)})}_provideRenameEdits(R,A,O,k){return Me(this,void 0,void 0,function*(){const V=this._providers[A];if(!V)return{edits:[],rejectReason:O.join(`
`)};const B=yield V.provideRenameEdits(this.model,this.position,R,k);if(B){if(B.rejectReason)return this._provideRenameEdits(R,A+1,O.concat(B.rejectReason),k)}else return this._provideRenameEdits(R,A+1,O.concat(r.localize(0,null)),k);return B})}}function D(P,R,A){return Me(this,void 0,void 0,function*(){const O=new w(P,R),k=yield O.resolveRenameLocation(M.CancellationToken.None);return(k==null?void 0:k.rejectReason)?{edits:[],rejectReason:k.rejectReason}:O.provideRenameEdits(A,M.CancellationToken.None)})}e.rename=D;let I=class Oi{constructor(R,A,O,k,V,B,x){this.editor=R,this._instaService=A,this._notificationService=O,this._bulkEditService=k,this._progressService=V,this._logService=B,this._configService=x,this._dispoableStore=new g.DisposableStore,this._cts=new M.CancellationTokenSource,this._renameInputField=this._dispoableStore.add(new N.IdleValue(()=>this._dispoableStore.add(this._instaService.createInstance(y.RenameInputField,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))))}static get(R){return R.getContribution(Oi.ID)}dispose(){this._dispoableStore.dispose(),this._cts.dispose(!0)}run(){return Me(this,void 0,void 0,function*(){if(this._cts.dispose(!0),!this.editor.hasModel())return;const R=this.editor.getPosition(),A=new w(this.editor.getModel(),R);if(!A.hasProvider())return;this._cts=new p.EditorStateCancellationTokenSource(this.editor,4|1);let O;try{const Z=A.resolveRenameLocation(this._cts.token);this._progressService.showWhile(Z,250),O=yield Z}catch(Z){n.MessageController.get(this.editor).showMessage(Z||r.localize(1,null),R);return}if(!O)return;if(O.rejectReason){n.MessageController.get(this.editor).showMessage(O.rejectReason,R);return}if(this._cts.token.isCancellationRequested)return;this._cts.dispose(),this._cts=new p.EditorStateCancellationTokenSource(this.editor,4|1,O.range);let k=this.editor.getSelection(),V=0,B=O.text.length;!l.Range.isEmpty(k)&&!l.Range.spansMultipleLines(k)&&l.Range.containsRange(O.range,k)&&(V=Math.max(0,k.startColumn-O.range.startColumn),B=Math.min(O.range.endColumn,k.endColumn)-O.range.startColumn);const x=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),K=yield this._renameInputField.value.getInput(O.range,O.text,V,B,x,this._cts.token);if(typeof K=="boolean"){K&&this.editor.focus();return}this.editor.focus();const X=(0,N.raceCancellation)(A.provideRenameEdits(K.newName,this._cts.token),this._cts.token).then(Z=>Me(this,void 0,void 0,function*(){if(!(!Z||!this.editor.hasModel())){if(Z.rejectReason){this._notificationService.info(Z.rejectReason);return}this.editor.setSelection(l.Range.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(i.ResourceEdit.convert(Z),{editor:this.editor,showPreview:K.wantsPreview,label:r.localize(2,null,O==null?void 0:O.text),quotableLabel:r.localize(3,null,O==null?void 0:O.text)}).then(q=>{q.ariaSummary&&(0,L.alert)(r.localize(4,null,O.text,K.newName,q.ariaSummary))}).catch(q=>{this._notificationService.error(r.localize(5,null)),this._logService.error(q)})}}),Z=>{this._notificationService.error(r.localize(6,null)),this._logService.error(Z)});return this._progressService.showWhile(X,250),X})}acceptRenameInput(R){this._renameInputField.value.acceptInput(R)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};I.ID="editor.contrib.renameController",I=Ve([Ce(1,m.IInstantiationService),Ce(2,f.INotificationService),Ce(3,i.IBulkEditService),Ce(4,c.IEditorProgressService),Ce(5,_.ILogService),Ce(6,u.ITextResourceConfigurationService)],I);class T extends v.EditorAction{constructor(){super({id:"editor.action.rename",label:r.localize(7,null),alias:"Rename Symbol",precondition:o.ContextKeyExpr.and(h.EditorContextKeys.writable,h.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(R,A){const O=R.get(t.ICodeEditorService),[k,V]=Array.isArray(A)&&A||[void 0,void 0];return b.URI.isUri(k)&&a.Position.isIPosition(V)?O.openCodeEditor({resource:k},O.getActiveCodeEditor()).then(B=>{!B||(B.setPosition(V),B.invokeWithinContext(x=>(this.reportTelemetry(x,B),this.run(x,B))))},E.onUnexpectedError):super.runCommand(R,A)}run(R,A){const O=I.get(A);return O?O.run():Promise.resolve()}}e.RenameAction=T,(0,v.registerEditorContribution)(I.ID,I),(0,v.registerEditorAction)(T);const F=v.EditorCommand.bindToContribution(I.get);(0,v.registerEditorCommand)(new F({id:"acceptRenameInput",precondition:y.CONTEXT_RENAME_INPUT_VISIBLE,handler:P=>P.acceptRenameInput(!1),kbOpts:{weight:100+99,kbExpr:h.EditorContextKeys.focus,primary:3}})),(0,v.registerEditorCommand)(new F({id:"acceptRenameInputWithPreview",precondition:o.ContextKeyExpr.and(y.CONTEXT_RENAME_INPUT_VISIBLE,o.ContextKeyExpr.has("config.editor.rename.enablePreview")),handler:P=>P.acceptRenameInput(!0),kbOpts:{weight:100+99,kbExpr:h.EditorContextKeys.focus,primary:1024+3}})),(0,v.registerEditorCommand)(new F({id:"cancelRenameInput",precondition:y.CONTEXT_RENAME_INPUT_VISIBLE,handler:P=>P.cancelRenameInput(),kbOpts:{weight:100+99,kbExpr:h.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),(0,v.registerModelAndPositionCommand)("_executeDocumentRenameProvider",function(P,R,...A){const[O]=A;return(0,S.assertType)(typeof O=="string"),D(P,R,O)}),(0,v.registerModelAndPositionCommand)("_executePrepareRename",function(P,R){return Me(this,void 0,void 0,function*(){const O=yield new w(P,R).resolveRenameLocation(M.CancellationToken.None);if(O==null?void 0:O.rejectReason)throw new Error(O.rejectReason);return O})}),C.Registry.as(s.Extensions.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:r.localize(8,null),default:!0,type:"boolean"}}})}),define(ee[662],te([0,1,19,21,12,16,13,3,23,25,18,252,446,547,38,26]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideSelectionRanges=void 0;class d{constructor(_,f){this.index=_,this.ranges=f}mov(_){let f=this.index+(_?1:-1);if(f<0||f>=this.ranges.length)return this;const c=new d(f,this.ranges);return c.ranges[f].equalsRange(this.ranges[this.index])?c.mov(_):c}}class u{constructor(_){this._editor=_,this._ignoreSelection=!1}static get(_){return _.getContribution(u.ID)}dispose(){var _;(_=this._selectionListener)===null||_===void 0||_.dispose()}run(_){return Me(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const f=this._editor.getSelections(),c=this._editor.getModel();if(!v.SelectionRangeRegistry.has(c)||(this._state||(yield o(c,f.map(y=>y.getPosition()),this._editor.getOption(101),N.CancellationToken.None).then(y=>{var w;if(!(!L.isNonEmptyArray(y)||y.length!==f.length)&&!(!this._editor.hasModel()||!L.equals(this._editor.getSelections(),f,(D,I)=>D.equalsSelection(I)))){for(let D=0;D<y.length;D++)y[D]=y[D].filter(I=>I.containsPosition(f[D].getStartPosition())&&I.containsPosition(f[D].getEndPosition())),y[D].unshift(f[D]);this._state=y.map(D=>new d(0,D)),(w=this._selectionListener)===null||w===void 0||w.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var D;this._ignoreSelection||((D=this._selectionListener)===null||D===void 0||D.dispose(),this._state=void 0)})}})),!this._state))return;this._state=this._state.map(y=>y.mov(_));const C=this._state.map(y=>b.Selection.fromPositions(y.ranges[y.index].getStartPosition(),y.ranges[y.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(C)}finally{this._ignoreSelection=!1}})}}u.ID="editor.contrib.smartSelectController";class n extends E.EditorAction{constructor(_,f){super(f);this._forward=_}run(_,f){return Me(this,void 0,void 0,function*(){let c=u.get(f);c&&(yield c.run(this._forward))})}}class r extends n{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:a.localize(0,null),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:1024|512|17,mac:{primary:2048|256|1024|17,secondary:[256|1024|17]},weight:100},menuOpts:{menuId:l.MenuId.MenubarSelectionMenu,group:"1_basic",title:a.localize(1,null),order:2}})}}h.CommandsRegistry.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class s extends n{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:a.localize(2,null),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:1024|512|15,mac:{primary:2048|256|1024|15,secondary:[256|1024|15]},weight:100},menuOpts:{menuId:l.MenuId.MenubarSelectionMenu,group:"1_basic",title:a.localize(3,null),order:3}})}}(0,E.registerEditorContribution)(u.ID,u),(0,E.registerEditorAction)(r),(0,E.registerEditorAction)(s),v.SelectionRangeRegistry.register("*",new t.WordSelectionRangeProvider);function o(m,_,f,c){return Me(this,void 0,void 0,function*(){const C=v.SelectionRangeRegistry.all(m);C.length===1&&C.unshift(new i.BracketSelectionRangeProvider);let y=[],w=[];for(const D of C)y.push(Promise.resolve(D.provideSelectionRanges(m,_,c)).then(I=>{if(L.isNonEmptyArray(I)&&I.length===_.length)for(let T=0;T<_.length;T++){w[T]||(w[T]=[]);for(const F of I[T])S.Range.isIRange(F.range)&&S.Range.containsPosition(F.range,_[T])&&w[T].push(S.Range.lift(F.range))}},M.onUnexpectedExternalError));return yield Promise.all(y),w.map(D=>{if(D.length===0)return[];D.sort((P,R)=>g.Position.isBefore(P.getStartPosition(),R.getStartPosition())?1:g.Position.isBefore(R.getStartPosition(),P.getStartPosition())||g.Position.isBefore(P.getEndPosition(),R.getEndPosition())?-1:g.Position.isBefore(R.getEndPosition(),P.getEndPosition())?1:0);let I=[],T;for(const P of D)(!T||S.Range.containsRange(P,T)&&!S.Range.equalsRange(P,T))&&(I.push(P),T=P);if(!f.selectLeadingAndTrailingWhitespace)return I;let F=[I[0]];for(let P=1;P<I.length;P++){const R=I[P-1],A=I[P];if(A.startLineNumber!==R.startLineNumber||A.endLineNumber!==R.endLineNumber){const O=new S.Range(R.startLineNumber,m.getLineFirstNonWhitespaceColumn(R.startLineNumber),R.endLineNumber,m.getLineLastNonWhitespaceColumn(R.endLineNumber));O.containsRange(R)&&!O.equalsRange(R)&&A.containsRange(O)&&!A.equalsRange(O)&&F.push(O);const k=new S.Range(R.startLineNumber,1,R.endLineNumber,m.getLineMaxColumn(R.endLineNumber));k.containsRange(R)&&!k.equalsRange(O)&&A.containsRange(k)&&!A.equalsRange(k)&&F.push(k)}F.push(A)}return F})})}e.provideSelectionRanges=o,(0,E.registerModelCommand)("_executeSelectionRangeProvider",function(m,..._){const[f]=_;return o(m,f,{selectLeadingAndTrailingWhitespace:!0},N.CancellationToken.None)})}),define(ee[94],te([0,1,21,12,72,2,87,20,22,13,3,18,68,122,550,38,26,17]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showSimpleSuggestions=e.getSuggestionComparator=e.provideSuggestionItems=e.CompletionItemModel=e.setSnippetSuggestSupport=e.getSnippetSuggestSupport=e.CompletionOptions=e.CompletionItem=e.suggestWidgetStatusbarMenu=e.Context=void 0,e.Context={Visible:new u.RawContextKey("suggestWidgetVisible",!1,(0,l.localize)(0,null)),DetailsVisible:new u.RawContextKey("suggestWidgetDetailsVisible",!1,(0,l.localize)(1,null)),MultipleSuggestions:new u.RawContextKey("suggestWidgetMultipleSuggestions",!1,(0,l.localize)(2,null)),MakesTextEdit:new u.RawContextKey("suggestionMakesTextEdit",!0,(0,l.localize)(3,null)),AcceptSuggestionsOnEnter:new u.RawContextKey("acceptSuggestionOnEnter",!0,(0,l.localize)(4,null)),HasInsertAndReplaceRange:new u.RawContextKey("suggestionHasInsertAndReplaceRange",!1,(0,l.localize)(5,null)),InsertMode:new u.RawContextKey("suggestionInsertMode",void 0,{type:"string",description:(0,l.localize)(6,null)}),CanResolve:new u.RawContextKey("suggestionCanResolve",!1,(0,l.localize)(7,null))},e.suggestWidgetStatusbarMenu=new h.MenuId("suggestWidgetStatusBar");class n{constructor(P,R,A,O){this.position=P,this.completion=R,this.container=A,this.provider=O,this.isInvalid=!1,this.score=M.FuzzyScore.Default,this.distance=0,this.textLabel=typeof R.label=="string"?R.label:R.label.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=R.sortText&&R.sortText.toLowerCase(),this.filterTextLow=R.filterText&&R.filterText.toLowerCase(),v.Range.isIRange(R.range)?(this.editStart=new p.Position(R.range.startLineNumber,R.range.startColumn),this.editInsertEnd=new p.Position(R.range.endLineNumber,R.range.endColumn),this.editReplaceEnd=new p.Position(R.range.endLineNumber,R.range.endColumn),this.isInvalid=this.isInvalid||v.Range.spansMultipleLines(R.range)||R.range.startLineNumber!==P.lineNumber):(this.editStart=new p.Position(R.range.insert.startLineNumber,R.range.insert.startColumn),this.editInsertEnd=new p.Position(R.range.insert.endLineNumber,R.range.insert.endColumn),this.editReplaceEnd=new p.Position(R.range.replace.endLineNumber,R.range.replace.endColumn),this.isInvalid=this.isInvalid||v.Range.spansMultipleLines(R.range.insert)||v.Range.spansMultipleLines(R.range.replace)||R.range.insert.startLineNumber!==P.lineNumber||R.range.replace.startLineNumber!==P.lineNumber||R.range.insert.startColumn!==R.range.replace.startColumn),typeof O.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(P){return Me(this,void 0,void 0,function*(){if(!this._resolveCache){const R=P.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,P)).then(A=>{Object.assign(this.completion,A),this._isResolved=!0,R.dispose()},A=>{(0,N.isPromiseCanceledError)(A)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache})}}e.CompletionItem=n;class r{constructor(P=2,R=new Set,A=new Set,O=!0){this.snippetSortOrder=P,this.kindFilter=R,this.providerFilter=A,this.showDeprecated=O}}e.CompletionOptions=r,r.default=new r;let s;function o(){return s}e.getSnippetSuggestSupport=o;function m(F){const P=s;return s=F,P}e.setSnippetSuggestSupport=m;class _{constructor(P,R,A,O){this.items=P,this.needsClipboard=R,this.durations=A,this.disposable=O}}e.CompletionItemModel=_;function f(F,P,R=r.default,A={triggerKind:0},O=L.CancellationToken.None){return Me(this,void 0,void 0,function*(){const k=new g.StopWatch(!0);P=P.clone();const V=F.getWordAtPosition(P),B=V?new v.Range(P.lineNumber,V.startColumn,P.lineNumber,V.endColumn):v.Range.fromPositions(P),x={replace:B,insert:B.setEndPosition(P.lineNumber,P.column)},K=[],X=new E.DisposableStore,Z=[];let q=!1;const H=(z,W,j)=>{var U,Y,ne;if(!!W){for(let J of W.suggestions)if(!R.kindFilter.has(J.kind)){if(!R.showDeprecated&&((U=J==null?void 0:J.tags)===null||U===void 0?void 0:U.includes(1)))continue;J.range||(J.range=x),J.sortText||(J.sortText=typeof J.label=="string"?J.label:J.label.label),!q&&J.insertTextRules&&J.insertTextRules&4&&(q=a.SnippetParser.guessNeedsClipboard(J.insertText)),K.push(new n(P,J,W,z))}(0,E.isDisposable)(W)&&X.add(W),Z.push({providerName:(Y=z._debugDisplayName)!==null&&Y!==void 0?Y:"unkown_provider",elapsedProvider:(ne=W.duration)!==null&&ne!==void 0?ne:-1,elapsedOverall:j.elapsed()})}},G=(()=>Me(this,void 0,void 0,function*(){if(!s||R.kindFilter.has(27)||R.providerFilter.size>0&&!R.providerFilter.has(s))return;const z=new g.StopWatch(!0),W=yield s.provideCompletionItems(F,P,A,O);H(s,W,z)}))();for(let z of i.CompletionProviderRegistry.orderedGroups(F)){let W=K.length;if(yield Promise.all(z.map(j=>Me(this,void 0,void 0,function*(){if(!(R.providerFilter.size>0&&!R.providerFilter.has(j)))try{const U=new g.StopWatch(!0),Y=yield j.provideCompletionItems(F,P,A,O);H(j,Y,U)}catch(U){(0,N.onUnexpectedExternalError)(U)}}))),W!==K.length||O.isCancellationRequested)break}return yield G,O.isCancellationRequested?(X.dispose(),Promise.reject((0,N.canceled)())):new _(K.sort(D(R.snippetSortOrder)),q,{entries:Z,elapsed:k.elapsed()},X)})}e.provideSuggestionItems=f;function c(F,P){if(F.sortTextLow&&P.sortTextLow){if(F.sortTextLow<P.sortTextLow)return-1;if(F.sortTextLow>P.sortTextLow)return 1}return F.completion.label<P.completion.label?-1:F.completion.label>P.completion.label?1:F.completion.kind-P.completion.kind}function C(F,P){if(F.completion.kind!==P.completion.kind){if(F.completion.kind===27)return-1;if(P.completion.kind===27)return 1}return c(F,P)}function y(F,P){if(F.completion.kind!==P.completion.kind){if(F.completion.kind===27)return 1;if(P.completion.kind===27)return-1}return c(F,P)}const w=new Map;w.set(0,C),w.set(2,y),w.set(1,c);function D(F){return w.get(F)}e.getSuggestionComparator=D,d.CommandsRegistry.registerCommand("_executeCompletionItemProvider",(F,...P)=>Me(void 0,void 0,void 0,function*(){const[R,A,O,k]=P;(0,S.assertType)(b.URI.isUri(R)),(0,S.assertType)(p.Position.isIPosition(A)),(0,S.assertType)(typeof O=="string"||!O),(0,S.assertType)(typeof k=="number"||!k);const V=yield F.get(t.ITextModelService).createModelReference(R);try{const B={incomplete:!1,suggestions:[]},x=[],K=yield f(V.object.textEditorModel,p.Position.lift(A),void 0,{triggerCharacter:O,triggerKind:O?1:0});for(const X of K.items)x.length<(k!=null?k:0)&&x.push(X.resolve(L.CancellationToken.None)),B.incomplete=B.incomplete||X.container.incomplete,B.suggestions.push(X.completion);try{return yield Promise.all(x),B}finally{setTimeout(()=>K.disposable.dispose(),100)}}finally{V.dispose()}}));const I=new class{constructor(){this.onlyOnceSuggestions=[]}provideCompletionItems(){let P={suggestions:this.onlyOnceSuggestions.slice(0)};return this.onlyOnceSuggestions.length=0,P}};i.CompletionProviderRegistry.register("*",I);function T(F,P){setTimeout(()=>{I.onlyOnceSuggestions.push(...P),F.getContribution("editor.contrib.suggestController").triggerSuggest(new Set().add(I))},0)}e.showSimpleSuggestions=T}),define(ee[286],te([0,1,45,16,195,557]),function(Q,e,L,N,M,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleTabFocusModeAction=void 0;class g extends N.EditorAction{constructor(){super({id:g.ID,label:E.localize(0,null),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2048|43,mac:{primary:256|1024|43},weight:100}})}run(b,p){const i=!M.TabFocus.getTabFocusMode();M.TabFocus.setTabFocusMode(i),i?(0,L.alert)(E.localize(1,null)):(0,L.alert)(E.localize(2,null))}}e.ToggleTabFocusModeAction=g,g.ID="editor.action.toggleTabFocusMode",(0,N.registerEditorAction)(g)}),define(ee[663],te([0,1,87,16,558]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class E extends N.EditorAction{constructor(){super({id:"editor.action.forceRetokenize",label:M.localize(0,null),alias:"Developer: Force Retokenize",precondition:void 0})}run(S,b){if(!b.hasModel())return;const p=b.getModel();p.resetTokenization();const v=new L.StopWatch(!0);p.forceTokenization(p.getLineCount()),v.stop(),console.log(`tokenization took ${v.elapsed()}`)}}(0,N.registerEditorAction)(E)}),define(ee[664],te([0,1,2,33,16,30,560,126]),function(Q,e,L,N,M,E,g,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnusualLineTerminatorsDetector=void 0;const b="ignoreUnusualLineTerminators";function p(t,a,l){t.setModelProperty(a.uri,b,l)}function v(t,a){return t.getModelProperty(a.uri,b)}let i=class extends L.Disposable{constructor(a,l,h){super();this._editor=a,this._dialogService=l,this._codeEditorService=h,this._config=this._editor.getOption(113),this._register(this._editor.onDidChangeConfiguration(d=>{d.hasChanged(113)&&(this._config=this._editor.getOption(113),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(d=>{d.isUndoing||this._checkForUnusualLineTerminators()}))}_checkForUnusualLineTerminators(){return Me(this,void 0,void 0,function*(){if(this._config==="off"||!this._editor.hasModel())return;const a=this._editor.getModel();if(!a.mightContainUnusualLineTerminators()||v(this._codeEditorService,a)===!0||this._editor.getOption(80))return;if(this._config==="auto"){a.removeUnusualLineTerminators(this._editor.getSelections());return}if(!(yield this._dialogService.confirm({title:g.localize(0,null),message:g.localize(1,null),detail:g.localize(2,null,(0,N.basename)(a.uri)),primaryButton:g.localize(3,null),secondaryButton:g.localize(4,null)})).confirmed){p(this._codeEditorService,a,!0);return}a.removeUnusualLineTerminators(this._editor.getSelections())})}};i.ID="editor.contrib.unusualLineTerminatorsDetector",i=Ve([Ce(1,S.IDialogService),Ce(2,E.ICodeEditorService)],i),e.UnusualLineTerminatorsDetector=i,(0,M.registerEditorContribution)(i.ID,i)}),define(ee[665],te([0,1,7,32,172,45,53,2,15,8,22,16,25,286,17,9,43,54,24,14,66,390]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u,n,r,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=new l.RawContextKey("accessibilityHelpWidgetVisible",!1);let m=class Fi extends S.Disposable{constructor(w,D){super();this._editor=w,this._widget=this._register(D.createInstance(f,this._editor))}static get(w){return w.getContribution(Fi.ID)}show(){this._widget.show()}hide(){this._widget.hide()}};m.ID="editor.contrib.accessibilityHelpController",m=Ve([Ce(1,h.IInstantiationService)],m);function _(y,w){return!y||y.length===0?s.AccessibilityHelpNLS.noSelection:y.length===1?w?p.format(s.AccessibilityHelpNLS.singleSelectionRange,y[0].positionLineNumber,y[0].positionColumn,w):p.format(s.AccessibilityHelpNLS.singleSelection,y[0].positionLineNumber,y[0].positionColumn):w?p.format(s.AccessibilityHelpNLS.multiSelectionRange,y.length,w):y.length>0?p.format(s.AccessibilityHelpNLS.multiSelection,y.length):""}let f=class Gt extends g.Widget{constructor(w,D,I,T){super();this._contextKeyService=D,this._keybindingService=I,this._openerService=T,this._editor=w,this._isVisibleKey=o.bindTo(this._contextKeyService),this._domNode=(0,N.createFastDomNode)(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=(0,N.createFastDomNode)(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange(()=>{this._isVisible&&this._layout()})),this._register(L.addStandardDisposableListener(this._contentDomNode.domNode,"keydown",F=>{if(!!this._isVisible&&(F.equals(2048|35)&&((0,E.alert)(s.AccessibilityHelpNLS.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),L.clearNode(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),F.preventDefault(),F.stopPropagation()),F.equals(2048|38))){(0,E.alert)(s.AccessibilityHelpNLS.openingDocs);let P=this._editor.getRawOptions().accessibilityHelpUrl;typeof P=="undefined"&&(P="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(v.URI.parse(P)),F.preventDefault(),F.stopPropagation()}})),this.onblur(this._contentDomNode.domNode,()=>{this.hide()}),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return Gt.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(w,D,I){let T=this._keybindingService.lookupKeybinding(w);return T?p.format(D,T.getAriaLabel()):p.format(I,w)}_buildContent(){const w=this._editor.getOptions(),D=this._editor.getSelections();let I=0;if(D){const R=this._editor.getModel();R&&D.forEach(A=>{I+=R.getValueLengthInRange(A)})}let T=_(D,I);w.get(53)?w.get(80)?T+=s.AccessibilityHelpNLS.readonlyDiffEditor:T+=s.AccessibilityHelpNLS.editableDiffEditor:w.get(80)?T+=s.AccessibilityHelpNLS.readonlyEditor:T+=s.AccessibilityHelpNLS.editableEditor;const F=b.isMacintosh?s.AccessibilityHelpNLS.changeConfigToOnMac:s.AccessibilityHelpNLS.changeConfigToOnWinLinux;switch(w.get(2)){case 0:T+=`

 - `+F;break;case 2:T+=`

 - `+s.AccessibilityHelpNLS.auto_on;break;case 1:T+=`

 - `+s.AccessibilityHelpNLS.auto_off,T+=" "+F;break}w.get(129)?T+=`

 - `+this._descriptionForCommand(a.ToggleTabFocusModeAction.ID,s.AccessibilityHelpNLS.tabFocusModeOnMsg,s.AccessibilityHelpNLS.tabFocusModeOnMsgNoKb):T+=`

 - `+this._descriptionForCommand(a.ToggleTabFocusModeAction.ID,s.AccessibilityHelpNLS.tabFocusModeOffMsg,s.AccessibilityHelpNLS.tabFocusModeOffMsgNoKb);const P=b.isMacintosh?s.AccessibilityHelpNLS.openDocMac:s.AccessibilityHelpNLS.openDocWinLinux;T+=`

 - `+P,T+=`

`+s.AccessibilityHelpNLS.outroMsg,this._contentDomNode.domNode.appendChild((0,M.renderFormattedText)(T)),this._contentDomNode.domNode.setAttribute("aria-label",T)}hide(){!this._isVisible||(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,L.clearNode(this._contentDomNode.domNode),this._editor.focus())}_layout(){let w=this._editor.getLayoutInfo(),D=Math.max(5,Math.min(Gt.WIDTH,w.width-40)),I=Math.max(5,Math.min(Gt.HEIGHT,w.height-40));this._domNode.setWidth(D),this._domNode.setHeight(I);let T=Math.round((w.height-I)/2);this._domNode.setTop(T);let F=Math.round((w.width-D)/2);this._domNode.setLeft(F)}};f.ID="editor.contrib.accessibilityHelpWidget",f.WIDTH=500,f.HEIGHT=300,f=Ve([Ce(1,l.IContextKeyService),Ce(2,d.IKeybindingService),Ce(3,u.IOpenerService)],f);class c extends i.EditorAction{constructor(){super({id:"editor.action.showAccessibilityHelp",label:s.AccessibilityHelpNLS.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:512|59,weight:100,linux:{primary:512|1024|59,secondary:[512|59]}}})}run(w,D){let I=m.get(D);I&&I.show()}}(0,i.registerEditorContribution)(m.ID,m),(0,i.registerEditorAction)(c);const C=i.EditorCommand.bindToContribution(m.get);(0,i.registerEditorCommand)(new C({id:"closeAccessibilityHelp",precondition:o,handler:y=>y.hide(),kbOpts:{weight:100+100,kbExpr:t.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),(0,r.registerThemingParticipant)((y,w)=>{const D=y.getColor(n.editorWidgetBackground);D&&w.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${D}; }`);const I=y.getColor(n.editorWidgetForeground);I&&w.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${I}; }`);const T=y.getColor(n.widgetShadow);T&&w.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${T}; }`);const F=y.getColor(n.contrastBorder);F&&w.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${F}; }`)})}),define(ee[666],te([0,1,7,2,16,15,391]),function(Q,e,L,N,M,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IPadShowKeyboard=void 0;class g extends N.Disposable{constructor(p){super();this.editor=p,this.widget=null,E.isIOS&&(this._register(p.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const p=!this.editor.getOption(80);!this.widget&&p?this.widget=new S(this.editor):this.widget&&!p&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}e.IPadShowKeyboard=g,g.ID="editor.contrib.iPadShowKeyboard";class S extends N.Disposable{constructor(p){super();this.editor=p,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(L.addDisposableListener(this._domNode,"touchstart",v=>{this.editor.focus()})),this._register(L.addDisposableListener(this._domNode,"focus",v=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return S.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}S.ID="editor.contrib.ShowKeyboardWidget",(0,M.registerEditorContribution)(g.ID,g)}),define(ee[667],te([0,1,7,28,2,16,18,83,39,125,24,14,66,108,392]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let l=class Bi extends M.Disposable{constructor(s,o,m){super();this._editor=s,this._modeService=m,this._widget=null,this._register(this._editor.onDidChangeModel(_=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(_=>this.stop())),this._register(g.TokenizationRegistry.onDidChange(_=>this.stop())),this._register(this._editor.onKeyUp(_=>_.keyCode===9&&this.stop()))}static get(s){return s.getContribution(Bi.ID)}dispose(){this.stop(),super.dispose()}launch(){this._widget||!this._editor.hasModel()||(this._widget=new n(this._editor,this._modeService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};l.ID="editor.contrib.inspectTokens",l=Ve([Ce(1,p.IStandaloneThemeService),Ce(2,b.IModeService)],l);class h extends E.EditorAction{constructor(){super({id:"editor.action.inspectTokens",label:t.InspectTokensNLS.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(s,o){let m=l.get(o);m&&m.launch()}}function d(r){let s="";for(let o=0,m=r.length;o<m;o++){let _=r.charCodeAt(o);switch(_){case 9:s+="\u2192";break;case 32:s+="\xB7";break;default:s+=String.fromCharCode(_)}}return s}function u(r,s){const o=g.TokenizationRegistry.get(s);if(o)return o;const m=r.encodeLanguageId(s);return{getInitialState:()=>S.NULL_STATE,tokenize:(_,f,c,C)=>(0,S.nullTokenize)(s,_,c,C),tokenize2:(_,f,c,C)=>(0,S.nullTokenize2)(m,_,c,C)}}class n extends M.Disposable{constructor(s,o){super();this.allowEditorOverflow=!0,this._editor=s,this._modeService=o,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=u(this._modeService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(m=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return n._ID}_compute(s){let o=this._getTokensAtLine(s.lineNumber),m=0;for(let y=o.tokens1.length-1;y>=0;y--){let w=o.tokens1[y];if(s.column-1>=w.offset){m=y;break}}let _=0;for(let y=o.tokens2.length>>>1;y>=0;y--)if(s.column-1>=o.tokens2[y<<1]){_=y;break}let f=this._model.getLineContent(s.lineNumber),c="";if(m<o.tokens1.length){let y=o.tokens1[m].offset,w=m+1<o.tokens1.length?o.tokens1[m+1].offset:f.length;c=f.substring(y,w)}(0,L.reset)(this._domNode,(0,L.$)("h2.tm-token",void 0,d(c),(0,L.$)("span.tm-token-length",void 0,`${c.length} ${c.length===1?"char":"chars"}`))),(0,L.append)(this._domNode,(0,L.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const C=(_<<1)+1<o.tokens2.length?this._decodeMetadata(o.tokens2[(_<<1)+1]):null;(0,L.append)(this._domNode,(0,L.$)("table.tm-metadata-table",void 0,(0,L.$)("tbody",void 0,(0,L.$)("tr",void 0,(0,L.$)("td.tm-metadata-key",void 0,"language"),(0,L.$)("td.tm-metadata-value",void 0,`${C?C.languageId:"-?-"}`)),(0,L.$)("tr",void 0,(0,L.$)("td.tm-metadata-key",void 0,"token type"),(0,L.$)("td.tm-metadata-value",void 0,`${C?this._tokenTypeToString(C.tokenType):"-?-"}`)),(0,L.$)("tr",void 0,(0,L.$)("td.tm-metadata-key",void 0,"font style"),(0,L.$)("td.tm-metadata-value",void 0,`${C?this._fontStyleToString(C.fontStyle):"-?-"}`)),(0,L.$)("tr",void 0,(0,L.$)("td.tm-metadata-key",void 0,"foreground"),(0,L.$)("td.tm-metadata-value",void 0,`${C?N.Color.Format.CSS.formatHex(C.foreground):"-?-"}`)),(0,L.$)("tr",void 0,(0,L.$)("td.tm-metadata-key",void 0,"background"),(0,L.$)("td.tm-metadata-value",void 0,`${C?N.Color.Format.CSS.formatHex(C.background):"-?-"}`))))),(0,L.append)(this._domNode,(0,L.$)("hr.tokens-inspect-separator")),m<o.tokens1.length&&(0,L.append)(this._domNode,(0,L.$)("span.tm-token-type",void 0,o.tokens1[m].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(s){let o=g.TokenizationRegistry.getColorMap(),m=g.TokenMetadata.getLanguageId(s),_=g.TokenMetadata.getTokenType(s),f=g.TokenMetadata.getFontStyle(s),c=g.TokenMetadata.getForeground(s),C=g.TokenMetadata.getBackground(s);return{languageId:this._modeService.languageIdCodec.decodeLanguageId(m),tokenType:_,fontStyle:f,foreground:o[c],background:o[C]}}_tokenTypeToString(s){switch(s){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 4:return"RegEx";default:return"??"}}_fontStyleToString(s){let o="";return s&1&&(o+="italic "),s&2&&(o+="bold "),s&4&&(o+="underline "),o.length===0&&(o="---"),o}_getTokensAtLine(s){let o=this._getStateBeforeLine(s),m=this._tokenizationSupport.tokenize(this._model.getLineContent(s),!0,o,0),_=this._tokenizationSupport.tokenize2(this._model.getLineContent(s),!0,o,0);return{startState:o,tokens1:m.tokens,tokens2:_.tokens,endState:m.endState}}_getStateBeforeLine(s){let o=this._tokenizationSupport.getInitialState();for(let m=1;m<s;m++)o=this._tokenizationSupport.tokenize(this._model.getLineContent(m),!0,o,0).endState;return o}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}n._ID="editor.contrib.inspectTokensWidget",(0,E.registerEditorContribution)(l.ID,l),(0,E.registerEditorAction)(h),(0,i.registerThemingParticipant)((r,s)=>{const o=r.getColor(v.editorHoverBorder);if(o){let f=r.type===a.ColorScheme.HIGH_CONTRAST?2:1;s.addRule(`.monaco-editor .tokens-inspect-widget { border: ${f}px solid ${o}; }`),s.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${o}; }`)}const m=r.getColor(v.editorHoverBackground);m&&s.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${m}; }`);const _=r.getColor(v.editorHoverForeground);_&&s.addRule(`.monaco-editor .tokens-inspect-widget { color: ${_}; }`)})}),define(ee[668],te([0,1,35,107,66,30,624,20,9,43,26,86,126,16,25,76]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneCommandsQuickAccessProvider=void 0;let d=class extends g.AbstractEditorCommandsQuickAccessProvider{constructor(r,s,o,m,_,f){super({showAlias:!1},r,o,m,_,f);this.codeEditorService=s}get activeTextEditorControl(){return(0,S.withNullAsUndefined)(this.codeEditorService.getFocusedCodeEditor())}getCommandPicks(){return Me(this,void 0,void 0,function*(){return this.getCodeEditorCommandPicks()})}};d=Ve([Ce(0,b.IInstantiationService),Ce(1,E.ICodeEditorService),Ce(2,p.IKeybindingService),Ce(3,v.ICommandService),Ce(4,i.ITelemetryService),Ce(5,t.IDialogService)],d),e.StandaloneCommandsQuickAccessProvider=d,L.Registry.as(N.Extensions.Quickaccess).registerQuickAccessProvider({ctor:d,prefix:d.PREFIX,helpEntries:[{description:M.QuickCommandNLS.quickCommandHelp,needsEditor:!0}]});class u extends a.EditorAction{constructor(){super({id:"editor.action.quickCommand",label:M.QuickCommandNLS.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:l.EditorContextKeys.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(r){r.get(h.IQuickInputService).quickAccess.show(d.PREFIX)}}e.GotoLineAction=u,(0,a.registerEditorAction)(u)}),define(ee[669],te([0,1,642,35,107,30,20,66,4,16,25,76]),function(Q,e,L,N,M,E,g,S,b,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneGotoLineQuickAccessProvider=void 0;let t=class extends L.AbstractGotoLineQuickAccessProvider{constructor(h){super();this.editorService=h,this.onDidActiveTextEditorControlChange=b.Event.None}get activeTextEditorControl(){return(0,g.withNullAsUndefined)(this.editorService.getFocusedCodeEditor())}};t=Ve([Ce(0,E.ICodeEditorService)],t),e.StandaloneGotoLineQuickAccessProvider=t,N.Registry.as(M.Extensions.Quickaccess).registerQuickAccessProvider({ctor:t,prefix:t.PREFIX,helpEntries:[{description:S.GoToLineNLS.gotoLineActionLabel,needsEditor:!0}]});class a extends p.EditorAction{constructor(){super({id:"editor.action.gotoLine",label:S.GoToLineNLS.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:2048|37,mac:{primary:256|37},weight:100}})}run(h){h.get(i.IQuickInputService).quickAccess.show(t.PREFIX)}}e.GotoLineAction=a,(0,p.registerEditorAction)(a)}),define(ee[670],te([0,1,643,35,107,30,20,66,4,16,25,76,141,281]),function(Q,e,L,N,M,E,g,S,b,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneGotoSymbolQuickAccessProvider=void 0;let t=class extends L.AbstractGotoSymbolQuickAccessProvider{constructor(h){super();this.editorService=h,this.onDidActiveTextEditorControlChange=b.Event.None}get activeTextEditorControl(){return(0,g.withNullAsUndefined)(this.editorService.getFocusedCodeEditor())}};t=Ve([Ce(0,E.ICodeEditorService)],t),e.StandaloneGotoSymbolQuickAccessProvider=t,N.Registry.as(M.Extensions.Quickaccess).registerQuickAccessProvider({ctor:t,prefix:L.AbstractGotoSymbolQuickAccessProvider.PREFIX,helpEntries:[{description:S.QuickOutlineNLS.quickOutlineActionLabel,prefix:L.AbstractGotoSymbolQuickAccessProvider.PREFIX,needsEditor:!0},{description:S.QuickOutlineNLS.quickOutlineByCategoryActionLabel,prefix:L.AbstractGotoSymbolQuickAccessProvider.PREFIX_BY_CATEGORY,needsEditor:!0}]});class a extends p.EditorAction{constructor(){super({id:"editor.action.quickOutline",label:S.QuickOutlineNLS.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:v.EditorContextKeys.hasDocumentSymbolProvider,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:2048|1024|45,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(h){h.get(i.IQuickInputService).quickAccess.show(L.AbstractGotoSymbolQuickAccessProvider.PREFIX)}}e.GotoLineAction=a,(0,p.registerEditorAction)(a)}),define(ee[671],te([0,1,16,125,66]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class E extends L.EditorAction{constructor(){super({id:"editor.action.toggleHighContrast",label:M.ToggleHighContrastNLS.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0});this._originalThemeName=null}run(S,b){const p=S.get(N.IStandaloneThemeService);this._originalThemeName?(p.setTheme(this._originalThemeName),this._originalThemeName=null):(this._originalThemeName=p.getColorTheme().themeName,p.setTheme("hc-black"))}}(0,L.registerEditorAction)(E)}),define(ee[196],te([0,1,7,44,104,470,46,189,2,15,563,38,17,69,9,43,41,78,14,395]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createActionViewItem=e.SubmenuEntryActionViewItem=e.MenuEntryActionViewItem=e.createAndFillInActionBarActions=e.createAndFillInContextMenuActions=void 0;function r(y,w,D,I){const T=y.getActions(w),F=L.ModifierKeyEmitter.getInstance(),P=F.keyStatus.altKey||(p.isWindows||p.isLinux)&&F.keyStatus.shiftKey;return m(T,D,P,I?R=>R===I:R=>R==="navigation"),o(T)}e.createAndFillInContextMenuActions=r;function s(y,w,D,I,T,F,P){const R=y.getActions(w),A=typeof I=="string"?O=>O===I:I;return m(R,D,!1,A,T,F,P),o(R)}e.createAndFillInActionBarActions=s;function o(y){const w=new b.DisposableStore;for(const[,D]of y)for(const I of D)w.add(I);return w}function m(y,w,D,I=R=>R==="navigation",T=Number.MAX_SAFE_INTEGER,F=()=>!1,P=!1){let R,A;Array.isArray(w)?(R=w,A=w):(R=w.primary,A=w.secondary);const O=new Set;for(const[k,V]of y){let B;I(k)?(B=R,B.length>0&&P&&B.push(new g.Separator)):(B=A,B.length>0&&B.push(new g.Separator));for(let x of V){D&&(x=x instanceof i.MenuItemAction&&x.alt?x.alt:x);const K=B.push(x);x instanceof g.SubmenuAction&&O.add({group:k,action:x,index:K-1})}}for(const{group:k,action:V,index:B}of O){const x=I(k)?R:A,K=V.actions;(K.length<=1||x.length+K.length-2<=T)&&F(V,k,x.length)&&x.splice(B,1,...K)}if(R!==A&&R.length>T){const k=R.splice(T,R.length-T);A.unshift(...k,new g.Separator)}}let _=class extends M.ActionViewItem{constructor(w,D,I,T,F){super(void 0,w,{icon:!!(w.class||w.item.icon),label:!w.class&&!w.item.icon,draggable:D==null?void 0:D.draggable});this._keybindingService=I,this._notificationService=T,this._contextKeyService=F,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new b.MutableDisposable),this._altKey=L.ModifierKeyEmitter.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(w){return Me(this,void 0,void 0,function*(){w.preventDefault(),w.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(D){this._notificationService.error(D)}})}render(w){super.render(w),w.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let D=!1,I=this._altKey.keyStatus.altKey||(p.isWindows||p.isLinux)&&this._altKey.keyStatus.shiftKey;const T=()=>{const F=D&&I;F!==this._wantsAltCommand&&(this._wantsAltCommand=F,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(F=>{I=F.altKey||(p.isWindows||p.isLinux)&&F.shiftKey,T()})),this._register((0,L.addDisposableListener)(w,"mouseleave",F=>{D=!1,T()})),this._register((0,L.addDisposableListener)(w,"mouseenter",F=>{D=!0,T()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}updateTooltip(){if(this.label){const w=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),D=w&&w.getLabel(),I=this._commandAction.tooltip||this._commandAction.label;let T=D?(0,v.localize)(0,null,I,D):I;if(!this._wantsAltCommand&&this._menuItemAction.alt){const F=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,P=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),R=P&&P.getLabel(),A=R?(0,v.localize)(1,null,F,R):F;T+=`
[${S.UILabelProvider.modifierLabels[p.OS].altKey}] ${A}`}this.label.title=T}}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.item))}_updateItemClass(w){var D;this._itemClassDispose.value=void 0;const{element:I,label:T}=this;if(!I||!T)return;const F=this._commandAction.checked&&((D=w.toggled)===null||D===void 0?void 0:D.icon)?w.toggled.icon:w.icon;if(!!F)if(n.ThemeIcon.isThemeIcon(F)){const P=n.ThemeIcon.asClassNameArray(F);T.classList.add(...P),this._itemClassDispose.value=(0,b.toDisposable)(()=>{T.classList.remove(...P)})}else F.light&&T.style.setProperty("--menu-entry-icon-light",(0,L.asCSSUrl)(F.light)),F.dark&&T.style.setProperty("--menu-entry-icon-dark",(0,L.asCSSUrl)(F.dark)),T.classList.add("icon"),this._itemClassDispose.value=(0,b.toDisposable)(()=>{T.classList.remove("icon"),T.style.removeProperty("--menu-entry-icon-light"),T.style.removeProperty("--menu-entry-icon-dark")})}};_=Ve([Ce(2,h.IKeybindingService),Ce(3,d.INotificationService),Ce(4,t.IContextKeyService)],_),e.MenuEntryActionViewItem=_;let f=class extends E.DropdownMenuActionViewItem{constructor(w,D,I){var T,F;const P=Object.assign({},D!=null?D:Object.create(null),{menuAsChild:(T=D==null?void 0:D.menuAsChild)!==null&&T!==void 0?T:!1,classNames:(F=D==null?void 0:D.classNames)!==null&&F!==void 0?F:n.ThemeIcon.isThemeIcon(w.item.icon)?n.ThemeIcon.asClassName(w.item.icon):void 0});super(w,{getActions:()=>w.actions},I,P)}render(w){if(super.render(w),this.element){w.classList.add("menu-entry");const{icon:D}=this._action.item;D&&!n.ThemeIcon.isThemeIcon(D)&&(this.element.classList.add("icon"),D.light&&this.element.style.setProperty("--menu-entry-icon-light",(0,L.asCSSUrl)(D.light)),D.dark&&this.element.style.setProperty("--menu-entry-icon-dark",(0,L.asCSSUrl)(D.dark)))}}};f=Ve([Ce(2,a.IContextMenuService)],f),e.SubmenuEntryActionViewItem=f;let c=class extends M.BaseActionViewItem{constructor(w,D,I,T,F,P,R,A){var O,k,V;super(null,w);this._keybindingService=I,this._notificationService=T,this._contextMenuService=F,this._menuService=P,this._instaService=R,this._storageService=A,this._container=null,this._storageKey=`${w.item.submenu._debugName}_lastActionId`;let B,x=A.get(this._storageKey,1);x&&(B=w.actions.find(X=>x===X.id)),B||(B=w.actions[0]),this._defaultAction=this._instaService.createInstance(_,B,void 0);const K=Object.assign({},D!=null?D:Object.create(null),{menuAsChild:(O=D==null?void 0:D.menuAsChild)!==null&&O!==void 0?O:!0,classNames:(k=D==null?void 0:D.classNames)!==null&&k!==void 0?k:["codicon","codicon-chevron-down"],actionRunner:(V=D==null?void 0:D.actionRunner)!==null&&V!==void 0?V:new g.ActionRunner});this._dropdown=new E.DropdownMenuActionViewItem(w,w.actions,this._contextMenuService,K),this._dropdown.actionRunner.onDidRun(X=>{X.action instanceof i.MenuItemAction&&this.update(X.action)})}get onDidChangeDropdownVisibility(){return this._dropdown.onDidChangeVisibility}update(w){this._storageService.store(this._storageKey,w.id,1,0),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(_,w,void 0),this._defaultAction.actionRunner=new class extends g.ActionRunner{runAction(D,I){return Me(this,void 0,void 0,function*(){yield D.run(void 0)})}},this._container&&this._defaultAction.render((0,L.prepend)(this._container,(0,L.$)(".action-container")))}setActionContext(w){super.setActionContext(w),this._defaultAction.setActionContext(w),this._dropdown.setActionContext(w)}render(w){this._container=w,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const D=(0,L.$)(".action-container");this._defaultAction.render((0,L.append)(this._container,D)),this._register((0,L.addDisposableListener)(D,L.EventType.KEY_DOWN,T=>{const F=new N.StandardKeyboardEvent(T);F.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),F.stopPropagation())}));const I=(0,L.$)(".dropdown-action-container");this._dropdown.render((0,L.append)(this._container,I)),this._register((0,L.addDisposableListener)(I,L.EventType.KEY_DOWN,T=>{var F;const P=new N.StandardKeyboardEvent(T);P.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(F=this._defaultAction.element)===null||F===void 0||F.focus(),P.stopPropagation())}))}focus(w){w?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(w){w?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};c=Ve([Ce(2,h.IKeybindingService),Ce(3,d.INotificationService),Ce(4,a.IContextMenuService),Ce(5,i.IMenuService),Ce(6,l.IInstantiationService),Ce(7,u.IStorageService)],c);function C(y,w,D){return w instanceof i.MenuItemAction?y.createInstance(_,w,void 0):w instanceof i.SubmenuItemAction?w.item.rememberDefaultAction?y.createInstance(c,w,D):y.createInstance(f,w,D):void 0}e.createActionViewItem=C}),define(ee[672],te([0,1,7,84,2,94,555,196,38,17,9]),function(Q,e,L,N,M,E,g,S,b,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestWidgetStatus=void 0;class i extends S.MenuEntryActionViewItem{updateLabel(){const l=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!l)return super.updateLabel();this.label&&(this.label.textContent=(0,g.localize)(0,null,this._action.label,i.symbolPrintEnter(l)))}static symbolPrintEnter(l){var h;return(h=l.getLabel())===null||h===void 0?void 0:h.replace(/\benter\b/gi,"\u23CE")}}let t=class{constructor(l,h,d,u){this._menuService=d,this._contextKeyService=u,this._menuDisposables=new M.DisposableStore,this.element=L.append(l,L.$(".suggest-status-bar"));const n=r=>r instanceof b.MenuItemAction?h.createInstance(i,r,void 0):void 0;this._leftActions=new N.ActionBar(this.element,{actionViewItemProvider:n}),this._rightActions=new N.ActionBar(this.element,{actionViewItemProvider:n}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const l=this._menuService.createMenu(E.suggestWidgetStatusbarMenu,this._contextKeyService),h=()=>{const d=[],u=[];for(let[n,r]of l.getActions())n==="left"?d.push(...r):u.push(...r);this._leftActions.clear(),this._leftActions.push(d),this._rightActions.clear(),this._rightActions.push(u)};this._menuDisposables.add(l.onDidChange(()=>h())),this._menuDisposables.add(l)}hide(){this._menuDisposables.clear()}};t=Ve([Ce(1,v.IInstantiationService),Ce(2,b.IMenuService),Ce(3,p.IContextKeyService)],t),e.SuggestWidgetStatus=t}),define(ee[673],te([0,1,10,4,2,38,26,17]),function(Q,e,L,N,M,E,g,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MenuService=void 0;let b=class{constructor(i){this._commandService=i}createMenu(i,t,a){return new p(i,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},a),this._commandService,t,this)}};b=Ve([Ce(0,g.ICommandService)],b),e.MenuService=b;let p=class At{constructor(i,t,a,l,h){this._id=i,this._options=t,this._commandService=a,this._contextKeyService=l,this._menuService=h,this._disposables=new M.DisposableStore,this._menuGroups=[],this._contextKeys=new Set,this._build();const d=new L.RunOnceScheduler(()=>{this._build(),this._onDidChange.fire(this)},t.eventDebounceDelay);this._disposables.add(d),this._disposables.add(E.MenuRegistry.onDidChangeMenu(r=>{r.has(i)&&d.schedule()}));const u=this._disposables.add(new M.DisposableStore),n=()=>{const r=new L.RunOnceScheduler(()=>this._onDidChange.fire(this),t.eventDebounceDelay);u.add(r),u.add(l.onDidChangeContext(s=>{s.affectsSome(this._contextKeys)&&r.schedule()}))};this._onDidChange=new N.Emitter({onFirstListenerAdd:n,onLastListenerRemove:u.clear.bind(u)}),this.onDidChange=this._onDidChange.event}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const i=E.MenuRegistry.getMenuItems(this._id);let t;i.sort(At._compareMenuItems);for(const a of i){const l=a.group||"";(!t||t[0]!==l)&&(t=[l,[]],this._menuGroups.push(t)),t[1].push(a),this._collectContextKeys(a)}}_collectContextKeys(i){if(At._fillInKbExprKeys(i.when,this._contextKeys),(0,E.isIMenuItem)(i)){if(i.command.precondition&&At._fillInKbExprKeys(i.command.precondition,this._contextKeys),i.command.toggled){const t=i.command.toggled.condition||i.command.toggled;At._fillInKbExprKeys(t,this._contextKeys)}}else this._options.emitEventsForSubmenuChanges&&E.MenuRegistry.getMenuItems(i.submenu).forEach(this._collectContextKeys,this)}getActions(i){const t=[];for(let a of this._menuGroups){const[l,h]=a,d=[];for(const u of h)if(this._contextKeyService.contextMatchesRules(u.when)){const n=(0,E.isIMenuItem)(u)?new E.MenuItemAction(u.command,u.alt,i,this._contextKeyService,this._commandService):new E.SubmenuItemAction(u,this._menuService,this._contextKeyService,i);d.push(n)}d.length>0&&t.push([l,d])}return t}static _fillInKbExprKeys(i,t){if(i)for(let a of i.keys())t.add(a)}static _compareMenuItems(i,t){let a=i.group,l=t.group;if(a!==l){if(a){if(!l)return-1}else return 1;if(a==="navigation")return-1;if(l==="navigation")return 1;let u=a.localeCompare(l);if(u!==0)return u}let h=i.order||0,d=t.order||0;return h<d?-1:h>d?1:At._compareTitles((0,E.isIMenuItem)(i)?i.command.title:i.title,(0,E.isIMenuItem)(t)?t.command.title:t.title)}static _compareTitles(i,t){const a=typeof i=="string"?i:i.original,l=typeof t=="string"?t:t.original;return a.localeCompare(l)}};p=Ve([Ce(2,g.ICommandService),Ce(3,S.IContextKeyService),Ce(4,E.IMenuService)],p)}),define(ee[674],te([0,1,471,472,153,17,77,94]),function(Q,e,L,N,M,E,g,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextScopedReplaceInput=e.ContextScopedFindInput=e.ContextScopedHistoryInputBox=e.createAndBindHistoryNavigationWidgetScopedContextKeyService=e.HistoryNavigationWidgetContext=void 0,e.HistoryNavigationWidgetContext="historyNavigationWidget";const b="historyNavigationForwardsEnabled",p="historyNavigationBackwardsEnabled";function v(u,n,r){new E.RawContextKey(r,n).bindTo(u)}function i(u,n){return u.createScoped(n.target)}function t(u,n){return u.getContext(document.activeElement).getValue(n)}function a(u,n){const r=i(u,n);v(r,n,e.HistoryNavigationWidgetContext);const s=new E.RawContextKey(b,!0).bindTo(r),o=new E.RawContextKey(p,!0).bindTo(r);return{scopedContextKeyService:r,historyNavigationForwardsEnablement:s,historyNavigationBackwardsEnablement:o}}e.createAndBindHistoryNavigationWidgetScopedContextKeyService=a;let l=class extends M.HistoryInputBox{constructor(n,r,s,o){super(n,r,s);this._register(a(o,{target:this.element,historyNavigator:this}).scopedContextKeyService)}};l=Ve([Ce(3,E.IContextKeyService)],l),e.ContextScopedHistoryInputBox=l;let h=class extends L.FindInput{constructor(n,r,s,o,m=!1){super(n,r,m,s);this._register(a(o,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};h=Ve([Ce(3,E.IContextKeyService)],h),e.ContextScopedFindInput=h;let d=class extends N.ReplaceInput{constructor(n,r,s,o,m=!1){super(n,r,m,s);this._register(a(o,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};d=Ve([Ce(3,E.IContextKeyService)],d),e.ContextScopedReplaceInput=d,g.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:E.ContextKeyExpr.and(E.ContextKeyExpr.has(e.HistoryNavigationWidgetContext),E.ContextKeyExpr.equals(p,!0),S.Context.Visible.isEqualTo(!1)),primary:16,secondary:[512|16],handler:u=>{const n=t(u.get(E.IContextKeyService),e.HistoryNavigationWidgetContext);n&&n.historyNavigator.showPreviousValue()}}),g.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:E.ContextKeyExpr.and(E.ContextKeyExpr.has(e.HistoryNavigationWidgetContext),E.ContextKeyExpr.equals(b,!0),S.Context.Visible.isEqualTo(!1)),primary:18,secondary:[512|18],handler:u=>{const n=t(u.get(E.IContextKeyService),e.HistoryNavigationWidgetContext);n&&n.historyNavigator.showNextValue()}})}),define(ee[675],te([0,1,7,4,2,43,41,86,14,626,69]),function(Q,e,L,N,M,E,g,S,b,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuService=void 0;let i=class extends M.Disposable{constructor(a,l,h,d,u){super();this._onDidShowContextMenu=new N.Emitter,this.onDidShowContextMenu=this._onDidShowContextMenu.event,this._onDidHideContextMenu=new N.Emitter,this.onDidHideContextMenu=this._onDidHideContextMenu.event,this.contextMenuHandler=new p.ContextMenuHandler(h,a,l,d,u)}configure(a){this.contextMenuHandler.configure(a)}showContextMenu(a){this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},a),{onHide:l=>{a.onHide&&a.onHide(l),this._onDidHideContextMenu.fire()}})),L.ModifierKeyEmitter.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};i=Ve([Ce(0,S.ITelemetryService),Ce(1,g.INotificationService),Ce(2,v.IContextViewService),Ce(3,E.IKeybindingService),Ce(4,b.IThemeService)],i),e.ContextMenuService=i}),define(ee[161],te([0,1,7,343,100,348,466,465,255,4,2,570,62,37,105,17,270,9,43,35,130,14]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u,n,r,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkbenchCompressibleAsyncDataTree=e.WorkbenchAsyncDataTree=e.WorkbenchDataTree=e.WorkbenchCompressibleObjectTree=e.WorkbenchObjectTree=e.getSelectionKeyboardEvent=e.WorkbenchTable=e.WorkbenchPagedList=e.WorkbenchList=e.WorkbenchListAutomaticKeyboardNavigationKey=e.WorkbenchTreeElementHasChild=e.WorkbenchTreeElementCanExpand=e.WorkbenchTreeElementHasParent=e.WorkbenchTreeElementCanCollapse=e.WorkbenchListSelectionNavigation=e.WorkbenchListMultiSelection=e.WorkbenchListDoubleSelection=e.WorkbenchListHasSelectionOrFocus=e.WorkbenchListFocusContextKey=e.WorkbenchListSupportsMultiSelectContextKey=e.ListService=e.IListService=void 0,e.IListService=(0,u.createDecorator)("listService");let m=class{constructor(oe){this._themeService=oe,this.disposables=new v.DisposableStore,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}setLastFocusedList(oe){var $,ie;oe!==this._lastFocusedWidget&&(($=this._lastFocusedWidget)===null||$===void 0||$.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=oe,(ie=this._lastFocusedWidget)===null||ie===void 0||ie.getHTMLElement().classList.add("last-focused"))}register(oe,$){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const le=new M.DefaultStyleController((0,L.createStyleSheet)(),"");this.disposables.add((0,s.attachListStyler)(le,this._themeService))}if(this.lists.some(le=>le.widget===oe))throw new Error("Cannot register the same widget multiple times");const ie={widget:oe,extraContextKeys:$};return this.lists.push(ie),oe.getHTMLElement()===document.activeElement&&this.setLastFocusedList(oe),(0,v.combinedDisposable)(oe.onDidFocus(()=>this.setLastFocusedList(oe)),(0,v.toDisposable)(()=>this.lists.splice(this.lists.indexOf(ie),1)),oe.onDidDispose(()=>{this.lists=this.lists.filter(le=>le!==ie),this._lastFocusedWidget===oe&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}};m=Ve([Ce(0,o.IThemeService)],m),e.ListService=m;const _=new h.RawContextKey("listFocus",!0);e.WorkbenchListSupportsMultiSelectContextKey=new h.RawContextKey("listSupportsMultiselect",!0),e.WorkbenchListFocusContextKey=h.ContextKeyExpr.and(_,h.ContextKeyExpr.not(d.InputFocusedContextKey)),e.WorkbenchListHasSelectionOrFocus=new h.RawContextKey("listHasSelectionOrFocus",!1),e.WorkbenchListDoubleSelection=new h.RawContextKey("listDoubleSelection",!1),e.WorkbenchListMultiSelection=new h.RawContextKey("listMultiSelection",!1),e.WorkbenchListSelectionNavigation=new h.RawContextKey("listSelectionNavigation",!1),e.WorkbenchTreeElementCanCollapse=new h.RawContextKey("treeElementCanCollapse",!1),e.WorkbenchTreeElementHasParent=new h.RawContextKey("treeElementHasParent",!1),e.WorkbenchTreeElementCanExpand=new h.RawContextKey("treeElementCanExpand",!1),e.WorkbenchTreeElementHasChild=new h.RawContextKey("treeElementHasChild",!1),e.WorkbenchListAutomaticKeyboardNavigationKey="listAutomaticKeyboardNavigation";function f(pe,oe){const $=pe.createScoped(oe.getHTMLElement());return _.bindTo($),$}const c="workbench.list.multiSelectModifier",C="workbench.list.openMode",y="workbench.list.horizontalScrolling",w="workbench.list.keyboardNavigation",D="workbench.list.automaticKeyboardNavigation",I="workbench.tree.indent",T="workbench.tree.renderIndentGuides",F="workbench.list.smoothScrolling",P="workbench.list.mouseWheelScrollSensitivity",R="workbench.list.fastScrollSensitivity",A="workbench.tree.expandMode";function O(pe){return pe.getValue(c)==="alt"}class k extends v.Disposable{constructor(oe){super();this.configurationService=oe,this.useAltAsMultipleSelectionModifier=O(oe),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(oe=>{oe.affectsConfiguration(c)&&(this.useAltAsMultipleSelectionModifier=O(this.configurationService))}))}isSelectionSingleChangeEvent(oe){return this.useAltAsMultipleSelectionModifier?oe.browserEvent.altKey:(0,M.isSelectionSingleChangeEvent)(oe)}isSelectionRangeChangeEvent(oe){return(0,M.isSelectionRangeChangeEvent)(oe)}}function V(pe,oe,$){var ie;const le=new v.DisposableStore;return[Object.assign(Object.assign({},pe),{keyboardNavigationDelegate:{mightProducePrintableCharacter(fe){return $.mightProducePrintableCharacter(fe)}},smoothScrolling:Boolean(oe.getValue(F)),mouseWheelScrollSensitivity:oe.getValue(P),fastScrollSensitivity:oe.getValue(R),multipleSelectionController:(ie=pe.multipleSelectionController)!==null&&ie!==void 0?ie:le.add(new k(oe))}),le]}let B=class extends M.List{constructor(oe,$,ie,le,de,fe,he,se,ce,Se){const Le=typeof de.horizontalScrolling!="undefined"?de.horizontalScrolling:Boolean(ce.getValue(y)),[ue,we]=V(de,ce,Se);super(oe,$,ie,le,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,s.computeStyles)(se.getColorTheme(),s.defaultListStyles)),ue),{horizontalScrolling:Le}));this.disposables.add(we),this.contextKeyService=f(fe,this),this.themeService=se,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(de.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(de.selectionNavigation)),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=de.horizontalScrolling,this._useAltAsMultipleSelectionModifier=O(ce),this.disposables.add(this.contextKeyService),this.disposables.add(he.register(this)),de.overrideStyles&&this.updateStyles(de.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const me=this.getSelection(),Ie=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(me.length>0||Ie.length>0),this.listMultiSelection.set(me.length>1),this.listDoubleSelection.set(me.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const me=this.getSelection(),Ie=this.getFocus();this.listHasSelectionOrFocus.set(me.length>0||Ie.length>0)})),this.disposables.add(ce.onDidChangeConfiguration(me=>{me.affectsConfiguration(c)&&(this._useAltAsMultipleSelectionModifier=O(ce));let Ie={};if(me.affectsConfiguration(y)&&this.horizontalScrolling===void 0){const Fe=Boolean(ce.getValue(y));Ie=Object.assign(Object.assign({},Ie),{horizontalScrolling:Fe})}if(me.affectsConfiguration(F)){const Fe=Boolean(ce.getValue(F));Ie=Object.assign(Object.assign({},Ie),{smoothScrolling:Fe})}if(me.affectsConfiguration(P)){const Fe=ce.getValue(P);Ie=Object.assign(Object.assign({},Ie),{mouseWheelScrollSensitivity:Fe})}if(me.affectsConfiguration(R)){const Fe=ce.getValue(R);Ie=Object.assign(Object.assign({},Ie),{fastScrollSensitivity:Fe})}Object.keys(Ie).length>0&&this.updateOptions(Ie)})),this.navigator=new q(this,Object.assign({configurationService:ce},de)),this.disposables.add(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateOptions(oe){super.updateOptions(oe),oe.overrideStyles&&this.updateStyles(oe.overrideStyles),oe.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!oe.multipleSelectionSupport)}updateStyles(oe){var $;($=this._styler)===null||$===void 0||$.dispose(),this._styler=(0,s.attachListStyler)(this,this.themeService,oe)}get useAltAsMultipleSelectionModifier(){return this._useAltAsMultipleSelectionModifier}dispose(){var oe;(oe=this._styler)===null||oe===void 0||oe.dispose(),super.dispose()}};B=Ve([Ce(5,h.IContextKeyService),Ce(6,e.IListService),Ce(7,o.IThemeService),Ce(8,a.IConfigurationService),Ce(9,n.IKeybindingService)],B),e.WorkbenchList=B;let x=class extends N.PagedList{constructor(oe,$,ie,le,de,fe,he,se,ce,Se){const Le=typeof de.horizontalScrolling!="undefined"?de.horizontalScrolling:Boolean(ce.getValue(y)),[ue,we]=V(de,ce,Se);super(oe,$,ie,le,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,s.computeStyles)(se.getColorTheme(),s.defaultListStyles)),ue),{horizontalScrolling:Le}));this.disposables=new v.DisposableStore,this.disposables.add(we),this.contextKeyService=f(fe,this),this.themeService=se,this.horizontalScrolling=de.horizontalScrolling,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(de.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(de.selectionNavigation)),this._useAltAsMultipleSelectionModifier=O(ce),this.disposables.add(this.contextKeyService),this.disposables.add(he.register(this)),de.overrideStyles&&this.updateStyles(de.overrideStyles),de.overrideStyles&&this.disposables.add((0,s.attachListStyler)(this,se,de.overrideStyles)),this.disposables.add(ce.onDidChangeConfiguration(me=>{me.affectsConfiguration(c)&&(this._useAltAsMultipleSelectionModifier=O(ce));let Ie={};if(me.affectsConfiguration(y)&&this.horizontalScrolling===void 0){const Fe=Boolean(ce.getValue(y));Ie=Object.assign(Object.assign({},Ie),{horizontalScrolling:Fe})}if(me.affectsConfiguration(F)){const Fe=Boolean(ce.getValue(F));Ie=Object.assign(Object.assign({},Ie),{smoothScrolling:Fe})}if(me.affectsConfiguration(P)){const Fe=ce.getValue(P);Ie=Object.assign(Object.assign({},Ie),{mouseWheelScrollSensitivity:Fe})}if(me.affectsConfiguration(R)){const Fe=ce.getValue(R);Ie=Object.assign(Object.assign({},Ie),{fastScrollSensitivity:Fe})}Object.keys(Ie).length>0&&this.updateOptions(Ie)})),this.navigator=new q(this,Object.assign({configurationService:ce},de)),this.disposables.add(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateOptions(oe){super.updateOptions(oe),oe.overrideStyles&&this.updateStyles(oe.overrideStyles),oe.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!oe.multipleSelectionSupport)}updateStyles(oe){var $;($=this._styler)===null||$===void 0||$.dispose(),this._styler=(0,s.attachListStyler)(this,this.themeService,oe)}get useAltAsMultipleSelectionModifier(){return this._useAltAsMultipleSelectionModifier}dispose(){var oe;(oe=this._styler)===null||oe===void 0||oe.dispose(),this.disposables.dispose(),super.dispose()}};x=Ve([Ce(5,h.IContextKeyService),Ce(6,e.IListService),Ce(7,o.IThemeService),Ce(8,a.IConfigurationService),Ce(9,n.IKeybindingService)],x),e.WorkbenchPagedList=x;let K=class extends E.Table{constructor(oe,$,ie,le,de,fe,he,se,ce,Se,Le){const ue=typeof fe.horizontalScrolling!="undefined"?fe.horizontalScrolling:Boolean(Se.getValue(y)),[we,ae]=V(fe,Se,Le);super(oe,$,ie,le,de,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,s.computeStyles)(ce.getColorTheme(),s.defaultListStyles)),we),{horizontalScrolling:ue}));this.disposables.add(ae),this.contextKeyService=f(he,this),this.themeService=ce,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(fe.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(fe.selectionNavigation)),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=fe.horizontalScrolling,this._useAltAsMultipleSelectionModifier=O(Se),this.disposables.add(this.contextKeyService),this.disposables.add(se.register(this)),fe.overrideStyles&&this.updateStyles(fe.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Ie=this.getSelection(),Fe=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Ie.length>0||Fe.length>0),this.listMultiSelection.set(Ie.length>1),this.listDoubleSelection.set(Ie.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Ie=this.getSelection(),Fe=this.getFocus();this.listHasSelectionOrFocus.set(Ie.length>0||Fe.length>0)})),this.disposables.add(Se.onDidChangeConfiguration(Ie=>{Ie.affectsConfiguration(c)&&(this._useAltAsMultipleSelectionModifier=O(Se));let Fe={};if(Ie.affectsConfiguration(y)&&this.horizontalScrolling===void 0){const ze=Boolean(Se.getValue(y));Fe=Object.assign(Object.assign({},Fe),{horizontalScrolling:ze})}if(Ie.affectsConfiguration(F)){const ze=Boolean(Se.getValue(F));Fe=Object.assign(Object.assign({},Fe),{smoothScrolling:ze})}if(Ie.affectsConfiguration(P)){const ze=Se.getValue(P);Fe=Object.assign(Object.assign({},Fe),{mouseWheelScrollSensitivity:ze})}if(Ie.affectsConfiguration(R)){const ze=Se.getValue(R);Fe=Object.assign(Object.assign({},Fe),{fastScrollSensitivity:ze})}Object.keys(Fe).length>0&&this.updateOptions(Fe)})),this.navigator=new H(this,Object.assign({configurationService:Se},fe)),this.disposables.add(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateOptions(oe){super.updateOptions(oe),oe.overrideStyles&&this.updateStyles(oe.overrideStyles),oe.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!oe.multipleSelectionSupport)}updateStyles(oe){var $;($=this._styler)===null||$===void 0||$.dispose(),this._styler=(0,s.attachListStyler)(this,this.themeService,oe)}get useAltAsMultipleSelectionModifier(){return this._useAltAsMultipleSelectionModifier}dispose(){var oe;(oe=this._styler)===null||oe===void 0||oe.dispose(),this.disposables.dispose(),super.dispose()}};K=Ve([Ce(6,h.IContextKeyService),Ce(7,e.IListService),Ce(8,o.IThemeService),Ce(9,a.IConfigurationService),Ce(10,n.IKeybindingService)],K),e.WorkbenchTable=K;function X(pe="keydown",oe,$){const ie=new KeyboardEvent(pe);return ie.preserveFocus=oe,ie.pinned=$,ie.__forceEvent=!0,ie}e.getSelectionKeyboardEvent=X;class Z extends v.Disposable{constructor(oe,$){var ie;super();this.widget=oe,this._onDidOpen=this._register(new p.Emitter),this.onDidOpen=this._onDidOpen.event,this._register(p.Event.filter(this.widget.onDidChangeSelection,le=>le.browserEvent instanceof KeyboardEvent)(le=>this.onSelectionFromKeyboard(le))),this._register(this.widget.onPointer(le=>this.onPointer(le.element,le.browserEvent))),this._register(this.widget.onMouseDblClick(le=>this.onMouseDblClick(le.element,le.browserEvent))),typeof($==null?void 0:$.openOnSingleClick)!="boolean"&&($==null?void 0:$.configurationService)?(this.openOnSingleClick=($==null?void 0:$.configurationService.getValue(C))!=="doubleClick",this._register($==null?void 0:$.configurationService.onDidChangeConfiguration(()=>{this.openOnSingleClick=($==null?void 0:$.configurationService.getValue(C))!=="doubleClick"}))):this.openOnSingleClick=(ie=$==null?void 0:$.openOnSingleClick)!==null&&ie!==void 0?ie:!0}onSelectionFromKeyboard(oe){if(oe.elements.length!==1)return;const $=oe.browserEvent,ie=typeof $.preserveFocus=="boolean"?$.preserveFocus:!0,le=typeof $.pinned=="boolean"?$.pinned:!ie,de=!1;this._open(this.getSelectedElement(),ie,le,de,oe.browserEvent)}onPointer(oe,$){if(!this.openOnSingleClick||$.detail===2)return;const le=$.button===1,de=!0,fe=le,he=$.ctrlKey||$.metaKey||$.altKey;this._open(oe,de,fe,he,$)}onMouseDblClick(oe,$){if(!$)return;const ie=$.target;if(ie.classList.contains("monaco-tl-twistie")||ie.classList.contains("monaco-icon-label")&&ie.classList.contains("folder-icon")&&$.offsetX<16)return;const de=!1,fe=!0,he=$.ctrlKey||$.metaKey||$.altKey;this._open(oe,de,fe,he,$)}_open(oe,$,ie,le,de){!oe||this._onDidOpen.fire({editorOptions:{preserveFocus:$,pinned:ie,revealIfVisible:!0},sideBySide:le,element:oe,browserEvent:de})}}class q extends Z{constructor(oe,$){super(oe,$);this.widget=oe}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class H extends Z{constructor(oe,$){super(oe,$)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class G extends Z{constructor(oe,$){super(oe,$)}getSelectedElement(){var oe;return(oe=this.widget.getSelection()[0])!==null&&oe!==void 0?oe:void 0}}function z(pe,oe){let $=!1;return ie=>{if($)return $=!1,!1;const le=oe.softDispatch(ie,pe);return le&&le.enterChord?($=!0,!1):($=!1,!0)}}let W=class extends b.ObjectTree{constructor(oe,$,ie,le,de,fe,he,se,ce,Se,Le){const{options:ue,getAutomaticKeyboardNavigation:we,disposable:ae}=J($,de,fe,ce,Se,Le);super(oe,$,ie,le,ue);this.disposables.add(ae),this.internals=new re(this,de,we,de.overrideStyles,fe,he,se,ce,Le),this.disposables.add(this.internals)}get contextKeyService(){return this.internals.contextKeyService}get useAltAsMultipleSelectionModifier(){return this.internals.useAltAsMultipleSelectionModifier}get onDidOpen(){return this.internals.onDidOpen}updateOptions(oe){super.updateOptions(oe),this.internals.updateOptions(oe)}};W=Ve([Ce(5,h.IContextKeyService),Ce(6,e.IListService),Ce(7,o.IThemeService),Ce(8,a.IConfigurationService),Ce(9,n.IKeybindingService),Ce(10,t.IAccessibilityService)],W),e.WorkbenchObjectTree=W;let j=class extends b.CompressibleObjectTree{constructor(oe,$,ie,le,de,fe,he,se,ce,Se,Le){const{options:ue,getAutomaticKeyboardNavigation:we,disposable:ae}=J($,de,fe,ce,Se,Le);super(oe,$,ie,le,ue);this.disposables.add(ae),this.internals=new re(this,de,we,de.overrideStyles,fe,he,se,ce,Le),this.disposables.add(this.internals)}get contextKeyService(){return this.internals.contextKeyService}get useAltAsMultipleSelectionModifier(){return this.internals.useAltAsMultipleSelectionModifier}get onDidOpen(){return this.internals.onDidOpen}updateOptions(oe={}){super.updateOptions(oe),oe.overrideStyles&&this.internals.updateStyleOverrides(oe.overrideStyles),this.internals.updateOptions(oe)}};j=Ve([Ce(5,h.IContextKeyService),Ce(6,e.IListService),Ce(7,o.IThemeService),Ce(8,a.IConfigurationService),Ce(9,n.IKeybindingService),Ce(10,t.IAccessibilityService)],j),e.WorkbenchCompressibleObjectTree=j;let U=class extends S.DataTree{constructor(oe,$,ie,le,de,fe,he,se,ce,Se,Le,ue){const{options:we,getAutomaticKeyboardNavigation:ae,disposable:me}=J($,fe,he,Se,Le,ue);super(oe,$,ie,le,de,we);this.disposables.add(me),this.internals=new re(this,fe,ae,fe.overrideStyles,he,se,ce,Se,ue),this.disposables.add(this.internals)}get contextKeyService(){return this.internals.contextKeyService}get useAltAsMultipleSelectionModifier(){return this.internals.useAltAsMultipleSelectionModifier}get onDidOpen(){return this.internals.onDidOpen}updateOptions(oe={}){super.updateOptions(oe),oe.overrideStyles&&this.internals.updateStyleOverrides(oe.overrideStyles),this.internals.updateOptions(oe)}};U=Ve([Ce(6,h.IContextKeyService),Ce(7,e.IListService),Ce(8,o.IThemeService),Ce(9,a.IConfigurationService),Ce(10,n.IKeybindingService),Ce(11,t.IAccessibilityService)],U),e.WorkbenchDataTree=U;let Y=class extends g.AsyncDataTree{constructor(oe,$,ie,le,de,fe,he,se,ce,Se,Le,ue){const{options:we,getAutomaticKeyboardNavigation:ae,disposable:me}=J($,fe,he,Se,Le,ue);super(oe,$,ie,le,de,we);this.disposables.add(me),this.internals=new re(this,fe,ae,fe.overrideStyles,he,se,ce,Se,ue),this.disposables.add(this.internals)}get contextKeyService(){return this.internals.contextKeyService}get useAltAsMultipleSelectionModifier(){return this.internals.useAltAsMultipleSelectionModifier}get onDidOpen(){return this.internals.onDidOpen}updateOptions(oe={}){super.updateOptions(oe),oe.overrideStyles&&this.internals.updateStyleOverrides(oe.overrideStyles),this.internals.updateOptions(oe)}};Y=Ve([Ce(6,h.IContextKeyService),Ce(7,e.IListService),Ce(8,o.IThemeService),Ce(9,a.IConfigurationService),Ce(10,n.IKeybindingService),Ce(11,t.IAccessibilityService)],Y),e.WorkbenchAsyncDataTree=Y;let ne=class extends g.CompressibleAsyncDataTree{constructor(oe,$,ie,le,de,fe,he,se,ce,Se,Le,ue,we){const{options:ae,getAutomaticKeyboardNavigation:me,disposable:Ie}=J($,he,se,Le,ue,we);super(oe,$,ie,le,de,fe,ae);this.disposables.add(Ie),this.internals=new re(this,he,me,he.overrideStyles,se,ce,Se,Le,we),this.disposables.add(this.internals)}get contextKeyService(){return this.internals.contextKeyService}get useAltAsMultipleSelectionModifier(){return this.internals.useAltAsMultipleSelectionModifier}get onDidOpen(){return this.internals.onDidOpen}updateOptions(oe){super.updateOptions(oe),this.internals.updateOptions(oe)}};ne=Ve([Ce(7,h.IContextKeyService),Ce(8,e.IListService),Ce(9,o.IThemeService),Ce(10,a.IConfigurationService),Ce(11,n.IKeybindingService),Ce(12,t.IAccessibilityService)],ne),e.WorkbenchCompressibleAsyncDataTree=ne;function J(pe,oe,$,ie,le,de){var fe;const he=()=>{let ae=Boolean($.getContextKeyValue(e.WorkbenchListAutomaticKeyboardNavigationKey));return ae&&(ae=Boolean(ie.getValue(D))),ae},se=de.isScreenReaderOptimized(),ce=oe.simpleKeyboardNavigation||se?"simple":ie.getValue(w),Se=oe.horizontalScrolling!==void 0?oe.horizontalScrolling:Boolean(ie.getValue(y)),[Le,ue]=V(oe,ie,le),we=oe.additionalScrollHeight;return{getAutomaticKeyboardNavigation:he,disposable:ue,options:Object.assign(Object.assign({keyboardSupport:!1},Le),{indent:typeof ie.getValue(I)=="number"?ie.getValue(I):void 0,renderIndentGuides:ie.getValue(T),smoothScrolling:Boolean(ie.getValue(F)),automaticKeyboardNavigation:he(),simpleKeyboardNavigation:ce==="simple",filterOnType:ce==="filter",horizontalScrolling:Se,keyboardNavigationEventFilter:z(pe,le),additionalScrollHeight:we,hideTwistiesOfChildlessElements:oe.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(fe=oe.expandOnlyOnTwistieClick)!==null&&fe!==void 0?fe:ie.getValue(A)==="doubleClick"})}}let re=class{constructor(oe,$,ie,le,de,fe,he,se,ce){this.tree=oe,this.themeService=he,this.disposables=[],this.contextKeyService=f(de,oe),this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set($.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean($.selectionNavigation)),this.hasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.hasDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.hasMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.treeElementCanCollapse=e.WorkbenchTreeElementCanCollapse.bindTo(this.contextKeyService),this.treeElementHasParent=e.WorkbenchTreeElementHasParent.bindTo(this.contextKeyService),this.treeElementCanExpand=e.WorkbenchTreeElementCanExpand.bindTo(this.contextKeyService),this.treeElementHasChild=e.WorkbenchTreeElementHasChild.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=O(se);const Le=new Set;Le.add(e.WorkbenchListAutomaticKeyboardNavigationKey);const ue=()=>{const me=ce.isScreenReaderOptimized()?"simple":se.getValue(w);oe.updateOptions({simpleKeyboardNavigation:me==="simple",filterOnType:me==="filter"})};this.updateStyleOverrides(le);const we=()=>{const ae=oe.getFocus()[0];if(!ae)return;const me=oe.getNode(ae);this.treeElementCanCollapse.set(me.collapsible&&!me.collapsed),this.treeElementHasParent.set(!!oe.getParentElement(ae)),this.treeElementCanExpand.set(me.collapsible&&me.collapsed),this.treeElementHasChild.set(!!oe.getFirstElementChild(ae))};this.disposables.push(this.contextKeyService,fe.register(oe),oe.onDidChangeSelection(()=>{const ae=oe.getSelection(),me=oe.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(ae.length>0||me.length>0),this.hasMultiSelection.set(ae.length>1),this.hasDoubleSelection.set(ae.length===2)})}),oe.onDidChangeFocus(()=>{const ae=oe.getSelection(),me=oe.getFocus();this.hasSelectionOrFocus.set(ae.length>0||me.length>0),we()}),oe.onDidChangeCollapseState(we),oe.onDidChangeModel(we),se.onDidChangeConfiguration(ae=>{let me={};if(ae.affectsConfiguration(c)&&(this._useAltAsMultipleSelectionModifier=O(se)),ae.affectsConfiguration(I)){const Ie=se.getValue(I);me=Object.assign(Object.assign({},me),{indent:Ie})}if(ae.affectsConfiguration(T)){const Ie=se.getValue(T);me=Object.assign(Object.assign({},me),{renderIndentGuides:Ie})}if(ae.affectsConfiguration(F)){const Ie=Boolean(se.getValue(F));me=Object.assign(Object.assign({},me),{smoothScrolling:Ie})}if(ae.affectsConfiguration(w)&&ue(),ae.affectsConfiguration(D)&&(me=Object.assign(Object.assign({},me),{automaticKeyboardNavigation:ie()})),ae.affectsConfiguration(y)&&$.horizontalScrolling===void 0){const Ie=Boolean(se.getValue(y));me=Object.assign(Object.assign({},me),{horizontalScrolling:Ie})}if(ae.affectsConfiguration(A)&&$.expandOnlyOnTwistieClick===void 0&&(me=Object.assign(Object.assign({},me),{expandOnlyOnTwistieClick:se.getValue(A)==="doubleClick"})),ae.affectsConfiguration(P)){const Ie=se.getValue(P);me=Object.assign(Object.assign({},me),{mouseWheelScrollSensitivity:Ie})}if(ae.affectsConfiguration(R)){const Ie=se.getValue(R);me=Object.assign(Object.assign({},me),{fastScrollSensitivity:Ie})}Object.keys(me).length>0&&oe.updateOptions(me)}),this.contextKeyService.onDidChangeContext(ae=>{ae.affectsSome(Le)&&oe.updateOptions({automaticKeyboardNavigation:ie()})}),ce.onDidChangeScreenReaderOptimized(()=>ue())),this.navigator=new G(oe,Object.assign({configurationService:se},$)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}get useAltAsMultipleSelectionModifier(){return this._useAltAsMultipleSelectionModifier}updateOptions(oe){oe.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!oe.multipleSelectionSupport)}updateStyleOverrides(oe){(0,v.dispose)(this.styler),this.styler=oe?(0,s.attachListStyler)(this.tree,this.themeService,oe):v.Disposable.None}dispose(){this.disposables=(0,v.dispose)(this.disposables),(0,v.dispose)(this.styler),this.styler=void 0}};re=Ve([Ce(4,h.IContextKeyService),Ce(5,e.IListService),Ce(6,o.IThemeService),Ce(7,a.IConfigurationService),Ce(8,t.IAccessibilityService)],re),r.Registry.as(l.Extensions.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,i.localize)(0,null),type:"object",properties:{[c]:{type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[(0,i.localize)(1,null),(0,i.localize)(2,null)],default:"ctrlCmd",description:(0,i.localize)(3,null)},[C]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,i.localize)(4,null)},[y]:{type:"boolean",default:!1,description:(0,i.localize)(5,null)},[I]:{type:"number",default:8,minimum:0,maximum:40,description:(0,i.localize)(6,null)},[T]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,i.localize)(7,null)},[F]:{type:"boolean",default:!1,description:(0,i.localize)(8,null)},[P]:{type:"number",default:1,description:(0,i.localize)(9,null)},[R]:{type:"number",default:5,description:(0,i.localize)(10,null)},[w]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,i.localize)(11,null),(0,i.localize)(12,null),(0,i.localize)(13,null)],default:"highlight",description:(0,i.localize)(14,null)},[D]:{type:"boolean",default:!0,markdownDescription:(0,i.localize)(15,null)},[A]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,i.localize)(16,null)}}})}),define(ee[676],te([0,1,7,81,44,57,4,2,54,24,14]),function(Q,e,L,N,M,E,g,S,b,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Link=void 0;let i=class extends S.Disposable{constructor(a,l,h={},d){var u;super();this._link=l,this._enabled=!0,this.el=(0,L.append)(a,(0,L.$)("a.monaco-link",{tabIndex:(u=l.tabIndex)!==null&&u!==void 0?u:0,href:l.href,title:l.title},l.label)),this.el.setAttribute("role","button");const n=this._register(new N.DomEmitter(this.el,"click")),r=this._register(new N.DomEmitter(this.el,"keypress")),s=g.Event.chain(r.event).map(_=>new M.StandardKeyboardEvent(_)).filter(_=>_.keyCode===3).event,o=this._register(new N.DomEmitter(this.el,E.EventType.Tap)).event;this._register(E.Gesture.addTarget(this.el));const m=g.Event.any(n.event,s,o);this._register(m(_=>{!this.enabled||(L.EventHelper.stop(_,!0),(h==null?void 0:h.opener)?h.opener(this._link.href):d.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}get enabled(){return this._enabled}set enabled(a){a?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=a}set link(a){typeof a.label=="string"?this.el.textContent=a.label:((0,L.clearNode)(this.el),this.el.appendChild(a.label)),this.el.href=a.href,typeof a.tabIndex!="undefined"&&(this.el.tabIndex=a.tabIndex),typeof a.title!="undefined"&&(this.el.title=a.title),this._link=a}};i=Ve([Ce(3,b.IOpenerService)],i),e.Link=i,(0,v.registerThemingParticipant)((t,a)=>{const l=t.getColor(p.textLinkForeground);l&&a.addRule(`.monaco-link { color: ${l}; }`);const h=t.getColor(p.textLinkActiveForeground);h&&a.addRule(`.monaco-link:hover { color: ${h}; }`)})}),define(ee[677],te([0,1,21,481,62,17,9,158,161,619,24,130,14]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputService=void 0;let a=class extends t.Themable{constructor(h,d,u,n,r){super(u);this.instantiationService=h,this.contextKeyService=d,this.accessibilityService=n,this.layoutService=r,this.contexts=new Map}get backButton(){return this.controller.backButton}get onShow(){return this.controller.onShow}get onHide(){return this.controller.onHide}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(p.QuickAccessController))),this._quickAccess}createController(h=this.layoutService,d){var u,n;const r={idPrefix:"quickInput_",container:h.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:o=>this.setContextKey(o),returnFocus:()=>h.focus(),createList:(o,m,_,f,c)=>this.instantiationService.createInstance(b.WorkbenchList,o,m,_,f,c),styles:this.computeStyles()},s=this._register(new N.QuickInputController(Object.assign(Object.assign({},r),d)));return s.layout(h.dimension,(n=(u=h.offset)===null||u===void 0?void 0:u.top)!==null&&n!==void 0?n:0),this._register(h.onDidLayout(o=>{var m,_;return s.layout(o,(_=(m=h.offset)===null||m===void 0?void 0:m.top)!==null&&_!==void 0?_:0)})),this._register(s.onShow(()=>this.resetContextKeys())),this._register(s.onHide(()=>this.resetContextKeys())),s}setContextKey(h){let d;h&&(d=this.contexts.get(h),d||(d=new E.RawContextKey(h,!1).bindTo(this.contextKeyService),this.contexts.set(h,d))),!(d&&d.get())&&(this.resetContextKeys(),d&&d.set(!0))}resetContextKeys(){this.contexts.forEach(h=>{h.get()&&h.reset()})}pick(h,d={},u=L.CancellationToken.None){return this.controller.pick(h,d,u)}input(h={},d=L.CancellationToken.None){return this.controller.input(h,d)}createQuickPick(){return this.controller.createQuickPick()}createInputBox(){return this.controller.createInputBox()}focus(){this.controller.focus()}toggle(){this.controller.toggle()}navigate(h,d){this.controller.navigate(h,d)}accept(h){return this.controller.accept(h)}back(){return this.controller.back()}cancel(){return this.controller.cancel()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},(0,i.computeStyles)(this.theme,{quickInputBackground:v.quickInputBackground,quickInputForeground:v.quickInputForeground,quickInputTitleBackground:v.quickInputTitleBackground,contrastBorder:v.contrastBorder,widgetShadow:v.widgetShadow})),inputBox:(0,i.computeStyles)(this.theme,{inputForeground:v.inputForeground,inputBackground:v.inputBackground,inputBorder:v.inputBorder,inputValidationInfoBackground:v.inputValidationInfoBackground,inputValidationInfoForeground:v.inputValidationInfoForeground,inputValidationInfoBorder:v.inputValidationInfoBorder,inputValidationWarningBackground:v.inputValidationWarningBackground,inputValidationWarningForeground:v.inputValidationWarningForeground,inputValidationWarningBorder:v.inputValidationWarningBorder,inputValidationErrorBackground:v.inputValidationErrorBackground,inputValidationErrorForeground:v.inputValidationErrorForeground,inputValidationErrorBorder:v.inputValidationErrorBorder}),countBadge:(0,i.computeStyles)(this.theme,{badgeBackground:v.badgeBackground,badgeForeground:v.badgeForeground,badgeBorder:v.contrastBorder}),button:(0,i.computeStyles)(this.theme,{buttonForeground:v.buttonForeground,buttonBackground:v.buttonBackground,buttonHoverBackground:v.buttonHoverBackground,buttonBorder:v.contrastBorder}),progressBar:(0,i.computeStyles)(this.theme,{progressBarBackground:v.progressBarBackground}),keybindingLabel:(0,i.computeStyles)(this.theme,{keybindingLabelBackground:v.keybindingLabelBackground,keybindingLabelForeground:v.keybindingLabelForeground,keybindingLabelBorder:v.keybindingLabelBorder,keybindingLabelBottomBorder:v.keybindingLabelBottomBorder,keybindingLabelShadow:v.widgetShadow}),list:(0,i.computeStyles)(this.theme,{listBackground:v.quickInputBackground,listInactiveFocusForeground:v.quickInputListFocusForeground,listInactiveSelectionIconForeground:v.quickInputListFocusIconForeground,listInactiveFocusBackground:v.quickInputListFocusBackground,listFocusOutline:v.activeContrastBorder,listInactiveFocusOutline:v.activeContrastBorder,pickerGroupBorder:v.pickerGroupBorder,pickerGroupForeground:v.pickerGroupForeground})}}};a=Ve([Ce(0,g.IInstantiationService),Ce(1,E.IContextKeyService),Ce(2,t.IThemeService),Ce(3,M.IAccessibilityService),Ce(4,S.ILayoutService)],a),e.QuickInputService=a}),define(ee[678],te([0,1,16,14,21,9,17,62,158,30,677,79,393]),function(Q,e,L,N,M,E,g,S,b,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputEditorWidget=e.QuickInputEditorContribution=e.StandaloneQuickInputServiceImpl=e.EditorScopedQuickInputServiceImpl=void 0;let t=class extends v.QuickInputService{constructor(u,n,r,s,o,m){super(n,r,s,o,m);this.host=void 0;const _=l.get(u);this.host={_serviceBrand:void 0,get container(){return _.widget.getDomNode()},get dimension(){return u.getLayoutInfo()},get onDidLayout(){return u.onDidLayoutChange},focus:()=>u.focus()}}createController(){return super.createController(this.host)}};t=Ve([Ce(1,E.IInstantiationService),Ce(2,g.IContextKeyService),Ce(3,N.IThemeService),Ce(4,S.IAccessibilityService),Ce(5,b.ILayoutService)],t),e.EditorScopedQuickInputServiceImpl=t;let a=class{constructor(u,n){this.instantiationService=u,this.codeEditorService=n,this.mapEditorToService=new Map}get activeService(){const u=this.codeEditorService.getFocusedCodeEditor();if(!u)throw new Error("Quick input service needs a focused editor to work.");let n=this.mapEditorToService.get(u);if(!n){const r=n=this.instantiationService.createInstance(t,u);this.mapEditorToService.set(u,n),(0,i.once)(u.onDidDispose)(()=>{r.dispose(),this.mapEditorToService.delete(u)})}return n}get quickAccess(){return this.activeService.quickAccess}get backButton(){return this.activeService.backButton}get onShow(){return this.activeService.onShow}get onHide(){return this.activeService.onHide}pick(u,n={},r=M.CancellationToken.None){return this.activeService.pick(u,n,r)}input(u,n){return this.activeService.input(u,n)}createQuickPick(){return this.activeService.createQuickPick()}createInputBox(){return this.activeService.createInputBox()}focus(){return this.activeService.focus()}toggle(){return this.activeService.toggle()}navigate(u,n){return this.activeService.navigate(u,n)}accept(){return this.activeService.accept()}back(){return this.activeService.back()}cancel(){return this.activeService.cancel()}};a=Ve([Ce(0,E.IInstantiationService),Ce(1,p.ICodeEditorService)],a),e.StandaloneQuickInputServiceImpl=a;class l{constructor(u){this.editor=u,this.widget=new h(this.editor)}static get(u){return u.getContribution(l.ID)}dispose(){this.widget.dispose()}}e.QuickInputEditorContribution=l,l.ID="editor.controller.quickInput";class h{constructor(u){this.codeEditor=u,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return h.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}e.QuickInputEditorWidget=h,h.ID="editor.contrib.quickInputWidget",(0,L.registerEditorContribution)(l.ID,l)}),define(ee[679],te([0,1,27,82,24,14]),function(Q,e,L,N,M,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SeverityIcon=void 0;var g;(function(S){function b(p){switch(p){case N.default.Ignore:return"severity-ignore "+L.Codicon.info.classNames;case N.default.Info:return L.Codicon.info.classNames;case N.default.Warning:return L.Codicon.warning.classNames;case N.default.Error:return L.Codicon.error.classNames;default:return""}}S.className=b})(g=e.SeverityIcon||(e.SeverityIcon={})),(0,E.registerThemingParticipant)((S,b)=>{const p=S.getColor(M.problemsErrorIconForeground);if(p){const t=L.Codicon.error.cssSelector;b.addRule(`
			.monaco-editor .zone-widget ${t},
			.markers-panel .marker-icon${t},
			.text-search-provider-messages .providerMessage ${t},
			.extensions-viewlet > .extensions ${t} {
				color: ${p};
			}
		`)}const v=S.getColor(M.problemsWarningIconForeground);if(v){const t=L.Codicon.warning.cssSelector;b.addRule(`
			.monaco-editor .zone-widget ${t},
			.markers-panel .marker-icon${t},
			.extensions-viewlet > .extensions ${t},
			.extension-editor ${t},
			.text-search-provider-messages .providerMessage ${t},
			.preferences-editor ${t} {
				color: ${v};
			}
		`)}const i=S.getColor(M.problemsInfoIconForeground);if(i){const t=L.Codicon.info.cssSelector;b.addRule(`
			.monaco-editor .zone-widget ${t},
			.markers-panel .marker-icon${t},
			.extensions-viewlet > .extensions ${t},
			.text-search-provider-messages .providerMessage ${t},
			.extension-editor ${t} {
				color: ${i};
			}
		`)}})}),define(ee[71],te([0,1,10,27,4,575,194,35,14]),function(Q,e,L,N,M,E,g,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.spinningLoading=e.syncing=e.gotoNextLocation=e.gotoPreviousLocation=e.widgetClose=e.iconsSchemaId=e.getIconRegistry=e.registerIcon=e.Extensions=void 0,e.Extensions={IconContribution:"base.contributions.icons"};class p{constructor(){this._onDidChange=new M.Emitter,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,E.localize)(0,null)},fontCharacter:{type:"string",description:(0,E.localize)(1,null)}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${N.CSSIcon.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(u,n,r,s){const o=this.iconsById[u];if(o){if(r&&!o.description){o.description=r,this.iconSchema.properties[u].markdownDescription=`${r} $(${u})`;const f=this.iconReferenceSchema.enum.indexOf(u);f!==-1&&(this.iconReferenceSchema.enumDescriptions[f]=r),this._onDidChange.fire()}return o}let m={id:u,description:r,defaults:n,deprecationMessage:s};this.iconsById[u]=m;let _={$ref:"#/definitions/icons"};return s&&(_.deprecationMessage=s),r&&(_.markdownDescription=`${r}: $(${u})`),this.iconSchema.properties[u]=_,this.iconReferenceSchema.enum.push(u),this.iconReferenceSchema.enumDescriptions.push(r||""),this._onDidChange.fire(),{id:u}}deregisterIcon(u){delete this.iconsById[u],delete this.iconSchema.properties[u];const n=this.iconReferenceSchema.enum.indexOf(u);n!==-1&&(this.iconReferenceSchema.enum.splice(n,1),this.iconReferenceSchema.enumDescriptions.splice(n,1)),this._onDidChange.fire()}getIcons(){return Object.keys(this.iconsById).map(u=>this.iconsById[u])}getIcon(u){return this.iconsById[u]}getIconSchema(){return this.iconSchema}getIconReferenceSchema(){return this.iconReferenceSchema}registerIconFont(u,n){const r=this.iconFontsById[u];if(r)return r;let s={id:u,definition:n};return this.iconFontsById[u]=s,this._onDidChange.fire(),s}deregisterIconFont(u){delete this.iconFontsById[u]}getIconFonts(){return Object.keys(this.iconFontsById).map(u=>this.iconFontsById[u])}getIconFont(u){return this.iconFontsById[u]}toString(){const u=(o,m)=>o.id.localeCompare(m.id),n=o=>{for(;b.ThemeIcon.isThemeIcon(o.defaults);)o=this.iconsById[o.defaults.id];return`codicon codicon-${o?o.id:""}`};let r=[];r.push("| preview     | identifier                        | default codicon ID                | description"),r.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const s=Object.keys(this.iconsById).map(o=>this.iconsById[o]);for(const o of s.filter(m=>!!m.description).sort(u))r.push(`|<i class="${n(o)}"></i>|${o.id}|${b.ThemeIcon.isThemeIcon(o.defaults)?o.defaults.id:o.id}|${o.description||""}|`);r.push("| preview     | identifier                        "),r.push("| ----------- | --------------------------------- |");for(const o of s.filter(m=>!b.ThemeIcon.isThemeIcon(m.defaults)).sort(u))r.push(`|<i class="${n(o)}"></i>|${o.id}|`);return r.join(`
`)}}const v=new p;S.Registry.add(e.Extensions.IconContribution,v);function i(d,u,n,r){return v.registerIcon(d,u,n,r)}e.registerIcon=i;function t(){return v}e.getIconRegistry=t;function a(){for(const d of N.iconRegistry.all)v.registerIcon(d.id,d.definition,d.description);N.iconRegistry.onDidRegister(d=>v.registerIcon(d.id,d.definition,d.description))}a(),e.iconsSchemaId="vscode://schemas/icons";let l=S.Registry.as(g.Extensions.JSONContribution);l.registerSchema(e.iconsSchemaId,v.getIconSchema());const h=new L.RunOnceScheduler(()=>l.notifySchemaChanged(e.iconsSchemaId),200);v.onDidChange(()=>{h.isScheduled()||h.schedule()}),e.widgetClose=i("widget-close",N.Codicon.close,(0,E.localize)(2,null)),e.gotoPreviousLocation=i("goto-previous-location",N.Codicon.arrowUp,(0,E.localize)(3,null)),e.gotoNextLocation=i("goto-next-location",N.Codicon.arrowDown,(0,E.localize)(4,null)),e.syncing=b.ThemeIcon.modify(N.Codicon.sync,"spin"),e.spinningLoading=b.ThemeIcon.modify(N.Codicon.loading,"spin")}),define(ee[680],te([0,1,488,7,32,84,64,46,2,63,16,30,29,92,13,52,120,65,17,24,14,27,71,39,366]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u,n,r,s,o,m,_){"use strict";var f;Object.defineProperty(e,"__esModule",{value:!0}),e.DiffReview=void 0;const c=3;class C{constructor(O,k,V,B){this.originalLineStart=O,this.originalLineEnd=k,this.modifiedLineStart=V,this.modifiedLineEnd=B}getType(){return this.originalLineStart===0?1:this.modifiedLineStart===0?2:0}}class y{constructor(O){this.entries=O}}const w=(0,m.registerIcon)("diff-review-insert",o.Codicon.add,L.localize(0,null)),D=(0,m.registerIcon)("diff-review-remove",o.Codicon.remove,L.localize(1,null)),I=(0,m.registerIcon)("diff-review-close",o.Codicon.close,L.localize(2,null));let T=class Mt extends b.Disposable{constructor(O,k){super();this._modeService=k,this._width=0,this._diffEditor=O,this._isVisible=!1,this.shadow=(0,M.createFastDomNode)(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=(0,M.createFastDomNode)(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new E.ActionBar(this.actionBarContainer.domNode)),this._actionBar.push(new S.Action("diffreview.close",L.localize(3,null),"close-diff-review "+s.ThemeIcon.asClassName(I),!0,()=>Me(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=(0,M.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=(0,M.createFastDomNode)(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new g.DomScrollableElement(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(O.onDidUpdateDiff(()=>{!this._isVisible||(this._diffs=this._compute(),this._render())})),this._register(O.getModifiedEditor().onDidChangeCursorPosition(()=>{!this._isVisible||this._render()})),this._register(N.addStandardDisposableListener(this.domNode.domNode,"click",V=>{V.preventDefault();let B=N.findParentWithClass(V.target,"diff-review-row");B&&this._goToRow(B)})),this._register(N.addStandardDisposableListener(this.domNode.domNode,"keydown",V=>{(V.equals(18)||V.equals(2048|18)||V.equals(512|18))&&(V.preventDefault(),this._goToRow(this._getNextRow())),(V.equals(16)||V.equals(2048|16)||V.equals(512|16))&&(V.preventDefault(),this._goToRow(this._getPrevRow())),(V.equals(9)||V.equals(2048|9)||V.equals(512|9)||V.equals(1024|9))&&(V.preventDefault(),this.hide()),(V.equals(10)||V.equals(3))&&(V.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let O=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let V=-1;for(let B=0,x=this._diffs.length;B<x;B++)if(this._diffs[B]===this._currentDiff){V=B;break}O=this._diffs.length+V-1}else O=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;O=O%this._diffs.length;const k=this._diffs[O].entries;this._diffEditor.setPosition(new l.Position(k[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:k[0].modifiedLineStart,endColumn:1073741824,endLineNumber:k[k.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let O=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let V=-1;for(let B=0,x=this._diffs.length;B<x;B++)if(this._diffs[B]===this._currentDiff){V=B;break}O=V+1}else O=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;O=O%this._diffs.length;const k=this._diffs[O].entries;this._diffEditor.setPosition(new l.Position(k[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:k[0].modifiedLineStart,endColumn:1073741824,endLineNumber:k[k.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let O=-1,k=this._getCurrentFocusedRow();if(k){let V=parseInt(k.getAttribute("data-line"),10);isNaN(V)||(O=V)}this.hide(),O!==-1&&(this._diffEditor.setPosition(new l.Position(O,1)),this._diffEditor.revealPosition(new l.Position(O,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){let O=this._getCurrentFocusedRow();return O?O.previousElementSibling?O.previousElementSibling:O:this._getFirstRow()}_getNextRow(){let O=this._getCurrentFocusedRow();return O?O.nextElementSibling?O.nextElementSibling:O:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){let O=document.activeElement;return O&&/diff-review-row/.test(O.className)?O:null}_goToRow(O){let k=this._getCurrentFocusedRow();O.tabIndex=0,O.focus(),k&&k!==O&&(k.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(O,k,V){this._width=k,this.shadow.setTop(O-6),this.shadow.setWidth(k),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(O),this.domNode.setWidth(k),this.domNode.setHeight(V),this._content.setHeight(V),this._content.setWidth(k),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const O=this._diffEditor.getLineChanges();if(!O||O.length===0)return[];const k=this._diffEditor.getOriginalEditor().getModel(),V=this._diffEditor.getModifiedEditor().getModel();return!k||!V?[]:Mt._mergeAdjacent(O,k.getLineCount(),V.getLineCount())}static _mergeAdjacent(O,k,V){if(!O||O.length===0)return[];let B=[],x=0;for(let q=0,H=O.length;q<H;q++){const G=O[q],z=G.originalStartLineNumber,W=G.originalEndLineNumber,j=G.modifiedStartLineNumber,U=G.modifiedEndLineNumber;let Y=[],ne=0;{const J=W===0?z:z-1,re=U===0?j:j-1;let ge=1,pe=1;if(q>0){const ie=O[q-1];ie.originalEndLineNumber===0?ge=ie.originalStartLineNumber+1:ge=ie.originalEndLineNumber+1,ie.modifiedEndLineNumber===0?pe=ie.modifiedStartLineNumber+1:pe=ie.modifiedEndLineNumber+1}let oe=J-c+1,$=re-c+1;if(oe<ge){const ie=ge-oe;oe=oe+ie,$=$+ie}if($<pe){const ie=pe-$;oe=oe+ie,$=$+ie}Y[ne++]=new C(oe,J,$,re)}W!==0&&(Y[ne++]=new C(z,W,0,0)),U!==0&&(Y[ne++]=new C(0,0,j,U));{const J=W===0?z+1:W+1,re=U===0?j+1:U+1;let ge=k,pe=V;if(q+1<H){const ie=O[q+1];ie.originalEndLineNumber===0?ge=ie.originalStartLineNumber:ge=ie.originalStartLineNumber-1,ie.modifiedEndLineNumber===0?pe=ie.modifiedStartLineNumber:pe=ie.modifiedStartLineNumber-1}let oe=J+c-1,$=re+c-1;if(oe>ge){const ie=ge-oe;oe=oe+ie,$=$+ie}if($>pe){const ie=pe-$;oe=oe+ie,$=$+ie}Y[ne++]=new C(J,oe,re,$)}B[x++]=new y(Y)}let K=B[0].entries,X=[],Z=0;for(let q=1,H=B.length;q<H;q++){const G=B[q].entries,z=K[K.length-1],W=G[0];if(z.getType()===0&&W.getType()===0&&W.originalLineStart<=z.originalLineEnd){K[K.length-1]=new C(z.originalLineStart,W.originalLineEnd,z.modifiedLineStart,W.modifiedLineEnd),K=K.concat(G.slice(1));continue}X[Z++]=new y(K),K=G}return X[Z++]=new y(K),X}_findDiffIndex(O){const k=O.lineNumber;for(let V=0,B=this._diffs.length;V<B;V++){const x=this._diffs[V].entries,K=x[x.length-1].modifiedLineEnd;if(k<=K)return V}return 0}_render(){const O=this._diffEditor.getOriginalEditor().getOptions(),k=this._diffEditor.getModifiedEditor().getOptions(),V=this._diffEditor.getOriginalEditor().getModel(),B=this._diffEditor.getModifiedEditor().getModel(),x=V.getOptions(),K=B.getOptions();if(!this._isVisible||!V||!B){N.clearNode(this._content.domNode),this._currentDiff=null,this.scrollbar.scanDomNode();return}this._diffEditor.updateOptions({readOnly:!0});const X=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[X]===this._currentDiff)return;this._currentDiff=this._diffs[X];const Z=this._diffs[X].entries;let q=document.createElement("div");q.className="diff-review-table",q.setAttribute("role","list"),q.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),p.Configuration.applyFontInfoSlow(q,k.get(43));let H=0,G=0,z=0,W=0;for(let $=0,ie=Z.length;$<ie;$++){const le=Z[$],de=le.originalLineStart,fe=le.originalLineEnd,he=le.modifiedLineStart,se=le.modifiedLineEnd;de!==0&&(H===0||de<H)&&(H=de),fe!==0&&(G===0||fe>G)&&(G=fe),he!==0&&(z===0||he<z)&&(z=he),se!==0&&(W===0||se>W)&&(W=se)}let j=document.createElement("div");j.className="diff-review-row";let U=document.createElement("div");U.className="diff-review-cell diff-review-summary";const Y=G-H+1,ne=W-z+1;U.appendChild(document.createTextNode(`${X+1}/${this._diffs.length}: @@ -${H},${Y} +${z},${ne} @@`)),j.setAttribute("data-line",String(z));const J=$=>$===0?L.localize(4,null):$===1?L.localize(5,null):L.localize(6,null,$),re=J(Y),ge=J(ne);j.setAttribute("aria-label",L.localize(7,null,X+1,this._diffs.length,H,re,z,ge)),j.appendChild(U),j.setAttribute("role","listitem"),q.appendChild(j);const pe=k.get(58);let oe=z;for(let $=0,ie=Z.length;$<ie;$++){const le=Z[$];Mt._renderSection(q,le,oe,pe,this._width,O,V,x,k,B,K,this._modeService.languageIdCodec),le.modifiedLineStart!==0&&(oe=le.modifiedLineEnd)}N.clearNode(this._content.domNode),this._content.domNode.appendChild(q),this.scrollbar.scanDomNode()}static _renderSection(O,k,V,B,x,K,X,Z,q,H,G,z){const W=k.getType();let j="diff-review-row",U="";const Y="diff-review-spacer";let ne=null;switch(W){case 1:j="diff-review-row line-insert",U=" char-insert",ne=w;break;case 2:j="diff-review-row line-delete",U=" char-delete",ne=D;break}const J=k.originalLineStart,re=k.originalLineEnd,ge=k.modifiedLineStart,pe=k.modifiedLineEnd,oe=Math.max(pe-ge,re-J),$=K.get(130),ie=$.glyphMarginWidth+$.lineNumbersWidth,le=q.get(130),de=10+le.glyphMarginWidth+le.lineNumbersWidth;for(let fe=0;fe<=oe;fe++){const he=J===0?0:J+fe,se=ge===0?0:ge+fe,ce=document.createElement("div");ce.style.minWidth=x+"px",ce.className=j,ce.setAttribute("role","listitem"),se!==0&&(V=se),ce.setAttribute("data-line",String(V));let Se=document.createElement("div");Se.className="diff-review-cell",Se.style.height=`${B}px`,ce.appendChild(Se);const Le=document.createElement("span");Le.style.width=ie+"px",Le.style.minWidth=ie+"px",Le.className="diff-review-line-number"+U,he!==0?Le.appendChild(document.createTextNode(String(he))):Le.innerText="\xA0",Se.appendChild(Le);const ue=document.createElement("span");ue.style.width=de+"px",ue.style.minWidth=de+"px",ue.style.paddingRight="10px",ue.className="diff-review-line-number"+U,se!==0?ue.appendChild(document.createTextNode(String(se))):ue.innerText="\xA0",Se.appendChild(ue);const we=document.createElement("span");if(we.className=Y,ne){const Ie=document.createElement("span");Ie.className=s.ThemeIcon.asClassName(ne),Ie.innerText="\xA0\xA0",we.appendChild(Ie)}else we.innerText="\xA0\xA0";Se.appendChild(we);let ae;if(se!==0){let Ie=this._renderLine(H,q,G.tabSize,se,z);Mt._ttPolicy&&(Ie=Mt._ttPolicy.createHTML(Ie)),Se.insertAdjacentHTML("beforeend",Ie),ae=H.getLineContent(se)}else{let Ie=this._renderLine(X,K,Z.tabSize,he,z);Mt._ttPolicy&&(Ie=Mt._ttPolicy.createHTML(Ie)),Se.insertAdjacentHTML("beforeend",Ie),ae=X.getLineContent(he)}ae.length===0&&(ae=L.localize(8,null));let me="";switch(W){case 0:he===se?me=L.localize(9,null,ae,he):me=L.localize(10,null,ae,he,se);break;case 1:me=L.localize(11,null,ae,se);break;case 2:me=L.localize(12,null,ae,he);break}ce.setAttribute("aria-label",me),O.appendChild(ce)}}static _renderLine(O,k,V,B,x){const K=O.getLineContent(B),X=k.get(43),Z=a.LineTokens.createEmpty(K,x),q=u.ViewLineRenderingData.isBasicASCII(K,O.mightContainNonBasicASCII()),H=u.ViewLineRenderingData.containsRTL(K,q,O.mightContainRTL());return(0,d.renderViewLine2)(new d.RenderLineInput(X.isMonospace&&!k.get(29),X.canUseHalfwidthRightwardsArrow,K,!1,q,H,0,Z,[],V,0,X.spaceWidth,X.middotWidth,X.wsmiddotWidth,k.get(104),k.get(87),k.get(82),k.get(44)!==t.EditorFontLigatures.OFF,null)).html}};T._ttPolicy=(f=window.trustedTypes)===null||f===void 0?void 0:f.createPolicy("diffReview",{createHTML:A=>A}),T=Ve([Ce(1,_.IModeService)],T),e.DiffReview=T,(0,s.registerThemingParticipant)((A,O)=>{const k=A.getColor(h.editorLineNumbers);k&&O.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${k}; }`);const V=A.getColor(r.scrollbarShadow);V&&O.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${V} 0 -6px 6px -6px inset; }`)});class F extends v.EditorAction{constructor(){super({id:"editor.action.diffReview.next",label:L.localize(13,null),alias:"Go to Next Difference",precondition:n.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(O,k){const V=R(O);V&&V.diffReviewNext()}}class P extends v.EditorAction{constructor(){super({id:"editor.action.diffReview.prev",label:L.localize(14,null),alias:"Go to Previous Difference",precondition:n.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1024|65,weight:100}})}run(O,k){const V=R(O);V&&V.diffReviewPrev()}}function R(A){const O=A.get(i.ICodeEditorService),k=O.listDiffEditors(),V=O.getActiveCodeEditor();if(!V)return null;for(let B=0,x=k.length;B<x;B++){const K=k[B];if(K.getModifiedEditor().getId()===V.getId()||K.getOriginalEditor().getId()===V.getId())return K}return null}(0,v.registerEditorAction)(F),(0,v.registerEditorAction)(P)}),define(ee[681],te([0,1,7,45,64,27,4,2,8,20,106,39,594,193,541,17,54,24,71,108,14,382]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u,n,r,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorHoverWidgetHighlightForeground=e.ParameterHintsWidget=void 0;const o=L.$,m=(0,n.registerIcon)("parameter-hints-next",E.Codicon.chevronDown,l.localize(0,null)),_=(0,n.registerIcon)("parameter-hints-previous",E.Codicon.chevronUp,l.localize(1,null));let f=class Wi extends S.Disposable{constructor(C,y,w,D){super();this.editor=C,this.renderDisposeables=this._register(new S.DisposableStore),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new v.MarkdownRenderer({editor:C},D,w)),this.model=this._register(new t.ParameterHintsModel(C)),this.keyVisible=a.Context.Visible.bindTo(y),this.keyMultipleSignatures=a.Context.MultipleSignatures.bindTo(y),this._register(this.model.onChangedHints(I=>{I?(this.show(),this.render(I)):this.hide()}))}createParameterHintDOMNodes(){const C=o(".editor-widget.parameter-hints-widget"),y=L.append(C,o(".phwrapper"));y.tabIndex=-1;const w=L.append(y,o(".controls")),D=L.append(w,o(".button"+s.ThemeIcon.asCSSSelector(_))),I=L.append(w,o(".overloads")),T=L.append(w,o(".button"+s.ThemeIcon.asCSSSelector(m)));this._register(L.addDisposableListener(D,"click",k=>{L.EventHelper.stop(k),this.previous()})),this._register(L.addDisposableListener(T,"click",k=>{L.EventHelper.stop(k),this.next()}));const F=o(".body"),P=new M.DomScrollableElement(F,{});this._register(P),y.appendChild(P.getDomNode());const R=L.append(F,o(".signature")),A=L.append(F,o(".docs"));C.style.userSelect="text",this.domNodes={element:C,signature:R,overloads:I,docs:A,scrollbar:P},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(k=>{this.visible&&this.editor.layoutContentWidget(this)}));const O=()=>{if(!this.domNodes)return;const k=this.editor.getOption(43);this.domNodes.element.style.fontSize=`${k.fontSize}px`,this.domNodes.element.style.lineHeight=`${k.lineHeight/k.fontSize}`};O(),this._register(g.Event.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(k=>k.hasChanged(43)).on(O,null)),this._register(this.editor.onDidLayoutChange(k=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{this.domNodes&&this.domNodes.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){this.renderDisposeables.clear(),!!this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes&&this.domNodes.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(C){var y;if(this.renderDisposeables.clear(),!this.domNodes)return;const w=C.signatures.length>1;this.domNodes.element.classList.toggle("multiple",w),this.keyMultipleSignatures.set(w),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const D=C.signatures[C.activeSignature];if(!D)return;const I=L.append(this.domNodes.signature,o(".code")),T=this.editor.getOption(43);I.style.fontSize=`${T.fontSize}px`,I.style.fontFamily=T.fontFamily;const F=D.parameters.length>0,P=(y=D.activeParameter)!==null&&y!==void 0?y:C.activeParameter;if(F)this.renderParameters(I,D,P);else{const O=L.append(I,o("span"));O.textContent=D.label}const R=D.parameters[P];if(R==null?void 0:R.documentation){const O=o("span.documentation");if(typeof R.documentation=="string")O.textContent=R.documentation;else{const k=this.renderMarkdownDocs(R.documentation);O.appendChild(k.element)}L.append(this.domNodes.docs,o("p",{},O))}if(D.documentation!==void 0)if(typeof D.documentation=="string")L.append(this.domNodes.docs,o("p",{},D.documentation));else{const O=this.renderMarkdownDocs(D.documentation);L.append(this.domNodes.docs,O.element)}const A=this.hasDocs(D,R);if(this.domNodes.signature.classList.toggle("has-docs",A),this.domNodes.docs.classList.toggle("empty",!A),this.domNodes.overloads.textContent=String(C.activeSignature+1).padStart(C.signatures.length.toString().length,"0")+"/"+C.signatures.length,R){let O="";const k=D.parameters[P];Array.isArray(k.label)?O=D.label.substring(k.label[0],k.label[1]):O=k.label,k.documentation&&(O+=typeof k.documentation=="string"?`, ${k.documentation}`:`, ${k.documentation.value}`),D.documentation&&(O+=typeof D.documentation=="string"?`, ${D.documentation}`:`, ${D.documentation.value}`),this.announcedLabel!==O&&(N.alert(l.localize(2,null,O)),this.announcedLabel=O)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(C){const y=this.renderDisposeables.add(this.markdownRenderer.render(C,{asyncRenderCallback:()=>{var w;(w=this.domNodes)===null||w===void 0||w.scrollbar.scanDomNode()}}));return y.element.classList.add("markdown-docs"),y}hasDocs(C,y){return!!(y&&typeof y.documentation=="string"&&(0,p.assertIsDefined)(y.documentation).length>0||y&&typeof y.documentation=="object"&&(0,p.assertIsDefined)(y.documentation).value.length>0||C.documentation&&typeof C.documentation=="string"&&(0,p.assertIsDefined)(C.documentation).length>0||C.documentation&&typeof C.documentation=="object"&&(0,p.assertIsDefined)(C.documentation.value).length>0)}renderParameters(C,y,w){const[D,I]=this.getParameterLabelOffsets(y,w),T=document.createElement("span");T.textContent=y.label.substring(0,D);const F=document.createElement("span");F.textContent=y.label.substring(D,I),F.className="parameter active";const P=document.createElement("span");P.textContent=y.label.substring(I),L.append(C,T,F,P)}getParameterLabelOffsets(C,y){const w=C.parameters[y];if(w){if(Array.isArray(w.label))return w.label;if(w.label.length){const D=new RegExp(`(\\W|^)${(0,b.escapeRegExpCharacters)(w.label)}(?=\\W|$)`,"g");D.test(C.label);const I=D.lastIndex-w.label.length;return I>=0?[I,D.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return Wi.ID}trigger(C){this.model.trigger(C,0)}updateMaxHeight(){if(!this.domNodes)return;const y=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=y;const w=this.domNodes.element.getElementsByClassName("phwrapper");w.length&&(w[0].style.maxHeight=y)}};f.ID="editor.widget.parameterHintsWidget",f=Ve([Ce(1,h.IContextKeyService),Ce(2,d.IOpenerService),Ce(3,i.IModeService)],f),e.ParameterHintsWidget=f,e.editorHoverWidgetHighlightForeground=(0,u.registerColor)("editorHoverWidget.highlightForeground",{dark:u.listHighlightForeground,light:u.listHighlightForeground,hc:u.listHighlightForeground},l.localize(3,null)),(0,s.registerThemingParticipant)((c,C)=>{const y=c.getColor(u.editorHoverBorder);if(y){const R=c.type===r.ColorScheme.HIGH_CONTRAST?2:1;C.addRule(`.monaco-editor .parameter-hints-widget { border: ${R}px solid ${y}; }`),C.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${y.transparent(.5)}; }`),C.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${y.transparent(.5)}; }`)}const w=c.getColor(u.editorHoverBackground);w&&C.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${w}; }`);const D=c.getColor(u.textLinkForeground);D&&C.addRule(`.monaco-editor .parameter-hints-widget a { color: ${D}; }`);const I=c.getColor(u.textLinkActiveForeground);I&&C.addRule(`.monaco-editor .parameter-hints-widget a:hover { color: ${I}; }`);const T=c.getColor(u.editorHoverForeground);T&&C.addRule(`.monaco-editor .parameter-hints-widget { color: ${T}; }`);const F=c.getColor(u.textCodeBlockBackground);F&&C.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${F}; }`);const P=c.getColor(e.editorHoverWidgetHighlightForeground);P&&C.addRule(`.monaco-editor .parameter-hints-widget .parameter.active { color: ${P}}`)})}),define(ee[682],te([0,1,2,16,25,18,193,540,17,9,681]),function(Q,e,L,N,M,E,g,S,b,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerParameterHintsAction=void 0;let i=class Vi extends L.Disposable{constructor(d,u){super();this.editor=d,this.widget=this._register(u.createInstance(v.ParameterHintsWidget,this.editor))}static get(d){return d.getContribution(Vi.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(d){this.widget.trigger(d)}};i.ID="editor.controller.parameterHints",i=Ve([Ce(1,p.IInstantiationService)],i);class t extends N.EditorAction{constructor(){super({id:"editor.action.triggerParameterHints",label:S.localize(0,null),alias:"Trigger Parameter Hints",precondition:M.EditorContextKeys.hasSignatureHelpProvider,kbOpts:{kbExpr:M.EditorContextKeys.editorTextFocus,primary:2048|1024|10,weight:100}})}run(d,u){const n=i.get(u);n&&n.trigger({triggerKind:E.SignatureHelpTriggerKind.Invoke})}}e.TriggerParameterHintsAction=t,(0,N.registerEditorContribution)(i.ID,i),(0,N.registerEditorAction)(t);const a=100+75,l=N.EditorCommand.bindToContribution(i.get);(0,N.registerEditorCommand)(new l({id:"closeParameterHints",precondition:g.Context.Visible,handler:h=>h.cancel(),kbOpts:{weight:a,kbExpr:M.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),(0,N.registerEditorCommand)(new l({id:"showPrevParameterHint",precondition:b.ContextKeyExpr.and(g.Context.Visible,g.Context.MultipleSignatures),handler:h=>h.previous(),kbOpts:{weight:a,kbExpr:M.EditorContextKeys.focus,primary:16,secondary:[512|16],mac:{primary:16,secondary:[512|16,256|46]}}})),(0,N.registerEditorCommand)(new l({id:"showNextParameterHint",precondition:b.ContextKeyExpr.and(g.Context.Visible,g.Context.MultipleSignatures),handler:h=>h.next(),kbOpts:{weight:a,kbExpr:M.EditorContextKeys.focus,primary:18,secondary:[512|18],mac:{primary:18,secondary:[512|18,256|44]}}}))}),define(ee[683],te([0,1,36,7,186,19,27,4,72,2,22,29,18,612,47,39,554,271,71,14,275]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u,n,r,s){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0}),e.ItemRenderer=e.suggestMoreInfoIcon=e.getAriaId=void 0;function m(C){return`suggest-aria-id:${C}`}e.getAriaId=m,e.suggestMoreInfoIcon=(0,n.registerIcon)("suggest-more-info",g.Codicon.chevronRight,d.localize(0,null));const _=new(o=class Zt{extract(y,w){if(y.textLabel.match(Zt._regexStrict))return w[0]=y.textLabel,!0;if(y.completion.detail&&y.completion.detail.match(Zt._regexStrict))return w[0]=y.completion.detail,!0;if(typeof y.completion.documentation=="string"){const D=Zt._regexRelaxed.exec(y.completion.documentation);if(D&&(D.index===0||D.index+D[0].length===y.completion.documentation.length))return w[0]=D[0],!0}return!1}},o._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,o._regexStrict=new RegExp(`^${o._regexRelaxed.source}$`,"i"),o);let f=class{constructor(y,w,D,I){this._editor=y,this._modelService=w,this._modeService=D,this._themeService=I,this._onDidToggleDetails=new S.Emitter,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(y){const w=Object.create(null);w.disposables=new p.DisposableStore,w.root=y,w.root.classList.add("show-file-icons"),w.icon=(0,N.append)(y,(0,N.$)(".icon")),w.colorspan=(0,N.append)(w.icon,(0,N.$)("span.colorspan"));const D=(0,N.append)(y,(0,N.$)(".contents")),I=(0,N.append)(D,(0,N.$)(".main"));w.iconContainer=(0,N.append)(I,(0,N.$)(".icon-label.codicon")),w.left=(0,N.append)(I,(0,N.$)("span.left")),w.right=(0,N.append)(I,(0,N.$)("span.right")),w.iconLabel=new M.IconLabel(w.left,{supportHighlights:!0,supportIcons:!0}),w.disposables.add(w.iconLabel),w.parametersLabel=(0,N.append)(w.left,(0,N.$)("span.signature-label")),w.qualifierLabel=(0,N.append)(w.left,(0,N.$)("span.qualifier-label")),w.detailsLabel=(0,N.append)(w.right,(0,N.$)("span.details-label")),w.readMore=(0,N.append)(w.right,(0,N.$)("span.readMore"+r.ThemeIcon.asCSSSelector(e.suggestMoreInfoIcon))),w.readMore.title=d.localize(1,null);const T=()=>{const F=this._editor.getOptions(),P=F.get(43),R=P.getMassagedFontFamily(L.isSafari?i.EDITOR_FONT_DEFAULTS.fontFamily:null),A=P.fontFeatureSettings,O=F.get(106)||P.fontSize,k=F.get(107)||P.lineHeight,V=P.fontWeight,B=`${O}px`,x=`${k}px`;w.root.style.fontSize=B,w.root.style.fontWeight=V,I.style.fontFamily=R,I.style.fontFeatureSettings=A,I.style.lineHeight=x,w.icon.style.height=x,w.icon.style.width=x,w.readMore.style.height=x,w.readMore.style.width=x};return T(),w.disposables.add(this._editor.onDidChangeConfiguration(F=>{(F.hasChanged(43)||F.hasChanged(106)||F.hasChanged(107))&&T()})),w}renderElement(y,w,D){const{completion:I}=y;D.root.id=m(w),D.colorspan.style.backgroundColor="";const T={labelEscapeNewLines:!0,matches:(0,b.createMatches)(y.score)};let F=[];if(I.kind===19&&_.extract(y,F))D.icon.className="icon customcolor",D.iconContainer.className="icon hide",D.colorspan.style.backgroundColor=F[0];else if(I.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){D.icon.className="icon hide",D.iconContainer.className="icon hide";const P=(0,a.getIconClasses)(this._modelService,this._modeService,v.URI.from({scheme:"fake",path:y.textLabel}),u.FileKind.FILE),R=(0,a.getIconClasses)(this._modelService,this._modeService,v.URI.from({scheme:"fake",path:I.detail}),u.FileKind.FILE);T.extraClasses=P.length>R.length?P:R}else I.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(D.icon.className="icon hide",D.iconContainer.className="icon hide",T.extraClasses=(0,E.flatten)([(0,a.getIconClasses)(this._modelService,this._modeService,v.URI.from({scheme:"fake",path:y.textLabel}),u.FileKind.FOLDER),(0,a.getIconClasses)(this._modelService,this._modeService,v.URI.from({scheme:"fake",path:I.detail}),u.FileKind.FOLDER)])):(D.icon.className="icon hide",D.iconContainer.className="",D.iconContainer.classList.add("suggest-icon",...(0,t.completionKindToCssClass)(I.kind).split(" ")));I.tags&&I.tags.indexOf(1)>=0&&(T.extraClasses=(T.extraClasses||[]).concat(["deprecated"]),T.matches=[]),D.iconLabel.setLabel(y.textLabel,void 0,T),typeof I.label=="string"?(D.parametersLabel.textContent="",D.detailsLabel.textContent=c(I.detail||""),D.root.classList.add("string-label")):(D.parametersLabel.textContent=c(I.label.detail||""),D.detailsLabel.textContent=c(I.label.description||""),D.root.classList.remove("string-label")),this._editor.getOption(105).showInlineDetails?(0,N.show)(D.detailsLabel):(0,N.hide)(D.detailsLabel),(0,s.canExpandCompletionItem)(y)?(D.right.classList.add("can-expand-details"),(0,N.show)(D.readMore),D.readMore.onmousedown=P=>{P.stopPropagation(),P.preventDefault()},D.readMore.onclick=P=>{P.stopPropagation(),P.preventDefault(),this._onDidToggleDetails.fire()}):(D.right.classList.remove("can-expand-details"),(0,N.hide)(D.readMore),D.readMore.onmousedown=null,D.readMore.onclick=null)}disposeTemplate(y){y.disposables.dispose()}};f=Ve([Ce(1,l.IModelService),Ce(2,h.IModeService),Ce(3,r.IThemeService)],f),e.ItemRenderer=f;function c(C){return C.replace(/\r\n|\r|\n/g,"")}}),define(ee[684],te([0,1,7,84,46,2,106,9,676,71,14,387]),function(Q,e,L,N,M,E,g,S,b,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BannerController=void 0;const i=26;let t=class extends E.Disposable{constructor(h,d){super();this._editor=h,this.instantiationService=d,this.banner=this._register(this.instantiationService.createInstance(a))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(h){this.banner.show(Object.assign(Object.assign({},h),{onClose:()=>{this.hide(),h.onClose&&h.onClose()}})),this._editor.setBanner(this.banner.element,i)}};t=Ve([Ce(1,S.IInstantiationService)],t),e.BannerController=t;let a=class extends E.Disposable{constructor(h){super();this.instantiationService=h,this.markdownRenderer=this.instantiationService.createInstance(g.MarkdownRenderer,{}),this.element=(0,L.$)("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(h){if(h.ariaLabel)return h.ariaLabel;if(typeof h.message=="string")return h.message}getBannerMessage(h){if(typeof h=="string"){const d=(0,L.$)("span");return d.innerText=h,d}return this.markdownRenderer.render(h).element}clear(){(0,L.clearNode)(this.element)}show(h){(0,L.clearNode)(this.element);const d=this.getAriaLabel(h);d&&this.element.setAttribute("aria-label",d);const u=(0,L.append)(this.element,(0,L.$)("div.icon-container"));u.setAttribute("aria-hidden","true"),h.icon&&u.appendChild((0,L.$)(`div${v.ThemeIcon.asCSSSelector(h.icon)}`));const n=(0,L.append)(this.element,(0,L.$)("div.message-container"));if(n.setAttribute("aria-hidden","true"),n.appendChild(this.getBannerMessage(h.message)),this.messageActionsContainer=(0,L.append)(this.element,(0,L.$)("div.message-actions-container")),h.actions)for(const s of h.actions)this._register(this.instantiationService.createInstance(b.Link,this.messageActionsContainer,Object.assign(Object.assign({},s),{tabIndex:-1}),{}));const r=(0,L.append)(this.element,(0,L.$)("div.action-container"));this.actionBar=this._register(new N.ActionBar(r)),this.actionBar.push(this._register(new M.Action("banner.close","Close Banner",v.ThemeIcon.asClassName(p.widgetClose),!0,()=>{typeof h.onClose=="function"&&h.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};a=Ve([Ce(0,S.IInstantiationService)],a)}),define(ee[685],te([0,1,7,4,71,14]),function(Q,e,L,N,M,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIconsStyleSheet=void 0;function g(){const S=new N.Emitter,b=(0,M.getIconRegistry)();return b.onDidChange(()=>S.fire()),{onDidChange:S.event,getCSS(){const p={},v=t=>{let a=t.defaults;for(;E.ThemeIcon.isThemeIcon(a);){const h=b.getIcon(a.id);if(!h)return;a=h.defaults}const l=a.fontId;if(l){const h=b.getIconFont(l);if(h)return p[l]=h,`.codicon-${t.id}:before { content: '${a.fontCharacter}'; font-family: ${(0,L.asCSSPropertyValue)(l)}; }`}return`.codicon-${t.id}:before { content: '${a.fontCharacter}'; }`},i=[];for(let t of b.getIcons()){const a=v(t);a&&i.push(a)}for(let t in p){const l=p[t].definition.src.map(h=>`${(0,L.asCSSUrl)(h.location)} format('${h.format}')`).join(", ");i.push(`@font-face { src: ${l}; font-family: ${(0,L.asCSSPropertyValue)(t)}; font-display: block; }`)}return i.join(`
`)}}}e.getIconsStyleSheet=g}),define(ee[686],te([0,1,7,28,4,18,418,645,35,24,14,2,108,685]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneThemeServiceImpl=void 0;const l="vs",h="vs-dark",d="hc-black",u=b.Registry.as(p.Extensions.ColorContribution),n=b.Registry.as(v.Extensions.ThemingContribution);class r{constructor(c,C){this.semanticHighlighting=!1,this.themeData=C;let y=C.base;c.length>0?(s(c)?this.id=c:this.id=y+" "+c,this.themeName=c):(this.id=y,this.themeName=y),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get label(){return this.themeName}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const c=new Map;for(let C in this.themeData.colors)c.set(C,N.Color.fromHex(this.themeData.colors[C]));if(this.themeData.inherit){let C=o(this.themeData.base);for(let y in C.colors)c.has(y)||c.set(y,N.Color.fromHex(C.colors[y]))}this.colors=c}return this.colors}getColor(c,C){const y=this.getColors().get(c);if(y)return y;if(C!==!1)return this.getDefault(c)}getDefault(c){let C=this.defaultColors[c];return C||(C=u.resolveDefaultColor(c,this),this.defaultColors[c]=C,C)}defines(c){return Object.prototype.hasOwnProperty.call(this.getColors(),c)}get type(){switch(this.base){case l:return t.ColorScheme.LIGHT;case d:return t.ColorScheme.HIGH_CONTRAST;default:return t.ColorScheme.DARK}}get tokenTheme(){if(!this._tokenTheme){let c=[],C=[];if(this.themeData.inherit){let D=o(this.themeData.base);c=D.rules,D.encodedTokensColors&&(C=D.encodedTokensColors)}const y=this.themeData.colors["editor.foreground"],w=this.themeData.colors["editor.background"];if(y||w){const D={token:""};y&&(D.foreground=y),w&&(D.background=w),c.push(D)}c=c.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(C=this.themeData.encodedTokensColors),this._tokenTheme=g.TokenTheme.createFromRawTokenTheme(c,C)}return this._tokenTheme}getTokenStyleMetadata(c,C,y){const D=this.tokenTheme._match([c].concat(C).join(".")).metadata,I=E.TokenMetadata.getForeground(D),T=E.TokenMetadata.getFontStyle(D);return{foreground:I,italic:Boolean(T&1),bold:Boolean(T&2),underline:Boolean(T&4)}}get tokenColorMap(){return[]}}function s(f){return f===l||f===h||f===d}function o(f){switch(f){case l:return S.vs;case h:return S.vs_dark;case d:return S.hc_black}}function m(f){let c=o(f);return new r(f,c)}class _ extends i.Disposable{constructor(){super();this._onColorThemeChange=this._register(new M.Emitter),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onFileIconThemeChange=this._register(new M.Emitter),this.onDidFileIconThemeChange=this._onFileIconThemeChange.event,this._environment=Object.create(null),this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(l,m(l)),this._knownThemes.set(h,m(h)),this._knownThemes.set(d,m(d));const c=(0,a.getIconsStyleSheet)();this._codiconCSS=c.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(l),c.onDidChange(()=>{this._codiconCSS=c.getCSS(),this._updateCSS()}),L.addMatchMediaChangeListener("(forced-colors: active)",()=>{this._updateActualTheme()})}registerEditorContainer(c){return L.isInShadowDOM(c)?this._registerShadowDomContainer(c):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=L.createStyleSheet(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),i.Disposable.None}_registerShadowDomContainer(c){const C=L.createStyleSheet(c);return C.className="monaco-colors",C.textContent=this._allCSS,this._styleElements.push(C),{dispose:()=>{for(let y=0;y<this._styleElements.length;y++)if(this._styleElements[y]===C){this._styleElements.splice(y,1);return}}}}defineTheme(c,C){if(!/^[a-z0-9\-]+$/i.test(c))throw new Error("Illegal theme name!");if(!s(C.base)&&!s(c))throw new Error("Illegal theme base!");this._knownThemes.set(c,new r(c,C)),s(c)&&this._knownThemes.forEach(y=>{y.base===c&&y.notifyBaseUpdated()}),this._theme.themeName===c&&this.setTheme(c)}getColorTheme(){return this._theme}setColorMapOverride(c){this._colorMapOverride=c,this._updateThemeOrColorMap()}setTheme(c){let C;this._knownThemes.has(c)?C=this._knownThemes.get(c):C=this._knownThemes.get(l),this._desiredTheme=C,this._updateActualTheme()}_updateActualTheme(){const c=this._autoDetectHighContrast&&window.matchMedia("(forced-colors: active)").matches?this._knownThemes.get(d):this._desiredTheme;this._theme!==c&&(this._theme=c,this._updateThemeOrColorMap())}setAutoDetectHighContrast(c){this._autoDetectHighContrast=c,this._updateActualTheme()}_updateThemeOrColorMap(){let c=[],C={},y={addRule:I=>{C[I]||(c.push(I),C[I]=!0)}};n.getThemingParticipants().forEach(I=>I(this._theme,y,this._environment));const w=[];for(const I of u.getColors()){const T=this._theme.getColor(I.id,!0);T&&w.push(`${(0,p.asCssVariableName)(I.id)}: ${T.toString()};`)}y.addRule(`.monaco-editor { ${w.join(`
`)} }`);const D=this._colorMapOverride||this._theme.tokenTheme.getColorMap();y.addRule((0,g.generateTokensCSSForColorMap)(D)),this._themeCSS=c.join(`
`),this._updateCSS(),E.TokenizationRegistry.setColorMap(D),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(c=>c.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}}e.StandaloneThemeServiceImpl=_}),define(ee[131],te([0,1,9]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoSource=e.UndoRedoGroup=e.ResourceEditStackSnapshot=e.IUndoRedoService=void 0,e.IUndoRedoService=(0,L.createDecorator)("undoRedoService");class N{constructor(S,b){this.resource=S,this.elements=b}}e.ResourceEditStackSnapshot=N;class M{constructor(){this.id=M._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoGroup=M,M._ID=0,M.None=new M;class E{constructor(){this.id=E._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoSource=E,E._ID=0,E.None=new E}),define(ee[31],te([0,1,12,4,2,8,22,29,13,3,23,49,259,408,409,586,91,148,587,149,40,83,124,28,131,261,211,19,585,637,145,39]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u,n,r,s,o,m,_,f,c,C,y,w,D,I,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DidChangeContentEmitter=e.DidChangeDecorationsEmitter=e.ModelDecorationOptions=e.ModelDecorationInjectedTextOptions=e.ModelDecorationMinimapOptions=e.ModelDecorationOverviewRulerOptions=e.BracketPairGuidesClassNames=e.TextModel=e.LONG_LINE_BOUNDARY=e.createTextBuffer=e.createTextBufferFactoryFromSnapshot=e.createTextBufferFactoryFromStream=e.createTextBufferFactory=void 0;function F(){return new h.PieceTreeTextBufferBuilder}function P(oe){const $=F();return $.acceptChunk(oe),$.finish()}e.createTextBufferFactory=P;function R(oe){return new Promise(($,ie)=>{const le=F();let de=!1;(0,C.listenStream)(oe,{onData:fe=>{le.acceptChunk(typeof fe=="string"?fe:fe.toString())},onError:fe=>{de||(de=!0,ie(fe))},onEnd:()=>{de||(de=!0,$(le.finish()))}})})}e.createTextBufferFactoryFromStream=R;function A(oe){let $=F(),ie;for(;typeof(ie=oe.read())=="string";)$.acceptChunk(ie);return $.finish()}e.createTextBufferFactoryFromSnapshot=A;function O(oe,$){return(typeof oe=="string"?P(oe):oe).create($)}e.createTextBuffer=O;let k=0;const V=999;e.LONG_LINE_BOUNDARY=1e4;class B{constructor($){this._source=$,this._eos=!1}read(){if(this._eos)return null;let $=[],ie=0,le=0;do{let de=this._source.read();if(de===null)return this._eos=!0,ie===0?null:$.join("");if(de.length>0&&($[ie++]=de,le+=de.length),le>=64*1024)return $.join("")}while(!0)}}const x=()=>{throw new Error("Invalid change accessor")};let K=class yt extends M.Disposable{constructor($,ie,le,de=null,fe,he,se){super();this._undoRedoService=fe,this._modeService=he,this._languageConfigurationService=se,this._onWillDispose=this._register(new N.Emitter),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new ge(we=>this.handleBeforeFireDecorationsChangedEvent(we))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeLanguage=this._register(new N.Emitter),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new N.Emitter),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new N.Emitter),this.onDidChangeTokens=this._onDidChangeTokens.event,this._onDidChangeOptions=this._register(new N.Emitter),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new N.Emitter),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeContentOrInjectedText=this._register(new N.Emitter),this.onDidChangeContentOrInjectedText=this._onDidChangeContentOrInjectedText.event,this._eventEmitter=this._register(new pe),this._backgroundTokenizationState=0,this._onBackgroundTokenizationStateChanged=this._register(new N.Emitter),this.onBackgroundTokenizationStateChanged=this._onBackgroundTokenizationStateChanged.event,this._register(this._eventEmitter.fastEvent(we=>{this._onDidChangeContentOrInjectedText.fire(we.rawContentChangedEvent)})),k++,this.id="$model"+k,this.isForSimpleWidget=ie.isForSimpleWidget,typeof de=="undefined"||de===null?this._associatedResource=g.URI.parse("inmemory://model/"+k):this._associatedResource=de,this._attachedEditorCount=0;const{textBuffer:ce,disposable:Se}=O($,ie.defaultEOL);this._buffer=ce,this._bufferDisposable=Se,this._options=yt.resolveOptions(this._buffer,ie);const Le=this._buffer.getLineCount(),ue=this._buffer.getValueLengthInRange(new p.Range(1,1,Le,this._buffer.getLineLength(Le)+1),0);ie.largeFileOptimizations?this._isTooLargeForTokenization=ue>yt.LARGE_FILE_SIZE_THRESHOLD||Le>yt.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=ue>yt.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this._isDisposing=!1,this._languageId=le||o.NULL_MODE_ID,this._languageRegistryListener=this._languageConfigurationService.onDidChange(we=>{we.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})}),this._instanceId=E.singleLetterHash(k),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new G,this._commandManager=new t.EditStack(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._tokens=new m.TokensStore(this._modeService.languageIdCodec),this._tokens2=new m.TokensStore2(this._modeService.languageIdCodec),this._tokenization=new n.TextModelTokenization(this,this._modeService.languageIdCodec),this._bracketPairColorizer=this._register(new w.BracketPairs(this,this._languageConfigurationService)),this._decorationProvider=this._register(new D.ColorizedBracketPairsDecorationProvider(this)),this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()}))}static resolveOptions($,ie){if(ie.detectIndentation){const le=(0,a.guessIndentation)($,ie.tabSize,ie.insertSpaces);return new i.TextModelResolvedOptions({tabSize:le.tabSize,indentSize:le.tabSize,insertSpaces:le.insertSpaces,trimAutoWhitespace:ie.trimAutoWhitespace,defaultEOL:ie.defaultEOL,bracketPairColorizationOptions:ie.bracketPairColorizationOptions})}return new i.TextModelResolvedOptions({tabSize:ie.tabSize,indentSize:ie.indentSize,insertSpaces:ie.insertSpaces,trimAutoWhitespace:ie.trimAutoWhitespace,defaultEOL:ie.defaultEOL,bracketPairColorizationOptions:ie.bracketPairColorizationOptions})}onDidChangeRawContent($){return this._eventEmitter.slowEvent(ie=>$(ie.rawContentChangedEvent))}onDidChangeContentFast($){return this._eventEmitter.fastEvent(ie=>$(ie.contentChangedEvent))}onDidChangeContent($){return this._eventEmitter.slowEvent(ie=>$(ie.contentChangedEvent))}get bracketPairs(){return this._bracketPairColorizer}get backgroundTokenizationState(){return this._backgroundTokenizationState}handleTokenizationProgress($){if(this._backgroundTokenizationState===2)return;const ie=$?2:1;this._backgroundTokenizationState!==ie&&(this._backgroundTokenizationState=ie,this._onBackgroundTokenizationStateChanged.fire())}dispose(){this._isDisposing=!0,this._onWillDispose.fire(),this._languageRegistryListener.dispose(),this._tokenization.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this._isDisposing=!1;const $=new c.PieceTreeTextBuffer([],"",`
`,!1,!1,!0,!0);$.dispose(),this._buffer=$}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}equalsTextBuffer($){return this._assertNotDisposed(),this._buffer.equals($)}getTextBuffer(){return this._assertNotDisposed(),this._buffer}_emitContentChangedEvent($,ie){this._bracketPairColorizer.handleContentChanged(ie),!this._isDisposing&&this._eventEmitter.fire(new d.InternalModelContentChangeEvent($,ie))}setValue($){if(this._assertNotDisposed(),$===null)return;const{textBuffer:ie,disposable:le}=O($,this._options.defaultEOL);this._setValueFromTextBuffer(ie,le)}_createContentChanged2($,ie,le,de,fe,he,se){return{changes:[{range:$,rangeOffset:ie,rangeLength:le,text:de}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:fe,isRedoing:he,isFlush:se}}_setValueFromTextBuffer($,ie){this._assertNotDisposed();const le=this.getFullModelRange(),de=this.getValueLengthInRange(le),fe=this.getLineCount(),he=this.getLineMaxColumn(fe);this._buffer=$,this._bufferDisposable.dispose(),this._bufferDisposable=ie,this._increaseVersionId(),this._tokens.flush(),this._tokens2.flush(),this._decorations=Object.create(null),this._decorationsTree=new G,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new d.ModelRawContentChangedEvent([new d.ModelRawFlush],this._versionId,!1,!1),this._createContentChanged2(new p.Range(1,1,fe,he),0,de,this.getValue(),!1,!1,!0))}setEOL($){this._assertNotDisposed();const ie=$===1?`\r
`:`
`;if(this._buffer.getEOL()===ie)return;const le=this.getFullModelRange(),de=this.getValueLengthInRange(le),fe=this.getLineCount(),he=this.getLineMaxColumn(fe);this._onBeforeEOLChange(),this._buffer.setEOL(ie),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new d.ModelRawContentChangedEvent([new d.ModelRawEOLChanged],this._versionId,!1,!1),this._createContentChanged2(new p.Range(1,1,fe,he),0,de,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const $=this.getVersionId(),ie=this._decorationsTree.collectNodesPostOrder();for(let le=0,de=ie.length;le<de;le++){const fe=ie[le],he=fe.range,se=fe.cachedAbsoluteStart-fe.start,ce=this._buffer.getOffsetAt(he.startLineNumber,he.startColumn),Se=this._buffer.getOffsetAt(he.endLineNumber,he.endColumn);fe.cachedAbsoluteStart=ce,fe.cachedAbsoluteEnd=Se,fe.cachedVersionId=$,fe.start=ce-se,fe.end=Se-se,(0,l.recomputeMaxEnd)(fe)}}onBeforeAttached(){this._attachedEditorCount++,this._attachedEditorCount===1&&this._onDidChangeAttached.fire(void 0)}onBeforeDetached(){this._attachedEditorCount--,this._attachedEditorCount===0&&this._onDidChangeAttached.fire(void 0)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let $=0,ie=0;const le=this._buffer.getLineCount();for(let de=1;de<=le;de++){const fe=this._buffer.getLineLength(de);fe>=e.LONG_LINE_BOUNDARY?ie+=fe:$+=fe}return ie>$}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions($){this._assertNotDisposed();let ie=typeof $.tabSize!="undefined"?$.tabSize:this._options.tabSize,le=typeof $.indentSize!="undefined"?$.indentSize:this._options.indentSize,de=typeof $.insertSpaces!="undefined"?$.insertSpaces:this._options.insertSpaces,fe=typeof $.trimAutoWhitespace!="undefined"?$.trimAutoWhitespace:this._options.trimAutoWhitespace,he=typeof $.bracketColorizationOptions!="undefined"?$.bracketColorizationOptions:this._options.bracketPairColorizationOptions,se=new i.TextModelResolvedOptions({tabSize:ie,indentSize:le,insertSpaces:de,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:fe,bracketPairColorizationOptions:he});if(this._options.equals(se))return;let ce=this._options.createChangeEvent(se);this._options=se,this._onDidChangeOptions.fire(ce)}detectIndentation($,ie){this._assertNotDisposed();let le=(0,a.guessIndentation)(this._buffer,ie,$);this.updateOptions({insertSpaces:le.insertSpaces,tabSize:le.tabSize,indentSize:le.tabSize})}static _normalizeIndentationFromWhitespace($,ie,le){let de=0;for(let he=0;he<$.length;he++)$.charAt(he)==="	"?de+=ie:de++;let fe="";if(!le){let he=Math.floor(de/ie);de=de%ie;for(let se=0;se<he;se++)fe+="	"}for(let he=0;he<de;he++)fe+=" ";return fe}static normalizeIndentation($,ie,le){let de=E.firstNonWhitespaceIndex($);return de===-1&&(de=$.length),yt._normalizeIndentationFromWhitespace($.substring(0,de),ie,le)+$.substring(de)}normalizeIndentation($){return this._assertNotDisposed(),yt.normalizeIndentation($,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators($=null){const ie=this.findMatches(E.UNUSUAL_LINE_TERMINATORS.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations($,ie.map(le=>({range:le.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt($){this._assertNotDisposed();let ie=this._validatePosition($.lineNumber,$.column,0);return this._buffer.getOffsetAt(ie.lineNumber,ie.column)}getPositionAt($){this._assertNotDisposed();let ie=Math.min(this._buffer.getLength(),Math.max(0,$));return this._buffer.getPositionAt(ie)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId($){this._versionId=$}_overwriteAlternativeVersionId($){this._alternativeVersionId=$}_overwriteInitialUndoRedoSnapshot($){this._initialUndoRedoSnapshot=$}getValue($,ie=!1){this._assertNotDisposed();const le=this.getFullModelRange(),de=this.getValueInRange(le,$);return ie?this._buffer.getBOM()+de:de}createSnapshot($=!1){return new B(this._buffer.createSnapshot($))}getValueLength($,ie=!1){this._assertNotDisposed();const le=this.getFullModelRange(),de=this.getValueLengthInRange(le,$);return ie?this._buffer.getBOM().length+de:de}getValueInRange($,ie=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange($),ie)}getValueLengthInRange($,ie=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange($),ie)}getCharacterCountInRange($,ie=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange($),ie)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent($){if(this._assertNotDisposed(),$<1||$>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent($)}getLineLength($){if(this._assertNotDisposed(),$<1||$>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength($)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn($){return this._assertNotDisposed(),1}getLineMaxColumn($){if(this._assertNotDisposed(),$<1||$>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength($)+1}getLineFirstNonWhitespaceColumn($){if(this._assertNotDisposed(),$<1||$>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn($)}getLineLastNonWhitespaceColumn($){if(this._assertNotDisposed(),$<1||$>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn($)}_validateRangeRelaxedNoAllocations($){const ie=this._buffer.getLineCount(),le=$.startLineNumber,de=$.startColumn;let fe=Math.floor(typeof le=="number"&&!isNaN(le)?le:1),he=Math.floor(typeof de=="number"&&!isNaN(de)?de:1);if(fe<1)fe=1,he=1;else if(fe>ie)fe=ie,he=this.getLineMaxColumn(fe);else if(he<=1)he=1;else{const ue=this.getLineMaxColumn(fe);he>=ue&&(he=ue)}const se=$.endLineNumber,ce=$.endColumn;let Se=Math.floor(typeof se=="number"&&!isNaN(se)?se:1),Le=Math.floor(typeof ce=="number"&&!isNaN(ce)?ce:1);if(Se<1)Se=1,Le=1;else if(Se>ie)Se=ie,Le=this.getLineMaxColumn(Se);else if(Le<=1)Le=1;else{const ue=this.getLineMaxColumn(Se);Le>=ue&&(Le=ue)}return le===fe&&de===he&&se===Se&&ce===Le&&$ instanceof p.Range&&!($ instanceof v.Selection)?$:new p.Range(fe,he,Se,Le)}_isValidPosition($,ie,le){if(typeof $!="number"||typeof ie!="number"||isNaN($)||isNaN(ie)||$<1||ie<1||($|0)!==$||(ie|0)!==ie)return!1;const de=this._buffer.getLineCount();if($>de)return!1;if(ie===1)return!0;const fe=this.getLineMaxColumn($);if(ie>fe)return!1;if(le===1){const he=this._buffer.getLineCharCode($,ie-2);if(E.isHighSurrogate(he))return!1}return!0}_validatePosition($,ie,le){const de=Math.floor(typeof $=="number"&&!isNaN($)?$:1),fe=Math.floor(typeof ie=="number"&&!isNaN(ie)?ie:1),he=this._buffer.getLineCount();if(de<1)return new b.Position(1,1);if(de>he)return new b.Position(he,this.getLineMaxColumn(he));if(fe<=1)return new b.Position(de,1);const se=this.getLineMaxColumn(de);if(fe>=se)return new b.Position(de,se);if(le===1){const ce=this._buffer.getLineCharCode(de,fe-2);if(E.isHighSurrogate(ce))return new b.Position(de,fe-1)}return new b.Position(de,fe)}validatePosition($){const ie=1;return this._assertNotDisposed(),$ instanceof b.Position&&this._isValidPosition($.lineNumber,$.column,ie)?$:this._validatePosition($.lineNumber,$.column,ie)}_isValidRange($,ie){const le=$.startLineNumber,de=$.startColumn,fe=$.endLineNumber,he=$.endColumn;if(!this._isValidPosition(le,de,0)||!this._isValidPosition(fe,he,0))return!1;if(ie===1){const se=de>1?this._buffer.getLineCharCode(le,de-2):0,ce=he>1&&he<=this._buffer.getLineLength(fe)?this._buffer.getLineCharCode(fe,he-2):0,Se=E.isHighSurrogate(se),Le=E.isHighSurrogate(ce);return!Se&&!Le}return!0}validateRange($){const ie=1;if(this._assertNotDisposed(),$ instanceof p.Range&&!($ instanceof v.Selection)&&this._isValidRange($,ie))return $;const le=this._validatePosition($.startLineNumber,$.startColumn,0),de=this._validatePosition($.endLineNumber,$.endColumn,0),fe=le.lineNumber,he=le.column,se=de.lineNumber,ce=de.column;if(ie===1){const Se=he>1?this._buffer.getLineCharCode(fe,he-2):0,Le=ce>1&&ce<=this._buffer.getLineLength(se)?this._buffer.getLineCharCode(se,ce-2):0,ue=E.isHighSurrogate(Se),we=E.isHighSurrogate(Le);return!ue&&!we?new p.Range(fe,he,se,ce):fe===se&&he===ce?new p.Range(fe,he-1,se,ce-1):ue&&we?new p.Range(fe,he-1,se,ce+1):ue?new p.Range(fe,he-1,se,ce):new p.Range(fe,he,se,ce+1)}return new p.Range(fe,he,se,ce)}modifyPosition($,ie){this._assertNotDisposed();let le=this.getOffsetAt($)+ie;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,le)))}getFullModelRange(){this._assertNotDisposed();const $=this.getLineCount();return new p.Range(1,1,$,this.getLineMaxColumn($))}findMatchesLineByLine($,ie,le,de){return this._buffer.findMatchesLineByLine($,ie,le,de)}findMatches($,ie,le,de,fe,he,se=V){this._assertNotDisposed();let ce=null;ie!==null&&(Array.isArray(ie)||(ie=[ie]),ie.every(ue=>p.Range.isIRange(ue))&&(ce=ie.map(ue=>this.validateRange(ue)))),ce===null&&(ce=[this.getFullModelRange()]),ce=ce.sort((ue,we)=>ue.startLineNumber-we.startLineNumber||ue.startColumn-we.startColumn);const Se=[];Se.push(ce.reduce((ue,we)=>p.Range.areIntersecting(ue,we)?ue.plusRange(we):(Se.push(ue),we)));let Le;if(!le&&$.indexOf(`
`)<0){const we=new u.SearchParams($,le,de,fe).parseSearchRequest();if(!we)return[];Le=ae=>this.findMatchesLineByLine(ae,we,he,se)}else Le=ue=>u.TextModelSearch.findMatches(this,new u.SearchParams($,le,de,fe),ue,he,se);return Se.map(Le).reduce((ue,we)=>ue.concat(we),[])}findNextMatch($,ie,le,de,fe,he){this._assertNotDisposed();const se=this.validatePosition(ie);if(!le&&$.indexOf(`
`)<0){const Se=new u.SearchParams($,le,de,fe).parseSearchRequest();if(!Se)return null;const Le=this.getLineCount();let ue=new p.Range(se.lineNumber,se.column,Le,this.getLineMaxColumn(Le)),we=this.findMatchesLineByLine(ue,Se,he,1);return u.TextModelSearch.findNextMatch(this,new u.SearchParams($,le,de,fe),se,he),we.length>0||(ue=new p.Range(1,1,se.lineNumber,this.getLineMaxColumn(se.lineNumber)),we=this.findMatchesLineByLine(ue,Se,he,1),we.length>0)?we[0]:null}return u.TextModelSearch.findNextMatch(this,new u.SearchParams($,le,de,fe),se,he)}findPreviousMatch($,ie,le,de,fe,he){this._assertNotDisposed();const se=this.validatePosition(ie);return u.TextModelSearch.findPreviousMatch(this,new u.SearchParams($,le,de,fe),se,he)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL($){if((this.getEOL()===`
`?0:1)!==$)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL($)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation($){return $ instanceof i.ValidAnnotatedEditOperation?$:new i.ValidAnnotatedEditOperation($.identifier||null,this.validateRange($.range),$.text,$.forceMoveMarkers||!1,$.isAutoWhitespaceEdit||!1,$._isTracked||!1)}_validateEditOperations($){const ie=[];for(let le=0,de=$.length;le<de;le++)ie[le]=this._validateEditOperation($[le]);return ie}pushEditOperations($,ie,le){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations($,this._validateEditOperations(ie),le)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations($,ie,le){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){let de=ie.map(he=>({range:this.validateRange(he.range),text:he.text})),fe=!0;if($)for(let he=0,se=$.length;he<se;he++){let ce=$[he],Se=!1;for(let Le=0,ue=de.length;Le<ue;Le++){let we=de[Le].range,ae=we.startLineNumber>ce.endLineNumber,me=ce.startLineNumber>we.endLineNumber;if(!ae&&!me){Se=!0;break}}if(!Se){fe=!1;break}}if(fe)for(let he=0,se=this._trimAutoWhitespaceLines.length;he<se;he++){let ce=this._trimAutoWhitespaceLines[he],Se=this.getLineMaxColumn(ce),Le=!0;for(let ue=0,we=de.length;ue<we;ue++){let ae=de[ue].range,me=de[ue].text;if(!(ce<ae.startLineNumber||ce>ae.endLineNumber)&&!(ce===ae.startLineNumber&&ae.startColumn===Se&&ae.isEmpty()&&me&&me.length>0&&me.charAt(0)===`
`)&&!(ce===ae.startLineNumber&&ae.startColumn===1&&ae.isEmpty()&&me&&me.length>0&&me.charAt(me.length-1)===`
`)){Le=!1;break}}if(Le){const ue=new p.Range(ce,1,ce,Se);ie.push(new i.ValidAnnotatedEditOperation(null,ue,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation($,ie,le)}_applyUndo($,ie,le,de){const fe=$.map(he=>{const se=this.getPositionAt(he.newPosition),ce=this.getPositionAt(he.newEnd);return{range:new p.Range(se.lineNumber,se.column,ce.lineNumber,ce.column),text:he.oldText}});this._applyUndoRedoEdits(fe,ie,!0,!1,le,de)}_applyRedo($,ie,le,de){const fe=$.map(he=>{const se=this.getPositionAt(he.oldPosition),ce=this.getPositionAt(he.oldEnd);return{range:new p.Range(se.lineNumber,se.column,ce.lineNumber,ce.column),text:he.newText}});this._applyUndoRedoEdits(fe,ie,!1,!0,le,de)}_applyUndoRedoEdits($,ie,le,de,fe,he){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=le,this._isRedoing=de,this.applyEdits($,!1),this.setEOL(ie),this._overwriteAlternativeVersionId(fe)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(he),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits($,ie=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const le=this._validateEditOperations($);return this._doApplyEdits(le,ie)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits($,ie){const le=this._buffer.getLineCount(),de=this._buffer.applyEdits($,this._options.trimAutoWhitespace,ie),fe=this._buffer.getLineCount(),he=de.changes;if(this._trimAutoWhitespaceLines=de.trimAutoWhitespaceLineNumbers,he.length!==0){for(let Se=0,Le=he.length;Se<Le;Se++){const ue=he[Se],[we,ae,me]=(0,m.countEOL)(ue.text);this._tokens.acceptEdit(ue.range,we,ae),this._tokens2.acceptEdit(ue.range,we,ae,me,ue.text.length>0?ue.text.charCodeAt(0):0),this._decorationsTree.acceptReplace(ue.rangeOffset,ue.rangeLength,ue.text.length,ue.forceMoveMarkers)}let se=[];this._increaseVersionId();let ce=le;for(let Se=0,Le=he.length;Se<Le;Se++){const ue=he[Se],[we]=(0,m.countEOL)(ue.text);this._onDidChangeDecorations.fire();const ae=ue.range.startLineNumber,me=ue.range.endLineNumber,Ie=me-ae,Fe=we,ze=Math.min(Ie,Fe),Ke=Fe-Ie,be=fe-ce-Ke+ae,Ne=be,Be=be+Fe,$e=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new b.Position(Ne,1)),this.getOffsetAt(new b.Position(Be,this.getLineMaxColumn(Be))),0),je=d.LineInjectedText.fromDecorations($e),He=new y.ArrayQueue(je);for(let qe=ze;qe>=0;qe--){const Pe=ae+qe,Ae=be+qe;He.takeFromEndWhile(ve=>ve.lineNumber>Ae);const Re=He.takeFromEndWhile(ve=>ve.lineNumber===Ae);se.push(new d.ModelRawLineChanged(Pe,this.getLineContent(Ae),Re))}if(ze<Ie){const qe=ae+ze;se.push(new d.ModelRawLinesDeleted(qe+1,me))}if(ze<Fe){const qe=new y.ArrayQueue(je),Pe=ae+ze,Ae=Fe-ze,Re=fe-ce-Ae+Pe+1;let ve=[],_e=[];for(let Te=0;Te<Ae;Te++){let Ee=Re+Te;_e[Te]=this.getLineContent(Ee),qe.takeWhile(ye=>ye.lineNumber<Ee),ve[Te]=qe.takeWhile(ye=>ye.lineNumber===Ee)}se.push(new d.ModelRawLinesInserted(Pe+1,ae+Fe,_e,ve))}ce+=Ke}this._emitContentChangedEvent(new d.ModelRawContentChangedEvent(se,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:he,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return de.reverseEdits===null?void 0:de.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent($){if($===null||$.size===0)return;const le=[...$].map(de=>new d.ModelRawLineChanged(de,this.getLineContent(de),this._getInjectedTextInLine(de)));this._onDidChangeContentOrInjectedText.fire(new d.ModelInjectedTextChangedEvent(le))}changeDecorations($,ie=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(ie,$)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations($,ie){let le={addDecoration:(fe,he)=>this._deltaDecorationsImpl($,[],[{range:fe,options:he}])[0],changeDecoration:(fe,he)=>{this._changeDecorationImpl(fe,he)},changeDecorationOptions:(fe,he)=>{this._changeDecorationOptionsImpl(fe,re(he))},removeDecoration:fe=>{this._deltaDecorationsImpl($,[fe],[])},deltaDecorations:(fe,he)=>fe.length===0&&he.length===0?[]:this._deltaDecorationsImpl($,fe,he)},de=null;try{de=ie(le)}catch(fe){(0,L.onUnexpectedError)(fe)}return le.addDecoration=x,le.changeDecoration=x,le.changeDecorationOptions=x,le.removeDecoration=x,le.deltaDecorations=x,de}deltaDecorations($,ie,le=0){if(this._assertNotDisposed(),$||($=[]),$.length===0&&ie.length===0)return[];try{return this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(le,$,ie)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_getTrackedRange($){return this.getDecorationRange($)}_setTrackedRange($,ie,le){const de=$?this._decorations[$]:null;if(!de)return ie?this._deltaDecorationsImpl(0,[],[{range:ie,options:J[le]}])[0]:null;if(!ie)return this._decorationsTree.delete(de),delete this._decorations[de.id],null;const fe=this._validateRangeRelaxedNoAllocations(ie),he=this._buffer.getOffsetAt(fe.startLineNumber,fe.startColumn),se=this._buffer.getOffsetAt(fe.endLineNumber,fe.endColumn);return this._decorationsTree.delete(de),de.reset(this.getVersionId(),he,se,fe),de.setOptions(J[le]),this._decorationsTree.insert(de),de.id}removeAllDecorationsWithOwnerId($){if(this._isDisposed)return;const ie=this._decorationsTree.collectNodesFromOwner($);for(let le=0,de=ie.length;le<de;le++){const fe=ie[le];this._decorationsTree.delete(fe),delete this._decorations[fe.id]}}getDecorationOptions($){const ie=this._decorations[$];return ie?ie.options:null}getDecorationRange($){const ie=this._decorations[$];return ie?this._decorationsTree.getNodeRange(this,ie):null}getLineDecorations($,ie=0,le=!1){return $<1||$>this.getLineCount()?[]:this.getLinesDecorations($,$,ie,le)}getLinesDecorations($,ie,le=0,de=!1){let fe=this.getLineCount(),he=Math.min(fe,Math.max(1,$)),se=Math.min(fe,Math.max(1,ie)),ce=this.getLineMaxColumn(se);const Se=new p.Range(he,1,se,ce),Le=this._getDecorationsInRange(Se,le,de);return Le.push(...this._decorationProvider.getDecorationsInRange(Se,le,de)),Le}getDecorationsInRange($,ie=0,le=!1){let de=this.validateRange($);const fe=this._getDecorationsInRange(de,ie,le);return fe.push(...this._decorationProvider.getDecorationsInRange(de,ie,le)),fe}getOverviewRulerDecorations($=0,ie=!1){return this._decorationsTree.getAll(this,$,ie,!0)}getInjectedTextDecorations($=0){return this._decorationsTree.getAllInjectedText(this,$)}_getInjectedTextInLine($){const ie=this._buffer.getOffsetAt($,1),le=ie+this._buffer.getLineLength($),de=this._decorationsTree.getInjectedTextInInterval(this,ie,le,0);return d.LineInjectedText.fromDecorations(de).filter(fe=>fe.lineNumber===$)}getAllDecorations($=0,ie=!1){let le=this._decorationsTree.getAll(this,$,ie,!1);return le=le.concat(this._decorationProvider.getAllDecorations($,ie)),le}_getDecorationsInRange($,ie,le){const de=this._buffer.getOffsetAt($.startLineNumber,$.startColumn),fe=this._buffer.getOffsetAt($.endLineNumber,$.endColumn);return this._decorationsTree.getAllInInterval(this,de,fe,ie,le)}getRangeAt($,ie){return this._buffer.getRangeAt($,ie-$)}_changeDecorationImpl($,ie){const le=this._decorations[$];if(!le)return;if(le.options.after){const se=this.getDecorationRange($);this._onDidChangeDecorations.recordLineAffectedByInjectedText(se.endLineNumber)}if(le.options.before){const se=this.getDecorationRange($);this._onDidChangeDecorations.recordLineAffectedByInjectedText(se.startLineNumber)}const de=this._validateRangeRelaxedNoAllocations(ie),fe=this._buffer.getOffsetAt(de.startLineNumber,de.startColumn),he=this._buffer.getOffsetAt(de.endLineNumber,de.endColumn);this._decorationsTree.delete(le),le.reset(this.getVersionId(),fe,he,de),this._decorationsTree.insert(le),this._onDidChangeDecorations.checkAffectedAndFire(le.options),le.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(de.endLineNumber),le.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(de.startLineNumber)}_changeDecorationOptionsImpl($,ie){const le=this._decorations[$];if(!le)return;const de=!!(le.options.overviewRuler&&le.options.overviewRuler.color),fe=!!(ie.overviewRuler&&ie.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(le.options),this._onDidChangeDecorations.checkAffectedAndFire(ie),le.options.after||ie.after){const he=this._decorationsTree.getNodeRange(this,le);this._onDidChangeDecorations.recordLineAffectedByInjectedText(he.endLineNumber)}if(le.options.before||ie.before){const he=this._decorationsTree.getNodeRange(this,le);this._onDidChangeDecorations.recordLineAffectedByInjectedText(he.startLineNumber)}de!==fe?(this._decorationsTree.delete(le),le.setOptions(ie),this._decorationsTree.insert(le)):le.setOptions(ie)}_deltaDecorationsImpl($,ie,le){const de=this.getVersionId(),fe=ie.length;let he=0;const se=le.length;let ce=0,Se=new Array(se);for(;he<fe||ce<se;){let Le=null;if(he<fe){do Le=this._decorations[ie[he++]];while(!Le&&he<fe);if(Le){if(Le.options.after){const ue=this._decorationsTree.getNodeRange(this,Le);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ue.endLineNumber)}if(Le.options.before){const ue=this._decorationsTree.getNodeRange(this,Le);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ue.startLineNumber)}this._decorationsTree.delete(Le),this._onDidChangeDecorations.checkAffectedAndFire(Le.options)}}if(ce<se){if(!Le){const Fe=++this._lastDecorationId,ze=`${this._instanceId};${Fe}`;Le=new l.IntervalNode(ze,0,0),this._decorations[ze]=Le}const ue=le[ce],we=this._validateRangeRelaxedNoAllocations(ue.range),ae=re(ue.options),me=this._buffer.getOffsetAt(we.startLineNumber,we.startColumn),Ie=this._buffer.getOffsetAt(we.endLineNumber,we.endColumn);Le.ownerId=$,Le.reset(de,me,Ie,we),Le.setOptions(ae),Le.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(we.endLineNumber),Le.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(we.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(ae),this._decorationsTree.insert(Le),Se[ce]=Le.id,ce++}else Le&&delete this._decorations[Le.id]}return Se}setLineTokens($,ie){if($<1||$>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokens.setTokens(this._languageId,$-1,this._buffer.getLineLength($),ie,!1)}setTokens($,ie=!1){if($.length!==0){let le=[];for(let de=0,fe=$.length;de<fe;de++){const he=$[de];let se=0,ce=0,Se=!1;for(let Le=0,ue=he.tokens.length;Le<ue;Le++){const we=he.startLineNumber+Le;Se?(this._tokens.setTokens(this._languageId,we-1,this._buffer.getLineLength(we),he.tokens[Le],!1),ce=we):this._tokens.setTokens(this._languageId,we-1,this._buffer.getLineLength(we),he.tokens[Le],!0)&&(Se=!0,se=we,ce=we)}Se&&le.push({fromLineNumber:se,toLineNumber:ce})}le.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:le})}this.handleTokenizationProgress(ie)}setSemanticTokens($,ie){this._tokens2.set($,ie),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:$!==null,ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]})}hasCompleteSemanticTokens(){return this._tokens2.isComplete()}hasSomeSemanticTokens(){return!this._tokens2.isEmpty()}setPartialSemanticTokens($,ie){if(this.hasCompleteSemanticTokens())return;const le=this._tokens2.setPartial($,ie);this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:le.startLineNumber,toLineNumber:le.endLineNumber}]})}tokenizeViewport($,ie){$=Math.max(1,$),ie=Math.min(this._buffer.getLineCount(),ie),this._tokenization.tokenizeViewport($,ie)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._buffer.getLineCount()}]})}clearSemanticTokens(){this._tokens2.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]})}_emitModelTokensChangedEvent($){this._isDisposing||this._onDidChangeTokens.fire($)}resetTokenization(){this._tokenization.reset()}forceTokenization($){if($<1||$>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization($)}isCheapToTokenize($){return this._tokenization.isCheapToTokenize($)}tokenizeIfCheap($){this.isCheapToTokenize($)&&this.forceTokenization($)}getLineTokens($){if($<1||$>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens($)}_getLineTokens($){const ie=this.getLineContent($),le=this._tokens.getTokens(this._languageId,$-1,ie);return this._tokens2.addSemanticTokens($,le)}getLanguageId(){return this._languageId}setMode($){if(this._languageId===$)return;let ie={oldLanguage:this._languageId,newLanguage:$};this._languageId=$,this._onDidChangeLanguage.fire(ie),this._onDidChangeLanguageConfiguration.fire({})}getLanguageIdAtPosition($,ie){const le=this.validatePosition(new b.Position($,ie)),de=this.getLineTokens(le.lineNumber);return de.getLanguageId(de.findTokenIndexAtOffset(le.column-1))}getTokenTypeIfInsertingCharacter($,ie,le){const de=this.validatePosition(new b.Position($,ie));return this._tokenization.getTokenTypeIfInsertingCharacter(de,le)}getLanguageConfiguration($){return this._languageConfigurationService.getLanguageConfiguration($)}getWordAtPosition($){this._assertNotDisposed();const ie=this.validatePosition($),le=this.getLineContent(ie.lineNumber),de=this._getLineTokens(ie.lineNumber),fe=de.findTokenIndexAtOffset(ie.column-1),[he,se]=yt._findLanguageBoundaries(de,fe),ce=(0,r.getWordAtText)(ie.column,this.getLanguageConfiguration(de.getLanguageId(fe)).getWordDefinition(),le.substring(he,se),he);if(ce&&ce.startColumn<=$.column&&$.column<=ce.endColumn)return ce;if(fe>0&&he===ie.column-1){const[Se,Le]=yt._findLanguageBoundaries(de,fe-1),ue=(0,r.getWordAtText)(ie.column,this.getLanguageConfiguration(de.getLanguageId(fe-1)).getWordDefinition(),le.substring(Se,Le),Se);if(ue&&ue.startColumn<=$.column&&$.column<=ue.endColumn)return ue}return null}static _findLanguageBoundaries($,ie){const le=$.getLanguageId(ie);let de=0;for(let he=ie;he>=0&&$.getLanguageId(he)===le;he--)de=$.getStartOffset(he);let fe=$.getLineContent().length;for(let he=ie,se=$.getCount();he<se&&$.getLanguageId(he)===le;he++)fe=$.getEndOffset(he);return[de,fe]}getWordUntilPosition($){const ie=this.getWordAtPosition($);return ie?{word:ie.word.substr(0,$.column-ie.startColumn),startColumn:ie.startColumn,endColumn:$.column}:{word:"",startColumn:$.column,endColumn:$.column}}static computeIndentLevel($,ie){let le=0,de=0,fe=$.length;for(;de<fe;){let he=$.charCodeAt(de);if(he===32)le++;else if(he===9)le=le-le%ie+ie;else break;de++}return de===fe?-1:le}_computeIndentLevel($){return yt.computeIndentLevel(this._buffer.getLineContent($+1),this._options.tabSize)}getActiveIndentGuide($,ie,le){this._assertNotDisposed();const de=this.getLineCount();if($<1||$>de)throw new Error("Illegal value for lineNumber");const fe=this.getLanguageConfiguration(this._languageId).foldingRules,he=Boolean(fe&&fe.offSide);let se=-2,ce=-1,Se=-2,Le=-1;const ue=je=>{if(se!==-1&&(se===-2||se>je-1)){se=-1,ce=-1;for(let He=je-2;He>=0;He--){let qe=this._computeIndentLevel(He);if(qe>=0){se=He,ce=qe;break}}}if(Se===-2){Se=-1,Le=-1;for(let He=je;He<de;He++){let qe=this._computeIndentLevel(He);if(qe>=0){Se=He,Le=qe;break}}}};let we=-2,ae=-1,me=-2,Ie=-1;const Fe=je=>{if(we===-2){we=-1,ae=-1;for(let He=je-2;He>=0;He--){let qe=this._computeIndentLevel(He);if(qe>=0){we=He,ae=qe;break}}}if(me!==-1&&(me===-2||me<je-1)){me=-1,Ie=-1;for(let He=je;He<de;He++){let qe=this._computeIndentLevel(He);if(qe>=0){me=He,Ie=qe;break}}}};let ze=0,Ke=!0,be=0,Ne=!0,Be=0,$e=0;for(let je=0;Ke||Ne;je++){const He=$-je,qe=$+je;je>1&&(He<1||He<ie)&&(Ke=!1),je>1&&(qe>de||qe>le)&&(Ne=!1),je>5e4&&(Ke=!1,Ne=!1);let Pe=-1;if(Ke){const Re=this._computeIndentLevel(He-1);Re>=0?(Se=He-1,Le=Re,Pe=Math.ceil(Re/this._options.indentSize)):(ue(He),Pe=this._getIndentLevelForWhitespaceLine(he,ce,Le))}let Ae=-1;if(Ne){const Re=this._computeIndentLevel(qe-1);Re>=0?(we=qe-1,ae=Re,Ae=Math.ceil(Re/this._options.indentSize)):(Fe(qe),Ae=this._getIndentLevelForWhitespaceLine(he,ae,Ie))}if(je===0){$e=Pe;continue}if(je===1){if(qe<=de&&Ae>=0&&$e+1===Ae){Ke=!1,ze=qe,be=qe,Be=Ae;continue}if(He>=1&&Pe>=0&&Pe-1===$e){Ne=!1,ze=He,be=He,Be=Pe;continue}if(ze=$,be=$,Be=$e,Be===0)return{startLineNumber:ze,endLineNumber:be,indent:Be}}Ke&&(Pe>=Be?ze=He:Ke=!1),Ne&&(Ae>=Be?be=qe:Ne=!1)}return{startLineNumber:ze,endLineNumber:be,indent:Be}}getLinesBracketGuides($,ie,le,de){var fe,he,se,ce,Se;const Le=[],ue=this._bracketPairColorizer.getBracketPairsInRangeWithMinIndentation(new p.Range($,1,ie,this.getLineMaxColumn(ie)));let we;if(le&&ue.length>0){const ze=$<=le.lineNumber&&le.lineNumber<=ie?ue.filter(Ke=>p.Range.strictContainsPosition(Ke.range,le)):this._bracketPairColorizer.getBracketPairsInRange(p.Range.fromPositions(le));we=(fe=(0,y.findLast)(ze,Ke=>Ke.range.startLineNumber!==Ke.range.endLineNumber))===null||fe===void 0?void 0:fe.range}const ae=new y.ArrayQueue(ue),me=new Array,Ie=new Array,Fe=new Z;for(let ze=$;ze<=ie;ze++){let Ke=new Array;Ie.length>0&&(Ke=Ke.concat(Ie),Ie.length=0),Le.push(Ke);for(const Ne of ae.takeWhile(Be=>Be.openingBracketRange.startLineNumber<=ze)||[]){if(Ne.range.startLineNumber===Ne.range.endLineNumber)continue;const Be=Math.min(this.getVisibleColumnFromPosition(Ne.openingBracketRange.getStartPosition()),this.getVisibleColumnFromPosition((se=(he=Ne.closingBracketRange)===null||he===void 0?void 0:he.getStartPosition())!==null&&se!==void 0?se:Ne.range.getEndPosition()),Ne.minVisibleColumnIndentation+1);let $e=!1;Ne.closingBracketRange&&E.firstNonWhitespaceIndex(this.getLineContent(Ne.closingBracketRange.startLineNumber))<Ne.closingBracketRange.startColumn-1&&($e=!0);const je=Ne.openingBracketRange.getStartPosition(),He=(Se=(ce=Ne.closingBracketRange)===null||ce===void 0?void 0:ce.getStartPosition())!==null&&Se!==void 0?Se:Ne.range.getEndPosition();Ne.closingBracketRange===void 0?me[Ne.nestingLevel]=null:me[Ne.nestingLevel]={nestingLevel:Ne.nestingLevel,guideVisibleColumn:Be,start:je,visibleStartColumn:this.getVisibleColumnFromPosition(je),end:He,visibleEndColumn:this.getVisibleColumnFromPosition(He),bracketPair:Ne,renderHorizontalEndLineAtTheBottom:$e}}for(const Ne of me){if(!Ne)continue;const Be=we&&Ne.bracketPair.range.equalsRange(we),$e=Fe.getInlineClassNameOfLevel(Ne.nestingLevel)+(de.highlightActive&&Be?" "+Fe.activeClassName:"");(Be&&de.horizontalGuides!==i.HorizontalGuidesState.Disabled||de.includeInactive&&de.horizontalGuides===i.HorizontalGuidesState.Enabled)&&(Ne.start.lineNumber===ze&&Ne.guideVisibleColumn<Ne.visibleStartColumn&&Ke.push(new i.IndentGuide(Ne.guideVisibleColumn,$e,new i.IndentGuideHorizontalLine(!1,Ne.start.column))),Ne.end.lineNumber===ze+1&&Ne.guideVisibleColumn<Ne.visibleEndColumn&&Ie.push(new i.IndentGuide(Ne.guideVisibleColumn,$e,new i.IndentGuideHorizontalLine(!Ne.renderHorizontalEndLineAtTheBottom,Ne.end.column))))}let be=Number.MAX_SAFE_INTEGER;for(let Ne=me.length-1;Ne>=0;Ne--){const Be=me[Ne];if(!Be)continue;const $e=de.highlightActive&&we&&Be.bracketPair.range.equalsRange(we),je=Fe.getInlineClassNameOfLevel(Be.nestingLevel)+($e?" "+Fe.activeClassName:"");($e||de.includeInactive)&&Be.renderHorizontalEndLineAtTheBottom&&Be.end.lineNumber===ze+1&&Ie.push(new i.IndentGuide(Be.guideVisibleColumn,je,null)),!(Be.end.lineNumber<=ze||Be.start.lineNumber>=ze)&&(Be.guideVisibleColumn>=be&&!$e||(be=Be.guideVisibleColumn,($e||de.includeInactive)&&Ke.push(new i.IndentGuide(Be.guideVisibleColumn,je,null))))}Ke.sort((Ne,Be)=>Ne.visibleColumn-Be.visibleColumn)}return Le}getVisibleColumnFromPosition($){return I.CursorColumns.visibleColumnFromColumn(this.getLineContent($.lineNumber),$.column,this._options.tabSize)+1}getLinesIndentGuides($,ie){this._assertNotDisposed();const le=this.getLineCount();if($<1||$>le)throw new Error("Illegal value for startLineNumber");if(ie<1||ie>le)throw new Error("Illegal value for endLineNumber");const de=this.getLanguageConfiguration(this._languageId).foldingRules,fe=Boolean(de&&de.offSide);let he=new Array(ie-$+1),se=-2,ce=-1,Se=-2,Le=-1;for(let ue=$;ue<=ie;ue++){let we=ue-$;const ae=this._computeIndentLevel(ue-1);if(ae>=0){se=ue-1,ce=ae,he[we]=Math.ceil(ae/this._options.indentSize);continue}if(se===-2){se=-1,ce=-1;for(let me=ue-2;me>=0;me--){let Ie=this._computeIndentLevel(me);if(Ie>=0){se=me,ce=Ie;break}}}if(Se!==-1&&(Se===-2||Se<ue-1)){Se=-1,Le=-1;for(let me=ue;me<le;me++){let Ie=this._computeIndentLevel(me);if(Ie>=0){Se=me,Le=Ie;break}}}he[we]=this._getIndentLevelForWhitespaceLine(fe,ce,Le)}return he}_getIndentLevelForWhitespaceLine($,ie,le){return ie===-1||le===-1?0:ie<le?1+Math.floor(ie/this._options.indentSize):ie===le?Math.ceil(le/this._options.indentSize):$?Math.ceil(le/this._options.indentSize):1+Math.floor(le/this._options.indentSize)}normalizePosition($,ie){return $}getLineIndentColumn($){return X(this.getLineContent($))+1}};K.MODEL_SYNC_LIMIT=50*1024*1024,K.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,K.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,K.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:S.EDITOR_MODEL_DEFAULTS.tabSize,indentSize:S.EDITOR_MODEL_DEFAULTS.indentSize,insertSpaces:S.EDITOR_MODEL_DEFAULTS.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:S.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,largeFileOptimizations:S.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,bracketPairColorizationOptions:S.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions},K=Ve([Ce(4,f.IUndoRedoService),Ce(5,T.IModeService),Ce(6,s.ILanguageConfigurationService)],K),e.TextModel=K;function X(oe){let $=0;for(const ie of oe)if(ie===" "||ie==="	")$++;else break;return $}class Z{constructor(){this.activeClassName="indent-active"}getInlineClassNameOfLevel($){return`bracket-indent-guide lvl-${$%30}`}}e.BracketPairGuidesClassNames=Z;function q(oe){return!!(oe.options.overviewRuler&&oe.options.overviewRuler.color)}function H(oe){return!!oe.options.after||!!oe.options.before}class G{constructor(){this._decorationsTree0=new l.IntervalTree,this._decorationsTree1=new l.IntervalTree,this._injectedTextDecorationsTree=new l.IntervalTree}ensureAllNodesHaveRanges($){this.getAll($,0,!1,!1)}_ensureNodesHaveRanges($,ie){for(const le of ie)le.range===null&&(le.range=$.getRangeAt(le.cachedAbsoluteStart,le.cachedAbsoluteEnd));return ie}getAllInInterval($,ie,le,de,fe){const he=$.getVersionId(),se=this._intervalSearch(ie,le,de,fe,he);return this._ensureNodesHaveRanges($,se)}_intervalSearch($,ie,le,de,fe){const he=this._decorationsTree0.intervalSearch($,ie,le,de,fe),se=this._decorationsTree1.intervalSearch($,ie,le,de,fe),ce=this._injectedTextDecorationsTree.intervalSearch($,ie,le,de,fe);return he.concat(se).concat(ce)}getInjectedTextInInterval($,ie,le,de){const fe=$.getVersionId(),he=this._injectedTextDecorationsTree.intervalSearch(ie,le,de,!1,fe);return this._ensureNodesHaveRanges($,he).filter(se=>se.options.showIfCollapsed||!se.range.isEmpty())}getAllInjectedText($,ie){const le=$.getVersionId(),de=this._injectedTextDecorationsTree.search(ie,!1,le);return this._ensureNodesHaveRanges($,de).filter(fe=>fe.options.showIfCollapsed||!fe.range.isEmpty())}getAll($,ie,le,de){const fe=$.getVersionId(),he=this._search(ie,le,de,fe);return this._ensureNodesHaveRanges($,he)}_search($,ie,le,de){if(le)return this._decorationsTree1.search($,ie,de);{const fe=this._decorationsTree0.search($,ie,de),he=this._decorationsTree1.search($,ie,de),se=this._injectedTextDecorationsTree.search($,ie,de);return fe.concat(he).concat(se)}}collectNodesFromOwner($){const ie=this._decorationsTree0.collectNodesFromOwner($),le=this._decorationsTree1.collectNodesFromOwner($),de=this._injectedTextDecorationsTree.collectNodesFromOwner($);return ie.concat(le).concat(de)}collectNodesPostOrder(){const $=this._decorationsTree0.collectNodesPostOrder(),ie=this._decorationsTree1.collectNodesPostOrder(),le=this._injectedTextDecorationsTree.collectNodesPostOrder();return $.concat(ie).concat(le)}insert($){H($)?this._injectedTextDecorationsTree.insert($):q($)?this._decorationsTree1.insert($):this._decorationsTree0.insert($)}delete($){H($)?this._injectedTextDecorationsTree.delete($):q($)?this._decorationsTree1.delete($):this._decorationsTree0.delete($)}getNodeRange($,ie){const le=$.getVersionId();return ie.cachedVersionId!==le&&this._resolveNode(ie,le),ie.range===null&&(ie.range=$.getRangeAt(ie.cachedAbsoluteStart,ie.cachedAbsoluteEnd)),ie.range}_resolveNode($,ie){H($)?this._injectedTextDecorationsTree.resolveNode($,ie):q($)?this._decorationsTree1.resolveNode($,ie):this._decorationsTree0.resolveNode($,ie)}acceptReplace($,ie,le,de){this._decorationsTree0.acceptReplace($,ie,le,de),this._decorationsTree1.acceptReplace($,ie,le,de),this._injectedTextDecorationsTree.acceptReplace($,ie,le,de)}}function z(oe){return oe.replace(/[^a-z0-9\-_]/gi," ")}class W{constructor($){this.color=$.color||"",this.darkColor=$.darkColor||""}}class j extends W{constructor($){super($);this._resolvedColor=null,this.position=typeof $.position=="number"?$.position:i.OverviewRulerLane.Center}getColor($){return this._resolvedColor||($.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,$):this._resolvedColor=this._resolveColor(this.color,$)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor($,ie){if(typeof $=="string")return $;let le=$?ie.getColor($.id):null;return le?le.toString():""}}e.ModelDecorationOverviewRulerOptions=j;class U extends W{constructor($){super($);this.position=$.position}getColor($){return this._resolvedColor||($.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,$):this._resolvedColor=this._resolveColor(this.color,$)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor($,ie){return typeof $=="string"?_.Color.fromHex($):ie.getColor($.id)}}e.ModelDecorationMinimapOptions=U;class Y{constructor($){this.content=$.content||"",this.inlineClassName=$.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=$.inlineClassNameAffectsLetterSpacing||!1}static from($){return $ instanceof Y?$:new Y($)}}e.ModelDecorationInjectedTextOptions=Y;class ne{constructor($){var ie;this.description=$.description,this.stickiness=$.stickiness||0,this.zIndex=$.zIndex||0,this.className=$.className?z($.className):null,this.hoverMessage=$.hoverMessage||null,this.glyphMarginHoverMessage=$.glyphMarginHoverMessage||null,this.isWholeLine=$.isWholeLine||!1,this.showIfCollapsed=$.showIfCollapsed||!1,this.collapseOnReplaceEdit=$.collapseOnReplaceEdit||!1,this.overviewRuler=$.overviewRuler?new j($.overviewRuler):null,this.minimap=$.minimap?new U($.minimap):null,this.glyphMarginClassName=$.glyphMarginClassName?z($.glyphMarginClassName):null,this.linesDecorationsClassName=$.linesDecorationsClassName?z($.linesDecorationsClassName):null,this.firstLineDecorationClassName=$.firstLineDecorationClassName?z($.firstLineDecorationClassName):null,this.marginClassName=$.marginClassName?z($.marginClassName):null,this.inlineClassName=$.inlineClassName?z($.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=$.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=$.beforeContentClassName?z($.beforeContentClassName):null,this.afterContentClassName=$.afterContentClassName?z($.afterContentClassName):null,this.after=$.after?Y.from($.after):null,this.before=$.before?Y.from($.before):null,this.hideInCommentTokens=(ie=$.hideInCommentTokens)!==null&&ie!==void 0?ie:!1}static register($){return new ne($)}static createDynamic($){return new ne($)}}e.ModelDecorationOptions=ne,ne.EMPTY=ne.register({description:"empty"});const J=[ne.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),ne.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),ne.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),ne.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function re(oe){return oe instanceof ne?oe:ne.createDynamic(oe)}class ge extends M.Disposable{constructor($){super();this.handleBeforeFire=$,this._actual=this._register(new N.Emitter),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var $;if(this._deferredCnt--,this._deferredCnt===0){if(this._shouldFire){this.handleBeforeFire(this._affectedInjectedTextLines);const ie={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(ie)}($=this._affectedInjectedTextLines)===null||$===void 0||$.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText($){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add($)}checkAffectedAndFire($){this._affectsMinimap||(this._affectsMinimap=!!($.minimap&&$.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!($.overviewRuler&&$.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}e.DidChangeDecorationsEmitter=ge;class pe extends M.Disposable{constructor(){super();this._fastEmitter=this._register(new N.Emitter),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new N.Emitter),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit($=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=$;const ie=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(ie),this._slowEmitter.fire(ie)}}fire($){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge($):this._deferredEvent=$;return}this._fastEmitter.fire($),this._slowEmitter.fire($)}}e.DidChangeContentEmitter=pe}),define(ee[687],te([0,1,103,52,14,13,49,19,31,20,354]),function(Q,e,L,N,M,E,g,S,b,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentGuidesOverlay=void 0;class v extends L.DynamicViewOverlay{constructor(a){super();this._context=a,this._primaryPosition=null;const l=this._context.configuration.options,h=l.get(131),d=l.get(43);this._lineHeight=l.get(58),this._spaceWidth=d.spaceWidth,this._maxIndentLeft=h.wrappingColumn===-1?-1:h.wrappingColumn*d.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=l.get(13),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(a){const l=this._context.configuration.options,h=l.get(131),d=l.get(43);return this._lineHeight=l.get(58),this._spaceWidth=d.spaceWidth,this._maxIndentLeft=h.wrappingColumn===-1?-1:h.wrappingColumn*d.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=l.get(13),!0}onCursorStateChanged(a){var l;const d=a.selections[0].getPosition();return((l=this._primaryPosition)===null||l===void 0?void 0:l.equals(d))?!1:(this._primaryPosition=d,!0)}onDecorationsChanged(a){return!0}onFlushed(a){return!0}onLinesChanged(a){return!0}onLinesDeleted(a){return!0}onLinesInserted(a){return!0}onScrollChanged(a){return a.scrollTopChanged}onZonesChanged(a){return!0}onLanguageConfigurationChanged(a){return!0}prepareRender(a){var l,h,d,u;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}const n=a.visibleRange.startLineNumber,r=a.visibleRange.endLineNumber,s=a.scrollWidth,o=this._lineHeight,m=this._primaryPosition,_=this.getGuidesByLine(n,r,m),f=[];for(let c=n;c<=r;c++){const C=c-n,y=_[C];let w="";const D=(h=(l=a.visibleRangeForPosition(new E.Position(c,1)))===null||l===void 0?void 0:l.left)!==null&&h!==void 0?h:0;for(const I of y){const T=D+(I.visibleColumn-1)*this._spaceWidth;if(T>s||this._maxIndentLeft>0&&T>this._maxIndentLeft)break;const F=I.horizontalLine?I.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",P=I.horizontalLine?((u=(d=a.visibleRangeForPosition(new E.Position(c,I.horizontalLine.endColumn)))===null||d===void 0?void 0:d.left)!==null&&u!==void 0?u:T+this._spaceWidth)-T:this._spaceWidth;w+=`<div class="core-guide ${I.className} ${F}" style="left:${T}px;height:${o}px;width:${P}px"></div>`}f[C]=w}this._renderResult=f}getGuidesByLine(a,l,h){const d=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.model.getBracketGuidesInRangeByLine(a,l,h,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?g.HorizontalGuidesState.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?g.HorizontalGuidesState.EnabledForActive:g.HorizontalGuidesState.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,u=this._bracketPairGuideOptions.indentation?this._context.model.getLinesIndentGuides(a,l):null;let n=0,r=0,s=0;if(this._bracketPairGuideOptions.highlightActiveIndentation&&h){const _=this._context.model.getActiveIndentGuide(h.lineNumber,a,l);n=_.startLineNumber,r=_.endLineNumber,s=_.indent}const{indentSize:o}=this._context.model.getTextModelOptions(),m=[];for(let _=a;_<=l;_++){const f=new Array;m.push(f);const c=d?d[_-a]:[],C=new S.ArrayQueue(c),y=u?u[_-a]:[];for(let w=1;w<=y;w++){const D=(w-1)*o+1,I=c.length===0&&n<=_&&_<=r&&w===s;f.push(...C.takeWhile(F=>F.visibleColumn<D)||[]);const T=C.peek();(!T||T.visibleColumn!==D||T.horizontalLine)&&f.push(new g.IndentGuide(D,I?"core-guide-indent-active":"core-guide-indent",null))}f.push(...C.takeWhile(w=>!0)||[])}return m}render(a,l){if(!this._renderResult)return"";const h=l-a;return h<0||h>=this._renderResult.length?"":this._renderResult[h]}}e.IndentGuidesOverlay=v;function i(t){if(!(t&&t.isTransparent()))return t}(0,M.registerThemingParticipant)((t,a)=>{const l=t.getColor(N.editorIndentGuides);l&&a.addRule(`.monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 ${l} inset; }`);const h=t.getColor(N.editorActiveIndentGuides)||l;h&&a.addRule(`.monaco-editor .lines-content .core-guide-indent-active { box-shadow: 1px 0 0 0 ${h} inset; }`);const d=[{bracketColor:N.editorBracketHighlightingForeground1,guideColor:N.editorBracketPairGuideBackground1,guideColorActive:N.editorBracketPairGuideActiveBackground1},{bracketColor:N.editorBracketHighlightingForeground2,guideColor:N.editorBracketPairGuideBackground2,guideColorActive:N.editorBracketPairGuideActiveBackground2},{bracketColor:N.editorBracketHighlightingForeground3,guideColor:N.editorBracketPairGuideBackground3,guideColorActive:N.editorBracketPairGuideActiveBackground3},{bracketColor:N.editorBracketHighlightingForeground4,guideColor:N.editorBracketPairGuideBackground4,guideColorActive:N.editorBracketPairGuideActiveBackground4},{bracketColor:N.editorBracketHighlightingForeground5,guideColor:N.editorBracketPairGuideBackground5,guideColorActive:N.editorBracketPairGuideActiveBackground5},{bracketColor:N.editorBracketHighlightingForeground6,guideColor:N.editorBracketPairGuideBackground6,guideColorActive:N.editorBracketPairGuideActiveBackground6}],u=new b.BracketPairGuidesClassNames;let n=d.map(r=>{var s,o;const m=t.getColor(r.bracketColor),_=t.getColor(r.guideColor),f=t.getColor(r.guideColorActive),c=i((s=i(_))!==null&&s!==void 0?s:m==null?void 0:m.transparent(.3)),C=i((o=i(f))!==null&&o!==void 0?o:m);if(!(!c||!C))return{guideColor:c,guideColorActive:C}}).filter(p.isDefined);if(n.length>0){for(let r=0;r<30;r++){const s=n[r%n.length];a.addRule(`.monaco-editor .${u.getInlineClassNameOfLevel(r).replace(/ /g,".")} { --guide-color: ${s.guideColor}; --guide-color-active: ${s.guideColorActive}; }`)}a.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),a.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),a.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),a.addRule(`.monaco-editor .vertical.${u.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),a.addRule(`.monaco-editor .horizontal-top.${u.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),a.addRule(`.monaco-editor .horizontal-bottom.${u.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}})}),define(ee[50],te([0,1,12,13,3,23,31,40,145]),function(Q,e,L,N,M,E,g,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isQuote=e.EditOperationResult=e.CursorState=e.PartialViewCursorState=e.PartialModelCursorState=e.CursorContext=e.SingleCursorState=e.CursorConfiguration=e.CursorColumns=void 0,Object.defineProperty(e,"CursorColumns",{enumerable:!0,get:function(){return b.CursorColumns}});const p=()=>!0,v=()=>!1,i=s=>s===" "||s==="	";class t{constructor(o,m,_){this._cursorMoveConfigurationBrand=void 0,this._languageId=o;const f=_.options,c=f.get(130);this.readOnly=f.get(80),this.tabSize=m.tabSize,this.indentSize=m.indentSize,this.insertSpaces=m.insertSpaces,this.stickyTabStops=f.get(103),this.lineHeight=f.get(58),this.pageSize=Math.max(1,Math.floor(c.height/this.lineHeight)-2),this.useTabStops=f.get(115),this.wordSeparators=f.get(116),this.emptySelectionClipboard=f.get(32),this.copyWithSyntaxHighlighting=f.get(21),this.multiCursorMergeOverlapping=f.get(68),this.multiCursorPaste=f.get(70),this.autoClosingBrackets=f.get(5),this.autoClosingQuotes=f.get(8),this.autoClosingDelete=f.get(6),this.autoClosingOvertype=f.get(7),this.autoSurround=f.get(11),this.autoIndent=f.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:t._getShouldAutoClose(o,this.autoClosingQuotes),bracket:t._getShouldAutoClose(o,this.autoClosingBrackets)},this.autoClosingPairs=S.LanguageConfigurationRegistry.getAutoClosingPairs(o);let C=t._getSurroundingPairs(o);if(C)for(const y of C)this.surroundingPairs[y.open]=y.close}static shouldRecreate(o){return o.hasChanged(130)||o.hasChanged(116)||o.hasChanged(32)||o.hasChanged(68)||o.hasChanged(70)||o.hasChanged(5)||o.hasChanged(8)||o.hasChanged(6)||o.hasChanged(7)||o.hasChanged(11)||o.hasChanged(115)||o.hasChanged(58)||o.hasChanged(80)}get electricChars(){if(!this._electricChars){this._electricChars={};let o=t._getElectricCharacters(this._languageId);if(o)for(const m of o)this._electricChars[m]=!0}return this._electricChars}normalizeIndentation(o){return g.TextModel.normalizeIndentation(o,this.indentSize,this.insertSpaces)}static _getElectricCharacters(o){try{return S.LanguageConfigurationRegistry.getElectricCharacters(o)}catch(m){return(0,L.onUnexpectedError)(m),null}}static _getShouldAutoClose(o,m){switch(m){case"beforeWhitespace":return i;case"languageDefined":return t._getLanguageDefinedShouldAutoClose(o);case"always":return p;case"never":return v}}static _getLanguageDefinedShouldAutoClose(o){try{const m=S.LanguageConfigurationRegistry.getAutoCloseBeforeSet(o);return _=>m.indexOf(_)!==-1}catch(m){return(0,L.onUnexpectedError)(m),v}}static _getSurroundingPairs(o){try{return S.LanguageConfigurationRegistry.getSurroundingPairs(o)}catch(m){return(0,L.onUnexpectedError)(m),null}}}e.CursorConfiguration=t;class a{constructor(o,m,_,f){this._singleCursorStateBrand=void 0,this.selectionStart=o,this.selectionStartLeftoverVisibleColumns=m,this.position=_,this.leftoverVisibleColumns=f,this.selection=a._computeSelection(this.selectionStart,this.position)}equals(o){return this.selectionStartLeftoverVisibleColumns===o.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===o.leftoverVisibleColumns&&this.position.equals(o.position)&&this.selectionStart.equalsRange(o.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(o,m,_,f){return o?new a(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new N.Position(m,_),f):new a(new M.Range(m,_,m,_),f,new N.Position(m,_),f)}static _computeSelection(o,m){return o.isEmpty()||!m.isBeforeOrEqual(o.getStartPosition())?E.Selection.fromPositions(o.getStartPosition(),m):E.Selection.fromPositions(o.getEndPosition(),m)}}e.SingleCursorState=a;class l{constructor(o,m,_,f){this._cursorContextBrand=void 0,this.model=o,this.viewModel=m,this.coordinatesConverter=_,this.cursorConfig=f}}e.CursorContext=l;class h{constructor(o){this.modelState=o,this.viewState=null}}e.PartialModelCursorState=h;class d{constructor(o){this.modelState=null,this.viewState=o}}e.PartialViewCursorState=d;class u{constructor(o,m){this._cursorStateBrand=void 0,this.modelState=o,this.viewState=m}static fromModelState(o){return new h(o)}static fromViewState(o){return new d(o)}static fromModelSelection(o){const m=E.Selection.liftSelection(o),_=new a(M.Range.fromPositions(m.getSelectionStart()),0,m.getPosition(),0);return u.fromModelState(_)}static fromModelSelections(o){let m=[];for(let _=0,f=o.length;_<f;_++)m[_]=this.fromModelSelection(o[_]);return m}equals(o){return this.viewState.equals(o.viewState)&&this.modelState.equals(o.modelState)}}e.CursorState=u;class n{constructor(o,m,_){this._editOperationResultBrand=void 0,this.type=o,this.commands=m,this.shouldPushStackElementBefore=_.shouldPushStackElementBefore,this.shouldPushStackElementAfter=_.shouldPushStackElementAfter}}e.EditOperationResult=n;function r(s){return s==="'"||s==='"'||s==="`"}e.isQuote=r}),define(ee[197],te([0,1,8,50,3,23,40]),function(Q,e,L,N,M,E,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShiftCommand=e.cachedStringRepeat=void 0;const S=Object.create(null);function b(v,i){if(i<=0)return"";S[v]||(S[v]=["",v]);const t=S[v];for(let a=t.length;a<=i;a++)t[a]=t[a-1]+v;return t[i]}e.cachedStringRepeat=b;class p{constructor(i,t){this._opts=t,this._selection=i,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(i,t,a,l,h){const d=N.CursorColumns.visibleColumnFromColumn(i,t,a);if(h){const u=b(" ",l),r=N.CursorColumns.prevIndentTabStop(d,l)/l;return b(u,r)}else{const u="	",r=N.CursorColumns.prevRenderTabStop(d,a)/a;return b(u,r)}}static shiftIndent(i,t,a,l,h){const d=N.CursorColumns.visibleColumnFromColumn(i,t,a);if(h){const u=b(" ",l),r=N.CursorColumns.nextIndentTabStop(d,l)/l;return b(u,r)}else{const u="	",r=N.CursorColumns.nextRenderTabStop(d,a)/a;return b(u,r)}}_addEditOperation(i,t,a){this._useLastEditRangeForCursorEndPosition?i.addTrackedEditOperation(t,a):i.addEditOperation(t,a)}getEditOperations(i,t){const a=this._selection.startLineNumber;let l=this._selection.endLineNumber;this._selection.endColumn===1&&a!==l&&(l=l-1);const{tabSize:h,indentSize:d,insertSpaces:u}=this._opts,n=a===l;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(i.getLineContent(a))&&(this._useLastEditRangeForCursorEndPosition=!0);let r=0,s=0;for(let o=a;o<=l;o++,r=s){s=0;let m=i.getLineContent(o),_=L.firstNonWhitespaceIndex(m);if(this._opts.isUnshift&&(m.length===0||_===0)||!n&&!this._opts.isUnshift&&m.length===0)continue;if(_===-1&&(_=m.length),o>1&&N.CursorColumns.visibleColumnFromColumn(m,_+1,h)%d!=0&&i.isCheapToTokenize(o-1)){let C=g.LanguageConfigurationRegistry.getEnterAction(this._opts.autoIndent,i,new M.Range(o-1,i.getLineMaxColumn(o-1),o-1,i.getLineMaxColumn(o-1)));if(C){if(s=r,C.appendText)for(let y=0,w=C.appendText.length;y<w&&s<d&&C.appendText.charCodeAt(y)===32;y++)s++;C.removeText&&(s=Math.max(0,s-C.removeText));for(let y=0;y<s&&!(_===0||m.charCodeAt(_-1)!==32);y++)_--}}if(this._opts.isUnshift&&_===0)continue;let f;this._opts.isUnshift?f=p.unshiftIndent(m,_+1,h,d,u):f=p.shiftIndent(m,_+1,h,d,u),this._addEditOperation(t,new M.Range(o,1,o,_+1),f),o===a&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=_+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&i.getLineLength(a)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const r=u?b(" ",d):"	";for(let s=a;s<=l;s++){const o=i.getLineContent(s);let m=L.firstNonWhitespaceIndex(o);if(!(this._opts.isUnshift&&(o.length===0||m===0))&&!(!n&&!this._opts.isUnshift&&o.length===0)&&(m===-1&&(m=o.length),!(this._opts.isUnshift&&m===0)))if(this._opts.isUnshift){m=Math.min(m,d);for(let _=0;_<m;_++)if(o.charCodeAt(_)===9){m=_+1;break}this._addEditOperation(t,new M.Range(s,1,s,m+1),"")}else this._addEditOperation(t,new M.Range(s,1,s,1),r),s===a&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=t.trackSelection(this._selection)}computeCursorState(i,t){if(this._useLastEditRangeForCursorEndPosition){let l=t.getInverseEditOperations()[0];return new E.Selection(l.range.endLineNumber,l.range.endColumn,l.range.endLineNumber,l.range.endColumn)}const a=t.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){let l=this._selection.startColumn;return a.startColumn<=l?a:a.getDirection()===0?new E.Selection(a.startLineNumber,l,a.endLineNumber,a.endColumn):new E.Selection(a.endLineNumber,a.endColumn,a.startLineNumber,l)}return a}}e.ShiftCommand=p}),define(ee[287],te([0,1,50]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AtomicTabMoveOperations=void 0;class N{static whitespaceVisibleColumn(E,g,S){const b=E.length;let p=0,v=-1,i=-1;for(let t=0;t<b;t++){if(t===g)return[v,i,p];switch(p%S==0&&(v=t,i=p),E.charCodeAt(t)){case 32:p+=1;break;case 9:p=L.CursorColumns.nextRenderTabStop(p,S);break;default:return[-1,-1,-1]}}return g===b?[v,i,p]:[-1,-1,-1]}static atomicPosition(E,g,S,b){const p=E.length,[v,i,t]=N.whitespaceVisibleColumn(E,g,S);if(t===-1)return-1;let a;switch(b){case 0:a=!0;break;case 1:a=!1;break;case 2:if(t%S==0)return g;a=t%S<=S/2;break}if(a){if(v===-1)return-1;let d=i;for(let u=v;u<p;++u){if(d===i+S)return v;switch(E.charCodeAt(u)){case 32:d+=1;break;case 9:d=L.CursorColumns.nextRenderTabStop(d,S);break;default:return-1}}return d===i+S?v:-1}const l=L.CursorColumns.nextRenderTabStop(t,S);let h=t;for(let d=g;d<p;d++){if(h===l)return d;switch(E.charCodeAt(d)){case 32:h+=1;break;case 9:h=L.CursorColumns.nextRenderTabStop(h,S);break;default:return-1}}return h===l?p:-1}}e.AtomicTabMoveOperations=N}),define(ee[198],te([0,1,129,51,277,13,3,50,7,287]),function(Q,e,L,N,M,E,g,S,b,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shadowCaretRangeFromPoint=e.MouseTargetFactory=e.HitTestContext=e.MouseTarget=e.PointerHandlerLastRenderData=void 0;class v{constructor(c=null){this.hitTarget=c,this.type=0}}class i{constructor(c,C,y){this.position=c,this.spanNode=C,this.injectedText=y,this.type=1}}var t;(function(f){function c(C,y,w){const D=C.getPositionFromDOMInfo(y,w);return D?new i(D,y,null):new v(y)}f.createFromDOMInfo=c})(t||(t={}));class a{constructor(c,C){this.lastViewCursorsRenderData=c,this.lastTextareaPosition=C}}e.PointerHandlerLastRenderData=a;class l{constructor(c,C,y=0,w=null,D=null,I=null){this.element=c,this.type=C,this.mouseColumn=y,this.position=w,!D&&w&&(D=new g.Range(w.lineNumber,w.column,w.lineNumber,w.column)),this.range=D,this.detail=I}static _typeToString(c){return c===1?"TEXTAREA":c===2?"GUTTER_GLYPH_MARGIN":c===3?"GUTTER_LINE_NUMBERS":c===4?"GUTTER_LINE_DECORATIONS":c===5?"GUTTER_VIEW_ZONE":c===6?"CONTENT_TEXT":c===7?"CONTENT_EMPTY":c===8?"CONTENT_VIEW_ZONE":c===9?"CONTENT_WIDGET":c===10?"OVERVIEW_RULER":c===11?"SCROLLBAR":c===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(c){return this._typeToString(c.type)+": "+c.position+" - "+c.range+" - "+c.detail}toString(){return l.toString(this)}}e.MouseTarget=l;class h{static isTextArea(c){return c.length===2&&c[0]===3&&c[1]===6}static isChildOfViewLines(c){return c.length>=4&&c[0]===3&&c[3]===7}static isStrictChildOfViewLines(c){return c.length>4&&c[0]===3&&c[3]===7}static isChildOfScrollableElement(c){return c.length>=2&&c[0]===3&&c[1]===5}static isChildOfMinimap(c){return c.length>=2&&c[0]===3&&c[1]===8}static isChildOfContentWidgets(c){return c.length>=4&&c[0]===3&&c[3]===1}static isChildOfOverflowingContentWidgets(c){return c.length>=1&&c[0]===2}static isChildOfOverlayWidgets(c){return c.length>=2&&c[0]===3&&c[1]===4}}class d{constructor(c,C,y){this.model=c.model;const w=c.configuration.options;this.layoutInfo=w.get(130),this.viewDomNode=C.viewDomNode,this.lineHeight=w.get(58),this.stickyTabStops=w.get(103),this.typicalHalfwidthCharacterWidth=w.get(43).typicalHalfwidthCharacterWidth,this.lastRenderData=y,this._context=c,this._viewHelper=C}getZoneAtCoord(c){return d.getZoneAtCoord(this._context,c)}static getZoneAtCoord(c,C){const y=c.viewLayout.getWhitespaceAtVerticalOffset(C);if(y){const w=y.verticalOffset+y.height/2,D=c.model.getLineCount();let I=null,T,F=null;return y.afterLineNumber!==D&&(F=new E.Position(y.afterLineNumber+1,1)),y.afterLineNumber>0&&(I=new E.Position(y.afterLineNumber,c.model.getLineMaxColumn(y.afterLineNumber))),F===null?T=I:I===null?T=F:C<w?T=I:T=F,{viewZoneId:y.id,afterLineNumber:y.afterLineNumber,positionBefore:I,positionAfter:F,position:T}}return null}getFullLineRangeAtCoord(c){if(this._context.viewLayout.isAfterLines(c)){const w=this._context.model.getLineCount(),D=this._context.model.getLineMaxColumn(w);return{range:new g.Range(w,D,w,D),isAfterLines:!0}}const C=this._context.viewLayout.getLineNumberAtVerticalOffset(c),y=this._context.model.getLineMaxColumn(C);return{range:new g.Range(C,1,C,y),isAfterLines:!1}}getLineNumberAtVerticalOffset(c){return this._context.viewLayout.getLineNumberAtVerticalOffset(c)}isAfterLines(c){return this._context.viewLayout.isAfterLines(c)}isInTopPadding(c){return this._context.viewLayout.isInTopPadding(c)}isInBottomPadding(c){return this._context.viewLayout.isInBottomPadding(c)}getVerticalOffsetForLineNumber(c){return this._context.viewLayout.getVerticalOffsetForLineNumber(c)}findAttribute(c,C){return d._findAttribute(c,C,this._viewHelper.viewDomNode)}static _findAttribute(c,C,y){for(;c&&c!==document.body;){if(c.hasAttribute&&c.hasAttribute(C))return c.getAttribute(C);if(c===y)return null;c=c.parentNode}return null}getLineWidth(c){return this._viewHelper.getLineWidth(c)}visibleRangeForPosition(c,C){return this._viewHelper.visibleRangeForPosition(c,C)}getPositionFromDOMInfo(c,C){return this._viewHelper.getPositionFromDOMInfo(c,C)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}e.HitTestContext=d;class u{constructor(c,C,y){this.editorPos=C,this.pos=y,this.mouseVerticalOffset=Math.max(0,c.getCurrentScrollTop()+y.y-C.y),this.mouseContentHorizontalOffset=c.getCurrentScrollLeft()+y.x-C.x-c.layoutInfo.contentLeft,this.isInMarginArea=y.x-C.x<c.layoutInfo.contentLeft&&y.x-C.x>=c.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,o._getMouseColumn(this.mouseContentHorizontalOffset,c.typicalHalfwidthCharacterWidth))}}class n extends u{constructor(c,C,y,w){super(c,C,y);this._ctx=c,w?(this.target=w,this.targetPath=N.PartFingerprints.collect(w,c.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}fulfill(c,C=null,y=null,w=null){let D=this.mouseColumn;return C&&C.column<this._ctx.model.getLineMaxColumn(C.lineNumber)&&(D=S.CursorColumns.visibleColumnFromColumn(this._ctx.model.getLineContent(C.lineNumber),C.column,this._ctx.model.getTextModelOptions().tabSize)+1),new l(this.target,c,D,C,y,w)}withTarget(c){return new n(this._ctx,this.editorPos,this.pos,c)}}const r={isAfterLines:!0};function s(f){return{isAfterLines:!1,horizontalDistanceToText:f}}class o{constructor(c,C){this._context=c,this._viewHelper=C}mouseTargetIsWidget(c){const C=c.target,y=N.PartFingerprints.collect(C,this._viewHelper.viewDomNode);return!!(h.isChildOfContentWidgets(y)||h.isChildOfOverflowingContentWidgets(y)||h.isChildOfOverlayWidgets(y))}createMouseTarget(c,C,y,w){const D=new d(this._context,this._viewHelper,c),I=new n(D,C,y,w);try{return o._createMouseTarget(D,I,!1)}catch(T){return I.fulfill(0)}}static _createMouseTarget(c,C,y){if(C.target===null){if(y)return C.fulfill(0);const I=o._doHitTest(c,C);return I.type===1?o.createMouseTargetFromHitTestPosition(c,C,I.spanNode,I.position,I.injectedText):this._createMouseTarget(c,C.withTarget(I.hitTarget),!0)}const w=C;let D=null;return D=D||o._hitTestContentWidget(c,w),D=D||o._hitTestOverlayWidget(c,w),D=D||o._hitTestMinimap(c,w),D=D||o._hitTestScrollbarSlider(c,w),D=D||o._hitTestViewZone(c,w),D=D||o._hitTestMargin(c,w),D=D||o._hitTestViewCursor(c,w),D=D||o._hitTestTextArea(c,w),D=D||o._hitTestViewLines(c,w,y),D=D||o._hitTestScrollbar(c,w),D||C.fulfill(0)}static _hitTestContentWidget(c,C){if(h.isChildOfContentWidgets(C.targetPath)||h.isChildOfOverflowingContentWidgets(C.targetPath)){const y=c.findAttribute(C.target,"widgetId");return y?C.fulfill(9,null,null,y):C.fulfill(0)}return null}static _hitTestOverlayWidget(c,C){if(h.isChildOfOverlayWidgets(C.targetPath)){const y=c.findAttribute(C.target,"widgetId");return y?C.fulfill(12,null,null,y):C.fulfill(0)}return null}static _hitTestViewCursor(c,C){if(C.target){const y=c.lastRenderData.lastViewCursorsRenderData;for(const w of y)if(C.target===w.domNode)return C.fulfill(6,w.position,null,{mightBeForeignElement:!1})}if(C.isInContentArea){const y=c.lastRenderData.lastViewCursorsRenderData,w=C.mouseContentHorizontalOffset,D=C.mouseVerticalOffset;for(const I of y){if(w<I.contentLeft||w>I.contentLeft+I.width)continue;const T=c.getVerticalOffsetForLineNumber(I.position.lineNumber);if(T<=D&&D<=T+I.height)return C.fulfill(6,I.position,null,{mightBeForeignElement:!1})}}return null}static _hitTestViewZone(c,C){const y=c.getZoneAtCoord(C.mouseVerticalOffset);if(y){const w=C.isInContentArea?8:5;return C.fulfill(w,y.position,null,y)}return null}static _hitTestTextArea(c,C){return h.isTextArea(C.targetPath)?c.lastRenderData.lastTextareaPosition?C.fulfill(6,c.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1}):C.fulfill(1,c.lastRenderData.lastTextareaPosition):null}static _hitTestMargin(c,C){if(C.isInMarginArea){const y=c.getFullLineRangeAtCoord(C.mouseVerticalOffset),w=y.range.getStartPosition();let D=Math.abs(C.pos.x-C.editorPos.x);const I={isAfterLines:y.isAfterLines,glyphMarginLeft:c.layoutInfo.glyphMarginLeft,glyphMarginWidth:c.layoutInfo.glyphMarginWidth,lineNumbersWidth:c.layoutInfo.lineNumbersWidth,offsetX:D};return D-=c.layoutInfo.glyphMarginLeft,D<=c.layoutInfo.glyphMarginWidth?C.fulfill(2,w,y.range,I):(D-=c.layoutInfo.glyphMarginWidth,D<=c.layoutInfo.lineNumbersWidth?C.fulfill(3,w,y.range,I):(D-=c.layoutInfo.lineNumbersWidth,C.fulfill(4,w,y.range,I)))}return null}static _hitTestViewLines(c,C,y){if(!h.isChildOfViewLines(C.targetPath))return null;if(c.isInTopPadding(C.mouseVerticalOffset))return C.fulfill(7,new E.Position(1,1),null,r);if(c.isAfterLines(C.mouseVerticalOffset)||c.isInBottomPadding(C.mouseVerticalOffset)){const D=c.model.getLineCount(),I=c.model.getLineMaxColumn(D);return C.fulfill(7,new E.Position(D,I),null,r)}if(y){if(h.isStrictChildOfViewLines(C.targetPath)){const D=c.getLineNumberAtVerticalOffset(C.mouseVerticalOffset);if(c.model.getLineLength(D)===0){const T=c.getLineWidth(D),F=s(C.mouseContentHorizontalOffset-T);return C.fulfill(7,new E.Position(D,1),null,F)}const I=c.getLineWidth(D);if(C.mouseContentHorizontalOffset>=I){const T=s(C.mouseContentHorizontalOffset-I),F=new E.Position(D,c.model.getLineMaxColumn(D));return C.fulfill(7,F,null,T)}}return C.fulfill(0)}const w=o._doHitTest(c,C);return w.type===1?o.createMouseTargetFromHitTestPosition(c,C,w.spanNode,w.position,w.injectedText):this._createMouseTarget(c,C.withTarget(w.hitTarget),!0)}static _hitTestMinimap(c,C){if(h.isChildOfMinimap(C.targetPath)){const y=c.getLineNumberAtVerticalOffset(C.mouseVerticalOffset),w=c.model.getLineMaxColumn(y);return C.fulfill(11,new E.Position(y,w))}return null}static _hitTestScrollbarSlider(c,C){if(h.isChildOfScrollableElement(C.targetPath)&&C.target&&C.target.nodeType===1){const y=C.target.className;if(y&&/\b(slider|scrollbar)\b/.test(y)){const w=c.getLineNumberAtVerticalOffset(C.mouseVerticalOffset),D=c.model.getLineMaxColumn(w);return C.fulfill(11,new E.Position(w,D))}}return null}static _hitTestScrollbar(c,C){if(h.isChildOfScrollableElement(C.targetPath)){const y=c.getLineNumberAtVerticalOffset(C.mouseVerticalOffset),w=c.model.getLineMaxColumn(y);return C.fulfill(11,new E.Position(y,w))}return null}getMouseColumn(c,C){const y=this._context.configuration.options,w=y.get(130),D=this._context.viewLayout.getCurrentScrollLeft()+C.x-c.x-w.contentLeft;return o._getMouseColumn(D,y.get(43).typicalHalfwidthCharacterWidth)}static _getMouseColumn(c,C){return c<0?1:Math.round(c/C)+1}static createMouseTargetFromHitTestPosition(c,C,y,w,D){const I=w.lineNumber,T=w.column,F=c.getLineWidth(I);if(C.mouseContentHorizontalOffset>F){const x=s(C.mouseContentHorizontalOffset-F);return C.fulfill(7,w,null,x)}const P=c.visibleRangeForPosition(I,T);if(!P)return C.fulfill(0,w);const R=P.left;if(C.mouseContentHorizontalOffset===R)return C.fulfill(6,w,null,{mightBeForeignElement:!!D});const A=[];if(A.push({offset:P.left,column:T}),T>1){const x=c.visibleRangeForPosition(I,T-1);x&&A.push({offset:x.left,column:T-1})}const O=c.model.getLineMaxColumn(I);if(T<O){const x=c.visibleRangeForPosition(I,T+1);x&&A.push({offset:x.left,column:T+1})}A.sort((x,K)=>x.offset-K.offset);const k=C.pos.toClientCoordinates(),V=y.getBoundingClientRect(),B=V.left<=k.clientX&&k.clientX<=V.right;for(let x=1;x<A.length;x++){const K=A[x-1],X=A[x];if(K.offset<=C.mouseContentHorizontalOffset&&C.mouseContentHorizontalOffset<=X.offset){const Z=new g.Range(I,K.column,I,X.column);return C.fulfill(6,w,Z,{mightBeForeignElement:!B||!!D})}}return C.fulfill(6,w,null,{mightBeForeignElement:!B||!!D})}static _doHitTestWithCaretRangeFromPoint(c,C){const y=c.getLineNumberAtVerticalOffset(C.mouseVerticalOffset),D=c.getVerticalOffsetForLineNumber(y)+Math.floor(c.lineHeight/2);let I=C.pos.y+(D-C.mouseVerticalOffset);I<=C.editorPos.y&&(I=C.editorPos.y+1),I>=C.editorPos.y+c.layoutInfo.height&&(I=C.editorPos.y+c.layoutInfo.height-1);const T=new L.PageCoordinates(C.pos.x,I),F=this._actualDoHitTestWithCaretRangeFromPoint(c,T.toClientCoordinates());return F.type===1?F:this._actualDoHitTestWithCaretRangeFromPoint(c,C.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(c,C){const y=b.getShadowRoot(c.viewDomNode);let w;if(y?typeof y.caretRangeFromPoint=="undefined"?w=m(y,C.clientX,C.clientY):w=y.caretRangeFromPoint(C.clientX,C.clientY):w=document.caretRangeFromPoint(C.clientX,C.clientY),!w||!w.startContainer)return new v;const D=w.startContainer;if(D.nodeType===D.TEXT_NODE){const I=D.parentNode,T=I?I.parentNode:null,F=T?T.parentNode:null;return(F&&F.nodeType===F.ELEMENT_NODE?F.className:null)===M.ViewLine.CLASS_NAME?t.createFromDOMInfo(c,I,w.startOffset):new v(D.parentNode)}else if(D.nodeType===D.ELEMENT_NODE){const I=D.parentNode,T=I?I.parentNode:null;return(T&&T.nodeType===T.ELEMENT_NODE?T.className:null)===M.ViewLine.CLASS_NAME?t.createFromDOMInfo(c,D,D.textContent.length):new v(D)}return new v}static _doHitTestWithCaretPositionFromPoint(c,C){const y=document.caretPositionFromPoint(C.clientX,C.clientY);if(y.offsetNode.nodeType===y.offsetNode.TEXT_NODE){const w=y.offsetNode.parentNode,D=w?w.parentNode:null,I=D?D.parentNode:null;return(I&&I.nodeType===I.ELEMENT_NODE?I.className:null)===M.ViewLine.CLASS_NAME?t.createFromDOMInfo(c,y.offsetNode.parentNode,y.offset):new v(y.offsetNode.parentNode)}if(y.offsetNode.nodeType===y.offsetNode.ELEMENT_NODE){const w=y.offsetNode.parentNode,D=w&&w.nodeType===w.ELEMENT_NODE?w.className:null,I=w?w.parentNode:null,T=I&&I.nodeType===I.ELEMENT_NODE?I.className:null;if(D===M.ViewLine.CLASS_NAME){const F=y.offsetNode.childNodes[Math.min(y.offset,y.offsetNode.childNodes.length-1)];if(F)return t.createFromDOMInfo(c,F,0)}else if(T===M.ViewLine.CLASS_NAME)return t.createFromDOMInfo(c,y.offsetNode,0)}return new v(y.offsetNode)}static _snapToSoftTabBoundary(c,C){const y=C.getLineContent(c.lineNumber),{tabSize:w}=C.getTextModelOptions(),D=p.AtomicTabMoveOperations.atomicPosition(y,c.column-1,w,2);return D!==-1?new E.Position(c.lineNumber,D+1):c}static _doHitTest(c,C){let y=new v;if(typeof document.caretRangeFromPoint=="function"?y=this._doHitTestWithCaretRangeFromPoint(c,C):document.caretPositionFromPoint&&(y=this._doHitTestWithCaretPositionFromPoint(c,C.pos.toClientCoordinates())),y.type===1){const w=c.model.getInjectedTextAt(y.position),D=c.model.normalizePosition(y.position,2);(w||!D.equals(y.position))&&(y=new i(D,y.spanNode,w))}return y.type===1&&c.stickyTabStops&&(y=new i(this._snapToSoftTabBoundary(y.position,c.model),y.spanNode,y.injectedText)),y}}e.MouseTargetFactory=o;function m(f,c,C){const y=document.createRange();let w=f.elementFromPoint(c,C);if(w!==null){for(;w&&w.firstChild&&w.firstChild.nodeType!==w.firstChild.TEXT_NODE&&w.lastChild&&w.lastChild.firstChild;)w=w.lastChild;const D=w.getBoundingClientRect(),I=window.getComputedStyle(w,null).getPropertyValue("font"),T=w.innerText;let F=D.left,P=0,R;if(c>D.left+D.width)P=T.length;else{const A=_.getInstance();for(let O=0;O<T.length+1;O++){if(R=A.getCharWidth(T.charAt(O),I)/2,F+=R,c<F){P=O;break}F+=R}}y.setStart(w.firstChild,P),y.setEnd(w.firstChild,P)}return y}e.shadowCaretRangeFromPoint=m;class _{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return _._INSTANCE||(_._INSTANCE=new _),_._INSTANCE}getCharWidth(c,C){const y=c+C;if(this._cache[y])return this._cache[y];const w=this._canvas.getContext("2d");w.font=C;const I=w.measureText(c).width;return this._cache[y]=I,I}}_._INSTANCE=null}),define(ee[688],te([0,1,7,59,10,2,15,198,129,144,13,23,121]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandler=e.createMouseMoveEventMerger=void 0;function a(u){return function(n,r){let s=!1;return u&&(s=u.mouseTargetIsWidget(r)),s||r.preventDefault(),r}}e.createMouseMoveEventMerger=a;class l extends t.ViewEventHandler{constructor(n,r,s){super();this._context=n,this.viewController=r,this.viewHelper=s,this.mouseTargetFactory=new S.MouseTargetFactory(this._context,s),this._mouseDownOperation=this._register(new h(this._context,this.viewController,this.viewHelper,(_,f)=>this._createMouseTarget(_,f),_=>this._getMouseColumn(_))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(130).height;const o=new b.EditorMouseEventFactory(this.viewHelper.viewDomNode);this._register(o.onContextMenu(this.viewHelper.viewDomNode,_=>this._onContextMenu(_,!0))),this._register(o.onMouseMoveThrottled(this.viewHelper.viewDomNode,_=>this._onMouseMove(_),a(this.mouseTargetFactory),l.MOUSE_MOVE_MINIMUM_TIME)),this._register(o.onMouseUp(this.viewHelper.viewDomNode,_=>this._onMouseUp(_))),this._register(o.onMouseLeave(this.viewHelper.viewDomNode,_=>this._onMouseLeave(_))),this._register(o.onMouseDown(this.viewHelper.viewDomNode,_=>this._onMouseDown(_)));const m=_=>{if(this.viewController.emitMouseWheel(_),!this._context.configuration.options.get(67))return;const f=new N.StandardWheelEvent(_);if(g.isMacintosh?(_.metaKey||_.ctrlKey)&&!_.shiftKey&&!_.altKey:_.ctrlKey&&!_.metaKey&&!_.shiftKey&&!_.altKey){const C=p.EditorZoom.getZoomLevel(),y=f.deltaY>0?1:-1;p.EditorZoom.setZoomLevel(C+y),f.preventDefault(),f.stopPropagation()}};this._register(L.addDisposableListener(this.viewHelper.viewDomNode,L.EventType.MOUSE_WHEEL,m,{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(n){if(n.hasChanged(130)){const r=this._context.configuration.options.get(130).height;this._height!==r&&(this._height=r,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(n){return this._mouseDownOperation.onCursorStateChanged(n),!1}onFocusChanged(n){return!1}onScrollChanged(n){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(n,r){const o=new b.ClientCoordinates(n,r).toPageCoordinates(),m=(0,b.createEditorPagePosition)(this.viewHelper.viewDomNode);return o.y<m.y||o.y>m.y+m.height||o.x<m.x||o.x>m.x+m.width?null:this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),m,o,null)}_createMouseTarget(n,r){let s=n.target;if(!this.viewHelper.viewDomNode.contains(s)){const o=L.getShadowRoot(this.viewHelper.viewDomNode);o&&(s=o.elementsFromPoint(n.posx,n.posy).find(m=>this.viewHelper.viewDomNode.contains(m)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),n.editorPos,n.pos,r?s:null)}_getMouseColumn(n){return this.mouseTargetFactory.getMouseColumn(n.editorPos,n.pos)}_onContextMenu(n,r){this.viewController.emitContextMenu({event:n,target:this._createMouseTarget(n,r)})}_onMouseMove(n){this._mouseDownOperation.isActive()||n.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:n,target:this._createMouseTarget(n,!0)})}_onMouseLeave(n){this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:n,target:null})}_onMouseUp(n){this.viewController.emitMouseUp({event:n,target:this._createMouseTarget(n,!0)})}_onMouseDown(n){const r=this._createMouseTarget(n,!0),s=r.type===6||r.type===7,o=r.type===2||r.type===3||r.type===4,m=r.type===3,_=this._context.configuration.options.get(97),f=r.type===8||r.type===5,c=r.type===9;let C=n.leftButton||n.middleButton;g.isMacintosh&&n.leftButton&&n.ctrlKey&&(C=!1);const y=()=>{n.preventDefault(),this.viewHelper.focusTextArea()};if(C&&(s||m&&_))y(),this._mouseDownOperation.start(r.type,n);else if(o)n.preventDefault();else if(f){const w=r.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(w.viewZoneId)&&(y(),this._mouseDownOperation.start(r.type,n),n.preventDefault())}else c&&this.viewHelper.shouldSuppressMouseDownOnWidget(r.detail)&&(y(),n.preventDefault());this.viewController.emitMouseDown({event:n,target:r})}_onMouseWheel(n){this.viewController.emitMouseWheel(n)}}e.MouseHandler=l,l.MOUSE_MOVE_MINIMUM_TIME=100;class h extends E.Disposable{constructor(n,r,s,o,m){super();this._context=n,this._viewController=r,this._viewHelper=s,this._createMouseTarget=o,this._getMouseColumn=m,this._mouseMoveMonitor=this._register(new b.GlobalEditorMouseMoveMonitor(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new M.TimeoutTimer),this._mouseState=new d,this._currentSelection=new i.Selection(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(n){this._lastMouseEvent=n,this._mouseState.setModifiers(n);const r=this._findMousePosition(n,!0);!r||(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:n,target:r}):this._dispatchMouse(r,!0))}start(n,r){this._lastMouseEvent=r,this._mouseState.setStartedOnLineNumbers(n===3),this._mouseState.setStartButtons(r),this._mouseState.setModifiers(r);const s=this._findMousePosition(r,!0);if(!s||!s.position)return;this._mouseState.trySetCount(r.detail,s.position),r.detail=this._mouseState.count;const o=this._context.configuration.options;if(!o.get(80)&&o.get(31)&&!o.get(18)&&!this._mouseState.altKey&&r.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&s.type===6&&s.position&&this._currentSelection.containsPosition(s.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(r.target,r.buttons,a(null),m=>this._onMouseDownThenMove(m),m=>{const _=this._findMousePosition(this._lastMouseEvent,!0);m&&m instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:_?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(s,r.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(r.target,r.buttons,a(null),m=>this._onMouseDownThenMove(m),()=>this._stop()))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){!this._isActive||this._onScrollTimeout.setIfNotSet(()=>{if(!this._lastMouseEvent)return;const n=this._findMousePosition(this._lastMouseEvent,!1);!n||this._mouseState.isDragAndDrop||this._dispatchMouse(n,!0)},10)}onCursorStateChanged(n){this._currentSelection=n.selections[0]}_getPositionOutsideEditor(n){const r=n.editorPos,s=this._context.model,o=this._context.viewLayout,m=this._getMouseColumn(n);if(n.posy<r.y){const f=Math.max(o.getCurrentScrollTop()-(r.y-n.posy),0),c=S.HitTestContext.getZoneAtCoord(this._context,f);if(c){const y=this._helpPositionJumpOverViewZone(c);if(y)return new S.MouseTarget(null,13,m,y)}const C=o.getLineNumberAtVerticalOffset(f);return new S.MouseTarget(null,13,m,new v.Position(C,1))}if(n.posy>r.y+r.height){const f=o.getCurrentScrollTop()+(n.posy-r.y),c=S.HitTestContext.getZoneAtCoord(this._context,f);if(c){const y=this._helpPositionJumpOverViewZone(c);if(y)return new S.MouseTarget(null,13,m,y)}const C=o.getLineNumberAtVerticalOffset(f);return new S.MouseTarget(null,13,m,new v.Position(C,s.getLineMaxColumn(C)))}const _=o.getLineNumberAtVerticalOffset(o.getCurrentScrollTop()+(n.posy-r.y));return n.posx<r.x?new S.MouseTarget(null,13,m,new v.Position(_,1)):n.posx>r.x+r.width?new S.MouseTarget(null,13,m,new v.Position(_,s.getLineMaxColumn(_))):null}_findMousePosition(n,r){const s=this._getPositionOutsideEditor(n);if(s)return s;const o=this._createMouseTarget(n,r);if(!o.position)return null;if(o.type===8||o.type===5){const _=this._helpPositionJumpOverViewZone(o.detail);if(_)return new S.MouseTarget(o.element,o.type,o.mouseColumn,_,null,o.detail)}return o}_helpPositionJumpOverViewZone(n){const r=new v.Position(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),s=n.positionBefore,o=n.positionAfter;return s&&o?s.isBefore(r)?s:o:null}_dispatchMouse(n,r){!n.position||this._viewController.dispatchMouse({position:n.position,mouseColumn:n.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:r,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton})}}class d{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(n){this._altKey=n.altKey,this._ctrlKey=n.ctrlKey,this._metaKey=n.metaKey,this._shiftKey=n.shiftKey}setStartButtons(n){this._leftButton=n.leftButton,this._middleButton=n.middleButton}setStartedOnLineNumbers(n){this._startedOnLineNumbers=n}trySetCount(n,r){const s=new Date().getTime();s-this._lastSetMouseDownCountTime>d.CLEAR_MOUSE_DOWN_COUNT_TIME&&(n=1),this._lastSetMouseDownCountTime=s,n>this._lastMouseDownCount+1&&(n=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(r)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=r,this._lastMouseDownCount=Math.min(n,this._lastMouseDownPositionEqualCount)}}d.CLEAR_MOUSE_DOWN_COUNT_TIME=400}),define(ee[689],te([0,1,7,15,57,2,688,129,169,176]),function(Q,e,L,N,M,E,g,S,b,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PointerHandler=e.PointerEventHandler=void 0;class v extends g.MouseHandler{constructor(l,h,d){super(l,h,d);this._register(M.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(L.addDisposableListener(this.viewHelper.linesContentDomNode,M.EventType.Tap,n=>this.onTap(n))),this._register(L.addDisposableListener(this.viewHelper.linesContentDomNode,M.EventType.Change,n=>this.onChange(n))),this._register(L.addDisposableListener(this.viewHelper.linesContentDomNode,M.EventType.Contextmenu,n=>this._onContextMenu(new S.EditorMouseEvent(n,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(L.addDisposableListener(this.viewHelper.linesContentDomNode,"pointerdown",n=>{const r=n.pointerType;if(r==="mouse"){this._lastPointerType="mouse";return}else r==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const u=new S.EditorPointerEventFactory(this.viewHelper.viewDomNode);this._register(u.onPointerMoveThrottled(this.viewHelper.viewDomNode,n=>this._onMouseMove(n),(0,g.createMouseMoveEventMerger)(this.mouseTargetFactory),g.MouseHandler.MOUSE_MOVE_MINIMUM_TIME)),this._register(u.onPointerUp(this.viewHelper.viewDomNode,n=>this._onMouseUp(n))),this._register(u.onPointerLeave(this.viewHelper.viewDomNode,n=>this._onMouseLeave(n))),this._register(u.onPointerDown(this.viewHelper.viewDomNode,n=>this._onMouseDown(n)))}onTap(l){if(!l.initialTarget||!this.viewHelper.linesContentDomNode.contains(l.initialTarget))return;l.preventDefault(),this.viewHelper.focusTextArea();const h=this._createMouseTarget(new S.EditorMouseEvent(l,this.viewHelper.viewDomNode),!1);h.position&&this.viewController.dispatchMouse({position:h.position,mouseColumn:h.position.column,startedOnLineNumbers:!1,mouseDownCount:l.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1})}onChange(l){this._lastPointerType==="touch"&&this._context.model.deltaScrollNow(-l.translationX,-l.translationY)}_onMouseDown(l){l.browserEvent.pointerType!=="touch"&&super._onMouseDown(l)}}e.PointerEventHandler=v;class i extends g.MouseHandler{constructor(l,h,d){super(l,h,d);this._register(M.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(L.addDisposableListener(this.viewHelper.linesContentDomNode,M.EventType.Tap,u=>this.onTap(u))),this._register(L.addDisposableListener(this.viewHelper.linesContentDomNode,M.EventType.Change,u=>this.onChange(u))),this._register(L.addDisposableListener(this.viewHelper.linesContentDomNode,M.EventType.Contextmenu,u=>this._onContextMenu(new S.EditorMouseEvent(u,this.viewHelper.viewDomNode),!1)))}onTap(l){l.preventDefault(),this.viewHelper.focusTextArea();const h=this._createMouseTarget(new S.EditorMouseEvent(l,this.viewHelper.viewDomNode),!1);if(h.position){const d=document.createEvent("CustomEvent");d.initEvent(p.TextAreaSyntethicEvents.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(d),this.viewController.moveTo(h.position)}}onChange(l){this._context.model.deltaScrollNow(-l.translationX,-l.translationY)}}class t extends E.Disposable{constructor(l,h,d){super();N.isIOS&&b.BrowserFeatures.pointerEvents?this.handler=this._register(new v(l,h,d)):window.TouchEvent?this.handler=this._register(new i(l,h,d)):this.handler=this._register(new g.MouseHandler(l,h,d))}getTargetAtClientPoint(l,h){return this.handler.getTargetAtClientPoint(l,h)}}e.PointerHandler=t}),define(ee[288],te([0,1,198]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewUserInputEvents=void 0;class N{constructor(g){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=g}emitKeyDown(g){this.onKeyDown&&this.onKeyDown(g)}emitKeyUp(g){this.onKeyUp&&this.onKeyUp(g)}emitContextMenu(g){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(g))}emitMouseMove(g){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(g))}emitMouseLeave(g){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(g))}emitMouseDown(g){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(g))}emitMouseUp(g){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(g))}emitMouseDrag(g){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(g))}emitMouseDrop(g){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(g))}emitMouseDropCanceled(){this.onMouseDropCanceled&&this.onMouseDropCanceled()}emitMouseWheel(g){this.onMouseWheel&&this.onMouseWheel(g)}_convertViewToModelMouseEvent(g){return g.target?{event:g.event,target:this._convertViewToModelMouseTarget(g.target)}:g}_convertViewToModelMouseTarget(g){return N.convertViewToModelMouseTarget(g,this._coordinatesConverter)}static convertViewToModelMouseTarget(g,S){return new M(g.element,g.type,g.mouseColumn,g.position?S.convertViewPositionToModelPosition(g.position):null,g.range?S.convertViewRangeToModelRange(g.range):null,g.detail)}}e.ViewUserInputEvents=N;class M{constructor(g,S,b,p,v,i){this.element=g,this.type=S,this.mouseColumn=b,this.position=p,this.range=v,this.detail=i}toString(){return L.MouseTarget.toString(this)}}}),define(ee[690],te([0,1,50,13,3]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColumnSelection=void 0;class E{static columnSelect(S,b,p,v,i,t){let a=Math.abs(i-p)+1,l=p>i,h=v>t,d=v<t,u=[];for(let n=0;n<a;n++){let r=p+(l?-n:n),s=L.CursorColumns.columnFromVisibleColumn2(S,b,r,v),o=L.CursorColumns.columnFromVisibleColumn2(S,b,r,t),m=L.CursorColumns.visibleColumnFromColumn2(S,b,new N.Position(r,s)),_=L.CursorColumns.visibleColumnFromColumn2(S,b,new N.Position(r,o));d&&(m>t||_<v)||h&&(_>v||m<t)||u.push(new L.SingleCursorState(new M.Range(r,s,r,s),0,new N.Position(r,o),0))}if(u.length===0)for(let n=0;n<a;n++){const r=p+(l?-n:n),s=b.getLineMaxColumn(r);u.push(new L.SingleCursorState(new M.Range(r,s,r,s),0,new N.Position(r,s),0))}return{viewStates:u,reversed:l,fromLineNumber:p,fromVisualColumn:v,toLineNumber:i,toVisualColumn:t}}static columnSelectLeft(S,b,p){let v=p.toViewVisualColumn;return v>0&&v--,E.columnSelect(S,b,p.fromViewLineNumber,p.fromViewVisualColumn,p.toViewLineNumber,v)}static columnSelectRight(S,b,p){let v=0;const i=Math.min(p.fromViewLineNumber,p.toViewLineNumber),t=Math.max(p.fromViewLineNumber,p.toViewLineNumber);for(let l=i;l<=t;l++){const h=b.getLineMaxColumn(l),d=L.CursorColumns.visibleColumnFromColumn2(S,b,new N.Position(l,h));v=Math.max(v,d)}let a=p.toViewVisualColumn;return a<v&&a++,this.columnSelect(S,b,p.fromViewLineNumber,p.fromViewVisualColumn,p.toViewLineNumber,a)}static columnSelectUp(S,b,p,v){const i=v?S.pageSize:1,t=Math.max(1,p.toViewLineNumber-i);return this.columnSelect(S,b,p.fromViewLineNumber,p.fromViewVisualColumn,t,p.toViewVisualColumn)}static columnSelectDown(S,b,p,v){const i=v?S.pageSize:1,t=Math.min(b.getLineCount(),p.toViewLineNumber+i);return this.columnSelect(S,b,p.fromViewLineNumber,p.fromViewVisualColumn,t,p.toViewVisualColumn)}}e.ColumnSelection=E}),define(ee[199],te([0,1,50,13,3,8,287]),function(Q,e,L,N,M,E,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveOperations=e.CursorPosition=void 0;class S{constructor(v,i,t){this._cursorPositionBrand=void 0,this.lineNumber=v,this.column=i,this.leftoverVisibleColumns=t}}e.CursorPosition=S;class b{static leftPosition(v,i){if(i.column>v.getLineMinColumn(i.lineNumber))return i.delta(void 0,-E.prevCharLength(v.getLineContent(i.lineNumber),i.column-1));if(i.lineNumber>1){const t=i.lineNumber-1;return new N.Position(t,v.getLineMaxColumn(t))}else return i}static leftPositionAtomicSoftTabs(v,i,t){if(i.column<=v.getLineIndentColumn(i.lineNumber)){const a=v.getLineMinColumn(i.lineNumber),l=v.getLineContent(i.lineNumber),h=g.AtomicTabMoveOperations.atomicPosition(l,i.column-1,t,0);if(h!==-1&&h+1>=a)return new N.Position(i.lineNumber,h+1)}return this.leftPosition(v,i)}static left(v,i,t){const a=v.stickyTabStops?b.leftPositionAtomicSoftTabs(i,t,v.tabSize):b.leftPosition(i,t);return new S(a.lineNumber,a.column,0)}static moveLeft(v,i,t,a,l){let h,d;if(t.hasSelection()&&!a)h=t.selection.startLineNumber,d=t.selection.startColumn;else{const u=t.position.delta(void 0,-(l-1)),n=i.normalizePosition(b.clipPositionColumn(u,i),0),r=b.left(v,i,n);h=r.lineNumber,d=r.column}return t.move(a,h,d,0)}static clipPositionColumn(v,i){return new N.Position(v.lineNumber,b.clipRange(v.column,i.getLineMinColumn(v.lineNumber),i.getLineMaxColumn(v.lineNumber)))}static clipRange(v,i,t){return v<i?i:v>t?t:v}static rightPosition(v,i,t){return t<v.getLineMaxColumn(i)?t=t+E.nextCharLength(v.getLineContent(i),t-1):i<v.getLineCount()&&(i=i+1,t=v.getLineMinColumn(i)),new N.Position(i,t)}static rightPositionAtomicSoftTabs(v,i,t,a,l){if(t<v.getLineIndentColumn(i)){const h=v.getLineContent(i),d=g.AtomicTabMoveOperations.atomicPosition(h,t-1,a,1);if(d!==-1)return new N.Position(i,d+1)}return this.rightPosition(v,i,t)}static right(v,i,t){const a=v.stickyTabStops?b.rightPositionAtomicSoftTabs(i,t.lineNumber,t.column,v.tabSize,v.indentSize):b.rightPosition(i,t.lineNumber,t.column);return new S(a.lineNumber,a.column,0)}static moveRight(v,i,t,a,l){let h,d;if(t.hasSelection()&&!a)h=t.selection.endLineNumber,d=t.selection.endColumn;else{const u=t.position.delta(void 0,l-1),n=i.normalizePosition(b.clipPositionColumn(u,i),1),r=b.right(v,i,n);h=r.lineNumber,d=r.column}return t.move(a,h,d,0)}static vertical(v,i,t,a,l,h,d){const u=L.CursorColumns.visibleColumnFromColumn(i.getLineContent(t),a,v.tabSize)+l,n=i.getLineCount(),r=t===1&&a===1,s=t===n&&a===i.getLineMaxColumn(t),o=h<t?r:s;return t=h,t<1?(t=1,d?a=i.getLineMinColumn(t):a=Math.min(i.getLineMaxColumn(t),a)):t>n?(t=n,d?a=i.getLineMaxColumn(t):a=Math.min(i.getLineMaxColumn(t),a)):a=L.CursorColumns.columnFromVisibleColumn2(v,i,t,u),o?l=0:l=u-L.CursorColumns.visibleColumnFromColumn(i.getLineContent(t),a,v.tabSize),new S(t,a,l)}static down(v,i,t,a,l,h,d){return this.vertical(v,i,t,a,l,t+h,d)}static moveDown(v,i,t,a,l){let h,d;t.hasSelection()&&!a?(h=t.selection.endLineNumber,d=t.selection.endColumn):(h=t.position.lineNumber,d=t.position.column);let u=b.down(v,i,h,d,t.leftoverVisibleColumns,l,!0);return t.move(a,u.lineNumber,u.column,u.leftoverVisibleColumns)}static translateDown(v,i,t){let a=t.selection,l=b.down(v,i,a.selectionStartLineNumber,a.selectionStartColumn,t.selectionStartLeftoverVisibleColumns,1,!1),h=b.down(v,i,a.positionLineNumber,a.positionColumn,t.leftoverVisibleColumns,1,!1);return new L.SingleCursorState(new M.Range(l.lineNumber,l.column,l.lineNumber,l.column),l.leftoverVisibleColumns,new N.Position(h.lineNumber,h.column),h.leftoverVisibleColumns)}static up(v,i,t,a,l,h,d){return this.vertical(v,i,t,a,l,t-h,d)}static moveUp(v,i,t,a,l){let h,d;t.hasSelection()&&!a?(h=t.selection.startLineNumber,d=t.selection.startColumn):(h=t.position.lineNumber,d=t.position.column);let u=b.up(v,i,h,d,t.leftoverVisibleColumns,l,!0);return t.move(a,u.lineNumber,u.column,u.leftoverVisibleColumns)}static translateUp(v,i,t){let a=t.selection,l=b.up(v,i,a.selectionStartLineNumber,a.selectionStartColumn,t.selectionStartLeftoverVisibleColumns,1,!1),h=b.up(v,i,a.positionLineNumber,a.positionColumn,t.leftoverVisibleColumns,1,!1);return new L.SingleCursorState(new M.Range(l.lineNumber,l.column,l.lineNumber,l.column),l.leftoverVisibleColumns,new N.Position(h.lineNumber,h.column),h.leftoverVisibleColumns)}static _isBlankLine(v,i){return v.getLineFirstNonWhitespaceColumn(i)===0}static moveToPrevBlankLine(v,i,t,a){let l=t.position.lineNumber;for(;l>1&&this._isBlankLine(i,l);)l--;for(;l>1&&!this._isBlankLine(i,l);)l--;return t.move(a,l,i.getLineMinColumn(l),0)}static moveToNextBlankLine(v,i,t,a){const l=i.getLineCount();let h=t.position.lineNumber;for(;h<l&&this._isBlankLine(i,h);)h++;for(;h<l&&!this._isBlankLine(i,h);)h++;return t.move(a,h,i.getLineMinColumn(h),0)}static moveToBeginningOfLine(v,i,t,a){let l=t.position.lineNumber,h=i.getLineMinColumn(l),d=i.getLineFirstNonWhitespaceColumn(l)||h,u;return t.position.column===d?u=h:u=d,t.move(a,l,u,0)}static moveToEndOfLine(v,i,t,a,l){let h=t.position.lineNumber,d=i.getLineMaxColumn(h);return t.move(a,h,d,l?1073741824-d:0)}static moveToBeginningOfBuffer(v,i,t,a){return t.move(a,1,1,0)}static moveToEndOfBuffer(v,i,t,a){let l=i.getLineCount(),h=i.getLineMaxColumn(l);return t.move(a,l,h,0)}}e.MoveOperations=b}),define(ee[200],te([0,1,8,102,50,199,3,13]),function(Q,e,L,N,M,E,g,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteOperations=void 0;class b{static deleteRight(v,i,t,a){let l=[],h=v!==3;for(let d=0,u=a.length;d<u;d++){const n=a[d];let r=n;if(r.isEmpty()){let s=n.getPosition(),o=E.MoveOperations.right(i,t,s);r=new g.Range(o.lineNumber,o.column,s.lineNumber,s.column)}if(r.isEmpty()){l[d]=null;continue}r.startLineNumber!==r.endLineNumber&&(h=!0),l[d]=new N.ReplaceCommand(r,"")}return[h,l]}static isAutoClosingPairDelete(v,i,t,a,l,h,d){if(i==="never"&&t==="never"||v==="never")return!1;for(let u=0,n=h.length;u<n;u++){const r=h[u],s=r.getPosition();if(!r.isEmpty())return!1;const o=l.getLineContent(s.lineNumber);if(s.column<2||s.column>=o.length+1)return!1;const m=o.charAt(s.column-2),_=a.get(m);if(!_)return!1;if((0,M.isQuote)(m)){if(t==="never")return!1}else if(i==="never")return!1;const f=o.charAt(s.column-1);let c=!1;for(const C of _)C.open===m&&C.close===f&&(c=!0);if(!c)return!1;if(v==="auto"){let C=!1;for(let y=0,w=d.length;y<w;y++){const D=d[y];if(s.lineNumber===D.startLineNumber&&s.column===D.startColumn){C=!0;break}}if(!C)return!1}}return!0}static _runAutoClosingPairDelete(v,i,t){let a=[];for(let l=0,h=t.length;l<h;l++){const d=t[l].getPosition(),u=new g.Range(d.lineNumber,d.column-1,d.lineNumber,d.column+1);a[l]=new N.ReplaceCommand(u,"")}return[!0,a]}static deleteLeft(v,i,t,a,l){if(this.isAutoClosingPairDelete(i.autoClosingDelete,i.autoClosingBrackets,i.autoClosingQuotes,i.autoClosingPairs.autoClosingPairsOpenByEnd,t,a,l))return this._runAutoClosingPairDelete(i,t,a);const h=[];let d=v!==2;for(let u=0,n=a.length;u<n;u++){let r=b.getDeleteRange(a[u],t,i);if(r.isEmpty()){h[u]=null;continue}r.startLineNumber!==r.endLineNumber&&(d=!0),h[u]=new N.ReplaceCommand(r,"")}return[d,h]}static getDeleteRange(v,i,t){if(!v.isEmpty())return v;const a=v.getPosition();if(t.useTabStops&&a.column>1){const l=i.getLineContent(a.lineNumber),h=L.firstNonWhitespaceIndex(l),d=h===-1?l.length+1:h+1;if(a.column<=d){const u=M.CursorColumns.visibleColumnFromColumn2(t,i,a),n=M.CursorColumns.prevIndentTabStop(u,t.indentSize),r=M.CursorColumns.columnFromVisibleColumn2(t,i,a.lineNumber,n);return new g.Range(a.lineNumber,r,a.lineNumber,a.column)}}return g.Range.fromPositions(b.getPositionAfterDeleteLeft(a,i),a)}static getPositionAfterDeleteLeft(v,i){if(v.column>1){const t=L.getLeftDeleteOffset(v.column-1,i.getLineContent(v.lineNumber));return v.with(void 0,t+1)}else if(v.lineNumber>1){const t=v.lineNumber-1;return new S.Position(t,i.getLineMaxColumn(t))}else return v}static cut(v,i,t){let a=[],l=null;t.sort((h,d)=>S.Position.compare(h.getStartPosition(),d.getEndPosition()));for(let h=0,d=t.length;h<d;h++){const u=t[h];if(u.isEmpty())if(v.emptySelectionClipboard){let n=u.getPosition(),r,s,o,m;n.lineNumber<i.getLineCount()?(r=n.lineNumber,s=1,o=n.lineNumber+1,m=1):n.lineNumber>1&&(l==null?void 0:l.endLineNumber)!==n.lineNumber?(r=n.lineNumber-1,s=i.getLineMaxColumn(n.lineNumber-1),o=n.lineNumber,m=i.getLineMaxColumn(n.lineNumber)):(r=n.lineNumber,s=1,o=n.lineNumber,m=i.getLineMaxColumn(n.lineNumber));let _=new g.Range(r,s,o,m);l=_,_.isEmpty()?a[h]=null:a[h]=new N.ReplaceCommand(_,"")}else a[h]=null;else a[h]=new N.ReplaceCommand(u,"")}return new M.EditOperationResult(0,a,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}e.DeleteOperations=b}),define(ee[201],te([0,1,12,8,102,197,402,50,114,3,23,13,118,40,150]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TypeWithAutoClosingCommand=e.TypeOperations=void 0;class h{static indent(m,_,f){if(_===null||f===null)return[];let c=[];for(let C=0,y=f.length;C<y;C++)c[C]=new E.ShiftCommand(f[C],{isUnshift:!1,tabSize:m.tabSize,indentSize:m.indentSize,insertSpaces:m.insertSpaces,useTabStops:m.useTabStops,autoIndent:m.autoIndent});return c}static outdent(m,_,f){let c=[];for(let C=0,y=f.length;C<y;C++)c[C]=new E.ShiftCommand(f[C],{isUnshift:!0,tabSize:m.tabSize,indentSize:m.indentSize,insertSpaces:m.insertSpaces,useTabStops:m.useTabStops,autoIndent:m.autoIndent});return c}static shiftIndent(m,_,f){return f=f||1,E.ShiftCommand.shiftIndent(_,_.length+f,m.tabSize,m.indentSize,m.insertSpaces)}static unshiftIndent(m,_,f){return f=f||1,E.ShiftCommand.unshiftIndent(_,_.length+f,m.tabSize,m.indentSize,m.insertSpaces)}static _distributedPaste(m,_,f,c){let C=[];for(let y=0,w=f.length;y<w;y++)C[y]=new M.ReplaceCommand(f[y],c[y]);return new S.EditOperationResult(0,C,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(m,_,f,c,C){let y=[];for(let w=0,D=f.length;w<D;w++){const I=f[w];let T=I.getPosition();if(C&&!I.isEmpty()&&(C=!1),C&&c.indexOf(`
`)!==c.length-1&&(C=!1),C){let F=new p.Range(T.lineNumber,1,T.lineNumber,1);y[w]=new M.ReplaceCommandThatPreservesSelection(F,c,I,!0)}else y[w]=new M.ReplaceCommand(I,c)}return new S.EditOperationResult(0,y,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(m,_,f,c,C){if(c||_.length===1)return null;if(C&&C.length===_.length)return C;if(m.multiCursorPaste==="spread"){f.charCodeAt(f.length-1)===10&&(f=f.substr(0,f.length-1)),f.charCodeAt(f.length-1)===13&&(f=f.substr(0,f.length-1));let y=N.splitLines(f);if(y.length===_.length)return y}return null}static paste(m,_,f,c,C,y){const w=this._distributePasteToCursors(m,f,c,C,y);return w?(f=f.sort(p.Range.compareRangesUsingStarts),this._distributedPaste(m,_,f,w)):this._simplePaste(m,_,f,c,C)}static _goodIndentForLine(m,_,f){let c=null,C="";const y=a.LanguageConfigurationRegistry.getInheritIndentForLine(m.autoIndent,_,f,!1);if(y)c=y.action,C=y.indentation;else if(f>1){let w;for(w=f-1;w>=1;w--){const T=_.getLineContent(w);if(N.lastNonWhitespaceIndex(T)>=0)break}if(w<1)return null;const D=_.getLineMaxColumn(w),I=a.LanguageConfigurationRegistry.getEnterAction(m.autoIndent,_,new p.Range(w,D,w,D));I&&(C=I.indentation+I.appendText)}return c&&(c===t.IndentAction.Indent&&(C=h.shiftIndent(m,C)),c===t.IndentAction.Outdent&&(C=h.unshiftIndent(m,C)),C=m.normalizeIndentation(C)),C||null}static _replaceJumpToNextIndent(m,_,f,c){let C="",y=f.getStartPosition();if(m.insertSpaces){let w=S.CursorColumns.visibleColumnFromColumn2(m,_,y),D=m.indentSize,I=D-w%D;for(let T=0;T<I;T++)C+=" "}else C="	";return new M.ReplaceCommand(f,C,c)}static tab(m,_,f){let c=[];for(let C=0,y=f.length;C<y;C++){const w=f[C];if(w.isEmpty()){let D=_.getLineContent(w.startLineNumber);if(/^\s*$/.test(D)&&_.isCheapToTokenize(w.startLineNumber)){let I=this._goodIndentForLine(m,_,w.startLineNumber);I=I||"	";let T=m.normalizeIndentation(I);if(!D.startsWith(T)){c[C]=new M.ReplaceCommand(new p.Range(w.startLineNumber,1,w.startLineNumber,D.length+1),T,!0);continue}}c[C]=this._replaceJumpToNextIndent(m,_,w,!0)}else{if(w.startLineNumber===w.endLineNumber){let D=_.getLineMaxColumn(w.startLineNumber);if(w.startColumn!==1||w.endColumn!==D){c[C]=this._replaceJumpToNextIndent(m,_,w,!1);continue}}c[C]=new E.ShiftCommand(w,{isUnshift:!1,tabSize:m.tabSize,indentSize:m.indentSize,insertSpaces:m.insertSpaces,useTabStops:m.useTabStops,autoIndent:m.autoIndent})}}return c}static compositionType(m,_,f,c,C,y,w,D){const I=c.map(T=>this._compositionType(f,T,C,y,w,D));return new S.EditOperationResult(4,I,{shouldPushStackElementBefore:n(m,4),shouldPushStackElementAfter:!1})}static _compositionType(m,_,f,c,C,y){if(!_.isEmpty())return null;const w=_.getPosition(),D=Math.max(1,w.column-c),I=Math.min(m.getLineMaxColumn(w.lineNumber),w.column+C),T=new p.Range(w.lineNumber,D,w.lineNumber,I);return m.getValueInRange(T)===f&&y===0?null:new M.ReplaceCommandWithOffsetCursorState(T,f,0,y)}static _typeCommand(m,_,f){return f?new M.ReplaceCommandWithoutChangingPosition(m,_,!0):new M.ReplaceCommand(m,_,!0)}static _enter(m,_,f,c){if(m.autoIndent===0)return h._typeCommand(c,`
`,f);if(!_.isCheapToTokenize(c.getStartPosition().lineNumber)||m.autoIndent===1){let D=_.getLineContent(c.startLineNumber),I=N.getLeadingWhitespace(D).substring(0,c.startColumn-1);return h._typeCommand(c,`
`+m.normalizeIndentation(I),f)}const C=a.LanguageConfigurationRegistry.getEnterAction(m.autoIndent,_,c);if(C){if(C.indentAction===t.IndentAction.None)return h._typeCommand(c,`
`+m.normalizeIndentation(C.indentation+C.appendText),f);if(C.indentAction===t.IndentAction.Indent)return h._typeCommand(c,`
`+m.normalizeIndentation(C.indentation+C.appendText),f);if(C.indentAction===t.IndentAction.IndentOutdent){const D=m.normalizeIndentation(C.indentation),I=m.normalizeIndentation(C.indentation+C.appendText),T=`
`+I+`
`+D;return f?new M.ReplaceCommandWithoutChangingPosition(c,T,!0):new M.ReplaceCommandWithOffsetCursorState(c,T,-1,I.length-D.length,!0)}else if(C.indentAction===t.IndentAction.Outdent){const D=h.unshiftIndent(m,C.indentation);return h._typeCommand(c,`
`+m.normalizeIndentation(D+C.appendText),f)}}const y=_.getLineContent(c.startLineNumber),w=N.getLeadingWhitespace(y).substring(0,c.startColumn-1);if(m.autoIndent>=4){const D=a.LanguageConfigurationRegistry.getIndentForEnter(m.autoIndent,_,c,{unshiftIndent:I=>h.unshiftIndent(m,I),shiftIndent:I=>h.shiftIndent(m,I),normalizeIndentation:I=>m.normalizeIndentation(I)});if(D){let I=S.CursorColumns.visibleColumnFromColumn2(m,_,c.getEndPosition());const T=c.endColumn,F=_.getLineContent(c.endLineNumber),P=N.firstNonWhitespaceIndex(F);if(P>=0?c=c.setEndPosition(c.endLineNumber,Math.max(c.endColumn,P+1)):c=c.setEndPosition(c.endLineNumber,_.getLineMaxColumn(c.endLineNumber)),f)return new M.ReplaceCommandWithoutChangingPosition(c,`
`+m.normalizeIndentation(D.afterEnter),!0);{let R=0;return T<=P+1&&(m.insertSpaces||(I=Math.ceil(I/m.indentSize)),R=Math.min(I+1-m.normalizeIndentation(D.afterEnter).length-1,0)),new M.ReplaceCommandWithOffsetCursorState(c,`
`+m.normalizeIndentation(D.afterEnter),0,R,!0)}}}return h._typeCommand(c,`
`+m.normalizeIndentation(w),f)}static _isAutoIndentType(m,_,f){if(m.autoIndent<4)return!1;for(let c=0,C=f.length;c<C;c++)if(!_.isCheapToTokenize(f[c].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(m,_,f,c){const C=a.LanguageConfigurationRegistry.getIndentationAtPosition(_,f.startLineNumber,f.startColumn),y=a.LanguageConfigurationRegistry.getIndentActionForType(m.autoIndent,_,f,c,{shiftIndent:w=>h.shiftIndent(m,w),unshiftIndent:w=>h.unshiftIndent(m,w)});if(y===null)return null;if(y!==m.normalizeIndentation(C)){const w=_.getLineFirstNonWhitespaceColumn(f.startLineNumber);return w===0?h._typeCommand(new p.Range(f.startLineNumber,1,f.endLineNumber,f.endColumn),m.normalizeIndentation(y)+c,!1):h._typeCommand(new p.Range(f.startLineNumber,1,f.endLineNumber,f.endColumn),m.normalizeIndentation(y)+_.getLineContent(f.startLineNumber).substring(w-1,f.startColumn-1)+c,!1)}return null}static _isAutoClosingOvertype(m,_,f,c,C){if(m.autoClosingOvertype==="never"||!m.autoClosingPairs.autoClosingPairsCloseSingleChar.has(C))return!1;for(let y=0,w=f.length;y<w;y++){const D=f[y];if(!D.isEmpty())return!1;const I=D.getPosition(),T=_.getLineContent(I.lineNumber);if(T.charAt(I.column-1)!==C)return!1;const P=(0,S.isQuote)(C);if((I.column>2?T.charCodeAt(I.column-2):0)===92&&P)return!1;if(m.autoClosingOvertype==="auto"){let A=!1;for(let O=0,k=c.length;O<k;O++){const V=c[O];if(I.lineNumber===V.startLineNumber&&I.column===V.startColumn){A=!0;break}}if(!A)return!1}}return!0}static _runAutoClosingOvertype(m,_,f,c,C){let y=[];for(let w=0,D=c.length;w<D;w++){const T=c[w].getPosition(),F=new p.Range(T.lineNumber,T.column,T.lineNumber,T.column+1);y[w]=new M.ReplaceCommand(F,C)}return new S.EditOperationResult(4,y,{shouldPushStackElementBefore:n(m,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(m,_){const f=_.charAt(0),c=m.autoClosingPairs.autoClosingPairsOpenByStart.get(f)||[],C=m.autoClosingPairs.autoClosingPairsCloseByStart.get(f)||[],y=c.some(D=>_.startsWith(D.open)),w=C.some(D=>_.startsWith(D.close));return!y&&w}static _findAutoClosingPairOpen(m,_,f,c){const C=m.autoClosingPairs.autoClosingPairsOpenByEnd.get(c);if(!C)return null;let y=null;for(const w of C)if(y===null||w.open.length>y.open.length){let D=!0;for(const I of f)if(_.getValueInRange(new p.Range(I.lineNumber,I.column-w.open.length+1,I.lineNumber,I.column))+c!==w.open){D=!1;break}D&&(y=w)}return y}static _findContainedAutoClosingPair(m,_){if(_.open.length<=1)return null;const f=_.close.charAt(_.close.length-1),c=m.autoClosingPairs.autoClosingPairsCloseByEnd.get(f)||[];let C=null;for(const y of c)y.open!==_.open&&_.open.includes(y.open)&&_.close.endsWith(y.close)&&(!C||y.open.length>C.open.length)&&(C=y);return C}static _getAutoClosingPairClose(m,_,f,c,C){const y=(0,S.isQuote)(c),w=y?m.autoClosingQuotes:m.autoClosingBrackets,D=y?m.shouldAutoCloseBefore.quote:m.shouldAutoCloseBefore.bracket;if(w==="never")return null;for(const A of f)if(!A.isEmpty())return null;const I=f.map(A=>{const O=A.getPosition();return C?{lineNumber:O.lineNumber,beforeColumn:O.column-c.length,afterColumn:O.column}:{lineNumber:O.lineNumber,beforeColumn:O.column,afterColumn:O.column}}),T=this._findAutoClosingPairOpen(m,_,I.map(A=>new i.Position(A.lineNumber,A.beforeColumn)),c);if(!T)return null;const F=this._findContainedAutoClosingPair(m,T),P=F?F.close:"";let R=!0;for(const A of I){const{lineNumber:O,beforeColumn:k,afterColumn:V}=A,B=_.getLineContent(O),x=B.substring(0,k-1),K=B.substring(V-1);if(K.startsWith(P)||(R=!1),K.length>0){const H=K.charAt(0);if(!h._isBeforeClosingBrace(m,K)&&!D(H))return null}if(T.open.length===1&&(c==="'"||c==='"')&&w!=="always"){const H=(0,b.getMapForWordSeparators)(m.wordSeparators);if(x.length>0){const G=x.charCodeAt(x.length-1);if(H.get(G)===0)return null}}if(!_.isCheapToTokenize(O))return null;_.forceTokenization(O);const X=_.getLineTokens(O),Z=(0,l.createScopedLineTokens)(X,k-1);if(!T.shouldAutoClose(Z,k-Z.firstCharOffset))return null;const q=T.findNeutralCharacter();if(q){const H=_.getTokenTypeIfInsertingCharacter(O,k,q);if(!T.isOK(H))return null}}return R?T.close.substring(0,T.close.length-P.length):T.close}static _runAutoClosingOpenCharType(m,_,f,c,C,y,w){let D=[];for(let I=0,T=c.length;I<T;I++){const F=c[I];D[I]=new d(F,C,!y,w)}return new S.EditOperationResult(4,D,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(m,_){return(0,S.isQuote)(_)?m.autoSurround==="quotes"||m.autoSurround==="languageDefined":m.autoSurround==="brackets"||m.autoSurround==="languageDefined"}static _isSurroundSelectionType(m,_,f,c){if(!h._shouldSurroundChar(m,c)||!m.surroundingPairs.hasOwnProperty(c))return!1;const C=(0,S.isQuote)(c);for(let y=0,w=f.length;y<w;y++){const D=f[y];if(D.isEmpty())return!1;let I=!0;for(let T=D.startLineNumber;T<=D.endLineNumber;T++){const F=_.getLineContent(T),P=T===D.startLineNumber?D.startColumn-1:0,R=T===D.endLineNumber?D.endColumn-1:F.length,A=F.substring(P,R);if(/[^ \t]/.test(A)){I=!1;break}}if(I)return!1;if(C&&D.startLineNumber===D.endLineNumber&&D.startColumn+1===D.endColumn){const T=_.getValueInRange(D);if((0,S.isQuote)(T))return!1}}return!0}static _runSurroundSelectionType(m,_,f,c,C){let y=[];for(let w=0,D=c.length;w<D;w++){const I=c[w],T=_.surroundingPairs[C];y[w]=new g.SurroundSelectionCommand(I,C,T)}return new S.EditOperationResult(0,y,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(m,_,f){return!!(f.length===1&&_.isCheapToTokenize(f[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(m,_,f,c,C){if(!_.electricChars.hasOwnProperty(C)||!c.isEmpty())return null;let y=c.getPosition();f.forceTokenization(y.lineNumber);let w=f.getLineTokens(y.lineNumber),D;try{D=a.LanguageConfigurationRegistry.onElectricCharacter(C,w,y.column)}catch(I){return(0,L.onUnexpectedError)(I),null}if(!D)return null;if(D.matchOpenBracket){let I=(w.getLineContent()+C).lastIndexOf(D.matchOpenBracket)+1,T=f.bracketPairs.findMatchingBracketUp(D.matchOpenBracket,{lineNumber:y.lineNumber,column:I});if(T){if(T.startLineNumber===y.lineNumber)return null;let F=f.getLineContent(T.startLineNumber),P=N.getLeadingWhitespace(F),R=_.normalizeIndentation(P),A=f.getLineContent(y.lineNumber),O=f.getLineFirstNonWhitespaceColumn(y.lineNumber)||y.column,k=A.substring(O-1,y.column-1),V=R+k+C,B=new p.Range(y.lineNumber,1,y.lineNumber,y.column);const x=new M.ReplaceCommand(B,V);return new S.EditOperationResult(u(V,m),[x],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(m,_,f,c,C,y){if(!c||v.Selection.selectionsArrEqual(c,C))return null;let w=null;for(const I of C){if(!I.isEmpty())return null;const T=I.getPosition(),F=f.getValueInRange(new p.Range(T.lineNumber,T.column-1,T.lineNumber,T.column));if(w===null)w=F;else if(w!==F)return null}if(!w)return null;if(this._isAutoClosingOvertype(_,f,C,y,w)){const I=C.map(T=>new M.ReplaceCommand(new p.Range(T.positionLineNumber,T.positionColumn,T.positionLineNumber,T.positionColumn+1),"",!1));return new S.EditOperationResult(4,I,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const D=this._getAutoClosingPairClose(_,f,C,w,!0);return D!==null?this._runAutoClosingOpenCharType(m,_,f,C,w,!0,D):null}static typeWithInterceptors(m,_,f,c,C,y,w){if(!m&&w===`
`){let T=[];for(let F=0,P=C.length;F<P;F++)T[F]=h._enter(f,c,!1,C[F]);return new S.EditOperationResult(4,T,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!m&&this._isAutoIndentType(f,c,C)){let T=[],F=!1;for(let P=0,R=C.length;P<R;P++)if(T[P]=this._runAutoIndentType(f,c,C[P],w),!T[P]){F=!0;break}if(!F)return new S.EditOperationResult(4,T,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!m&&this._isAutoClosingOvertype(f,c,C,y,w))return this._runAutoClosingOvertype(_,f,c,C,w);if(!m){const T=this._getAutoClosingPairClose(f,c,C,w,!1);if(T)return this._runAutoClosingOpenCharType(_,f,c,C,w,!1,T)}if(this._isSurroundSelectionType(f,c,C,w))return this._runSurroundSelectionType(_,f,c,C,w);if(!m&&this._isTypeInterceptorElectricChar(f,c,C)){const T=this._typeInterceptorElectricChar(_,f,c,C[0],w);if(T)return T}let D=[];for(let T=0,F=C.length;T<F;T++)D[T]=new M.ReplaceCommand(C[T],w);const I=u(w,_);return new S.EditOperationResult(I,D,{shouldPushStackElementBefore:n(_,I),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(m,_,f,c,C){let y=[];for(let D=0,I=c.length;D<I;D++)y[D]=new M.ReplaceCommand(c[D],C);const w=u(C,m);return new S.EditOperationResult(w,y,{shouldPushStackElementBefore:n(m,w),shouldPushStackElementAfter:!1})}static lineInsertBefore(m,_,f){if(_===null||f===null)return[];let c=[];for(let C=0,y=f.length;C<y;C++){let w=f[C].positionLineNumber;if(w===1)c[C]=new M.ReplaceCommandWithoutChangingPosition(new p.Range(1,1,1,1),`
`);else{w--;let D=_.getLineMaxColumn(w);c[C]=this._enter(m,_,!1,new p.Range(w,D,w,D))}}return c}static lineInsertAfter(m,_,f){if(_===null||f===null)return[];let c=[];for(let C=0,y=f.length;C<y;C++){const w=f[C].positionLineNumber;let D=_.getLineMaxColumn(w);c[C]=this._enter(m,_,!1,new p.Range(w,D,w,D))}return c}static lineBreakInsert(m,_,f){let c=[];for(let C=0,y=f.length;C<y;C++)c[C]=this._enter(m,_,!0,f[C]);return c}}e.TypeOperations=h;class d extends M.ReplaceCommandWithOffsetCursorState{constructor(m,_,f,c){super(m,(f?_:"")+c,0,-c.length);this._openCharacter=_,this._closeCharacter=c,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(m,_){let c=_.getInverseEditOperations()[0].range;return this.closeCharacterRange=new p.Range(c.startLineNumber,c.endColumn-this._closeCharacter.length,c.endLineNumber,c.endColumn),this.enclosingRange=new p.Range(c.startLineNumber,c.endColumn-this._openCharacter.length-this._closeCharacter.length,c.endLineNumber,c.endColumn),super.computeCursorState(m,_)}}e.TypeWithAutoClosingCommand=d;function u(o,m){return o===" "?m===5||m===6?6:5:4}function n(o,m){return s(o)&&!s(m)?!0:o===5?!1:r(o)!==r(m)}function r(o){return o===6||o===5?"space":o}function s(o){return o===4||o===5||o===6}}),define(ee[162],te([0,1,8,50,200,114,13,3]),function(Q,e,L,N,M,E,g,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordPartOperations=e.WordOperations=void 0;class b{static _createWord(t,a,l,h,d){return{start:h,end:d,wordType:a,nextCharClass:l}}static _findPreviousWordOnLine(t,a,l){let h=a.getLineContent(l.lineNumber);return this._doFindPreviousWordOnLine(h,t,l)}static _doFindPreviousWordOnLine(t,a,l){let h=0;for(let d=l.column-2;d>=0;d--){let u=t.charCodeAt(d),n=a.get(u);if(n===0){if(h===2)return this._createWord(t,h,n,d+1,this._findEndOfWord(t,a,h,d+1));h=1}else if(n===2){if(h===1)return this._createWord(t,h,n,d+1,this._findEndOfWord(t,a,h,d+1));h=2}else if(n===1&&h!==0)return this._createWord(t,h,n,d+1,this._findEndOfWord(t,a,h,d+1))}return h!==0?this._createWord(t,h,1,0,this._findEndOfWord(t,a,h,0)):null}static _findEndOfWord(t,a,l,h){let d=t.length;for(let u=h;u<d;u++){let n=t.charCodeAt(u),r=a.get(n);if(r===1||l===1&&r===2||l===2&&r===0)return u}return d}static _findNextWordOnLine(t,a,l){let h=a.getLineContent(l.lineNumber);return this._doFindNextWordOnLine(h,t,l)}static _doFindNextWordOnLine(t,a,l){let h=0,d=t.length;for(let u=l.column-1;u<d;u++){let n=t.charCodeAt(u),r=a.get(n);if(r===0){if(h===2)return this._createWord(t,h,r,this._findStartOfWord(t,a,h,u-1),u);h=1}else if(r===2){if(h===1)return this._createWord(t,h,r,this._findStartOfWord(t,a,h,u-1),u);h=2}else if(r===1&&h!==0)return this._createWord(t,h,r,this._findStartOfWord(t,a,h,u-1),u)}return h!==0?this._createWord(t,h,1,this._findStartOfWord(t,a,h,d-1),d):null}static _findStartOfWord(t,a,l,h){for(let d=h;d>=0;d--){let u=t.charCodeAt(d),n=a.get(u);if(n===1||l===1&&n===2||l===2&&n===0)return d+1}return 0}static moveWordLeft(t,a,l,h){let d=l.lineNumber,u=l.column;u===1&&d>1&&(d=d-1,u=a.getLineMaxColumn(d));let n=b._findPreviousWordOnLine(t,a,new g.Position(d,u));if(h===0)return new g.Position(d,n?n.start+1:1);if(h===1)return n&&n.wordType===2&&n.end-n.start==1&&n.nextCharClass===0&&(n=b._findPreviousWordOnLine(t,a,new g.Position(d,n.start+1))),new g.Position(d,n?n.start+1:1);if(h===3){for(;n&&n.wordType===2;)n=b._findPreviousWordOnLine(t,a,new g.Position(d,n.start+1));return new g.Position(d,n?n.start+1:1)}return n&&u<=n.end+1&&(n=b._findPreviousWordOnLine(t,a,new g.Position(d,n.start+1))),new g.Position(d,n?n.end+1:1)}static _moveWordPartLeft(t,a){const l=a.lineNumber,h=t.getLineMaxColumn(l);if(a.column===1)return l>1?new g.Position(l-1,t.getLineMaxColumn(l-1)):a;const d=t.getLineContent(l);for(let u=a.column-1;u>1;u--){const n=d.charCodeAt(u-2),r=d.charCodeAt(u-1);if(n===95&&r!==95)return new g.Position(l,u);if(L.isLowerAsciiLetter(n)&&L.isUpperAsciiLetter(r))return new g.Position(l,u);if(L.isUpperAsciiLetter(n)&&L.isUpperAsciiLetter(r)&&u+1<h){const s=d.charCodeAt(u);if(L.isLowerAsciiLetter(s))return new g.Position(l,u)}}return new g.Position(l,1)}static moveWordRight(t,a,l,h){let d=l.lineNumber,u=l.column,n=!1;u===a.getLineMaxColumn(d)&&d<a.getLineCount()&&(n=!0,d=d+1,u=1);let r=b._findNextWordOnLine(t,a,new g.Position(d,u));if(h===2)r&&r.wordType===2&&r.end-r.start==1&&r.nextCharClass===0&&(r=b._findNextWordOnLine(t,a,new g.Position(d,r.end+1))),r?u=r.end+1:u=a.getLineMaxColumn(d);else if(h===3){for(n&&(u=0);r&&(r.wordType===2||r.start+1<=u);)r=b._findNextWordOnLine(t,a,new g.Position(d,r.end+1));r?u=r.start+1:u=a.getLineMaxColumn(d)}else r&&!n&&u>=r.start+1&&(r=b._findNextWordOnLine(t,a,new g.Position(d,r.end+1))),r?u=r.start+1:u=a.getLineMaxColumn(d);return new g.Position(d,u)}static _moveWordPartRight(t,a){const l=a.lineNumber,h=t.getLineMaxColumn(l);if(a.column===h)return l<t.getLineCount()?new g.Position(l+1,1):a;const d=t.getLineContent(l);for(let u=a.column+1;u<h;u++){const n=d.charCodeAt(u-2),r=d.charCodeAt(u-1);if(n!==95&&r===95)return new g.Position(l,u);if(L.isLowerAsciiLetter(n)&&L.isUpperAsciiLetter(r))return new g.Position(l,u);if(L.isUpperAsciiLetter(n)&&L.isUpperAsciiLetter(r)&&u+1<h){const s=d.charCodeAt(u);if(L.isLowerAsciiLetter(s))return new g.Position(l,u)}}return new g.Position(l,h)}static _deleteWordLeftWhitespace(t,a){const l=t.getLineContent(a.lineNumber),h=a.column-2,d=L.lastNonWhitespaceIndex(l,h);return d+1<h?new S.Range(a.lineNumber,d+2,a.lineNumber,a.column):null}static deleteWordLeft(t,a){const l=t.wordSeparators,h=t.model,d=t.selection,u=t.whitespaceHeuristics;if(!d.isEmpty())return d;if(M.DeleteOperations.isAutoClosingPairDelete(t.autoClosingDelete,t.autoClosingBrackets,t.autoClosingQuotes,t.autoClosingPairs.autoClosingPairsOpenByEnd,t.model,[t.selection],t.autoClosedCharacters)){const m=t.selection.getPosition();return new S.Range(m.lineNumber,m.column-1,m.lineNumber,m.column+1)}const n=new g.Position(d.positionLineNumber,d.positionColumn);let r=n.lineNumber,s=n.column;if(r===1&&s===1)return null;if(u){let m=this._deleteWordLeftWhitespace(h,n);if(m)return m}let o=b._findPreviousWordOnLine(l,h,n);return a===0?o?s=o.start+1:s>1?s=1:(r--,s=h.getLineMaxColumn(r)):(o&&s<=o.end+1&&(o=b._findPreviousWordOnLine(l,h,new g.Position(r,o.start+1))),o?s=o.end+1:s>1?s=1:(r--,s=h.getLineMaxColumn(r))),new S.Range(r,s,n.lineNumber,n.column)}static deleteInsideWord(t,a,l){if(!l.isEmpty())return l;const h=new g.Position(l.positionLineNumber,l.positionColumn);let d=this._deleteInsideWordWhitespace(a,h);return d||this._deleteInsideWordDetermineDeleteRange(t,a,h)}static _charAtIsWhitespace(t,a){const l=t.charCodeAt(a);return l===32||l===9}static _deleteInsideWordWhitespace(t,a){const l=t.getLineContent(a.lineNumber),h=l.length;if(h===0)return null;let d=Math.max(a.column-2,0);if(!this._charAtIsWhitespace(l,d))return null;let u=Math.min(a.column-1,h-1);if(!this._charAtIsWhitespace(l,u))return null;for(;d>0&&this._charAtIsWhitespace(l,d-1);)d--;for(;u+1<h&&this._charAtIsWhitespace(l,u+1);)u++;return new S.Range(a.lineNumber,d+1,a.lineNumber,u+2)}static _deleteInsideWordDetermineDeleteRange(t,a,l){const h=a.getLineContent(l.lineNumber),d=h.length;if(d===0)return l.lineNumber>1?new S.Range(l.lineNumber-1,a.getLineMaxColumn(l.lineNumber-1),l.lineNumber,1):l.lineNumber<a.getLineCount()?new S.Range(l.lineNumber,1,l.lineNumber+1,1):new S.Range(l.lineNumber,1,l.lineNumber,1);const u=m=>m.start+1<=l.column&&l.column<=m.end+1,n=(m,_)=>(m=Math.min(m,l.column),_=Math.max(_,l.column),new S.Range(l.lineNumber,m,l.lineNumber,_)),r=m=>{let _=m.start+1,f=m.end+1,c=!1;for(;f-1<d&&this._charAtIsWhitespace(h,f-1);)c=!0,f++;if(!c)for(;_>1&&this._charAtIsWhitespace(h,_-2);)_--;return n(_,f)},s=b._findPreviousWordOnLine(t,a,l);if(s&&u(s))return r(s);const o=b._findNextWordOnLine(t,a,l);return o&&u(o)?r(o):s&&o?n(s.end+1,o.start+1):s?n(s.start+1,s.end+1):o?n(o.start+1,o.end+1):n(1,d+1)}static _deleteWordPartLeft(t,a){if(!a.isEmpty())return a;const l=a.getPosition(),h=b._moveWordPartLeft(t,l);return new S.Range(l.lineNumber,l.column,h.lineNumber,h.column)}static _findFirstNonWhitespaceChar(t,a){let l=t.length;for(let h=a;h<l;h++){let d=t.charAt(h);if(d!==" "&&d!=="	")return h}return l}static _deleteWordRightWhitespace(t,a){const l=t.getLineContent(a.lineNumber),h=a.column-1,d=this._findFirstNonWhitespaceChar(l,h);return h+1<d?new S.Range(a.lineNumber,a.column,a.lineNumber,d+1):null}static deleteWordRight(t,a){const l=t.wordSeparators,h=t.model,d=t.selection,u=t.whitespaceHeuristics;if(!d.isEmpty())return d;const n=new g.Position(d.positionLineNumber,d.positionColumn);let r=n.lineNumber,s=n.column;const o=h.getLineCount(),m=h.getLineMaxColumn(r);if(r===o&&s===m)return null;if(u){let f=this._deleteWordRightWhitespace(h,n);if(f)return f}let _=b._findNextWordOnLine(l,h,n);return a===2?_?s=_.end+1:s<m||r===o?s=m:(r++,_=b._findNextWordOnLine(l,h,new g.Position(r,1)),_?s=_.start+1:s=h.getLineMaxColumn(r)):(_&&s>=_.start+1&&(_=b._findNextWordOnLine(l,h,new g.Position(r,_.end+1))),_?s=_.start+1:s<m||r===o?s=m:(r++,_=b._findNextWordOnLine(l,h,new g.Position(r,1)),_?s=_.start+1:s=h.getLineMaxColumn(r))),new S.Range(r,s,n.lineNumber,n.column)}static _deleteWordPartRight(t,a){if(!a.isEmpty())return a;const l=a.getPosition(),h=b._moveWordPartRight(t,l);return new S.Range(l.lineNumber,l.column,h.lineNumber,h.column)}static _createWordAtPosition(t,a,l){const h=new S.Range(a,l.start+1,a,l.end+1);return{word:t.getValueInRange(h),startColumn:h.startColumn,endColumn:h.endColumn}}static getWordAtPosition(t,a,l){const h=(0,E.getMapForWordSeparators)(a),d=b._findPreviousWordOnLine(h,t,l);if(d&&d.wordType===1&&d.start<=l.column-1&&l.column-1<=d.end)return b._createWordAtPosition(t,l.lineNumber,d);const u=b._findNextWordOnLine(h,t,l);return u&&u.wordType===1&&u.start<=l.column-1&&l.column-1<=u.end?b._createWordAtPosition(t,l.lineNumber,u):null}static word(t,a,l,h,d){const u=(0,E.getMapForWordSeparators)(t.wordSeparators);let n=b._findPreviousWordOnLine(u,a,d),r=b._findNextWordOnLine(u,a,d);if(!h){let f,c;return n&&n.wordType===1&&n.start<=d.column-1&&d.column-1<=n.end?(f=n.start+1,c=n.end+1):r&&r.wordType===1&&r.start<=d.column-1&&d.column-1<=r.end?(f=r.start+1,c=r.end+1):(n?f=n.end+1:f=1,r?c=r.start+1:c=a.getLineMaxColumn(d.lineNumber)),new N.SingleCursorState(new S.Range(d.lineNumber,f,d.lineNumber,c),0,new g.Position(d.lineNumber,c),0)}let s,o;n&&n.wordType===1&&n.start<d.column-1&&d.column-1<n.end?(s=n.start+1,o=n.end+1):r&&r.wordType===1&&r.start<d.column-1&&d.column-1<r.end?(s=r.start+1,o=r.end+1):(s=d.column,o=d.column);let m=d.lineNumber,_;if(l.selectionStart.containsPosition(d))_=l.selectionStart.endColumn;else if(d.isBeforeOrEqual(l.selectionStart.getStartPosition())){_=s;let f=new g.Position(m,_);l.selectionStart.containsPosition(f)&&(_=l.selectionStart.endColumn)}else{_=o;let f=new g.Position(m,_);l.selectionStart.containsPosition(f)&&(_=l.selectionStart.startColumn)}return l.move(!0,m,_,0)}}e.WordOperations=b;class p extends b{static deleteWordPartLeft(t){const a=v([b.deleteWordLeft(t,0),b.deleteWordLeft(t,2),b._deleteWordPartLeft(t.model,t.selection)]);return a.sort(S.Range.compareRangesUsingEnds),a[2]}static deleteWordPartRight(t){const a=v([b.deleteWordRight(t,0),b.deleteWordRight(t,2),b._deleteWordPartRight(t.model,t.selection)]);return a.sort(S.Range.compareRangesUsingStarts),a[0]}static moveWordPartLeft(t,a,l){const h=v([b.moveWordLeft(t,a,l,0),b.moveWordLeft(t,a,l,2),b._moveWordPartLeft(a,l)]);return h.sort(g.Position.compare),h[2]}static moveWordPartRight(t,a,l){const h=v([b.moveWordRight(t,a,l,0),b.moveWordRight(t,a,l,2),b._moveWordPartRight(a,l)]);return h.sort(g.Position.compare),h[0]}}e.WordPartOperations=p;function v(i){return i.filter(t=>Boolean(t))}}),define(ee[202],te([0,1,20,50,199,162,13,3]),function(Q,e,L,N,M,E,g,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorMove=e.CursorMoveCommands=void 0;class b{static addCursorDown(i,t,a){let l=[],h=0;for(let d=0,u=t.length;d<u;d++){const n=t[d];l[h++]=new N.CursorState(n.modelState,n.viewState),a?l[h++]=N.CursorState.fromModelState(M.MoveOperations.translateDown(i.cursorConfig,i.model,n.modelState)):l[h++]=N.CursorState.fromViewState(M.MoveOperations.translateDown(i.cursorConfig,i,n.viewState))}return l}static addCursorUp(i,t,a){let l=[],h=0;for(let d=0,u=t.length;d<u;d++){const n=t[d];l[h++]=new N.CursorState(n.modelState,n.viewState),a?l[h++]=N.CursorState.fromModelState(M.MoveOperations.translateUp(i.cursorConfig,i.model,n.modelState)):l[h++]=N.CursorState.fromViewState(M.MoveOperations.translateUp(i.cursorConfig,i,n.viewState))}return l}static moveToBeginningOfLine(i,t,a){let l=[];for(let h=0,d=t.length;h<d;h++){const u=t[h];l[h]=this._moveToLineStart(i,u,a)}return l}static _moveToLineStart(i,t,a){const l=t.viewState.position.column,h=t.modelState.position.column,d=l===h,u=t.viewState.position.lineNumber,n=i.getLineFirstNonWhitespaceColumn(u);return!d&&!(l===n)?this._moveToLineStartByView(i,t,a):this._moveToLineStartByModel(i,t,a)}static _moveToLineStartByView(i,t,a){return N.CursorState.fromViewState(M.MoveOperations.moveToBeginningOfLine(i.cursorConfig,i,t.viewState,a))}static _moveToLineStartByModel(i,t,a){return N.CursorState.fromModelState(M.MoveOperations.moveToBeginningOfLine(i.cursorConfig,i.model,t.modelState,a))}static moveToEndOfLine(i,t,a,l){let h=[];for(let d=0,u=t.length;d<u;d++){const n=t[d];h[d]=this._moveToLineEnd(i,n,a,l)}return h}static _moveToLineEnd(i,t,a,l){const h=t.viewState.position,d=i.getLineMaxColumn(h.lineNumber),u=h.column===d,n=t.modelState.position,r=i.model.getLineMaxColumn(n.lineNumber),s=d-h.column==r-n.column;return u||s?this._moveToLineEndByModel(i,t,a,l):this._moveToLineEndByView(i,t,a,l)}static _moveToLineEndByView(i,t,a,l){return N.CursorState.fromViewState(M.MoveOperations.moveToEndOfLine(i.cursorConfig,i,t.viewState,a,l))}static _moveToLineEndByModel(i,t,a,l){return N.CursorState.fromModelState(M.MoveOperations.moveToEndOfLine(i.cursorConfig,i.model,t.modelState,a,l))}static expandLineSelection(i,t){let a=[];for(let l=0,h=t.length;l<h;l++){const d=t[l],u=d.modelState.selection.startLineNumber,n=i.model.getLineCount();let r=d.modelState.selection.endLineNumber,s;r===n?s=i.model.getLineMaxColumn(n):(r++,s=1),a[l]=N.CursorState.fromModelState(new N.SingleCursorState(new S.Range(u,1,u,1),0,new g.Position(r,s),0))}return a}static moveToBeginningOfBuffer(i,t,a){let l=[];for(let h=0,d=t.length;h<d;h++){const u=t[h];l[h]=N.CursorState.fromModelState(M.MoveOperations.moveToBeginningOfBuffer(i.cursorConfig,i.model,u.modelState,a))}return l}static moveToEndOfBuffer(i,t,a){let l=[];for(let h=0,d=t.length;h<d;h++){const u=t[h];l[h]=N.CursorState.fromModelState(M.MoveOperations.moveToEndOfBuffer(i.cursorConfig,i.model,u.modelState,a))}return l}static selectAll(i,t){const a=i.model.getLineCount(),l=i.model.getLineMaxColumn(a);return N.CursorState.fromModelState(new N.SingleCursorState(new S.Range(1,1,1,1),0,new g.Position(a,l),0))}static line(i,t,a,l,h){const d=i.model.validatePosition(l),u=h?i.coordinatesConverter.validateViewPosition(new g.Position(h.lineNumber,h.column),d):i.coordinatesConverter.convertModelPositionToViewPosition(d);if(!a||!t.modelState.hasSelection()){const r=i.model.getLineCount();let s=d.lineNumber+1,o=1;return s>r&&(s=r,o=i.model.getLineMaxColumn(s)),N.CursorState.fromModelState(new N.SingleCursorState(new S.Range(d.lineNumber,1,s,o),0,new g.Position(s,o),0))}const n=t.modelState.selectionStart.getStartPosition().lineNumber;if(d.lineNumber<n)return N.CursorState.fromViewState(t.viewState.move(t.modelState.hasSelection(),u.lineNumber,1,0));if(d.lineNumber>n){const r=i.getLineCount();let s=u.lineNumber+1,o=1;return s>r&&(s=r,o=i.getLineMaxColumn(s)),N.CursorState.fromViewState(t.viewState.move(t.modelState.hasSelection(),s,o,0))}else{const r=t.modelState.selectionStart.getEndPosition();return N.CursorState.fromModelState(t.modelState.move(t.modelState.hasSelection(),r.lineNumber,r.column,0))}}static word(i,t,a,l){const h=i.model.validatePosition(l);return N.CursorState.fromModelState(E.WordOperations.word(i.cursorConfig,i.model,t.modelState,a,h))}static cancelSelection(i,t){if(!t.modelState.hasSelection())return new N.CursorState(t.modelState,t.viewState);const a=t.viewState.position.lineNumber,l=t.viewState.position.column;return N.CursorState.fromViewState(new N.SingleCursorState(new S.Range(a,l,a,l),0,new g.Position(a,l),0))}static moveTo(i,t,a,l,h){const d=i.model.validatePosition(l),u=h?i.coordinatesConverter.validateViewPosition(new g.Position(h.lineNumber,h.column),d):i.coordinatesConverter.convertModelPositionToViewPosition(d);return N.CursorState.fromViewState(t.viewState.move(a,u.lineNumber,u.column,0))}static simpleMove(i,t,a,l,h,d){switch(a){case 0:return d===4?this._moveHalfLineLeft(i,t,l):this._moveLeft(i,t,l,h);case 1:return d===4?this._moveHalfLineRight(i,t,l):this._moveRight(i,t,l,h);case 2:return d===2?this._moveUpByViewLines(i,t,l,h):this._moveUpByModelLines(i,t,l,h);case 3:return d===2?this._moveDownByViewLines(i,t,l,h):this._moveDownByModelLines(i,t,l,h);case 4:return d===2?t.map(u=>N.CursorState.fromViewState(M.MoveOperations.moveToPrevBlankLine(i.cursorConfig,i,u.viewState,l))):t.map(u=>N.CursorState.fromModelState(M.MoveOperations.moveToPrevBlankLine(i.cursorConfig,i.model,u.modelState,l)));case 5:return d===2?t.map(u=>N.CursorState.fromViewState(M.MoveOperations.moveToNextBlankLine(i.cursorConfig,i,u.viewState,l))):t.map(u=>N.CursorState.fromModelState(M.MoveOperations.moveToNextBlankLine(i.cursorConfig,i.model,u.modelState,l)));case 6:return this._moveToViewMinColumn(i,t,l);case 7:return this._moveToViewFirstNonWhitespaceColumn(i,t,l);case 8:return this._moveToViewCenterColumn(i,t,l);case 9:return this._moveToViewMaxColumn(i,t,l);case 10:return this._moveToViewLastNonWhitespaceColumn(i,t,l);default:return null}}static viewportMove(i,t,a,l,h){const d=i.getCompletelyVisibleViewRange(),u=i.coordinatesConverter.convertViewRangeToModelRange(d);switch(a){case 11:{const n=this._firstLineNumberInRange(i.model,u,h),r=i.model.getLineFirstNonWhitespaceColumn(n);return[this._moveToModelPosition(i,t[0],l,n,r)]}case 13:{const n=this._lastLineNumberInRange(i.model,u,h),r=i.model.getLineFirstNonWhitespaceColumn(n);return[this._moveToModelPosition(i,t[0],l,n,r)]}case 12:{const n=Math.round((u.startLineNumber+u.endLineNumber)/2),r=i.model.getLineFirstNonWhitespaceColumn(n);return[this._moveToModelPosition(i,t[0],l,n,r)]}case 14:{let n=[];for(let r=0,s=t.length;r<s;r++){const o=t[r];n[r]=this.findPositionInViewportIfOutside(i,o,d,l)}return n}default:return null}}static findPositionInViewportIfOutside(i,t,a,l){let h=t.viewState.position.lineNumber;if(a.startLineNumber<=h&&h<=a.endLineNumber-1)return new N.CursorState(t.modelState,t.viewState);{let d;h>a.endLineNumber-1?d=a.endLineNumber-1:h<a.startLineNumber?d=a.startLineNumber:d=h;const u=M.MoveOperations.vertical(i.cursorConfig,i,h,t.viewState.position.column,t.viewState.leftoverVisibleColumns,d,!1);return N.CursorState.fromViewState(t.viewState.move(l,u.lineNumber,u.column,u.leftoverVisibleColumns))}}static _firstLineNumberInRange(i,t,a){let l=t.startLineNumber;return t.startColumn!==i.getLineMinColumn(l)&&l++,Math.min(t.endLineNumber,l+a-1)}static _lastLineNumberInRange(i,t,a){let l=t.startLineNumber;return t.startColumn!==i.getLineMinColumn(l)&&l++,Math.max(l,t.endLineNumber-a+1)}static _moveLeft(i,t,a,l){return t.map(h=>N.CursorState.fromViewState(M.MoveOperations.moveLeft(i.cursorConfig,i,h.viewState,a,l)))}static _moveHalfLineLeft(i,t,a){let l=[];for(let h=0,d=t.length;h<d;h++){const u=t[h],n=u.viewState.position.lineNumber,r=Math.round(i.getLineContent(n).length/2);l[h]=N.CursorState.fromViewState(M.MoveOperations.moveLeft(i.cursorConfig,i,u.viewState,a,r))}return l}static _moveRight(i,t,a,l){return t.map(h=>N.CursorState.fromViewState(M.MoveOperations.moveRight(i.cursorConfig,i,h.viewState,a,l)))}static _moveHalfLineRight(i,t,a){let l=[];for(let h=0,d=t.length;h<d;h++){const u=t[h],n=u.viewState.position.lineNumber,r=Math.round(i.getLineContent(n).length/2);l[h]=N.CursorState.fromViewState(M.MoveOperations.moveRight(i.cursorConfig,i,u.viewState,a,r))}return l}static _moveDownByViewLines(i,t,a,l){let h=[];for(let d=0,u=t.length;d<u;d++){const n=t[d];h[d]=N.CursorState.fromViewState(M.MoveOperations.moveDown(i.cursorConfig,i,n.viewState,a,l))}return h}static _moveDownByModelLines(i,t,a,l){let h=[];for(let d=0,u=t.length;d<u;d++){const n=t[d];h[d]=N.CursorState.fromModelState(M.MoveOperations.moveDown(i.cursorConfig,i.model,n.modelState,a,l))}return h}static _moveUpByViewLines(i,t,a,l){let h=[];for(let d=0,u=t.length;d<u;d++){const n=t[d];h[d]=N.CursorState.fromViewState(M.MoveOperations.moveUp(i.cursorConfig,i,n.viewState,a,l))}return h}static _moveUpByModelLines(i,t,a,l){let h=[];for(let d=0,u=t.length;d<u;d++){const n=t[d];h[d]=N.CursorState.fromModelState(M.MoveOperations.moveUp(i.cursorConfig,i.model,n.modelState,a,l))}return h}static _moveToViewPosition(i,t,a,l,h){return N.CursorState.fromViewState(t.viewState.move(a,l,h,0))}static _moveToModelPosition(i,t,a,l,h){return N.CursorState.fromModelState(t.modelState.move(a,l,h,0))}static _moveToViewMinColumn(i,t,a){let l=[];for(let h=0,d=t.length;h<d;h++){const u=t[h],n=u.viewState.position.lineNumber,r=i.getLineMinColumn(n);l[h]=this._moveToViewPosition(i,u,a,n,r)}return l}static _moveToViewFirstNonWhitespaceColumn(i,t,a){let l=[];for(let h=0,d=t.length;h<d;h++){const u=t[h],n=u.viewState.position.lineNumber,r=i.getLineFirstNonWhitespaceColumn(n);l[h]=this._moveToViewPosition(i,u,a,n,r)}return l}static _moveToViewCenterColumn(i,t,a){let l=[];for(let h=0,d=t.length;h<d;h++){const u=t[h],n=u.viewState.position.lineNumber,r=Math.round((i.getLineMaxColumn(n)+i.getLineMinColumn(n))/2);l[h]=this._moveToViewPosition(i,u,a,n,r)}return l}static _moveToViewMaxColumn(i,t,a){let l=[];for(let h=0,d=t.length;h<d;h++){const u=t[h],n=u.viewState.position.lineNumber,r=i.getLineMaxColumn(n);l[h]=this._moveToViewPosition(i,u,a,n,r)}return l}static _moveToViewLastNonWhitespaceColumn(i,t,a){let l=[];for(let h=0,d=t.length;h<d;h++){const u=t[h],n=u.viewState.position.lineNumber,r=i.getLineLastNonWhitespaceColumn(n);l[h]=this._moveToViewPosition(i,u,a,n,r)}return l}}e.CursorMoveCommands=b;var p;(function(v){const i=function(a){if(!L.isObject(a))return!1;let l=a;return!(!L.isString(l.to)||!L.isUndefined(l.select)&&!L.isBoolean(l.select)||!L.isUndefined(l.by)&&!L.isString(l.by)||!L.isUndefined(l.value)&&!L.isNumber(l.value))};v.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:i,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},v.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},v.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function t(a){if(!a.to)return null;let l;switch(a.to){case v.RawDirection.Left:l=0;break;case v.RawDirection.Right:l=1;break;case v.RawDirection.Up:l=2;break;case v.RawDirection.Down:l=3;break;case v.RawDirection.PrevBlankLine:l=4;break;case v.RawDirection.NextBlankLine:l=5;break;case v.RawDirection.WrappedLineStart:l=6;break;case v.RawDirection.WrappedLineFirstNonWhitespaceCharacter:l=7;break;case v.RawDirection.WrappedLineColumnCenter:l=8;break;case v.RawDirection.WrappedLineEnd:l=9;break;case v.RawDirection.WrappedLineLastNonWhitespaceCharacter:l=10;break;case v.RawDirection.ViewPortTop:l=11;break;case v.RawDirection.ViewPortBottom:l=13;break;case v.RawDirection.ViewPortCenter:l=12;break;case v.RawDirection.ViewPortIfOutside:l=14;break;default:return null}let h=0;switch(a.by){case v.RawUnit.Line:h=1;break;case v.RawUnit.WrappedLine:h=2;break;case v.RawUnit.Character:h=3;break;case v.RawUnit.HalfLine:h=4;break}return{direction:l,unit:h,select:!!a.select,value:a.value||1}}v.parse=t})(p=e.CursorMove||(e.CursorMove={}))}),define(ee[163],te([0,1,482,36,20,45,16,30,690,50,200,202,201,13,3,25,17,77]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CoreEditingCommands=e.CoreNavigationCommands=e.RevealLine_=e.EditorScroll_=e.CoreEditorCommand=void 0;const n=0;class r extends g.EditorCommand{runEditorCommand(T,F,P){const R=F._getViewModel();!R||this.runCoreEditorCommand(R,P||{})}}e.CoreEditorCommand=r;var s;(function(I){const T=function(P){if(!M.isObject(P))return!1;const R=P;return!(!M.isString(R.to)||!M.isUndefined(R.by)&&!M.isString(R.by)||!M.isUndefined(R.value)&&!M.isNumber(R.value)||!M.isUndefined(R.revealCursor)&&!M.isBoolean(R.revealCursor))};I.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:T,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},I.RawDirection={Up:"up",Down:"down"},I.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"};function F(P){let R;switch(P.to){case I.RawDirection.Up:R=1;break;case I.RawDirection.Down:R=2;break;default:return null}let A;switch(P.by){case I.RawUnit.Line:A=1;break;case I.RawUnit.WrappedLine:A=2;break;case I.RawUnit.Page:A=3;break;case I.RawUnit.HalfPage:A=4;break;default:A=2}const O=Math.floor(P.value||1),k=!!P.revealCursor;return{direction:R,unit:A,value:O,revealCursor:k,select:!!P.select}}I.parse=F})(s=e.EditorScroll_||(e.EditorScroll_={}));var o;(function(I){const T=function(F){if(!M.isObject(F))return!1;const P=F;return!(!M.isNumber(P.lineNumber)&&!M.isString(P.lineNumber)||!M.isUndefined(P.at)&&!M.isString(P.at))};I.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:T,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},I.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(o=e.RevealLine_||(e.RevealLine_={}));class m{constructor(T){T.addImplementation(1e4,"code-editor",(F,P)=>{const R=F.get(S.ICodeEditorService).getFocusedCodeEditor();return R&&R.hasTextFocus()?this._runEditorCommand(F,R,P):!1}),T.addImplementation(1e3,"generic-dom-input-textarea",(F,P)=>{const R=document.activeElement;return R&&["input","textarea"].indexOf(R.tagName.toLowerCase())>=0?(this.runDOMCommand(),!0):!1}),T.addImplementation(0,"generic-dom",(F,P)=>{const R=F.get(S.ICodeEditorService).getActiveCodeEditor();return R?(R.focus(),this._runEditorCommand(F,R,P)):!1})}_runEditorCommand(T,F,P){const R=this.runEditorCommand(T,F,P);return R||!0}}var _;(function(I){class T extends r{constructor(W){super(W);this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,j){W.model.pushStackElement(),W.setCursorStates(j.source,3,[i.CursorMoveCommands.moveTo(W,W.getPrimaryCursorState(),this._inSelectionMode,j.position,j.viewPosition)]),W.revealPrimaryCursor(j.source,!0)}}I.MoveTo=(0,g.registerEditorCommand)(new T({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),I.MoveToSelect=(0,g.registerEditorCommand)(new T({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class F extends r{runCoreEditorCommand(W,j){W.model.pushStackElement();const U=this._getColumnSelectResult(W,W.getPrimaryCursorState(),W.getCursorColumnSelectData(),j);W.setCursorStates(j.source,3,U.viewStates.map(Y=>p.CursorState.fromViewState(Y))),W.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:U.fromLineNumber,fromViewVisualColumn:U.fromVisualColumn,toViewLineNumber:U.toLineNumber,toViewVisualColumn:U.toVisualColumn}),U.reversed?W.revealTopMostCursor(j.source):W.revealBottomMostCursor(j.source)}}I.ColumnSelect=(0,g.registerEditorCommand)(new class extends F{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(z,W,j,U){const Y=z.model.validatePosition(U.position),ne=z.coordinatesConverter.validateViewPosition(new a.Position(U.viewPosition.lineNumber,U.viewPosition.column),Y);let J=U.doColumnSelect?j.fromViewLineNumber:ne.lineNumber,re=U.doColumnSelect?j.fromViewVisualColumn:U.mouseColumn-1;return b.ColumnSelection.columnSelect(z.cursorConfig,z,J,re,ne.lineNumber,U.mouseColumn-1)}}),I.CursorColumnSelectLeft=(0,g.registerEditorCommand)(new class extends F{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:n,kbExpr:h.EditorContextKeys.textInputFocus,primary:2048|1024|512|15,linux:{primary:0}}})}_getColumnSelectResult(z,W,j,U){return b.ColumnSelection.columnSelectLeft(z.cursorConfig,z,j)}}),I.CursorColumnSelectRight=(0,g.registerEditorCommand)(new class extends F{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:n,kbExpr:h.EditorContextKeys.textInputFocus,primary:2048|1024|512|17,linux:{primary:0}}})}_getColumnSelectResult(z,W,j,U){return b.ColumnSelection.columnSelectRight(z.cursorConfig,z,j)}});class P extends F{constructor(W){super(W);this._isPaged=W.isPaged}_getColumnSelectResult(W,j,U,Y){return b.ColumnSelection.columnSelectUp(W.cursorConfig,W,U,this._isPaged)}}I.CursorColumnSelectUp=(0,g.registerEditorCommand)(new P({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:n,kbExpr:h.EditorContextKeys.textInputFocus,primary:2048|1024|512|16,linux:{primary:0}}})),I.CursorColumnSelectPageUp=(0,g.registerEditorCommand)(new P({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:n,kbExpr:h.EditorContextKeys.textInputFocus,primary:2048|1024|512|11,linux:{primary:0}}}));class R extends F{constructor(W){super(W);this._isPaged=W.isPaged}_getColumnSelectResult(W,j,U,Y){return b.ColumnSelection.columnSelectDown(W.cursorConfig,W,U,this._isPaged)}}I.CursorColumnSelectDown=(0,g.registerEditorCommand)(new R({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:n,kbExpr:h.EditorContextKeys.textInputFocus,primary:2048|1024|512|18,linux:{primary:0}}})),I.CursorColumnSelectPageDown=(0,g.registerEditorCommand)(new R({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:n,kbExpr:h.EditorContextKeys.textInputFocus,primary:2048|1024|512|12,linux:{primary:0}}}));class A extends r{constructor(){super({id:"cursorMove",precondition:void 0,description:i.CursorMove.description})}runCoreEditorCommand(W,j){const U=i.CursorMove.parse(j);!U||this._runCursorMove(W,j.source,U)}_runCursorMove(W,j,U){W.model.pushStackElement(),W.setCursorStates(j,3,A._move(W,W.getCursorStates(),U)),W.revealPrimaryCursor(j,!0)}static _move(W,j,U){const Y=U.select,ne=U.value;switch(U.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return i.CursorMoveCommands.simpleMove(W,j,U.direction,Y,ne,U.unit);case 11:case 13:case 12:case 14:return i.CursorMoveCommands.viewportMove(W,j,U.direction,Y,ne);default:return null}}}I.CursorMoveImpl=A,I.CursorMove=(0,g.registerEditorCommand)(new A);class O extends r{constructor(W){super(W);this._staticArgs=W.args}runCoreEditorCommand(W,j){let U=this._staticArgs;this._staticArgs.value===-1&&(U={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:W.cursorConfig.pageSize}),W.model.pushStackElement(),W.setCursorStates(j.source,3,i.CursorMoveCommands.simpleMove(W,W.getCursorStates(),U.direction,U.select,U.value,U.unit)),W.revealPrimaryCursor(j.source,!0)}}I.CursorLeft=(0,g.registerEditorCommand)(new O({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:n,kbExpr:h.EditorContextKeys.textInputFocus,primary:15,mac:{primary:15,secondary:[256|32]}}})),I.CursorLeftSelect=(0,g.registerEditorCommand)(new O({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:n,kbExpr:h.EditorContextKeys.textInputFocus,primary:1024|15}})),I.CursorRight=(0,g.registerEditorCommand)(new O({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:n,kbExpr:h.EditorContextKeys.textInputFocus,primary:17,mac:{primary:17,secondary:[256|36]}}})),I.CursorRightSelect=(0,g.registerEditorCommand)(new O({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:n,kbExpr:h.EditorContextKeys.textInputFocus,primary:1024|17}})),I.CursorUp=(0,g.registerEditorCommand)(new O({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:n,kbExpr:h.EditorContextKeys.textInputFocus,primary:16,mac:{primary:16,secondary:[256|46]}}})),I.CursorUpSelect=(0,g.registerEditorCommand)(new O({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:n,kbExpr:h.EditorContextKeys.textInputFocus,primary:1024|16,secondary:[2048|1024|16],mac:{primary:1024|16},linux:{primary:1024|16}}})),I.CursorPageUp=(0,g.registerEditorCommand)(new O({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:n,kbExpr:h.EditorContextKeys.textInputFocus,primary:11}})),I.CursorPageUpSelect=(0,g.registerEditorCommand)(new O({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:n,kbExpr:h.EditorContextKeys.textInputFocus,primary:1024|11}})),I.CursorDown=(0,g.registerEditorCommand)(new O({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:n,kbExpr:h.EditorContextKeys.textInputFocus,primary:18,mac:{primary:18,secondary:[256|44]}}})),I.CursorDownSelect=(0,g.registerEditorCommand)(new O({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:n,kbExpr:h.EditorContextKeys.textInputFocus,primary:1024|18,secondary:[2048|1024|18],mac:{primary:1024|18},linux:{primary:1024|18}}})),I.CursorPageDown=(0,g.registerEditorCommand)(new O({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:n,kbExpr:h.EditorContextKeys.textInputFocus,primary:12}})),I.CursorPageDownSelect=(0,g.registerEditorCommand)(new O({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:n,kbExpr:h.EditorContextKeys.textInputFocus,primary:1024|12}})),I.CreateCursor=(0,g.registerEditorCommand)(new class extends r{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(z,W){let j;W.wholeLine?j=i.CursorMoveCommands.line(z,z.getPrimaryCursorState(),!1,W.position,W.viewPosition):j=i.CursorMoveCommands.moveTo(z,z.getPrimaryCursorState(),!1,W.position,W.viewPosition);const U=z.getCursorStates();if(U.length>1){const Y=j.modelState?j.modelState.position:null,ne=j.viewState?j.viewState.position:null;for(let J=0,re=U.length;J<re;J++){const ge=U[J];if(!(Y&&!ge.modelState.selection.containsPosition(Y))&&!(ne&&!ge.viewState.selection.containsPosition(ne))){U.splice(J,1),z.model.pushStackElement(),z.setCursorStates(W.source,3,U);return}}}U.push(j),z.model.pushStackElement(),z.setCursorStates(W.source,3,U)}}),I.LastCursorMoveToSelect=(0,g.registerEditorCommand)(new class extends r{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(z,W){const j=z.getLastAddedCursorIndex(),U=z.getCursorStates(),Y=U.slice(0);Y[j]=i.CursorMoveCommands.moveTo(z,U[j],!0,W.position,W.viewPosition),z.model.pushStackElement(),z.setCursorStates(W.source,3,Y)}});class k extends r{constructor(W){super(W);this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,j){W.model.pushStackElement(),W.setCursorStates(j.source,3,i.CursorMoveCommands.moveToBeginningOfLine(W,W.getCursorStates(),this._inSelectionMode)),W.revealPrimaryCursor(j.source,!0)}}I.CursorHome=(0,g.registerEditorCommand)(new k({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:n,kbExpr:h.EditorContextKeys.textInputFocus,primary:14,mac:{primary:14,secondary:[2048|15]}}})),I.CursorHomeSelect=(0,g.registerEditorCommand)(new k({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:n,kbExpr:h.EditorContextKeys.textInputFocus,primary:1024|14,mac:{primary:1024|14,secondary:[2048|1024|15]}}}));class V extends r{constructor(W){super(W);this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,j){W.model.pushStackElement(),W.setCursorStates(j.source,3,this._exec(W.getCursorStates())),W.revealPrimaryCursor(j.source,!0)}_exec(W){const j=[];for(let U=0,Y=W.length;U<Y;U++){const ne=W[U],J=ne.modelState.position.lineNumber;j[U]=p.CursorState.fromModelState(ne.modelState.move(this._inSelectionMode,J,1,0))}return j}}I.CursorLineStart=(0,g.registerEditorCommand)(new V({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:n,kbExpr:h.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|31}}})),I.CursorLineStartSelect=(0,g.registerEditorCommand)(new V({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:n,kbExpr:h.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|1024|31}}}));class B extends r{constructor(W){super(W);this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,j){W.model.pushStackElement(),W.setCursorStates(j.source,3,i.CursorMoveCommands.moveToEndOfLine(W,W.getCursorStates(),this._inSelectionMode,j.sticky||!1)),W.revealPrimaryCursor(j.source,!0)}}I.CursorEnd=(0,g.registerEditorCommand)(new B({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:n,kbExpr:h.EditorContextKeys.textInputFocus,primary:13,mac:{primary:13,secondary:[2048|17]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:L.localize(0,null),type:"boolean",default:!1}}}}]}})),I.CursorEndSelect=(0,g.registerEditorCommand)(new B({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:n,kbExpr:h.EditorContextKeys.textInputFocus,primary:1024|13,mac:{primary:1024|13,secondary:[2048|1024|17]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:L.localize(1,null),type:"boolean",default:!1}}}}]}}));class x extends r{constructor(W){super(W);this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,j){W.model.pushStackElement(),W.setCursorStates(j.source,3,this._exec(W,W.getCursorStates())),W.revealPrimaryCursor(j.source,!0)}_exec(W,j){const U=[];for(let Y=0,ne=j.length;Y<ne;Y++){const J=j[Y],re=J.modelState.position.lineNumber,ge=W.model.getLineMaxColumn(re);U[Y]=p.CursorState.fromModelState(J.modelState.move(this._inSelectionMode,re,ge,0))}return U}}I.CursorLineEnd=(0,g.registerEditorCommand)(new x({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:n,kbExpr:h.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|35}}})),I.CursorLineEndSelect=(0,g.registerEditorCommand)(new x({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:n,kbExpr:h.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|1024|35}}}));class K extends r{constructor(W){super(W);this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,j){W.model.pushStackElement(),W.setCursorStates(j.source,3,i.CursorMoveCommands.moveToBeginningOfBuffer(W,W.getCursorStates(),this._inSelectionMode)),W.revealPrimaryCursor(j.source,!0)}}I.CursorTop=(0,g.registerEditorCommand)(new K({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:n,kbExpr:h.EditorContextKeys.textInputFocus,primary:2048|14,mac:{primary:2048|16}}})),I.CursorTopSelect=(0,g.registerEditorCommand)(new K({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:n,kbExpr:h.EditorContextKeys.textInputFocus,primary:2048|1024|14,mac:{primary:2048|1024|16}}}));class X extends r{constructor(W){super(W);this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,j){W.model.pushStackElement(),W.setCursorStates(j.source,3,i.CursorMoveCommands.moveToEndOfBuffer(W,W.getCursorStates(),this._inSelectionMode)),W.revealPrimaryCursor(j.source,!0)}}I.CursorBottom=(0,g.registerEditorCommand)(new X({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:n,kbExpr:h.EditorContextKeys.textInputFocus,primary:2048|13,mac:{primary:2048|18}}})),I.CursorBottomSelect=(0,g.registerEditorCommand)(new X({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:n,kbExpr:h.EditorContextKeys.textInputFocus,primary:2048|1024|13,mac:{primary:2048|1024|18}}}));class Z extends r{constructor(){super({id:"editorScroll",precondition:void 0,description:s.description})}runCoreEditorCommand(W,j){const U=s.parse(j);!U||this._runEditorScroll(W,j.source,U)}_runEditorScroll(W,j,U){const Y=this._computeDesiredScrollTop(W,U);if(U.revealCursor){const ne=W.getCompletelyVisibleViewRangeAtScrollTop(Y);W.setCursorStates(j,3,[i.CursorMoveCommands.findPositionInViewportIfOutside(W,W.getPrimaryCursorState(),ne,U.select)])}W.setScrollTop(Y,0)}_computeDesiredScrollTop(W,j){if(j.unit===1){const ne=W.getCompletelyVisibleViewRange(),J=W.coordinatesConverter.convertViewRangeToModelRange(ne);let re;j.direction===1?re=Math.max(1,J.startLineNumber-j.value):re=Math.min(W.model.getLineCount(),J.startLineNumber+j.value);const ge=W.coordinatesConverter.convertModelPositionToViewPosition(new a.Position(re,1));return W.getVerticalOffsetForLineNumber(ge.lineNumber)}let U;j.unit===3?U=W.cursorConfig.pageSize*j.value:j.unit===4?U=Math.round(W.cursorConfig.pageSize/2)*j.value:U=j.value;const Y=(j.direction===1?-1:1)*U;return W.getScrollTop()+Y*W.cursorConfig.lineHeight}}I.EditorScrollImpl=Z,I.EditorScroll=(0,g.registerEditorCommand)(new Z),I.ScrollLineUp=(0,g.registerEditorCommand)(new class extends r{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:n,kbExpr:h.EditorContextKeys.textInputFocus,primary:2048|16,mac:{primary:256|11}}})}runCoreEditorCommand(z,W){I.EditorScroll._runEditorScroll(z,W.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),I.ScrollPageUp=(0,g.registerEditorCommand)(new class extends r{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:n,kbExpr:h.EditorContextKeys.textInputFocus,primary:2048|11,win:{primary:512|11},linux:{primary:512|11}}})}runCoreEditorCommand(z,W){I.EditorScroll._runEditorScroll(z,W.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),I.ScrollLineDown=(0,g.registerEditorCommand)(new class extends r{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:n,kbExpr:h.EditorContextKeys.textInputFocus,primary:2048|18,mac:{primary:256|12}}})}runCoreEditorCommand(z,W){I.EditorScroll._runEditorScroll(z,W.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),I.ScrollPageDown=(0,g.registerEditorCommand)(new class extends r{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:n,kbExpr:h.EditorContextKeys.textInputFocus,primary:2048|12,win:{primary:512|12},linux:{primary:512|12}}})}runCoreEditorCommand(z,W){I.EditorScroll._runEditorScroll(z,W.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}});class q extends r{constructor(W){super(W);this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,j){W.model.pushStackElement(),W.setCursorStates(j.source,3,[i.CursorMoveCommands.word(W,W.getPrimaryCursorState(),this._inSelectionMode,j.position)]),W.revealPrimaryCursor(j.source,!0)}}I.WordSelect=(0,g.registerEditorCommand)(new q({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),I.WordSelectDrag=(0,g.registerEditorCommand)(new q({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),I.LastCursorWordSelect=(0,g.registerEditorCommand)(new class extends r{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(z,W){const j=z.getLastAddedCursorIndex(),U=z.getCursorStates(),Y=U.slice(0),ne=U[j];Y[j]=i.CursorMoveCommands.word(z,ne,ne.modelState.hasSelection(),W.position),z.model.pushStackElement(),z.setCursorStates(W.source,3,Y)}});class H extends r{constructor(W){super(W);this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,j){W.model.pushStackElement(),W.setCursorStates(j.source,3,[i.CursorMoveCommands.line(W,W.getPrimaryCursorState(),this._inSelectionMode,j.position,j.viewPosition)]),W.revealPrimaryCursor(j.source,!1)}}I.LineSelect=(0,g.registerEditorCommand)(new H({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),I.LineSelectDrag=(0,g.registerEditorCommand)(new H({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class G extends r{constructor(W){super(W);this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,j){const U=W.getLastAddedCursorIndex(),Y=W.getCursorStates(),ne=Y.slice(0);ne[U]=i.CursorMoveCommands.line(W,Y[U],this._inSelectionMode,j.position,j.viewPosition),W.model.pushStackElement(),W.setCursorStates(j.source,3,ne)}}I.LastCursorLineSelect=(0,g.registerEditorCommand)(new G({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),I.LastCursorLineSelectDrag=(0,g.registerEditorCommand)(new G({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),I.CancelSelection=(0,g.registerEditorCommand)(new class extends r{constructor(){super({id:"cancelSelection",precondition:h.EditorContextKeys.hasNonEmptySelection,kbOpts:{weight:n,kbExpr:h.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})}runCoreEditorCommand(z,W){z.model.pushStackElement(),z.setCursorStates(W.source,3,[i.CursorMoveCommands.cancelSelection(z,z.getPrimaryCursorState())]),z.revealPrimaryCursor(W.source,!0)}}),I.RemoveSecondaryCursors=(0,g.registerEditorCommand)(new class extends r{constructor(){super({id:"removeSecondaryCursors",precondition:h.EditorContextKeys.hasMultipleSelections,kbOpts:{weight:n+1,kbExpr:h.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})}runCoreEditorCommand(z,W){z.model.pushStackElement(),z.setCursorStates(W.source,3,[z.getPrimaryCursorState()]),z.revealPrimaryCursor(W.source,!0),(0,E.status)(L.localize(2,null))}}),I.RevealLine=(0,g.registerEditorCommand)(new class extends r{constructor(){super({id:"revealLine",precondition:void 0,description:o.description})}runCoreEditorCommand(z,W){const j=W,U=j.lineNumber||0;let Y=typeof U=="number"?U+1:parseInt(U)+1;Y<1&&(Y=1);const ne=z.model.getLineCount();Y>ne&&(Y=ne);const J=new l.Range(Y,1,Y,z.model.getLineMaxColumn(Y));let re=0;if(j.at)switch(j.at){case o.RawAtArgument.Top:re=3;break;case o.RawAtArgument.Center:re=1;break;case o.RawAtArgument.Bottom:re=4;break;default:break}const ge=z.coordinatesConverter.convertModelRangeToViewRange(J);z.revealRange(W.source,!1,ge,re,0)}}),I.SelectAll=new class extends m{constructor(){super(g.SelectAllCommand)}runDOMCommand(){N.isFirefox&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(z,W,j){const U=W._getViewModel();!U||this.runCoreEditorCommand(U,j)}runCoreEditorCommand(z,W){z.model.pushStackElement(),z.setCursorStates("keyboard",3,[i.CursorMoveCommands.selectAll(z,z.getPrimaryCursorState())])}},I.SetSelection=(0,g.registerEditorCommand)(new class extends r{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(z,W){z.model.pushStackElement(),z.setCursorStates(W.source,3,[p.CursorState.fromModelSelection(W.selection)])}})})(_=e.CoreNavigationCommands||(e.CoreNavigationCommands={}));const f=d.ContextKeyExpr.and(h.EditorContextKeys.textInputFocus,h.EditorContextKeys.columnSelection);function c(I,T){u.KeybindingsRegistry.registerKeybindingRule({id:I,primary:T,when:f,weight:n+1})}c(_.CursorColumnSelectLeft.id,1024|15),c(_.CursorColumnSelectRight.id,1024|17),c(_.CursorColumnSelectUp.id,1024|16),c(_.CursorColumnSelectPageUp.id,1024|11),c(_.CursorColumnSelectDown.id,1024|18),c(_.CursorColumnSelectPageDown.id,1024|12);function C(I){return I.register(),I}var y;(function(I){class T extends g.EditorCommand{runEditorCommand(P,R,A){const O=R._getViewModel();!O||this.runCoreEditingCommand(R,O,A||{})}}I.CoreEditingCommand=T,I.LineBreakInsert=(0,g.registerEditorCommand)(new class extends T{constructor(){super({id:"lineBreakInsert",precondition:h.EditorContextKeys.writable,kbOpts:{weight:n,kbExpr:h.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|45}}})}runCoreEditingCommand(F,P,R){F.pushUndoStop(),F.executeCommands(this.id,t.TypeOperations.lineBreakInsert(P.cursorConfig,P.model,P.getCursorStates().map(A=>A.modelState.selection)))}}),I.Outdent=(0,g.registerEditorCommand)(new class extends T{constructor(){super({id:"outdent",precondition:h.EditorContextKeys.writable,kbOpts:{weight:n,kbExpr:d.ContextKeyExpr.and(h.EditorContextKeys.editorTextFocus,h.EditorContextKeys.tabDoesNotMoveFocus),primary:1024|2}})}runCoreEditingCommand(F,P,R){F.pushUndoStop(),F.executeCommands(this.id,t.TypeOperations.outdent(P.cursorConfig,P.model,P.getCursorStates().map(A=>A.modelState.selection))),F.pushUndoStop()}}),I.Tab=(0,g.registerEditorCommand)(new class extends T{constructor(){super({id:"tab",precondition:h.EditorContextKeys.writable,kbOpts:{weight:n,kbExpr:d.ContextKeyExpr.and(h.EditorContextKeys.editorTextFocus,h.EditorContextKeys.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(F,P,R){F.pushUndoStop(),F.executeCommands(this.id,t.TypeOperations.tab(P.cursorConfig,P.model,P.getCursorStates().map(A=>A.modelState.selection))),F.pushUndoStop()}}),I.DeleteLeft=(0,g.registerEditorCommand)(new class extends T{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:n,kbExpr:h.EditorContextKeys.textInputFocus,primary:1,secondary:[1024|1],mac:{primary:1,secondary:[1024|1,256|38,256|1]}}})}runCoreEditingCommand(F,P,R){const[A,O]=v.DeleteOperations.deleteLeft(P.getPrevEditOperationType(),P.cursorConfig,P.model,P.getCursorStates().map(k=>k.modelState.selection),P.getCursorAutoClosedCharacters());A&&F.pushUndoStop(),F.executeCommands(this.id,O),P.setPrevEditOperationType(2)}}),I.DeleteRight=(0,g.registerEditorCommand)(new class extends T{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:n,kbExpr:h.EditorContextKeys.textInputFocus,primary:20,mac:{primary:20,secondary:[256|34,256|20]}}})}runCoreEditingCommand(F,P,R){const[A,O]=v.DeleteOperations.deleteRight(P.getPrevEditOperationType(),P.cursorConfig,P.model,P.getCursorStates().map(k=>k.modelState.selection));A&&F.pushUndoStop(),F.executeCommands(this.id,O),P.setPrevEditOperationType(3)}}),I.Undo=new class extends m{constructor(){super(g.UndoCommand)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(F,P,R){if(!(!P.hasModel()||P.getOption(80)===!0))return P.getModel().undo()}},I.Redo=new class extends m{constructor(){super(g.RedoCommand)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(F,P,R){if(!(!P.hasModel()||P.getOption(80)===!0))return P.getModel().redo()}}})(y=e.CoreEditingCommands||(e.CoreEditingCommands={}));class w extends g.Command{constructor(T,F,P){super({id:T,precondition:void 0,description:P});this._handlerId=F}runCommand(T,F){const P=T.get(S.ICodeEditorService).getFocusedCodeEditor();!P||P.trigger("keyboard",this._handlerId,F)}}function D(I,T){C(new w("default:"+I,I)),C(new w(I,I,T))}D("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),D("replacePreviousChar"),D("compositionType"),D("compositionStart"),D("compositionEnd"),D("paste"),D("cut")}),define(ee[691],te([0,1,163,13,15]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewController=void 0;class E{constructor(S,b,p,v){this.configuration=S,this.viewModel=b,this.userInputEvents=p,this.commandDelegate=v}paste(S,b,p,v){this.commandDelegate.paste(S,b,p,v)}type(S){this.commandDelegate.type(S)}compositionType(S,b,p,v){this.commandDelegate.compositionType(S,b,p,v)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(S){L.CoreNavigationCommands.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:S})}_validateViewColumn(S){const b=this.viewModel.getLineMinColumn(S.lineNumber);return S.column<b?new N.Position(S.lineNumber,b):S}_hasMulticursorModifier(S){switch(this.configuration.options.get(69)){case"altKey":return S.altKey;case"ctrlKey":return S.ctrlKey;case"metaKey":return S.metaKey;default:return!1}}_hasNonMulticursorModifier(S){switch(this.configuration.options.get(69)){case"altKey":return S.ctrlKey||S.metaKey;case"ctrlKey":return S.altKey||S.metaKey;case"metaKey":return S.ctrlKey||S.altKey;default:return!1}}dispatchMouse(S){const b=this.configuration.options,p=M.isLinux&&b.get(95),v=b.get(18);S.middleButton&&!p?this._columnSelect(S.position,S.mouseColumn,S.inSelectionMode):S.startedOnLineNumbers?this._hasMulticursorModifier(S)?S.inSelectionMode?this._lastCursorLineSelect(S.position):this._createCursor(S.position,!0):S.inSelectionMode?this._lineSelectDrag(S.position):this._lineSelect(S.position):S.mouseDownCount>=4?this._selectAll():S.mouseDownCount===3?this._hasMulticursorModifier(S)?S.inSelectionMode?this._lastCursorLineSelectDrag(S.position):this._lastCursorLineSelect(S.position):S.inSelectionMode?this._lineSelectDrag(S.position):this._lineSelect(S.position):S.mouseDownCount===2?this._hasMulticursorModifier(S)?this._lastCursorWordSelect(S.position):S.inSelectionMode?this._wordSelectDrag(S.position):this._wordSelect(S.position):this._hasMulticursorModifier(S)?this._hasNonMulticursorModifier(S)||(S.shiftKey?this._columnSelect(S.position,S.mouseColumn,!0):S.inSelectionMode?this._lastCursorMoveToSelect(S.position):this._createCursor(S.position,!1)):S.inSelectionMode?S.altKey?this._columnSelect(S.position,S.mouseColumn,!0):v?this._columnSelect(S.position,S.mouseColumn,!0):this._moveToSelect(S.position):this.moveTo(S.position)}_usualArgs(S){return S=this._validateViewColumn(S),{source:"mouse",position:this._convertViewToModelPosition(S),viewPosition:S}}moveTo(S){L.CoreNavigationCommands.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(S))}_moveToSelect(S){L.CoreNavigationCommands.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(S))}_columnSelect(S,b,p){S=this._validateViewColumn(S),L.CoreNavigationCommands.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(S),viewPosition:S,mouseColumn:b,doColumnSelect:p})}_createCursor(S,b){S=this._validateViewColumn(S),L.CoreNavigationCommands.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(S),viewPosition:S,wholeLine:b})}_lastCursorMoveToSelect(S){L.CoreNavigationCommands.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(S))}_wordSelect(S){L.CoreNavigationCommands.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(S))}_wordSelectDrag(S){L.CoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(S))}_lastCursorWordSelect(S){L.CoreNavigationCommands.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(S))}_lineSelect(S){L.CoreNavigationCommands.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(S))}_lineSelectDrag(S){L.CoreNavigationCommands.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(S))}_lastCursorLineSelect(S){L.CoreNavigationCommands.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(S))}_lastCursorLineSelectDrag(S){L.CoreNavigationCommands.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(S))}_selectAll(){L.CoreNavigationCommands.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(S){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(S)}emitKeyDown(S){this.userInputEvents.emitKeyDown(S)}emitKeyUp(S){this.userInputEvents.emitKeyUp(S)}emitContextMenu(S){this.userInputEvents.emitContextMenu(S)}emitMouseMove(S){this.userInputEvents.emitMouseMove(S)}emitMouseLeave(S){this.userInputEvents.emitMouseLeave(S)}emitMouseUp(S){this.userInputEvents.emitMouseUp(S)}emitMouseDown(S){this.userInputEvents.emitMouseDown(S)}emitMouseDrag(S){this.userInputEvents.emitMouseDrag(S)}emitMouseDrop(S){this.userInputEvents.emitMouseDrop(S)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(S){this.userInputEvents.emitMouseWheel(S)}}e.ViewController=E}),define(ee[692],te([0,1,7,36,23,32,12,689,633,691,288,610,51,428,632,429,628,181,687,279,625,430,243,431,629,432,634,433,635,630,631,636,434,13,3,119,422,424,121,14,198]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u,n,r,s,o,m,_,f,c,C,y,w,D,I,T,F,P,R,A,O,k,V,B,x){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.View=void 0;class K extends V.ViewEventHandler{constructor(q,H,G,z,W,j){super();this._selections=[new M.Selection(1,1,1,1)],this._renderAnimationFrame=null;const U=new p.ViewController(H,z,W,q);this._context=new O.ViewContext(H,G.getColorTheme(),z),this._configPixelRatio=this._context.configuration.options.get(128),this._context.addEventHandler(this),this._register(G.onDidColorThemeChange($=>{this._context.theme.update($),this._context.model.onDidColorThemeChange(),this.render(!0,!1)})),this._viewParts=[],this._textAreaHandler=new b.TextAreaHandler(this._context,U,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,E.createFastDomNode)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,E.createFastDomNode)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,E.createFastDomNode)(document.createElement("div")),t.PartFingerprints.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new d.EditorScrollbar(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new s.ViewLines(this._context,this._linesContent),this._viewZones=new F.ViewZones(this._context),this._viewParts.push(this._viewZones);const Y=new C.DecorationsOverviewRuler(this._context);this._viewParts.push(Y);const ne=new D.ScrollDecorationViewPart(this._context);this._viewParts.push(ne);const J=new i.ContentViewOverlays(this._context);this._viewParts.push(J),J.addDynamicOverlay(new l.CurrentLineHighlightOverlay(this._context)),J.addDynamicOverlay(new I.SelectionsOverlay(this._context)),J.addDynamicOverlay(new n.IndentGuidesOverlay(this._context)),J.addDynamicOverlay(new h.DecorationsOverlay(this._context));const re=new i.MarginViewOverlays(this._context);this._viewParts.push(re),re.addDynamicOverlay(new l.CurrentLineMarginHighlightOverlay(this._context)),re.addDynamicOverlay(new u.GlyphMarginOverlay(this._context)),re.addDynamicOverlay(new _.MarginViewLineDecorationsOverlay(this._context)),re.addDynamicOverlay(new o.LinesDecorationsOverlay(this._context)),re.addDynamicOverlay(new r.LineNumbersOverlay(this._context));const ge=new m.Margin(this._context);ge.getDomNode().appendChild(this._viewZones.marginDomNode),ge.getDomNode().appendChild(re.getDomNode()),this._viewParts.push(ge),this._contentWidgets=new a.ViewContentWidgets(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new T.ViewCursors(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new c.ViewOverlayWidgets(this._context),this._viewParts.push(this._overlayWidgets);const pe=new w.Rulers(this._context);this._viewParts.push(pe);const oe=new f.Minimap(this._context);if(this._viewParts.push(oe),Y){const $=this._scrollbar.getOverviewRulerLayoutInfo();$.parent.insertBefore(Y.getDomNode(),$.insertBefore)}this._linesContent.appendChild(J.getDomNode()),this._linesContent.appendChild(pe.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(ge.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(ne.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(oe.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),j?j.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new S.PointerHandler(this._context,U,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:q=>{this._textAreaHandler.textArea.domNode.dispatchEvent(q)},getLastRenderData:()=>{const q=this._viewCursors.getLastRenderData()||[],H=this._textAreaHandler.getLastRenderData();return new x.PointerHandlerLastRenderData(q,H)},shouldSuppressMouseDownOnViewZone:q=>this._viewZones.shouldSuppressMouseDownOnViewZone(q),shouldSuppressMouseDownOnWidget:q=>this._contentWidgets.shouldSuppressMouseDownOnWidget(q),getPositionFromDOMInfo:(q,H)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(q,H)),visibleRangeForPosition:(q,H)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new P.Position(q,H))),getLineWidth:q=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(q))}}_createTextAreaHandlerHelper(){return{visibleRangeForPositionRelativeToEditor:(q,H)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new P.Position(q,H)))}}_applyLayout(){const H=this._context.configuration.options.get(130);this.domNode.setWidth(H.width),this.domNode.setHeight(H.height),this._overflowGuardContainer.setWidth(H.width),this._overflowGuardContainer.setHeight(H.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const q=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(127)+" "+(0,B.getThemeTypeSelector)(this._context.theme.type)+q}handleEvents(q){super.handleEvents(q),this._scheduleRender()}onConfigurationChanged(q){return this._configPixelRatio=this._context.configuration.options.get(128),this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(q){return this._selections=q.selections,!1}onFocusChanged(q){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(q){return this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const q of this._viewParts)q.dispose();super.dispose()}_scheduleRender(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=L.runAtThisOrScheduleAtNextAnimationFrame(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){X(()=>this._actualRender())}_getViewPartsToRender(){let q=[],H=0;for(const G of this._viewParts)G.shouldRender()&&(q[H++]=G);return q}_actualRender(){if(!L.isInDOM(this.domNode.domNode))return;let q=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&q.length===0)return;const H=this._context.viewLayout.getLinesViewportData();this._context.model.setViewport(H.startLineNumber,H.endLineNumber,H.centeredLineNumber);const G=new k.ViewportData(this._selections,H,this._context.viewLayout.getWhitespaceViewportData(),this._context.model);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(G),this._viewLines.shouldRender()&&(this._viewLines.renderText(G),this._viewLines.onDidRender(),q=this._getViewPartsToRender());const z=new A.RenderingContext(this._context.viewLayout,G,this._viewLines);for(const W of q)W.prepareRender(z);for(const W of q)W.render(z),W.onDidRender();Math.abs(N.getPixelRatio()-this._configPixelRatio)>.001&&this._context.configuration.updatePixelRatio()}delegateVerticalScrollbarMouseDown(q){this._scrollbar.delegateVerticalScrollbarMouseDown(q)}restoreState(q){this._context.model.setScrollPosition({scrollTop:q.scrollTop},1),this._context.model.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.model.setScrollPosition({scrollLeft:q.scrollLeft},1)}getOffsetForColumn(q,H){const G=this._context.model.validateModelPosition({lineNumber:q,column:H}),z=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(G);this._flushAccumulatedAndRenderNow();const W=this._viewLines.visibleRangeForPosition(new P.Position(z.lineNumber,z.column));return W?W.left:-1}getTargetAtClientPoint(q,H){const G=this._pointerHandler.getTargetAtClientPoint(q,H);return G?v.ViewUserInputEvents.convertViewToModelMouseTarget(G,this._context.model.coordinatesConverter):null}createOverviewRuler(q){return new y.OverviewRuler(this._context,q)}change(q){this._viewZones.changeViewZones(q),this._scheduleRender()}render(q,H){if(H){this._viewLines.forceShouldRender();for(const G of this._viewParts)G.forceShouldRender()}q?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}refreshFocusState(){this._textAreaHandler.refreshFocusState()}setAriaOptions(q){this._textAreaHandler.setAriaOptions(q)}addContentWidget(q){this._contentWidgets.addWidget(q.widget),this.layoutContentWidget(q),this._scheduleRender()}layoutContentWidget(q){let H=q.position&&q.position.range||null;if(H===null){const z=q.position?q.position.position:null;z!==null&&(H=new R.Range(z.lineNumber,z.column,z.lineNumber,z.column))}const G=q.position?q.position.preference:null;this._contentWidgets.setWidgetPosition(q.widget,H,G),this._scheduleRender()}removeContentWidget(q){this._contentWidgets.removeWidget(q.widget),this._scheduleRender()}addOverlayWidget(q){this._overlayWidgets.addWidget(q.widget),this.layoutOverlayWidget(q),this._scheduleRender()}layoutOverlayWidget(q){const H=q.position?q.position.preference:null;this._overlayWidgets.setWidgetPosition(q.widget,H)&&this._scheduleRender()}removeOverlayWidget(q){this._overlayWidgets.removeWidget(q.widget),this._scheduleRender()}}e.View=K;function X(Z){try{return Z()}catch(q){(0,g.onUnexpectedError)(q)}}}),define(ee[693],te([0,1,50,13,3,23]),function(Q,e,L,N,M,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Cursor=void 0;class g{constructor(b){this._selTrackedRange=null,this._trackSelection=!0,this._setState(b,new L.SingleCursorState(new M.Range(1,1,1,1),0,new N.Position(1,1),0),new L.SingleCursorState(new M.Range(1,1,1,1),0,new N.Position(1,1),0))}dispose(b){this._removeTrackedRange(b)}startTrackingSelection(b){this._trackSelection=!0,this._updateTrackedRange(b)}stopTrackingSelection(b){this._trackSelection=!1,this._removeTrackedRange(b)}_updateTrackedRange(b){!this._trackSelection||(this._selTrackedRange=b.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(b){this._selTrackedRange=b.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new L.CursorState(this.modelState,this.viewState)}readSelectionFromMarkers(b){const p=b.model._getTrackedRange(this._selTrackedRange);return E.Selection.fromRange(p,this.modelState.selection.getDirection())}ensureValidState(b){this._setState(b,this.modelState,this.viewState)}setState(b,p,v){this._setState(b,p,v)}static _validatePositionWithCache(b,p,v,i){return p.equals(v)?i:b.normalizePosition(p,2)}static _validateViewState(b,p){const v=p.position,i=p.selectionStart.getStartPosition(),t=p.selectionStart.getEndPosition(),a=b.normalizePosition(v,2),l=this._validatePositionWithCache(b,i,v,a),h=this._validatePositionWithCache(b,t,i,l);return v.equals(a)&&i.equals(l)&&t.equals(h)?p:new L.SingleCursorState(M.Range.fromPositions(l,h),p.selectionStartLeftoverVisibleColumns+i.column-l.column,a,p.leftoverVisibleColumns+v.column-a.column)}_setState(b,p,v){if(v&&(v=g._validateViewState(b.viewModel,v)),p){const i=b.model.validateRange(p.selectionStart),t=p.selectionStart.equalsRange(i)?p.selectionStartLeftoverVisibleColumns:0,a=b.model.validatePosition(p.position),l=p.position.equals(a)?p.leftoverVisibleColumns:0;p=new L.SingleCursorState(i,t,a,l)}else{if(!v)return;const i=b.model.validateRange(b.coordinatesConverter.convertViewRangeToModelRange(v.selectionStart)),t=b.model.validatePosition(b.coordinatesConverter.convertViewPositionToModelPosition(v.position));p=new L.SingleCursorState(i,v.selectionStartLeftoverVisibleColumns,t,v.leftoverVisibleColumns)}if(v){const i=b.coordinatesConverter.validateViewRange(v.selectionStart,p.selectionStart),t=b.coordinatesConverter.validateViewPosition(v.position,p.position);v=new L.SingleCursorState(i,p.selectionStartLeftoverVisibleColumns,t,p.leftoverVisibleColumns)}else{const i=b.coordinatesConverter.convertModelPositionToViewPosition(new N.Position(p.selectionStart.startLineNumber,p.selectionStart.startColumn)),t=b.coordinatesConverter.convertModelPositionToViewPosition(new N.Position(p.selectionStart.endLineNumber,p.selectionStart.endColumn)),a=new M.Range(i.lineNumber,i.column,t.lineNumber,t.column),l=b.coordinatesConverter.convertModelPositionToViewPosition(p.position);v=new L.SingleCursorState(a,p.selectionStartLeftoverVisibleColumns,l,p.leftoverVisibleColumns)}this.modelState=p,this.viewState=v,this._updateTrackedRange(b)}}e.Cursor=g}),define(ee[694],te([0,1,50,693,23]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorCollection=void 0;class E{constructor(S){this.context=S,this.primaryCursor=new N.Cursor(S),this.secondaryCursors=[],this.lastAddedCursorIndex=0}dispose(){this.primaryCursor.dispose(this.context),this.killSecondaryCursors()}startTrackingSelections(){this.primaryCursor.startTrackingSelection(this.context);for(let S=0,b=this.secondaryCursors.length;S<b;S++)this.secondaryCursors[S].startTrackingSelection(this.context)}stopTrackingSelections(){this.primaryCursor.stopTrackingSelection(this.context);for(let S=0,b=this.secondaryCursors.length;S<b;S++)this.secondaryCursors[S].stopTrackingSelection(this.context)}updateContext(S){this.context=S}ensureValidState(){this.primaryCursor.ensureValidState(this.context);for(let S=0,b=this.secondaryCursors.length;S<b;S++)this.secondaryCursors[S].ensureValidState(this.context)}readSelectionFromMarkers(){let S=[];S[0]=this.primaryCursor.readSelectionFromMarkers(this.context);for(let b=0,p=this.secondaryCursors.length;b<p;b++)S[b+1]=this.secondaryCursors[b].readSelectionFromMarkers(this.context);return S}getAll(){let S=[];S[0]=this.primaryCursor.asCursorState();for(let b=0,p=this.secondaryCursors.length;b<p;b++)S[b+1]=this.secondaryCursors[b].asCursorState();return S}getViewPositions(){let S=[];S[0]=this.primaryCursor.viewState.position;for(let b=0,p=this.secondaryCursors.length;b<p;b++)S[b+1]=this.secondaryCursors[b].viewState.position;return S}getTopMostViewPosition(){let S=this.primaryCursor.viewState.position;for(let b=0,p=this.secondaryCursors.length;b<p;b++){const v=this.secondaryCursors[b].viewState.position;v.isBefore(S)&&(S=v)}return S}getBottomMostViewPosition(){let S=this.primaryCursor.viewState.position;for(let b=0,p=this.secondaryCursors.length;b<p;b++){const v=this.secondaryCursors[b].viewState.position;S.isBeforeOrEqual(v)&&(S=v)}return S}getSelections(){let S=[];S[0]=this.primaryCursor.modelState.selection;for(let b=0,p=this.secondaryCursors.length;b<p;b++)S[b+1]=this.secondaryCursors[b].modelState.selection;return S}getViewSelections(){let S=[];S[0]=this.primaryCursor.viewState.selection;for(let b=0,p=this.secondaryCursors.length;b<p;b++)S[b+1]=this.secondaryCursors[b].viewState.selection;return S}setSelections(S){this.setStates(L.CursorState.fromModelSelections(S))}getPrimaryCursor(){return this.primaryCursor.asCursorState()}setStates(S){S!==null&&(this.primaryCursor.setState(this.context,S[0].modelState,S[0].viewState),this._setSecondaryStates(S.slice(1)))}_setSecondaryStates(S){const b=this.secondaryCursors.length,p=S.length;if(b<p){let v=p-b;for(let i=0;i<v;i++)this._addSecondaryCursor()}else if(b>p){let v=b-p;for(let i=0;i<v;i++)this._removeSecondaryCursor(this.secondaryCursors.length-1)}for(let v=0;v<p;v++)this.secondaryCursors[v].setState(this.context,S[v].modelState,S[v].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.secondaryCursors.push(new N.Cursor(this.context)),this.lastAddedCursorIndex=this.secondaryCursors.length}getLastAddedCursorIndex(){return this.secondaryCursors.length===0||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(S){this.lastAddedCursorIndex>=S+1&&this.lastAddedCursorIndex--,this.secondaryCursors[S].dispose(this.context),this.secondaryCursors.splice(S,1)}_getAll(){let S=[];S[0]=this.primaryCursor;for(let b=0,p=this.secondaryCursors.length;b<p;b++)S[b+1]=this.secondaryCursors[b];return S}normalize(){if(this.secondaryCursors.length===0)return;let S=this._getAll(),b=[];for(let p=0,v=S.length;p<v;p++)b.push({index:p,selection:S[p].modelState.selection});b.sort((p,v)=>p.selection.startLineNumber===v.selection.startLineNumber?p.selection.startColumn-v.selection.startColumn:p.selection.startLineNumber-v.selection.startLineNumber);for(let p=0;p<b.length-1;p++){const v=b[p],i=b[p+1],t=v.selection,a=i.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let l;if(a.isEmpty()||t.isEmpty()?l=a.getStartPosition().isBeforeOrEqual(t.getEndPosition()):l=a.getStartPosition().isBefore(t.getEndPosition()),l){const h=v.index<i.index?p:p+1,d=v.index<i.index?p+1:p,u=b[d].index,n=b[h].index,r=b[d].selection,s=b[h].selection;if(!r.equalsSelection(s)){const o=r.plusRange(s),m=r.selectionStartLineNumber===r.startLineNumber&&r.selectionStartColumn===r.startColumn,_=s.selectionStartLineNumber===s.startLineNumber&&s.selectionStartColumn===s.startColumn;let f;u===this.lastAddedCursorIndex?(f=m,this.lastAddedCursorIndex=n):f=_;let c;f?c=new M.Selection(o.startLineNumber,o.startColumn,o.endLineNumber,o.endColumn):c=new M.Selection(o.endLineNumber,o.endColumn,o.startLineNumber,o.startColumn),b[h].selection=c;const C=L.CursorState.fromModelSelection(c);S[n].setState(this.context,C.modelState,C.viewState)}for(const o of b)o.index>u&&o.index--;S.splice(u,1),b.splice(d,1),this._removeSecondaryCursor(u-1),p--}}}}e.CursorCollection=E}),define(ee[289],te([0,1,12,8,694,50,200,201,3,23,91,180,2,182]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorsController=e.CursorModelState=void 0;class l{constructor(r,s){this.modelVersionId=r.getVersionId(),this.cursorState=s.getCursorStates()}equals(r){if(!r||this.modelVersionId!==r.modelVersionId||this.cursorState.length!==r.cursorState.length)return!1;for(let s=0,o=this.cursorState.length;s<o;s++)if(!this.cursorState[s].equals(r.cursorState[s]))return!1;return!0}}e.CursorModelState=l;class h{constructor(r,s,o){this._model=r,this._autoClosedCharactersDecorations=s,this._autoClosedEnclosingDecorations=o}static getAllAutoClosedCharacters(r){let s=[];for(const o of r)s=s.concat(o.getAutoClosedCharactersRanges());return s}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){let r=[];for(let s=0;s<this._autoClosedCharactersDecorations.length;s++){const o=this._model.getDecorationRange(this._autoClosedCharactersDecorations[s]);o&&r.push(o)}return r}isValid(r){let s=[];for(let o=0;o<this._autoClosedEnclosingDecorations.length;o++){const m=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[o]);if(m&&(s.push(m),m.startLineNumber!==m.endLineNumber))return!1}s.sort(b.Range.compareRangesUsingStarts),r.sort(b.Range.compareRangesUsingStarts);for(let o=0;o<r.length;o++)if(o>=s.length||!s[o].strictContainsRange(r[o]))return!1;return!0}}class d extends t.Disposable{constructor(r,s,o,m){super();this._model=r,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=s,this._coordinatesConverter=o,this.context=new E.CursorContext(this._model,this._viewModel,this._coordinatesConverter,m),this._cursors=new M.CursorCollection(this.context),this._hasFocus=!1,this._isHandling=!1,this._isDoingComposition=!1,this._selectionsWhenCompositionStarted=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,t.dispose)(this._autoClosedActions),super.dispose()}updateConfiguration(r){this.context=new E.CursorContext(this._model,this._viewModel,this._coordinatesConverter,r),this._cursors.updateContext(this.context)}onLineMappingChanged(r){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(r,"viewModel",0,this.getCursorStates())}setHasFocus(r){this._hasFocus=r}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){let r=this._cursors.getSelections();for(let s=0;s<this._autoClosedActions.length;s++){const o=this._autoClosedActions[s];o.isValid(r)||(o.dispose(),this._autoClosedActions.splice(s,1),s--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(r,s,o,m){let _=!1;m!==null&&m.length>d.MAX_CURSOR_COUNT&&(m=m.slice(0,d.MAX_CURSOR_COUNT),_=!0);const f=new l(this._model,this);return this._cursors.setStates(m),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(r,s,o,f,_)}setCursorColumnSelectData(r){this._columnSelectData=r}revealPrimary(r,s,o,m){const _=this._cursors.getViewPositions();if(_.length>1){this._emitCursorRevealRange(r,s,null,this._cursors.getViewSelections(),0,o,m);return}else{const f=_[0],c=new b.Range(f.lineNumber,f.column,f.lineNumber,f.column);this._emitCursorRevealRange(r,s,c,null,0,o,m)}}_revealPrimaryCursor(r,s,o,m,_){const f=this._cursors.getViewPositions();if(f.length>1)this._emitCursorRevealRange(r,s,null,this._cursors.getViewSelections(),o,m,_);else{const c=f[0],C=new b.Range(c.lineNumber,c.column,c.lineNumber,c.column);this._emitCursorRevealRange(r,s,C,null,o,m,_)}}_emitCursorRevealRange(r,s,o,m,_,f,c){r.emitViewEvent(new i.ViewRevealRangeRequestEvent(s,o,m,_,f,c))}saveState(){let r=[];const s=this._cursors.getSelections();for(let o=0,m=s.length;o<m;o++){const _=s[o];r.push({inSelectionMode:!_.isEmpty(),selectionStart:{lineNumber:_.selectionStartLineNumber,column:_.selectionStartColumn},position:{lineNumber:_.positionLineNumber,column:_.positionColumn}})}return r}restoreState(r,s){let o=[];for(let m=0,_=s.length;m<_;m++){const f=s[m];let c=1,C=1;f.position&&f.position.lineNumber&&(c=f.position.lineNumber),f.position&&f.position.column&&(C=f.position.column);let y=c,w=C;f.selectionStart&&f.selectionStart.lineNumber&&(y=f.selectionStart.lineNumber),f.selectionStart&&f.selectionStart.column&&(w=f.selectionStart.column),o.push({selectionStartLineNumber:y,selectionStartColumn:w,positionLineNumber:c,positionColumn:C})}this.setStates(r,"restoreState",0,E.CursorState.fromModelSelections(o)),this.revealPrimary(r,"restoreState",!0,1)}onModelContentChanged(r,s){if(s instanceof v.ModelInjectedTextChangedEvent){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(r,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{if(this._knownModelVersionId=s.versionId,this._isHandling)return;const o=s.containsEvent(1);if(this._prevEditOperationType=0,o)this._cursors.dispose(),this._cursors=new M.CursorCollection(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(r,"model",1,null,!1);else if(this._hasFocus&&s.resultingSelection&&s.resultingSelection.length>0){const m=E.CursorState.fromModelSelections(s.resultingSelection);this.setStates(r,"modelChange",s.isUndoing?5:s.isRedoing?6:2,m)&&this._revealPrimaryCursor(r,"modelChange",0,!0,0)}else{const m=this._cursors.readSelectionFromMarkers();this.setStates(r,"modelChange",2,E.CursorState.fromModelSelections(m))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const r=this._cursors.getPrimaryCursor(),s=r.viewState.selectionStart.getStartPosition(),o=r.viewState.position;return{isReal:!1,fromViewLineNumber:s.lineNumber,fromViewVisualColumn:E.CursorColumns.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,s),toViewLineNumber:o.lineNumber,toViewVisualColumn:E.CursorColumns.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,o)}}getSelections(){return this._cursors.getSelections()}getPosition(){return this._cursors.getPrimaryCursor().modelState.position}setSelections(r,s,o,m){this.setStates(r,s,m,E.CursorState.fromModelSelections(o))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(r){this._prevEditOperationType=r}_pushAutoClosedAction(r,s){let o=[],m=[];for(let c=0,C=r.length;c<C;c++)o.push({range:r[c],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),m.push({range:s[c],options:{description:"auto-closed-enclosing",stickiness:1}});const _=this._model.deltaDecorations([],o),f=this._model.deltaDecorations([],m);this._autoClosedActions.push(new h(this._model,_,f))}_executeEditOperation(r){if(!r)return;r.shouldPushStackElementBefore&&this._model.pushStackElement();const s=u.executeCommands(this._model,this._cursors.getSelections(),r.commands);if(s){this._interpretCommandResult(s);let o=[],m=[];for(let _=0;_<r.commands.length;_++){const f=r.commands[_];f instanceof S.TypeWithAutoClosingCommand&&f.enclosingRange&&f.closeCharacterRange&&(o.push(f.closeCharacterRange),m.push(f.enclosingRange))}o.length>0&&this._pushAutoClosedAction(o,m),this._prevEditOperationType=r.type}r.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(r){(!r||r.length===0)&&(r=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(r),this._cursors.normalize()}_emitStateChangedIfNecessary(r,s,o,m,_){const f=new l(this._model,this);if(f.equals(m))return!1;const c=this._cursors.getSelections(),C=this._cursors.getViewSelections();if(r.emitViewEvent(new i.ViewCursorStateChangedEvent(C,c)),!m||m.cursorState.length!==f.cursorState.length||f.cursorState.some((y,w)=>!y.modelState.equals(m.cursorState[w].modelState))){const y=m?m.cursorState.map(D=>D.modelState.selection):null,w=m?m.modelVersionId:0;r.emitOutgoingEvent(new a.CursorStateChangedEvent(y,c,w,f.modelVersionId,s||"keyboard",o,_))}return!0}_findAutoClosingPairs(r){if(!r.length)return null;let s=[];for(let o=0,m=r.length;o<m;o++){const _=r[o];if(!_.text||_.text.indexOf(`
`)>=0)return null;const f=_.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!f)return null;const c=f[1],C=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(c);if(!C||C.length!==1)return null;const y=C[0].open,w=_.text.length-f[2].length-1,D=_.text.lastIndexOf(y,w-1);if(D===-1)return null;s.push([D,w])}return s}executeEdits(r,s,o,m){let _=null;s==="snippet"&&(_=this._findAutoClosingPairs(o)),_&&(o[0]._isTracked=!0);let f=[],c=[];const C=this._model.pushEditOperations(this.getSelections(),o,y=>{if(_)for(let D=0,I=_.length;D<I;D++){const[T,F]=_[D],P=y[D],R=P.range.startLineNumber,A=P.range.startColumn-1+T,O=P.range.startColumn-1+F;f.push(new b.Range(R,O+1,R,O+2)),c.push(new b.Range(R,A+1,R,O+2))}const w=m(y);return w&&(this._isHandling=!0),w});C&&(this._isHandling=!1,this.setSelections(r,s,C,0)),f.length>0&&this._pushAutoClosedAction(f,c)}_executeEdit(r,s,o,m=0){if(this.context.cursorConfig.readOnly)return;const _=new l(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),r()}catch(f){(0,L.onUnexpectedError)(f)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(s,o,m,_,!1)&&this._revealPrimaryCursor(s,o,0,!0,0)}setIsDoingComposition(r){this._isDoingComposition=r}getAutoClosedCharacters(){return h.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(r){this._selectionsWhenCompositionStarted=this.getSelections().slice(0)}endComposition(r,s){this._executeEdit(()=>{s==="keyboard"&&(this._executeEditOperation(S.TypeOperations.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this._selectionsWhenCompositionStarted,this.getSelections(),this.getAutoClosedCharacters())),this._selectionsWhenCompositionStarted=null)},r,s)}type(r,s,o){this._executeEdit(()=>{if(o==="keyboard"){const m=s.length;let _=0;for(;_<m;){const f=N.nextCharLength(s,_),c=s.substr(_,f);this._executeEditOperation(S.TypeOperations.typeWithInterceptors(this._isDoingComposition,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),c)),_+=f}}else this._executeEditOperation(S.TypeOperations.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),s))},r,o)}compositionType(r,s,o,m,_,f){if(s.length===0&&o===0&&m===0){if(_!==0){const c=this.getSelections().map(C=>{const y=C.getPosition();return new p.Selection(y.lineNumber,y.column+_,y.lineNumber,y.column+_)});this.setSelections(r,f,c,0)}return}this._executeEdit(()=>{this._executeEditOperation(S.TypeOperations.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),s,o,m,_))},r,f)}paste(r,s,o,m,_){this._executeEdit(()=>{this._executeEditOperation(S.TypeOperations.paste(this.context.cursorConfig,this._model,this.getSelections(),s,o,m||[]))},r,_,4)}cut(r,s){this._executeEdit(()=>{this._executeEditOperation(g.DeleteOperations.cut(this.context.cursorConfig,this._model,this.getSelections()))},r,s)}executeCommand(r,s,o){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new E.EditOperationResult(0,[s],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},r,o)}executeCommands(r,s,o){this._executeEdit(()=>{this._executeEditOperation(new E.EditOperationResult(0,s,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},r,o)}}e.CursorsController=d,d.MAX_CURSOR_COUNT=1e4;class u{static executeCommands(r,s,o){const m={model:r,selectionsBefore:s,trackedRanges:[],trackedRangesDirection:[]},_=this._innerExecuteCommands(m,o);for(let f=0,c=m.trackedRanges.length;f<c;f++)m.model._setTrackedRange(m.trackedRanges[f],null,0);return _}static _innerExecuteCommands(r,s){if(this._arrayIsEmpty(s))return null;const o=this._getEditOperations(r,s);if(o.operations.length===0)return null;const m=o.operations,_=this._getLoserCursorMap(m);if(_.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;let f=[];for(let y=0,w=m.length;y<w;y++)_.hasOwnProperty(m[y].identifier.major.toString())||f.push(m[y]);o.hadTrackedEditOperation&&f.length>0&&(f[0]._isTracked=!0);let c=r.model.pushEditOperations(r.selectionsBefore,f,y=>{let w=[];for(let T=0;T<r.selectionsBefore.length;T++)w[T]=[];for(const T of y)!T.identifier||w[T.identifier.major].push(T);const D=(T,F)=>T.identifier.minor-F.identifier.minor;let I=[];for(let T=0;T<r.selectionsBefore.length;T++)w[T].length>0?(w[T].sort(D),I[T]=s[T].computeCursorState(r.model,{getInverseEditOperations:()=>w[T],getTrackedSelection:F=>{const P=parseInt(F,10),R=r.model._getTrackedRange(r.trackedRanges[P]);return r.trackedRangesDirection[P]===0?new p.Selection(R.startLineNumber,R.startColumn,R.endLineNumber,R.endColumn):new p.Selection(R.endLineNumber,R.endColumn,R.startLineNumber,R.startColumn)}})):I[T]=r.selectionsBefore[T];return I});c||(c=r.selectionsBefore);let C=[];for(let y in _)_.hasOwnProperty(y)&&C.push(parseInt(y,10));C.sort((y,w)=>w-y);for(const y of C)c.splice(y,1);return c}static _arrayIsEmpty(r){for(let s=0,o=r.length;s<o;s++)if(r[s])return!1;return!0}static _getEditOperations(r,s){let o=[],m=!1;for(let _=0,f=s.length;_<f;_++){const c=s[_];if(c){const C=this._getEditOperationsFromCommand(r,_,c);o=o.concat(C.operations),m=m||C.hadTrackedEditOperation}}return{operations:o,hadTrackedEditOperation:m}}static _getEditOperationsFromCommand(r,s,o){let m=[],_=0;const f=(D,I,T=!1)=>{b.Range.isEmpty(D)&&I===""||m.push({identifier:{major:s,minor:_++},range:D,text:I,forceMoveMarkers:T,isAutoWhitespaceEdit:o.insertsAutoWhitespace})};let c=!1;const w={addEditOperation:f,addTrackedEditOperation:(D,I,T)=>{c=!0,f(D,I,T)},trackSelection:(D,I)=>{const T=p.Selection.liftSelection(D);let F;if(T.isEmpty())if(typeof I=="boolean")I?F=2:F=3;else{const A=r.model.getLineMaxColumn(T.startLineNumber);T.startColumn===A?F=2:F=3}else F=1;const P=r.trackedRanges.length,R=r.model._setTrackedRange(null,T,F);return r.trackedRanges[P]=R,r.trackedRangesDirection[P]=T.getDirection(),P.toString()}};try{o.getEditOperations(r.model,w)}catch(D){return(0,L.onUnexpectedError)(D),{operations:[],hadTrackedEditOperation:!1}}return{operations:m,hadTrackedEditOperation:c}}static _getLoserCursorMap(r){r=r.slice(0),r.sort((o,m)=>-b.Range.compareRangesUsingEnds(o.range,m.range));let s={};for(let o=1;o<r.length;o++){const m=r[o-1],_=r[o];if(b.Range.getStartPosition(m.range).isBefore(b.Range.getEndPosition(_.range))){let f;m.identifier.major>_.identifier.major?f=m.identifier.major:f=_.identifier.major,s[f.toString()]=!0;for(let c=0;c<r.length;c++)r[c].identifier.major===f&&(r.splice(c,1),c<o&&o--,c--);o>0&&o--}}return s}}}),define(ee[290],te([0,1,4,2,15,12,29,60,3,31,18,128,39,156,37,10,21,14,75,131,88,259,42,278,266,34,40]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u,n,r,s,o,m,_,f,c,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModelSemanticColoring=e.isSemanticColoringEnabled=e.SEMANTIC_HIGHLIGHTING_SETTING_ID=e.ModelServiceImpl=void 0;function y(V){return V.toString()}function w(V){const B=new s.StringSHA1,x=V.createSnapshot();let K;for(;K=x.read();)B.update(K);return B.digest()}class D{constructor(B,x,K){this._modelEventListeners=new N.DisposableStore,this.model=B,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(B.onWillDispose(()=>x(B))),this._modelEventListeners.add(B.onDidChangeLanguage(X=>K(B,X)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(B){this._disposeLanguageSelection(),this._languageSelection=B,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(B.languageId)),this.model.setMode(B.languageId)}}const I=M.isLinux||M.isMacintosh?1:2;class T{constructor(B,x,K,X,Z,q,H,G){this.uri=B,this.initialUndoRedoSnapshot=x,this.time=K,this.sharesUndoRedoStack=X,this.heapSize=Z,this.sha1=q,this.versionId=H,this.alternativeVersionId=G}}let F=class Rt extends N.Disposable{constructor(B,x,K,X,Z,q,H){super();this._configurationService=B,this._resourcePropertiesService=x,this._themeService=K,this._logService=X,this._undoRedoService=Z,this._modeService=q,this._languageConfigurationService=H,this._onModelAdded=this._register(new L.Emitter),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new L.Emitter),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new L.Emitter),this.onModelModeChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new A(this._themeService,this._modeService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new R(this,this._themeService,this._configurationService,this._semanticStyling))}static _readModelOptions(B,x){var K;let X=g.EDITOR_MODEL_DEFAULTS.tabSize;if(B.editor&&typeof B.editor.tabSize!="undefined"){const Y=parseInt(B.editor.tabSize,10);isNaN(Y)||(X=Y),X<1&&(X=1)}let Z=X;if(B.editor&&typeof B.editor.indentSize!="undefined"&&B.editor.indentSize!=="tabSize"){const Y=parseInt(B.editor.indentSize,10);isNaN(Y)||(Z=Y),Z<1&&(Z=1)}let q=g.EDITOR_MODEL_DEFAULTS.insertSpaces;B.editor&&typeof B.editor.insertSpaces!="undefined"&&(q=B.editor.insertSpaces==="false"?!1:Boolean(B.editor.insertSpaces));let H=I;const G=B.eol;G===`\r
`?H=2:G===`
`&&(H=1);let z=g.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace;B.editor&&typeof B.editor.trimAutoWhitespace!="undefined"&&(z=B.editor.trimAutoWhitespace==="false"?!1:Boolean(B.editor.trimAutoWhitespace));let W=g.EDITOR_MODEL_DEFAULTS.detectIndentation;B.editor&&typeof B.editor.detectIndentation!="undefined"&&(W=B.editor.detectIndentation==="false"?!1:Boolean(B.editor.detectIndentation));let j=g.EDITOR_MODEL_DEFAULTS.largeFileOptimizations;B.editor&&typeof B.editor.largeFileOptimizations!="undefined"&&(j=B.editor.largeFileOptimizations==="false"?!1:Boolean(B.editor.largeFileOptimizations));let U=g.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions;return((K=B.editor)===null||K===void 0?void 0:K.bracketPairColorization)&&typeof B.editor.bracketPairColorization=="object"&&(U={enabled:!!B.editor.bracketPairColorization.enabled}),{isForSimpleWidget:x,tabSize:X,indentSize:Z,insertSpaces:q,detectIndentation:W,defaultEOL:H,trimAutoWhitespace:z,largeFileOptimizations:j,bracketPairColorizationOptions:U}}_getEOL(B,x){if(B)return this._resourcePropertiesService.getEOL(B,x);const K=this._configurationService.getValue("files.eol",{overrideIdentifier:x});return K&&typeof K=="string"&&K!=="auto"?K:M.OS===3||M.OS===2?`
`:`\r
`}_shouldRestoreUndoStack(){const B=this._configurationService.getValue("files.restoreUndoStack");return typeof B=="boolean"?B:!0}getCreationOptions(B,x,K){let X=this._modelCreationOptionsByLanguageAndResource[B+x];if(!X){const Z=this._configurationService.getValue("editor",{overrideIdentifier:B,resource:x}),q=this._getEOL(x,B);X=Rt._readModelOptions({editor:Z,eol:q},K),this._modelCreationOptionsByLanguageAndResource[B+x]=X}return X}_updateModelOptions(){const B=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const x=Object.keys(this._models);for(let K=0,X=x.length;K<X;K++){const Z=x[K],q=this._models[Z],H=q.model.getLanguageId(),G=q.model.uri,z=B[H+G],W=this.getCreationOptions(H,G,q.model.isForSimpleWidget);Rt._setModelOptionsForModel(q.model,W,z)}}static _setModelOptionsForModel(B,x,K){K&&K.defaultEOL!==x.defaultEOL&&B.getLineCount()===1&&B.setEOL(x.defaultEOL===1?0:1),!(K&&K.detectIndentation===x.detectIndentation&&K.insertSpaces===x.insertSpaces&&K.tabSize===x.tabSize&&K.indentSize===x.indentSize&&K.trimAutoWhitespace===x.trimAutoWhitespace&&(0,c.equals)(K.bracketPairColorizationOptions,x.bracketPairColorizationOptions))&&(x.detectIndentation?(B.detectIndentation(x.insertSpaces,x.tabSize),B.updateOptions({trimAutoWhitespace:x.trimAutoWhitespace,bracketColorizationOptions:x.bracketPairColorizationOptions})):B.updateOptions({insertSpaces:x.insertSpaces,tabSize:x.tabSize,indentSize:x.indentSize,trimAutoWhitespace:x.trimAutoWhitespace,bracketColorizationOptions:x.bracketPairColorizationOptions}))}_insertDisposedModel(B){this._disposedModels.set(y(B.uri),B),this._disposedModelsHeapSize+=B.heapSize}_removeDisposedModel(B){const x=this._disposedModels.get(y(B));return x&&(this._disposedModelsHeapSize-=x.heapSize),this._disposedModels.delete(y(B)),x}_ensureDisposedModelsHeapSize(B){if(this._disposedModelsHeapSize>B){const x=[];for(this._disposedModels.forEach(K=>{K.sharesUndoRedoStack||x.push(K)}),x.sort((K,X)=>K.time-X.time);x.length>0&&this._disposedModelsHeapSize>B;){const K=x.shift();this._removeDisposedModel(K.uri),K.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(K.initialUndoRedoSnapshot)}}}_createModelData(B,x,K,X){const Z=this.getCreationOptions(x,K,X),q=new p.TextModel(B,Z,x,K,this._undoRedoService,this._modeService,this._languageConfigurationService);if(K&&this._disposedModels.has(y(K))){const z=this._removeDisposedModel(K),W=this._undoRedoService.getElements(K),j=w(q)===z.sha1;if(j||z.sharesUndoRedoStack){for(const U of W.past)(0,o.isEditStackElement)(U)&&U.matchesResource(K)&&U.setModel(q);for(const U of W.future)(0,o.isEditStackElement)(U)&&U.matchesResource(K)&&U.setModel(q);this._undoRedoService.setElementsValidFlag(K,!0,U=>(0,o.isEditStackElement)(U)&&U.matchesResource(K)),j&&(q._overwriteVersionId(z.versionId),q._overwriteAlternativeVersionId(z.alternativeVersionId),q._overwriteInitialUndoRedoSnapshot(z.initialUndoRedoSnapshot))}else z.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(z.initialUndoRedoSnapshot)}const H=y(q.uri);if(this._models[H])throw new Error("ModelService: Cannot add model because it already exists!");const G=new D(q,z=>this._onWillDispose(z),(z,W)=>this._onDidChangeLanguage(z,W));return this._models[H]=G,G}updateModel(B,x){const K=this.getCreationOptions(B.getLanguageId(),B.uri,B.isForSimpleWidget),{textBuffer:X,disposable:Z}=(0,p.createTextBuffer)(x,K.defaultEOL);if(B.equalsTextBuffer(X)){Z.dispose();return}B.pushStackElement(),B.pushEOL(X.getEOL()===`\r
`?1:0),B.pushEditOperations([],Rt._computeEdits(B,X),()=>[]),B.pushStackElement(),Z.dispose()}static _commonPrefix(B,x,K,X,Z,q){const H=Math.min(x,Z);let G=0;for(let z=0;z<H&&B.getLineContent(K+z)===X.getLineContent(q+z);z++)G++;return G}static _commonSuffix(B,x,K,X,Z,q){const H=Math.min(x,Z);let G=0;for(let z=0;z<H&&B.getLineContent(K+x-z)===X.getLineContent(q+Z-z);z++)G++;return G}static _computeEdits(B,x){const K=B.getLineCount(),X=x.getLineCount(),Z=this._commonPrefix(B,K,1,x,X,1);if(K===X&&Z===K)return[];const q=this._commonSuffix(B,K-Z,Z,x,X-Z,Z);let H,G;return q>0?(H=new b.Range(Z+1,1,K-q+1,1),G=new b.Range(Z+1,1,X-q+1,1)):Z>0?(H=new b.Range(Z,B.getLineMaxColumn(Z),K,B.getLineMaxColumn(K)),G=new b.Range(Z,1+x.getLineLength(Z),X,1+x.getLineLength(X))):(H=new b.Range(1,1,K,B.getLineMaxColumn(K)),G=new b.Range(1,1,X,1+x.getLineLength(X))),[S.EditOperation.replaceMove(H,x.getValueInRange(G,0))]}createModel(B,x,K,X=!1){let Z;return x?(Z=this._createModelData(B,x.languageId,K,X),this.setMode(Z.model,x)):Z=this._createModelData(B,i.PLAINTEXT_MODE_ID,K,X),this._onModelAdded.fire(Z.model),Z.model}setMode(B,x){if(!x)return;const K=this._models[y(B.uri)];!K||K.setLanguage(x)}destroyModel(B){const x=this._models[y(B)];!x||x.model.dispose()}getModels(){const B=[],x=Object.keys(this._models);for(let K=0,X=x.length;K<X;K++){const Z=x[K];B.push(this._models[Z].model)}return B}getModel(B){const x=y(B),K=this._models[x];return K?K.model:null}getSemanticTokensProviderStyling(B){return this._semanticStyling.get(B)}_schemaShouldMaintainUndoRedoElements(B){return B.scheme===m.Schemas.file||B.scheme===m.Schemas.vscodeRemote||B.scheme===m.Schemas.userData||B.scheme===m.Schemas.vscodeNotebookCell||B.scheme==="fake-fs"}_onWillDispose(B){const x=y(B.uri),K=this._models[x],X=this._undoRedoService.getUriComparisonKey(B.uri)!==B.uri.toString();let Z=!1,q=0;if(X||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(B.uri)){const G=this._undoRedoService.getElements(B.uri);if(G.past.length>0||G.future.length>0){for(const z of G.past)(0,o.isEditStackElement)(z)&&z.matchesResource(B.uri)&&(Z=!0,q+=z.heapSize(B.uri),z.setModel(B.uri));for(const z of G.future)(0,o.isEditStackElement)(z)&&z.matchesResource(B.uri)&&(Z=!0,q+=z.heapSize(B.uri),z.setModel(B.uri))}}const H=Rt.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(Z)if(!X&&q>H){const G=K.model.getInitialUndoRedoSnapshot();G!==null&&this._undoRedoService.restoreSnapshot(G)}else this._ensureDisposedModelsHeapSize(H-q),this._undoRedoService.setElementsValidFlag(B.uri,!1,G=>(0,o.isEditStackElement)(G)&&G.matchesResource(B.uri)),this._insertDisposedModel(new T(B.uri,K.model.getInitialUndoRedoSnapshot(),Date.now(),X,q,w(B),B.getVersionId(),B.getAlternativeVersionId()));else if(!X){const G=K.model.getInitialUndoRedoSnapshot();G!==null&&this._undoRedoService.restoreSnapshot(G)}delete this._models[x],K.dispose(),delete this._modelCreationOptionsByLanguageAndResource[B.getLanguageId()+B.uri],this._onModelRemoved.fire(B)}_onDidChangeLanguage(B,x){const K=x.oldLanguage,X=B.getLanguageId(),Z=this.getCreationOptions(K,B.uri,B.isForSimpleWidget),q=this.getCreationOptions(X,B.uri,B.isForSimpleWidget);Rt._setModelOptionsForModel(B,q,Z),this._onModelModeChanged.fire({model:B,oldModeId:K})}};F.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,F=Ve([Ce(0,l.IConfigurationService),Ce(1,a.ITextResourcePropertiesService),Ce(2,u.IThemeService),Ce(3,n.ILogService),Ce(4,r.IUndoRedoService),Ce(5,t.IModeService),Ce(6,C.ILanguageConfigurationService)],F),e.ModelServiceImpl=F,e.SEMANTIC_HIGHLIGHTING_SETTING_ID="editor.semanticHighlighting";function P(V,B,x){var K;const X=(K=x.getValue(e.SEMANTIC_HIGHLIGHTING_SETTING_ID,{overrideIdentifier:V.getLanguageId(),resource:V.uri}))===null||K===void 0?void 0:K.enabled;return typeof X=="boolean"?X:B.getColorTheme().semanticHighlighting}e.isSemanticColoringEnabled=P;class R extends N.Disposable{constructor(B,x,K,X){super();this._watchers=Object.create(null),this._semanticStyling=X;const Z=G=>{this._watchers[G.uri.toString()]=new k(G,x,this._semanticStyling)},q=(G,z)=>{z.dispose(),delete this._watchers[G.uri.toString()]},H=()=>{for(let G of B.getModels()){const z=this._watchers[G.uri.toString()];P(G,x,K)?z||Z(G):z&&q(G,z)}};this._register(B.onModelAdded(G=>{P(G,x,K)&&Z(G)})),this._register(B.onModelRemoved(G=>{const z=this._watchers[G.uri.toString()];z&&q(G,z)})),this._register(K.onDidChangeConfiguration(G=>{G.affectsConfiguration(e.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&H()})),this._register(x.onDidColorThemeChange(H))}}class A extends N.Disposable{constructor(B,x,K){super();this._themeService=B,this._modeService=x,this._logService=K,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(B){return this._caches.has(B)||this._caches.set(B,new _.SemanticTokensProviderStyling(B.getLegend(),this._themeService,this._modeService,this._logService)),this._caches.get(B)}}class O{constructor(B,x,K){this.provider=B,this.resultId=x,this.data=K}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}class k extends N.Disposable{constructor(B,x,K){super();this._isDisposed=!1,this._model=B,this._semanticStyling=K,this._fetchDocumentSemanticTokens=this._register(new h.RunOnceScheduler(()=>this._fetchDocumentSemanticTokensNow(),k.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule()})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const X=()=>{(0,N.dispose)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const Z of v.DocumentSemanticTokensProviderRegistry.all(B))typeof Z.onDidChange=="function"&&this._documentProvidersChangeListeners.push(Z.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};X(),this._register(v.DocumentSemanticTokensProviderRegistry.onDidChange(()=>{X(),this._fetchDocumentSemanticTokens.schedule()})),this._register(x.onDidColorThemeChange(Z=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule()})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!(0,f.hasDocumentSemanticTokensProvider)(this._model)){this._currentDocumentResponse&&this._model.setSemanticTokens(null,!1);return}const B=new d.CancellationTokenSource,x=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,K=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,X=(0,f.getDocumentSemanticTokens)(this._model,x,K,B.token);this._currentDocumentRequestCancellationTokenSource=B;const Z=[],q=this._model.onDidChangeContent(H=>{Z.push(H)});X.then(H=>{if(this._currentDocumentRequestCancellationTokenSource=null,q.dispose(),!H)this._setDocumentSemanticTokens(null,null,null,Z);else{const{provider:G,tokens:z}=H,W=this._semanticStyling.get(G);this._setDocumentSemanticTokens(G,z||null,W,Z)}},H=>{H&&(E.isPromiseCanceledError(H)||typeof H.message=="string"&&H.message.indexOf("busy")!==-1)||E.onUnexpectedError(H),this._currentDocumentRequestCancellationTokenSource=null,q.dispose(),Z.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule())})}static _copy(B,x,K,X,Z){for(let q=0;q<Z;q++)K[X+q]=B[x+q]}_setDocumentSemanticTokens(B,x,K,X){const Z=this._currentDocumentResponse,q=()=>{X.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule()};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){B&&x&&B.releaseDocumentSemanticTokens(x.resultId);return}if(!B||!K){this._model.setSemanticTokens(null,!1);return}if(!x){this._model.setSemanticTokens(null,!0),q();return}if((0,f.isSemanticTokensEdits)(x)){if(!Z){this._model.setSemanticTokens(null,!0);return}if(x.edits.length===0)x={resultId:x.resultId,data:Z.data};else{let H=0;for(const U of x.edits)H+=(U.data?U.data.length:0)-U.deleteCount;const G=Z.data,z=new Uint32Array(G.length+H);let W=G.length,j=z.length;for(let U=x.edits.length-1;U>=0;U--){const Y=x.edits[U],ne=W-(Y.start+Y.deleteCount);ne>0&&(k._copy(G,W-ne,z,j-ne,ne),j-=ne),Y.data&&(k._copy(Y.data,0,z,j-Y.data.length,Y.data.length),j-=Y.data.length),W=Y.start}W>0&&k._copy(G,0,z,0,W),x={resultId:x.resultId,data:z}}}if((0,f.isSemanticTokens)(x)){this._currentDocumentResponse=new O(B,x.resultId,x.data);const H=(0,_.toMultilineTokens2)(x,K,this._model.getLanguageId());if(X.length>0)for(const G of X)for(const z of H)for(const W of G.changes)z.applyEdit(W.range,W.text);this._model.setSemanticTokens(H,!0)}else this._model.setSemanticTokens(null,!0);q()}}e.ModelSemanticColoring=k,k.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY=300}),define(ee[695],te([0,1,19,13,3,49,31,91,180,588,242,65]),function(Q,e,L,N,M,E,g,S,b,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModelLinesFromModelAsIs=e.ViewModelLinesFromProjectedModel=void 0;class t{constructor(s,o,m,_,f,c,C,y,w){this._editorId=s,this.model=o,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=m,this._monospaceLineBreaksComputerFactory=_,this.fontInfo=f,this.tabSize=c,this.wrappingStrategy=C,this.wrappingColumn=y,this.wrappingIndent=w,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new d(this)}_constructLines(s,o){this.modelLineProjections=[],s&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const m=this.model.getLinesContent(),_=this.model.getInjectedTextDecorations(this._editorId),f=m.length,c=this.createLineBreaksComputer(),C=new L.ArrayQueue(S.LineInjectedText.fromDecorations(_));for(let R=0;R<f;R++){const A=C.takeWhile(O=>O.lineNumber===R+1);c.addRequest(m[R],A,o?o[R]:null)}const y=c.finalize();let w=[],D=this.hiddenAreasDecorationIds.map(R=>this.model.getDecorationRange(R)).sort(M.Range.compareRangesUsingStarts),I=1,T=0,F=-1,P=F+1<D.length?T+1:f+2;for(let R=0;R<f;R++){let A=R+1;A===P&&(F++,I=D[F].startLineNumber,T=D[F].endLineNumber,P=F+1<D.length?T+1:f+2);let O=A>=I&&A<=T,k=(0,p.createModelLineProjection)(y[R],!O);w[R]=k.getViewLineCount(),this.modelLineProjections[R]=k}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new v.ConstantTimePrefixSumComputer(w)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(s=>this.model.getDecorationRange(s))}setHiddenAreas(s){const o=s.map(T=>this.model.validateRange(T));let m=a(o),_=this.hiddenAreasDecorationIds.map(T=>this.model.getDecorationRange(T)).sort(M.Range.compareRangesUsingStarts);if(m.length===_.length){let T=!1;for(let F=0;F<m.length;F++)if(!m[F].equalsRange(_[F])){T=!0;break}if(!T)return!1}const f=m.map(T=>({range:T,options:g.ModelDecorationOptions.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,f);let c=m,C=1,y=0,w=-1,D=w+1<c.length?y+1:this.modelLineProjections.length+2,I=!1;for(let T=0;T<this.modelLineProjections.length;T++){let F=T+1;F===D&&(w++,C=c[w].startLineNumber,y=c[w].endLineNumber,D=w+1<c.length?y+1:this.modelLineProjections.length+2);let P=!1;if(F>=C&&F<=y?this.modelLineProjections[T].isVisible()&&(this.modelLineProjections[T]=this.modelLineProjections[T].setVisible(!1),P=!0):(I=!0,this.modelLineProjections[T].isVisible()||(this.modelLineProjections[T]=this.modelLineProjections[T].setVisible(!0),P=!0)),P){let R=this.modelLineProjections[T].getViewLineCount();this.projectedModelLineLineCounts.setValue(T,R)}}return I||this.setHiddenAreas([]),!0}modelPositionIsVisible(s,o){return s<1||s>this.modelLineProjections.length?!1:this.modelLineProjections[s-1].isVisible()}getModelLineViewLineCount(s){return s<1||s>this.modelLineProjections.length?1:this.modelLineProjections[s-1].getViewLineCount()}setTabSize(s){return this.tabSize===s?!1:(this.tabSize=s,this._constructLines(!1,null),!0)}setWrappingSettings(s,o,m,_){const f=this.fontInfo.equals(s),c=this.wrappingStrategy===o,C=this.wrappingColumn===m,y=this.wrappingIndent===_;if(f&&c&&C&&y)return!1;const w=f&&c&&!C&&y;this.fontInfo=s,this.wrappingStrategy=o,this.wrappingColumn=m,this.wrappingIndent=_;let D=null;if(w){D=[];for(let I=0,T=this.modelLineProjections.length;I<T;I++)D[I]=this.modelLineProjections[I].getLineBreakData()}return this._constructLines(!1,D),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(s,o,m){if(!s||s<=this._validModelVersionId)return null;let _=o===1?1:this.projectedModelLineLineCounts.getPrefixSum(o-1)+1,f=this.projectedModelLineLineCounts.getPrefixSum(m);return this.modelLineProjections.splice(o-1,m-o+1),this.projectedModelLineLineCounts.removeValues(o-1,m-o+1),new b.ViewLinesDeletedEvent(_,f)}onModelLinesInserted(s,o,m,_){if(!s||s<=this._validModelVersionId)return null;const f=o>2&&!this.modelLineProjections[o-2].isVisible();let c=o===1?1:this.projectedModelLineLineCounts.getPrefixSum(o-1)+1,C=0,y=[],w=[];for(let D=0,I=_.length;D<I;D++){let T=(0,p.createModelLineProjection)(_[D],!f);y.push(T);let F=T.getViewLineCount();C+=F,w[D]=F}return this.modelLineProjections=this.modelLineProjections.slice(0,o-1).concat(y).concat(this.modelLineProjections.slice(o-1)),this.projectedModelLineLineCounts.insertValues(o-1,w),new b.ViewLinesInsertedEvent(c,c+C-1)}onModelLineChanged(s,o,m){if(s!==null&&s<=this._validModelVersionId)return[!1,null,null,null];let _=o-1,f=this.modelLineProjections[_].getViewLineCount(),c=this.modelLineProjections[_].isVisible(),C=(0,p.createModelLineProjection)(m,c);this.modelLineProjections[_]=C;let y=this.modelLineProjections[_].getViewLineCount(),w=!1,D=0,I=-1,T=0,F=-1,P=0,R=-1;f>y?(D=this.projectedModelLineLineCounts.getPrefixSum(o-1)+1,I=D+y-1,P=I+1,R=P+(f-y)-1,w=!0):f<y?(D=this.projectedModelLineLineCounts.getPrefixSum(o-1)+1,I=D+f-1,T=I+1,F=T+(y-f)-1,w=!0):(D=this.projectedModelLineLineCounts.getPrefixSum(o-1)+1,I=D+y-1),this.projectedModelLineLineCounts.setValue(_,y);const A=D<=I?new b.ViewLinesChangedEvent(D,I):null,O=T<=F?new b.ViewLinesInsertedEvent(T,F):null,k=P<=R?new b.ViewLinesDeletedEvent(P,R):null;return[w,A,O,k]}acceptVersionId(s){this._validModelVersionId=s,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(s){if(s<1)return 1;const o=this.getViewLineCount();return s>o?o:s|0}getActiveIndentGuide(s,o,m){s=this._toValidViewLineNumber(s),o=this._toValidViewLineNumber(o),m=this._toValidViewLineNumber(m);const _=this.convertViewPositionToModelPosition(s,this.getViewLineMinColumn(s)),f=this.convertViewPositionToModelPosition(o,this.getViewLineMinColumn(o)),c=this.convertViewPositionToModelPosition(m,this.getViewLineMinColumn(m)),C=this.model.getActiveIndentGuide(_.lineNumber,f.lineNumber,c.lineNumber),y=this.convertModelPositionToViewPosition(C.startLineNumber,1),w=this.convertModelPositionToViewPosition(C.endLineNumber,this.model.getLineMaxColumn(C.endLineNumber));return{startLineNumber:y.lineNumber,endLineNumber:w.lineNumber,indent:C.indent}}getViewLineInfo(s){s=this._toValidViewLineNumber(s);let o=this.projectedModelLineLineCounts.getIndexOf(s-1),m=o.index,_=o.remainder;return new l(m+1,_)}getMinColumnOfViewLine(s){return this.modelLineProjections[s.modelLineNumber-1].getViewLineMinColumn(this.model,s.modelLineNumber,s.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(s){const o=this.modelLineProjections[s.modelLineNumber-1],m=o.getViewLineMinColumn(this.model,s.modelLineNumber,s.modelLineWrappedLineIdx),_=o.getModelColumnOfViewPosition(s.modelLineWrappedLineIdx,m);return new N.Position(s.modelLineNumber,_)}getModelEndPositionOfViewLine(s){const o=this.modelLineProjections[s.modelLineNumber-1],m=o.getViewLineMaxColumn(this.model,s.modelLineNumber,s.modelLineWrappedLineIdx),_=o.getModelColumnOfViewPosition(s.modelLineWrappedLineIdx,m);return new N.Position(s.modelLineNumber,_)}getViewLineInfosGroupedByModelRanges(s,o){const m=this.getViewLineInfo(s),_=this.getViewLineInfo(o),f=new Array;let c=this.getModelStartPositionOfViewLine(m),C=new Array;for(let y=m.modelLineNumber;y<=_.modelLineNumber;y++){const w=this.modelLineProjections[y-1];if(w.isVisible()){let D=y===m.modelLineNumber?m.modelLineWrappedLineIdx:0,I=y===_.modelLineNumber?_.modelLineWrappedLineIdx+1:w.getViewLineCount();for(let T=D;T<I;T++)C.push(new l(y,T))}if(!w.isVisible()&&c){const D=new N.Position(y-1,this.model.getLineMaxColumn(y-1)+1),I=M.Range.fromPositions(c,D);f.push(new h(I,C)),C=[],c=null}else w.isVisible()&&!c&&(c=new N.Position(y,1))}if(c){const y=M.Range.fromPositions(c,this.getModelEndPositionOfViewLine(_));f.push(new h(y,C))}return f}getViewLinesBracketGuides(s,o,m,_){const f=m?this.convertViewPositionToModelPosition(m.lineNumber,m.column):null,c=[];for(const C of this.getViewLineInfosGroupedByModelRanges(s,o)){const y=C.modelRange.startLineNumber,w=this.model.getLinesBracketGuides(y,C.modelRange.endLineNumber,f,_);for(const D of C.viewLines)if(D.isWrappedLineContinuation&&this.getMinColumnOfViewLine(D)===1)c.push([]);else{let I=w[D.modelLineNumber-y];I=I.map(T=>T.horizontalLine?new E.IndentGuide(T.visibleColumn,T.className,new E.IndentGuideHorizontalLine(T.horizontalLine.top,this.convertModelPositionToViewPosition(D.modelLineNumber,T.horizontalLine.endColumn).column)):T),c.push(I)}}return c}getViewLinesIndentGuides(s,o){s=this._toValidViewLineNumber(s),o=this._toValidViewLineNumber(o);const m=this.convertViewPositionToModelPosition(s,this.getViewLineMinColumn(s)),_=this.convertViewPositionToModelPosition(o,this.getViewLineMaxColumn(o));let f=[],c=[],C=[];const y=m.lineNumber-1,w=_.lineNumber-1;let D=null;for(let P=y;P<=w;P++){const R=this.modelLineProjections[P];if(R.isVisible()){let A=R.getViewLineNumberOfModelPosition(0,P===y?m.column:1),O=R.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(P+1)),k=O-A+1,V=0;k>1&&R.getViewLineMinColumn(this.model,P+1,O)===1&&(V=A===0?1:2),c.push(k),C.push(V),D===null&&(D=new N.Position(P+1,0))}else D!==null&&(f=f.concat(this.model.getLinesIndentGuides(D.lineNumber,P)),D=null)}D!==null&&(f=f.concat(this.model.getLinesIndentGuides(D.lineNumber,_.lineNumber)),D=null);const I=o-s+1;let T=new Array(I),F=0;for(let P=0,R=f.length;P<R;P++){let A=f[P],O=Math.min(I-F,c[P]),k=C[P],V;k===2?V=0:k===1?V=1:V=O;for(let B=0;B<O;B++)B===V&&(A=0),T[F++]=A}return T}getViewLineContent(s){const o=this.getViewLineInfo(s);return this.modelLineProjections[o.modelLineNumber-1].getViewLineContent(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx)}getViewLineLength(s){const o=this.getViewLineInfo(s);return this.modelLineProjections[o.modelLineNumber-1].getViewLineLength(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx)}getViewLineMinColumn(s){const o=this.getViewLineInfo(s);return this.modelLineProjections[o.modelLineNumber-1].getViewLineMinColumn(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx)}getViewLineMaxColumn(s){const o=this.getViewLineInfo(s);return this.modelLineProjections[o.modelLineNumber-1].getViewLineMaxColumn(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx)}getViewLineData(s){const o=this.getViewLineInfo(s);return this.modelLineProjections[o.modelLineNumber-1].getViewLineData(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx)}getViewLinesData(s,o,m){s=this._toValidViewLineNumber(s),o=this._toValidViewLineNumber(o);let _=this.projectedModelLineLineCounts.getIndexOf(s-1),f=s,c=_.index,C=_.remainder,y=[];for(let w=c,D=this.model.getLineCount();w<D;w++){let I=this.modelLineProjections[w];if(!I.isVisible())continue;let T=w===c?C:0,F=I.getViewLineCount()-T,P=!1;f+F>o&&(P=!0,F=o-f+1);let R=T+F;if(I.getViewLinesData(this.model,w+1,T,R,f-s,m,y),f+=F,P)break}return y}validateViewPosition(s,o,m){s=this._toValidViewLineNumber(s);let _=this.projectedModelLineLineCounts.getIndexOf(s-1),f=_.index,c=_.remainder,C=this.modelLineProjections[f],y=C.getViewLineMinColumn(this.model,f+1,c),w=C.getViewLineMaxColumn(this.model,f+1,c);o<y&&(o=y),o>w&&(o=w);let D=C.getModelColumnOfViewPosition(c,o);return this.model.validatePosition(new N.Position(f+1,D)).equals(m)?new N.Position(s,o):this.convertModelPositionToViewPosition(m.lineNumber,m.column)}validateViewRange(s,o){const m=this.validateViewPosition(s.startLineNumber,s.startColumn,o.getStartPosition()),_=this.validateViewPosition(s.endLineNumber,s.endColumn,o.getEndPosition());return new M.Range(m.lineNumber,m.column,_.lineNumber,_.column)}convertViewPositionToModelPosition(s,o){const m=this.getViewLineInfo(s);let _=this.modelLineProjections[m.modelLineNumber-1].getModelColumnOfViewPosition(m.modelLineWrappedLineIdx,o);return this.model.validatePosition(new N.Position(m.modelLineNumber,_))}convertViewRangeToModelRange(s){const o=this.convertViewPositionToModelPosition(s.startLineNumber,s.startColumn),m=this.convertViewPositionToModelPosition(s.endLineNumber,s.endColumn);return new M.Range(o.lineNumber,o.column,m.lineNumber,m.column)}convertModelPositionToViewPosition(s,o,m=2){const _=this.model.validatePosition(new N.Position(s,o)),f=_.lineNumber,c=_.column;let C=f-1,y=!1;for(;C>0&&!this.modelLineProjections[C].isVisible();)C--,y=!0;if(C===0&&!this.modelLineProjections[C].isVisible())return new N.Position(1,1);const w=1+this.projectedModelLineLineCounts.getPrefixSum(C);let D;return y?D=this.modelLineProjections[C].getViewPositionOfModelPosition(w,this.model.getLineMaxColumn(C+1),m):D=this.modelLineProjections[f-1].getViewPositionOfModelPosition(w,c,m),D}convertModelRangeToViewRange(s,o=0){if(s.isEmpty()){const m=this.convertModelPositionToViewPosition(s.startLineNumber,s.startColumn,o);return M.Range.fromPositions(m)}else{const m=this.convertModelPositionToViewPosition(s.startLineNumber,s.startColumn,1),_=this.convertModelPositionToViewPosition(s.endLineNumber,s.endColumn,0);return new M.Range(m.lineNumber,m.column,_.lineNumber,_.column)}}getViewLineNumberOfModelPosition(s,o){let m=s-1;if(this.modelLineProjections[m].isVisible()){const f=1+this.projectedModelLineLineCounts.getPrefixSum(m);return this.modelLineProjections[m].getViewLineNumberOfModelPosition(f,o)}for(;m>0&&!this.modelLineProjections[m].isVisible();)m--;if(m===0&&!this.modelLineProjections[m].isVisible())return 1;const _=1+this.projectedModelLineLineCounts.getPrefixSum(m);return this.modelLineProjections[m].getViewLineNumberOfModelPosition(_,this.model.getLineMaxColumn(m+1))}getDecorationsInRange(s,o,m){const _=this.convertViewPositionToModelPosition(s.startLineNumber,s.startColumn),f=this.convertViewPositionToModelPosition(s.endLineNumber,s.endColumn);if(f.lineNumber-_.lineNumber<=s.endLineNumber-s.startLineNumber)return this.model.getDecorationsInRange(new M.Range(_.lineNumber,1,f.lineNumber,f.column),o,m);let c=[];const C=_.lineNumber-1,y=f.lineNumber-1;let w=null;for(let F=C;F<=y;F++)if(this.modelLineProjections[F].isVisible())w===null&&(w=new N.Position(F+1,F===C?_.column:1));else if(w!==null){const R=this.model.getLineMaxColumn(F);c=c.concat(this.model.getDecorationsInRange(new M.Range(w.lineNumber,w.column,F,R),o,m)),w=null}w!==null&&(c=c.concat(this.model.getDecorationsInRange(new M.Range(w.lineNumber,w.column,f.lineNumber,f.column),o,m)),w=null),c.sort((F,P)=>{const R=M.Range.compareRangesUsingStarts(F.range,P.range);return R===0?F.id<P.id?-1:F.id>P.id?1:0:R});let D=[],I=0,T=null;for(const F of c){const P=F.id;T!==P&&(T=P,D[I++]=F)}return D}getInjectedTextAt(s){const o=this.getViewLineInfo(s.lineNumber);return this.modelLineProjections[o.modelLineNumber-1].getInjectedTextAt(o.modelLineWrappedLineIdx,s.column)}normalizePosition(s,o){const m=this.getViewLineInfo(s.lineNumber);return this.modelLineProjections[m.modelLineNumber-1].normalizePosition(m.modelLineWrappedLineIdx,s,o)}getLineIndentColumn(s){const o=this.getViewLineInfo(s);return o.modelLineWrappedLineIdx===0?this.model.getLineIndentColumn(o.modelLineNumber):0}}e.ViewModelLinesFromProjectedModel=t;function a(r){if(r.length===0)return[];const s=r.slice();s.sort(M.Range.compareRangesUsingStarts);const o=[];let m=s[0].startLineNumber,_=s[0].endLineNumber;for(let f=1,c=s.length;f<c;f++){let C=s[f];C.startLineNumber>_+1?(o.push(new M.Range(m,1,_,1)),m=C.startLineNumber,_=C.endLineNumber):C.endLineNumber>_&&(_=C.endLineNumber)}return o.push(new M.Range(m,1,_,1)),o}class l{constructor(s,o){this.modelLineNumber=s,this.modelLineWrappedLineIdx=o}get isWrappedLineContinuation(){return this.modelLineWrappedLineIdx>0}}class h{constructor(s,o){this.modelRange=s,this.viewLines=o}}class d{constructor(s){this._lines=s}convertViewPositionToModelPosition(s){return this._lines.convertViewPositionToModelPosition(s.lineNumber,s.column)}convertViewRangeToModelRange(s){return this._lines.convertViewRangeToModelRange(s)}validateViewPosition(s,o){return this._lines.validateViewPosition(s.lineNumber,s.column,o)}validateViewRange(s,o){return this._lines.validateViewRange(s,o)}convertModelPositionToViewPosition(s,o){return this._lines.convertModelPositionToViewPosition(s.lineNumber,s.column,o)}convertModelRangeToViewRange(s,o){return this._lines.convertModelRangeToViewRange(s,o)}modelPositionIsVisible(s){return this._lines.modelPositionIsVisible(s.lineNumber,s.column)}getModelLineViewLineCount(s){return this._lines.getModelLineViewLineCount(s)}getViewLineNumberOfModelPosition(s,o){return this._lines.getViewLineNumberOfModelPosition(s,o)}}class u{constructor(s){this.model=s}dispose(){}createCoordinatesConverter(){return new n(this)}getHiddenAreas(){return[]}setHiddenAreas(s){return!1}setTabSize(s){return!1}setWrappingSettings(s,o,m,_){return!1}createLineBreaksComputer(){let s=[];return{addRequest:(o,m,_)=>{s.push(null)},finalize:()=>s}}onModelFlushed(){}onModelLinesDeleted(s,o,m){return new b.ViewLinesDeletedEvent(o,m)}onModelLinesInserted(s,o,m,_){return new b.ViewLinesInsertedEvent(o,m)}onModelLineChanged(s,o,m){return[!1,new b.ViewLinesChangedEvent(o,o),null,null]}acceptVersionId(s){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(s,o,m){return{startLineNumber:s,endLineNumber:s,indent:0}}getViewLinesBracketGuides(s,o,m){return new Array(o-s+1).fill([])}getViewLinesIndentGuides(s,o){const m=o-s+1;let _=new Array(m);for(let f=0;f<m;f++)_[f]=0;return _}getViewLineContent(s){return this.model.getLineContent(s)}getViewLineLength(s){return this.model.getLineLength(s)}getViewLineMinColumn(s){return this.model.getLineMinColumn(s)}getViewLineMaxColumn(s){return this.model.getLineMaxColumn(s)}getViewLineData(s){let o=this.model.getLineTokens(s),m=o.getLineContent();return new i.ViewLineData(m,!1,1,m.length+1,0,o.inflate(),null)}getViewLinesData(s,o,m){const _=this.model.getLineCount();s=Math.min(Math.max(1,s),_),o=Math.min(Math.max(1,o),_);let f=[];for(let c=s;c<=o;c++){let C=c-s;m[C]||(f[C]=null),f[C]=this.getViewLineData(c)}return f}getDecorationsInRange(s,o,m){return this.model.getDecorationsInRange(s,o,m)}normalizePosition(s,o){return this.model.normalizePosition(s,o)}getLineIndentColumn(s){return this.model.getLineIndentColumn(s)}getInjectedTextAt(s){return null}}e.ViewModelLinesFromModelAsIs=u;class n{constructor(s){this._lines=s}_validPosition(s){return this._lines.model.validatePosition(s)}_validRange(s){return this._lines.model.validateRange(s)}convertViewPositionToModelPosition(s){return this._validPosition(s)}convertViewRangeToModelRange(s){return this._validRange(s)}validateViewPosition(s,o){return this._validPosition(o)}validateViewRange(s,o){return this._validRange(o)}convertModelPositionToViewPosition(s){return this._validPosition(s)}convertModelRangeToViewRange(s){return this._validRange(s)}modelPositionIsVisible(s){const o=this._lines.model.getLineCount();return!(s.lineNumber<1||s.lineNumber>o)}getModelLineViewLineCount(s){return 1}getViewLineNumberOfModelPosition(s,o){return s}}}),define(ee[696],te([0,1,28,2,8,29,13,3,91,18,262,263,180,435,695,65,258,10,15,289,50,182,128,19]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u,n,r,s,o,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModel=void 0;const f=!0;class c extends N.Disposable{constructor(w,D,I,T,F,P){super();if(this._editorId=w,this._configuration=D,this.model=I,this._eventDispatcher=new o.ViewModelEventDispatcher,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new s.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._tokenizeViewportSoon=this._register(new u.RunOnceScheduler(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new u.RunOnceScheduler(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStartLine=-1,this._viewportStartLineTrackedRange=null,this._viewportStartLineDelta=0,f&&this.model.isTooLargeForTokenization())this._lines=new l.ViewModelLinesFromModelAsIs(this.model);else{const R=this._configuration.options,A=R.get(43),O=R.get(124),k=R.get(131),V=R.get(123);this._lines=new l.ViewModelLinesFromProjectedModel(this._editorId,this.model,T,F,A,this.model.getOptions().tabSize,O,k.wrappingColumn,V)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new r.CursorsController(I,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new a.ViewLayout(this._configuration,this.getLineCount(),P)),this._register(this.viewLayout.onDidScroll(R=>{R.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitSingleViewEvent(new t.ViewScrollChangedEvent(R)),this._eventDispatcher.emitOutgoingEvent(new o.ScrollChangedEvent(R.oldScrollWidth,R.oldScrollLeft,R.oldScrollHeight,R.oldScrollTop,R.scrollWidth,R.scrollLeft,R.scrollHeight,R.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(R=>{this._eventDispatcher.emitOutgoingEvent(R)})),this._decorations=new d.ViewModelDecorations(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(R=>{try{const A=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(A,R)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(i.MinimapTokensColorTracker.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new t.ViewTokensColorsChangedEvent)})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this.invalidateMinimapColorCache(),this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,null,1),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(w){this._eventDispatcher.addViewEventHandler(w)}removeViewEventHandler(w){this._eventDispatcher.removeViewEventHandler(w)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const w=this.viewLayout.getLinesViewportData(),D=new S.Range(w.startLineNumber,this.getLineMinColumn(w.startLineNumber),w.endLineNumber,this.getLineMaxColumn(w.endLineNumber)),I=this._toModelVisibleRanges(D);for(const T of I)this.model.tokenizeViewport(T.startLineNumber,T.endLineNumber)}setHasFocus(w){this._hasFocus=w,this._cursor.setHasFocus(w),this._eventDispatcher.emitSingleViewEvent(new t.ViewFocusChangedEvent(w)),this._eventDispatcher.emitOutgoingEvent(new o.FocusChangedEvent(!w,w))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new t.ViewCompositionStartEvent)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new t.ViewCompositionEndEvent)}onDidColorThemeChange(){this._eventDispatcher.emitSingleViewEvent(new t.ViewThemeChangedEvent)}_onConfigurationChanged(w,D){let I=null;if(this._viewportStartLine!==-1){let k=new g.Position(this._viewportStartLine,this.getLineMinColumn(this._viewportStartLine));I=this.coordinatesConverter.convertViewPositionToModelPosition(k)}let T=!1;const F=this._configuration.options,P=F.get(43),R=F.get(124),A=F.get(131),O=F.get(123);if(this._lines.setWrappingSettings(P,R,A.wrappingColumn,O)&&(w.emitViewEvent(new t.ViewFlushedEvent),w.emitViewEvent(new t.ViewLineMappingChangedEvent),w.emitViewEvent(new t.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(w),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.getCurrentScrollTop()!==0&&(T=!0),this._updateConfigurationViewLineCount.schedule()),D.hasChanged(80)&&(this._decorations.reset(),w.emitViewEvent(new t.ViewDecorationsChangedEvent(null))),w.emitViewEvent(new t.ViewConfigurationChangedEvent(D)),this.viewLayout.onConfigurationChanged(D),T&&I){const k=this.coordinatesConverter.convertModelPositionToViewPosition(I),V=this.viewLayout.getVerticalOffsetForLineNumber(k.lineNumber);this.viewLayout.setScrollPosition({scrollTop:V+this._viewportStartLineDelta},1)}s.CursorConfiguration.shouldRecreate(D)&&(this.cursorConfig=new s.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(w=>{try{const D=this._eventDispatcher.beginEmitViewEvents();let I=!1,T=!1;const F=w.changes,P=w instanceof b.ModelRawContentChangedEvent?w.versionId:null,R=this._lines.createLineBreaksComputer();for(const k of F)switch(k.changeType){case 4:{for(let V=0;V<k.detail.length;V++){const B=k.detail[V];let x=k.injectedTexts[V];x&&(x=x.filter(K=>!K.ownerId||K.ownerId===this._editorId)),R.addRequest(B,x,null)}break}case 2:{let V=null;k.injectedText&&(V=k.injectedText.filter(B=>!B.ownerId||B.ownerId===this._editorId)),R.addRequest(k.detail,V,null);break}}const A=R.finalize(),O=new _.ArrayQueue(A);for(const k of F)switch(k.changeType){case 1:{this._lines.onModelFlushed(),D.emitViewEvent(new t.ViewFlushedEvent),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),I=!0;break}case 3:{const V=this._lines.onModelLinesDeleted(P,k.fromLineNumber,k.toLineNumber);V!==null&&(D.emitViewEvent(V),this.viewLayout.onLinesDeleted(V.fromLineNumber,V.toLineNumber)),I=!0;break}case 4:{const V=O.takeCount(k.detail.length),B=this._lines.onModelLinesInserted(P,k.fromLineNumber,k.toLineNumber,V);B!==null&&(D.emitViewEvent(B),this.viewLayout.onLinesInserted(B.fromLineNumber,B.toLineNumber)),I=!0;break}case 2:{const V=O.dequeue(),[B,x,K,X]=this._lines.onModelLineChanged(P,k.lineNumber,V);T=B,x&&D.emitViewEvent(x),K&&(D.emitViewEvent(K),this.viewLayout.onLinesInserted(K.fromLineNumber,K.toLineNumber)),X&&(D.emitViewEvent(X),this.viewLayout.onLinesDeleted(X.fromLineNumber,X.toLineNumber));break}case 5:break}P!==null&&this._lines.acceptVersionId(P),this.viewLayout.onHeightMaybeChanged(),!I&&T&&(D.emitViewEvent(new t.ViewLineMappingChangedEvent),D.emitViewEvent(new t.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(D),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}if(this._viewportStartLine=-1,this._configuration.setMaxLineNumber(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&this._viewportStartLineTrackedRange){const D=this.model._getTrackedRange(this._viewportStartLineTrackedRange);if(D){const I=this.coordinatesConverter.convertModelPositionToViewPosition(D.getStartPosition()),T=this.viewLayout.getVerticalOffsetForLineNumber(I.lineNumber);this.viewLayout.setScrollPosition({scrollTop:T+this._viewportStartLineDelta},1)}}try{const D=this._eventDispatcher.beginEmitViewEvents();this._cursor.onModelContentChanged(D,w)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(this.model.onDidChangeTokens(w=>{let D=[];for(let I=0,T=w.ranges.length;I<T;I++){const F=w.ranges[I],P=this.coordinatesConverter.convertModelPositionToViewPosition(new g.Position(F.fromLineNumber,1)).lineNumber,R=this.coordinatesConverter.convertModelPositionToViewPosition(new g.Position(F.toLineNumber,this.model.getLineMaxColumn(F.toLineNumber))).lineNumber;D[I]={fromLineNumber:P,toLineNumber:R}}this._eventDispatcher.emitSingleViewEvent(new t.ViewTokensChangedEvent(D)),w.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeLanguageConfiguration(w=>{this._eventDispatcher.emitSingleViewEvent(new t.ViewLanguageConfigurationEvent),this.cursorConfig=new s.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeLanguage(w=>{this.cursorConfig=new s.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeOptions(w=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const D=this._eventDispatcher.beginEmitViewEvents();D.emitViewEvent(new t.ViewFlushedEvent),D.emitViewEvent(new t.ViewLineMappingChangedEvent),D.emitViewEvent(new t.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(D),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new s.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeDecorations(w=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new t.ViewDecorationsChangedEvent(w))}))}setHiddenAreas(w){let D=!1;try{const I=this._eventDispatcher.beginEmitViewEvents();D=this._lines.setHiddenAreas(w),D&&(I.emitViewEvent(new t.ViewFlushedEvent),I.emitViewEvent(new t.ViewLineMappingChangedEvent),I.emitViewEvent(new t.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(I),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),D&&this._eventDispatcher.emitOutgoingEvent(new o.ViewZonesChangedEvent)}getVisibleRangesPlusViewportAboveBelow(){const w=this._configuration.options.get(130),D=this._configuration.options.get(58),I=Math.max(20,Math.round(w.height/D)),T=this.viewLayout.getLinesViewportData(),F=Math.max(1,T.completelyVisibleStartLineNumber-I),P=Math.min(this.getLineCount(),T.completelyVisibleEndLineNumber+I);return this._toModelVisibleRanges(new S.Range(F,this.getLineMinColumn(F),P,this.getLineMaxColumn(P)))}getVisibleRanges(){const w=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(w)}_toModelVisibleRanges(w){const D=this.coordinatesConverter.convertViewRangeToModelRange(w),I=this._lines.getHiddenAreas();if(I.length===0)return[D];let T=[],F=0,P=D.startLineNumber,R=D.startColumn,A=D.endLineNumber,O=D.endColumn;for(let k=0,V=I.length;k<V;k++){const B=I[k].startLineNumber,x=I[k].endLineNumber;x<P||B>A||(P<B&&(T[F++]=new S.Range(P,R,B-1,this.model.getLineMaxColumn(B-1))),P=x+1,R=1)}return(P<A||P===A&&R<O)&&(T[F++]=new S.Range(P,R,A,O)),T}getCompletelyVisibleViewRange(){const w=this.viewLayout.getLinesViewportData(),D=w.completelyVisibleStartLineNumber,I=w.completelyVisibleEndLineNumber;return new S.Range(D,this.getLineMinColumn(D),I,this.getLineMaxColumn(I))}getCompletelyVisibleViewRangeAtScrollTop(w){const D=this.viewLayout.getLinesViewportDataAtScrollTop(w),I=D.completelyVisibleStartLineNumber,T=D.completelyVisibleEndLineNumber;return new S.Range(I,this.getLineMinColumn(I),T,this.getLineMaxColumn(T))}saveState(){const w=this.viewLayout.saveState(),D=w.scrollTop,I=this.viewLayout.getLineNumberAtVerticalOffset(D),T=this.coordinatesConverter.convertViewPositionToModelPosition(new g.Position(I,this.getLineMinColumn(I))),F=this.viewLayout.getVerticalOffsetForLineNumber(I)-D;return{scrollLeft:w.scrollLeft,firstPosition:T,firstPositionDeltaTop:F}}reduceRestoreState(w){if(typeof w.firstPosition=="undefined")return this._reduceRestoreStateCompatibility(w);const D=this.model.validatePosition(w.firstPosition),I=this.coordinatesConverter.convertModelPositionToViewPosition(D),T=this.viewLayout.getVerticalOffsetForLineNumber(I.lineNumber)-w.firstPositionDeltaTop;return{scrollLeft:w.scrollLeft,scrollTop:T}}_reduceRestoreStateCompatibility(w){return{scrollLeft:w.scrollLeft,scrollTop:w.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getTextModelOptions(){return this.model.getOptions()}getLineCount(){return this._lines.getViewLineCount()}setViewport(w,D,I){this._viewportStartLine=w;let T=this.coordinatesConverter.convertViewPositionToModelPosition(new g.Position(w,this.getLineMinColumn(w)));this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,new S.Range(T.lineNumber,T.column,T.lineNumber,T.column),1);const F=this.viewLayout.getVerticalOffsetForLineNumber(w),P=this.viewLayout.getCurrentScrollTop();this._viewportStartLineDelta=P-F}getActiveIndentGuide(w,D,I){return this._lines.getActiveIndentGuide(w,D,I)}getLinesIndentGuides(w,D){return this._lines.getViewLinesIndentGuides(w,D)}getBracketGuidesInRangeByLine(w,D,I,T){return this._lines.getViewLinesBracketGuides(w,D,I,T)}getLineContent(w){return this._lines.getViewLineContent(w)}getLineLength(w){return this._lines.getViewLineLength(w)}getLineMinColumn(w){return this._lines.getViewLineMinColumn(w)}getLineMaxColumn(w){return this._lines.getViewLineMaxColumn(w)}getLineFirstNonWhitespaceColumn(w){const D=M.firstNonWhitespaceIndex(this.getLineContent(w));return D===-1?0:D+1}getLineLastNonWhitespaceColumn(w){const D=M.lastNonWhitespaceIndex(this.getLineContent(w));return D===-1?0:D+2}getDecorationsInViewport(w){return this._decorations.getDecorationsViewportData(w).decorations}getInjectedTextAt(w){return this._lines.getInjectedTextAt(w)}getViewLineRenderingData(w,D){let I=this.model.mightContainRTL(),T=this.model.mightContainNonBasicASCII(),F=this.getTabSize(),P=this._lines.getViewLineData(D),A=this._decorations.getDecorationsViewportData(w).inlineDecorations[D-w.startLineNumber];return P.inlineDecorations&&(A=[...A,...P.inlineDecorations.map(O=>O.toInlineDecoration(D))]),new h.ViewLineRenderingData(P.minColumn,P.maxColumn,P.content,P.continuesWithWrappedLine,I,T,P.tokens,A,F,P.startVisibleColumn)}getViewLineData(w){return this._lines.getViewLineData(w)}getMinimapLinesRenderingData(w,D,I){let T=this._lines.getViewLinesData(w,D,I);return new h.MinimapLinesRenderingData(this.getTabSize(),T)}getAllOverviewRulerDecorations(w){const D=this.model.getOverviewRulerDecorations(this._editorId,(0,E.filterValidationDecorations)(this._configuration.options)),I=new C;for(const T of D){const F=T.options,P=F.overviewRuler;if(!P)continue;const R=P.position;if(R===0)continue;const A=P.getColor(w),O=this.coordinatesConverter.getViewLineNumberOfModelPosition(T.range.startLineNumber,T.range.startColumn),k=this.coordinatesConverter.getViewLineNumberOfModelPosition(T.range.endLineNumber,T.range.endColumn);I.accept(A,F.zIndex,O,k,R)}return I.asArray}invalidateOverviewRulerColorCache(){const w=this.model.getOverviewRulerDecorations();for(const D of w){const I=D.options.overviewRuler;I&&I.invalidateCachedColor()}}invalidateMinimapColorCache(){const w=this.model.getAllDecorations();for(const D of w){const I=D.options.minimap;I&&I.invalidateCachedColor()}}getValueInRange(w,D){const I=this.coordinatesConverter.convertViewRangeToModelRange(w);return this.model.getValueInRange(I,D)}getModelLineMaxColumn(w){return this.model.getLineMaxColumn(w)}validateModelPosition(w){return this.model.validatePosition(w)}validateModelRange(w){return this.model.validateRange(w)}deduceModelPositionRelativeToViewPosition(w,D,I){const T=this.coordinatesConverter.convertViewPositionToModelPosition(w);this.model.getEOL().length===2&&(D<0?D-=I:D+=I);const P=this.model.getOffsetAt(T)+D;return this.model.getPositionAt(P)}getEOL(){return this.model.getEOL()}getPlainTextToCopy(w,D,I){const T=I?`\r
`:this.model.getEOL();w=w.slice(0),w.sort(S.Range.compareRangesUsingStarts);let F=!1,P=!1;for(const A of w)A.isEmpty()?F=!0:P=!0;if(!P){if(!D)return"";const A=w.map(k=>k.startLineNumber);let O="";for(let k=0;k<A.length;k++)k>0&&A[k-1]===A[k]||(O+=this.model.getLineContent(A[k])+T);return O}if(F&&D){let A=[],O=0;for(const k of w){const V=k.startLineNumber;k.isEmpty()?V!==O&&A.push(this.model.getLineContent(V)):A.push(this.model.getValueInRange(k,I?2:0)),O=V}return A.length===1?A[0]:A}let R=[];for(const A of w)A.isEmpty()||R.push(this.model.getValueInRange(A,I?2:0));return R.length===1?R[0]:R}getRichTextToCopy(w,D){const I=this.model.getLanguageId();if(I===m.PLAINTEXT_MODE_ID||w.length!==1)return null;let T=w[0];if(T.isEmpty()){if(!D)return null;const k=T.startLineNumber;T=new S.Range(k,this.model.getLineMinColumn(k),k,this.model.getLineMaxColumn(k))}const F=this._configuration.options.get(43),P=this._getColorMap(),A=/[:;\\\/<>]/.test(F.fontFamily)||F.fontFamily===E.EDITOR_FONT_DEFAULTS.fontFamily;let O;return A?O=E.EDITOR_FONT_DEFAULTS.fontFamily:(O=F.fontFamily,O=O.replace(/"/g,"'"),/[,']/.test(O)||/[+ ]/.test(O)&&(O=`'${O}'`),O=`${O}, ${E.EDITOR_FONT_DEFAULTS.fontFamily}`),{mode:I,html:`<div style="color: ${P[1]};background-color: ${P[2]};font-family: ${O};font-weight: ${F.fontWeight};font-size: ${F.fontSize}px;line-height: ${F.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(T,P)+"</div>"}}_getHTMLToCopy(w,D){const I=w.startLineNumber,T=w.startColumn,F=w.endLineNumber,P=w.endColumn,R=this.getTabSize();let A="";for(let O=I;O<=F;O++){const k=this.model.getLineTokens(O),V=k.getLineContent(),B=O===I?T-1:0,x=O===F?P-1:V.length;V===""?A+="<br>":A+=(0,v.tokenizeLineToHTML)(V,k.inflate(),D,B,x,R,n.isWindows)}return A}_getColorMap(){let w=p.TokenizationRegistry.getColorMap(),D=["#000000"];if(w)for(let I=1,T=w.length;I<T;I++)D[I]=L.Color.Format.CSS.formatHex(w[I]);return D}pushStackElement(){this.model.pushStackElement()}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(w,D,I){this._withViewEventsCollector(T=>this._cursor.setStates(T,w,D,I))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(w){this._cursor.setCursorColumnSelectData(w)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(w){this._cursor.setPrevEditOperationType(w)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(w,D,I=0){this._withViewEventsCollector(T=>this._cursor.setSelections(T,w,D,I))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(w){this._withViewEventsCollector(D=>this._cursor.restoreState(D,w))}_executeCursorEdit(w){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new o.ReadOnlyEditAttemptEvent);return}this._withViewEventsCollector(w)}executeEdits(w,D,I){this._executeCursorEdit(T=>this._cursor.executeEdits(T,w,D,I))}startComposition(){this._cursor.setIsDoingComposition(!0),this._executeCursorEdit(w=>this._cursor.startComposition(w))}endComposition(w){this._cursor.setIsDoingComposition(!1),this._executeCursorEdit(D=>this._cursor.endComposition(D,w))}type(w,D){this._executeCursorEdit(I=>this._cursor.type(I,w,D))}compositionType(w,D,I,T,F){this._executeCursorEdit(P=>this._cursor.compositionType(P,w,D,I,T,F))}paste(w,D,I,T){this._executeCursorEdit(F=>this._cursor.paste(F,w,D,I,T))}cut(w){this._executeCursorEdit(D=>this._cursor.cut(D,w))}executeCommand(w,D){this._executeCursorEdit(I=>this._cursor.executeCommand(I,w,D))}executeCommands(w,D){this._executeCursorEdit(I=>this._cursor.executeCommands(I,w,D))}revealPrimaryCursor(w,D){this._withViewEventsCollector(I=>this._cursor.revealPrimary(I,w,D,0))}revealTopMostCursor(w){const D=this._cursor.getTopMostViewPosition(),I=new S.Range(D.lineNumber,D.column,D.lineNumber,D.column);this._withViewEventsCollector(T=>T.emitViewEvent(new t.ViewRevealRangeRequestEvent(w,I,null,0,!0,0)))}revealBottomMostCursor(w){const D=this._cursor.getBottomMostViewPosition(),I=new S.Range(D.lineNumber,D.column,D.lineNumber,D.column);this._withViewEventsCollector(T=>T.emitViewEvent(new t.ViewRevealRangeRequestEvent(w,I,null,0,!0,0)))}revealRange(w,D,I,T,F){this._withViewEventsCollector(P=>P.emitViewEvent(new t.ViewRevealRangeRequestEvent(w,I,null,T,D,F)))}getVerticalOffsetForLineNumber(w){return this.viewLayout.getVerticalOffsetForLineNumber(w)}getScrollTop(){return this.viewLayout.getCurrentScrollTop()}setScrollTop(w,D){this.viewLayout.setScrollPosition({scrollTop:w},D)}setScrollPosition(w,D){this.viewLayout.setScrollPosition(w,D)}deltaScrollNow(w,D){this.viewLayout.deltaScrollNow(w,D)}changeWhitespace(w){this.viewLayout.changeWhitespace(w)&&(this._eventDispatcher.emitSingleViewEvent(new t.ViewZonesChangedEvent),this._eventDispatcher.emitOutgoingEvent(new o.ViewZonesChangedEvent))}setMaxLineWidth(w){this.viewLayout.setMaxLineWidth(w)}_withViewEventsCollector(w){try{const D=this._eventDispatcher.beginEmitViewEvents();w(D)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(w,D){return this._lines.normalizePosition(w,D)}getLineIndentColumn(w){return this._lines.getLineIndentColumn(w)}}e.ViewModel=c;class C{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(w,D,I,T,F){const P=this._asMap[w];if(P){const R=P.data,A=R[R.length-3],O=R[R.length-1];if(A===F&&O+1>=I){T>O&&(R[R.length-1]=T);return}R.push(F,I,T)}else{const R=new h.OverviewRulerDecorationsGroup(w,D,[F,I,T]);this._asMap[w]=R,this.asArray.push(R)}}}}),define(ee[164],te([0,1,486,7,12,4,88,2,42,63,16,30,692,288,29,289,50,13,3,23,234,115,25,31,18,52,24,696,26,17,9,157,41,14,62,20,425,609,162,647,367]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u,n,r,s,o,m,_,f,c,C,y,w,D,I,T,F,P,R,A,O,k,V){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorModeContext=e.BooleanEventEmitter=e.CodeEditorWidget=void 0;let B=0;class x{constructor(J,re,ge,pe,oe){this.model=J,this.viewModel=re,this.view=ge,this.hasRealView=pe,this.listenersToRemove=oe}dispose(){(0,S.dispose)(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let K=class Yt extends S.Disposable{constructor(J,re,ge,pe,oe,$,ie,le,de,fe){super();this._onDidDispose=this._register(new E.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new E.Emitter),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new E.Emitter),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new E.Emitter),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new E.Emitter),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new E.Emitter),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeConfiguration=this._register(new E.Emitter),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new E.Emitter),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new E.Emitter),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new E.Emitter),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new E.Emitter),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new E.Emitter),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new X),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new X),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new E.Emitter),this.onWillType=this._onWillType.event,this._onDidType=this._register(new E.Emitter),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new E.Emitter),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new E.Emitter),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new E.Emitter),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new E.Emitter),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new E.Emitter),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new E.Emitter),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new E.Emitter),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new E.Emitter),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onContextMenu=this._register(new E.Emitter),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new E.Emitter),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new E.Emitter),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new E.Emitter),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new E.Emitter),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new E.Emitter),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new E.Emitter),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new E.Emitter),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new E.Emitter),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new E.Emitter),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._bannerDomNode=null;const he=Object.assign({},re);this._domElement=J,this._overflowWidgetsDomNode=he.overflowWidgetsDomNode,delete he.overflowWidgetsDomNode,this._id=++B,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this.isSimpleWidget=ge.isSimpleWidget||!1,this._telemetryData=ge.telemetryData,this._configuration=this._register(this._createConfiguration(he,fe)),this._register(this._configuration.onDidChange(ce=>{this._onDidChangeConfiguration.fire(ce);const Se=this._configuration.options;if(ce.hasChanged(130)){const Le=Se.get(130);this._onDidLayoutChange.fire(Le)}})),this._contextKeyService=this._register(ie.createScoped(this._domElement)),this._notificationService=de,this._codeEditorService=oe,this._commandService=$,this._themeService=le,this._register(new Z(this,this._contextKeyService)),this._register(new q(this,this._contextKeyService)),this._instantiationService=pe.createChild(new T.ServiceCollection([D.IContextKeyService,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new H(J),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={};let se;Array.isArray(ge.contributions)?se=ge.contributions:se=v.EditorExtensionsRegistry.getEditorContributions();for(const ce of se){if(this._contributions[ce.id]){(0,M.onUnexpectedError)(new Error(`Cannot have two contributions with the same id ${ce.id}`));continue}try{const Se=this._instantiationService.createInstance(ce.ctor,this);this._contributions[ce.id]=Se}catch(Se){(0,M.onUnexpectedError)(Se)}}v.EditorExtensionsRegistry.getEditorActions().forEach(ce=>{if(this._actions[ce.id]){(0,M.onUnexpectedError)(new Error(`Cannot have two actions with the same id ${ce.id}`));return}const Se=new s.InternalEditorAction(ce.id,ce.label,ce.alias,(0,A.withNullAsUndefined)(ce.precondition),()=>this._instantiationService.invokeFunction(Le=>Promise.resolve(ce.runEditorCommand(Le,this,null))),this._contextKeyService);this._actions[Se.id]=Se}),this._codeEditorService.addCodeEditor(this)}_createConfiguration(J,re){return new p.Configuration(this.isSimpleWidget,J,this._domElement,re)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return o.EditorType.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const J=Object.keys(this._contributions);for(let re=0,ge=J.length;re<ge;re++){const pe=J[re];this._contributions[pe].dispose()}this._contributions={},this._actions={},this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(J){return this._instantiationService.invokeFunction(J)}updateOptions(J){this._configuration.updateOptions(J)}getOptions(){return this._configuration.options}getOption(J){return this._configuration.options.get(J)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(J){return this._modelData?V.WordOperations.getWordAtPosition(this._modelData.model,this._configuration.options.get(116),J):null}getValue(J=null){if(!this._modelData)return"";const re=!!(J&&J.preserveBOM);let ge=0;return J&&J.lineEnding&&J.lineEnding===`
`?ge=1:J&&J.lineEnding&&J.lineEnding===`\r
`&&(ge=2),this._modelData.model.getValue(ge,re)}setValue(J){!this._modelData||this._modelData.model.setValue(J)}getModel(){return this._modelData?this._modelData.model:null}setModel(J=null){const re=J;if(this._modelData===null&&re===null||this._modelData&&this._modelData.model===re)return;const ge=this.hasTextFocus(),pe=this._detachModel();this._attachModel(re),ge&&this.hasModel()&&this.focus();const oe={oldModelUrl:pe?pe.uri:null,newModelUrl:re?re.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(oe),this._postDetachModelCleanup(pe)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(let J in this._decorationTypeSubtypes){const re=this._decorationTypeSubtypes[J];for(let ge in re)this._removeDecorationType(J+"-"+ge)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetForPosition(J,re,ge){const pe=J.model.validatePosition({lineNumber:re,column:ge}),oe=J.viewModel.coordinatesConverter.convertModelPositionToViewPosition(pe);return J.viewModel.viewLayout.getVerticalOffsetForLineNumber(oe.lineNumber)}getTopForLineNumber(J){return this._modelData?Yt._getVerticalOffsetForPosition(this._modelData,J,1):-1}getTopForPosition(J,re){return this._modelData?Yt._getVerticalOffsetForPosition(this._modelData,J,re):-1}setHiddenAreas(J){this._modelData&&this._modelData.viewModel.setHiddenAreas(J.map(re=>n.Range.lift(re)))}getVisibleColumnFromPosition(J){if(!this._modelData)return J.column;const re=this._modelData.model.validatePosition(J),ge=this._modelData.model.getOptions().tabSize;return d.CursorColumns.visibleColumnFromColumn(this._modelData.model.getLineContent(re.lineNumber),re.column,ge)+1}getStatusbarColumn(J){if(!this._modelData)return J.column;const re=this._modelData.model.validatePosition(J),ge=this._modelData.model.getOptions().tabSize;return d.CursorColumns.toStatusbarColumn(this._modelData.model.getLineContent(re.lineNumber),re.column,ge)}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(J){if(!!this._modelData){if(!u.Position.isIPosition(J))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections("api",[{selectionStartLineNumber:J.lineNumber,selectionStartColumn:J.column,positionLineNumber:J.lineNumber,positionColumn:J.column}])}}_sendRevealRange(J,re,ge,pe){if(!this._modelData)return;if(!n.Range.isIRange(J))throw new Error("Invalid arguments");const oe=this._modelData.model.validateRange(J),$=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(oe);this._modelData.viewModel.revealRange("api",ge,$,re,pe)}revealLine(J,re=0){this._revealLine(J,0,re)}revealLineInCenter(J,re=0){this._revealLine(J,1,re)}revealLineInCenterIfOutsideViewport(J,re=0){this._revealLine(J,2,re)}revealLineNearTop(J,re=0){this._revealLine(J,5,re)}_revealLine(J,re,ge){if(typeof J!="number")throw new Error("Invalid arguments");this._sendRevealRange(new n.Range(J,1,J,1),re,!1,ge)}revealPosition(J,re=0){this._revealPosition(J,0,!0,re)}revealPositionInCenter(J,re=0){this._revealPosition(J,1,!0,re)}revealPositionInCenterIfOutsideViewport(J,re=0){this._revealPosition(J,2,!0,re)}revealPositionNearTop(J,re=0){this._revealPosition(J,5,!0,re)}_revealPosition(J,re,ge,pe){if(!u.Position.isIPosition(J))throw new Error("Invalid arguments");this._sendRevealRange(new n.Range(J.lineNumber,J.column,J.lineNumber,J.column),re,ge,pe)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(J){const re=r.Selection.isISelection(J),ge=n.Range.isIRange(J);if(!re&&!ge)throw new Error("Invalid arguments");if(re)this._setSelectionImpl(J);else if(ge){const pe={selectionStartLineNumber:J.startLineNumber,selectionStartColumn:J.startColumn,positionLineNumber:J.endLineNumber,positionColumn:J.endColumn};this._setSelectionImpl(pe)}}_setSelectionImpl(J){if(!this._modelData)return;const re=new r.Selection(J.selectionStartLineNumber,J.selectionStartColumn,J.positionLineNumber,J.positionColumn);this._modelData.viewModel.setSelections("api",[re])}revealLines(J,re,ge=0){this._revealLines(J,re,0,ge)}revealLinesInCenter(J,re,ge=0){this._revealLines(J,re,1,ge)}revealLinesInCenterIfOutsideViewport(J,re,ge=0){this._revealLines(J,re,2,ge)}revealLinesNearTop(J,re,ge=0){this._revealLines(J,re,5,ge)}_revealLines(J,re,ge,pe){if(typeof J!="number"||typeof re!="number")throw new Error("Invalid arguments");this._sendRevealRange(new n.Range(J,1,re,1),ge,!1,pe)}revealRange(J,re=0,ge=!1,pe=!0){this._revealRange(J,ge?1:0,pe,re)}revealRangeInCenter(J,re=0){this._revealRange(J,1,!0,re)}revealRangeInCenterIfOutsideViewport(J,re=0){this._revealRange(J,2,!0,re)}revealRangeNearTop(J,re=0){this._revealRange(J,5,!0,re)}revealRangeNearTopIfOutsideViewport(J,re=0){this._revealRange(J,6,!0,re)}revealRangeAtTop(J,re=0){this._revealRange(J,3,!0,re)}_revealRange(J,re,ge,pe){if(!n.Range.isIRange(J))throw new Error("Invalid arguments");this._sendRevealRange(n.Range.lift(J),re,ge,pe)}setSelections(J,re="api",ge=0){if(!!this._modelData){if(!J||J.length===0)throw new Error("Invalid arguments");for(let pe=0,oe=J.length;pe<oe;pe++)if(!r.Selection.isISelection(J[pe]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(re,J,ge)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(J,re=1){if(!!this._modelData){if(typeof J!="number")throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollLeft:J},re)}}setScrollTop(J,re=1){if(!!this._modelData){if(typeof J!="number")throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollTop:J},re)}}setScrollPosition(J,re=1){!this._modelData||this._modelData.viewModel.setScrollPosition(J,re)}saveViewState(){if(!this._modelData)return null;const J={},re=Object.keys(this._contributions);for(const oe of re){const $=this._contributions[oe];typeof $.saveViewState=="function"&&(J[oe]=$.saveViewState())}const ge=this._modelData.viewModel.saveCursorState(),pe=this._modelData.viewModel.saveState();return{cursorState:ge,viewState:pe,contributionsState:J}}restoreViewState(J){if(!this._modelData||!this._modelData.hasRealView)return;const re=J;if(re&&re.cursorState&&re.viewState){const ge=re.cursorState;Array.isArray(ge)?this._modelData.viewModel.restoreCursorState(ge):this._modelData.viewModel.restoreCursorState([ge]);const pe=re.contributionsState||{},oe=Object.keys(this._contributions);for(let ie=0,le=oe.length;ie<le;ie++){const de=oe[ie],fe=this._contributions[de];typeof fe.restoreViewState=="function"&&fe.restoreViewState(pe[de])}const $=this._modelData.viewModel.reduceRestoreState(re.viewState);this._modelData.view.restoreState($)}}onVisible(){var J;(J=this._modelData)===null||J===void 0||J.view.refreshFocusState()}onHide(){var J;(J=this._modelData)===null||J===void 0||J.view.refreshFocusState(),this._focusTracker.refreshState()}getContribution(J){return this._contributions[J]||null}getActions(){const J=[],re=Object.keys(this._actions);for(let ge=0,pe=re.length;ge<pe;ge++){const oe=re[ge];J.push(this._actions[oe])}return J}getSupportedActions(){let J=this.getActions();return J=J.filter(re=>re.isSupported()),J}getAction(J){return this._actions[J]||null}trigger(J,re,ge){switch(ge=ge||{},re){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(J);return;case"type":{const oe=ge;this._type(J,oe.text||"");return}case"replacePreviousChar":{const oe=ge;this._compositionType(J,oe.text||"",oe.replaceCharCnt||0,0,0);return}case"compositionType":{const oe=ge;this._compositionType(J,oe.text||"",oe.replacePrevCharCnt||0,oe.replaceNextCharCnt||0,oe.positionDelta||0);return}case"paste":{const oe=ge;this._paste(J,oe.text||"",oe.pasteOnNewLine||!1,oe.multicursorText||null,oe.mode||null);return}case"cut":this._cut(J);return}const pe=this.getAction(re);if(pe){Promise.resolve(pe.run()).then(void 0,M.onUnexpectedError);return}!this._modelData||this._triggerEditorCommand(J,re,ge)||this._triggerCommand(re,ge)}_triggerCommand(J,re){this._commandService.executeCommand(J,re)}_startComposition(){!this._modelData||(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(J){!this._modelData||(this._modelData.viewModel.endComposition(J),this._onDidCompositionEnd.fire())}_type(J,re){!this._modelData||re.length===0||(J==="keyboard"&&this._onWillType.fire(re),this._modelData.viewModel.type(re,J),J==="keyboard"&&this._onDidType.fire(re))}_compositionType(J,re,ge,pe,oe){!this._modelData||this._modelData.viewModel.compositionType(re,ge,pe,oe,J)}_paste(J,re,ge,pe,oe){if(!this._modelData||re.length===0)return;const $=this._modelData.viewModel.getSelection().getStartPosition();this._modelData.viewModel.paste(re,ge,pe,J);const ie=this._modelData.viewModel.getSelection().getStartPosition();J==="keyboard"&&this._onDidPaste.fire({range:new n.Range($.lineNumber,$.column,ie.lineNumber,ie.column),languageId:oe})}_cut(J){!this._modelData||this._modelData.viewModel.cut(J)}_triggerEditorCommand(J,re,ge){const pe=v.EditorExtensionsRegistry.getEditorCommand(re);return pe?(ge=ge||{},ge.source=J,this._instantiationService.invokeFunction(oe=>{Promise.resolve(pe.runEditorCommand(oe,this,ge)).then(void 0,M.onUnexpectedError)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(80)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(80)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(J,re,ge){if(!this._modelData||this._configuration.options.get(80))return!1;let pe;return ge?Array.isArray(ge)?pe=()=>ge:pe=ge:pe=()=>null,this._modelData.viewModel.executeEdits(J,re,pe),!0}executeCommand(J,re){!this._modelData||this._modelData.viewModel.executeCommand(re,J)}executeCommands(J,re){!this._modelData||this._modelData.viewModel.executeCommands(re,J)}changeDecorations(J){return this._modelData?this._modelData.model.changeDecorations(J,this._id):null}getLineDecorations(J){return this._modelData?this._modelData.model.getLineDecorations(J,this._id,(0,l.filterValidationDecorations)(this._configuration.options)):null}deltaDecorations(J,re){return this._modelData?J.length===0&&re.length===0?J:this._modelData.model.deltaDecorations(J,re,this._id):[]}setDecorations(J,re,ge){const pe={},oe=this._decorationTypeSubtypes[re]||{};this._decorationTypeSubtypes[re]=pe;const $=[];for(let le of ge){let de=re;if(le.renderOptions){const he=(0,g.hash)(le.renderOptions).toString(16);de=re+"-"+he,!oe[he]&&!pe[he]&&this._registerDecorationType(J,de,le.renderOptions,re),pe[he]=!0}const fe=this._resolveDecorationOptions(de,!!le.hoverMessage);le.hoverMessage&&(fe.hoverMessage=le.hoverMessage),$.push({range:le.range,options:fe})}for(let le in oe)pe[le]||this._removeDecorationType(re+"-"+le);const ie=this._decorationTypeKeysToIds[re]||[];this._decorationTypeKeysToIds[re]=this.deltaDecorations(ie,$)}setDecorationsFast(J,re){const ge=this._decorationTypeSubtypes[J]||{};for(let ie in ge)this._removeDecorationType(J+"-"+ie);this._decorationTypeSubtypes[J]={};const pe=_.ModelDecorationOptions.createDynamic(this._resolveDecorationOptions(J,!1)),oe=new Array(re.length);for(let ie=0,le=re.length;ie<le;ie++)oe[ie]={range:re[ie],options:pe};const $=this._decorationTypeKeysToIds[J]||[];this._decorationTypeKeysToIds[J]=this.deltaDecorations($,oe)}removeDecorations(J){const re=this._decorationTypeKeysToIds[J];re&&this.deltaDecorations(re,[]),this._decorationTypeKeysToIds.hasOwnProperty(J)&&delete this._decorationTypeKeysToIds[J],this._decorationTypeSubtypes.hasOwnProperty(J)&&delete this._decorationTypeSubtypes[J]}getLayoutInfo(){return this._configuration.options.get(130)}createOverviewRuler(J){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(J)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarMouseDown(J){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarMouseDown(J)}layout(J){this._configuration.observeReferenceElement(J),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(J){const re={widget:J,position:J.getPosition()};this._contentWidgets.hasOwnProperty(J.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[J.getId()]=re,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(re)}layoutContentWidget(J){const re=J.getId();if(this._contentWidgets.hasOwnProperty(re)){const ge=this._contentWidgets[re];ge.position=J.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(ge)}}removeContentWidget(J){const re=J.getId();if(this._contentWidgets.hasOwnProperty(re)){const ge=this._contentWidgets[re];delete this._contentWidgets[re],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(ge)}}addOverlayWidget(J){const re={widget:J,position:J.getPosition()};this._overlayWidgets.hasOwnProperty(J.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[J.getId()]=re,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(re)}layoutOverlayWidget(J){const re=J.getId();if(this._overlayWidgets.hasOwnProperty(re)){const ge=this._overlayWidgets[re];ge.position=J.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(ge)}}removeOverlayWidget(J){const re=J.getId();if(this._overlayWidgets.hasOwnProperty(re)){const ge=this._overlayWidgets[re];delete this._overlayWidgets[re],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(ge)}}changeViewZones(J){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(J)}getTargetAtClientPoint(J,re){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(J,re)}getScrolledVisiblePosition(J){if(!this._modelData||!this._modelData.hasRealView)return null;const re=this._modelData.model.validatePosition(J),ge=this._configuration.options,pe=ge.get(130),oe=Yt._getVerticalOffsetForPosition(this._modelData,re.lineNumber,re.column)-this.getScrollTop(),$=this._modelData.view.getOffsetForColumn(re.lineNumber,re.column)+pe.glyphMarginWidth+pe.lineNumbersWidth+pe.decorationsWidth-this.getScrollLeft();return{top:oe,left:$,height:ge.get(58)}}getOffsetForColumn(J,re){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(J,re)}render(J=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,J)}setAriaOptions(J){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(J)}applyFontInfo(J){p.Configuration.applyFontInfoSlow(J,this._configuration.options.get(43))}setBanner(J,re){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=J,this._configuration.reserveHeight(J?re:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(J){if(!J){this._modelData=null;return}const re=[];this._domElement.setAttribute("data-mode-id",J.getLanguageId()),this._configuration.setIsDominatedByLongLines(J.isDominatedByLongLines()),this._configuration.setMaxLineNumber(J.getLineCount()),J.onBeforeAttached();const ge=new y.ViewModel(this._id,this._configuration,J,k.DOMLineBreaksComputerFactory.create(),O.MonospaceLineBreaksComputerFactory.create(this._configuration.options),$=>N.scheduleAtNextAnimationFrame($));re.push(J.onDidChangeDecorations($=>this._onDidChangeModelDecorations.fire($))),re.push(J.onDidChangeLanguage($=>{this._domElement.setAttribute("data-mode-id",J.getLanguageId()),this._onDidChangeModelLanguage.fire($)})),re.push(J.onDidChangeLanguageConfiguration($=>this._onDidChangeModelLanguageConfiguration.fire($))),re.push(J.onDidChangeContent($=>this._onDidChangeModelContent.fire($))),re.push(J.onDidChangeOptions($=>this._onDidChangeModelOptions.fire($))),re.push(J.onWillDispose(()=>this.setModel(null))),re.push(ge.onEvent($=>{switch($.kind){case 0:this._onDidContentSizeChange.fire($);break;case 1:this._editorTextFocus.setValue($.hasFocus);break;case 2:this._onDidScrollChange.fire($);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{$.reachedMaxCursorCount&&this._notificationService.warn(L.localize(0,null,h.CursorsController.MAX_CURSOR_COUNT));const ie=[];for(let fe=0,he=$.selections.length;fe<he;fe++)ie[fe]=$.selections[fe].getPosition();const le={position:ie[0],secondaryPositions:ie.slice(1),reason:$.reason,source:$.source};this._onDidChangeCursorPosition.fire(le);const de={selection:$.selections[0],secondarySelections:$.selections.slice(1),modelVersionId:$.modelVersionId,oldSelections:$.oldSelections,oldModelVersionId:$.oldModelVersionId,source:$.source,reason:$.reason};this._onDidChangeCursorSelection.fire(de);break}}}));const[pe,oe]=this._createView(ge);if(oe){this._domElement.appendChild(pe.domNode.domNode);let $=Object.keys(this._contentWidgets);for(let ie=0,le=$.length;ie<le;ie++){const de=$[ie];pe.addContentWidget(this._contentWidgets[de])}$=Object.keys(this._overlayWidgets);for(let ie=0,le=$.length;ie<le;ie++){const de=$[ie];pe.addOverlayWidget(this._overlayWidgets[de])}pe.render(!1,!0),pe.domNode.domNode.setAttribute("data-uri",J.uri.toString())}this._modelData=new x(J,ge,pe,oe,re)}_createView(J){let re;this.isSimpleWidget?re={paste:(oe,$,ie,le)=>{this._paste("keyboard",oe,$,ie,le)},type:oe=>{this._type("keyboard",oe)},compositionType:(oe,$,ie,le)=>{this._compositionType("keyboard",oe,$,ie,le)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:re={paste:(oe,$,ie,le)=>{const de={text:oe,pasteOnNewLine:$,multicursorText:ie,mode:le};this._commandService.executeCommand("paste",de)},type:oe=>{const $={text:oe};this._commandService.executeCommand("type",$)},compositionType:(oe,$,ie,le)=>{if(ie||le){const de={text:oe,replacePrevCharCnt:$,replaceNextCharCnt:ie,positionDelta:le};this._commandService.executeCommand("compositionType",de)}else{const de={text:oe,replaceCharCnt:$};this._commandService.executeCommand("replacePreviousChar",de)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const ge=new a.ViewUserInputEvents(J.coordinatesConverter);return ge.onKeyDown=oe=>this._onKeyDown.fire(oe),ge.onKeyUp=oe=>this._onKeyUp.fire(oe),ge.onContextMenu=oe=>this._onContextMenu.fire(oe),ge.onMouseMove=oe=>this._onMouseMove.fire(oe),ge.onMouseLeave=oe=>this._onMouseLeave.fire(oe),ge.onMouseDown=oe=>this._onMouseDown.fire(oe),ge.onMouseUp=oe=>this._onMouseUp.fire(oe),ge.onMouseDrag=oe=>this._onMouseDrag.fire(oe),ge.onMouseDrop=oe=>this._onMouseDrop.fire(oe),ge.onMouseDropCanceled=oe=>this._onMouseDropCanceled.fire(oe),ge.onMouseWheel=oe=>this._onMouseWheel.fire(oe),[new t.View(re,this._configuration,this._themeService,J,ge,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(J){J&&J.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const J=this._modelData.model,re=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),re&&this._domElement.contains(re)&&this._domElement.removeChild(re),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),J}_registerDecorationType(J,re,ge,pe){this._codeEditorService.registerDecorationType(J,re,ge,pe,this)}_removeDecorationType(J){this._codeEditorService.removeDecorationType(J)}_resolveDecorationOptions(J,re){return this._codeEditorService.resolveDecorationOptions(J,re)}getTelemetryData(){return this._telemetryData}hasModel(){return this._modelData!==null}};K=Ve([Ce(3,I.IInstantiationService),Ce(4,i.ICodeEditorService),Ce(5,w.ICommandService),Ce(6,D.IContextKeyService),Ce(7,P.IThemeService),Ce(8,F.INotificationService),Ce(9,R.IAccessibilityService)],K),e.CodeEditorWidget=K;class X extends S.Disposable{constructor(){super();this._onDidChangeToTrue=this._register(new E.Emitter),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new E.Emitter),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(J){const re=J?2:1;this._value!==re&&(this._value=re,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}e.BooleanEventEmitter=X;class Z extends S.Disposable{constructor(J,re){super();this._editor=J,re.createKey("editorId",J.getId()),this._editorSimpleInput=m.EditorContextKeys.editorSimpleInput.bindTo(re),this._editorFocus=m.EditorContextKeys.focus.bindTo(re),this._textInputFocus=m.EditorContextKeys.textInputFocus.bindTo(re),this._editorTextFocus=m.EditorContextKeys.editorTextFocus.bindTo(re),this._editorTabMovesFocus=m.EditorContextKeys.tabMovesFocus.bindTo(re),this._editorReadonly=m.EditorContextKeys.readOnly.bindTo(re),this._inDiffEditor=m.EditorContextKeys.inDiffEditor.bindTo(re),this._editorColumnSelection=m.EditorContextKeys.columnSelection.bindTo(re),this._hasMultipleSelections=m.EditorContextKeys.hasMultipleSelections.bindTo(re),this._hasNonEmptySelection=m.EditorContextKeys.hasNonEmptySelection.bindTo(re),this._canUndo=m.EditorContextKeys.canUndo.bindTo(re),this._canRedo=m.EditorContextKeys.canRedo.bindTo(re),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const J=this._editor.getOptions();this._editorTabMovesFocus.set(J.get(129)),this._editorReadonly.set(J.get(80)),this._inDiffEditor.set(J.get(53)),this._editorColumnSelection.set(J.get(18))}_updateFromSelection(){const J=this._editor.getSelections();J?(this._hasMultipleSelections.set(J.length>1),this._hasNonEmptySelection.set(J.some(re=>!re.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const J=this._editor.getModel();this._canUndo.set(Boolean(J&&J.canUndo())),this._canRedo.set(Boolean(J&&J.canRedo()))}}class q extends S.Disposable{constructor(J,re){super();this._editor=J,this._contextKeyService=re,this._langId=m.EditorContextKeys.languageId.bindTo(re),this._hasCompletionItemProvider=m.EditorContextKeys.hasCompletionItemProvider.bindTo(re),this._hasCodeActionsProvider=m.EditorContextKeys.hasCodeActionsProvider.bindTo(re),this._hasCodeLensProvider=m.EditorContextKeys.hasCodeLensProvider.bindTo(re),this._hasDefinitionProvider=m.EditorContextKeys.hasDefinitionProvider.bindTo(re),this._hasDeclarationProvider=m.EditorContextKeys.hasDeclarationProvider.bindTo(re),this._hasImplementationProvider=m.EditorContextKeys.hasImplementationProvider.bindTo(re),this._hasTypeDefinitionProvider=m.EditorContextKeys.hasTypeDefinitionProvider.bindTo(re),this._hasHoverProvider=m.EditorContextKeys.hasHoverProvider.bindTo(re),this._hasDocumentHighlightProvider=m.EditorContextKeys.hasDocumentHighlightProvider.bindTo(re),this._hasDocumentSymbolProvider=m.EditorContextKeys.hasDocumentSymbolProvider.bindTo(re),this._hasReferenceProvider=m.EditorContextKeys.hasReferenceProvider.bindTo(re),this._hasRenameProvider=m.EditorContextKeys.hasRenameProvider.bindTo(re),this._hasSignatureHelpProvider=m.EditorContextKeys.hasSignatureHelpProvider.bindTo(re),this._hasInlayHintsProvider=m.EditorContextKeys.hasInlayHintsProvider.bindTo(re),this._hasDocumentFormattingProvider=m.EditorContextKeys.hasDocumentFormattingProvider.bindTo(re),this._hasDocumentSelectionFormattingProvider=m.EditorContextKeys.hasDocumentSelectionFormattingProvider.bindTo(re),this._hasMultipleDocumentFormattingProvider=m.EditorContextKeys.hasMultipleDocumentFormattingProvider.bindTo(re),this._hasMultipleDocumentSelectionFormattingProvider=m.EditorContextKeys.hasMultipleDocumentSelectionFormattingProvider.bindTo(re),this._isInWalkThrough=m.EditorContextKeys.isInWalkThroughSnippet.bindTo(re);const ge=()=>this._update();this._register(J.onDidChangeModel(ge)),this._register(J.onDidChangeModelLanguage(ge)),this._register(f.CompletionProviderRegistry.onDidChange(ge)),this._register(f.CodeActionProviderRegistry.onDidChange(ge)),this._register(f.CodeLensProviderRegistry.onDidChange(ge)),this._register(f.DefinitionProviderRegistry.onDidChange(ge)),this._register(f.DeclarationProviderRegistry.onDidChange(ge)),this._register(f.ImplementationProviderRegistry.onDidChange(ge)),this._register(f.TypeDefinitionProviderRegistry.onDidChange(ge)),this._register(f.HoverProviderRegistry.onDidChange(ge)),this._register(f.DocumentHighlightProviderRegistry.onDidChange(ge)),this._register(f.DocumentSymbolProviderRegistry.onDidChange(ge)),this._register(f.ReferenceProviderRegistry.onDidChange(ge)),this._register(f.RenameProviderRegistry.onDidChange(ge)),this._register(f.DocumentFormattingEditProviderRegistry.onDidChange(ge)),this._register(f.DocumentRangeFormattingEditProviderRegistry.onDidChange(ge)),this._register(f.SignatureHelpProviderRegistry.onDidChange(ge)),this._register(f.InlayHintsProviderRegistry.onDidChange(ge)),ge()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const J=this._editor.getModel();if(!J){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(J.getLanguageId()),this._hasCompletionItemProvider.set(f.CompletionProviderRegistry.has(J)),this._hasCodeActionsProvider.set(f.CodeActionProviderRegistry.has(J)),this._hasCodeLensProvider.set(f.CodeLensProviderRegistry.has(J)),this._hasDefinitionProvider.set(f.DefinitionProviderRegistry.has(J)),this._hasDeclarationProvider.set(f.DeclarationProviderRegistry.has(J)),this._hasImplementationProvider.set(f.ImplementationProviderRegistry.has(J)),this._hasTypeDefinitionProvider.set(f.TypeDefinitionProviderRegistry.has(J)),this._hasHoverProvider.set(f.HoverProviderRegistry.has(J)),this._hasDocumentHighlightProvider.set(f.DocumentHighlightProviderRegistry.has(J)),this._hasDocumentSymbolProvider.set(f.DocumentSymbolProviderRegistry.has(J)),this._hasReferenceProvider.set(f.ReferenceProviderRegistry.has(J)),this._hasRenameProvider.set(f.RenameProviderRegistry.has(J)),this._hasSignatureHelpProvider.set(f.SignatureHelpProviderRegistry.has(J)),this._hasInlayHintsProvider.set(f.InlayHintsProviderRegistry.has(J)),this._hasDocumentFormattingProvider.set(f.DocumentFormattingEditProviderRegistry.has(J)||f.DocumentRangeFormattingEditProviderRegistry.has(J)),this._hasDocumentSelectionFormattingProvider.set(f.DocumentRangeFormattingEditProviderRegistry.has(J)),this._hasMultipleDocumentFormattingProvider.set(f.DocumentFormattingEditProviderRegistry.all(J).length+f.DocumentRangeFormattingEditProviderRegistry.all(J).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(f.DocumentRangeFormattingEditProviderRegistry.all(J).length>1),this._isInWalkThrough.set(J.uri.scheme===b.Schemas.walkThroughSnippet)})}}e.EditorModeContext=q;class H extends S.Disposable{constructor(J){super();this._onChange=this._register(new E.Emitter),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(N.trackFocus(J)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}refreshState(){this._domFocusTracker.refreshState&&this._domFocusTracker.refreshState()}}const G=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),z=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function W(ne){return G+encodeURIComponent(ne.toString())+z}const j=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),U=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function Y(ne){return j+encodeURIComponent(ne.toString())+U}(0,P.registerThemingParticipant)((ne,J)=>{const re=ne.getColor(C.editorErrorBorder);re&&J.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${re}; }`);const ge=ne.getColor(C.editorErrorForeground);ge&&J.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${W(ge)}") repeat-x bottom left; }`);const pe=ne.getColor(C.editorErrorBackground);pe&&J.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${pe}; }`);const oe=ne.getColor(C.editorWarningBorder);oe&&J.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${oe}; }`);const $=ne.getColor(C.editorWarningForeground);$&&J.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${W($)}") repeat-x bottom left; }`);const ie=ne.getColor(C.editorWarningBackground);ie&&J.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${ie}; }`);const le=ne.getColor(C.editorInfoBorder);le&&J.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${le}; }`);const de=ne.getColor(C.editorInfoForeground);de&&J.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${W(de)}") repeat-x bottom left; }`);const fe=ne.getColor(C.editorInfoBackground);fe&&J.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${fe}; }`);const he=ne.getColor(C.editorHintBorder);he&&J.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${he}; }`);const se=ne.getColor(C.editorHintForeground);se&&J.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${Y(se)}") no-repeat bottom left; }`);const ce=ne.getColor(c.editorUnnecessaryCodeOpacity);ce&&J.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${ce.rgba.a}; }`);const Se=ne.getColor(c.editorUnnecessaryCodeBorder);Se&&J.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${Se}; }`);const Le=ne.getColor(C.editorForeground)||"inherit";J.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${Le}}`)})}),define(ee[203],te([0,1,487,7,32,113,10,4,2,63,70,30,164,680,29,3,89,115,31,67,240,151,120,65,17,9,157,41,24,14,69,490,85,16,12,61,229,27,142,71,365]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u,n,r,s,o,m,_,f,c,C,y,w,D,I,T,F,P,R,A,O,k,V,B){"use strict";var x;Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorWidget=void 0;class K{constructor(se,ce){this._contextMenuService=se,this._clipboardService=ce,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(se){return se.filter(ce=>!this._zonesMap[String(ce.id)])}clean(se){this._zones.length>0&&se.changeViewZones(ce=>{for(const Se of this._zones)ce.removeZone(Se)}),this._zones=[],this._zonesMap={},this._decorations=se.deltaDecorations(this._decorations,[])}apply(se,ce,Se,Le){const ue=Le?v.StableEditorScrollState.capture(se):null;se.changeViewZones(we=>{var ae;for(const me of this._zones)we.removeZone(me);for(const me of this._inlineDiffMargins)me.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let me=0,Ie=Se.zones.length;me<Ie;me++){const Fe=Se.zones[me];Fe.suppressMouseDown=!0;const ze=we.addZone(Fe);this._zones.push(ze),this._zonesMap[String(ze)]=!0,Se.zones[me].diff&&Fe.marginDomNode&&(Fe.suppressMouseDown=!1,((ae=Se.zones[me].diff)===null||ae===void 0?void 0:ae.originalModel.getValueLength())!==0&&this._inlineDiffMargins.push(new T.InlineDiffMargin(ze,Fe.marginDomNode,se,Se.zones[me].diff,this._contextMenuService,this._clipboardService)))}}),ue&&ue.restore(se),this._decorations=se.deltaDecorations(this._decorations,Se.decorations),ce&&ce.setZones(Se.overviewZones)}}let X=0;const Z=(0,B.registerIcon)("diff-insert",k.Codicon.add,L.localize(0,null)),q=(0,B.registerIcon)("diff-remove",k.Codicon.remove,L.localize(1,null)),H=(x=window.trustedTypes)===null||x===void 0?void 0:x.createPolicy("diffEditorWidget",{createHTML:he=>he});let G=class dt extends b.Disposable{constructor(se,ce,Se,Le,ue,we,ae,me,Ie,Fe,ze,Ke){super();this._editorProgressService=Ke,this._onDidDispose=this._register(new S.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new S.Emitter),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new S.Emitter),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=ue,this._codeEditorService=me,this._contextKeyService=this._register(we.createScoped(se)),this._instantiationService=ae.createChild(new C.ServiceCollection([f.IContextKeyService,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=Ie,this._notificationService=Fe,this._id=++X,this._state=0,this._updatingDiffProgress=null,this._domElement=se,ce=ce||{},this._options=de(ce,{enableSplitViewResizing:!0,renderSideBySide:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit"}),typeof ce.isInEmbeddedEditor!="undefined"?this._contextKeyService.createKey("isInEmbeddedDiffEditor",ce.isInEmbeddedEditor):this._contextKeyService.createKey("isInEmbeddedDiffEditor",!1),this._updateDecorationsRunner=this._register(new g.RunOnceScheduler(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=dt._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=(0,M.createFastDomNode)(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(N.addStandardDisposableListener(this._overviewDomElement,"mousedown",Ne=>{this._modifiedEditor.delegateVerticalScrollbarMouseDown(Ne)})),this._options.renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new K(ze,Le),this._modifiedEditorState=new K(ze,Le),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new O.ElementSizeObserver(this._containerDomElement,ce.dimension,()=>this._onDidContainerSizeChanged())),ce.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(ce,Se.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(ce,Se.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=ae.createInstance(a.DiffReview,this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._options.renderSideBySide?this._setStrategy(new ne(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new re(this._createDataSource(),this._options.enableSplitViewResizing)),this._register(Ie.onDidColorThemeChange(Ne=>{this._strategy&&this._strategy.applyColors(Ne)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=dt._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)}));const be=P.EditorExtensionsRegistry.getDiffEditorContributions();for(const Ne of be)try{this._register(ae.createInstance(Ne.ctor,this))}catch(Be){(0,R.onUnexpectedError)(Be)}this._codeEditorService.addDiffEditor(this)}get ignoreTrimWhitespace(){return this._options.ignoreTrimWhitespace}get maxComputationTime(){return this._options.maxComputationTime}getContentHeight(){return this._modifiedEditor.getContentHeight()}getViewWidth(){return this._elementSizeObserver.getWidth()}_setState(se){this._state!==se&&(this._state=se,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),this._state===1&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}hasWidgetFocus(){return N.isAncestor(document.activeElement,this._domElement)}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(se,ce){let Se="monaco-diff-editor monaco-editor-background ";return ce&&(Se+="side-by-side "),Se+=(0,D.getThemeTypeSelector)(se.type),Se}_recreateOverviewRulers(){!this._options.renderOverviewRuler||(this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(se,ce){const Se=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(se),ce);this._register(Se.onDidScrollChange(ue=>{this._isHandlingScrollEvent||!ue.scrollTopChanged&&!ue.scrollLeftChanged&&!ue.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:ue.scrollLeft,scrollTop:ue.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(Se.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(Se.onDidChangeConfiguration(ue=>{!Se.getModel()||(ue.hasChanged(43)&&this._updateDecorationsRunner.schedule(),ue.hasChanged(131)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(Se.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(Se.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const Le=this._contextKeyService.createKey("isInDiffLeftEditor",Se.hasWidgetFocus());return this._register(Se.onDidFocusEditorWidget(()=>Le.set(!0))),this._register(Se.onDidBlurEditorWidget(()=>Le.set(!1))),this._register(Se.onDidContentSizeChange(ue=>{const we=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+dt.ONE_OVERVIEW_WIDTH,ae=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:ae,contentWidth:we,contentHeightChanged:ue.contentHeightChanged,contentWidthChanged:ue.contentWidthChanged})})),Se}_createRightHandSideEditor(se,ce){const Se=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(se),ce);this._register(Se.onDidScrollChange(ue=>{this._isHandlingScrollEvent||!ue.scrollTopChanged&&!ue.scrollLeftChanged&&!ue.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:ue.scrollLeft,scrollTop:ue.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(Se.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(Se.onDidChangeConfiguration(ue=>{!Se.getModel()||(ue.hasChanged(43)&&this._updateDecorationsRunner.schedule(),ue.hasChanged(131)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(Se.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(Se.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(Se.onDidChangeModelOptions(ue=>{ue.tabSize&&this._updateDecorationsRunner.schedule()}));const Le=this._contextKeyService.createKey("isInDiffRightEditor",Se.hasWidgetFocus());return this._register(Se.onDidFocusEditorWidget(()=>Le.set(!0))),this._register(Se.onDidBlurEditorWidget(()=>Le.set(!1))),this._register(Se.onDidContentSizeChange(ue=>{const we=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+dt.ONE_OVERVIEW_WIDTH,ae=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:ae,contentWidth:we,contentHeightChanged:ue.contentHeightChanged,contentWidthChanged:ue.contentWidthChanged})})),Se}_createInnerEditor(se,ce,Se,Le){return se.createInstance(t.CodeEditorWidget,ce,Se,Le)}dispose(){this._codeEditorService.removeDiffEditor(this),this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return u.EditorType.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getDiffComputationResult(){return this._diffComputationResult}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(se){const ce=de(se,this._options),Se=fe(this._options,ce);this._options=ce;const Le=Se.ignoreTrimWhitespace||Se.renderIndicators,ue=this._isVisible&&(Se.maxComputationTime||Se.maxFileSize);Le?this._beginUpdateDecorations():ue&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(se)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(se)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing),Se.renderSideBySide&&(this._options.renderSideBySide?this._setStrategy(new ne(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new re(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=dt._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),Se.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(se){if(se&&(!se.original||!se.modified))throw new Error(se.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._originalEditor.setModel(se?se.original:null),this._modifiedEditor.setModel(se?se.modified:null),this._updateDecorationsRunner.cancel(),se&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),se&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getDomNode(){return this._domElement}getVisibleColumnFromPosition(se){return this._modifiedEditor.getVisibleColumnFromPosition(se)}getStatusbarColumn(se){return this._modifiedEditor.getStatusbarColumn(se)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(se){this._modifiedEditor.setPosition(se)}revealLine(se,ce=0){this._modifiedEditor.revealLine(se,ce)}revealLineInCenter(se,ce=0){this._modifiedEditor.revealLineInCenter(se,ce)}revealLineInCenterIfOutsideViewport(se,ce=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(se,ce)}revealLineNearTop(se,ce=0){this._modifiedEditor.revealLineNearTop(se,ce)}revealPosition(se,ce=0){this._modifiedEditor.revealPosition(se,ce)}revealPositionInCenter(se,ce=0){this._modifiedEditor.revealPositionInCenter(se,ce)}revealPositionInCenterIfOutsideViewport(se,ce=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(se,ce)}revealPositionNearTop(se,ce=0){this._modifiedEditor.revealPositionNearTop(se,ce)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(se){this._modifiedEditor.setSelection(se)}setSelections(se){this._modifiedEditor.setSelections(se)}revealLines(se,ce,Se=0){this._modifiedEditor.revealLines(se,ce,Se)}revealLinesInCenter(se,ce,Se=0){this._modifiedEditor.revealLinesInCenter(se,ce,Se)}revealLinesInCenterIfOutsideViewport(se,ce,Se=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(se,ce,Se)}revealLinesNearTop(se,ce,Se=0){this._modifiedEditor.revealLinesNearTop(se,ce,Se)}revealRange(se,ce=0,Se=!1,Le=!0){this._modifiedEditor.revealRange(se,ce,Se,Le)}revealRangeInCenter(se,ce=0){this._modifiedEditor.revealRangeInCenter(se,ce)}revealRangeInCenterIfOutsideViewport(se,ce=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(se,ce)}revealRangeNearTop(se,ce=0){this._modifiedEditor.revealRangeNearTop(se,ce)}revealRangeNearTopIfOutsideViewport(se,ce=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(se,ce)}revealRangeAtTop(se,ce=0){this._modifiedEditor.revealRangeAtTop(se,ce)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){const se=this._originalEditor.saveViewState(),ce=this._modifiedEditor.saveViewState();return{original:se,modified:ce}}restoreViewState(se){if(se&&se.original&&se.modified){const ce=se;this._originalEditor.restoreViewState(ce.original),this._modifiedEditor.restoreViewState(ce.modified)}}layout(se){this._elementSizeObserver.observe(se)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}onVisible(){this._isVisible=!0,this._originalEditor.onVisible(),this._modifiedEditor.onVisible(),this._beginUpdateDecorations()}onHide(){this._isVisible=!1,this._originalEditor.onHide(),this._modifiedEditor.onHide(),this._cleanViewZonesAndDecorations()}trigger(se,ce,Se){this._modifiedEditor.trigger(se,ce,Se)}changeDecorations(se){return this._modifiedEditor.changeDecorations(se)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._options.renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const se=this._elementSizeObserver.getHeight(),ce=this._getReviewHeight(),Se=dt.ENTIRE_DIFF_OVERVIEW_WIDTH-2*dt.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:dt.ONE_OVERVIEW_WIDTH,right:Se+dt.ONE_OVERVIEW_WIDTH,height:se-ce}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:dt.ONE_OVERVIEW_WIDTH,height:se-ce}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),dt.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(se,ce){return!se&&!ce?!0:!se||!ce?!1:se.toString()===ce.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const se=this._originalEditor.getModel(),ce=this._modifiedEditor.getModel();if(!se||!ce)return;this._diffComputationToken++;const Se=this._diffComputationToken,Le=this._options.maxFileSize*1024*1024,ue=we=>{const ae=we.getValueLength();return Le===0||ae<=Le};if(!ue(se)||!ue(ce)){(!dt._equals(se.uri,this._lastOriginalWarning)||!dt._equals(ce.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=se.uri,this._lastModifiedWarning=ce.uri,this._notificationService.warn(L.localize(2,null)));return}this._setState(1),this._editorWorkerService.computeDiff(se.uri,ce.uri,this._options.ignoreTrimWhitespace,this._options.maxComputationTime).then(we=>{Se===this._diffComputationToken&&se===this._originalEditor.getModel()&&ce===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=we,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},we=>{Se===this._diffComputationToken&&se===this._originalEditor.getModel()&&ce===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const se=this._diffComputationResult?this._diffComputationResult.changes:[],ce=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),Se=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),Le=this._strategy.getEditorsDiffDecorations(se,this._options.ignoreTrimWhitespace,this._options.renderIndicators,ce,Se);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,Le.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,Le.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(se){const ce=Object.assign({},se);return ce.inDiffEditor=!0,ce.automaticLayout=!1,ce.scrollbar=Object.assign({},ce.scrollbar||{}),ce.scrollbar.vertical="visible",ce.folding=!1,ce.codeLens=this._options.diffCodeLens,ce.fixedOverflowWidgets=!0,ce.minimap=Object.assign({},ce.minimap||{}),ce.minimap.enabled=!1,ce}_adjustOptionsForLeftHandSide(se){const ce=this._adjustOptionsForSubEditor(se);return this._options.renderSideBySide?ce.wordWrapOverride1=this._options.diffWordWrap:ce.wordWrapOverride1="off",se.originalAriaLabel&&(ce.ariaLabel=se.originalAriaLabel),ce.readOnly=!this._options.originalEditable,ce.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},ce),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(se){const ce=this._adjustOptionsForSubEditor(se);return se.modifiedAriaLabel&&(ce.ariaLabel=se.modifiedAriaLabel),ce.wordWrapOverride1=this._options.diffWordWrap,ce.revealHorizontalRightPadding=l.EditorOptions.revealHorizontalRightPadding.defaultValue+dt.ENTIRE_DIFF_OVERVIEW_WIDTH,ce.scrollbar.verticalHasArrows=!1,ce.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},ce),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const se=this._elementSizeObserver.getWidth(),ce=this._elementSizeObserver.getHeight(),Se=this._getReviewHeight(),Le=this._strategy.layout();this._originalDomNode.style.width=Le+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=se-Le+"px",this._modifiedDomNode.style.left=Le+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=ce-Se+"px",this._overviewDomElement.style.width=dt.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=se-dt.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(dt.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:Le,height:ce-Se}),this._modifiedEditor.layout({width:se-Le-(this._options.renderOverviewRuler?dt.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:ce-Se}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(ce-Se,se,Se),this._layoutOverviewViewport()}_layoutOverviewViewport(){const se=this._computeOverviewViewport();se?(this._overviewViewportDomElement.setTop(se.top),this._overviewViewportDomElement.setHeight(se.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const se=this._modifiedEditor.getLayoutInfo();if(!se)return null;const ce=this._modifiedEditor.getScrollTop(),Se=this._modifiedEditor.getScrollHeight(),Le=Math.max(0,se.height),ue=Math.max(0,Le-2*0),we=Se>0?ue/Se:0,ae=Math.max(0,Math.floor(se.height*we)),me=Math.floor(ce*we);return{height:ae,top:me}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._options.renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(se){this._strategy&&this._strategy.dispose(),this._strategy=se,se.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(se,ce){const Se=this._diffComputationResult?this._diffComputationResult.changes:[];if(Se.length===0||se<ce(Se[0]))return null;let Le=0,ue=Se.length-1;for(;Le<ue;){const we=Math.floor((Le+ue)/2),ae=ce(Se[we]),me=we+1<=ue?ce(Se[we+1]):1073741824;se<ae?ue=we-1:se>=me?Le=we+1:(Le=we,ue=we)}return Se[Le]}_getEquivalentLineForOriginalLineNumber(se){const ce=this._getLineChangeAtOrBeforeLineNumber(se,me=>me.originalStartLineNumber);if(!ce)return se;const Se=ce.originalStartLineNumber+(ce.originalEndLineNumber>0?-1:0),Le=ce.modifiedStartLineNumber+(ce.modifiedEndLineNumber>0?-1:0),ue=ce.originalEndLineNumber>0?ce.originalEndLineNumber-ce.originalStartLineNumber+1:0,we=ce.modifiedEndLineNumber>0?ce.modifiedEndLineNumber-ce.modifiedStartLineNumber+1:0,ae=se-Se;return ae<=ue?Le+Math.min(ae,we):Le+we-ue+ae}_getEquivalentLineForModifiedLineNumber(se){const ce=this._getLineChangeAtOrBeforeLineNumber(se,me=>me.modifiedStartLineNumber);if(!ce)return se;const Se=ce.originalStartLineNumber+(ce.originalEndLineNumber>0?-1:0),Le=ce.modifiedStartLineNumber+(ce.modifiedEndLineNumber>0?-1:0),ue=ce.originalEndLineNumber>0?ce.originalEndLineNumber-ce.originalStartLineNumber+1:0,we=ce.modifiedEndLineNumber>0?ce.modifiedEndLineNumber-ce.modifiedStartLineNumber+1:0,ae=se-Le;return ae<=we?Se+Math.min(ae,ue):Se+ue-we+ae}getDiffLineInformationForOriginal(se){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(se)}:null}getDiffLineInformationForModified(se){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(se)}:null}};G.ONE_OVERVIEW_WIDTH=15,G.ENTIRE_DIFF_OVERVIEW_WIDTH=30,G.UPDATE_DIFF_DECORATIONS_DELAY=200,G=Ve([Ce(3,F.IClipboardService),Ce(4,r.IEditorWorkerService),Ce(5,f.IContextKeyService),Ce(6,c.IInstantiationService),Ce(7,i.ICodeEditorService),Ce(8,D.IThemeService),Ce(9,y.INotificationService),Ce(10,I.IContextMenuService),Ce(11,A.IEditorProgressService)],G),e.DiffEditorWidget=G;class z extends b.Disposable{constructor(se){super();this._dataSource=se,this._insertColor=null,this._removeColor=null}applyColors(se){const ce=(se.getColor(w.diffInserted)||w.defaultInsertColor).transparent(2),Se=(se.getColor(w.diffRemoved)||w.defaultRemoveColor).transparent(2),Le=!ce.equals(this._insertColor)||!Se.equals(this._removeColor);return this._insertColor=ce,this._removeColor=Se,Le}getEditorsDiffDecorations(se,ce,Se,Le,ue){ue=ue.sort((Ie,Fe)=>Ie.afterLineNumber-Fe.afterLineNumber),Le=Le.sort((Ie,Fe)=>Ie.afterLineNumber-Fe.afterLineNumber);const we=this._getViewZones(se,Le,ue,Se),ae=this._getOriginalEditorDecorations(se,ce,Se),me=this._getModifiedEditorDecorations(se,ce,Se);return{original:{decorations:ae.decorations,overviewZones:ae.overviewZones,zones:we.original},modified:{decorations:me.decorations,overviewZones:me.overviewZones,zones:we.modified}}}}class W{constructor(se){this._source=se,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class j{constructor(se,ce,Se,Le,ue){this._lineChanges=se,this._originalForeignVZ=ce,this._modifiedForeignVZ=Se,this._originalEditor=Le,this._modifiedEditor=ue}static _getViewLineCount(se,ce,Se){const Le=se.getModel(),ue=se._getViewModel();if(Le&&ue){const we=le(Le,ue,ce,Se);return we.endLineNumber-we.startLineNumber+1}return Se-ce+1}getViewZones(){const se=this._originalEditor.getOption(58),ce=this._modifiedEditor.getOption(58),Se=this._originalEditor.getOption(131).wrappingColumn!==-1,Le=this._modifiedEditor.getOption(131).wrappingColumn!==-1,ue=Se||Le,we=this._originalEditor.getModel(),ae=this._originalEditor._getViewModel().coordinatesConverter,me=this._modifiedEditor._getViewModel().coordinatesConverter,Ie={original:[],modified:[]};let Fe=0,ze=0,Ke=0,be=0,Ne=0,Be=0;const $e=(Re,ve)=>Re.afterLineNumber-ve.afterLineNumber,je=(Re,ve)=>{if(ve.domNode===null&&Re.length>0){const _e=Re[Re.length-1];if(_e.afterLineNumber===ve.afterLineNumber&&_e.domNode===null){_e.heightInLines+=ve.heightInLines;return}}Re.push(ve)},He=new W(this._modifiedForeignVZ),qe=new W(this._originalForeignVZ);let Pe=1,Ae=1;for(let Re=0,ve=this._lineChanges.length;Re<=ve;Re++){const _e=Re<ve?this._lineChanges[Re]:null;_e!==null?(Ke=_e.originalStartLineNumber+(_e.originalEndLineNumber>0?-1:0),be=_e.modifiedStartLineNumber+(_e.modifiedEndLineNumber>0?-1:0),ze=_e.originalEndLineNumber>0?j._getViewLineCount(this._originalEditor,_e.originalStartLineNumber,_e.originalEndLineNumber):0,Fe=_e.modifiedEndLineNumber>0?j._getViewLineCount(this._modifiedEditor,_e.modifiedStartLineNumber,_e.modifiedEndLineNumber):0,Ne=Math.max(_e.originalStartLineNumber,_e.originalEndLineNumber),Be=Math.max(_e.modifiedStartLineNumber,_e.modifiedEndLineNumber)):(Ke+=1e7+ze,be+=1e7+Fe,Ne=Ke,Be=be);let Te=[],Ee=[];if(ue){let Oe;_e?_e.originalEndLineNumber>0?Oe=_e.originalStartLineNumber-Pe:Oe=_e.modifiedStartLineNumber-Ae:Oe=we.getLineCount()-Pe;for(let Ue=0;Ue<Oe;Ue++){const Ye=Pe+Ue,Ge=Ae+Ue,Xe=ae.getModelLineViewLineCount(Ye),et=me.getModelLineViewLineCount(Ge);Xe<et?Te.push({afterLineNumber:Ye,heightInLines:et-Xe,domNode:null,marginDomNode:null}):Xe>et&&Ee.push({afterLineNumber:Ge,heightInLines:Xe-et,domNode:null,marginDomNode:null})}_e&&(Pe=(_e.originalEndLineNumber>0?_e.originalEndLineNumber:_e.originalStartLineNumber)+1,Ae=(_e.modifiedEndLineNumber>0?_e.modifiedEndLineNumber:_e.modifiedStartLineNumber)+1)}for(;He.current&&He.current.afterLineNumber<=Be;){let Oe;He.current.afterLineNumber<=be?Oe=Ke-be+He.current.afterLineNumber:Oe=Ne;let Ue=null;_e&&_e.modifiedStartLineNumber<=He.current.afterLineNumber&&He.current.afterLineNumber<=_e.modifiedEndLineNumber&&(Ue=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),Te.push({afterLineNumber:Oe,heightInLines:He.current.height/ce,domNode:null,marginDomNode:Ue}),He.advance()}for(;qe.current&&qe.current.afterLineNumber<=Ne;){let Oe;qe.current.afterLineNumber<=Ke?Oe=be-Ke+qe.current.afterLineNumber:Oe=Be,Ee.push({afterLineNumber:Oe,heightInLines:qe.current.height/se,domNode:null}),qe.advance()}if(_e!==null&&oe(_e)){const Oe=this._produceOriginalFromDiff(_e,ze,Fe);Oe&&Te.push(Oe)}if(_e!==null&&$(_e)){const Oe=this._produceModifiedFromDiff(_e,ze,Fe);Oe&&Ee.push(Oe)}let ye=0,We=0;for(Te=Te.sort($e),Ee=Ee.sort($e);ye<Te.length&&We<Ee.length;){const Oe=Te[ye],Ue=Ee[We],Ye=Oe.afterLineNumber-Ke,Ge=Ue.afterLineNumber-be;Ye<Ge?(je(Ie.original,Oe),ye++):Ge<Ye?(je(Ie.modified,Ue),We++):Oe.shouldNotShrink?(je(Ie.original,Oe),ye++):Ue.shouldNotShrink?(je(Ie.modified,Ue),We++):Oe.heightInLines>=Ue.heightInLines?(Oe.heightInLines-=Ue.heightInLines,We++):(Ue.heightInLines-=Oe.heightInLines,ye++)}for(;ye<Te.length;)je(Ie.original,Te[ye]),ye++;for(;We<Ee.length;)je(Ie.modified,Ee[We]),We++}return{original:j._ensureDomNodes(Ie.original),modified:j._ensureDomNodes(Ie.modified)}}static _ensureDomNodes(se){return se.map(ce=>(ce.domNode||(ce.domNode=ie()),ce))}}function U(he,se,ce,Se,Le){return{range:new h.Range(he,se,ce,Se),options:Le}}const Y={charDelete:n.ModelDecorationOptions.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:n.ModelDecorationOptions.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:n.ModelDecorationOptions.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:n.ModelDecorationOptions.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:n.ModelDecorationOptions.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"line-insert",isWholeLine:!0}),lineInsertWithSign:n.ModelDecorationOptions.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+D.ThemeIcon.asClassName(Z),marginClassName:"line-insert",isWholeLine:!0}),lineDelete:n.ModelDecorationOptions.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteWithSign:n.ModelDecorationOptions.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+D.ThemeIcon.asClassName(q),marginClassName:"line-delete",isWholeLine:!0}),lineDeleteMargin:n.ModelDecorationOptions.register({description:"diff-editor-line-delete-margin",marginClassName:"line-delete"})};class ne extends z{constructor(se,ce){super(se);this._disableSash=ce===!1,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new E.Sash(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(Se=>this._onSashDrag(Se)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(se){const ce=se===!1;this._disableSash!==ce&&(this._disableSash=ce,this._sash.state=this._disableSash?0:3)}layout(se=this._sashRatio){const Se=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?G.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let Le=Math.floor((se||.5)*Se);const ue=Math.floor(.5*Se);return Le=this._disableSash?ue:Le||ue,Se>ne.MINIMUM_EDITOR_WIDTH*2?(Le<ne.MINIMUM_EDITOR_WIDTH&&(Le=ne.MINIMUM_EDITOR_WIDTH),Le>Se-ne.MINIMUM_EDITOR_WIDTH&&(Le=Se-ne.MINIMUM_EDITOR_WIDTH)):Le=ue,this._sashPosition!==Le&&(this._sashPosition=Le,this._sash.layout()),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(se){const Se=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?G.ENTIRE_DIFF_OVERVIEW_WIDTH:0),Le=this.layout((this._startSashPosition+(se.currentX-se.startX))/Se);this._sashRatio=Le/Se,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(se){return 0}getVerticalSashLeft(se){return this._sashPosition}getVerticalSashHeight(se){return this._dataSource.getHeight()}_getViewZones(se,ce,Se){const Le=this._dataSource.getOriginalEditor(),ue=this._dataSource.getModifiedEditor();return new J(se,ce,Se,Le,ue).getViewZones()}_getOriginalEditorDecorations(se,ce,Se){const Le=this._dataSource.getOriginalEditor(),ue=String(this._removeColor),we={decorations:[],overviewZones:[]},ae=Le.getModel(),me=Le._getViewModel();for(const Ie of se)if($(Ie)){we.decorations.push({range:new h.Range(Ie.originalStartLineNumber,1,Ie.originalEndLineNumber,1073741824),options:Se?Y.lineDeleteWithSign:Y.lineDelete}),(!oe(Ie)||!Ie.charChanges)&&we.decorations.push(U(Ie.originalStartLineNumber,1,Ie.originalEndLineNumber,1073741824,Y.charDeleteWholeLine));const Fe=le(ae,me,Ie.originalStartLineNumber,Ie.originalEndLineNumber);if(we.overviewZones.push(new s.OverviewRulerZone(Fe.startLineNumber,Fe.endLineNumber,ue)),Ie.charChanges){for(const ze of Ie.charChanges)if($(ze))if(ce)for(let Ke=ze.originalStartLineNumber;Ke<=ze.originalEndLineNumber;Ke++){let be,Ne;Ke===ze.originalStartLineNumber?be=ze.originalStartColumn:be=ae.getLineFirstNonWhitespaceColumn(Ke),Ke===ze.originalEndLineNumber?Ne=ze.originalEndColumn:Ne=ae.getLineLastNonWhitespaceColumn(Ke),we.decorations.push(U(Ke,be,Ke,Ne,Y.charDelete))}else we.decorations.push(U(ze.originalStartLineNumber,ze.originalStartColumn,ze.originalEndLineNumber,ze.originalEndColumn,Y.charDelete))}}return we}_getModifiedEditorDecorations(se,ce,Se){const Le=this._dataSource.getModifiedEditor(),ue=String(this._insertColor),we={decorations:[],overviewZones:[]},ae=Le.getModel(),me=Le._getViewModel();for(const Ie of se)if(oe(Ie)){we.decorations.push({range:new h.Range(Ie.modifiedStartLineNumber,1,Ie.modifiedEndLineNumber,1073741824),options:Se?Y.lineInsertWithSign:Y.lineInsert}),(!$(Ie)||!Ie.charChanges)&&we.decorations.push(U(Ie.modifiedStartLineNumber,1,Ie.modifiedEndLineNumber,1073741824,Y.charInsertWholeLine));const Fe=le(ae,me,Ie.modifiedStartLineNumber,Ie.modifiedEndLineNumber);if(we.overviewZones.push(new s.OverviewRulerZone(Fe.startLineNumber,Fe.endLineNumber,ue)),Ie.charChanges){for(const ze of Ie.charChanges)if(oe(ze))if(ce)for(let Ke=ze.modifiedStartLineNumber;Ke<=ze.modifiedEndLineNumber;Ke++){let be,Ne;Ke===ze.modifiedStartLineNumber?be=ze.modifiedStartColumn:be=ae.getLineFirstNonWhitespaceColumn(Ke),Ke===ze.modifiedEndLineNumber?Ne=ze.modifiedEndColumn:Ne=ae.getLineLastNonWhitespaceColumn(Ke),we.decorations.push(U(Ke,be,Ke,Ne,Y.charInsert))}else we.decorations.push(U(ze.modifiedStartLineNumber,ze.modifiedStartColumn,ze.modifiedEndLineNumber,ze.modifiedEndColumn,Y.charInsert))}}return we}}ne.MINIMUM_EDITOR_WIDTH=100;class J extends j{constructor(se,ce,Se,Le,ue){super(se,ce,Se,Le,ue)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(se,ce,Se){return Se>ce?{afterLineNumber:Math.max(se.originalStartLineNumber,se.originalEndLineNumber),heightInLines:Se-ce,domNode:null}:null}_produceModifiedFromDiff(se,ce,Se){return ce>Se?{afterLineNumber:Math.max(se.modifiedStartLineNumber,se.modifiedEndLineNumber),heightInLines:ce-Se,domNode:null}:null}}class re extends z{constructor(se,ce){super(se);this._decorationsLeft=se.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(se.getOriginalEditor().onDidLayoutChange(Se=>{this._decorationsLeft!==Se.decorationsLeft&&(this._decorationsLeft=Se.decorationsLeft,se.relayoutEditors())}))}setEnableSplitViewResizing(se){}_getViewZones(se,ce,Se,Le){const ue=this._dataSource.getOriginalEditor(),we=this._dataSource.getModifiedEditor();return new ge(se,ce,Se,ue,we,Le).getViewZones()}_getOriginalEditorDecorations(se,ce,Se){const Le=String(this._removeColor),ue={decorations:[],overviewZones:[]},we=this._dataSource.getOriginalEditor(),ae=we.getModel(),me=we._getViewModel();for(const Ie of se)if($(Ie)){ue.decorations.push({range:new h.Range(Ie.originalStartLineNumber,1,Ie.originalEndLineNumber,1073741824),options:Y.lineDeleteMargin});const Fe=le(ae,me,Ie.originalStartLineNumber,Ie.originalEndLineNumber);ue.overviewZones.push(new s.OverviewRulerZone(Fe.startLineNumber,Fe.endLineNumber,Le))}return ue}_getModifiedEditorDecorations(se,ce,Se){const Le=this._dataSource.getModifiedEditor(),ue=String(this._insertColor),we={decorations:[],overviewZones:[]},ae=Le.getModel(),me=Le._getViewModel();for(const Ie of se)if(oe(Ie)){we.decorations.push({range:new h.Range(Ie.modifiedStartLineNumber,1,Ie.modifiedEndLineNumber,1073741824),options:Se?Y.lineInsertWithSign:Y.lineInsert});const Fe=le(ae,me,Ie.modifiedStartLineNumber,Ie.modifiedEndLineNumber);if(we.overviewZones.push(new s.OverviewRulerZone(Fe.startLineNumber,Fe.endLineNumber,ue)),Ie.charChanges){for(const ze of Ie.charChanges)if(oe(ze))if(ce)for(let Ke=ze.modifiedStartLineNumber;Ke<=ze.modifiedEndLineNumber;Ke++){let be,Ne;Ke===ze.modifiedStartLineNumber?be=ze.modifiedStartColumn:be=ae.getLineFirstNonWhitespaceColumn(Ke),Ke===ze.modifiedEndLineNumber?Ne=ze.modifiedEndColumn:Ne=ae.getLineLastNonWhitespaceColumn(Ke),we.decorations.push(U(Ke,be,Ke,Ne,Y.charInsert))}else we.decorations.push(U(ze.modifiedStartLineNumber,ze.modifiedStartColumn,ze.modifiedEndLineNumber,ze.modifiedEndColumn,Y.charInsert))}else we.decorations.push(U(Ie.modifiedStartLineNumber,1,Ie.modifiedEndLineNumber,1073741824,Y.charInsertWholeLine))}return we}layout(){return Math.max(5,this._decorationsLeft)}}class ge extends j{constructor(se,ce,Se,Le,ue,we){super(se,ce,Se,Le,ue);this._originalModel=Le.getModel(),this._renderIndicators=we,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const se=super.getViewZones();return this._finalize(se),se}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const se=document.createElement("div");return se.className="inline-added-margin-view-zone",se}_produceOriginalFromDiff(se,ce,Se){const Le=document.createElement("div");return Le.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(se.originalStartLineNumber,se.originalEndLineNumber),heightInLines:Se,domNode:document.createElement("div"),marginDomNode:Le}}_produceModifiedFromDiff(se,ce,Se){const Le=document.createElement("div");Le.className=`view-lines line-delete ${V.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`;const ue=document.createElement("div");ue.className="inline-deleted-margin-view-zone";const we={shouldNotShrink:!0,afterLineNumber:se.modifiedEndLineNumber===0?se.modifiedStartLineNumber:se.modifiedStartLineNumber-1,heightInLines:ce,minWidthInPx:0,domNode:Le,marginDomNode:ue,diff:{originalStartLineNumber:se.originalStartLineNumber,originalEndLineNumber:se.originalEndLineNumber,modifiedStartLineNumber:se.modifiedStartLineNumber,modifiedEndLineNumber:se.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let ae=se.originalStartLineNumber;ae<=se.originalEndLineNumber;ae++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(ae),null,null);return this._pendingLineChange.push(se),this._pendingViewZones.push(we),we}_finalize(se){const ce=this._modifiedEditor.getOptions(),Se=this._modifiedEditor.getModel().getOptions().tabSize,Le=ce.get(43),ue=ce.get(29),we=Le.typicalHalfwidthCharacterWidth,ae=ce.get(92),me=this._originalModel.mightContainNonBasicASCII(),Ie=this._originalModel.mightContainRTL(),Fe=ce.get(58),Ke=ce.get(130).decorationsWidth,be=ce.get(104),Ne=ce.get(87),Be=ce.get(82),$e=ce.get(44),je=this._lineBreaksComputer.finalize();let He=0;for(let qe=0;qe<this._pendingLineChange.length;qe++){const Pe=this._pendingLineChange[qe],Ae=this._pendingViewZones[qe],Re=Ae.domNode;p.Configuration.applyFontInfoSlow(Re,Le);const ve=Ae.marginDomNode;p.Configuration.applyFontInfoSlow(ve,Le);const _e=[];if(Pe.charChanges)for(const Ge of Pe.charChanges)$(Ge)&&_e.push(new _.InlineDecoration(new h.Range(Ge.originalStartLineNumber,Ge.originalStartColumn,Ge.originalEndLineNumber,Ge.originalEndColumn),"char-delete",0));const Te=_e.length>0,Ee=(0,d.createStringBuilder)(1e4);let ye=0,We=0,Oe=null;for(let Ge=Pe.originalStartLineNumber;Ge<=Pe.originalEndLineNumber;Ge++){const Xe=Ge-Pe.originalStartLineNumber,et=this._originalModel.getLineTokens(Ge),Ze=et.getLineContent(),it=je[He++],tt=o.LineDecoration.filter(_e,Ge,1,Ze.length+1);if(it){let ot=0;for(const st of it.breakOffsets){const ct=et.sliceAndInflate(ot,st,0),St=Ze.substring(ot,st);ye=Math.max(ye,this._renderOriginalLine(We++,St,ct,o.LineDecoration.extractWrapped(tt,ot,st),Te,me,Ie,Le,ue,Fe,Ke,be,Ne,Be,$e,Se,Ee,ve)),ot=st}for(Oe||(Oe=[]);Oe.length<Xe;)Oe[Oe.length]=1;Oe[Xe]=it.breakOffsets.length,Ae.heightInLines+=it.breakOffsets.length-1;const ht=document.createElement("div");ht.className="line-delete",se.original.push({afterLineNumber:Ge,afterColumn:0,heightInLines:it.breakOffsets.length-1,domNode:ie(),marginDomNode:ht})}else ye=Math.max(ye,this._renderOriginalLine(We++,Ze,et,tt,Te,me,Ie,Le,ue,Fe,Ke,be,Ne,Be,$e,Se,Ee,ve))}ye+=ae;const Ue=Ee.build(),Ye=H?H.createHTML(Ue):Ue;if(Re.innerHTML=Ye,Ae.minWidthInPx=ye*we,Oe){const Ge=Pe.originalEndLineNumber-Pe.originalStartLineNumber;for(;Oe.length<=Ge;)Oe[Oe.length]=1}Ae.diff.viewLineCounts=Oe}se.original.sort((qe,Pe)=>qe.afterLineNumber-Pe.afterLineNumber)}_renderOriginalLine(se,ce,Se,Le,ue,we,ae,me,Ie,Fe,ze,Ke,be,Ne,Be,$e,je,He){je.appendASCIIString('<div class="view-line'),ue||je.appendASCIIString(" char-delete"),je.appendASCIIString('" style="top:'),je.appendASCIIString(String(se*Fe)),je.appendASCIIString('px;width:1000000px;">');const qe=_.ViewLineRenderingData.isBasicASCII(ce,we),Pe=_.ViewLineRenderingData.containsRTL(ce,qe,ae),Ae=(0,m.renderViewLine)(new m.RenderLineInput(me.isMonospace&&!Ie,me.canUseHalfwidthRightwardsArrow,ce,!1,qe,Pe,0,Se,Le,$e,0,me.spaceWidth,me.middotWidth,me.wsmiddotWidth,Ke,be,Ne,Be!==l.EditorFontLigatures.OFF,null),je);if(je.appendASCIIString("</div>"),this._renderIndicators){const Re=document.createElement("div");Re.className=`delete-sign ${D.ThemeIcon.asClassName(q)}`,Re.setAttribute("style",`position:absolute;top:${se*Fe}px;width:${ze}px;height:${Fe}px;right:0;`),He.appendChild(Re)}return Ae.characterMapping.getAbsoluteOffset(Ae.characterMapping.length)}}function pe(he,se){return(0,l.stringSet)(he,se,["off","on","inherit"])}function oe(he){return he.modifiedEndLineNumber>0}function $(he){return he.originalEndLineNumber>0}function ie(){const he=document.createElement("div");return he.className="diagonal-fill",he}function le(he,se,ce,Se){const Le=he.getLineCount();return ce=Math.min(Le,Math.max(1,ce)),Se=Math.min(Le,Math.max(1,Se)),se.coordinatesConverter.convertModelRangeToViewRange(new h.Range(ce,he.getLineMinColumn(ce),Se,he.getLineMaxColumn(Se)))}function de(he,se){return{enableSplitViewResizing:(0,l.boolean)(he.enableSplitViewResizing,se.enableSplitViewResizing),renderSideBySide:(0,l.boolean)(he.renderSideBySide,se.renderSideBySide),maxComputationTime:(0,l.clampedInt)(he.maxComputationTime,se.maxComputationTime,0,1073741824),maxFileSize:(0,l.clampedInt)(he.maxFileSize,se.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,l.boolean)(he.ignoreTrimWhitespace,se.ignoreTrimWhitespace),renderIndicators:(0,l.boolean)(he.renderIndicators,se.renderIndicators),originalEditable:(0,l.boolean)(he.originalEditable,se.originalEditable),diffCodeLens:(0,l.boolean)(he.diffCodeLens,se.diffCodeLens),renderOverviewRuler:(0,l.boolean)(he.renderOverviewRuler,se.renderOverviewRuler),diffWordWrap:pe(he.diffWordWrap,se.diffWordWrap)}}function fe(he,se){return{enableSplitViewResizing:he.enableSplitViewResizing!==se.enableSplitViewResizing,renderSideBySide:he.renderSideBySide!==se.renderSideBySide,maxComputationTime:he.maxComputationTime!==se.maxComputationTime,maxFileSize:he.maxFileSize!==se.maxFileSize,ignoreTrimWhitespace:he.ignoreTrimWhitespace!==se.ignoreTrimWhitespace,renderIndicators:he.renderIndicators!==se.renderIndicators,originalEditable:he.originalEditable!==se.originalEditable,diffCodeLens:he.diffCodeLens!==se.diffCodeLens,renderOverviewRuler:he.renderOverviewRuler!==se.renderOverviewRuler,diffWordWrap:he.diffWordWrap!==se.diffWordWrap}}(0,D.registerThemingParticipant)((he,se)=>{const ce=he.getColor(w.diffInserted);ce&&(se.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { background-color: ${ce}; }`),se.addRule(`.monaco-diff-editor .line-insert, .monaco-diff-editor .char-insert { background-color: ${ce}; }`),se.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${ce}; }`));const Se=he.getColor(w.diffRemoved);Se&&(se.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { background-color: ${Se}; }`),se.addRule(`.monaco-diff-editor .line-delete, .monaco-diff-editor .char-delete { background-color: ${Se}; }`),se.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${Se}; }`));const Le=he.getColor(w.diffInsertedOutline);Le&&se.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${he.type==="hc"?"dashed":"solid"} ${Le}; }`);const ue=he.getColor(w.diffRemovedOutline);ue&&se.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${he.type==="hc"?"dashed":"solid"} ${ue}; }`);const we=he.getColor(w.scrollbarShadow);we&&se.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${we}; }`);const ae=he.getColor(w.diffBorder);ae&&se.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${ae}; }`);const me=he.getColor(w.scrollbarSliderBackground);me&&se.addRule(`
			.monaco-diff-editor .diffViewport {
				background: ${me};
			}
		`);const Ie=he.getColor(w.scrollbarSliderHoverBackground);Ie&&se.addRule(`
			.monaco-diff-editor .diffViewport:hover {
				background: ${Ie};
			}
		`);const Fe=he.getColor(w.scrollbarSliderActiveBackground);Fe&&se.addRule(`
			.monaco-diff-editor .diffViewport:active {
				background: ${Fe};
			}
		`);const ze=he.getColor(w.diffDiagonalFill);se.addRule(`
	.monaco-editor .diagonal-fill {
		background-image: linear-gradient(
			-45deg,
			${ze} 12.5%,
			#0000 12.5%, #0000 50%,
			${ze} 50%, ${ze} 62.5%,
			#0000 62.5%, #0000 100%
		);
		background-size: 8px 8px;
	}
	`)})}),define(ee[165],te([0,1,34,30,164,203,67,26,17,9,41,14,62,69,85,61]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmbeddedDiffEditorWidget=e.EmbeddedCodeEditorWidget=void 0;let d=class extends M.CodeEditorWidget{constructor(r,s,o,m,_,f,c,C,y,w){super(r,Object.assign(Object.assign({},o.getRawOptions()),{overflowWidgetsDomNode:o.getOverflowWidgetsDomNode()}),{},m,_,f,c,C,y,w);this._parentEditor=o,this._overwriteOptions=s,super.updateOptions(this._overwriteOptions),this._register(o.onDidChangeConfiguration(D=>this._onParentConfigurationChanged(D)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(r){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(r){L.mixin(this._overwriteOptions,r,!0),super.updateOptions(this._overwriteOptions)}};d=Ve([Ce(3,p.IInstantiationService),Ce(4,N.ICodeEditorService),Ce(5,S.ICommandService),Ce(6,b.IContextKeyService),Ce(7,i.IThemeService),Ce(8,v.INotificationService),Ce(9,t.IAccessibilityService)],d),e.EmbeddedCodeEditorWidget=d;let u=class extends E.DiffEditorWidget{constructor(r,s,o,m,_,f,c,C,y,w,D,I){super(r,o.getRawOptions(),{},D,m,_,f,c,C,y,w,I);this._parentEditor=o,this._overwriteOptions=s,super.updateOptions(this._overwriteOptions),this._register(o.onDidChangeConfiguration(T=>this._onParentConfigurationChanged(T)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(r){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(r){L.mixin(this._overwriteOptions,r,!0),super.updateOptions(this._overwriteOptions)}};u=Ve([Ce(3,g.IEditorWorkerService),Ce(4,b.IContextKeyService),Ce(5,p.IInstantiationService),Ce(6,N.ICodeEditorService),Ce(7,i.IThemeService),Ce(8,v.INotificationService),Ce(9,a.IContextMenuService),Ce(10,l.IClipboardService),Ce(11,h.IEditorProgressService)],u),e.EmbeddedDiffEditorWidget=u}),define(ee[697],te([0,1,10,2,16,13,3,23,25,49,31,52,500,38,24,14,369]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketMatchingController=void 0;const d=(0,l.registerColor)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hc:"#A0A0A0"},t.localize(0,null));class u extends M.EditorAction{constructor(){super({id:"editor.action.jumpToBracket",label:t.localize(1,null),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:2048|1024|88,weight:100}})}run(m,_){let f=s.get(_);!f||f.jumpToBracket()}}class n extends M.EditorAction{constructor(){super({id:"editor.action.selectToBracket",label:t.localize(2,null),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(m,_,f){const c=s.get(_);if(!c)return;let C=!0;f&&f.selectBrackets===!1&&(C=!1),c.selectToBracket(C)}}class r{constructor(m,_,f){this.position=m,this.brackets=_,this.options=f}}class s extends N.Disposable{constructor(m){super();this._editor=m,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=[],this._updateBracketsSoon=this._register(new L.RunOnceScheduler(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(63),this._updateBracketsSoon.schedule(),this._register(m.onDidChangeCursorPosition(_=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(m.onDidChangeModelContent(_=>{this._updateBracketsSoon.schedule()})),this._register(m.onDidChangeModel(_=>{this._lastBracketsData=[],this._decorations=[],this._updateBracketsSoon.schedule()})),this._register(m.onDidChangeModelLanguageConfiguration(_=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(m.onDidChangeConfiguration(_=>{_.hasChanged(63)&&(this._matchBrackets=this._editor.getOption(63),this._decorations=this._editor.deltaDecorations(this._decorations,[]),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(m.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(m.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}static get(m){return m.getContribution(s.ID)}jumpToBracket(){if(!this._editor.hasModel())return;const m=this._editor.getModel(),_=this._editor.getSelections().map(f=>{const c=f.getStartPosition(),C=m.bracketPairs.matchBracket(c);let y=null;if(C)C[0].containsPosition(c)?y=C[1].getStartPosition():C[1].containsPosition(c)&&(y=C[0].getStartPosition());else{const w=m.bracketPairs.findEnclosingBrackets(c);if(w)y=w[0].getStartPosition();else{const D=m.bracketPairs.findNextBracket(c);D&&D.range&&(y=D.range.getStartPosition())}}return y?new S.Selection(y.lineNumber,y.column,y.lineNumber,y.column):new S.Selection(c.lineNumber,c.column,c.lineNumber,c.column)});this._editor.setSelections(_),this._editor.revealRange(_[0])}selectToBracket(m){if(!this._editor.hasModel())return;const _=this._editor.getModel(),f=[];this._editor.getSelections().forEach(c=>{const C=c.getStartPosition();let y=_.bracketPairs.matchBracket(C);if(!y&&(y=_.bracketPairs.findEnclosingBrackets(C),!y)){const I=_.bracketPairs.findNextBracket(C);I&&I.range&&(y=_.bracketPairs.matchBracket(I.range.getStartPosition()))}let w=null,D=null;if(y){y.sort(g.Range.compareRangesUsingStarts);const[I,T]=y;if(w=m?I.getStartPosition():I.getEndPosition(),D=m?T.getEndPosition():T.getStartPosition(),T.containsPosition(C)){const F=w;w=D,D=F}}w&&D&&f.push(new S.Selection(w.lineNumber,w.column,D.lineNumber,D.column))}),f.length>0&&(this._editor.setSelections(f),this._editor.revealRange(f[0]))}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();let m=[],_=0;for(const f of this._lastBracketsData){let c=f.brackets;c&&(m[_++]={range:c[0],options:f.options},m[_++]={range:c[1],options:f.options})}this._decorations=this._editor.deltaDecorations(this._decorations,m)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}const m=this._editor.getSelections();if(m.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const _=this._editor.getModel(),f=_.getVersionId();let c=[];this._lastVersionId===f&&(c=this._lastBracketsData);let C=[],y=0;for(let F=0,P=m.length;F<P;F++){let R=m[F];R.isEmpty()&&(C[y++]=R.getStartPosition())}C.length>1&&C.sort(E.Position.compare);let w=[],D=0,I=0,T=c.length;for(let F=0,P=C.length;F<P;F++){let R=C[F];for(;I<T&&c[I].position.isBefore(R);)I++;if(I<T&&c[I].position.equals(R))w[D++]=c[I];else{let A=_.bracketPairs.matchBracket(R),O=s._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!A&&this._matchBrackets==="always"&&(A=_.bracketPairs.findEnclosingBrackets(R,20),O=s._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),w[D++]=new r(R,A,O)}}this._lastBracketsData=w,this._lastVersionId=f}}e.BracketMatchingController=s,s.ID="editor.contrib.bracketMatchingController",s._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=v.ModelDecorationOptions.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,h.themeColorFromId)(d),position:p.OverviewRulerLane.Center}}),s._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=v.ModelDecorationOptions.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,M.registerEditorContribution)(s.ID,s),(0,M.registerEditorAction)(n),(0,M.registerEditorAction)(u),(0,h.registerThemingParticipant)((o,m)=>{const _=o.getColor(i.editorBracketMatchBackground);_&&m.addRule(`.monaco-editor .bracket-match { background-color: ${_}; }`);const f=o.getColor(i.editorBracketMatchBorder);f&&m.addRule(`.monaco-editor .bracket-match { border: 1px solid ${f}; }`)}),a.MenuRegistry.appendMenuItem(a.MenuId.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:t.localize(3,null)},order:2})}),define(ee[698],te([0,1,16,102,199,3,25,502]),function(Q,e,L,N,M,E,g,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class b extends L.EditorAction{constructor(){super({id:"editor.action.transposeLetters",label:S.localize(0,null),alias:"Transpose Letters",precondition:g.EditorContextKeys.writable,kbOpts:{kbExpr:g.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|50},weight:100}})}run(v,i){if(!i.hasModel())return;let t=i.getModel(),a=[],l=i.getSelections();for(let h of l){if(!h.isEmpty())continue;let d=h.startLineNumber,u=h.startColumn,n=t.getLineMaxColumn(d);if(d===1&&(u===1||u===2&&n===2))continue;let r=u===n?h.getPosition():M.MoveOperations.rightPosition(t,h.getPosition().lineNumber,h.getPosition().column),s=M.MoveOperations.leftPosition(t,r),o=M.MoveOperations.leftPosition(t,s),m=t.getValueInRange(E.Range.fromPositions(o,s)),_=t.getValueInRange(E.Range.fromPositions(s,r)),f=E.Range.fromPositions(o,r);a.push(new N.ReplaceCommand(f,_+m))}a.length>0&&(i.pushUndoStop(),i.executeCommands(this.id,a),i.pushUndoStop())}}(0,L.registerEditorAction)(b)}),define(ee[699],te([0,1,7,99,57,27,4,2,31,505,43,24,14,370]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LightBulbWidget=void 0;var a;(function(h){h.Hidden={type:0};class d{constructor(n,r,s,o){this.actions=n,this.trigger=r,this.editorPosition=s,this.widgetPosition=o,this.type=1}}h.Showing=d})(a||(a={}));let l=class xi extends S.Disposable{constructor(d,u,n,r){super();this._editor=d,this._quickFixActionId=u,this._preferredFixActionId=n,this._keybindingService=r,this._onClick=this._register(new g.Emitter),this.onClick=this._onClick.event,this._state=a.Hidden,this._domNode=document.createElement("div"),this._domNode.className=E.Codicon.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(s=>{const o=this._editor.getModel();(this.state.type!==1||!o||this.state.editorPosition.lineNumber>=o.getLineCount())&&this.hide()})),M.Gesture.ignoreTarget(this._domNode),this._register(L.addStandardDisposableGenericMouseDownListner(this._domNode,s=>{if(this.state.type!==1)return;this._editor.focus(),s.preventDefault();const{top:o,height:m}=L.getDomNodePagePosition(this._domNode),_=this._editor.getOption(58);let f=Math.floor(_/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(f+=_),this._onClick.fire({x:s.posx,y:o+m+f,actions:this.state.actions,trigger:this.state.trigger})})),this._register(L.addDisposableListener(this._domNode,"mouseenter",s=>{if((s.buttons&1)!=1)return;this.hide();const o=new N.GlobalMouseMoveMonitor;o.startMonitoring(s.target,s.buttons,N.standardMouseMoveMerger,()=>{},()=>{o.dispose()})})),this._register(this._editor.onDidChangeConfiguration(s=>{s.hasChanged(56)&&!this._editor.getOption(56).enabled&&this.hide()})),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(d,u,n){if(d.validActions.length<=0)return this.hide();const r=this._editor.getOptions();if(!r.get(56).enabled)return this.hide();const s=this._editor.getModel();if(!s)return this.hide();const{lineNumber:o,column:m}=s.validatePosition(n),_=s.getOptions().tabSize,f=r.get(43),c=s.getLineContent(o),C=b.TextModel.computeIndentLevel(c,_),y=f.spaceWidth*C>22,w=I=>I>2&&this._editor.getTopForLineNumber(I)===this._editor.getTopForLineNumber(I-1);let D=o;if(!y){if(o>1&&!w(o-1))D-=1;else if(!w(o+1))D+=1;else if(m*f.spaceWidth<22)return this.hide()}this.state=new a.Showing(d,u,n,{position:{lineNumber:D,column:1},preference:xi._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=a.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(d){this._state=d,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this.state.type===1&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...E.Codicon.lightBulb.classNamesArray),this._domNode.classList.add(...E.Codicon.lightbulbAutofix.classNamesArray);const u=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(u){this.title=p.localize(0,null,u.getLabel());return}}this._domNode.classList.remove(...E.Codicon.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...E.Codicon.lightBulb.classNamesArray);const d=this._keybindingService.lookupKeybinding(this._quickFixActionId);d?this.title=p.localize(1,null,d.getLabel()):this.title=p.localize(2,null)}set title(d){this._domNode.title=d}};l._posPref=[0],l=Ve([Ce(3,v.IKeybindingService)],l),e.LightBulbWidget=l,(0,t.registerThemingParticipant)((h,d)=>{var u;const n=(u=h.getColor(i.editorBackground))===null||u===void 0?void 0:u.transparent(.7),r=h.getColor(i.editorLightBulbForeground);r&&d.addRule(`
		.monaco-editor .contentWidgets ${E.Codicon.lightBulb.cssSelector} {
			color: ${r};
			background-color: ${n};
		}`);const s=h.getColor(i.editorLightBulbAutoFixForeground);s&&d.addRule(`
		.monaco-editor .contentWidgets ${E.Codicon.lightbulbAutofix.cssSelector} {
			color: ${s};
			background-color: ${n};
		}`)})});var Ft=this&&this.__classPrivateFieldSet||function(Q,e,L,N,M){if(N==="m")throw new TypeError("Private method is not writable");if(N==="a"&&!M)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?Q!==e||!M:!e.has(Q))throw new TypeError("Cannot write private member to an object whose class did not declare it");return N==="a"?M.call(Q,L):M?M.value=L:e.set(Q,L),L},mt=this&&this.__classPrivateFieldGet||function(Q,e,L,N){if(L==="a"&&!N)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?Q!==e||!N:!e.has(Q))throw new TypeError("Cannot read private member from an object whose class did not declare it");return L==="m"?N:L==="a"?N.call(Q):N?N.value:e.get(Q)};define(ee[700],te([0,1,12,168,2,160,9,651,699]),function(Q,e,L,N,M,E,g,S,b){"use strict";var p;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionUi=void 0;let v=class extends M.Disposable{constructor(t,a,l,h,d){super();this._editor=t,this.delegate=h,this._activeCodeActions=this._register(new M.MutableDisposable),p.set(this,!1),this._codeActionWidget=new N.Lazy(()=>this._register(d.createInstance(S.CodeActionMenu,this._editor,{onSelectCodeAction:u=>Me(this,void 0,void 0,function*(){this.delegate.applyCodeAction(u,!0)})}))),this._lightBulbWidget=new N.Lazy(()=>{const u=this._register(d.createInstance(b.LightBulbWidget,this._editor,a,l));return this._register(u.onClick(n=>this.showCodeActionList(n.trigger,n.actions,n,{includeDisabledActions:!1}))),u})}dispose(){Ft(this,p,!0,"f"),super.dispose()}update(t){var a,l,h;return Me(this,void 0,void 0,function*(){if(t.type!==1){(a=this._lightBulbWidget.rawValue)===null||a===void 0||a.hide();return}let d;try{d=yield t.actions}catch(u){(0,L.onUnexpectedError)(u);return}if(!mt(this,p,"f"))if(this._lightBulbWidget.getValue().update(d,t.trigger,t.position),t.trigger.type===1){if((l=t.trigger.filter)===null||l===void 0?void 0:l.include){const n=this.tryGetValidActionToApply(t.trigger,d);if(n){try{this._lightBulbWidget.getValue().hide(),yield this.delegate.applyCodeAction(n,!1)}finally{d.dispose()}return}if(t.trigger.context){const r=this.getInvalidActionThatWouldHaveBeenApplied(t.trigger,d);if(r&&r.action.disabled){E.MessageController.get(this._editor).showMessage(r.action.disabled,t.trigger.context.position),d.dispose();return}}}const u=!!((h=t.trigger.filter)===null||h===void 0?void 0:h.include);if(t.trigger.context&&(!d.allActions.length||!u&&!d.validActions.length)){E.MessageController.get(this._editor).showMessage(t.trigger.context.notAvailableMessage,t.trigger.context.position),this._activeCodeActions.value=d,d.dispose();return}this._activeCodeActions.value=d,this._codeActionWidget.getValue().show(t.trigger,d,t.position,{includeDisabledActions:u})}else this._codeActionWidget.getValue().isVisible?d.dispose():this._activeCodeActions.value=d})}getInvalidActionThatWouldHaveBeenApplied(t,a){if(!!a.allActions.length&&(t.autoApply==="first"&&a.validActions.length===0||t.autoApply==="ifSingle"&&a.allActions.length===1))return a.allActions.find(({action:l})=>l.disabled)}tryGetValidActionToApply(t,a){if(!!a.validActions.length&&(t.autoApply==="first"&&a.validActions.length>0||t.autoApply==="ifSingle"&&a.validActions.length===1))return a.validActions[0]}showCodeActionList(t,a,l,h){return Me(this,void 0,void 0,function*(){this._codeActionWidget.getValue().show(t,a,l,h)})}};p=new WeakMap,v=Ve([Ce(4,g.IInstantiationService)],v),e.CodeActionUi=v}),define(ee[291],te([0,1,21,168,2,8,16,154,25,159,700,160,504,26,17,9,93,41,61,86,652,152]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u,n,r,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoFixAction=e.FixAllAction=e.OrganizeImportsAction=e.SourceAction=e.RefactorAction=e.CodeActionCommand=e.QuickFixAction=e.applyCodeAction=e.QuickFixController=void 0;function m(A){return l.ContextKeyExpr.regex(s.SUPPORTED_CODE_ACTIONS.keys()[0],new RegExp("(\\s|^)"+(0,E.escapeRegExpCharacters)(A.value)+"\\b"))}const _={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:t.localize(0,null)},apply:{type:"string",description:t.localize(1,null),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[t.localize(2,null),t.localize(3,null),t.localize(4,null)]},preferred:{type:"boolean",default:!1,description:t.localize(5,null)}}};let f=class zi extends M.Disposable{constructor(O,k,V,B,x){super();this._instantiationService=x,this._editor=O,this._model=this._register(new s.CodeActionModel(this._editor,k,V,B)),this._register(this._model.onDidChangeState(K=>this.update(K))),this._ui=new N.Lazy(()=>this._register(new v.CodeActionUi(O,w.Id,R.Id,{applyCodeAction:(K,X)=>Me(this,void 0,void 0,function*(){try{yield this._applyCodeAction(K)}finally{X&&this._trigger({type:2,filter:{}})}})},this._instantiationService)))}static get(O){return O.getContribution(zi.ID)}update(O){this._ui.getValue().update(O)}showCodeActions(O,k,V){return this._ui.getValue().showCodeActionList(O,k,V,{includeDisabledActions:!1})}manualTriggerAtCurrentPosition(O,k,V){if(!this._editor.hasModel())return;i.MessageController.get(this._editor).closeMessage();const B=this._editor.getPosition();this._trigger({type:1,filter:k,autoApply:V,context:{notAvailableMessage:O,position:B}})}_trigger(O){return this._model.trigger(O)}_applyCodeAction(O){return this._instantiationService.invokeFunction(c,O,this._editor)}};f.ID="editor.contrib.quickFixController",f=Ve([Ce(1,d.IMarkerService),Ce(2,l.IContextKeyService),Ce(3,n.IEditorProgressService),Ce(4,h.IInstantiationService)],f),e.QuickFixController=f;function c(A,O,k){return Me(this,void 0,void 0,function*(){const V=A.get(S.IBulkEditService),B=A.get(a.ICommandService),x=A.get(r.ITelemetryService),K=A.get(u.INotificationService);if(x.publicLog2("codeAction.applyCodeAction",{codeActionTitle:O.action.title,codeActionKind:O.action.kind,codeActionIsPreferred:!!O.action.isPreferred}),yield O.resolve(L.CancellationToken.None),O.action.edit&&(yield V.apply(S.ResourceEdit.convert(O.action.edit),{editor:k,label:O.action.title})),O.action.command)try{yield B.executeCommand(O.action.command.id,...O.action.command.arguments||[])}catch(X){const Z=C(X);K.error(typeof Z=="string"?Z:t.localize(6,null))}})}e.applyCodeAction=c;function C(A){return typeof A=="string"?A:A instanceof Error&&typeof A.message=="string"?A.message:void 0}function y(A,O,k,V){if(A.hasModel()){const B=f.get(A);B&&B.manualTriggerAtCurrentPosition(O,k,V)}}class w extends g.EditorAction{constructor(){super({id:w.Id,label:t.localize(7,null),alias:"Quick Fix...",precondition:l.ContextKeyExpr.and(b.EditorContextKeys.writable,b.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:2048|84,weight:100}})}run(O,k){return y(k,t.localize(8,null),void 0,void 0)}}e.QuickFixAction=w,w.Id="editor.action.quickFix";class D extends g.EditorCommand{constructor(){super({id:p.codeActionCommandId,precondition:l.ContextKeyExpr.and(b.EditorContextKeys.writable,b.EditorContextKeys.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:_}]}})}runEditorCommand(O,k,V){const B=o.CodeActionCommandArgs.fromUser(V,{kind:o.CodeActionKind.Empty,apply:"ifSingle"});return y(k,typeof(V==null?void 0:V.kind)=="string"?B.preferred?t.localize(9,null,V.kind):t.localize(10,null,V.kind):B.preferred?t.localize(11,null):t.localize(12,null),{include:B.kind,includeSourceActions:!0,onlyIncludePreferredActions:B.preferred},B.apply)}}e.CodeActionCommand=D;class I extends g.EditorAction{constructor(){super({id:p.refactorCommandId,label:t.localize(13,null),alias:"Refactor...",precondition:l.ContextKeyExpr.and(b.EditorContextKeys.writable,b.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:2048|1024|48,mac:{primary:256|1024|48},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:l.ContextKeyExpr.and(b.EditorContextKeys.writable,m(o.CodeActionKind.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:_}]}})}run(O,k,V){const B=o.CodeActionCommandArgs.fromUser(V,{kind:o.CodeActionKind.Refactor,apply:"never"});return y(k,typeof(V==null?void 0:V.kind)=="string"?B.preferred?t.localize(14,null,V.kind):t.localize(15,null,V.kind):B.preferred?t.localize(16,null):t.localize(17,null),{include:o.CodeActionKind.Refactor.contains(B.kind)?B.kind:o.CodeActionKind.None,onlyIncludePreferredActions:B.preferred},B.apply)}}e.RefactorAction=I;class T extends g.EditorAction{constructor(){super({id:p.sourceActionCommandId,label:t.localize(18,null),alias:"Source Action...",precondition:l.ContextKeyExpr.and(b.EditorContextKeys.writable,b.EditorContextKeys.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:l.ContextKeyExpr.and(b.EditorContextKeys.writable,m(o.CodeActionKind.Source))},description:{description:"Source Action...",args:[{name:"args",schema:_}]}})}run(O,k,V){const B=o.CodeActionCommandArgs.fromUser(V,{kind:o.CodeActionKind.Source,apply:"never"});return y(k,typeof(V==null?void 0:V.kind)=="string"?B.preferred?t.localize(19,null,V.kind):t.localize(20,null,V.kind):B.preferred?t.localize(21,null):t.localize(22,null),{include:o.CodeActionKind.Source.contains(B.kind)?B.kind:o.CodeActionKind.None,includeSourceActions:!0,onlyIncludePreferredActions:B.preferred},B.apply)}}e.SourceAction=T;class F extends g.EditorAction{constructor(){super({id:p.organizeImportsCommandId,label:t.localize(23,null),alias:"Organize Imports",precondition:l.ContextKeyExpr.and(b.EditorContextKeys.writable,m(o.CodeActionKind.SourceOrganizeImports)),kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:1024|512|45,weight:100}})}run(O,k){return y(k,t.localize(24,null),{include:o.CodeActionKind.SourceOrganizeImports,includeSourceActions:!0},"ifSingle")}}e.OrganizeImportsAction=F;class P extends g.EditorAction{constructor(){super({id:p.fixAllCommandId,label:t.localize(25,null),alias:"Fix All",precondition:l.ContextKeyExpr.and(b.EditorContextKeys.writable,m(o.CodeActionKind.SourceFixAll))})}run(O,k){return y(k,t.localize(26,null),{include:o.CodeActionKind.SourceFixAll,includeSourceActions:!0},"ifSingle")}}e.FixAllAction=P;class R extends g.EditorAction{constructor(){super({id:R.Id,label:t.localize(27,null),alias:"Auto Fix...",precondition:l.ContextKeyExpr.and(b.EditorContextKeys.writable,m(o.CodeActionKind.QuickFix)),kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:512|1024|84,mac:{primary:2048|512|84},weight:100}})}run(O,k){return y(k,t.localize(28,null),{include:o.CodeActionKind.QuickFix,onlyIncludePreferredActions:!0},"ifSingle")}}e.AutoFixAction=R,R.Id="editor.action.autoFix"}),define(ee[701],te([0,1,16,291]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,L.registerEditorContribution)(N.QuickFixController.ID,N.QuickFixController),(0,L.registerEditorAction)(N.QuickFixAction),(0,L.registerEditorAction)(N.RefactorAction),(0,L.registerEditorAction)(N.SourceAction),(0,L.registerEditorAction)(N.OrganizeImportsAction),(0,L.registerEditorAction)(N.AutoFixAction),(0,L.registerEditorAction)(N.FixAllAction),(0,L.registerEditorCommand)(new N.CodeActionCommand)}),define(ee[702],te([0,1,7,111,3,31,371]),function(Q,e,L,N,M,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensWidget=e.CodeLensHelper=void 0;class g{constructor(i,t,a){this.afterLineNumber=i,this.heightInPx=t,this._onHeight=a,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(i){this._lastHeight===void 0?this._lastHeight=i:this._lastHeight!==i&&(this._lastHeight=i,this._onHeight())}isVisible(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}}class S{constructor(i,t,a){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=i,this._id=`codelens.widget-${S._idPool++}`,this.updatePosition(a),this._domNode=document.createElement("span"),this._domNode.className=`codelens-decoration ${t}`}withCommands(i,t){this._commands.clear();let a=[],l=!1;for(let h=0;h<i.length;h++){const d=i[h];if(!!d&&(l=!0,d.command)){const u=(0,N.renderLabelWithIcons)(d.command.title.trim());d.command.id?(a.push(L.$("a",{id:String(h),title:d.command.tooltip},...u)),this._commands.set(String(h),d.command)):a.push(L.$("span",{title:d.command.tooltip},...u)),h+1<i.length&&a.push(L.$("span",void 0,"\xA0|\xA0"))}}l?(L.reset(this._domNode,...a),this._isEmpty&&t&&this._domNode.classList.add("fadein"),this._isEmpty=!1):L.reset(this._domNode,L.$("span",void 0,"no commands"))}getCommand(i){return i.parentElement===this._domNode?this._commands.get(i.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(i){const t=this._editor.getModel().getLineFirstNonWhitespaceColumn(i);this._widgetPosition={position:{lineNumber:i,column:t},preference:[1]}}getPosition(){return this._widgetPosition||null}}S._idPool=0;class b{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(i,t){this._addDecorations.push(i),this._addDecorationsCallbacks.push(t)}removeDecoration(i){this._removeDecorations.push(i)}commit(i){let t=i.deltaDecorations(this._removeDecorations,this._addDecorations);for(let a=0,l=t.length;a<l;a++)this._addDecorationsCallbacks[a](t[a])}}e.CodeLensHelper=b;class p{constructor(i,t,a,l,h,d,u){this._isDisposed=!1,this._editor=t,this._className=a,this._data=i,this._decorationIds=[];let n,r=[];this._data.forEach((s,o)=>{s.symbol.command&&r.push(s.symbol),l.addDecoration({range:s.symbol.range,options:E.ModelDecorationOptions.EMPTY},m=>this._decorationIds[o]=m),n?n=M.Range.plusRange(n,s.symbol.range):n=M.Range.lift(s.symbol.range)}),this._viewZone=new g(n.startLineNumber-1,d,u),this._viewZoneId=h.addZone(this._viewZone),r.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(r,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new S(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(i,t){this._decorationIds.forEach(i.removeDecoration,i),this._decorationIds=[],t&&t.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((i,t)=>{const a=this._editor.getModel().getDecorationRange(i),l=this._data[t].symbol;return!!(a&&M.Range.isEmpty(l.range)===a.isEmpty())})}updateCodeLensSymbols(i,t){this._decorationIds.forEach(t.removeDecoration,t),this._decorationIds=[],this._data=i,this._data.forEach((a,l)=>{t.addDecoration({range:a.symbol.range,options:E.ModelDecorationOptions.EMPTY},h=>this._decorationIds[l]=h)})}updateHeight(i,t){this._viewZone.heightInPx=i,t.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(i){if(!this._viewZone.isVisible())return null;for(let t=0;t<this._decorationIds.length;t++){const a=i.getDecorationRange(this._decorationIds[t]);a&&(this._data[t].symbol.range=a)}return this._data}updateCommands(i){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(i,!0);for(let t=0;t<this._data.length;t++){const a=i[t];if(a){const{symbol:l}=this._data[t];l.command=a.command||l.command}}}getCommand(i){var t;return(t=this._contentWidget)===null||t===void 0?void 0:t.getCommand(i)}getLineNumber(){const i=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return i?i.startLineNumber:-1}update(i){if(this.isValid()){const t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);t&&(this._viewZone.afterLineNumber=t.startLineNumber-1,i.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(t.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}getItems(){return this._data}}e.CodeLensWidget=p}),define(ee[703],te([0,1,7,10,12,88,2,70,16,29,25,18,155,267,621,702,506,26,41,76]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensContribution=void 0;let s=class{constructor(m,_,f,c){this._editor=m,this._commandService=_,this._notificationService=f,this._codeLensCache=c,this._disposables=new g.DisposableStore,this._localToDispose=new g.DisposableStore,this._lenses=[],this._getCodeLensModelDelays=new t.LanguageFeatureRequestDelays(i.CodeLensProviderRegistry,250,2500),this._oldCodeLensModels=new g.DisposableStore,this._resolveCodeLensesDelays=new t.LanguageFeatureRequestDelays(i.CodeLensProviderRegistry,250,2500),this._resolveCodeLensesScheduler=new N.RunOnceScheduler(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDelays.min),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(C=>{(C.hasChanged(43)||C.hasChanged(16)||C.hasChanged(15))&&this._updateLensStyle(),C.hasChanged(14)&&this._onModelChange()})),this._disposables.add(i.CodeLensProviderRegistry.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+(0,E.hash)(this._editor.getId()).toString(16),this._styleElement=L.createStyleSheet(L.isInShadowDOM(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){var m;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(m=this._currentCodeLensModel)===null||m===void 0||m.dispose(),this._styleElement.remove()}_getLayoutInfo(){let m=this._editor.getOption(16),_;return!m||m<5?(m=this._editor.getOption(45)*.9|0,_=this._editor.getOption(58)):_=m*Math.max(1.3,this._editor.getOption(58)/this._editor.getOption(45))|0,{codeLensHeight:_,fontSize:m}}_updateLensStyle(){const{codeLensHeight:m,fontSize:_}=this._getLayoutInfo(),f=this._editor.getOption(15),c=this._editor.getOption(43),C=`--codelens-font-family${this._styleClassName}`,y=`--codelens-font-features${this._styleClassName}`;let w=`
		.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${m}px; font-size: ${_}px; padding-right: ${Math.round(_*.5)}px; font-feature-settings: var(${y}) }
		.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${m}px; font-size: ${_}px; }
		`;f&&(w+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${C}), ${p.EDITOR_FONT_DEFAULTS.fontFamily}}`),this._styleElement.textContent=w,this._editor.getContainerDomNode().style.setProperty(C,f!=null?f:"inherit"),this._editor.getContainerDomNode().style.setProperty(y,c.fontFeatureSettings),this._editor.changeViewZones(D=>{for(let I of this._lenses)I.updateHeight(m,D)})}_localDispose(){var m,_,f;(m=this._getCodeLensModelPromise)===null||m===void 0||m.cancel(),this._getCodeLensModelPromise=void 0,(_=this._resolveCodeLensesPromise)===null||_===void 0||_.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(f=this._currentCodeLensModel)===null||f===void 0||f.dispose()}_onModelChange(){this._localDispose();const m=this._editor.getModel();if(!m||!this._editor.getOption(14))return;const _=this._codeLensCache.get(m);if(_&&this._renderCodeLensSymbols(_),!i.CodeLensProviderRegistry.has(m)){_&&this._localToDispose.add((0,N.disposableTimeout)(()=>{const c=this._codeLensCache.get(m);_===c&&(this._codeLensCache.delete(m),this._onModelChange())},30*1e3));return}for(const c of i.CodeLensProviderRegistry.all(m))if(typeof c.onDidChange=="function"){let C=c.onDidChange(()=>f.schedule());this._localToDispose.add(C)}const f=new N.RunOnceScheduler(()=>{var c;const C=Date.now();(c=this._getCodeLensModelPromise)===null||c===void 0||c.cancel(),this._getCodeLensModelPromise=(0,N.createCancelablePromise)(y=>(0,a.getCodeLensModel)(m,y)),this._getCodeLensModelPromise.then(y=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=y,this._codeLensCache.put(m,y);const w=this._getCodeLensModelDelays.update(m,Date.now()-C);f.delay=w,this._renderCodeLensSymbols(y),this._resolveCodeLensesInViewportSoon()},M.onUnexpectedError)},this._getCodeLensModelDelays.get(m));this._localToDispose.add(f),this._localToDispose.add((0,g.toDisposable)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(c=>{this._editor.changeViewZones(C=>{let y=[],w=-1;this._lenses.forEach(I=>{!I.isValid()||w===I.getLineNumber()?y.push(I):(I.update(C),w=I.getLineNumber())});let D=new h.CodeLensHelper;y.forEach(I=>{I.dispose(D,C),this._lenses.splice(this._lenses.indexOf(I),1)}),D.commit(c)})}),f.schedule()})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{f.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(c=>{c.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,g.toDisposable)(()=>{if(this._editor.getModel()){const c=S.StableEditorScrollState.capture(this._editor);this._editor.changeDecorations(C=>{this._editor.changeViewZones(y=>{this._disposeAllLenses(C,y)})}),c.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(c=>{if(c.target.type!==9)return;let C=c.target.element;if((C==null?void 0:C.tagName)==="SPAN"&&(C=C.parentElement),(C==null?void 0:C.tagName)==="A")for(const y of this._lenses){let w=y.getCommand(C);if(w){this._commandService.executeCommand(w.id,...w.arguments||[]).catch(D=>this._notificationService.error(D));break}}})),f.schedule()}_disposeAllLenses(m,_){const f=new h.CodeLensHelper;for(const c of this._lenses)c.dispose(f,_);m&&f.commit(m),this._lenses.length=0}_renderCodeLensSymbols(m){if(!this._editor.hasModel())return;let _=this._editor.getModel().getLineCount(),f=[],c;for(let w of m.lenses){let D=w.symbol.range.startLineNumber;D<1||D>_||(c&&c[c.length-1].symbol.range.startLineNumber===D?c.push(w):(c=[w],f.push(c)))}const C=S.StableEditorScrollState.capture(this._editor),y=this._getLayoutInfo();this._editor.changeDecorations(w=>{this._editor.changeViewZones(D=>{const I=new h.CodeLensHelper;let T=0,F=0;for(;F<f.length&&T<this._lenses.length;){let P=f[F][0].symbol.range.startLineNumber,R=this._lenses[T].getLineNumber();R<P?(this._lenses[T].dispose(I,D),this._lenses.splice(T,1)):R===P?(this._lenses[T].updateCodeLensSymbols(f[F],I),F++,T++):(this._lenses.splice(T,0,new h.CodeLensWidget(f[F],this._editor,this._styleClassName,I,D,y.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),T++,F++)}for(;T<this._lenses.length;)this._lenses[T].dispose(I,D),this._lenses.splice(T,1);for(;F<f.length;)this._lenses.push(new h.CodeLensWidget(f[F],this._editor,this._styleClassName,I,D,y.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),F++;I.commit(w)})}),C.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var m;(m=this._resolveCodeLensesPromise)===null||m===void 0||m.cancel(),this._resolveCodeLensesPromise=void 0;const _=this._editor.getModel();if(!_)return;const f=[],c=[];if(this._lenses.forEach(w=>{const D=w.computeIfNecessary(_);D&&(f.push(D),c.push(w))}),f.length===0)return;const C=Date.now(),y=(0,N.createCancelablePromise)(w=>{const D=f.map((I,T)=>{const F=new Array(I.length),P=I.map((R,A)=>!R.symbol.command&&typeof R.provider.resolveCodeLens=="function"?Promise.resolve(R.provider.resolveCodeLens(_,R.symbol,w)).then(O=>{F[A]=O},M.onUnexpectedExternalError):(F[A]=R.symbol,Promise.resolve(void 0)));return Promise.all(P).then(()=>{!w.isCancellationRequested&&!c[T].isDisposed()&&c[T].updateCommands(F)})});return Promise.all(D)});this._resolveCodeLensesPromise=y,this._resolveCodeLensesPromise.then(()=>{const w=this._resolveCodeLensesDelays.update(_,Date.now()-C);this._resolveCodeLensesScheduler.delay=w,this._currentCodeLensModel&&this._codeLensCache.put(_,this._currentCodeLensModel),this._oldCodeLensModels.clear(),y===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},w=>{(0,M.onUnexpectedError)(w),y===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getLenses(){return this._lenses}};s.ID="css.editor.codeLens",s=Ve([Ce(1,u.ICommandService),Ce(2,n.INotificationService),Ce(3,l.ICodeLensCache)],s),e.CodeLensContribution=s,(0,b.registerEditorContribution)(s.ID,s),(0,b.registerEditorAction)(class extends b.EditorAction{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:v.EditorContextKeys.hasCodeLensProvider,label:(0,d.localize)(0,null),alias:"Show CodeLens Commands For Current Line"})}run(m,_){return Me(this,void 0,void 0,function*(){if(!_.hasModel())return;const f=m.get(r.IQuickInputService),c=m.get(u.ICommandService),C=m.get(n.INotificationService),y=_.getSelection().positionLineNumber,w=_.getContribution(s.ID),D=[];for(let T of w.getLenses())if(T.getLineNumber()===y)for(let F of T.getItems()){const{command:P}=F.symbol;P&&D.push({label:P.title,command:P})}if(D.length===0)return;const I=yield f.pick(D,{canPickMany:!1});if(!!I)try{yield c.executeCommand(I.command.id,...I.command.arguments||[])}catch(T){C.error(T)}})}})}),define(ee[292],te([0,1,10,28,12,2,8,129,16,3,31,18,268,37]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorDetector=void 0;const l=500;let h=class Hi extends E.Disposable{constructor(u,n){super();this._editor=u,this._configurationService=n,this._localToDispose=this._register(new E.DisposableStore),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=new Set,this._ruleFactory=new S.DynamicCssRules(this._editor),this._colorDecorationClassRefs=this._register(new E.DisposableStore),this._register(u.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(u.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(i.ColorProviderRegistry.onDidChange(()=>this.onModelChanged())),this._register(u.onDidChangeConfiguration(()=>{let r=this._isEnabled;this._isEnabled=this.isEnabled(),r!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const u=this._editor.getModel();if(!u)return!1;const n=u.getLanguageId(),r=this._configurationService.getValue(n);if(r&&typeof r=="object"){const s=r.colorDecorators;if(s&&s.enable!==void 0&&!s.enable)return s.enable}return this._editor.getOption(17)}static get(u){return u.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;const u=this._editor.getModel();!u||!i.ColorProviderRegistry.has(u)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new L.TimeoutTimer,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},Hi.RECOMPUTE_TIME))})),this.beginCompute())}beginCompute(){this._computePromise=(0,L.createCancelablePromise)(u=>{const n=this._editor.getModel();return n?(0,t.getColors)(n,u):Promise.resolve([])}),this._computePromise.then(u=>{this.updateDecorations(u),this.updateColorDecorators(u),this._computePromise=null},M.onUnexpectedError)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(u){const n=u.map(r=>({range:{startLineNumber:r.colorInfo.range.startLineNumber,startColumn:r.colorInfo.range.startColumn,endLineNumber:r.colorInfo.range.endLineNumber,endColumn:r.colorInfo.range.endColumn},options:v.ModelDecorationOptions.EMPTY}));this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,n),this._colorDatas=new Map,this._decorationsIds.forEach((r,s)=>this._colorDatas.set(r,u[s]))}updateColorDecorators(u){this._colorDecorationClassRefs.clear();let n=[];for(let r=0;r<u.length&&n.length<l;r++){const{red:s,green:o,blue:m,alpha:_}=u[r].colorInfo.color,f=new N.RGBA(Math.round(s*255),Math.round(o*255),Math.round(m*255),_);let c=`rgba(${f.r}, ${f.g}, ${f.b}, ${f.a})`;const C=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:c}));n.push({range:{startLineNumber:u[r].colorInfo.range.startLineNumber,startColumn:u[r].colorInfo.range.startColumn,endLineNumber:u[r].colorInfo.range.endLineNumber,endColumn:u[r].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:g.noBreakWhitespace,inlineClassName:`${C.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0}}})}this._colorDecoratorIds=new Set(this._editor.deltaDecorations([...this._colorDecoratorIds],n))}removeAllDecorations(){this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=new Set(this._editor.deltaDecorations([...this._colorDecoratorIds],[])),this._colorDecorationClassRefs.clear()}getColorData(u){const n=this._editor.getModel();if(!n)return null;const r=n.getDecorationsInRange(p.Range.fromPositions(u,u)).filter(s=>this._colorDatas.has(s.id));return r.length===0?null:this._colorDatas.get(r[0].id)}isColorDecorationId(u){return this._colorDecoratorIds.has(u)}};h.ID="editor.contrib.colorDetector",h.RECOMPUTE_TIME=1e3,h=Ve([Ce(1,a.IConfigurationService)],h),e.ColorDetector=h,(0,b.registerEditorContribution)(h.ID,h)}),define(ee[704],te([0,1,2,15,16,13,3,23,31,438,373]),function(Q,e,L,N,M,E,g,S,b,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropController=void 0;function v(t){return N.isMacintosh?t.altKey:t.ctrlKey}class i extends L.Disposable{constructor(a){super();this._editor=a,this._register(this._editor.onMouseDown(l=>this._onEditorMouseDown(l))),this._register(this._editor.onMouseUp(l=>this._onEditorMouseUp(l))),this._register(this._editor.onMouseDrag(l=>this._onEditorMouseDrag(l))),this._register(this._editor.onMouseDrop(l=>this._onEditorMouseDrop(l))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(l=>this.onEditorKeyDown(l))),this._register(this._editor.onKeyUp(l=>this.onEditorKeyUp(l))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._dndDecorationIds=[],this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}static get(a){return a.getContribution(i.ID)}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(a){!this._editor.getOption(31)||this._editor.getOption(18)||(v(a)&&(this._modifierPressed=!0),this._mouseDown&&v(a)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(a){!this._editor.getOption(31)||this._editor.getOption(18)||(v(a)&&(this._modifierPressed=!1),this._mouseDown&&a.keyCode===i.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(a){this._mouseDown=!0}_onEditorMouseUp(a){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(a){let l=a.target;if(this._dragSelection===null){let d=(this._editor.getSelections()||[]).filter(u=>l.position&&u.containsPosition(l.position));if(d.length===1)this._dragSelection=d[0];else return}v(a.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),l.position&&(this._dragSelection.containsPosition(l.position)?this._removeDecoration():this.showAt(l.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(a){if(a.target&&(this._hitContent(a.target)||this._hitMargin(a.target))&&a.target.position){let l=new E.Position(a.target.position.lineNumber,a.target.position.column);if(this._dragSelection===null){let h=null;if(a.event.shiftKey){let d=this._editor.getSelection();if(d){const{selectionStartLineNumber:u,selectionStartColumn:n}=d;h=[new S.Selection(u,n,l.lineNumber,l.column)]}}else h=(this._editor.getSelections()||[]).map(d=>d.containsPosition(l)?new S.Selection(l.lineNumber,l.column,l.lineNumber,l.column):d);this._editor.setSelections(h||[],"mouse",3)}else(!this._dragSelection.containsPosition(l)||(v(a.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(l)||this._dragSelection.getStartPosition().equals(l)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(i.ID,new p.DragAndDropCommand(this._dragSelection,l,v(a.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(a){let l=[{range:new g.Range(a.lineNumber,a.column,a.lineNumber,a.column),options:i._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,l),this._editor.revealPosition(a,1)}_removeDecoration(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[])}_hitContent(a){return a.type===6||a.type===7}_hitMargin(a){return a.type===2||a.type===3||a.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}e.DragAndDropController=i,i.ID="editor.contrib.dragAndDrop",i.TRIGGER_KEY_VALUE=N.isMacintosh?6:5,i._DECORATION_OPTIONS=b.ModelDecorationOptions.register({description:"dnd-target",className:"dnd-target"}),(0,M.registerEditorContribution)(i.ID,i)}),define(ee[705],te([0,1,3,49,31,24,14]),function(Q,e,L,N,M,E,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindDecorations=void 0;class S{constructor(p){this._editor=p,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const p=this._findScopeDecorationIds.map(v=>this._editor.getModel().getDecorationRange(v)).filter(v=>!!v);if(p.length)return p}return null}getStartPosition(){return this._startPosition}setStartPosition(p){this._startPosition=p,this.setCurrentFindMatch(null)}_getDecorationIndex(p){const v=this._decorations.indexOf(p);return v>=0?v+1:1}getCurrentMatchesPosition(p){let v=this._editor.getModel().getDecorationsInRange(p);for(const i of v){const t=i.options;if(t===S._FIND_MATCH_DECORATION||t===S._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(i.id)}return 0}setCurrentFindMatch(p){let v=null,i=0;if(p)for(let t=0,a=this._decorations.length;t<a;t++){let l=this._editor.getModel().getDecorationRange(this._decorations[t]);if(p.equalsRange(l)){v=this._decorations[t],i=t+1;break}}return(this._highlightedDecorationId!==null||v!==null)&&this._editor.changeDecorations(t=>{if(this._highlightedDecorationId!==null&&(t.changeDecorationOptions(this._highlightedDecorationId,S._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),v!==null&&(this._highlightedDecorationId=v,t.changeDecorationOptions(this._highlightedDecorationId,S._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(t.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),v!==null){let a=this._editor.getModel().getDecorationRange(v);if(a.startLineNumber!==a.endLineNumber&&a.endColumn===1){let l=a.endLineNumber-1,h=this._editor.getModel().getLineMaxColumn(l);a=new L.Range(a.startLineNumber,a.startColumn,l,h)}this._rangeHighlightDecorationId=t.addDecoration(a,S._RANGE_HIGHLIGHT_DECORATION)}}),i}set(p,v){this._editor.changeDecorations(i=>{let t=S._FIND_MATCH_DECORATION,a=[];if(p.length>1e3){t=S._FIND_MATCH_NO_OVERVIEW_DECORATION;const h=this._editor.getModel().getLineCount(),u=this._editor.getLayoutInfo().height/h,n=Math.max(2,Math.ceil(3/u));let r=p[0].range.startLineNumber,s=p[0].range.endLineNumber;for(let o=1,m=p.length;o<m;o++){const _=p[o].range;s+n>=_.startLineNumber?_.endLineNumber>s&&(s=_.endLineNumber):(a.push({range:new L.Range(r,1,s,1),options:S._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),r=_.startLineNumber,s=_.endLineNumber)}a.push({range:new L.Range(r,1,s,1),options:S._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}let l=new Array(p.length);for(let h=0,d=p.length;h<d;h++)l[h]={range:p[h].range,options:t};this._decorations=i.deltaDecorations(this._decorations,l),this._overviewRulerApproximateDecorations=i.deltaDecorations(this._overviewRulerApproximateDecorations,a),this._rangeHighlightDecorationId&&(i.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(h=>i.removeDecoration(h)),this._findScopeDecorationIds=[]),(v==null?void 0:v.length)&&(this._findScopeDecorationIds=v.map(h=>i.addDecoration(h,S._FIND_SCOPE_DECORATION)))})}matchBeforePosition(p){if(this._decorations.length===0)return null;for(let v=this._decorations.length-1;v>=0;v--){let i=this._decorations[v],t=this._editor.getModel().getDecorationRange(i);if(!(!t||t.endLineNumber>p.lineNumber)){if(t.endLineNumber<p.lineNumber)return t;if(!(t.endColumn>p.column))return t}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(p){if(this._decorations.length===0)return null;for(let v=0,i=this._decorations.length;v<i;v++){let t=this._decorations[v],a=this._editor.getModel().getDecorationRange(t);if(!(!a||a.startLineNumber<p.lineNumber)){if(a.startLineNumber>p.lineNumber)return a;if(!(a.startColumn<p.column))return a}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let p=[];return p=p.concat(this._decorations),p=p.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&p.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&p.push(this._rangeHighlightDecorationId),p}}e.FindDecorations=S,S._CURRENT_FIND_MATCH_DECORATION=M.ModelDecorationOptions.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,g.themeColorFromId)(E.overviewRulerFindMatchForeground),position:N.OverviewRulerLane.Center},minimap:{color:(0,g.themeColorFromId)(E.minimapFindMatch),position:N.MinimapPosition.Inline}}),S._FIND_MATCH_DECORATION=M.ModelDecorationOptions.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,g.themeColorFromId)(E.overviewRulerFindMatchForeground),position:N.OverviewRulerLane.Center},minimap:{color:(0,g.themeColorFromId)(E.minimapFindMatch),position:N.MinimapPosition.Inline}}),S._FIND_MATCH_NO_OVERVIEW_DECORATION=M.ModelDecorationOptions.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),S._FIND_MATCH_ONLY_OVERVIEW_DECORATION=M.ModelDecorationOptions.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,g.themeColorFromId)(E.overviewRulerFindMatchForeground),position:N.OverviewRulerLane.Center}}),S._RANGE_HIGHLIGHT_DECORATION=M.ModelDecorationOptions.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),S._FIND_SCOPE_DECORATION=M.ModelDecorationOptions.register({description:"find-scope",className:"findScope",isWholeLine:!0})}),define(ee[166],te([0,1,19,10,2,102,13,3,23,148,705,439,440,17]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindModelBoundToEditorModel=e.MATCHES_LIMIT=e.FIND_IDS=e.TogglePreserveCaseKeybinding=e.ToggleSearchScopeKeybinding=e.ToggleRegexKeybinding=e.ToggleWholeWordKeybinding=e.ToggleCaseSensitiveKeybinding=e.CONTEXT_REPLACE_INPUT_FOCUSED=e.CONTEXT_FIND_INPUT_FOCUSED=e.CONTEXT_FIND_WIDGET_NOT_VISIBLE=e.CONTEXT_FIND_WIDGET_VISIBLE=void 0,e.CONTEXT_FIND_WIDGET_VISIBLE=new a.RawContextKey("findWidgetVisible",!1),e.CONTEXT_FIND_WIDGET_NOT_VISIBLE=e.CONTEXT_FIND_WIDGET_VISIBLE.toNegated(),e.CONTEXT_FIND_INPUT_FOCUSED=new a.RawContextKey("findInputFocussed",!1),e.CONTEXT_REPLACE_INPUT_FOCUSED=new a.RawContextKey("replaceInputFocussed",!1),e.ToggleCaseSensitiveKeybinding={primary:512|33,mac:{primary:2048|512|33}},e.ToggleWholeWordKeybinding={primary:512|53,mac:{primary:2048|512|53}},e.ToggleRegexKeybinding={primary:512|48,mac:{primary:2048|512|48}},e.ToggleSearchScopeKeybinding={primary:512|42,mac:{primary:2048|512|42}},e.TogglePreserveCaseKeybinding={primary:512|46,mac:{primary:2048|512|46}},e.FIND_IDS={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},e.MATCHES_LIMIT=19999;const l=240;class h{constructor(u,n){this._toDispose=new M.DisposableStore,this._editor=u,this._state=n,this._isDisposed=!1,this._startSearchingTimer=new N.TimeoutTimer,this._decorations=new v.FindDecorations(u),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new N.RunOnceScheduler(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(r=>{(r.reason===3||r.reason===5||r.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(r=>{this._ignoreModelContentChanged||(r.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(r=>this._onStateChanged(r))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,M.dispose)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(u){this._isDisposed||!this._editor.hasModel()||(u.searchString||u.isReplaceRevealed||u.isRegex||u.wholeWord||u.matchCase||u.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{u.searchScope?this.research(u.moveCursor,this._state.searchScope):this.research(u.moveCursor)},l)):u.searchScope?this.research(u.moveCursor,this._state.searchScope):this.research(u.moveCursor))}static _getSearchRange(u,n){return n||u.getFullModelRange()}research(u,n){let r=null;typeof n!="undefined"?n!==null&&(Array.isArray(n)?r=n:r=[n]):r=this._decorations.getFindScopes(),r!==null&&(r=r.map(_=>{if(_.startLineNumber!==_.endLineNumber){let f=_.endLineNumber;return _.endColumn===1&&(f=f-1),new S.Range(_.startLineNumber,1,f,this._editor.getModel().getLineMaxColumn(f))}return _}));let s=this._findMatches(r,!1,e.MATCHES_LIMIT);this._decorations.set(s,r);const o=this._editor.getSelection();let m=this._decorations.getCurrentMatchesPosition(o);if(m===0&&s.length>0){const _=(0,L.findFirstInSorted)(s.map(f=>f.range),f=>S.Range.compareRangesUsingStarts(f,o)>=0);m=_>0?_-1+1:m}this._state.changeMatchInfo(m,this._decorations.getCount(),void 0),u&&this._editor.getOption(35).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){let u=this._decorations.getFindScope();return u&&this._editor.revealRangeInCenterIfOutsideViewport(u,0),!0}return!1}_setCurrentFindMatch(u){let n=this._decorations.setCurrentFindMatch(u);this._state.changeMatchInfo(n,this._decorations.getCount(),u),this._editor.setSelection(u),this._editor.revealRangeInCenterIfOutsideViewport(u,0)}_prevSearchPosition(u){let n=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:r,column:s}=u,o=this._editor.getModel();return n||s===1?(r===1?r=o.getLineCount():r--,s=o.getLineMaxColumn(r)):s--,new g.Position(r,s)}_moveToPrevMatch(u,n=!1){if(!this._state.canNavigateBack()){const C=this._decorations.matchAfterPosition(u);C&&this._setCurrentFindMatch(C);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let C=this._decorations.matchBeforePosition(u);C&&C.isEmpty()&&C.getStartPosition().equals(u)&&(u=this._prevSearchPosition(u),C=this._decorations.matchBeforePosition(u)),C&&this._setCurrentFindMatch(C);return}if(this._cannotFind())return;let r=this._decorations.getFindScope(),s=h._getSearchRange(this._editor.getModel(),r);s.getEndPosition().isBefore(u)&&(u=s.getEndPosition()),u.isBefore(s.getStartPosition())&&(u=s.getEndPosition());let{lineNumber:o,column:m}=u,_=this._editor.getModel(),f=new g.Position(o,m),c=_.findPreviousMatch(this._state.searchString,f,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(116):null,!1);if(c&&c.range.isEmpty()&&c.range.getStartPosition().equals(f)&&(f=this._prevSearchPosition(f),c=_.findPreviousMatch(this._state.searchString,f,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(116):null,!1)),!!c){if(!n&&!s.containsRange(c.range))return this._moveToPrevMatch(c.range.getStartPosition(),!0);this._setCurrentFindMatch(c.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(u){let n=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:r,column:s}=u,o=this._editor.getModel();return n||s===o.getLineMaxColumn(r)?(r===o.getLineCount()?r=1:r++,s=1):s++,new g.Position(r,s)}_moveToNextMatch(u){if(!this._state.canNavigateForward()){const r=this._decorations.matchBeforePosition(u);r&&this._setCurrentFindMatch(r);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let r=this._decorations.matchAfterPosition(u);r&&r.isEmpty()&&r.getStartPosition().equals(u)&&(u=this._nextSearchPosition(u),r=this._decorations.matchAfterPosition(u)),r&&this._setCurrentFindMatch(r);return}let n=this._getNextMatch(u,!1,!0);n&&this._setCurrentFindMatch(n.range)}_getNextMatch(u,n,r,s=!1){if(this._cannotFind())return null;let o=this._decorations.getFindScope(),m=h._getSearchRange(this._editor.getModel(),o);m.getEndPosition().isBefore(u)&&(u=m.getStartPosition()),u.isBefore(m.getStartPosition())&&(u=m.getStartPosition());let{lineNumber:_,column:f}=u,c=this._editor.getModel(),C=new g.Position(_,f),y=c.findNextMatch(this._state.searchString,C,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(116):null,n);return r&&y&&y.range.isEmpty()&&y.range.getStartPosition().equals(C)&&(C=this._nextSearchPosition(C),y=c.findNextMatch(this._state.searchString,C,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(116):null,n)),y?!s&&!m.containsRange(y.range)?this._getNextMatch(y.range.getEndPosition(),n,r,!0):y:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?(0,t.parseReplaceString)(this._state.replaceString):t.ReplacePattern.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;let u=this._getReplacePattern(),n=this._editor.getSelection(),r=this._getNextMatch(n.getStartPosition(),!0,!1);if(r)if(n.equalsRange(r.range)){let s=u.buildReplaceString(r.matches,this._state.preserveCase),o=new E.ReplaceCommand(n,s);this._executeEditorCommand("replace",o),this._decorations.setStartPosition(new g.Position(n.startLineNumber,n.startColumn+s.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(r.range)}_findMatches(u,n,r){const s=(u||[null]).map(o=>h._getSearchRange(this._editor.getModel(),o));return this._editor.getModel().findMatches(this._state.searchString,s,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(116):null,n,r)}replaceAll(){if(!this._hasMatches())return;const u=this._decorations.getFindScopes();u===null&&this._state.matchesCount>=e.MATCHES_LIMIT?this._largeReplaceAll():this._regularReplaceAll(u),this.research(!1)}_largeReplaceAll(){const n=new p.SearchParams(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(116):null).parseSearchRequest();if(!n)return;let r=n.regex;if(!r.multiline){let y="mu";r.ignoreCase&&(y+="i"),r.global&&(y+="g"),r=new RegExp(r.source,y)}const s=this._editor.getModel(),o=s.getValue(1),m=s.getFullModelRange(),_=this._getReplacePattern();let f;const c=this._state.preserveCase;_.hasReplacementPatterns||c?f=o.replace(r,function(){return _.buildReplaceString(arguments,c)}):f=o.replace(r,_.buildReplaceString(null,c));let C=new E.ReplaceCommandThatPreservesSelection(m,f,this._editor.getSelection());this._executeEditorCommand("replaceAll",C)}_regularReplaceAll(u){const n=this._getReplacePattern();let r=this._findMatches(u,n.hasReplacementPatterns||this._state.preserveCase,1073741824),s=[];for(let m=0,_=r.length;m<_;m++)s[m]=n.buildReplaceString(r[m].matches,this._state.preserveCase);let o=new i.ReplaceAllCommand(this._editor.getSelection(),r.map(m=>m.range),s);this._executeEditorCommand("replaceAll",o)}selectAllMatches(){if(!this._hasMatches())return;let u=this._decorations.getFindScopes(),r=this._findMatches(u,!1,1073741824).map(o=>new b.Selection(o.range.startLineNumber,o.range.startColumn,o.range.endLineNumber,o.range.endColumn)),s=this._editor.getSelection();for(let o=0,m=r.length;o<m;o++)if(r[o].equalsRange(s)){r=[s].concat(r.slice(0,o)).concat(r.slice(o+1));break}this._editor.setSelections(r)}_executeEditorCommand(u,n){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(u,n),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}e.FindModelBoundToEditorModel=h}),define(ee[706],te([0,1,7,256,53,10,166,24,14]),function(Q,e,L,N,M,E,g,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindOptionsWidget=void 0;class p extends M.Widget{constructor(i,t,a,l){super();this._hideSoon=this._register(new E.RunOnceScheduler(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=i,this._state=t,this._keybindingService=a,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const h=l.getColorTheme().getColor(S.inputActiveOptionBorder),d=l.getColorTheme().getColor(S.inputActiveOptionForeground),u=l.getColorTheme().getColor(S.inputActiveOptionBackground);this.caseSensitive=this._register(new N.CaseSensitiveCheckbox({appendTitle:this._keybindingLabelFor(g.FIND_IDS.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,inputActiveOptionBorder:h,inputActiveOptionForeground:d,inputActiveOptionBackground:u})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new N.WholeWordsCheckbox({appendTitle:this._keybindingLabelFor(g.FIND_IDS.ToggleWholeWordCommand),isChecked:this._state.wholeWord,inputActiveOptionBorder:h,inputActiveOptionForeground:d,inputActiveOptionBackground:u})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new N.RegexCheckbox({appendTitle:this._keybindingLabelFor(g.FIND_IDS.ToggleRegexCommand),isChecked:this._state.isRegex,inputActiveOptionBorder:h,inputActiveOptionForeground:d,inputActiveOptionBackground:u})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(n=>{let r=!1;n.isRegex&&(this.regex.checked=this._state.isRegex,r=!0),n.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,r=!0),n.matchCase&&(this.caseSensitive.checked=this._state.matchCase,r=!0),!this._state.isRevealed&&r&&this._revealTemporarily()})),this._register(L.addDisposableNonBubblingMouseOutListener(this._domNode,n=>this._onMouseOut())),this._register(L.addDisposableListener(this._domNode,"mouseover",n=>this._onMouseOver())),this._applyTheme(l.getColorTheme()),this._register(l.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(i){let t=this._keybindingService.lookupKeybinding(i);return t?` (${t.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return p.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseOut(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){!this._isVisible||(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(i){let t={inputActiveOptionBorder:i.getColor(S.inputActiveOptionBorder),inputActiveOptionForeground:i.getColor(S.inputActiveOptionForeground),inputActiveOptionBackground:i.getColor(S.inputActiveOptionBackground)};this.caseSensitive.style(t),this.wholeWords.style(t),this.regex.style(t)}}e.FindOptionsWidget=p,p.ID="editor.contrib.findOptionsWidget",(0,b.registerThemingParticipant)((v,i)=>{const t=v.getColor(S.editorWidgetBackground);t&&i.addRule(`.monaco-editor .findOptionsWidget { background-color: ${t}; }`);const a=v.getColor(S.editorWidgetForeground);a&&i.addRule(`.monaco-editor .findOptionsWidget { color: ${a}; }`);const l=v.getColor(S.widgetShadow);l&&i.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${l}; }`);const h=v.getColor(S.contrastBorder);h&&i.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${h}; }`)})}),define(ee[707],te([0,1,4,2,3,166]),function(Q,e,L,N,M,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindReplaceState=void 0;function g(b,p){return b===1?!0:b===2?!1:p}class S extends N.Disposable{constructor(){super();this._onFindReplaceStateChange=this._register(new L.Emitter),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return g(this._isRegexOverride,this._isRegex)}get wholeWord(){return g(this._wholeWordOverride,this._wholeWord)}get matchCase(){return g(this._matchCaseOverride,this._matchCase)}get preserveCase(){return g(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(p,v,i){let t={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},a=!1;v===0&&(p=0),p>v&&(p=v),this._matchesPosition!==p&&(this._matchesPosition=p,t.matchesPosition=!0,a=!0),this._matchesCount!==v&&(this._matchesCount=v,t.matchesCount=!0,a=!0),typeof i!="undefined"&&(M.Range.equalsRange(this._currentMatch,i)||(this._currentMatch=i,t.currentMatch=!0,a=!0)),a&&this._onFindReplaceStateChange.fire(t)}change(p,v,i=!0){var t;let a={moveCursor:v,updateHistory:i,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},l=!1;const h=this.isRegex,d=this.wholeWord,u=this.matchCase,n=this.preserveCase;typeof p.searchString!="undefined"&&this._searchString!==p.searchString&&(this._searchString=p.searchString,a.searchString=!0,l=!0),typeof p.replaceString!="undefined"&&this._replaceString!==p.replaceString&&(this._replaceString=p.replaceString,a.replaceString=!0,l=!0),typeof p.isRevealed!="undefined"&&this._isRevealed!==p.isRevealed&&(this._isRevealed=p.isRevealed,a.isRevealed=!0,l=!0),typeof p.isReplaceRevealed!="undefined"&&this._isReplaceRevealed!==p.isReplaceRevealed&&(this._isReplaceRevealed=p.isReplaceRevealed,a.isReplaceRevealed=!0,l=!0),typeof p.isRegex!="undefined"&&(this._isRegex=p.isRegex),typeof p.wholeWord!="undefined"&&(this._wholeWord=p.wholeWord),typeof p.matchCase!="undefined"&&(this._matchCase=p.matchCase),typeof p.preserveCase!="undefined"&&(this._preserveCase=p.preserveCase),typeof p.searchScope!="undefined"&&(((t=p.searchScope)===null||t===void 0?void 0:t.every(r=>{var s;return(s=this._searchScope)===null||s===void 0?void 0:s.some(o=>!M.Range.equalsRange(o,r))}))||(this._searchScope=p.searchScope,a.searchScope=!0,l=!0)),typeof p.loop!="undefined"&&this._loop!==p.loop&&(this._loop=p.loop,a.loop=!0,l=!0),this._isRegexOverride=typeof p.isRegexOverride!="undefined"?p.isRegexOverride:0,this._wholeWordOverride=typeof p.wholeWordOverride!="undefined"?p.wholeWordOverride:0,this._matchCaseOverride=typeof p.matchCaseOverride!="undefined"?p.matchCaseOverride:0,this._preserveCaseOverride=typeof p.preserveCaseOverride!="undefined"?p.preserveCaseOverride:0,h!==this.isRegex&&(l=!0,a.isRegex=!0),d!==this.wholeWord&&(l=!0,a.wholeWord=!0),u!==this.matchCase&&(l=!0,a.matchCase=!0),n!==this.preserveCase&&(l=!0,a.preserveCase=!0),l&&this._onFindReplaceStateChange.fire(a)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=E.MATCHES_LIMIT}}e.FindReplaceState=S}),define(ee[708],te([0,1,7,45,188,113,53,10,27,12,2,15,8,3,166,512,674,579,24,71,14,374]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u,n,r,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleButton=e.FindWidget=e.FindWidgetViewZone=e.NLS_NO_RESULTS=e.NLS_MATCHES_LOCATION=e.findNextMatchIcon=e.findPreviousMatchIcon=e.findReplaceAllIcon=e.findReplaceIcon=void 0;const o=(0,r.registerIcon)("find-selection",b.Codicon.selection,h.localize(0,null)),m=(0,r.registerIcon)("find-collapsed",b.Codicon.chevronRight,h.localize(1,null)),_=(0,r.registerIcon)("find-expanded",b.Codicon.chevronDown,h.localize(2,null));e.findReplaceIcon=(0,r.registerIcon)("find-replace",b.Codicon.replace,h.localize(3,null)),e.findReplaceAllIcon=(0,r.registerIcon)("find-replace-all",b.Codicon.replaceAll,h.localize(4,null)),e.findPreviousMatchIcon=(0,r.registerIcon)("find-previous-match",b.Codicon.arrowUp,h.localize(5,null)),e.findNextMatchIcon=(0,r.registerIcon)("find-next-match",b.Codicon.arrowDown,h.localize(6,null));const f=h.localize(7,null),c=h.localize(8,null),C=h.localize(9,null),y=h.localize(10,null),w=h.localize(11,null),D=h.localize(12,null),I=h.localize(13,null),T=h.localize(14,null),F=h.localize(15,null),P=h.localize(16,null),R=h.localize(17,null),A=h.localize(18,null,l.MATCHES_LIMIT);e.NLS_MATCHES_LOCATION=h.localize(19,null),e.NLS_NO_RESULTS=h.localize(20,null);const O=419,V=275-54;let B=69;const x=33,K="ctrlEnterReplaceAll.windows.donotask",X=i.isMacintosh?256:2048;class Z{constructor(j){this.afterLineNumber=j,this.heightInPx=x,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}e.FindWidgetViewZone=Z;function q(W,j,U){const Y=!!j.match(/\n/);if(U&&Y&&U.selectionStart>0){W.stopPropagation();return}}function H(W,j,U){const Y=!!j.match(/\n/);if(U&&Y&&U.selectionEnd<U.value.length){W.stopPropagation();return}}class G extends g.Widget{constructor(j,U,Y,ne,J,re,ge,pe,oe){super();this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=j,this._controller=U,this._state=Y,this._contextViewProvider=ne,this._keybindingService=J,this._contextKeyService=re,this._storageService=pe,this._notificationService=oe,this._ctrlEnterReplaceAllWarningPrompted=!!pe.getBoolean(K,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new S.Delayer(500),this._register((0,v.toDisposable)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange($=>this._onStateChanged($))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration($=>{if($.hasChanged(80)&&(this._codeEditor.getOption(80)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),$.hasChanged(130)&&this._tryUpdateWidgetWidth(),$.hasChanged(2)&&this.updateAccessibilitySupport(),$.hasChanged(35)){const ie=this._codeEditor.getOption(35).addExtraSpaceOnTop;ie&&!this._viewZone&&(this._viewZone=new Z(0),this._showViewZone()),!ie&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>Me(this,void 0,void 0,function*(){if(this._isVisible){let $=yield this._controller.getGlobalBufferTerm();$&&$!==this._state.searchString&&(this._state.change({searchString:$},!1),this._findInput.select())}}))),this._findInputFocused=l.CONTEXT_FIND_INPUT_FOCUSED.bindTo(re),this._findFocusTracker=this._register(L.trackFocus(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=l.CONTEXT_REPLACE_INPUT_FOCUSED.bindTo(re),this._replaceFocusTracker=this._register(L.trackFocus(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(35).addExtraSpaceOnTop&&(this._viewZone=new Z(0)),this._applyTheme(ge.getColorTheme()),this._register(ge.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{!this._isVisible||(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange($=>{if($.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return G.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(j){if(j.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(j.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),j.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),j.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(80)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=L.getTotalWidth(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(j.isRevealed||j.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),j.isRegex&&this._findInput.setRegex(this._state.isRegex),j.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),j.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),j.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),j.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),j.searchString||j.matchesCount||j.matchesPosition){let U=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",U),this._updateMatchesCount(),this._updateButtons()}(j.searchString||j.currentMatch)&&this._layoutViewZone(),j.updateHistory&&this._delayedUpdateHistory(),j.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,p.onUnexpectedError)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=B+"px",this._state.matchesCount>=l.MATCHES_LIMIT?this._matchesCount.title=A:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let j;if(this._state.matchesCount>0){let U=String(this._state.matchesCount);this._state.matchesCount>=l.MATCHES_LIMIT&&(U+="+");let Y=String(this._state.matchesPosition);Y==="0"&&(Y="?"),j=t.format(e.NLS_MATCHES_LOCATION,Y,U)}else j=e.NLS_NO_RESULTS;this._matchesCount.appendChild(document.createTextNode(j)),(0,N.alert)(this._getAriaLabel(j,this._state.currentMatch,this._state.searchString)),B=Math.max(B,this._matchesCount.clientWidth)}_getAriaLabel(j,U,Y){if(j===e.NLS_NO_RESULTS)return Y===""?h.localize(21,null,j):h.localize(22,null,j,Y);if(U){const ne=h.localize(23,null,j,Y,U.startLineNumber+":"+U.startColumn),J=this._codeEditor.getModel();return J&&U.startLineNumber<=J.getLineCount()&&U.startLineNumber>=1?`${J.getLineContent(U.startLineNumber)}, ${ne}`:ne}return h.localize(24,null,j,Y)}_updateToggleSelectionFindButton(){let j=this._codeEditor.getSelection(),U=j?j.startLineNumber!==j.endLineNumber||j.startColumn!==j.endColumn:!1,Y=this._toggleSelectionFind.checked;this._isVisible&&(Y||U)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);let j=this._state.searchString.length>0,U=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&j&&U&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&j&&U&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&j),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&j),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);let Y=!this._codeEditor.getOption(80);this._toggleReplaceBtn.setEnabled(this._isVisible&&Y)}_reveal(){if(this._revealTimeouts.forEach(j=>{clearTimeout(j)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const j=this._codeEditor.getSelection();switch(this._codeEditor.getOption(35).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":const Y=!!j&&j.startLineNumber!==j.endLineNumber;this._toggleSelectionFind.checked=Y;break;default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let U=!0;if(this._codeEditor.getOption(35).seedSearchStringFromSelection&&j){const Y=this._codeEditor.getDomNode();if(Y){const ne=L.getDomNodePagePosition(Y),J=this._codeEditor.getScrolledVisiblePosition(j.getStartPosition()),re=ne.left+(J?J.left:0),ge=J?J.top:0;if(this._viewZone&&ge<this._viewZone.heightInPx){j.endLineNumber>j.startLineNumber&&(U=!1);const pe=L.getTopLeftOffset(this._domNode).left;re>pe&&(U=!1);const oe=this._codeEditor.getScrolledVisiblePosition(j.getEndPosition());ne.left+(oe?oe.left:0)>pe&&(U=!1)}}}this._showViewZone(U)}}_hide(j){this._revealTimeouts.forEach(U=>{clearTimeout(U)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),j&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(j){if(!this._codeEditor.getOption(35).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const Y=this._viewZone;this._viewZoneId!==void 0||!Y||this._codeEditor.changeViewZones(ne=>{Y.heightInPx=this._getHeight(),this._viewZoneId=ne.addZone(Y),this._codeEditor.setScrollTop(j||this._codeEditor.getScrollTop()+Y.heightInPx)})}_showViewZone(j=!0){if(!this._isVisible||!this._codeEditor.getOption(35).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new Z(0));const Y=this._viewZone;this._codeEditor.changeViewZones(ne=>{if(this._viewZoneId!==void 0){const J=this._getHeight();if(J===Y.heightInPx)return;let re=J-Y.heightInPx;Y.heightInPx=J,ne.layoutZone(this._viewZoneId),j&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+re);return}else{let J=this._getHeight();if(J-=this._codeEditor.getOption(74).top,J<=0)return;Y.heightInPx=J,this._viewZoneId=ne.addZone(Y),j&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+J)}})}_removeViewZone(){this._codeEditor.changeViewZones(j=>{this._viewZoneId!==void 0&&(j.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(j){let U={inputActiveOptionBorder:j.getColor(n.inputActiveOptionBorder),inputActiveOptionBackground:j.getColor(n.inputActiveOptionBackground),inputActiveOptionForeground:j.getColor(n.inputActiveOptionForeground),inputBackground:j.getColor(n.inputBackground),inputForeground:j.getColor(n.inputForeground),inputBorder:j.getColor(n.inputBorder),inputValidationInfoBackground:j.getColor(n.inputValidationInfoBackground),inputValidationInfoForeground:j.getColor(n.inputValidationInfoForeground),inputValidationInfoBorder:j.getColor(n.inputValidationInfoBorder),inputValidationWarningBackground:j.getColor(n.inputValidationWarningBackground),inputValidationWarningForeground:j.getColor(n.inputValidationWarningForeground),inputValidationWarningBorder:j.getColor(n.inputValidationWarningBorder),inputValidationErrorBackground:j.getColor(n.inputValidationErrorBackground),inputValidationErrorForeground:j.getColor(n.inputValidationErrorForeground),inputValidationErrorBorder:j.getColor(n.inputValidationErrorBorder)};this._findInput.style(U),this._replaceInput.style(U),this._toggleSelectionFind.style(U)}_tryUpdateWidgetWidth(){if(!this._isVisible||!L.isInDOM(this._domNode))return;const j=this._codeEditor.getLayoutInfo();if(j.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const Y=j.width,ne=j.minimap.minimapWidth;let J=!1,re=!1,ge=!1;if(this._resized&&L.getTotalWidth(this._domNode)>O){this._domNode.style.maxWidth=`${Y-28-ne-15}px`,this._replaceInput.width=L.getTotalWidth(this._findInput.domNode);return}if(O+28+ne>=Y&&(re=!0),O+28+ne-B>=Y&&(ge=!0),O+28+ne-B>=Y+50&&(J=!0),this._domNode.classList.toggle("collapsed-find-widget",J),this._domNode.classList.toggle("narrow-find-widget",ge),this._domNode.classList.toggle("reduced-find-widget",re),!ge&&!J&&(this._domNode.style.maxWidth=`${Y-28-ne-15}px`),this._resized){this._findInput.inputBox.layout();let pe=this._findInput.inputBox.element.clientWidth;pe>0&&(this._replaceInput.width=pe)}else this._isReplaceVisible&&(this._replaceInput.width=L.getTotalWidth(this._findInput.domNode))}_getHeight(){let j=0;return j+=4,j+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(j+=4,j+=this._replaceInput.inputBox.height+2),j+=4,j}_tryUpdateHeight(){const j=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===j?!1:(this._cachedHeight=j,this._domNode.style.height=`${j}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(!!this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){let j=this._codeEditor.getSelections();j.map(U=>{U.endColumn===1&&U.endLineNumber>U.startLineNumber&&(U=U.setEndPosition(U.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(U.endLineNumber-1)));const Y=this._state.currentMatch;return U.startLineNumber!==U.endLineNumber&&!a.Range.equalsRange(U,Y)?U:null}).filter(U=>!!U),j.length&&this._state.change({searchScope:j},!0)}}_onFindInputMouseDown(j){j.middleButton&&j.stopPropagation()}_onFindInputKeyDown(j){if(j.equals(X|3))if(this._keybindingService.dispatchEvent(j,j.target)){j.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),j.preventDefault();return}if(j.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),j.preventDefault();return}if(j.equals(2048|18)){this._codeEditor.focus(),j.preventDefault();return}if(j.equals(16))return q(j,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(j.equals(18))return H(j,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(j){if(j.equals(X|3))if(this._keybindingService.dispatchEvent(j,j.target)){j.preventDefault();return}else{i.isWindows&&i.isNative&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(h.localize(25,null)),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(K,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),j.preventDefault();return}if(j.equals(2)){this._findInput.focusOnCaseSensitive(),j.preventDefault();return}if(j.equals(1024|2)){this._findInput.focus(),j.preventDefault();return}if(j.equals(2048|18)){this._codeEditor.focus(),j.preventDefault();return}if(j.equals(16))return q(j,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(j.equals(18))return H(j,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(j){return 0}_keybindingLabelFor(j){let U=this._keybindingService.lookupKeybinding(j);return U?` (${U.getLabel()})`:""}_buildDomNode(){const j=!0,U=!0;this._findInput=this._register(new d.ContextScopedFindInput(null,this._contextViewProvider,{width:V,label:f,placeholder:c,appendCaseSensitiveLabel:this._keybindingLabelFor(l.FIND_IDS.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(l.FIND_IDS.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(l.FIND_IDS.ToggleRegexCommand),validation:pe=>{if(pe.length===0||!this._findInput.getRegex())return null;try{return new RegExp(pe,"gu"),null}catch(oe){return{content:oe.message}}},flexibleHeight:j,flexibleWidth:U,flexibleMaxHeight:118,showHistoryHint:()=>(0,u.showHistoryKeybindingHint)(this._keybindingService)},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(pe=>this._onFindInputKeyDown(pe))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(pe=>{pe.equals(1024|2)&&this._isReplaceVisible&&(this._replaceInput.focus(),pe.preventDefault())})),this._register(this._findInput.onRegexKeyDown(pe=>{pe.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),pe.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(pe=>{this._tryUpdateHeight()&&this._showViewZone()})),i.isLinux&&this._register(this._findInput.onMouseDown(pe=>this._onFindInputMouseDown(pe))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new z({label:C+this._keybindingLabelFor(l.FIND_IDS.PreviousMatchFindAction),icon:e.findPreviousMatchIcon,onTrigger:()=>{this._codeEditor.getAction(l.FIND_IDS.PreviousMatchFindAction).run().then(void 0,p.onUnexpectedError)}})),this._nextBtn=this._register(new z({label:y+this._keybindingLabelFor(l.FIND_IDS.NextMatchFindAction),icon:e.findNextMatchIcon,onTrigger:()=>{this._codeEditor.getAction(l.FIND_IDS.NextMatchFindAction).run().then(void 0,p.onUnexpectedError)}}));let Y=document.createElement("div");Y.className="find-part",Y.appendChild(this._findInput.domNode);const ne=document.createElement("div");ne.className="find-actions",Y.appendChild(ne),ne.appendChild(this._matchesCount),ne.appendChild(this._prevBtn.domNode),ne.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new M.Checkbox({icon:o,title:w+this._keybindingLabelFor(l.FIND_IDS.ToggleSearchScopeCommand),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let pe=this._codeEditor.getSelections();pe.map(oe=>(oe.endColumn===1&&oe.endLineNumber>oe.startLineNumber&&(oe=oe.setEndPosition(oe.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(oe.endLineNumber-1))),oe.isEmpty()?null:oe)).filter(oe=>!!oe),pe.length&&this._state.change({searchScope:pe},!0)}}else this._state.change({searchScope:null},!0)})),ne.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new z({label:D+this._keybindingLabelFor(l.FIND_IDS.CloseFindWidgetCommand),icon:r.widgetClose,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:pe=>{pe.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),pe.preventDefault())}})),ne.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new d.ContextScopedReplaceInput(null,void 0,{label:I,placeholder:T,appendPreserveCaseLabel:this._keybindingLabelFor(l.FIND_IDS.TogglePreserveCaseCommand),history:[],flexibleHeight:j,flexibleWidth:U,flexibleMaxHeight:118,showHistoryHint:()=>(0,u.showHistoryKeybindingHint)(this._keybindingService)},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(pe=>this._onReplaceInputKeyDown(pe))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(pe=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(pe=>{pe.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),pe.preventDefault())})),this._replaceBtn=this._register(new z({label:F+this._keybindingLabelFor(l.FIND_IDS.ReplaceOneAction),icon:e.findReplaceIcon,onTrigger:()=>{this._controller.replace()},onKeyDown:pe=>{pe.equals(1024|2)&&(this._closeBtn.focus(),pe.preventDefault())}})),this._replaceAllBtn=this._register(new z({label:P+this._keybindingLabelFor(l.FIND_IDS.ReplaceAllAction),icon:e.findReplaceAllIcon,onTrigger:()=>{this._controller.replaceAll()}}));let J=document.createElement("div");J.className="replace-part",J.appendChild(this._replaceInput.domNode);const re=document.createElement("div");re.className="replace-actions",J.appendChild(re),re.appendChild(this._replaceBtn.domNode),re.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new z({label:R,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=L.getTotalWidth(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width=`${O}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(Y),this._domNode.appendChild(J),this._resizeSash=new E.Sash(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let ge=O;this._register(this._resizeSash.onDidStart(()=>{ge=L.getTotalWidth(this._domNode)})),this._register(this._resizeSash.onDidChange(pe=>{this._resized=!0;let oe=ge+pe.startX-pe.currentX;if(oe<O)return;const $=parseFloat(L.getComputedStyle(this._domNode).maxWidth)||0;oe>$||(this._domNode.style.width=`${oe}px`,this._isReplaceVisible&&(this._replaceInput.width=L.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const pe=L.getTotalWidth(this._domNode);if(pe<O)return;let oe=O;if(!this._resized||pe===O){const $=this._codeEditor.getLayoutInfo();oe=$.width-28-$.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${oe}px`,this._isReplaceVisible&&(this._replaceInput.width=L.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const j=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(j!==2)}getViewState(){let j=!1;return this._viewZone&&this._viewZoneId&&(j=this._viewZone.heightInPx>this._codeEditor.getScrollTop()),{widgetViewZoneVisible:j,scrollTop:this._codeEditor.getScrollTop()}}setViewState(j){!j||j.widgetViewZoneVisible&&this._layoutViewZone(j.scrollTop)}}e.FindWidget=G,G.ID="editor.contrib.findWidget";class z extends g.Widget{constructor(j){super();this._opts=j;let U="button";this._opts.className&&(U=U+" "+this._opts.className),this._opts.icon&&(U=U+" "+s.ThemeIcon.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=U,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,Y=>{this._opts.onTrigger(),Y.preventDefault()}),this.onkeydown(this._domNode,Y=>{if(Y.equals(10)||Y.equals(3)){this._opts.onTrigger(),Y.preventDefault();return}this._opts.onKeyDown&&this._opts.onKeyDown(Y)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(j){this._domNode.classList.toggle("disabled",!j),this._domNode.setAttribute("aria-disabled",String(!j)),this._domNode.tabIndex=j?0:-1}setExpanded(j){this._domNode.setAttribute("aria-expanded",String(!!j)),j?(this._domNode.classList.remove(...s.ThemeIcon.asClassNameArray(m)),this._domNode.classList.add(...s.ThemeIcon.asClassNameArray(_))):(this._domNode.classList.remove(...s.ThemeIcon.asClassNameArray(_)),this._domNode.classList.add(...s.ThemeIcon.asClassNameArray(m)))}}e.SimpleButton=z,(0,s.registerThemingParticipant)((W,j)=>{const U=(fe,he)=>{he&&j.addRule(`.monaco-editor ${fe} { background-color: ${he}; }`)};U(".findMatch",W.getColor(n.editorFindMatchHighlight)),U(".currentFindMatch",W.getColor(n.editorFindMatch)),U(".findScope",W.getColor(n.editorFindRangeHighlight));const Y=W.getColor(n.editorWidgetBackground);U(".find-widget",Y);const ne=W.getColor(n.widgetShadow);ne&&j.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${ne}; }`);const J=W.getColor(n.editorFindMatchHighlightBorder);J&&j.addRule(`.monaco-editor .findMatch { border: 1px ${W.type==="hc"?"dotted":"solid"} ${J}; box-sizing: border-box; }`);const re=W.getColor(n.editorFindMatchBorder);re&&j.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${re}; padding: 1px; box-sizing: border-box; }`);const ge=W.getColor(n.editorFindRangeHighlightBorder);ge&&j.addRule(`.monaco-editor .findScope { border: 1px ${W.type==="hc"?"dashed":"solid"} ${ge}; }`);const pe=W.getColor(n.contrastBorder);pe&&j.addRule(`.monaco-editor .find-widget { border: 1px solid ${pe}; }`);const oe=W.getColor(n.editorWidgetForeground);oe&&j.addRule(`.monaco-editor .find-widget { color: ${oe}; }`);const $=W.getColor(n.errorForeground);$&&j.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${$}; }`);const ie=W.getColor(n.editorWidgetResizeBorder);if(ie)j.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${ie}; }`);else{const fe=W.getColor(n.editorWidgetBorder);fe&&j.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${fe}; }`)}const le=W.getColor(n.toolbarHoverBackground);le&&j.addRule(`
		.monaco-editor .find-widget .button:not(.disabled):hover,
		.monaco-editor .find-widget .codicon-find-selection:hover {
			background-color: ${le} !important;
		}
	`);const de=W.getColor(n.focusBorder);de&&j.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${de}; }`)})}),define(ee[293],te([0,1,10,2,8,16,25,166,706,707,708,511,38,85,17,69,43,41,78,14]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StartFindReplaceAction=e.PreviousSelectionMatchFindAction=e.NextSelectionMatchFindAction=e.SelectionMatchFindAction=e.PreviousMatchFindAction=e.NextMatchFindAction=e.MatchFindAction=e.StartFindWithSelectionAction=e.StartFindWithArgsAction=e.StartFindAction=e.FindController=e.CommonFindController=e.getSelectionSearchString=void 0;const s=524288;function o(R,A="single",O=!1){if(!R.hasModel())return null;const k=R.getSelection();if(A==="single"&&k.startLineNumber===k.endLineNumber||A==="multiple"){if(k.isEmpty()){const V=R.getConfiguredWordAtPosition(k.getStartPosition());if(V&&O===!1)return V.word}else if(R.getModel().getValueLengthInRange(k)<s)return R.getModel().getValueInRange(k)}return null}e.getSelectionSearchString=o;let m=class Ui extends N.Disposable{constructor(A,O,k,V){super();this._editor=A,this._findWidgetVisible=S.CONTEXT_FIND_WIDGET_VISIBLE.bindTo(O),this._contextKeyService=O,this._storageService=k,this._clipboardService=V,this._updateHistoryDelayer=new L.Delayer(500),this._state=this._register(new p.FindReplaceState),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(B=>this._onStateChanged(B))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{let B=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),B&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(35).loop})}))}get editor(){return this._editor}static get(A){return A.getContribution(Ui.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(A){this.saveQueryState(A),A.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),A.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(A){A.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),A.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),A.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),A.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!S.CONTEXT_FIND_INPUT_FOCUSED.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let A=this._editor.getSelections();A.map(O=>(O.endColumn===1&&O.endLineNumber>O.startLineNumber&&(O=O.setEndPosition(O.endLineNumber-1,this._editor.getModel().getLineMaxColumn(O.endLineNumber-1))),O.isEmpty()?null:O)).filter(O=>!!O),A.length&&this._state.change({searchScope:A},!0)}}setSearchString(A){this._state.isRegex&&(A=M.escapeRegExpCharacters(A)),this._state.change({searchString:A},!1)}highlightFindOptions(A=!1){}_start(A,O){return Me(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;let k=Object.assign(Object.assign({},O),{isRevealed:!0});if(A.seedSearchStringFromSelection==="single"){let V=o(this._editor,A.seedSearchStringFromSelection,A.seedSearchStringFromNonEmptySelection);V&&(this._state.isRegex?k.searchString=M.escapeRegExpCharacters(V):k.searchString=V)}else if(A.seedSearchStringFromSelection==="multiple"&&!A.updateSearchScope){let V=o(this._editor,A.seedSearchStringFromSelection);V&&(k.searchString=V)}if(!k.searchString&&A.seedSearchStringFromGlobalClipboard){let V=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;V&&(k.searchString=V)}if(A.forceRevealReplace||k.isReplaceRevealed?k.isReplaceRevealed=!0:this._findWidgetVisible.get()||(k.isReplaceRevealed=!1),A.updateSearchScope){let V=this._editor.getSelections();V.some(B=>!B.isEmpty())&&(k.searchScope=V)}k.loop=A.loop,this._state.change(k,!1),this._model||(this._model=new S.FindModelBoundToEditorModel(this._editor,this._state))})}start(A,O){return this._start(A,O)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){return this._model?(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return Me(this,void 0,void 0,function*(){return this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(A){this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(A)}};m.ID="editor.contrib.findController",m=Ve([Ce(1,l.IContextKeyService),Ce(2,n.IStorageService),Ce(3,a.IClipboardService)],m),e.CommonFindController=m;let _=class extends m{constructor(A,O,k,V,B,x,K,X){super(A,k,K,X);this._contextViewService=O,this._keybindingService=V,this._themeService=B,this._notificationService=x,this._widget=null,this._findOptionsWidget=null}_start(A,O){const k=Object.create(null,{_start:{get:()=>super._start}});return Me(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const V=this._editor.getSelection();let B=!1;switch(this._editor.getOption(35).autoFindInSelection){case"always":B=!0;break;case"never":B=!1;break;case"multiline":B=!!V&&V.startLineNumber!==V.endLineNumber;break;default:break}A.updateSearchScope=A.updateSearchScope||B,yield k._start.call(this,A,O),this._widget&&(A.shouldFocus===2?this._widget.focusReplaceInput():A.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(A=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!A?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new v.FindWidget(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new b.FindOptionsWidget(this._editor,this._state,this._keybindingService,this._themeService))}saveViewState(){var A;return(A=this._widget)===null||A===void 0?void 0:A.getViewState()}restoreViewState(A){var O;(O=this._widget)===null||O===void 0||O.setViewState(A)}};_=Ve([Ce(1,h.IContextViewService),Ce(2,l.IContextKeyService),Ce(3,d.IKeybindingService),Ce(4,r.IThemeService),Ce(5,u.INotificationService),Ce(6,n.IStorageService),Ce(7,a.IClipboardService)],_),e.FindController=_,e.StartFindAction=(0,E.registerMultiEditorAction)(new E.MultiEditorAction({id:S.FIND_IDS.StartFindAction,label:i.localize(0,null),alias:"Find",precondition:l.ContextKeyExpr.or(g.EditorContextKeys.focus,l.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2048|36,weight:100},menuOpts:{menuId:t.MenuId.MenubarEditMenu,group:"3_find",title:i.localize(1,null),order:1}})),e.StartFindAction.addImplementation(0,(R,A,O)=>{const k=m.get(A);return k?k.start({forceRevealReplace:!1,seedSearchStringFromSelection:A.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:A.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:A.getOption(35).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:A.getOption(35).loop}):!1});const f={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:i.localize(2,null)},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:i.localize(3,null)},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:i.localize(4,null)},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:i.localize(5,null)},findInSelection:{type:"boolean"}}}}]};class c extends E.EditorAction{constructor(){super({id:S.FIND_IDS.StartFindWithArgs,label:i.localize(6,null),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},description:f})}run(A,O,k){return Me(this,void 0,void 0,function*(){let V=m.get(O);if(V){const B=k?{searchString:k.searchString,replaceString:k.replaceString,isReplaceRevealed:k.replaceString!==void 0,isRegex:k.isRegex,wholeWord:k.matchWholeWord,matchCase:k.isCaseSensitive,preserveCase:k.preserveCase}:{};yield V.start({forceRevealReplace:!1,seedSearchStringFromSelection:V.getState().searchString.length===0&&O.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:O.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:(k==null?void 0:k.findInSelection)||!1,loop:O.getOption(35).loop},B),V.setGlobalBufferTerm(V.getState().searchString)}})}}e.StartFindWithArgsAction=c;class C extends E.EditorAction{constructor(){super({id:S.FIND_IDS.StartFindWithSelection,label:i.localize(7,null),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2048|35},weight:100}})}run(A,O){return Me(this,void 0,void 0,function*(){let k=m.get(O);k&&(yield k.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:O.getOption(35).loop}),k.setGlobalBufferTerm(k.getState().searchString))})}}e.StartFindWithSelectionAction=C;class y extends E.EditorAction{run(A,O){return Me(this,void 0,void 0,function*(){let k=m.get(O);k&&!this._run(k)&&(yield k.start({forceRevealReplace:!1,seedSearchStringFromSelection:k.getState().searchString.length===0&&O.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:O.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:O.getOption(35).loop}),this._run(k))})}}e.MatchFindAction=y;class w extends y{constructor(){super({id:S.FIND_IDS.NextMatchFindAction,label:i.localize(8,null),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:g.EditorContextKeys.focus,primary:61,mac:{primary:2048|37,secondary:[61]},weight:100},{kbExpr:l.ContextKeyExpr.and(g.EditorContextKeys.focus,S.CONTEXT_FIND_INPUT_FOCUSED),primary:3,weight:100}]})}_run(A){return A.moveToNextMatch()?(A.editor.pushUndoStop(),!0):!1}}e.NextMatchFindAction=w;class D extends y{constructor(){super({id:S.FIND_IDS.PreviousMatchFindAction,label:i.localize(9,null),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:g.EditorContextKeys.focus,primary:1024|61,mac:{primary:2048|1024|37,secondary:[1024|61]},weight:100},{kbExpr:l.ContextKeyExpr.and(g.EditorContextKeys.focus,S.CONTEXT_FIND_INPUT_FOCUSED),primary:1024|3,weight:100}]})}_run(A){return A.moveToPrevMatch()}}e.PreviousMatchFindAction=D;class I extends E.EditorAction{run(A,O){return Me(this,void 0,void 0,function*(){let k=m.get(O);if(!k)return;const V=O.getOption(35).seedSearchStringFromSelection==="selection";let B=null;O.getOption(35).seedSearchStringFromSelection!=="never"&&(B=o(O,"single",V)),B&&k.setSearchString(B),this._run(k)||(yield k.start({forceRevealReplace:!1,seedSearchStringFromSelection:O.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:V,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:O.getOption(35).loop}),this._run(k))})}}e.SelectionMatchFindAction=I;class T extends I{constructor(){super({id:S.FIND_IDS.NextSelectionMatchFindAction,label:i.localize(10,null),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.focus,primary:2048|61,weight:100}})}_run(A){return A.moveToNextMatch()}}e.NextSelectionMatchFindAction=T;class F extends I{constructor(){super({id:S.FIND_IDS.PreviousSelectionMatchFindAction,label:i.localize(11,null),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.focus,primary:2048|1024|61,weight:100}})}_run(A){return A.moveToPrevMatch()}}e.PreviousSelectionMatchFindAction=F,e.StartFindReplaceAction=(0,E.registerMultiEditorAction)(new E.MultiEditorAction({id:S.FIND_IDS.StartFindReplaceAction,label:i.localize(12,null),alias:"Replace",precondition:l.ContextKeyExpr.or(g.EditorContextKeys.focus,l.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2048|38,mac:{primary:2048|512|36},weight:100},menuOpts:{menuId:t.MenuId.MenubarEditMenu,group:"3_find",title:i.localize(13,null),order:2}})),e.StartFindReplaceAction.addImplementation(0,(R,A,O)=>{if(!A.hasModel()||A.getOption(80))return!1;const k=m.get(A);if(!k)return!1;const V=A.getSelection(),B=k.isFindInputFocused(),x=!V.isEmpty()&&V.startLineNumber===V.endLineNumber&&A.getOption(35).seedSearchStringFromSelection!=="never"&&!B,K=B||x?2:1;return k.start({forceRevealReplace:!0,seedSearchStringFromSelection:x?"single":"none",seedSearchStringFromNonEmptySelection:A.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:A.getOption(35).seedSearchStringFromSelection!=="never",shouldFocus:K,shouldAnimate:!0,updateSearchScope:!1,loop:A.getOption(35).loop})}),(0,E.registerEditorContribution)(m.ID,_),(0,E.registerEditorAction)(c),(0,E.registerEditorAction)(C),(0,E.registerEditorAction)(w),(0,E.registerEditorAction)(D),(0,E.registerEditorAction)(T),(0,E.registerEditorAction)(F);const P=E.EditorCommand.bindToContribution(m.get);(0,E.registerEditorCommand)(new P({id:S.FIND_IDS.CloseFindWidgetCommand,precondition:S.CONTEXT_FIND_WIDGET_VISIBLE,handler:R=>R.closeFindWidget(),kbOpts:{weight:100+5,kbExpr:l.ContextKeyExpr.and(g.EditorContextKeys.focus,l.ContextKeyExpr.not("isComposing")),primary:9,secondary:[1024|9]}})),(0,E.registerEditorCommand)(new P({id:S.FIND_IDS.ToggleCaseSensitiveCommand,precondition:void 0,handler:R=>R.toggleCaseSensitive(),kbOpts:{weight:100+5,kbExpr:g.EditorContextKeys.focus,primary:S.ToggleCaseSensitiveKeybinding.primary,mac:S.ToggleCaseSensitiveKeybinding.mac,win:S.ToggleCaseSensitiveKeybinding.win,linux:S.ToggleCaseSensitiveKeybinding.linux}})),(0,E.registerEditorCommand)(new P({id:S.FIND_IDS.ToggleWholeWordCommand,precondition:void 0,handler:R=>R.toggleWholeWords(),kbOpts:{weight:100+5,kbExpr:g.EditorContextKeys.focus,primary:S.ToggleWholeWordKeybinding.primary,mac:S.ToggleWholeWordKeybinding.mac,win:S.ToggleWholeWordKeybinding.win,linux:S.ToggleWholeWordKeybinding.linux}})),(0,E.registerEditorCommand)(new P({id:S.FIND_IDS.ToggleRegexCommand,precondition:void 0,handler:R=>R.toggleRegex(),kbOpts:{weight:100+5,kbExpr:g.EditorContextKeys.focus,primary:S.ToggleRegexKeybinding.primary,mac:S.ToggleRegexKeybinding.mac,win:S.ToggleRegexKeybinding.win,linux:S.ToggleRegexKeybinding.linux}})),(0,E.registerEditorCommand)(new P({id:S.FIND_IDS.ToggleSearchScopeCommand,precondition:void 0,handler:R=>R.toggleSearchScope(),kbOpts:{weight:100+5,kbExpr:g.EditorContextKeys.focus,primary:S.ToggleSearchScopeKeybinding.primary,mac:S.ToggleSearchScopeKeybinding.mac,win:S.ToggleSearchScopeKeybinding.win,linux:S.ToggleSearchScopeKeybinding.linux}})),(0,E.registerEditorCommand)(new P({id:S.FIND_IDS.TogglePreserveCaseCommand,precondition:void 0,handler:R=>R.togglePreserveCase(),kbOpts:{weight:100+5,kbExpr:g.EditorContextKeys.focus,primary:S.TogglePreserveCaseKeybinding.primary,mac:S.TogglePreserveCaseKeybinding.mac,win:S.TogglePreserveCaseKeybinding.win,linux:S.TogglePreserveCaseKeybinding.linux}})),(0,E.registerEditorCommand)(new P({id:S.FIND_IDS.ReplaceOneAction,precondition:S.CONTEXT_FIND_WIDGET_VISIBLE,handler:R=>R.replace(),kbOpts:{weight:100+5,kbExpr:g.EditorContextKeys.focus,primary:2048|1024|22}})),(0,E.registerEditorCommand)(new P({id:S.FIND_IDS.ReplaceOneAction,precondition:S.CONTEXT_FIND_WIDGET_VISIBLE,handler:R=>R.replace(),kbOpts:{weight:100+5,kbExpr:l.ContextKeyExpr.and(g.EditorContextKeys.focus,S.CONTEXT_REPLACE_INPUT_FOCUSED),primary:3}})),(0,E.registerEditorCommand)(new P({id:S.FIND_IDS.ReplaceAllAction,precondition:S.CONTEXT_FIND_WIDGET_VISIBLE,handler:R=>R.replaceAll(),kbOpts:{weight:100+5,kbExpr:g.EditorContextKeys.focus,primary:2048|512|3}})),(0,E.registerEditorCommand)(new P({id:S.FIND_IDS.ReplaceAllAction,precondition:S.CONTEXT_FIND_WIDGET_VISIBLE,handler:R=>R.replaceAll(),kbOpts:{weight:100+5,kbExpr:l.ContextKeyExpr.and(g.EditorContextKeys.focus,S.CONTEXT_REPLACE_INPUT_FOCUSED),primary:void 0,mac:{primary:2048|3}}})),(0,E.registerEditorCommand)(new P({id:S.FIND_IDS.SelectAllMatchesAction,precondition:S.CONTEXT_FIND_WIDGET_VISIBLE,handler:R=>R.selectAllMatches(),kbOpts:{weight:100+5,kbExpr:g.EditorContextKeys.focus,primary:512|3}}))}),define(ee[709],te([0,1,27,31,514,71,14]),function(Q,e,L,N,M,E,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingDecorationProvider=e.foldingCollapsedIcon=e.foldingExpandedIcon=void 0,e.foldingExpandedIcon=(0,E.registerIcon)("folding-expanded",L.Codicon.chevronDown,(0,M.localize)(0,null)),e.foldingCollapsedIcon=(0,E.registerIcon)("folding-collapsed",L.Codicon.chevronRight,(0,M.localize)(1,null));class S{constructor(p){this.editor=p,this.autoHideFoldingControls=!0,this.showFoldingHighlights=!0}getDecorationOption(p,v){return v?S.HIDDEN_RANGE_DECORATION:p?this.showFoldingHighlights?S.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:S.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?S.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:S.EXPANDED_VISUAL_DECORATION}deltaDecorations(p,v){return this.editor.deltaDecorations(p,v)}changeDecorations(p){return this.editor.changeDecorations(p)}}e.FoldingDecorationProvider=S,S.COLLAPSED_VISUAL_DECORATION=N.ModelDecorationOptions.register({description:"folding-collapsed-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:g.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),S.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=N.ModelDecorationOptions.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:g.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),S.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=N.ModelDecorationOptions.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:g.ThemeIcon.asClassName(e.foldingExpandedIcon)}),S.EXPANDED_VISUAL_DECORATION=N.ModelDecorationOptions.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+g.ThemeIcon.asClassName(e.foldingExpandedIcon)}),S.HIDDEN_RANGE_DECORATION=N.ModelDecorationOptions.register({description:"folding-hidden-range-decoration",stickiness:1})}),define(ee[710],te([0,1,31,40,183]),function(Q,e,L,N,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeRanges=e.RangesCollector=e.IndentRangeProvider=e.ID_INDENT_PROVIDER=void 0;const E=5e3;e.ID_INDENT_PROVIDER="indent";class g{constructor(v){this.editorModel=v,this.id=e.ID_INDENT_PROVIDER}dispose(){}compute(v){let i=N.LanguageConfigurationRegistry.getFoldingRules(this.editorModel.getLanguageId()),t=i&&!!i.offSide,a=i&&i.markers;return Promise.resolve(b(this.editorModel,t,a))}}e.IndentRangeProvider=g;class S{constructor(v){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=v}insertFirst(v,i,t){if(v>M.MAX_LINE_NUMBER||i>M.MAX_LINE_NUMBER)return;let a=this._length;this._startIndexes[a]=v,this._endIndexes[a]=i,this._length++,t<1e3&&(this._indentOccurrences[t]=(this._indentOccurrences[t]||0)+1)}toIndentRanges(v){if(this._length<=this._foldingRangesLimit){let i=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let a=this._length-1,l=0;a>=0;a--,l++)i[l]=this._startIndexes[a],t[l]=this._endIndexes[a];return new M.FoldingRegions(i,t)}else{let i=0,t=this._indentOccurrences.length;for(let d=0;d<this._indentOccurrences.length;d++){let u=this._indentOccurrences[d];if(u){if(u+i>this._foldingRangesLimit){t=d;break}i+=u}}const a=v.getOptions().tabSize;let l=new Uint32Array(this._foldingRangesLimit),h=new Uint32Array(this._foldingRangesLimit);for(let d=this._length-1,u=0;d>=0;d--){let n=this._startIndexes[d],r=v.getLineContent(n),s=L.TextModel.computeIndentLevel(r,a);(s<t||s===t&&i++<this._foldingRangesLimit)&&(l[u]=n,h[u]=this._endIndexes[d],u++)}return new M.FoldingRegions(l,h)}}}e.RangesCollector=S;function b(p,v,i,t=E){const a=p.getOptions().tabSize;let l=new S(t),h;i&&(h=new RegExp(`(${i.start.source})|(?:${i.end.source})`));let d=[],u=p.getLineCount()+1;d.push({indent:-1,endAbove:u,line:u});for(let n=p.getLineCount();n>0;n--){let r=p.getLineContent(n),s=L.TextModel.computeIndentLevel(r,a),o=d[d.length-1];if(s===-1){v&&(o.endAbove=n);continue}let m;if(h&&(m=r.match(h)))if(m[1]){let _=d.length-1;for(;_>0&&d[_].indent!==-2;)_--;if(_>0){d.length=_+1,o=d[_],l.insertFirst(n,o.line,s),o.line=n,o.indent=s,o.endAbove=n;continue}}else{d.push({indent:-2,endAbove:n,line:n});continue}if(o.indent>s){do d.pop(),o=d[d.length-1];while(o.indent>s);let _=o.endAbove-1;_-n>=1&&l.insertFirst(n,_,s)}o.indent===s?o.endAbove=n:d.push({indent:s,endAbove:n,line:n})}return l.toIndentRanges(p)}e.computeRanges=b}),define(ee[711],te([0,1,10,12,56,2,8,20,70,16,25,18,40,441,589,710,442,513,17,24,14,709,244,375]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u,n,r,s,o,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorFoldForeground=e.foldBackgroundBackground=e.FoldingController=void 0;const _=new n.RawContextKey("foldingEnabled",!1);let f=class Ki extends E.Disposable{constructor(q,H){super();this.contextKeyService=H,this.localToDispose=this._register(new E.DisposableStore),this.editor=q;const G=this.editor.getOptions();this._isEnabled=G.get(37),this._useFoldingProviders=G.get(38)!=="indentation",this._unfoldOnClickAfterEndOfLine=G.get(41),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=G.get(40),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingStateMemento=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new o.FoldingDecorationProvider(q),this.foldingDecorationProvider.autoHideFoldingControls=G.get(98)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=G.get(39),this.foldingEnabled=_.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(z=>{if(z.hasChanged(37)&&(this._isEnabled=this.editor.getOptions().get(37),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),z.hasChanged(98)||z.hasChanged(39)){const W=this.editor.getOptions();this.foldingDecorationProvider.autoHideFoldingControls=W.get(98)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=W.get(39),this.triggerFoldingModelChanged()}z.hasChanged(38)&&(this._useFoldingProviders=this.editor.getOptions().get(38)!=="indentation",this.onFoldingStrategyChanged()),z.hasChanged(41)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(41)),z.hasChanged(40)&&(this._foldingImportsByDefault=this.editor.getOptions().get(40))})),this.onModelChanged()}static get(q){return q.getContribution(Ki.ID)}saveViewState(){let q=this.editor.getModel();if(!q||!this._isEnabled||q.isTooLargeForTokenization())return{};if(this.foldingModel){let H=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),G=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:H,lineCount:q.getLineCount(),provider:G,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(q){let H=this.editor.getModel();if(!H||!this._isEnabled||H.isTooLargeForTokenization()||!this.hiddenRangeModel||!q||q.lineCount!==H.getLineCount()||(this._currentModelHasFoldedImports=!!q.foldedImports,!q.collapsedRegions))return;(q.provider===m.ID_SYNTAX_PROVIDER||q.provider===d.ID_INIT_PROVIDER)&&(this.foldingStateMemento=q);const G=q.collapsedRegions;if(this.hiddenRangeModel.applyMemento(G)){const z=this.getFoldingModel();z&&z.then(W=>{if(W){this._restoringViewState=!0;try{W.applyMemento(G)}finally{this._restoringViewState=!1}}}).then(void 0,N.onUnexpectedError)}}onModelChanged(){this.localToDispose.clear();let q=this.editor.getModel();!this._isEnabled||!q||q.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new a.FoldingModel(q,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new l.HiddenRangeModel(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(H=>this.onHiddenRangesChanges(H))),this.updateScheduler=new L.Delayer(200),this.cursorChangedScheduler=new L.RunOnceScheduler(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(i.FoldingRangeProviderRegistry.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(H=>this.onDidChangeModelContent(H))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(H=>this.onEditorMouseDown(H))),this.localToDispose.add(this.editor.onMouseUp(H=>this.onEditorMouseUp(H))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.foldingStateMemento=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(q){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new h.IndentRangeProvider(q),this._useFoldingProviders&&this.foldingModel){let H=i.FoldingRangeProviderRegistry.ordered(this.foldingModel.textModel);if(H.length===0&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions)return this.rangeProvider=new d.InitializingRangeProvider(q,this.foldingStateMemento.collapsedRegions,()=>{this.foldingStateMemento=null,this.onFoldingStrategyChanged()},3e4);H.length>0&&(this.rangeProvider=new m.SyntaxRangeProvider(q,H,()=>this.triggerFoldingModelChanged()))}return this.foldingStateMemento=null,this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(q){var H;(H=this.hiddenRangeModel)===null||H===void 0||H.notifyChangeModelContent(q),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const q=this.foldingModel;if(!q)return null;const H=this.getRangeProvider(q.textModel);let G=this.foldingRegionPromise=(0,L.createCancelablePromise)(z=>H.compute(z));return G.then(z=>{if(z&&G===this.foldingRegionPromise){let W;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const Y=z.setCollapsedAllOfType(i.FoldingRangeKind.Imports.value,!0);Y&&(W=b.StableEditorScrollState.capture(this.editor),this._currentModelHasFoldedImports=Y)}let j=this.editor.getSelections(),U=j?j.map(Y=>Y.startLineNumber):[];q.update(z,U),W&&W.restore(this.editor)}return q})}).then(void 0,q=>((0,N.onUnexpectedError)(q),null)))}onHiddenRangesChanges(q){if(this.hiddenRangeModel&&q.length&&!this._restoringViewState){let H=this.editor.getSelections();H&&this.hiddenRangeModel.adjustSelections(H)&&this.editor.setSelections(H)}this.editor.setHiddenAreas(q)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const q=this.getFoldingModel();!q||q.then(H=>{if(H){let G=this.editor.getSelections();if(G&&G.length>0){let z=[];for(let W of G){let j=W.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(j)&&z.push(...H.getAllRegionsAtLine(j,U=>U.isCollapsed&&j>U.startLineNumber))}z.length&&(H.toggleCollapseState(z),this.reveal(G[0].getPosition()))}}}).then(void 0,N.onUnexpectedError)}onEditorMouseDown(q){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!q.target||!q.target.range||!q.event.leftButton&&!q.event.middleButton)return;const H=q.target.range;let G=!1;switch(q.target.type){case 4:const z=q.target.detail,W=q.target.element.offsetLeft;if(z.offsetX-W<5)return;G=!0;break;case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!q.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){let U=this.editor.getModel();if(U&&H.startColumn===U.getLineMaxColumn(H.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:H.startLineNumber,iconClicked:G}}onEditorMouseUp(q){const H=this.getFoldingModel();if(!H||!this.mouseDownInfo||!q.target)return;let G=this.mouseDownInfo.lineNumber,z=this.mouseDownInfo.iconClicked,W=q.target.range;if(!(!W||W.startLineNumber!==G)){if(z){if(q.target.type!==4)return}else{let j=this.editor.getModel();if(!j||W.startColumn!==j.getLineMaxColumn(G))return}H.then(j=>{if(j){let U=j.getRegionAtLine(G);if(U&&U.startLineNumber===G){let Y=U.isCollapsed;if(z||Y){let ne=q.event.altKey,J=[];if(ne){let re=pe=>!pe.containedBy(U)&&!U.containedBy(pe),ge=j.getRegionsInside(null,re);for(const pe of ge)pe.isCollapsed&&J.push(pe);J.length===0&&(J=ge)}else{let re=q.event.middleButton||q.event.shiftKey;if(re)for(const ge of j.getRegionsInside(U))ge.isCollapsed===Y&&J.push(ge);(Y||!re||J.length===0)&&J.push(U)}j.toggleCollapseState(J),this.reveal({lineNumber:G,column:1})}}}}).then(void 0,N.onUnexpectedError)}}reveal(q){this.editor.revealPositionInCenterIfOutsideViewport(q,0)}};f.ID="editor.contrib.folding",f.MAX_FOLDING_REGIONS=5e3,f=Ve([Ce(1,n.IContextKeyService)],f),e.FoldingController=f;class c extends p.EditorAction{runEditorCommand(q,H,G){let z=f.get(H);if(!z)return;let W=z.getFoldingModel();if(W)return this.reportTelemetry(q,H),W.then(j=>{if(j){this.invoke(z,j,H,G);const U=H.getSelection();U&&z.reveal(U.getStartPosition())}})}getSelectedLines(q){let H=q.getSelections();return H?H.map(G=>G.startLineNumber):[]}getLineNumbers(q,H){return q&&q.selectionLines?q.selectionLines.map(G=>G+1):this.getSelectedLines(H)}run(q,H){}}function C(Z){if(!S.isUndefined(Z)){if(!S.isObject(Z))return!1;const q=Z;if(!S.isUndefined(q.levels)&&!S.isNumber(q.levels)||!S.isUndefined(q.direction)&&!S.isString(q.direction)||!S.isUndefined(q.selectionLines)&&(!S.isArray(q.selectionLines)||!q.selectionLines.every(S.isNumber)))return!1}return!0}class y extends c{constructor(){super({id:"editor.unfold",label:u.localize(0,null),alias:"Unfold",precondition:_,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:2048|1024|89,mac:{primary:2048|512|89},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:C,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(q,H,G,z){let W=z&&z.levels||1,j=this.getLineNumbers(z,G);z&&z.direction==="up"?(0,a.setCollapseStateLevelsUp)(H,!1,W,j):(0,a.setCollapseStateLevelsDown)(H,!1,W,j)}}class w extends c{constructor(){super({id:"editor.unfoldRecursively",label:u.localize(1,null),alias:"Unfold Recursively",precondition:_,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:(0,M.KeyChord)(2048|41,2048|89),weight:100}})}invoke(q,H,G,z){(0,a.setCollapseStateLevelsDown)(H,!1,Number.MAX_VALUE,this.getSelectedLines(G))}}class D extends c{constructor(){super({id:"editor.fold",label:u.localize(2,null),alias:"Fold",precondition:_,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:2048|1024|87,mac:{primary:2048|512|87},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:C,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(q,H,G,z){let W=this.getLineNumbers(z,G);const j=z&&z.levels,U=z&&z.direction;typeof j!="number"&&typeof U!="string"?(0,a.setCollapseStateUp)(H,!0,W):U==="up"?(0,a.setCollapseStateLevelsUp)(H,!0,j||1,W):(0,a.setCollapseStateLevelsDown)(H,!0,j||1,W)}}class I extends c{constructor(){super({id:"editor.toggleFold",label:u.localize(3,null),alias:"Toggle Fold",precondition:_,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:(0,M.KeyChord)(2048|41,2048|42),weight:100}})}invoke(q,H,G){let z=this.getSelectedLines(G);(0,a.toggleCollapseState)(H,1,z)}}class T extends c{constructor(){super({id:"editor.foldRecursively",label:u.localize(4,null),alias:"Fold Recursively",precondition:_,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:(0,M.KeyChord)(2048|41,2048|87),weight:100}})}invoke(q,H,G){let z=this.getSelectedLines(G);(0,a.setCollapseStateLevelsDown)(H,!0,Number.MAX_VALUE,z)}}class F extends c{constructor(){super({id:"editor.foldAllBlockComments",label:u.localize(5,null),alias:"Fold All Block Comments",precondition:_,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:(0,M.KeyChord)(2048|41,2048|85),weight:100}})}invoke(q,H,G){if(H.regions.hasTypes())(0,a.setCollapseStateForType)(H,i.FoldingRangeKind.Comment.value,!0);else{const z=G.getModel();if(!z)return;const W=t.LanguageConfigurationRegistry.getComments(z.getLanguageId());if(W&&W.blockCommentStartToken){let j=new RegExp("^\\s*"+(0,g.escapeRegExpCharacters)(W.blockCommentStartToken));(0,a.setCollapseStateForMatchingLines)(H,j,!0)}}}}class P extends c{constructor(){super({id:"editor.foldAllMarkerRegions",label:u.localize(6,null),alias:"Fold All Regions",precondition:_,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:(0,M.KeyChord)(2048|41,2048|29),weight:100}})}invoke(q,H,G){if(H.regions.hasTypes())(0,a.setCollapseStateForType)(H,i.FoldingRangeKind.Region.value,!0);else{const z=G.getModel();if(!z)return;const W=t.LanguageConfigurationRegistry.getFoldingRules(z.getLanguageId());if(W&&W.markers&&W.markers.start){let j=new RegExp(W.markers.start);(0,a.setCollapseStateForMatchingLines)(H,j,!0)}}}}class R extends c{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:u.localize(7,null),alias:"Unfold All Regions",precondition:_,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:(0,M.KeyChord)(2048|41,2048|30),weight:100}})}invoke(q,H,G){if(H.regions.hasTypes())(0,a.setCollapseStateForType)(H,i.FoldingRangeKind.Region.value,!1);else{const z=G.getModel();if(!z)return;const W=t.LanguageConfigurationRegistry.getFoldingRules(z.getLanguageId());if(W&&W.markers&&W.markers.start){let j=new RegExp(W.markers.start);(0,a.setCollapseStateForMatchingLines)(H,j,!1)}}}}class A extends c{constructor(){super({id:"editor.foldAllExcept",label:u.localize(8,null),alias:"Fold All Regions Except Selected",precondition:_,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:(0,M.KeyChord)(2048|41,2048|83),weight:100}})}invoke(q,H,G){let z=this.getSelectedLines(G);(0,a.setCollapseStateForRest)(H,!0,z)}}class O extends c{constructor(){super({id:"editor.unfoldAllExcept",label:u.localize(9,null),alias:"Unfold All Regions Except Selected",precondition:_,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:(0,M.KeyChord)(2048|41,2048|81),weight:100}})}invoke(q,H,G){let z=this.getSelectedLines(G);(0,a.setCollapseStateForRest)(H,!1,z)}}class k extends c{constructor(){super({id:"editor.foldAll",label:u.localize(10,null),alias:"Fold All",precondition:_,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:(0,M.KeyChord)(2048|41,2048|21),weight:100}})}invoke(q,H,G){(0,a.setCollapseStateLevelsDown)(H,!0)}}class V extends c{constructor(){super({id:"editor.unfoldAll",label:u.localize(11,null),alias:"Unfold All",precondition:_,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:(0,M.KeyChord)(2048|41,2048|40),weight:100}})}invoke(q,H,G){(0,a.setCollapseStateLevelsDown)(H,!1)}}class B extends c{getFoldingLevel(){return parseInt(this.id.substr(B.ID_PREFIX.length))}invoke(q,H,G){(0,a.setCollapseStateAtLevel)(H,this.getFoldingLevel(),!0,this.getSelectedLines(G))}}B.ID_PREFIX="editor.foldLevel",B.ID=Z=>B.ID_PREFIX+Z;class x extends c{constructor(){super({id:"editor.gotoParentFold",label:u.localize(12,null),alias:"Go to Parent Fold",precondition:_,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,weight:100}})}invoke(q,H,G){let z=this.getSelectedLines(G);if(z.length>0){let W=(0,a.getParentFoldLine)(z[0],H);W!==null&&G.setSelection({startLineNumber:W,startColumn:1,endLineNumber:W,endColumn:1})}}}class K extends c{constructor(){super({id:"editor.gotoPreviousFold",label:u.localize(13,null),alias:"Go to Previous Folding Range",precondition:_,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,weight:100}})}invoke(q,H,G){let z=this.getSelectedLines(G);if(z.length>0){let W=(0,a.getPreviousFoldLine)(z[0],H);W!==null&&G.setSelection({startLineNumber:W,startColumn:1,endLineNumber:W,endColumn:1})}}}class X extends c{constructor(){super({id:"editor.gotoNextFold",label:u.localize(14,null),alias:"Go to Next Folding Range",precondition:_,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,weight:100}})}invoke(q,H,G){let z=this.getSelectedLines(G);if(z.length>0){let W=(0,a.getNextFoldLine)(z[0],H);W!==null&&G.setSelection({startLineNumber:W,startColumn:1,endLineNumber:W,endColumn:1})}}}(0,p.registerEditorContribution)(f.ID,f),(0,p.registerEditorAction)(y),(0,p.registerEditorAction)(w),(0,p.registerEditorAction)(D),(0,p.registerEditorAction)(T),(0,p.registerEditorAction)(k),(0,p.registerEditorAction)(V),(0,p.registerEditorAction)(F),(0,p.registerEditorAction)(P),(0,p.registerEditorAction)(R),(0,p.registerEditorAction)(A),(0,p.registerEditorAction)(O),(0,p.registerEditorAction)(I),(0,p.registerEditorAction)(x),(0,p.registerEditorAction)(K),(0,p.registerEditorAction)(X);for(let Z=1;Z<=7;Z++)(0,p.registerInstantiatedEditorAction)(new B({id:B.ID(Z),label:u.localize(15,null,Z),alias:`Fold Level ${Z}`,precondition:_,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:(0,M.KeyChord)(2048|41,2048|21+Z),weight:100}}));e.foldBackgroundBackground=(0,r.registerColor)("editor.foldBackground",{light:(0,r.transparent)(r.editorSelectionBackground,.3),dark:(0,r.transparent)(r.editorSelectionBackground,.3),hc:null},u.localize(16,null),!0),e.editorFoldForeground=(0,r.registerColor)("editorGutter.foldingControlForeground",{dark:r.iconForeground,light:r.iconForeground,hc:r.iconForeground},u.localize(17,null)),(0,s.registerThemingParticipant)((Z,q)=>{const H=Z.getColor(e.foldBackgroundBackground);H&&q.addRule(`.monaco-editor .folded-background { background-color: ${H}; }`);const G=Z.getColor(e.editorFoldForeground);G&&q.addRule(`
		.monaco-editor .cldr${s.ThemeIcon.asCSSSelector(o.foldingExpandedIcon)},
		.monaco-editor .cldr${s.ThemeIcon.asCSSSelector(o.foldingCollapsedIcon)} {
			color: ${G} !important;
		}
		`)})}),define(ee[712],te([0,1,10,21,28,2,3,268,292,437,639,14]),function(Q,e,L,N,M,E,g,S,b,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorHoverParticipant=e.ColorHover=void 0;class t{constructor(h,d,u,n){this.owner=h,this.range=d,this.model=u,this.provider=n,this.forceShowAtRange=!0}isValidForHoverAnchor(h){return h.type===1&&this.range.startColumn<=h.range.startColumn&&this.range.endColumn>=h.range.endColumn}}e.ColorHover=t;let a=class{constructor(h,d,u){this._editor=h,this._hover=d,this._themeService=u}computeSync(h,d){return[]}computeAsync(h,d,u){return L.AsyncIterableObject.fromPromise(this._computeAsync(h,d,u))}_computeAsync(h,d,u){return Me(this,void 0,void 0,function*(){if(!this._editor.hasModel())return[];const n=b.ColorDetector.get(this._editor);for(const r of d){if(!n.isColorDecorationId(r.id))continue;const s=n.getColorData(r.range.getStartPosition());if(s)return[yield this._createColorHover(this._editor.getModel(),s.colorInfo,s.provider)]}return[]})}_createColorHover(h,d,u){return Me(this,void 0,void 0,function*(){const n=h.getValueInRange(d.range),{red:r,green:s,blue:o,alpha:m}=d.color,_=new M.RGBA(Math.round(r*255),Math.round(s*255),Math.round(o*255),m),f=new M.Color(_),c=yield(0,S.getColorPresentations)(h,d,u,N.CancellationToken.None),C=new p.ColorPickerModel(f,[],0);return C.colorPresentations=c||[],C.guessColorPresentation(f,n),new t(this,g.Range.lift(d.range),C,u)})}renderHoverParts(h,d,u){if(h.length===0||!this._editor.hasModel())return E.Disposable.None;const n=new E.DisposableStore,r=h[0],s=this._editor.getModel(),o=r.model,m=n.add(new v.ColorPickerWidget(d,o,this._editor.getOption(128),this._themeService));let _=new g.Range(r.range.startLineNumber,r.range.startColumn,r.range.endLineNumber,r.range.endColumn);const f=()=>{let C,y;if(o.presentation.textEdit){C=[o.presentation.textEdit],y=new g.Range(o.presentation.textEdit.range.startLineNumber,o.presentation.textEdit.range.startColumn,o.presentation.textEdit.range.endLineNumber,o.presentation.textEdit.range.endColumn);const w=this._editor.getModel()._setTrackedRange(null,y,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",C),y=this._editor.getModel()._getTrackedRange(w)||y}else C=[{identifier:null,range:_,text:o.presentation.label,forceMoveMarkers:!1}],y=_.setEndPosition(_.endLineNumber,_.startColumn+o.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",C);o.presentation.additionalTextEdits&&(C=[...o.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",C),this._hover.hide()),this._editor.pushUndoStop(),_=y},c=C=>(0,S.getColorPresentations)(s,{range:_,color:{red:C.rgba.r/255,green:C.rgba.g/255,blue:C.rgba.b/255,alpha:C.rgba.a}},r.provider,N.CancellationToken.None).then(y=>{o.colorPresentations=y||[]});return n.add(o.onColorFlushed(C=>{c(C).then(f)})),n.add(o.onDidChangeColor(c)),this._hover.setColorPicker(m),n}};a=Ve([Ce(2,i.IThemeService)],a),e.ColorHoverParticipant=a}),define(ee[713],te([0,1,10,12,70,16,3,23,25,31,67,52,530,14,443]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let h=class oi{constructor(r,s){this.decorationIds=[],this.editor=r,this.editorWorkerService=s}static get(r){return r.getContribution(oi.ID)}dispose(){}run(r,s){this.currentRequest&&this.currentRequest.cancel();const o=this.editor.getSelection(),m=this.editor.getModel();if(!m||!o)return;let _=o;if(_.startLineNumber!==_.endLineNumber)return;const f=new M.EditorState(this.editor,1|4),c=m.uri;return this.editorWorkerService.canNavigateValueSet(c)?(this.currentRequest=(0,L.createCancelablePromise)(C=>this.editorWorkerService.navigateValueSet(c,_,s)),this.currentRequest.then(C=>{if(!C||!C.range||!C.value||!f.validate(this.editor))return;let y=g.Range.lift(C.range),w=C.range,D=C.value.length-(_.endColumn-_.startColumn);w={startLineNumber:w.startLineNumber,startColumn:w.startColumn,endLineNumber:w.endLineNumber,endColumn:w.startColumn+C.value.length},D>1&&(_=new S.Selection(_.startLineNumber,_.startColumn,_.endLineNumber,_.endColumn+D-1));const I=new l.InPlaceReplaceCommand(y,_,C.value);this.editor.pushUndoStop(),this.editor.executeCommand(r,I),this.editor.pushUndoStop(),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[{range:w,options:oi.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=(0,L.timeout)(350),this.decorationRemover.then(()=>this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[])).catch(N.onUnexpectedError)}).catch(N.onUnexpectedError)):Promise.resolve(void 0)}};h.ID="editor.contrib.inPlaceReplaceController",h.DECORATION=p.ModelDecorationOptions.register({description:"in-place-replace",className:"valueSetReplacement"}),h=Ve([Ce(1,v.IEditorWorkerService)],h);class d extends E.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.up",label:t.localize(0,null),alias:"Replace with Previous Value",precondition:b.EditorContextKeys.writable,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:2048|1024|82,weight:100}})}run(r,s){const o=h.get(s);return o?o.run(this.id,!0):Promise.resolve(void 0)}}class u extends E.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.down",label:t.localize(1,null),alias:"Replace with Next Value",precondition:b.EditorContextKeys.writable,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:2048|1024|84,weight:100}})}run(r,s){const o=h.get(s);return o?o.run(this.id,!1):Promise.resolve(void 0)}}(0,E.registerEditorContribution)(h.ID,h),(0,E.registerEditorAction)(d),(0,E.registerEditorAction)(u),(0,a.registerThemingParticipant)((n,r)=>{const s=n.getColor(i.editorBracketMatchBorder);s&&r.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${s}; }`)})}),define(ee[714],te([0,1,2,8,16,197,60,3,23,25,31,40,47,249,531,76]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentationToTabsCommand=e.IndentationToSpacesCommand=e.AutoIndentOnPaste=e.AutoIndentOnPasteCommand=e.ReindentSelectedLinesAction=e.ReindentLinesAction=e.DetectIndentation=e.IndentUsingSpaces=e.IndentUsingTabs=e.ChangeIndentationSizeAction=e.IndentationToTabsAction=e.IndentationToSpacesAction=e.getReindentEditOperations=void 0;function d(I,T,F,P){if(I.getLineCount()===1&&I.getLineMaxColumn(1)===1)return[];const R=i.LanguageConfigurationRegistry.getIndentationRules(I.getLanguageId());if(!R)return[];for(F=Math.min(F,I.getLineCount());T<=F&&R.unIndentedLinePattern;){let H=I.getLineContent(T);if(!R.unIndentedLinePattern.test(H))break;T++}if(T>F-1)return[];const{tabSize:A,indentSize:O,insertSpaces:k}=I.getOptions(),V=(H,G)=>(G=G||1,E.ShiftCommand.shiftIndent(H,H.length+G,A,O,k)),B=(H,G)=>(G=G||1,E.ShiftCommand.unshiftIndent(H,H.length+G,A,O,k));let x=[],K,X=I.getLineContent(T),Z=X;if(P!=null){K=P;let H=N.getLeadingWhitespace(X);Z=K+X.substring(H.length),R.decreaseIndentPattern&&R.decreaseIndentPattern.test(Z)&&(K=B(K),Z=K+X.substring(H.length)),X!==Z&&x.push(g.EditOperation.replaceMove(new b.Selection(T,1,T,H.length+1),v.TextModel.normalizeIndentation(K,O,k)))}else K=N.getLeadingWhitespace(X);let q=K;R.increaseIndentPattern&&R.increaseIndentPattern.test(Z)?(q=V(q),K=V(K)):R.indentNextLinePattern&&R.indentNextLinePattern.test(Z)&&(q=V(q)),T++;for(let H=T;H<=F;H++){let G=I.getLineContent(H),z=N.getLeadingWhitespace(G),W=q+G.substring(z.length);R.decreaseIndentPattern&&R.decreaseIndentPattern.test(W)&&(q=B(q),K=B(K)),z!==q&&x.push(g.EditOperation.replaceMove(new b.Selection(H,1,H,z.length+1),v.TextModel.normalizeIndentation(q,O,k))),!(R.unIndentedLinePattern&&R.unIndentedLinePattern.test(G))&&(R.increaseIndentPattern&&R.increaseIndentPattern.test(W)?(K=V(K),q=K):R.indentNextLinePattern&&R.indentNextLinePattern.test(W)?q=V(q):q=K)}return x}e.getReindentEditOperations=d;class u extends M.EditorAction{constructor(){super({id:u.ID,label:l.localize(0,null),alias:"Convert Indentation to Spaces",precondition:p.EditorContextKeys.writable})}run(T,F){let P=F.getModel();if(!P)return;let R=P.getOptions(),A=F.getSelection();if(!A)return;const O=new w(A,R.tabSize);F.pushUndoStop(),F.executeCommands(this.id,[O]),F.pushUndoStop(),P.updateOptions({insertSpaces:!0})}}e.IndentationToSpacesAction=u,u.ID="editor.action.indentationToSpaces";class n extends M.EditorAction{constructor(){super({id:n.ID,label:l.localize(1,null),alias:"Convert Indentation to Tabs",precondition:p.EditorContextKeys.writable})}run(T,F){let P=F.getModel();if(!P)return;let R=P.getOptions(),A=F.getSelection();if(!A)return;const O=new D(A,R.tabSize);F.pushUndoStop(),F.executeCommands(this.id,[O]),F.pushUndoStop(),P.updateOptions({insertSpaces:!1})}}e.IndentationToTabsAction=n,n.ID="editor.action.indentationToTabs";class r extends M.EditorAction{constructor(T,F){super(F);this.insertSpaces=T}run(T,F){const P=T.get(h.IQuickInputService),R=T.get(t.IModelService);let A=F.getModel();if(!A)return;const O=R.getCreationOptions(A.getLanguageId(),A.uri,A.isForSimpleWidget),k=[1,2,3,4,5,6,7,8].map(B=>({id:B.toString(),label:B.toString(),description:B===O.tabSize?l.localize(2,null):void 0})),V=Math.min(A.getOptions().tabSize-1,7);setTimeout(()=>{P.pick(k,{placeHolder:l.localize(3,null),activeItem:k[V]}).then(B=>{B&&A&&!A.isDisposed()&&A.updateOptions({tabSize:parseInt(B.label,10),insertSpaces:this.insertSpaces})})},50)}}e.ChangeIndentationSizeAction=r;class s extends r{constructor(){super(!1,{id:s.ID,label:l.localize(4,null),alias:"Indent Using Tabs",precondition:void 0})}}e.IndentUsingTabs=s,s.ID="editor.action.indentUsingTabs";class o extends r{constructor(){super(!0,{id:o.ID,label:l.localize(5,null),alias:"Indent Using Spaces",precondition:void 0})}}e.IndentUsingSpaces=o,o.ID="editor.action.indentUsingSpaces";class m extends M.EditorAction{constructor(){super({id:m.ID,label:l.localize(6,null),alias:"Detect Indentation from Content",precondition:void 0})}run(T,F){const P=T.get(t.IModelService);let R=F.getModel();if(!R)return;const A=P.getCreationOptions(R.getLanguageId(),R.uri,R.isForSimpleWidget);R.detectIndentation(A.insertSpaces,A.tabSize)}}e.DetectIndentation=m,m.ID="editor.action.detectIndentation";class _ extends M.EditorAction{constructor(){super({id:"editor.action.reindentlines",label:l.localize(7,null),alias:"Reindent Lines",precondition:p.EditorContextKeys.writable})}run(T,F){let P=F.getModel();if(!P)return;let R=d(P,1,P.getLineCount());R.length>0&&(F.pushUndoStop(),F.executeEdits(this.id,R),F.pushUndoStop())}}e.ReindentLinesAction=_;class f extends M.EditorAction{constructor(){super({id:"editor.action.reindentselectedlines",label:l.localize(8,null),alias:"Reindent Selected Lines",precondition:p.EditorContextKeys.writable})}run(T,F){let P=F.getModel();if(!P)return;let R=F.getSelections();if(R===null)return;let A=[];for(let O of R){let k=O.startLineNumber,V=O.endLineNumber;if(k!==V&&O.endColumn===1&&V--,k===1){if(k===V)continue}else k--;let B=d(P,k,V);A.push(...B)}A.length>0&&(F.pushUndoStop(),F.executeEdits(this.id,A),F.pushUndoStop())}}e.ReindentSelectedLinesAction=f;class c{constructor(T,F){this._initialSelection=F,this._edits=[],this._selectionId=null;for(let P of T)P.range&&typeof P.text=="string"&&this._edits.push(P)}getEditOperations(T,F){for(let R of this._edits)F.addEditOperation(S.Range.lift(R.range),R.text);let P=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(P=!0,this._selectionId=F.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(P=!0,this._selectionId=F.trackSelection(this._initialSelection,!1))),P||(this._selectionId=F.trackSelection(this._initialSelection))}computeCursorState(T,F){return F.getTrackedSelection(this._selectionId)}}e.AutoIndentOnPasteCommand=c;class C{constructor(T){this.callOnDispose=new L.DisposableStore,this.callOnModel=new L.DisposableStore,this.editor=T,this.callOnDispose.add(T.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(T.onDidChangeModel(()=>this.update())),this.callOnDispose.add(T.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(9)<4||this.editor.getOption(47))&&(!this.editor.hasModel()||this.callOnModel.add(this.editor.onDidPaste(({range:T})=>{this.trigger(T)})))}trigger(T){let F=this.editor.getSelections();if(F===null||F.length>1)return;const P=this.editor.getModel();if(!P||!P.isCheapToTokenize(T.getStartPosition().lineNumber))return;const R=this.editor.getOption(9),{tabSize:A,indentSize:O,insertSpaces:k}=P.getOptions();let V=[],B={shiftIndent:Z=>E.ShiftCommand.shiftIndent(Z,Z.length+1,A,O,k),unshiftIndent:Z=>E.ShiftCommand.unshiftIndent(Z,Z.length+1,A,O,k)},x=T.startLineNumber;for(;x<=T.endLineNumber;){if(this.shouldIgnoreLine(P,x)){x++;continue}break}if(x>T.endLineNumber)return;let K=P.getLineContent(x);if(!/\S/.test(K.substring(0,T.startColumn-1))){const Z=i.LanguageConfigurationRegistry.getGoodIndentForLine(R,P,P.getLanguageId(),x,B);if(Z!==null){let q=N.getLeadingWhitespace(K),H=a.getSpaceCnt(Z,A),G=a.getSpaceCnt(q,A);if(H!==G){let z=a.generateIndent(H,A,k);V.push({range:new S.Range(x,1,x,q.length+1),text:z}),K=z+K.substr(q.length)}else{let z=i.LanguageConfigurationRegistry.getIndentMetadata(P,x);if(z===0||z===8)return}}}const X=x;for(;x<T.endLineNumber;){if(!/\S/.test(P.getLineContent(x+1))){x++;continue}break}if(x!==T.endLineNumber){let Z={getLineTokens:H=>P.getLineTokens(H),getLanguageId:()=>P.getLanguageId(),getLanguageIdAtPosition:(H,G)=>P.getLanguageIdAtPosition(H,G),getLineContent:H=>H===X?K:P.getLineContent(H)},q=i.LanguageConfigurationRegistry.getGoodIndentForLine(R,Z,P.getLanguageId(),x+1,B);if(q!==null){let H=a.getSpaceCnt(q,A),G=a.getSpaceCnt(N.getLeadingWhitespace(P.getLineContent(x+1)),A);if(H!==G){let z=H-G;for(let W=x+1;W<=T.endLineNumber;W++){let j=P.getLineContent(W),U=N.getLeadingWhitespace(j),ne=a.getSpaceCnt(U,A)+z,J=a.generateIndent(ne,A,k);J!==U&&V.push({range:new S.Range(W,1,W,U.length+1),text:J})}}}}if(V.length>0){this.editor.pushUndoStop();let Z=new c(V,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",Z),this.editor.pushUndoStop()}}shouldIgnoreLine(T,F){T.forceTokenization(F);let P=T.getLineFirstNonWhitespaceColumn(F);if(P===0)return!0;let R=T.getLineTokens(F);if(R.getCount()>0){let A=R.findTokenIndexAtOffset(P);if(A>=0&&R.getStandardTokenType(A)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}}e.AutoIndentOnPaste=C,C.ID="editor.contrib.autoIndentOnPaste";function y(I,T,F,P){if(I.getLineCount()===1&&I.getLineMaxColumn(1)===1)return;let R="";for(let O=0;O<F;O++)R+=" ";let A=new RegExp(R,"gi");for(let O=1,k=I.getLineCount();O<=k;O++){let V=I.getLineFirstNonWhitespaceColumn(O);if(V===0&&(V=I.getLineMaxColumn(O)),V===1)continue;const B=new S.Range(O,1,O,V),x=I.getValueInRange(B),K=P?x.replace(/\t/ig,R):x.replace(A,"	");T.addEditOperation(B,K)}}class w{constructor(T,F){this.selection=T,this.tabSize=F,this.selectionId=null}getEditOperations(T,F){this.selectionId=F.trackSelection(this.selection),y(T,F,this.tabSize,!0)}computeCursorState(T,F){return F.getTrackedSelection(this.selectionId)}}e.IndentationToSpacesCommand=w;class D{constructor(T,F){this.selection=T,this.tabSize=F,this.selectionId=null}getEditOperations(T,F){this.selectionId=F.trackSelection(this.selection),y(T,F,this.tabSize,!1)}computeCursorState(T,F){return F.getTrackedSelection(this.selectionId)}}e.IndentationToTabsCommand=D,(0,M.registerEditorContribution)(C.ID,C),(0,M.registerEditorAction)(u),(0,M.registerEditorAction)(n),(0,M.registerEditorAction)(s),(0,M.registerEditorAction)(o),(0,M.registerEditorAction)(m),(0,M.registerEditorAction)(_),(0,M.registerEditorAction)(f)}),define(ee[204],te([0,1,10,21,12,4,2,8,163,60,3,18,184,26,250,185]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.minimizeInlineCompletion=e.provideInlineCompletions=e.SynchronizedInlineCompletionsCache=e.UpdateOperation=e.InlineCompletionsSession=e.InlineCompletionsModel=void 0;let d=class extends g.Disposable{constructor(c,C,y){super();this.editor=c,this.cache=C,this.commandService=y,this.onDidChangeEmitter=new E.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new g.MutableDisposable),this.active=!1,this.disposed=!1,this._register(y.onDidExecuteCommand(w=>{new Set([b.CoreEditingCommands.Tab.id,b.CoreEditingCommands.DeleteLeft.id,b.CoreEditingCommands.DeleteRight.id,l.inlineSuggestCommitId,"acceptSelectedSuggestion"]).has(w.commandId)&&c.hasTextFocus()&&this.handleUserInput()})),this._register(this.editor.onDidType(w=>{this.handleUserInput()})),this._register(this.editor.onDidChangeCursorPosition(w=>{this.session&&!this.session.isValid&&this.hide()})),this._register((0,g.toDisposable)(()=>{this.disposed=!0})),this._register(this.editor.onDidBlurEditorWidget(()=>{this.hide()}))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout(()=>{this.disposed||this.startSessionIfTriggered()},0)}get session(){return this.completionSession.value}get ghostText(){var c;return(c=this.session)===null||c===void 0?void 0:c.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}get expanded(){return this.session?this.session.expanded:!1}setExpanded(c){var C;(C=this.session)===null||C===void 0||C.setExpanded(c)}setActive(c){var C;this.active=c,c&&((C=this.session)===null||C===void 0||C.scheduleAutomaticUpdate())}startSessionIfTriggered(){!this.editor.getOption(54).enabled||this.session&&this.session.isValid||this.trigger(i.InlineCompletionTriggerKind.Automatic)}trigger(c){if(this.completionSession.value){c===i.InlineCompletionTriggerKind.Explicit&&this.completionSession.value.ensureUpdateWithExplicitContext();return}this.completionSession.value=new u(this.editor,this.editor.getPosition(),()=>this.active,this.commandService,this.cache,c),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.onDidChangeEmitter.fire()}))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var c;(c=this.session)===null||c===void 0||c.commitCurrentCompletion()}showNext(){var c;(c=this.session)===null||c===void 0||c.showNextInlineCompletion()}showPrevious(){var c;(c=this.session)===null||c===void 0||c.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var c;return Me(this,void 0,void 0,function*(){const C=yield(c=this.session)===null||c===void 0?void 0:c.hasMultipleInlineCompletions();return C!==void 0?C:!1})}};d=Ve([Ce(2,a.ICommandService)],d),e.InlineCompletionsModel=d;class u extends t.BaseGhostTextWidgetModel{constructor(c,C,y,w,D,I){super(c);this.triggerPosition=C,this.shouldUpdate=y,this.commandService=w,this.cache=D,this.initialTriggerKind=I,this.minReservedLineCount=0,this.updateOperation=this._register(new g.MutableDisposable),this.updateSoon=this._register(new L.RunOnceScheduler(()=>{let F=this.initialTriggerKind;return this.initialTriggerKind=i.InlineCompletionTriggerKind.Automatic,this.update(F)},50)),this.currentlySelectedCompletionId=void 0;let T;this._register(this.onDidChange(()=>{const F=this.currentCompletion;if(F&&F.sourceInlineCompletion!==T){T=F.sourceInlineCompletion;const P=F.sourceProvider;P.handleItemDidShow&&P.handleItemDidShow(F.sourceInlineCompletions,T)}})),this._register((0,g.toDisposable)(()=>{this.cache.clear()})),this._register(this.editor.onDidChangeCursorPosition(F=>{this.cache.value&&this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeModelContent(F=>{this.scheduleAutomaticUpdate()})),this._register(i.InlineCompletionsProviderRegistry.onDidChange(()=>{this.updateSoon.schedule()})),this.scheduleAutomaticUpdate()}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value||this.cache.value.completions.length===0)return 0;const c=this.cache.value.completions.findIndex(C=>C.semanticId===this.currentlySelectedCompletionId);return c===-1?(this.currentlySelectedCompletionId=void 0,0):c}get currentCachedCompletion(){if(!!this.cache.value)return this.cache.value.completions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){var c;return Me(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const C=((c=this.cache.value)===null||c===void 0?void 0:c.completions)||[];if(C.length>0){const y=(this.fixAndGetIndexOfCurrentSelection()+1)%C.length;this.currentlySelectedCompletionId=C[y].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}showPreviousInlineCompletion(){var c;return Me(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const C=((c=this.cache.value)===null||c===void 0?void 0:c.completions)||[];if(C.length>0){const y=(this.fixAndGetIndexOfCurrentSelection()+C.length-1)%C.length;this.currentlySelectedCompletionId=C[y].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}ensureUpdateWithExplicitContext(){var c;return Me(this,void 0,void 0,function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===i.InlineCompletionTriggerKind.Explicit?yield this.updateOperation.value.promise:yield this.update(i.InlineCompletionTriggerKind.Explicit):((c=this.cache.value)===null||c===void 0?void 0:c.triggerKind)!==i.InlineCompletionTriggerKind.Explicit&&(yield this.update(i.InlineCompletionTriggerKind.Explicit))})}hasMultipleInlineCompletions(){var c;return Me(this,void 0,void 0,function*(){return yield this.ensureUpdateWithExplicitContext(),(((c=this.cache.value)===null||c===void 0?void 0:c.completions.length)||0)>1})}get ghostText(){const c=this.currentCompletion,C=this.editor.getOptions().get(54).mode;return c?(0,h.inlineCompletionToGhostText)(c,this.editor.getModel(),C,this.editor.getPosition()):void 0}get currentCompletion(){const c=this.currentCachedCompletion;if(!!c)return c.toLiveInlineCompletion()}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule()}update(c){return Me(this,void 0,void 0,function*(){if(!this.shouldUpdate())return;const C=this.editor.getPosition(),y=(0,L.createCancelablePromise)(D=>Me(this,void 0,void 0,function*(){let I;try{I=yield m(C,this.editor.getModel(),{triggerKind:c,selectedSuggestionInfo:void 0},D)}catch(T){(0,M.onUnexpectedError)(T);return}D.isCancellationRequested||(this.cache.setValue(this.editor,I,c),this.onDidChangeEmitter.fire())})),w=new n(y,c);this.updateOperation.value=w,yield y,this.updateOperation.value===w&&this.updateOperation.clear()})}takeOwnership(c){this._register(c)}commitCurrentCompletion(){if(!this.ghostText)return;const c=this.currentCompletion;c&&this.commit(c)}commit(c){const C=this.cache.clearAndLeak();this.editor.executeEdits("inlineSuggestion.accept",[p.EditOperation.replaceMove(c.range,c.text)]),c.command?this.commandService.executeCommand(c.command.id,...c.command.arguments||[]).finally(()=>{C==null||C.dispose()}).then(void 0,M.onUnexpectedExternalError):C==null||C.dispose(),this.onDidChangeEmitter.fire()}}e.InlineCompletionsSession=u;class n{constructor(c,C){this.promise=c,this.triggerKind=C}dispose(){this.promise.cancel()}}e.UpdateOperation=n;class r extends g.Disposable{constructor(c,C,y,w){super();this.triggerKind=w;const D=c.deltaDecorations([],C.items.map(I=>({range:I.range,options:{description:"inline-completion-tracking-range"}})));this._register((0,g.toDisposable)(()=>{c.deltaDecorations(D,[])})),this.completions=C.items.map((I,T)=>new s(I,D[T])),this._register(c.onDidChangeModelContent(()=>{let I=!1;const T=c.getModel();for(const F of this.completions){const P=T.getDecorationRange(F.decorationId);if(!P){(0,M.onUnexpectedError)(new Error("Decoration has no range"));continue}F.synchronizedRange.equalsRange(P)||(I=!0,F.synchronizedRange=P)}I&&y()})),this._register(C)}}e.SynchronizedInlineCompletionsCache=r;class s{constructor(c,C){this.inlineCompletion=c,this.decorationId=C,this.semanticId=JSON.stringify({text:this.inlineCompletion.text,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=c.range}toLiveInlineCompletion(){return{text:this.inlineCompletion.text,range:this.synchronizedRange,command:this.inlineCompletion.command,sourceProvider:this.inlineCompletion.sourceProvider,sourceInlineCompletions:this.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:this.inlineCompletion.sourceInlineCompletion}}}function o(f,c){const C=c.getWordAtPosition(f),y=c.getLineMaxColumn(f.lineNumber);return C?new v.Range(f.lineNumber,C.startColumn,f.lineNumber,y):v.Range.fromPositions(f,f.with(void 0,y))}function m(f,c,C,y=N.CancellationToken.None){return Me(this,void 0,void 0,function*(){const w=o(f,c),D=i.InlineCompletionsProviderRegistry.all(c),I=yield Promise.all(D.map(F=>Me(this,void 0,void 0,function*(){const P=yield F.provideInlineCompletions(c,f,C,y);return{completions:P,provider:F,dispose:()=>{P&&F.freeInlineCompletions(P)}}}))),T=new Map;for(const F of I){const P=F.completions;if(P)for(const R of P.items.map(A=>({text:A.text,range:A.range?v.Range.lift(A.range):w,command:A.command,sourceProvider:F.provider,sourceInlineCompletions:P,sourceInlineCompletion:A})))R.range.startLineNumber===R.range.endLineNumber&&T.set(JSON.stringify({text:R.text,range:R.range}),R)}return{items:[...T.values()],dispose:()=>{for(const F of I)F.dispose()}}})}e.provideInlineCompletions=m;function _(f,c){if(!c)return c;const C=f.getValueInRange(c.range),y=(0,S.commonPrefixLength)(C,c.text),w=f.getOffsetAt(c.range.getStartPosition())+y,D=f.getPositionAt(w),I=C.substr(y),T=(0,S.commonSuffixLength)(I,c.text),F=f.getPositionAt(Math.max(w,f.getOffsetAt(c.range.getEndPosition())-T));return{range:v.Range.fromPositions(D,F),text:c.text.substr(y,c.text.length-y-T)}}e.minimizeInlineCompletion=_}),define(ee[715],te([0,1,16,202,25,534]),function(Q,e,L,N,M,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExpandLineSelectionAction=void 0;class g extends L.EditorAction{constructor(){super({id:"expandLineSelection",label:E.localize(0,null),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:M.EditorContextKeys.textInputFocus,primary:2048|42}})}run(b,p,v){if(v=v||{},!p.hasModel())return;const i=p._getViewModel();i.model.pushStackElement(),i.setCursorStates(v.source,3,N.CursorMoveCommands.expandLineSelection(i,i.getCursorStates())),i.revealPrimaryCursor(v.source,!0)}}e.ExpandLineSelectionAction=g,(0,L.registerEditorAction)(g)}),define(ee[716],te([0,1,8,197,3,23,118,40,249]),function(Q,e,L,N,M,E,g,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveLinesCommand=void 0;class p{constructor(i,t,a){this._selection=i,this._isMovingDown=t,this._autoIndent=a,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(i,t){let a=i.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===a){this._selectionId=t.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=t.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let l=this._selection;l.startLineNumber<l.endLineNumber&&l.endColumn===1&&(this._moveEndPositionDown=!0,l=l.setEndPosition(l.endLineNumber-1,i.getLineMaxColumn(l.endLineNumber-1)));const{tabSize:h,indentSize:d,insertSpaces:u}=i.getOptions();let n=this.buildIndentConverter(h,d,u),r={getLineTokens:s=>i.getLineTokens(s),getLanguageId:()=>i.getLanguageId(),getLanguageIdAtPosition:(s,o)=>i.getLanguageIdAtPosition(s,o),getLineContent:null};if(l.startLineNumber===l.endLineNumber&&i.getLineMaxColumn(l.startLineNumber)===1){let s=l.startLineNumber,o=this._isMovingDown?s+1:s-1;i.getLineMaxColumn(o)===1?t.addEditOperation(new M.Range(1,1,1,1),null):(t.addEditOperation(new M.Range(s,1,s,1),i.getLineContent(o)),t.addEditOperation(new M.Range(o,1,o,i.getLineMaxColumn(o)),null)),l=new E.Selection(o,1,o,1)}else{let s,o;if(this._isMovingDown){s=l.endLineNumber+1,o=i.getLineContent(s),t.addEditOperation(new M.Range(s-1,i.getLineMaxColumn(s-1),s,i.getLineMaxColumn(s)),null);let m=o;if(this.shouldAutoIndent(i,l)){let _=this.matchEnterRule(i,n,h,s,l.startLineNumber-1);if(_!==null){let c=L.getLeadingWhitespace(i.getLineContent(s)),C=_+b.getSpaceCnt(c,h);m=b.generateIndent(C,h,u)+this.trimLeft(o)}else{r.getLineContent=C=>C===l.startLineNumber?i.getLineContent(s):i.getLineContent(C);let c=S.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent,r,i.getLanguageIdAtPosition(s,1),l.startLineNumber,n);if(c!==null){let C=L.getLeadingWhitespace(i.getLineContent(s)),y=b.getSpaceCnt(c,h),w=b.getSpaceCnt(C,h);y!==w&&(m=b.generateIndent(y,h,u)+this.trimLeft(o))}}t.addEditOperation(new M.Range(l.startLineNumber,1,l.startLineNumber,1),m+`
`);let f=this.matchEnterRuleMovingDown(i,n,h,l.startLineNumber,s,m);if(f!==null)f!==0&&this.getIndentEditsOfMovingBlock(i,t,l,h,u,f);else{r.getLineContent=C=>C===l.startLineNumber?m:C>=l.startLineNumber+1&&C<=l.endLineNumber+1?i.getLineContent(C-1):i.getLineContent(C);let c=S.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent,r,i.getLanguageIdAtPosition(s,1),l.startLineNumber+1,n);if(c!==null){const C=L.getLeadingWhitespace(i.getLineContent(l.startLineNumber)),y=b.getSpaceCnt(c,h),w=b.getSpaceCnt(C,h);if(y!==w){const D=y-w;this.getIndentEditsOfMovingBlock(i,t,l,h,u,D)}}}}else t.addEditOperation(new M.Range(l.startLineNumber,1,l.startLineNumber,1),m+`
`)}else if(s=l.startLineNumber-1,o=i.getLineContent(s),t.addEditOperation(new M.Range(s,1,s+1,1),null),t.addEditOperation(new M.Range(l.endLineNumber,i.getLineMaxColumn(l.endLineNumber),l.endLineNumber,i.getLineMaxColumn(l.endLineNumber)),`
`+o),this.shouldAutoIndent(i,l)){r.getLineContent=_=>_===s?i.getLineContent(l.startLineNumber):i.getLineContent(_);let m=this.matchEnterRule(i,n,h,l.startLineNumber,l.startLineNumber-2);if(m!==null)m!==0&&this.getIndentEditsOfMovingBlock(i,t,l,h,u,m);else{let _=S.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent,r,i.getLanguageIdAtPosition(l.startLineNumber,1),s,n);if(_!==null){let f=L.getLeadingWhitespace(i.getLineContent(l.startLineNumber)),c=b.getSpaceCnt(_,h),C=b.getSpaceCnt(f,h);if(c!==C){let y=c-C;this.getIndentEditsOfMovingBlock(i,t,l,h,u,y)}}}}}this._selectionId=t.trackSelection(l)}buildIndentConverter(i,t,a){return{shiftIndent:l=>N.ShiftCommand.shiftIndent(l,l.length+1,i,t,a),unshiftIndent:l=>N.ShiftCommand.unshiftIndent(l,l.length+1,i,t,a)}}parseEnterResult(i,t,a,l,h){if(h){let d=h.indentation;h.indentAction===g.IndentAction.None||h.indentAction===g.IndentAction.Indent?d=h.indentation+h.appendText:h.indentAction===g.IndentAction.IndentOutdent?d=h.indentation:h.indentAction===g.IndentAction.Outdent&&(d=t.unshiftIndent(h.indentation)+h.appendText);let u=i.getLineContent(l);if(this.trimLeft(u).indexOf(this.trimLeft(d))>=0){let n=L.getLeadingWhitespace(i.getLineContent(l)),r=L.getLeadingWhitespace(d),s=S.LanguageConfigurationRegistry.getIndentMetadata(i,l);s!==null&&s&2&&(r=t.unshiftIndent(r));let o=b.getSpaceCnt(r,a),m=b.getSpaceCnt(n,a);return o-m}}return null}matchEnterRuleMovingDown(i,t,a,l,h,d){if(L.lastNonWhitespaceIndex(d)>=0){let u=i.getLineMaxColumn(h),n=S.LanguageConfigurationRegistry.getEnterAction(this._autoIndent,i,new M.Range(h,u,h,u));return this.parseEnterResult(i,t,a,l,n)}else{let u=l-1;for(;u>=1;){let s=i.getLineContent(u);if(L.lastNonWhitespaceIndex(s)>=0)break;u--}if(u<1||l>i.getLineCount())return null;let n=i.getLineMaxColumn(u),r=S.LanguageConfigurationRegistry.getEnterAction(this._autoIndent,i,new M.Range(u,n,u,n));return this.parseEnterResult(i,t,a,l,r)}}matchEnterRule(i,t,a,l,h,d){let u=h;for(;u>=1;){let s;if(u===h&&d!==void 0?s=d:s=i.getLineContent(u),L.lastNonWhitespaceIndex(s)>=0)break;u--}if(u<1||l>i.getLineCount())return null;let n=i.getLineMaxColumn(u),r=S.LanguageConfigurationRegistry.getEnterAction(this._autoIndent,i,new M.Range(u,n,u,n));return this.parseEnterResult(i,t,a,l,r)}trimLeft(i){return i.replace(/^\s+/,"")}shouldAutoIndent(i,t){if(this._autoIndent<4||!i.isCheapToTokenize(t.startLineNumber))return!1;let a=i.getLanguageIdAtPosition(t.startLineNumber,1),l=i.getLanguageIdAtPosition(t.endLineNumber,1);return!(a!==l||S.LanguageConfigurationRegistry.getIndentRulesSupport(a)===null)}getIndentEditsOfMovingBlock(i,t,a,l,h,d){for(let u=a.startLineNumber;u<=a.endLineNumber;u++){let n=i.getLineContent(u),r=L.getLeadingWhitespace(n),o=b.getSpaceCnt(r,l)+d,m=b.generateIndent(o,l,h);m!==r&&(t.addEditOperation(new M.Range(u,1,u,r.length+1),m),u===a.endLineNumber&&a.endColumn<=r.length+1&&m===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(i,t){let a=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(a=a.setEndPosition(a.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&a.startLineNumber<a.endLineNumber&&(a=a.setEndPosition(a.endLineNumber,2)),a}}e.MoveLinesCommand=p}),define(ee[717],te([0,1,56,163,16,102,401,201,60,13,3,23,25,444,716,445,535,38]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnakeCaseAction=e.TitleCaseAction=e.LowerCaseAction=e.UpperCaseAction=e.AbstractCaseAction=e.TransposeAction=e.JoinLinesAction=e.DeleteAllRightAction=e.DeleteAllLeftAction=e.AbstractDeleteAllToBoundaryAction=e.InsertLineAfterAction=e.InsertLineBeforeAction=e.IndentLinesAction=e.DeleteLinesAction=e.TrimTrailingWhitespaceAction=e.DeleteDuplicateLinesAction=e.SortLinesDescendingAction=e.SortLinesAscendingAction=e.AbstractSortLinesAction=e.DuplicateSelectionAction=void 0;class n extends M.EditorAction{constructor(z,W){super(W);this.down=z}run(z,W){if(!W.hasModel())return;const j=W.getSelections().map((ne,J)=>({selection:ne,index:J,ignore:!1}));j.sort((ne,J)=>v.Range.compareRangesUsingStarts(ne.selection,J.selection));let U=j[0];for(let ne=1;ne<j.length;ne++){const J=j[ne];U.selection.endLineNumber===J.selection.startLineNumber&&(U.index<J.index?J.ignore=!0:(U.ignore=!0,U=J))}const Y=[];for(const ne of j)Y.push(new a.CopyLinesCommand(ne.selection,this.down,ne.ignore));W.pushUndoStop(),W.executeCommands(this.id,Y),W.pushUndoStop()}}class r extends n{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:d.localize(0,null),alias:"Copy Line Up",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:512|1024|16,linux:{primary:2048|512|1024|16},weight:100},menuOpts:{menuId:u.MenuId.MenubarSelectionMenu,group:"2_line",title:d.localize(1,null),order:1}})}}class s extends n{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:d.localize(2,null),alias:"Copy Line Down",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:512|1024|18,linux:{primary:2048|512|1024|18},weight:100},menuOpts:{menuId:u.MenuId.MenubarSelectionMenu,group:"2_line",title:d.localize(3,null),order:2}})}}class o extends M.EditorAction{constructor(){super({id:"editor.action.duplicateSelection",label:d.localize(4,null),alias:"Duplicate Selection",precondition:t.EditorContextKeys.writable,menuOpts:{menuId:u.MenuId.MenubarSelectionMenu,group:"2_line",title:d.localize(5,null),order:5}})}run(z,W,j){if(!W.hasModel())return;const U=[],Y=W.getSelections(),ne=W.getModel();for(const J of Y)if(J.isEmpty())U.push(new a.CopyLinesCommand(J,!0));else{const re=new i.Selection(J.endLineNumber,J.endColumn,J.endLineNumber,J.endColumn);U.push(new E.ReplaceCommandThatSelectsText(re,ne.getValueInRange(J)))}W.pushUndoStop(),W.executeCommands(this.id,U),W.pushUndoStop()}}e.DuplicateSelectionAction=o;class m extends M.EditorAction{constructor(z,W){super(W);this.down=z}run(z,W){let j=[],U=W.getSelections()||[];const Y=W.getOption(9);for(const ne of U)j.push(new l.MoveLinesCommand(ne,this.down,Y));W.pushUndoStop(),W.executeCommands(this.id,j),W.pushUndoStop()}}class _ extends m{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:d.localize(6,null),alias:"Move Line Up",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:512|16,linux:{primary:512|16},weight:100},menuOpts:{menuId:u.MenuId.MenubarSelectionMenu,group:"2_line",title:d.localize(7,null),order:3}})}}class f extends m{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:d.localize(8,null),alias:"Move Line Down",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:512|18,linux:{primary:512|18},weight:100},menuOpts:{menuId:u.MenuId.MenubarSelectionMenu,group:"2_line",title:d.localize(9,null),order:4}})}}class c extends M.EditorAction{constructor(z,W){super(W);this.descending=z}run(z,W){const j=W.getSelections()||[];for(const Y of j)if(!h.SortLinesCommand.canRun(W.getModel(),Y,this.descending))return;let U=[];for(let Y=0,ne=j.length;Y<ne;Y++)U[Y]=new h.SortLinesCommand(j[Y],this.descending);W.pushUndoStop(),W.executeCommands(this.id,U),W.pushUndoStop()}}e.AbstractSortLinesAction=c;class C extends c{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:d.localize(10,null),alias:"Sort Lines Ascending",precondition:t.EditorContextKeys.writable})}}e.SortLinesAscendingAction=C;class y extends c{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:d.localize(11,null),alias:"Sort Lines Descending",precondition:t.EditorContextKeys.writable})}}e.SortLinesDescendingAction=y;class w extends M.EditorAction{constructor(){super({id:"editor.action.removeDuplicateLines",label:d.localize(12,null),alias:"Delete Duplicate Lines",precondition:t.EditorContextKeys.writable})}run(z,W){if(!W.hasModel())return;let j=W.getModel();if(j.getLineCount()===1&&j.getLineMaxColumn(1)===1)return;let U=[],Y=[],ne=0;for(let J of W.getSelections()){let re=new Set,ge=[];for(let ie=J.startLineNumber;ie<=J.endLineNumber;ie++){let le=j.getLineContent(ie);re.has(le)||(ge.push(le),re.add(le))}let pe=new i.Selection(J.startLineNumber,1,J.endLineNumber,j.getLineMaxColumn(J.endLineNumber)),oe=J.startLineNumber-ne,$=new i.Selection(oe,1,oe+ge.length-1,ge[ge.length-1].length);U.push(b.EditOperation.replace(pe,ge.join(`
`))),Y.push($),ne+=J.endLineNumber-J.startLineNumber+1-ge.length}W.pushUndoStop(),W.executeEdits(this.id,U,Y),W.pushUndoStop()}}e.DeleteDuplicateLinesAction=w;class D extends M.EditorAction{constructor(){super({id:D.ID,label:d.localize(13,null),alias:"Trim Trailing Whitespace",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2048|41,2048|54),weight:100}})}run(z,W,j){let U=[];j.reason==="auto-save"&&(U=(W.getSelections()||[]).map(J=>new p.Position(J.positionLineNumber,J.positionColumn)));let Y=W.getSelection();if(Y===null)return;let ne=new g.TrimTrailingWhitespaceCommand(Y,U);W.pushUndoStop(),W.executeCommands(this.id,[ne]),W.pushUndoStop()}}e.TrimTrailingWhitespaceAction=D,D.ID="editor.action.trimTrailingWhitespace";class I extends M.EditorAction{constructor(){super({id:"editor.action.deleteLines",label:d.localize(14,null),alias:"Delete Line",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.textInputFocus,primary:2048|1024|41,weight:100}})}run(z,W){if(!W.hasModel())return;let j=this._getLinesToRemove(W),U=W.getModel();if(U.getLineCount()===1&&U.getLineMaxColumn(1)===1)return;let Y=0,ne=[],J=[];for(let re=0,ge=j.length;re<ge;re++){const pe=j[re];let oe=pe.startLineNumber,$=pe.endLineNumber,ie=1,le=U.getLineMaxColumn($);$<U.getLineCount()?($+=1,le=1):oe>1&&(oe-=1,ie=U.getLineMaxColumn(oe)),ne.push(b.EditOperation.replace(new i.Selection(oe,ie,$,le),"")),J.push(new i.Selection(oe-Y,pe.positionColumn,oe-Y,pe.positionColumn)),Y+=pe.endLineNumber-pe.startLineNumber+1}W.pushUndoStop(),W.executeEdits(this.id,ne,J),W.pushUndoStop()}_getLinesToRemove(z){let W=z.getSelections().map(Y=>{let ne=Y.endLineNumber;return Y.startLineNumber<Y.endLineNumber&&Y.endColumn===1&&(ne-=1),{startLineNumber:Y.startLineNumber,selectionStartColumn:Y.selectionStartColumn,endLineNumber:ne,positionColumn:Y.positionColumn}});W.sort((Y,ne)=>Y.startLineNumber===ne.startLineNumber?Y.endLineNumber-ne.endLineNumber:Y.startLineNumber-ne.startLineNumber);let j=[],U=W[0];for(let Y=1;Y<W.length;Y++)U.endLineNumber+1>=W[Y].startLineNumber?U.endLineNumber=W[Y].endLineNumber:(j.push(U),U=W[Y]);return j.push(U),j}}e.DeleteLinesAction=I;class T extends M.EditorAction{constructor(){super({id:"editor.action.indentLines",label:d.localize(15,null),alias:"Indent Line",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:2048|89,weight:100}})}run(z,W){const j=W._getViewModel();!j||(W.pushUndoStop(),W.executeCommands(this.id,S.TypeOperations.indent(j.cursorConfig,W.getModel(),W.getSelections())),W.pushUndoStop())}}e.IndentLinesAction=T;class F extends M.EditorAction{constructor(){super({id:"editor.action.outdentLines",label:d.localize(16,null),alias:"Outdent Line",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:2048|87,weight:100}})}run(z,W){N.CoreEditingCommands.Outdent.runEditorCommand(z,W,null)}}class P extends M.EditorAction{constructor(){super({id:"editor.action.insertLineBefore",label:d.localize(17,null),alias:"Insert Line Above",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:2048|1024|3,weight:100}})}run(z,W){const j=W._getViewModel();!j||(W.pushUndoStop(),W.executeCommands(this.id,S.TypeOperations.lineInsertBefore(j.cursorConfig,W.getModel(),W.getSelections())))}}e.InsertLineBeforeAction=P;class R extends M.EditorAction{constructor(){super({id:"editor.action.insertLineAfter",label:d.localize(18,null),alias:"Insert Line Below",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:2048|3,weight:100}})}run(z,W){const j=W._getViewModel();!j||(W.pushUndoStop(),W.executeCommands(this.id,S.TypeOperations.lineInsertAfter(j.cursorConfig,W.getModel(),W.getSelections())))}}e.InsertLineAfterAction=R;class A extends M.EditorAction{run(z,W){if(!W.hasModel())return;const j=W.getSelection();let U=this._getRangesToDelete(W),Y=[];for(let re=0,ge=U.length-1;re<ge;re++){let pe=U[re],oe=U[re+1];v.Range.intersectRanges(pe,oe)===null?Y.push(pe):U[re+1]=v.Range.plusRange(pe,oe)}Y.push(U[U.length-1]);let ne=this._getEndCursorState(j,Y),J=Y.map(re=>b.EditOperation.replace(re,""));W.pushUndoStop(),W.executeEdits(this.id,J,ne),W.pushUndoStop()}}e.AbstractDeleteAllToBoundaryAction=A;class O extends A{constructor(){super({id:"deleteAllLeft",label:d.localize(19,null),alias:"Delete All Left",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.textInputFocus,primary:0,mac:{primary:2048|1},weight:100}})}_getEndCursorState(z,W){let j=null,U=[],Y=0;return W.forEach(ne=>{let J;if(ne.endColumn===1&&Y>0){let re=ne.startLineNumber-Y;J=new i.Selection(re,ne.startColumn,re,ne.startColumn)}else J=new i.Selection(ne.startLineNumber,ne.startColumn,ne.startLineNumber,ne.startColumn);Y+=ne.endLineNumber-ne.startLineNumber,ne.intersectRanges(z)?j=J:U.push(J)}),j&&U.unshift(j),U}_getRangesToDelete(z){let W=z.getSelections();if(W===null)return[];let j=W,U=z.getModel();return U===null?[]:(j.sort(v.Range.compareRangesUsingStarts),j=j.map(Y=>{if(Y.isEmpty())if(Y.startColumn===1){let ne=Math.max(1,Y.startLineNumber-1),J=Y.startLineNumber===1?1:U.getLineContent(ne).length+1;return new v.Range(ne,J,Y.startLineNumber,1)}else return new v.Range(Y.startLineNumber,1,Y.startLineNumber,Y.startColumn);else return new v.Range(Y.startLineNumber,1,Y.endLineNumber,Y.endColumn)}),j)}}e.DeleteAllLeftAction=O;class k extends A{constructor(){super({id:"deleteAllRight",label:d.localize(20,null),alias:"Delete All Right",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|41,secondary:[2048|20]},weight:100}})}_getEndCursorState(z,W){let j=null,U=[];for(let Y=0,ne=W.length,J=0;Y<ne;Y++){let re=W[Y],ge=new i.Selection(re.startLineNumber-J,re.startColumn,re.startLineNumber-J,re.startColumn);re.intersectRanges(z)?j=ge:U.push(ge)}return j&&U.unshift(j),U}_getRangesToDelete(z){let W=z.getModel();if(W===null)return[];let j=z.getSelections();if(j===null)return[];let U=j.map(Y=>{if(Y.isEmpty()){const ne=W.getLineMaxColumn(Y.startLineNumber);return Y.startColumn===ne?new v.Range(Y.startLineNumber,Y.startColumn,Y.startLineNumber+1,1):new v.Range(Y.startLineNumber,Y.startColumn,Y.startLineNumber,ne)}return Y});return U.sort(v.Range.compareRangesUsingStarts),U}}e.DeleteAllRightAction=k;class V extends M.EditorAction{constructor(){super({id:"editor.action.joinLines",label:d.localize(21,null),alias:"Join Lines",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:0,mac:{primary:256|40},weight:100}})}run(z,W){let j=W.getSelections();if(j===null)return;let U=W.getSelection();if(U===null)return;j.sort(v.Range.compareRangesUsingStarts);let Y=[],ne=j.reduce(($,ie)=>$.isEmpty()?$.endLineNumber===ie.startLineNumber?(U.equalsSelection($)&&(U=ie),ie):ie.startLineNumber>$.endLineNumber+1?(Y.push($),ie):new i.Selection($.startLineNumber,$.startColumn,ie.endLineNumber,ie.endColumn):ie.startLineNumber>$.endLineNumber?(Y.push($),ie):new i.Selection($.startLineNumber,$.startColumn,ie.endLineNumber,ie.endColumn));Y.push(ne);let J=W.getModel();if(J===null)return;let re=[],ge=[],pe=U,oe=0;for(let $=0,ie=Y.length;$<ie;$++){let le=Y[$],de=le.startLineNumber,fe=1,he=0,se,ce,Se=J.getLineContent(le.endLineNumber).length-le.endColumn;if(le.isEmpty()||le.startLineNumber===le.endLineNumber){let we=le.getStartPosition();we.lineNumber<J.getLineCount()?(se=de+1,ce=J.getLineMaxColumn(se)):(se=we.lineNumber,ce=J.getLineMaxColumn(we.lineNumber))}else se=le.endLineNumber,ce=J.getLineMaxColumn(se);let Le=J.getLineContent(de);for(let we=de+1;we<=se;we++){let ae=J.getLineContent(we),me=J.getLineFirstNonWhitespaceColumn(we);if(me>=1){let Ie=!0;Le===""&&(Ie=!1),Ie&&(Le.charAt(Le.length-1)===" "||Le.charAt(Le.length-1)==="	")&&(Ie=!1,Le=Le.replace(/[\s\uFEFF\xA0]+$/g," "));let Fe=ae.substr(me-1);Le+=(Ie?" ":"")+Fe,Ie?he=Fe.length+1:he=Fe.length}else he=0}let ue=new v.Range(de,fe,se,ce);if(!ue.isEmpty()){let we;le.isEmpty()?(re.push(b.EditOperation.replace(ue,Le)),we=new i.Selection(ue.startLineNumber-oe,Le.length-he+1,de-oe,Le.length-he+1)):le.startLineNumber===le.endLineNumber?(re.push(b.EditOperation.replace(ue,Le)),we=new i.Selection(le.startLineNumber-oe,le.startColumn,le.endLineNumber-oe,le.endColumn)):(re.push(b.EditOperation.replace(ue,Le)),we=new i.Selection(le.startLineNumber-oe,le.startColumn,le.startLineNumber-oe,Le.length-Se)),v.Range.intersectRanges(ue,U)!==null?pe=we:ge.push(we)}oe+=ue.endLineNumber-ue.startLineNumber}ge.unshift(pe),W.pushUndoStop(),W.executeEdits(this.id,re,ge),W.pushUndoStop()}}e.JoinLinesAction=V;class B extends M.EditorAction{constructor(){super({id:"editor.action.transpose",label:d.localize(22,null),alias:"Transpose characters around the cursor",precondition:t.EditorContextKeys.writable})}run(z,W){let j=W.getSelections();if(j===null)return;let U=W.getModel();if(U===null)return;let Y=[];for(let ne=0,J=j.length;ne<J;ne++){let re=j[ne];if(!re.isEmpty())continue;let ge=re.getStartPosition(),pe=U.getLineMaxColumn(ge.lineNumber);if(ge.column>=pe){if(ge.lineNumber===U.getLineCount())continue;let oe=new v.Range(ge.lineNumber,Math.max(1,ge.column-1),ge.lineNumber+1,1),$=U.getValueInRange(oe).split("").reverse().join("");Y.push(new E.ReplaceCommand(new i.Selection(ge.lineNumber,Math.max(1,ge.column-1),ge.lineNumber+1,1),$))}else{let oe=new v.Range(ge.lineNumber,Math.max(1,ge.column-1),ge.lineNumber,ge.column+1),$=U.getValueInRange(oe).split("").reverse().join("");Y.push(new E.ReplaceCommandThatPreservesSelection(oe,$,new i.Selection(ge.lineNumber,ge.column+1,ge.lineNumber,ge.column+1)))}}W.pushUndoStop(),W.executeCommands(this.id,Y),W.pushUndoStop()}}e.TransposeAction=B;class x extends M.EditorAction{run(z,W){const j=W.getSelections();if(j===null)return;const U=W.getModel();if(U===null)return;const Y=W.getOption(116),ne=[];for(const J of j)if(J.isEmpty()){const re=J.getStartPosition(),ge=W.getConfiguredWordAtPosition(re);if(!ge)continue;const pe=new v.Range(re.lineNumber,ge.startColumn,re.lineNumber,ge.endColumn),oe=U.getValueInRange(pe);ne.push(b.EditOperation.replace(pe,this._modifyText(oe,Y)))}else{const re=U.getValueInRange(J);ne.push(b.EditOperation.replace(J,this._modifyText(re,Y)))}W.pushUndoStop(),W.executeEdits(this.id,ne),W.pushUndoStop()}}e.AbstractCaseAction=x;class K extends x{constructor(){super({id:"editor.action.transformToUppercase",label:d.localize(23,null),alias:"Transform to Uppercase",precondition:t.EditorContextKeys.writable})}_modifyText(z,W){return z.toLocaleUpperCase()}}e.UpperCaseAction=K;class X extends x{constructor(){super({id:"editor.action.transformToLowercase",label:d.localize(24,null),alias:"Transform to Lowercase",precondition:t.EditorContextKeys.writable})}_modifyText(z,W){return z.toLocaleLowerCase()}}e.LowerCaseAction=X;class Z{constructor(z,W){this._pattern=z,this._flags=W,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch(z){}}return this._actual}isSupported(){return this.get()!==null}}class q extends x{constructor(){super({id:"editor.action.transformToTitlecase",label:d.localize(25,null),alias:"Transform to Title Case",precondition:t.EditorContextKeys.writable})}_modifyText(z,W){const j=q.titleBoundary.get();return j?z.toLocaleLowerCase().replace(j,U=>U.toLocaleUpperCase()):z}}e.TitleCaseAction=q,q.titleBoundary=new Z("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class H extends x{constructor(){super({id:"editor.action.transformToSnakecase",label:d.localize(26,null),alias:"Transform to Snake Case",precondition:t.EditorContextKeys.writable})}_modifyText(z,W){const j=H.caseBoundary.get(),U=H.singleLetters.get();return!j||!U?z:z.replace(j,"$1_$2").replace(U,"$1_$2$3").toLocaleLowerCase()}}e.SnakeCaseAction=H,H.caseBoundary=new Z("(\\p{Ll})(\\p{Lu})","gmu"),H.singleLetters=new Z("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu"),(0,M.registerEditorAction)(r),(0,M.registerEditorAction)(s),(0,M.registerEditorAction)(o),(0,M.registerEditorAction)(_),(0,M.registerEditorAction)(f),(0,M.registerEditorAction)(C),(0,M.registerEditorAction)(y),(0,M.registerEditorAction)(w),(0,M.registerEditorAction)(D),(0,M.registerEditorAction)(I),(0,M.registerEditorAction)(T),(0,M.registerEditorAction)(F),(0,M.registerEditorAction)(P),(0,M.registerEditorAction)(R),(0,M.registerEditorAction)(O),(0,M.registerEditorAction)(k),(0,M.registerEditorAction)(V),(0,M.registerEditorAction)(B),(0,M.registerEditorAction)(K),(0,M.registerEditorAction)(X),H.caseBoundary.isSupported()&&H.singleLetters.isSupported()&&(0,M.registerEditorAction)(H),q.titleBoundary.isSupported()&&(0,M.registerEditorAction)(q)}),define(ee[718],te([0,1,19,10,21,28,12,2,8,22,16,30,13,3,25,31,18,40,536,17,24,14]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u,n,r,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorLinkedEditingBackground=e.LinkedEditingAction=e.LinkedEditingContribution=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=new r.RawContextKey("LinkedEditingInputVisible",!1);const m="linked-editing-decoration";let _=class ai extends S.Disposable{constructor(w,D){super();this._debounceDuration=200,this._localToDispose=this._register(new S.DisposableStore),this._editor=w,this._enabled=!1,this._visibleContextKey=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE.bindTo(D),this._currentDecorations=[],this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new S.DisposableStore),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(I=>{(I.hasChanged(61)||I.hasChanged(81))&&this.reinitialize(!1)})),this._register(d.LinkedEditingRangeProviderRegistry.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}static get(w){return w.getContribution(ai.ID)}reinitialize(w){const D=this._editor.getModel(),I=D!==null&&(this._editor.getOption(61)||this._editor.getOption(81))&&d.LinkedEditingRangeProviderRegistry.has(D);if(I===this._enabled&&!w||(this._enabled=I,this.clearRanges(),this._localToDispose.clear(),!I||D===null))return;this._languageWordPattern=u.LanguageConfigurationRegistry.getWordDefinition(D.getLanguageId()),this._localToDispose.add(D.onDidChangeLanguageConfiguration(()=>{this._languageWordPattern=u.LanguageConfigurationRegistry.getWordDefinition(D.getLanguageId())}));const T=new N.Delayer(this._debounceDuration),F=()=>{this._rangeUpdateTriggerPromise=T.trigger(()=>this.updateRanges(),this._debounceDuration)},P=new N.Delayer(0),R=A=>{this._rangeSyncTriggerPromise=P.trigger(()=>this._syncRanges(A))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{F()})),this._localToDispose.add(this._editor.onDidChangeModelContent(A=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const O=D.getDecorationRange(this._currentDecorations[0]);if(O&&A.changes.every(k=>O.intersectRanges(k.range))){R(this._currentDecorations);return}}F()})),this._localToDispose.add({dispose:()=>{T.cancel(),P.cancel()}}),this.updateRanges()}_syncRanges(w){if(!this._editor.hasModel()||w!==this._currentDecorations||w.length===0)return;const D=this._editor.getModel(),I=D.getDecorationRange(w[0]);if(!I||I.startLineNumber!==I.endLineNumber)return this.clearRanges();const T=D.getValueInRange(I);if(this._currentWordPattern){const P=T.match(this._currentWordPattern);if((P?P[0].length:0)!==T.length)return this.clearRanges()}let F=[];for(let P=1,R=w.length;P<R;P++){const A=D.getDecorationRange(w[P]);if(!!A)if(A.startLineNumber!==A.endLineNumber)F.push({range:A,text:T});else{let O=D.getValueInRange(A),k=T,V=A.startColumn,B=A.endColumn;const x=b.commonPrefixLength(O,k);V+=x,O=O.substr(x),k=k.substr(x);const K=b.commonSuffixLength(O,k);B-=K,O=O.substr(0,O.length-K),k=k.substr(0,k.length-K),(V!==B||k.length!==0)&&F.push({range:new a.Range(A.startLineNumber,V,A.endLineNumber,B),text:k})}}if(F.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const P=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",F),this._editor._getViewModel().setPrevEditOperationType(P)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,[]),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}get currentUpdateTriggerPromise(){return this._rangeUpdateTriggerPromise||Promise.resolve()}get currentSyncTriggerPromise(){return this._rangeSyncTriggerPromise||Promise.resolve()}updateRanges(w=!1){return Me(this,void 0,void 0,function*(){if(!this._editor.hasModel()){this.clearRanges();return}const D=this._editor.getPosition();if(!this._enabled&&!w||this._editor.getSelections().length>1){this.clearRanges();return}const I=this._editor.getModel(),T=I.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===T){if(D.equals(this._currentRequestPosition))return;if(this._currentDecorations&&this._currentDecorations.length>0){const P=I.getDecorationRange(this._currentDecorations[0]);if(P&&P.containsPosition(D))return}}this._currentRequestPosition=D,this._currentRequestModelVersion=T;const F=(0,N.createCancelablePromise)(P=>Me(this,void 0,void 0,function*(){try{const R=yield C(I,D,P);if(F!==this._currentRequest||(this._currentRequest=null,T!==I.getVersionId()))return;let A=[];(R==null?void 0:R.ranges)&&(A=R.ranges),this._currentWordPattern=(R==null?void 0:R.wordPattern)||this._languageWordPattern;let O=!1;for(let V=0,B=A.length;V<B;V++)if(a.Range.containsPosition(A[V],D)){if(O=!0,V!==0){const x=A[V];A.splice(V,1),A.unshift(x)}break}if(!O){this.clearRanges();return}const k=A.map(V=>({range:V,options:ai.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,k)}catch(R){(0,g.isPromiseCanceledError)(R)||(0,g.onUnexpectedError)(R),(this._currentRequest===F||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=F,F})}setDebounceDuration(w){this._debounceDuration=w}};_.ID="editor.contrib.linkedEditing",_.DECORATION=h.ModelDecorationOptions.register({description:"linked-editing",stickiness:0,className:m}),_=Ve([Ce(1,r.IContextKeyService)],_),e.LinkedEditingContribution=_;class f extends v.EditorAction{constructor(){super({id:"editor.action.linkedEditing",label:n.localize(0,null),alias:"Start Linked Editing",precondition:r.ContextKeyExpr.and(l.EditorContextKeys.writable,l.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,primary:2048|1024|60,weight:100}})}runCommand(w,D){const I=w.get(i.ICodeEditorService),[T,F]=Array.isArray(D)&&D||[void 0,void 0];return p.URI.isUri(T)&&t.Position.isIPosition(F)?I.openCodeEditor({resource:T},I.getActiveCodeEditor()).then(P=>{!P||(P.setPosition(F),P.invokeWithinContext(R=>(this.reportTelemetry(R,P),this.run(R,P))))},g.onUnexpectedError):super.runCommand(w,D)}run(w,D){const I=_.get(D);return I?Promise.resolve(I.updateRanges(!0)):Promise.resolve()}}e.LinkedEditingAction=f;const c=v.EditorCommand.bindToContribution(_.get);(0,v.registerEditorCommand)(new c({id:"cancelLinkedEditingInput",precondition:e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE,handler:y=>y.clearRanges(),kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,weight:100+99,primary:9,secondary:[1024|9]}}));function C(y,w,D){const I=d.LinkedEditingRangeProviderRegistry.ordered(y);return(0,N.first)(I.map(T=>()=>Me(this,void 0,void 0,function*(){try{return yield T.provideLinkedEditingRanges(y,w,D)}catch(F){(0,g.onUnexpectedExternalError)(F);return}})),T=>!!T&&L.isNonEmptyArray(T==null?void 0:T.ranges))}e.editorLinkedEditingBackground=(0,s.registerColor)("editor.linkedEditingBackground",{dark:E.Color.fromHex("#f00").transparent(.3),light:E.Color.fromHex("#f00").transparent(.3),hc:E.Color.fromHex("#f00").transparent(.3)},n.localize(1,null)),(0,o.registerThemingParticipant)((y,w)=>{const D=y.getColor(e.editorLinkedEditingBackground);D&&w.addRule(`.monaco-editor .${m} { background: ${D}; border-left-color: ${D}; }`)}),(0,v.registerModelAndPositionCommand)("_executeLinkedEditingProvider",(y,w)=>C(y,w,M.CancellationToken.None)),(0,v.registerEditorContribution)(_.ID,_),(0,v.registerEditorAction)(f)}),define(ee[719],te([0,1,10,21,12,73,2,42,15,33,22,16,31,18,246,592,537,41,54,24,14,380]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u,n,r,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkDetector=void 0;function o(C,y){const w=C.url&&/^command:/i.test(C.url.toString()),D=C.tooltip?C.tooltip:w?d.localize(0,null):d.localize(1,null),I=y?b.isMacintosh?d.localize(2,null):d.localize(3,null):b.isMacintosh?d.localize(4,null):d.localize(5,null);if(C.url){let T="";if(/^command:/i.test(C.url.toString())){const P=C.url.toString().match(/^command:([^?#]+)/);if(P){const R=P[1];T=` "${d.localize(6,null,R)}"`}}return new E.MarkdownString("",!0).appendMarkdown(`[${D}](${C.url.toString(!0).replace(/ /g,"%20")}${T}) (${I})`)}else return new E.MarkdownString().appendText(`${D} (${I})`)}const m={general:t.ModelDecorationOptions.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:t.ModelDecorationOptions.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class _{constructor(y,w){this.link=y,this.decorationId=w}static decoration(y,w){return{range:y.range,options:_._getOptions(y,w,!1)}}static _getOptions(y,w,D){const I=Object.assign({},D?m.active:m.general);return I.hoverMessage=o(y,w),I}activate(y,w){y.changeDecorationOptions(this.decorationId,_._getOptions(this.link,w,!0))}deactivate(y,w){y.changeDecorationOptions(this.decorationId,_._getOptions(this.link,w,!1))}}let f=class li{constructor(y,w,D){this.listenersToRemove=new g.DisposableStore,this.editor=y,this.openerService=w,this.notificationService=D;let I=new l.ClickLinkGesture(y);this.listenersToRemove.add(I),this.listenersToRemove.add(I.onMouseMoveOrRelevantKeyDown(([T,F])=>{this._onEditorMouseMove(T,F)})),this.listenersToRemove.add(I.onExecute(T=>{this.onEditorMouseUp(T)})),this.listenersToRemove.add(I.onCancel(T=>{this.cleanUpActiveLinkDecoration()})),this.enabled=y.getOption(62),this.listenersToRemove.add(y.onDidChangeConfiguration(T=>{const F=y.getOption(62);this.enabled!==F&&(this.enabled=F,this.updateDecorations([]),this.stop(),this.beginCompute())})),this.listenersToRemove.add(y.onDidChangeModelContent(T=>this.onChange())),this.listenersToRemove.add(y.onDidChangeModel(T=>this.onModelChanged())),this.listenersToRemove.add(y.onDidChangeModelLanguage(T=>this.onModelModeChanged())),this.listenersToRemove.add(a.LinkProviderRegistry.onDidChange(T=>this.onModelModeChanged())),this.timeout=new L.TimeoutTimer,this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null,this.beginCompute()}static get(y){return y.getContribution(li.ID)}onModelChanged(){this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()}onModelModeChanged(){this.stop(),this.beginCompute()}onChange(){this.timeout.setIfNotSet(()=>this.beginCompute(),li.RECOMPUTE_TIME)}beginCompute(){return Me(this,void 0,void 0,function*(){if(!this.editor.hasModel()||!this.enabled)return;const y=this.editor.getModel();if(!!a.LinkProviderRegistry.has(y)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=L.createCancelablePromise(w=>(0,h.getLinks)(y,w));try{this.activeLinksList=yield this.computePromise,this.updateDecorations(this.activeLinksList.links)}catch(w){(0,M.onUnexpectedError)(w)}finally{this.computePromise=null}}})}updateDecorations(y){const w=this.editor.getOption(69)==="altKey";let D=[],I=Object.keys(this.currentOccurrences);for(let P=0,R=I.length;P<R;P++){let A=I[P],O=this.currentOccurrences[A];D.push(O.decorationId)}let T=[];if(y)for(const P of y)T.push(_.decoration(P,w));let F=this.editor.deltaDecorations(D,T);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let P=0,R=F.length;P<R;P++){let A=new _(y[P],F[P]);this.currentOccurrences[A.decorationId]=A}}_onEditorMouseMove(y,w){const D=this.editor.getOption(69)==="altKey";if(this.isEnabled(y,w)){this.cleanUpActiveLinkDecoration();const I=this.getLinkOccurrence(y.target.position);I&&this.editor.changeDecorations(T=>{I.activate(T,D),this.activeLinkDecorationId=I.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const y=this.editor.getOption(69)==="altKey";if(this.activeLinkDecorationId){const w=this.currentOccurrences[this.activeLinkDecorationId];w&&this.editor.changeDecorations(D=>{w.deactivate(D,y)}),this.activeLinkDecorationId=null}}onEditorMouseUp(y){if(!this.isEnabled(y))return;const w=this.getLinkOccurrence(y.target.position);!w||this.openLinkOccurrence(w,y.hasSideBySideModifier,!0)}openLinkOccurrence(y,w,D=!1){if(!this.openerService)return;const{link:I}=y;I.resolve(N.CancellationToken.None).then(T=>{if(typeof T=="string"&&this.editor.hasModel()){const F=this.editor.getModel().uri;if(F.scheme===S.Schemas.file&&T.startsWith(`${S.Schemas.file}:`)){const P=v.URI.parse(T);if(P.scheme===S.Schemas.file){const R=p.originalFSPath(P);let A=null;R.startsWith("/./")?A=`.${R.substr(1)}`:R.startsWith("//./")&&(A=`.${R.substr(2)}`),A&&(T=p.joinPath(F,A))}}}return this.openerService.open(T,{openToSide:w,fromUserGesture:D,allowContributedOpeners:!0,allowCommands:!0})},T=>{const F=T instanceof Error?T.message:T;F==="invalid"?this.notificationService.warn(d.localize(7,null,I.url.toString())):F==="missing"?this.notificationService.warn(d.localize(8,null)):(0,M.onUnexpectedError)(T)})}getLinkOccurrence(y){if(!this.editor.hasModel()||!y)return null;const w=this.editor.getModel().getDecorationsInRange({startLineNumber:y.lineNumber,startColumn:y.column,endLineNumber:y.lineNumber,endColumn:y.column},0,!0);for(const D of w){const I=this.currentOccurrences[D.id];if(I)return I}return null}isEnabled(y,w){return Boolean(y.target.type===6&&(y.hasTriggerModifier||w&&w.keyCodeIsTriggerKey))}stop(){var y;this.timeout.cancel(),this.activeLinksList&&((y=this.activeLinksList)===null||y===void 0||y.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){this.listenersToRemove.dispose(),this.stop(),this.timeout.dispose()}};f.ID="editor.linkDetector",f.RECOMPUTE_TIME=1e3,f=Ve([Ce(1,n.IOpenerService),Ce(2,u.INotificationService)],f),e.LinkDetector=f;class c extends i.EditorAction{constructor(){super({id:"editor.action.openLink",label:d.localize(9,null),alias:"Open Link",precondition:void 0})}run(y,w){let D=f.get(w);if(!D||!w.hasModel())return;let I=w.getSelections();for(let T of I){let F=D.getLinkOccurrence(T.getEndPosition());F&&D.openLinkOccurrence(F,!1)}}}(0,i.registerEditorContribution)(f.ID,f),(0,i.registerEditorAction)(c),(0,s.registerThemingParticipant)((C,y)=>{const w=C.getColor(r.editorActiveLinkForeground);w&&y.addRule(`.monaco-editor .detected-link-active { color: ${w} !important; }`)})}),define(ee[720],te([0,1,45,10,56,2,16,202,3,23,25,49,31,18,293,539,38,17,24,14]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionHighlighter=e.CompatChangeAll=e.SelectHighlightsAction=e.MoveSelectionToPreviousFindMatchAction=e.MoveSelectionToNextFindMatchAction=e.AddSelectionToPreviousFindMatchAction=e.AddSelectionToNextFindMatchAction=e.MultiCursorSelectionControllerAction=e.MultiCursorSelectionController=e.MultiCursorSession=e.MultiCursorSessionResult=e.InsertCursorBelow=e.InsertCursorAbove=void 0;function s(x,K){const X=K.filter(Z=>!x.find(q=>q.equals(Z)));if(X.length>=1){const Z=X.map(H=>`line ${H.viewState.position.lineNumber} column ${H.viewState.position.column}`).join(", "),q=X.length===1?h.localize(0,null,Z):h.localize(1,null,Z);(0,L.status)(q)}}class o extends g.EditorAction{constructor(){super({id:"editor.action.insertCursorAbove",label:h.localize(2,null),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:2048|512|16,linux:{primary:1024|512|16,secondary:[2048|1024|16]},weight:100},menuOpts:{menuId:d.MenuId.MenubarSelectionMenu,group:"3_multi",title:h.localize(3,null),order:2}})}run(K,X,Z){if(!X.hasModel())return;let q=!0;Z&&Z.logicalLine===!1&&(q=!1);const H=X._getViewModel();if(H.cursorConfig.readOnly)return;H.pushStackElement();const G=H.getCursorStates();H.setCursorStates(Z.source,3,S.CursorMoveCommands.addCursorUp(H,G,q)),H.revealTopMostCursor(Z.source),s(G,H.getCursorStates())}}e.InsertCursorAbove=o;class m extends g.EditorAction{constructor(){super({id:"editor.action.insertCursorBelow",label:h.localize(4,null),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:2048|512|18,linux:{primary:1024|512|18,secondary:[2048|1024|18]},weight:100},menuOpts:{menuId:d.MenuId.MenubarSelectionMenu,group:"3_multi",title:h.localize(5,null),order:3}})}run(K,X,Z){if(!X.hasModel())return;let q=!0;Z&&Z.logicalLine===!1&&(q=!1);const H=X._getViewModel();if(H.cursorConfig.readOnly)return;H.pushStackElement();const G=H.getCursorStates();H.setCursorStates(Z.source,3,S.CursorMoveCommands.addCursorDown(H,G,q)),H.revealBottomMostCursor(Z.source),s(G,H.getCursorStates())}}e.InsertCursorBelow=m;class _ extends g.EditorAction{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:h.localize(6,null),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:1024|512|39,weight:100},menuOpts:{menuId:d.MenuId.MenubarSelectionMenu,group:"3_multi",title:h.localize(7,null),order:4}})}getCursorsForSelection(K,X,Z){if(!K.isEmpty()){for(let q=K.startLineNumber;q<K.endLineNumber;q++){let H=X.getLineMaxColumn(q);Z.push(new p.Selection(q,H,q,H))}K.endColumn>1&&Z.push(new p.Selection(K.endLineNumber,K.endColumn,K.endLineNumber,K.endColumn))}}run(K,X){if(!X.hasModel())return;const Z=X.getModel(),q=X.getSelections(),H=X._getViewModel(),G=H.getCursorStates();let z=[];q.forEach(W=>this.getCursorsForSelection(W,Z,z)),z.length>0&&X.setSelections(z),s(G,H.getCursorStates())}}class f extends g.EditorAction{constructor(){super({id:"editor.action.addCursorsToBottom",label:h.localize(8,null),alias:"Add Cursors To Bottom",precondition:void 0})}run(K,X){if(!X.hasModel())return;const Z=X.getSelections(),q=X.getModel().getLineCount();let H=[];for(let W=Z[0].startLineNumber;W<=q;W++)H.push(new p.Selection(W,Z[0].startColumn,W,Z[0].endColumn));const G=X._getViewModel(),z=G.getCursorStates();H.length>0&&X.setSelections(H),s(z,G.getCursorStates())}}class c extends g.EditorAction{constructor(){super({id:"editor.action.addCursorsToTop",label:h.localize(9,null),alias:"Add Cursors To Top",precondition:void 0})}run(K,X){if(!X.hasModel())return;const Z=X.getSelections();let q=[];for(let z=Z[0].startLineNumber;z>=1;z--)q.push(new p.Selection(z,Z[0].startColumn,z,Z[0].endColumn));const H=X._getViewModel(),G=H.getCursorStates();q.length>0&&X.setSelections(q),s(G,H.getCursorStates())}}class C{constructor(K,X,Z){this.selections=K,this.revealRange=X,this.revealScrollType=Z}}e.MultiCursorSessionResult=C;class y{constructor(K,X,Z,q,H,G,z){this._editor=K,this.findController=X,this.isDisconnectedFromFindController=Z,this.searchText=q,this.wholeWord=H,this.matchCase=G,this.currentMatch=z}static create(K,X){if(!K.hasModel())return null;const Z=X.getState();if(!K.hasTextFocus()&&Z.isRevealed&&Z.searchString.length>0)return new y(K,X,!1,Z.searchString,Z.wholeWord,Z.matchCase,null);let q=!1,H,G;const z=K.getSelections();z.length===1&&z[0].isEmpty()?(q=!0,H=!0,G=!0):(H=Z.wholeWord,G=Z.matchCase);const W=K.getSelection();let j,U=null;if(W.isEmpty()){const Y=K.getConfiguredWordAtPosition(W.getStartPosition());if(!Y)return null;j=Y.word,U=new p.Selection(W.startLineNumber,Y.startColumn,W.startLineNumber,Y.endColumn)}else j=K.getModel().getValueInRange(W).replace(/\r\n/g,`
`);return new y(K,X,q,j,H,G,U)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const K=this._getNextMatch();if(!K)return null;const X=this._editor.getSelections();return new C(X.concat(K),K,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const K=this._getNextMatch();if(!K)return null;const X=this._editor.getSelections();return new C(X.slice(0,X.length-1).concat(K),K,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const q=this.currentMatch;return this.currentMatch=null,q}this.findController.highlightFindOptions();const K=this._editor.getSelections(),X=K[K.length-1],Z=this._editor.getModel().findNextMatch(this.searchText,X.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(116):null,!1);return Z?new p.Selection(Z.range.startLineNumber,Z.range.startColumn,Z.range.endLineNumber,Z.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const K=this._getPreviousMatch();if(!K)return null;const X=this._editor.getSelections();return new C(X.concat(K),K,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const K=this._getPreviousMatch();if(!K)return null;const X=this._editor.getSelections();return new C(X.slice(0,X.length-1).concat(K),K,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const q=this.currentMatch;return this.currentMatch=null,q}this.findController.highlightFindOptions();const K=this._editor.getSelections(),X=K[K.length-1],Z=this._editor.getModel().findPreviousMatch(this.searchText,X.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(116):null,!1);return Z?new p.Selection(Z.range.startLineNumber,Z.range.startColumn,Z.range.endLineNumber,Z.range.endColumn):null}selectAll(){return this._editor.hasModel()?(this.findController.highlightFindOptions(),this._editor.getModel().findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(116):null,!1,1073741824)):[]}}e.MultiCursorSession=y;class w extends E.Disposable{constructor(K){super();this._sessionDispose=this._register(new E.DisposableStore),this._editor=K,this._ignoreSelectionChange=!1,this._session=null}static get(K){return K.getContribution(w.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(K){if(!this._session){const X=y.create(this._editor,K);if(!X)return;this._session=X;const Z={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(Z.wholeWordOverride=1,Z.matchCaseOverride=1,Z.isRegexOverride=2),K.getState().change(Z,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(q=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(K.getState().onFindReplaceStateChange(q=>{(q.matchCase||q.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const K={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(K,!1)}this._session=null}_setSelections(K){this._ignoreSelectionChange=!0,this._editor.setSelections(K),this._ignoreSelectionChange=!1}_expandEmptyToWord(K,X){if(!X.isEmpty())return X;const Z=this._editor.getConfiguredWordAtPosition(X.getStartPosition());return Z?new p.Selection(X.startLineNumber,Z.startColumn,X.startLineNumber,Z.endColumn):X}_applySessionResult(K){!K||(this._setSelections(K.selections),K.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(K.revealRange,K.revealScrollType))}getSession(K){return this._session}addSelectionToNextFindMatch(K){if(!!this._editor.hasModel()){if(!this._session){const X=this._editor.getSelections();if(X.length>1){const q=K.getState().matchCase;if(!V(this._editor.getModel(),X,q)){const G=this._editor.getModel();let z=[];for(let W=0,j=X.length;W<j;W++)z[W]=this._expandEmptyToWord(G,X[W]);this._editor.setSelections(z);return}}}this._beginSessionIfNeeded(K),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(K){this._beginSessionIfNeeded(K),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(K){this._beginSessionIfNeeded(K),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(K){this._beginSessionIfNeeded(K),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(K){if(!this._editor.hasModel())return;let X=null;const Z=K.getState();if(Z.isRevealed&&Z.searchString.length>0&&Z.isRegex)X=this._editor.getModel().findMatches(Z.searchString,!0,Z.isRegex,Z.matchCase,Z.wholeWord?this._editor.getOption(116):null,!1,1073741824);else{if(this._beginSessionIfNeeded(K),!this._session)return;X=this._session.selectAll()}if(Z.searchScope){const q=Z.searchScope;let H=[];X.forEach(G=>{q.forEach(z=>{G.range.endLineNumber<=z.endLineNumber&&G.range.startLineNumber>=z.startLineNumber&&H.push(G)})}),X=H}if(X.length>0){const q=this._editor.getSelection();for(let H=0,G=X.length;H<G;H++){const z=X[H];if(z.range.intersectRanges(q)){X[H]=X[0],X[0]=z;break}}this._setSelections(X.map(H=>new p.Selection(H.range.startLineNumber,H.range.startColumn,H.range.endLineNumber,H.range.endColumn)))}}selectAllUsingSelections(K){K.length>0&&this._setSelections(K)}}e.MultiCursorSelectionController=w,w.ID="editor.contrib.multiCursorController";class D extends g.EditorAction{run(K,X){const Z=w.get(X);if(!Z)return;const q=l.CommonFindController.get(X);if(!q)return;const H=X._getViewModel();if(H){const G=H.getCursorStates();this._run(Z,q),s(G,H.getCursorStates())}}}e.MultiCursorSelectionControllerAction=D;class I extends D{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:h.localize(10,null),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:2048|34,weight:100},menuOpts:{menuId:d.MenuId.MenubarSelectionMenu,group:"3_multi",title:h.localize(11,null),order:5}})}_run(K,X){K.addSelectionToNextFindMatch(X)}}e.AddSelectionToNextFindMatchAction=I;class T extends D{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:h.localize(12,null),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:d.MenuId.MenubarSelectionMenu,group:"3_multi",title:h.localize(13,null),order:6}})}_run(K,X){K.addSelectionToPreviousFindMatch(X)}}e.AddSelectionToPreviousFindMatchAction=T;class F extends D{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:h.localize(14,null),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:(0,M.KeyChord)(2048|41,2048|34),weight:100}})}_run(K,X){K.moveSelectionToNextFindMatch(X)}}e.MoveSelectionToNextFindMatchAction=F;class P extends D{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:h.localize(15,null),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(K,X){K.moveSelectionToPreviousFindMatch(X)}}e.MoveSelectionToPreviousFindMatchAction=P;class R extends D{constructor(){super({id:"editor.action.selectHighlights",label:h.localize(16,null),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:2048|1024|42,weight:100},menuOpts:{menuId:d.MenuId.MenubarSelectionMenu,group:"3_multi",title:h.localize(17,null),order:7}})}_run(K,X){K.selectAll(X)}}e.SelectHighlightsAction=R;class A extends D{constructor(){super({id:"editor.action.changeAll",label:h.localize(18,null),alias:"Change All Occurrences",precondition:u.ContextKeyExpr.and(v.EditorContextKeys.writable,v.EditorContextKeys.editorTextFocus),kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:2048|60,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(K,X){K.selectAll(X)}}e.CompatChangeAll=A;class O{constructor(K,X,Z,q,H){this._model=K,this._searchText=X,this._matchCase=Z,this._wordSeparators=q,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,H&&this._model===H._model&&this._searchText===H._searchText&&this._matchCase===H._matchCase&&this._wordSeparators===H._wordSeparators&&this._modelVersionId===H._modelVersionId&&(this._cachedFindMatches=H._cachedFindMatches)}findMatches(){return this._cachedFindMatches===null&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(K=>K.range),this._cachedFindMatches.sort(b.Range.compareRangesUsingStarts)),this._cachedFindMatches}}class k extends E.Disposable{constructor(K){super();this.editor=K,this._isEnabled=K.getOption(96),this.decorations=[],this.updateSoon=this._register(new N.RunOnceScheduler(()=>this._update(),300)),this.state=null,this._register(K.onDidChangeConfiguration(X=>{this._isEnabled=K.getOption(96)})),this._register(K.onDidChangeCursorSelection(X=>{!this._isEnabled||(X.selection.isEmpty()?X.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(K.onDidChangeModel(X=>{this._setState(null)})),this._register(K.onDidChangeModelContent(X=>{this._isEnabled&&this.updateSoon.schedule()})),this._register(l.CommonFindController.get(K).getState().onFindReplaceStateChange(X=>{this._update()}))}_update(){this._setState(k._createState(this.state,this._isEnabled,this.editor))}static _createState(K,X,Z){if(!X||!Z.hasModel())return null;const q=Z.getSelection();if(q.startLineNumber!==q.endLineNumber)return null;const H=w.get(Z);if(!H)return null;const G=l.CommonFindController.get(Z);if(!G)return null;let z=H.getSession(G);if(!z){const U=Z.getSelections();if(U.length>1){const ne=G.getState().matchCase;if(!V(Z.getModel(),U,ne))return null}z=y.create(Z,G)}if(!z||z.currentMatch||/^[ \t]+$/.test(z.searchText)||z.searchText.length>200)return null;const W=G.getState(),j=W.matchCase;if(W.isRevealed){let U=W.searchString;j||(U=U.toLowerCase());let Y=z.searchText;if(j||(Y=Y.toLowerCase()),U===Y&&z.matchCase===W.matchCase&&z.wholeWord===W.wholeWord&&!W.isRegex)return null}return new O(Z.getModel(),z.searchText,z.matchCase,z.wholeWord?Z.getOption(116):null,K)}_setState(K){if(this.state=K,!this.state){this.decorations=this.editor.deltaDecorations(this.decorations,[]);return}if(!this.editor.hasModel())return;const X=this.editor.getModel();if(X.isTooLargeForTokenization())return;const Z=this.state.findMatches(),q=this.editor.getSelections();q.sort(b.Range.compareRangesUsingStarts);const H=[];for(let W=0,j=0,U=Z.length,Y=q.length;W<U;){const ne=Z[W];if(j>=Y)H.push(ne),W++;else{const J=b.Range.compareRangesUsingStarts(ne,q[j]);J<0?((q[j].isEmpty()||!b.Range.areIntersecting(ne,q[j]))&&H.push(ne),W++):(J>0||W++,j++)}}const G=a.DocumentHighlightProviderRegistry.has(X)&&this.editor.getOption(71),z=H.map(W=>({range:W,options:G?k._SELECTION_HIGHLIGHT:k._SELECTION_HIGHLIGHT_OVERVIEW}));this.decorations=this.editor.deltaDecorations(this.decorations,z)}dispose(){this._setState(null),super.dispose()}}e.SelectionHighlighter=k,k.ID="editor.contrib.selectionHighlighter",k._SELECTION_HIGHLIGHT_OVERVIEW=t.ModelDecorationOptions.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",minimap:{color:(0,r.themeColorFromId)(n.minimapSelectionOccurrenceHighlight),position:i.MinimapPosition.Inline},overviewRuler:{color:(0,r.themeColorFromId)(n.overviewRulerSelectionHighlightForeground),position:i.OverviewRulerLane.Center}}),k._SELECTION_HIGHLIGHT=t.ModelDecorationOptions.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"});function V(x,K,X){const Z=B(x,K[0],!X);for(let q=1,H=K.length;q<H;q++){const G=K[q];if(G.isEmpty())return!1;const z=B(x,G,!X);if(Z!==z)return!1}return!0}function B(x,K,X){const Z=x.getValueInRange(K);return X?Z.toLowerCase():Z}(0,g.registerEditorContribution)(w.ID,w),(0,g.registerEditorContribution)(k.ID,k),(0,g.registerEditorAction)(o),(0,g.registerEditorAction)(m),(0,g.registerEditorAction)(_),(0,g.registerEditorAction)(I),(0,g.registerEditorAction)(T),(0,g.registerEditorAction)(F),(0,g.registerEditorAction)(P),(0,g.registerEditorAction)(R),(0,g.registerEditorAction)(A),(0,g.registerEditorAction)(f),(0,g.registerEditorAction)(c)}),define(ee[721],te([0,1,7,100,10,12,4,2,109,8,165,672,552,17,9,78,24,130,14,253,94,275,683,141,386,281]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u,n,r,s,o,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestContentWidget=e.SuggestWidget=e.editorSuggestWidgetStatusForeground=e.editorSuggestWidgetHighlightFocusForeground=e.editorSuggestWidgetHighlightForeground=e.editorSuggestWidgetSelectedBackground=e.editorSuggestWidgetSelectedIconForeground=e.editorSuggestWidgetSelectedForeground=e.editorSuggestWidgetForeground=e.editorSuggestWidgetBorder=e.editorSuggestWidgetBackground=void 0,e.editorSuggestWidgetBackground=(0,d.registerColor)("editorSuggestWidget.background",{dark:d.editorWidgetBackground,light:d.editorWidgetBackground,hc:d.editorWidgetBackground},t.localize(0,null)),e.editorSuggestWidgetBorder=(0,d.registerColor)("editorSuggestWidget.border",{dark:d.editorWidgetBorder,light:d.editorWidgetBorder,hc:d.editorWidgetBorder},t.localize(1,null)),e.editorSuggestWidgetForeground=(0,d.registerColor)("editorSuggestWidget.foreground",{dark:d.editorForeground,light:d.editorForeground,hc:d.editorForeground},t.localize(2,null)),e.editorSuggestWidgetSelectedForeground=(0,d.registerColor)("editorSuggestWidget.selectedForeground",{dark:d.quickInputListFocusForeground,light:d.quickInputListFocusForeground,hc:d.quickInputListFocusForeground},t.localize(3,null)),e.editorSuggestWidgetSelectedIconForeground=(0,d.registerColor)("editorSuggestWidget.selectedIconForeground",{dark:d.quickInputListFocusIconForeground,light:d.quickInputListFocusIconForeground,hc:d.quickInputListFocusIconForeground},t.localize(4,null)),e.editorSuggestWidgetSelectedBackground=(0,d.registerColor)("editorSuggestWidget.selectedBackground",{dark:d.quickInputListFocusBackground,light:d.quickInputListFocusBackground,hc:d.quickInputListFocusBackground},t.localize(5,null)),e.editorSuggestWidgetHighlightForeground=(0,d.registerColor)("editorSuggestWidget.highlightForeground",{dark:d.listHighlightForeground,light:d.listHighlightForeground,hc:d.listHighlightForeground},t.localize(6,null)),e.editorSuggestWidgetHighlightFocusForeground=(0,d.registerColor)("editorSuggestWidget.focusHighlightForeground",{dark:d.listFocusHighlightForeground,light:d.listFocusHighlightForeground,hc:d.listFocusHighlightForeground},t.localize(7,null)),e.editorSuggestWidgetStatusForeground=(0,d.registerColor)("editorSuggestWidgetStatus.foreground",{dark:(0,d.transparent)(e.editorSuggestWidgetForeground,.5),light:(0,d.transparent)(e.editorSuggestWidgetForeground,.5),hc:(0,d.transparent)(e.editorSuggestWidgetForeground,.5)},t.localize(8,null));class _{constructor(y,w){this._service=y,this._key=`suggestWidget.size/${w.getEditorType()}/${w instanceof v.EmbeddedCodeEditorWidget}`}restore(){var y;const w=(y=this._service.get(this._key,0))!==null&&y!==void 0?y:"";try{const D=JSON.parse(w);if(L.Dimension.is(D))return L.Dimension.lift(D)}catch(D){}}store(y){this._service.store(this._key,JSON.stringify(y),0,1)}reset(){this._service.remove(this._key,0)}}let f=class di{constructor(y,w,D,I,T){this.editor=y,this._storageService=w,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new M.TimeoutTimer,this._disposables=new S.DisposableStore,this._onDidSelect=new g.Emitter,this._onDidFocus=new g.Emitter,this._onDidHide=new g.Emitter,this._onDidShow=new g.Emitter,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new g.Emitter,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new r.ResizableHTMLElement,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new c(this,y),this._persistedSize=new _(w,y);class F{constructor(B,x,K=!1,X=!1){this.persistedSize=B,this.currentSize=x,this.persistHeight=K,this.persistWidth=X}}let P;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),P=new F(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(V=>{var B,x,K,X;if(this._resize(V.dimension.width,V.dimension.height),P&&(P.persistHeight=P.persistHeight||!!V.north||!!V.south,P.persistWidth=P.persistWidth||!!V.east||!!V.west),!!V.done){if(P){const{itemHeight:Z,defaultSize:q}=this.getLayoutInfo(),H=Math.round(Z/2);let{width:G,height:z}=this.element.size;(!P.persistHeight||Math.abs(P.currentSize.height-z)<=H)&&(z=(x=(B=P.persistedSize)===null||B===void 0?void 0:B.height)!==null&&x!==void 0?x:q.height),(!P.persistWidth||Math.abs(P.currentSize.width-G)<=H)&&(G=(X=(K=P.persistedSize)===null||K===void 0?void 0:K.width)!==null&&X!==void 0?X:q.width),this._persistedSize.store(new L.Dimension(G,z))}this._contentWidget.unlockPreference(),P=void 0}})),this._messageElement=L.append(this.element.domNode,L.$(".message")),this._listElement=L.append(this.element.domNode,L.$(".tree"));const R=T.createInstance(o.SuggestDetailsWidget,this.editor);R.onDidClose(this.toggleDetails,this,this._disposables),this._details=new o.SuggestDetailsOverlay(R,this.editor);const A=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(105).showIcons);A();const O=T.createInstance(m.ItemRenderer,this.editor);this._disposables.add(O),this._disposables.add(O.onDidToggleDetails(()=>this.toggleDetails())),this._list=new N.List("SuggestWidget",this._listElement,{getHeight:V=>this.getLayoutInfo().itemHeight,getTemplateId:V=>"suggestion"},[O],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,accessibilityProvider:{getRole:()=>"option",getAriaLabel:V=>{if(V.isResolved&&this._isDetailsVisible()){const{documentation:B,detail:x}=V.completion,K=p.format("{0}{1}",x||"",B?typeof B=="string"?B:B.value:"");return t.localize(11,null,V.textLabel,K)}else return V.textLabel},getWidgetAriaLabel:()=>t.localize(12,null),getWidgetRole:()=>"listbox"}}),this._status=T.createInstance(i.SuggestWidgetStatus,this.element.domNode);const k=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(105).showStatusBar);k(),this._disposables.add((0,u.attachListStyler)(this._list,I,{listInactiveFocusBackground:e.editorSuggestWidgetSelectedBackground,listInactiveFocusOutline:d.activeContrastBorder})),this._disposables.add(I.onDidColorThemeChange(V=>this._onThemeChange(V))),this._onThemeChange(I.getColorTheme()),this._disposables.add(this._list.onMouseDown(V=>this._onListMouseDownOrTap(V))),this._disposables.add(this._list.onTap(V=>this._onListMouseDownOrTap(V))),this._disposables.add(this._list.onDidChangeSelection(V=>this._onListSelection(V))),this._disposables.add(this._list.onDidChangeFocus(V=>this._onListFocus(V))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(V=>{V.hasChanged(105)&&(k(),A())})),this._ctxSuggestWidgetVisible=s.Context.Visible.bindTo(D),this._ctxSuggestWidgetDetailsVisible=s.Context.DetailsVisible.bindTo(D),this._ctxSuggestWidgetMultipleSuggestions=s.Context.MultipleSuggestions.bindTo(D),this._disposables.add(L.addStandardDisposableListener(this._details.widget.domNode,"keydown",V=>{this._onDetailsKeydown.fire(V)})),this._disposables.add(this.editor.onMouseDown(V=>this._onEditorMouseDown(V)))}dispose(){var y;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(y=this._loadingTimeout)===null||y===void 0||y.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(y){this._details.widget.domNode.contains(y.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(y.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(y){typeof y.element=="undefined"||typeof y.index=="undefined"||(y.browserEvent.preventDefault(),y.browserEvent.stopPropagation(),this._select(y.element,y.index))}_onListSelection(y){y.elements.length&&this._select(y.elements[0],y.indexes[0])}_select(y,w){const D=this._completionModel;D&&(this._onDidSelect.fire({item:y,index:w,model:D}),this.editor.focus())}_onThemeChange(y){this._details.widget.borderWidth=y.type==="hc"?2:1}_onListFocus(y){var w;if(this._ignoreFocusEvents)return;if(!y.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0});return}if(!this._completionModel)return;const D=y.elements[0],I=y.indexes[0];D!==this._focusedItem&&((w=this._currentSuggestionDetails)===null||w===void 0||w.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=D,this._list.reveal(I),this._currentSuggestionDetails=(0,M.createCancelablePromise)(T=>Me(this,void 0,void 0,function*(){const F=(0,M.disposableTimeout)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250);T.onCancellationRequested(()=>F.dispose());const P=yield D.resolve(T);return F.dispose(),P})),this._currentSuggestionDetails.then(()=>{I>=this._list.length||D!==this._list.element(I)||(this._ignoreFocusEvents=!0,this._list.splice(I,1,[D]),this._list.setFocus([I]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:(0,m.getAriaId)(I)}))}).catch(E.onUnexpectedError)),this._onDidFocus.fire({item:D,index:I,model:this._completionModel})}_setState(y){if(this._state!==y)switch(this._state=y,this.element.domNode.classList.toggle("frozen",y===4),this.element.domNode.classList.remove("message"),y){case 0:L.hide(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=di.LOADING_MESSAGE,L.hide(this._listElement,this._status.element),L.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=di.NO_SUGGESTIONS_MESSAGE,L.hide(this._listElement,this._status.element),L.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:L.hide(this._messageElement),L.show(this._listElement,this._status.element),this._show();break;case 4:L.hide(this._messageElement),L.show(this._listElement,this._status.element),this._show();break;case 5:L.hide(this._messageElement),L.show(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(y,w){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!y,this._isAuto||(this._loadingTimeout=(0,M.disposableTimeout)(()=>this._setState(1),w)))}showSuggestions(y,w,D,I){var T,F;if(this._contentWidget.setPosition(this.editor.getPosition()),(T=this._loadingTimeout)===null||T===void 0||T.dispose(),(F=this._currentSuggestionDetails)===null||F===void 0||F.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==y&&(this._completionModel=y),D&&this._state!==2&&this._state!==0){this._setState(4);return}const P=this._completionModel.items.length,R=P===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(P>1),R){this._setState(I?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(D?4:3),this._list.reveal(w,0),this._list.setFocus([w]),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):((0,o.canExpandCompletionItem)(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(y){this._details.show(),y?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var y;(y=this._loadingTimeout)===null||y===void 0||y.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const w=this._persistedSize.restore(),D=Math.ceil(this.getLayoutInfo().itemHeight*4.3);w&&w.height<D&&this._persistedSize.store(w.with(void 0,D))}isFrozen(){return this._state===4}_afterRender(y){if(y===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}_layout(y){var w,D,I;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const T=L.getClientArea(document.body),F=this.getLayoutInfo();y||(y=F.defaultSize);let P=y.height,R=y.width;if(this._status.element.style.lineHeight=`${F.itemHeight}px`,this._state===2||this._state===1)P=F.itemHeight+F.borderHeight,R=F.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new L.Dimension(R,P),this._contentWidget.setPreference(2);else{const A=T.width-F.borderHeight-2*F.horizontalPadding;R>A&&(R=A);const O=this._completionModel?this._completionModel.stats.pLabelLen*F.typicalHalfwidthCharacterWidth:R,k=F.statusBarHeight+this._list.contentHeight+F.borderHeight,V=F.itemHeight+F.statusBarHeight,B=L.getDomNodePagePosition(this.editor.getDomNode()),x=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),K=B.top+x.top+x.height,X=Math.min(T.height-K-F.verticalPadding,k),Z=B.top+x.top-F.verticalPadding,q=Math.min(Z,k);let H=Math.min(Math.max(q,X)+F.borderHeight,k);P===((w=this._cappedHeight)===null||w===void 0?void 0:w.capped)&&(P=this._cappedHeight.wanted),P<V&&(P=V),P>H&&(P=H);const G=150;P>X||this._forceRenderingAbove&&Z>G?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),H=q):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),H=X),this.element.preferredSize=new L.Dimension(O,F.defaultSize.height),this.element.maxSize=new L.Dimension(A,H),this.element.minSize=new L.Dimension(220,V),this._cappedHeight=P===k?{wanted:(I=(D=this._cappedHeight)===null||D===void 0?void 0:D.wanted)!==null&&I!==void 0?I:y.height,capped:P}:void 0}this._resize(R,P)}_resize(y,w){const{width:D,height:I}=this.element.maxSize;y=Math.min(D,y),w=Math.min(I,w);const{statusBarHeight:T}=this.getLayoutInfo();this._list.layout(w-T,y),this._listElement.style.height=`${w-T}px`,this.element.layout(w,y),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var y;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,((y=this._contentWidget.getPosition())===null||y===void 0?void 0:y.preference[0])===2)}getLayoutInfo(){const y=this.editor.getOption(43),w=(0,b.clamp)(this.editor.getOption(107)||y.lineHeight,8,1e3),D=!this.editor.getOption(105).showStatusBar||this._state===2||this._state===1?0:w,I=this._details.widget.borderWidth,T=2*I;return{itemHeight:w,statusBarHeight:D,borderWidth:I,borderHeight:T,typicalHalfwidthCharacterWidth:y.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new L.Dimension(430,D+12*w+T)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(y){this._storageService.store("expandSuggestionDocs",y,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};f.LOADING_MESSAGE=t.localize(9,null),f.NO_SUGGESTIONS_MESSAGE=t.localize(10,null),f=Ve([Ce(1,h.IStorageService),Ce(2,a.IContextKeyService),Ce(3,n.IThemeService),Ce(4,l.IInstantiationService)],f),e.SuggestWidget=f;class c{constructor(y,w){this._widget=y,this._editor=w,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:y,width:w}=this._widget.element.size,{borderWidth:D,horizontalPadding:I}=this._widget.getLayoutInfo();return new L.Dimension(w+2*D+I,y+2*D)}afterRender(y){this._widget._afterRender(y)}setPreference(y){this._preferenceLocked||(this._preference=y)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(y){this._position=y}}e.SuggestContentWidget=c}),define(ee[722],te([0,1,10,2,16,18,266,47,290,278,37,14]),function(Q,e,L,N,M,E,g,S,b,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let t=class ji extends N.Disposable{constructor(l,h,d,u){super();this._modelService=h,this._themeService=d,this._configurationService=u,this._editor=l,this._tokenizeViewport=new L.RunOnceScheduler(()=>this._tokenizeViewportNow(),100),this._outstandingRequests=[],this._register(this._editor.onDidScrollChange(()=>{this._tokenizeViewport.schedule()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(this._editor.onDidChangeModelContent(n=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(E.DocumentRangeSemanticTokensProviderRegistry.onDidChange(()=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(this._configurationService.onDidChangeConfiguration(n=>{n.affectsConfiguration(b.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&(this._cancelAll(),this._tokenizeViewport.schedule())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),this._tokenizeViewport.schedule()}))}static get(l){return l.getContribution(ji.ID)}_cancelAll(){for(const l of this._outstandingRequests)l.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(l){for(let h=0,d=this._outstandingRequests.length;h<d;h++)if(this._outstandingRequests[h]===l){this._outstandingRequests.splice(h,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const l=this._editor.getModel();if(l.hasCompleteSemanticTokens())return;if(!(0,b.isSemanticColoringEnabled)(l,this._themeService,this._configurationService)){l.hasSomeSemanticTokens()&&l.setSemanticTokens(null,!1);return}if(!(0,g.hasDocumentRangeSemanticTokensProvider)(l)){l.hasSomeSemanticTokens()&&l.setSemanticTokens(null,!1);return}const h=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(h.map(d=>this._requestRange(l,d)))}_requestRange(l,h){const d=l.getVersionId(),u=(0,L.createCancelablePromise)(n=>Promise.resolve((0,g.getDocumentRangeSemanticTokens)(l,h,n)));return u.then(n=>{if(!n||!n.tokens||l.isDisposed()||l.getVersionId()!==d)return;const{provider:r,tokens:s}=n,o=this._modelService.getSemanticTokensProviderStyling(r);l.setPartialSemanticTokens(h,(0,p.toMultilineTokens2)(s,o,l.getLanguageId()))}).then(()=>this._removeOutstandingRequest(u),()=>this._removeOutstandingRequest(u)),u}};t.ID="editor.contrib.viewportSemanticTokens",t=Ve([Ce(1,S.IModelService),Ce(2,i.IThemeService),Ce(3,v.IConfigurationService)],t),(0,M.registerEditorContribution)(t.ID,t)}),define(ee[723],te([0,1,45,19,10,21,12,2,16,3,25,49,31,18,561,17,24,14]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOccurrencesAtPosition=void 0;const n=(0,d.registerColor)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hc:null},l.localize(0,null),!0),r=(0,d.registerColor)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hc:null},l.localize(1,null),!0),s=(0,d.registerColor)("editor.wordHighlightBorder",{light:null,dark:null,hc:d.activeContrastBorder},l.localize(2,null)),o=(0,d.registerColor)("editor.wordHighlightStrongBorder",{light:null,dark:null,hc:d.activeContrastBorder},l.localize(3,null)),m=(0,d.registerColor)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},l.localize(4,null),!0),_=(0,d.registerColor)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hc:"#C0A0C0CC"},l.localize(5,null),!0),f=new h.RawContextKey("hasWordHighlights",!1);function c(O,k,V){const B=a.DocumentHighlightProviderRegistry.ordered(O);return(0,M.first)(B.map(x=>()=>Promise.resolve(x.provideDocumentHighlights(O,k,V)).then(void 0,g.onUnexpectedExternalError)),N.isNonEmptyArray)}e.getOccurrencesAtPosition=c;class C{constructor(k,V,B){this._wordRange=this._getCurrentWordRange(k,V),this.result=(0,M.createCancelablePromise)(x=>this._compute(k,V,B,x))}_getCurrentWordRange(k,V){const B=k.getWordAtPosition(V.getPosition());return B?new p.Range(V.startLineNumber,B.startColumn,V.startLineNumber,B.endColumn):null}isValid(k,V,B){const x=V.startLineNumber,K=V.startColumn,X=V.endColumn,Z=this._getCurrentWordRange(k,V);let q=Boolean(this._wordRange&&this._wordRange.equalsRange(Z));for(let H=0,G=B.length;!q&&H<G;H++){let z=k.getDecorationRange(B[H]);z&&z.startLineNumber===x&&z.startColumn<=K&&z.endColumn>=X&&(q=!0)}return q}cancel(){this.result.cancel()}}class y extends C{_compute(k,V,B,x){return c(k,V.getPosition(),x).then(K=>K||[])}}class w extends C{constructor(k,V,B){super(k,V,B);this._selectionIsEmpty=V.isEmpty()}_compute(k,V,B,x){return(0,M.timeout)(250,x).then(()=>{if(!V.isEmpty())return[];const K=k.getWordAtPosition(V.getPosition());return!K||K.word.length>1e3?[]:k.findMatches(K.word,!0,!1,!0,B,!1).map(Z=>({range:Z.range,kind:a.DocumentHighlightKind.Text}))})}isValid(k,V,B){const x=V.isEmpty();return this._selectionIsEmpty!==x?!1:super.isValid(k,V,B)}}function D(O,k,V){return a.DocumentHighlightProviderRegistry.has(O)?new y(O,k,V):new w(O,k,V)}(0,b.registerModelAndPositionCommand)("_executeDocumentHighlights",(O,k)=>c(O,k,E.CancellationToken.None));class I{constructor(k,V){this.toUnhook=new S.DisposableStore,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=k,this._hasWordHighlights=f.bindTo(V),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(71),this.model=this.editor.getModel(),this.toUnhook.add(k.onDidChangeCursorPosition(B=>{this._ignorePositionChangeEvent||!this.occurrencesHighlight||this._onPositionChanged(B)})),this.toUnhook.add(k.onDidChangeModelContent(B=>{this._stopAll()})),this.toUnhook.add(k.onDidChangeConfiguration(B=>{let x=this.editor.getOption(71);this.occurrencesHighlight!==x&&(this.occurrencesHighlight=x,this._stopAll())})),this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this._decorationIds.length>0}restore(){!this.occurrencesHighlight||this._run()}_getSortedHighlights(){return N.coalesce(this._decorationIds.map(k=>this.model.getDecorationRange(k)).sort(p.Range.compareRangesUsingStarts))}moveNext(){let k=this._getSortedHighlights(),B=(k.findIndex(K=>K.containsPosition(this.editor.getPosition()))+1)%k.length,x=k[B];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(x.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(x);const K=this._getWord();if(K){const X=this.editor.getModel().getLineContent(x.startLineNumber);(0,L.alert)(`${X}, ${B+1} of ${k.length} for '${K.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){let k=this._getSortedHighlights(),B=(k.findIndex(K=>K.containsPosition(this.editor.getPosition()))-1+k.length)%k.length,x=k[B];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(x.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(x);const K=this._getWord();if(K){const X=this.editor.getModel().getLineContent(x.startLineNumber);(0,L.alert)(`${X}, ${B+1} of ${k.length} for '${K.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(k){if(!this.occurrencesHighlight){this._stopAll();return}if(k.reason!==3){this._stopAll();return}this._run()}_getWord(){let k=this.editor.getSelection(),V=k.startLineNumber,B=k.startColumn;return this.model.getWordAtPosition({lineNumber:V,column:B})}_run(){let k=this.editor.getSelection();if(k.startLineNumber!==k.endLineNumber){this._stopAll();return}let V=k.startColumn,B=k.endColumn;const x=this._getWord();if(!x||x.startColumn>V||x.endColumn<B){this._stopAll();return}const K=this.workerRequest&&this.workerRequest.isValid(this.model,k,this._decorationIds);if(this.lastCursorPositionChangeTime=new Date().getTime(),K)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();let X=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=D(this.model,this.editor.getSelection(),this.editor.getOption(116)),this.workerRequest.result.then(Z=>{X===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=Z||[],this._beginRenderDecorations())},g.onUnexpectedError)}}_beginRenderDecorations(){let k=new Date().getTime(),V=this.lastCursorPositionChangeTime+250;k>=V?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},V-k)}renderDecorations(){this.renderDecorationsTimer=-1;let k=[];for(const V of this.workerRequestValue)V.range&&k.push({range:V.range,options:I._getDecorationOptions(V.kind)});this._decorationIds=this.editor.deltaDecorations(this._decorationIds,k),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(k){return k===a.DocumentHighlightKind.Write?this._WRITE_OPTIONS:k===a.DocumentHighlightKind.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}}I._WRITE_OPTIONS=t.ModelDecorationOptions.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,u.themeColorFromId)(_),position:i.OverviewRulerLane.Center},minimap:{color:(0,u.themeColorFromId)(d.minimapSelectionOccurrenceHighlight),position:i.MinimapPosition.Inline}}),I._TEXT_OPTIONS=t.ModelDecorationOptions.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,u.themeColorFromId)(d.overviewRulerSelectionHighlightForeground),position:i.OverviewRulerLane.Center},minimap:{color:(0,u.themeColorFromId)(d.minimapSelectionOccurrenceHighlight),position:i.MinimapPosition.Inline}}),I._REGULAR_OPTIONS=t.ModelDecorationOptions.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,u.themeColorFromId)(m),position:i.OverviewRulerLane.Center},minimap:{color:(0,u.themeColorFromId)(d.minimapSelectionOccurrenceHighlight),position:i.MinimapPosition.Inline}});let T=class $i extends S.Disposable{constructor(k,V){super();this.wordHighlighter=null;const B=()=>{k.hasModel()&&(this.wordHighlighter=new I(k,V))};this._register(k.onDidChangeModel(x=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),B()})),B()}static get(k){return k.getContribution($i.ID)}saveViewState(){return!!(this.wordHighlighter&&this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(k){this.wordHighlighter&&k&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};T.ID="editor.contrib.wordHighlighter",T=Ve([Ce(1,h.IContextKeyService)],T);class F extends b.EditorAction{constructor(k,V){super(V);this._isNext=k}run(k,V){const B=T.get(V);!B||(this._isNext?B.moveNext():B.moveBack())}}class P extends F{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:l.localize(6,null),alias:"Go to Next Symbol Highlight",precondition:f,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:65,weight:100}})}}class R extends F{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:l.localize(7,null),alias:"Go to Previous Symbol Highlight",precondition:f,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:1024|65,weight:100}})}}class A extends b.EditorAction{constructor(){super({id:"editor.action.wordHighlight.trigger",label:l.localize(8,null),alias:"Trigger Symbol Highlight",precondition:f.toNegated(),kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:0,weight:100}})}run(k,V,B){const x=T.get(V);!x||x.restoreViewState(!0)}}(0,b.registerEditorContribution)(T.ID,T),(0,b.registerEditorAction)(P),(0,b.registerEditorAction)(R),(0,b.registerEditorAction)(A),(0,u.registerThemingParticipant)((O,k)=>{const V=O.getColor(d.editorSelectionHighlight);V&&(k.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${V}; }`),k.addRule(`.monaco-editor .selectionHighlight { background-color: ${V.transparent(.5)}; }`));const B=O.getColor(n);B&&k.addRule(`.monaco-editor .wordHighlight { background-color: ${B}; }`);const x=O.getColor(r);x&&k.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${x}; }`);const K=O.getColor(d.editorSelectionHighlightBorder);K&&k.addRule(`.monaco-editor .selectionHighlight { border: 1px ${O.type==="hc"?"dotted":"solid"} ${K}; box-sizing: border-box; }`);const X=O.getColor(s);X&&k.addRule(`.monaco-editor .wordHighlight { border: 1px ${O.type==="hc"?"dashed":"solid"} ${X}; box-sizing: border-box; }`);const Z=O.getColor(o);Z&&k.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${O.type==="hc"?"dashed":"solid"} ${Z}; box-sizing: border-box; }`)})}),define(ee[294],te([0,1,16,102,29,50,162,114,13,3,23,25,40,562,62,17,270]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteInsideWord=e.DeleteWordRight=e.DeleteWordEndRight=e.DeleteWordStartRight=e.DeleteWordLeft=e.DeleteWordEndLeft=e.DeleteWordStartLeft=e.DeleteWordRightCommand=e.DeleteWordLeftCommand=e.DeleteWordCommand=e.CursorWordAccessibilityRightSelect=e.CursorWordAccessibilityRight=e.CursorWordRightSelect=e.CursorWordEndRightSelect=e.CursorWordStartRightSelect=e.CursorWordRight=e.CursorWordEndRight=e.CursorWordStartRight=e.CursorWordAccessibilityLeftSelect=e.CursorWordAccessibilityLeft=e.CursorWordLeftSelect=e.CursorWordEndLeftSelect=e.CursorWordStartLeftSelect=e.CursorWordLeft=e.CursorWordEndLeft=e.CursorWordStartLeft=e.WordRightCommand=e.WordLeftCommand=e.MoveWordCommand=void 0;class u extends L.EditorCommand{constructor(z){super(z);this._inSelectionMode=z.inSelectionMode,this._wordNavigationType=z.wordNavigationType}runEditorCommand(z,W,j){if(!W.hasModel())return;const U=(0,S.getMapForWordSeparators)(W.getOption(116)),Y=W.getModel(),J=W.getSelections().map(re=>{const ge=new b.Position(re.positionLineNumber,re.positionColumn),pe=this._move(U,Y,ge,this._wordNavigationType);return this._moveTo(re,pe,this._inSelectionMode)});if(Y.pushStackElement(),W._getViewModel().setCursorStates("moveWordCommand",3,J.map(re=>E.CursorState.fromModelSelection(re))),J.length===1){const re=new b.Position(J[0].positionLineNumber,J[0].positionColumn);W.revealPosition(re,0)}}_moveTo(z,W,j){return j?new v.Selection(z.selectionStartLineNumber,z.selectionStartColumn,W.lineNumber,W.column):new v.Selection(W.lineNumber,W.column,W.lineNumber,W.column)}}e.MoveWordCommand=u;class n extends u{_move(z,W,j,U){return g.WordOperations.moveWordLeft(z,W,j,U)}}e.WordLeftCommand=n;class r extends u{_move(z,W,j,U){return g.WordOperations.moveWordRight(z,W,j,U)}}e.WordRightCommand=r;class s extends n{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}e.CursorWordStartLeft=s;class o extends n{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}e.CursorWordEndLeft=o;class m extends n{constructor(){var z;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:h.ContextKeyExpr.and(i.EditorContextKeys.textInputFocus,(z=h.ContextKeyExpr.and(l.CONTEXT_ACCESSIBILITY_MODE_ENABLED,d.IsWindowsContext))===null||z===void 0?void 0:z.negate()),primary:2048|15,mac:{primary:512|15},weight:100}})}}e.CursorWordLeft=m;class _ extends n{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}e.CursorWordStartLeftSelect=_;class f extends n{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}e.CursorWordEndLeftSelect=f;class c extends n{constructor(){var z;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:h.ContextKeyExpr.and(i.EditorContextKeys.textInputFocus,(z=h.ContextKeyExpr.and(l.CONTEXT_ACCESSIBILITY_MODE_ENABLED,d.IsWindowsContext))===null||z===void 0?void 0:z.negate()),primary:2048|1024|15,mac:{primary:512|1024|15},weight:100}})}}e.CursorWordLeftSelect=c;class C extends n{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(z,W,j,U){return super._move((0,S.getMapForWordSeparators)(M.EditorOptions.wordSeparators.defaultValue),W,j,U)}}e.CursorWordAccessibilityLeft=C;class y extends n{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(z,W,j,U){return super._move((0,S.getMapForWordSeparators)(M.EditorOptions.wordSeparators.defaultValue),W,j,U)}}e.CursorWordAccessibilityLeftSelect=y;class w extends r{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}e.CursorWordStartRight=w;class D extends r{constructor(){var z;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:h.ContextKeyExpr.and(i.EditorContextKeys.textInputFocus,(z=h.ContextKeyExpr.and(l.CONTEXT_ACCESSIBILITY_MODE_ENABLED,d.IsWindowsContext))===null||z===void 0?void 0:z.negate()),primary:2048|17,mac:{primary:512|17},weight:100}})}}e.CursorWordEndRight=D;class I extends r{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}e.CursorWordRight=I;class T extends r{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}e.CursorWordStartRightSelect=T;class F extends r{constructor(){var z;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:h.ContextKeyExpr.and(i.EditorContextKeys.textInputFocus,(z=h.ContextKeyExpr.and(l.CONTEXT_ACCESSIBILITY_MODE_ENABLED,d.IsWindowsContext))===null||z===void 0?void 0:z.negate()),primary:2048|1024|17,mac:{primary:512|1024|17},weight:100}})}}e.CursorWordEndRightSelect=F;class P extends r{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}e.CursorWordRightSelect=P;class R extends r{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(z,W,j,U){return super._move((0,S.getMapForWordSeparators)(M.EditorOptions.wordSeparators.defaultValue),W,j,U)}}e.CursorWordAccessibilityRight=R;class A extends r{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(z,W,j,U){return super._move((0,S.getMapForWordSeparators)(M.EditorOptions.wordSeparators.defaultValue),W,j,U)}}e.CursorWordAccessibilityRightSelect=A;class O extends L.EditorCommand{constructor(z){super(z);this._whitespaceHeuristics=z.whitespaceHeuristics,this._wordNavigationType=z.wordNavigationType}runEditorCommand(z,W,j){if(!W.hasModel())return;const U=(0,S.getMapForWordSeparators)(W.getOption(116)),Y=W.getModel(),ne=W.getSelections(),J=W.getOption(5),re=W.getOption(8),ge=t.LanguageConfigurationRegistry.getAutoClosingPairs(Y.getLanguageId()),pe=W._getViewModel(),oe=ne.map($=>{const ie=this._delete({wordSeparators:U,model:Y,selection:$,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:W.getOption(6),autoClosingBrackets:J,autoClosingQuotes:re,autoClosingPairs:ge,autoClosedCharacters:pe.getCursorAutoClosedCharacters()},this._wordNavigationType);return new N.ReplaceCommand(ie,"")});W.pushUndoStop(),W.executeCommands(this.id,oe),W.pushUndoStop()}}e.DeleteWordCommand=O;class k extends O{_delete(z,W){let j=g.WordOperations.deleteWordLeft(z,W);return j||new p.Range(1,1,1,1)}}e.DeleteWordLeftCommand=k;class V extends O{_delete(z,W){let j=g.WordOperations.deleteWordRight(z,W);if(j)return j;const U=z.model.getLineCount(),Y=z.model.getLineMaxColumn(U);return new p.Range(U,Y,U,Y)}}e.DeleteWordRightCommand=V;class B extends k{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:i.EditorContextKeys.writable})}}e.DeleteWordStartLeft=B;class x extends k{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:i.EditorContextKeys.writable})}}e.DeleteWordEndLeft=x;class K extends k{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.textInputFocus,primary:2048|1,mac:{primary:512|1},weight:100}})}}e.DeleteWordLeft=K;class X extends V{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:i.EditorContextKeys.writable})}}e.DeleteWordStartRight=X;class Z extends V{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:i.EditorContextKeys.writable})}}e.DeleteWordEndRight=Z;class q extends V{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.textInputFocus,primary:2048|20,mac:{primary:512|20},weight:100}})}}e.DeleteWordRight=q;class H extends L.EditorAction{constructor(){super({id:"deleteInsideWord",precondition:i.EditorContextKeys.writable,label:a.localize(0,null),alias:"Delete Word"})}run(z,W,j){if(!W.hasModel())return;const U=(0,S.getMapForWordSeparators)(W.getOption(116)),Y=W.getModel(),J=W.getSelections().map(re=>{const ge=g.WordOperations.deleteInsideWord(U,Y,re);return new N.ReplaceCommand(ge,"")});W.pushUndoStop(),W.executeCommands(this.id,J),W.pushUndoStop()}}e.DeleteInsideWord=H,(0,L.registerEditorCommand)(new s),(0,L.registerEditorCommand)(new o),(0,L.registerEditorCommand)(new m),(0,L.registerEditorCommand)(new _),(0,L.registerEditorCommand)(new f),(0,L.registerEditorCommand)(new c),(0,L.registerEditorCommand)(new w),(0,L.registerEditorCommand)(new D),(0,L.registerEditorCommand)(new I),(0,L.registerEditorCommand)(new T),(0,L.registerEditorCommand)(new F),(0,L.registerEditorCommand)(new P),(0,L.registerEditorCommand)(new C),(0,L.registerEditorCommand)(new y),(0,L.registerEditorCommand)(new R),(0,L.registerEditorCommand)(new A),(0,L.registerEditorCommand)(new B),(0,L.registerEditorCommand)(new x),(0,L.registerEditorCommand)(new K),(0,L.registerEditorCommand)(new X),(0,L.registerEditorCommand)(new Z),(0,L.registerEditorCommand)(new q),(0,L.registerEditorAction)(H)}),define(ee[724],te([0,1,16,162,3,25,294,26]),function(Q,e,L,N,M,E,g,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorWordPartRightSelect=e.CursorWordPartRight=e.WordPartRightCommand=e.CursorWordPartLeftSelect=e.CursorWordPartLeft=e.WordPartLeftCommand=e.DeleteWordPartRight=e.DeleteWordPartLeft=void 0;class b extends g.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:E.EditorContextKeys.writable,kbOpts:{kbExpr:E.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1},weight:100}})}_delete(u,n){let r=N.WordPartOperations.deleteWordPartLeft(u);return r||new M.Range(1,1,1,1)}}e.DeleteWordPartLeft=b;class p extends g.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:E.EditorContextKeys.writable,kbOpts:{kbExpr:E.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|20},weight:100}})}_delete(u,n){let r=N.WordPartOperations.deleteWordPartRight(u);if(r)return r;const s=u.model.getLineCount(),o=u.model.getLineMaxColumn(s);return new M.Range(s,o,s,o)}}e.DeleteWordPartRight=p;class v extends g.MoveWordCommand{_move(u,n,r,s){return N.WordPartOperations.moveWordPartLeft(u,n,r)}}e.WordPartLeftCommand=v;class i extends v{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:E.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|15},weight:100}})}}e.CursorWordPartLeft=i,S.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class t extends v{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:E.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1024|15},weight:100}})}}e.CursorWordPartLeftSelect=t,S.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class a extends g.MoveWordCommand{_move(u,n,r,s){return N.WordPartOperations.moveWordPartRight(u,n,r)}}e.WordPartRightCommand=a;class l extends a{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:E.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|17},weight:100}})}}e.CursorWordPartRight=l;class h extends a{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:E.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1024|17},weight:100}})}}e.CursorWordPartRightSelect=h,(0,L.registerEditorCommand)(new b),(0,L.registerEditorCommand)(new p),(0,L.registerEditorCommand)(new i),(0,L.registerEditorCommand)(new t),(0,L.registerEditorCommand)(new l),(0,L.registerEditorCommand)(new h)}),define(ee[725],te([0,1,7,113,28,133,2,34,3,31,389]),function(Q,e,L,N,M,E,g,S,b,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ZoneWidget=e.OverlayWidgetDelegate=e.ViewZoneDelegate=void 0;const v=new M.Color(new M.RGBA(0,122,204)),i={showArrow:!0,showFrame:!0,className:"",frameColor:v,arrowColor:v,keepEditorSelection:!1},t="vs.editor.contrib.zoneWidget";class a{constructor(n,r,s,o,m,_){this.id="",this.domNode=n,this.afterLineNumber=r,this.afterColumn=s,this.heightInLines=o,this._onDomNodeTop=m,this._onComputedHeight=_}onDomNodeTop(n){this._onDomNodeTop(n)}onComputedHeight(n){this._onComputedHeight(n)}}e.ViewZoneDelegate=a;class l{constructor(n,r){this._id=n,this._domNode=r}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}e.OverlayWidgetDelegate=l;class h{constructor(n){this._editor=n,this._ruleName=h._IdGenerator.nextId(),this._decorations=[],this._color=null,this._height=-1}dispose(){this.hide(),L.removeCSSRulesContainingSelector(this._ruleName)}set color(n){this._color!==n&&(this._color=n,this._updateStyle())}set height(n){this._height!==n&&(this._height=n,this._updateStyle())}_updateStyle(){L.removeCSSRulesContainingSelector(this._ruleName),L.createCSSRule(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(n){n.column===1&&(n={lineNumber:n.lineNumber,column:2}),this._decorations=this._editor.deltaDecorations(this._decorations,[{range:b.Range.fromPositions(n),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._editor.deltaDecorations(this._decorations,[])}}h._IdGenerator=new E.IdGenerator(".arrow-decoration-");class d{constructor(n,r={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._positionMarkerId=[],this._viewZone=null,this._disposables=new g.DisposableStore,this.container=null,this._isShowing=!1,this.editor=n,this.options=S.deepClone(r),S.mixin(this.options,i,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(s=>{const o=this._getWidth(s);this.domNode.style.width=o+"px",this.domNode.style.left=this._getLeft(s)+"px",this._onWidth(o)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(n=>{this._viewZone&&n.removeZone(this._viewZone.id),this._viewZone=null}),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[],this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new h(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(n){n.frameColor&&(this.options.frameColor=n.frameColor),n.arrowColor&&(this.options.arrowColor=n.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){let n=this.options.frameColor.toString();this.container.style.borderTopColor=n,this.container.style.borderBottomColor=n}if(this._arrow&&this.options.arrowColor){let n=this.options.arrowColor.toString();this._arrow.color=n}}_getWidth(n){return n.width-n.minimap.minimapWidth-n.verticalScrollbarWidth}_getLeft(n){return n.minimap.minimapWidth>0&&n.minimap.minimapLeft===0?n.minimap.minimapWidth:0}_onViewZoneTop(n){this.domNode.style.top=n+"px"}_onViewZoneHeight(n){if(this.domNode.style.height=`${n}px`,this.container){let r=n-this._decoratingElementsHeight();this.container.style.height=`${r}px`;const s=this.editor.getLayoutInfo();this._doLayout(r,this._getWidth(s))}this._resizeSash&&this._resizeSash.layout()}get position(){const[n]=this._positionMarkerId;if(!n)return;const r=this.editor.getModel();if(!r)return;const s=r.getDecorationRange(n);if(!!s)return s.getStartPosition()}show(n,r){const s=b.Range.isIRange(n)?b.Range.lift(n):b.Range.fromPositions(n);this._isShowing=!0,this._showImpl(s,r),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:s,options:p.ModelDecorationOptions.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones(n=>{this._viewZone&&n.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){let n=this.editor.getOption(58),r=0;if(this.options.showArrow){let s=Math.round(n/3);r+=2*s}if(this.options.showFrame){let s=Math.round(n/9);r+=2*s}return r}_showImpl(n,r){const s=n.getStartPosition(),o=this.editor.getLayoutInfo(),m=this._getWidth(o);this.domNode.style.width=`${m}px`,this.domNode.style.left=this._getLeft(o)+"px";const _=document.createElement("div");_.style.overflow="hidden";const f=this.editor.getOption(58),c=Math.max(12,this.editor.getLayoutInfo().height/f*.8);r=Math.min(r,c);let C=0,y=0;if(this._arrow&&this.options.showArrow&&(C=Math.round(f/3),this._arrow.height=C,this._arrow.show(s)),this.options.showFrame&&(y=Math.round(f/9)),this.editor.changeViewZones(I=>{this._viewZone&&I.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new a(_,s.lineNumber,s.column,r,T=>this._onViewZoneTop(T),T=>this._onViewZoneHeight(T)),this._viewZone.id=I.addZone(this._viewZone),this._overlayWidget=new l(t+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const I=this.options.frameWidth?this.options.frameWidth:y;this.container.style.borderTopWidth=I+"px",this.container.style.borderBottomWidth=I+"px"}let w=r*f-this._decoratingElementsHeight();this.container&&(this.container.style.top=C+"px",this.container.style.height=w+"px",this.container.style.overflow="hidden"),this._doLayout(w,m),this.options.keepEditorSelection||this.editor.setSelection(n);const D=this.editor.getModel();if(D){const I=n.endLineNumber+1;I<=D.getLineCount()?this.revealLine(I,!1):this.revealLine(D.getLineCount(),!0)}}revealLine(n,r){r?this.editor.revealLineInCenter(n,0):this.editor.revealLine(n,0)}setCssClass(n,r){!this.container||(r&&this.container.classList.remove(r),this.container.classList.add(n))}_onWidth(n){}_doLayout(n,r){}_relayout(n){this._viewZone&&this._viewZone.heightInLines!==n&&this.editor.changeViewZones(r=>{this._viewZone&&(this._viewZone.heightInLines=n,r.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new N.Sash(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0);let n;this._disposables.add(this._resizeSash.onDidStart(r=>{this._viewZone&&(n={startY:r.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{n=void 0})),this._disposables.add(this._resizeSash.onDidChange(r=>{if(n){let s=(r.currentY-n.startY)/this.editor.getOption(58),o=s<0?Math.ceil(s):Math.floor(s),m=n.heightInLines+o;m>5&&m<35&&this._relayout(m)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const n=this.editor.getLayoutInfo();return n.width-n.minimap.minimapWidth}}e.ZoneWidget=d}),define(ee[132],te([0,1,7,84,46,27,28,4,34,16,30,165,725,542,196,17,74,9,24,383]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.peekViewEditorMatchHighlightBorder=e.peekViewEditorMatchHighlight=e.peekViewResultsMatchHighlight=e.peekViewEditorGutterBackground=e.peekViewEditorBackground=e.peekViewResultsSelectionForeground=e.peekViewResultsSelectionBackground=e.peekViewResultsFileForeground=e.peekViewResultsMatchForeground=e.peekViewResultsBackground=e.peekViewBorder=e.peekViewTitleInfoForeground=e.peekViewTitleForeground=e.peekViewTitleBackground=e.PeekViewWidget=e.getOuterEditor=e.PeekContext=e.IPeekViewService=void 0,e.IPeekViewService=(0,u.createDecorator)("IPeekViewService"),(0,d.registerSingleton)(e.IPeekViewService,class{constructor(){this._widgets=new Map}addExclusiveWidget(f,c){const C=this._widgets.get(f);C&&(C.listener.dispose(),C.widget.dispose());const y=()=>{const w=this._widgets.get(f);w&&w.widget===c&&(w.listener.dispose(),this._widgets.delete(f))};this._widgets.set(f,{widget:c,listener:c.onDidClose(y)})}});var r;(function(f){f.inPeekEditor=new h.RawContextKey("inReferenceSearchEditor",!0,a.localize(0,null)),f.notInPeekEditor=f.inPeekEditor.toNegated()})(r=e.PeekContext||(e.PeekContext={}));let s=class{constructor(c,C){c instanceof i.EmbeddedCodeEditorWidget&&r.inPeekEditor.bindTo(C)}dispose(){}};s.ID="editor.contrib.referenceController",s=Ve([Ce(1,h.IContextKeyService)],s),(0,p.registerEditorContribution)(s.ID,s);function o(f){let c=f.get(v.ICodeEditorService).getFocusedCodeEditor();return c instanceof i.EmbeddedCodeEditorWidget?c.getParentEditor():c}e.getOuterEditor=o;const m={headerBackgroundColor:g.Color.white,primaryHeadingColor:g.Color.fromHex("#333333"),secondaryHeadingColor:g.Color.fromHex("#6c6c6cb3")};let _=class extends t.ZoneWidget{constructor(c,C,y){super(c,C);this.instantiationService=y,this._onDidClose=new S.Emitter,this.onDidClose=this._onDidClose.event,b.mixin(this.options,m,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(c){let C=this.options;c.headerBackgroundColor&&(C.headerBackgroundColor=c.headerBackgroundColor),c.primaryHeadingColor&&(C.primaryHeadingColor=c.primaryHeadingColor),c.secondaryHeadingColor&&(C.secondaryHeadingColor=c.secondaryHeadingColor),super.style(c)}_applyStyles(){super._applyStyles();let c=this.options;this._headElement&&c.headerBackgroundColor&&(this._headElement.style.backgroundColor=c.headerBackgroundColor.toString()),this._primaryHeading&&c.primaryHeadingColor&&(this._primaryHeading.style.color=c.primaryHeadingColor.toString()),this._secondaryHeading&&c.secondaryHeadingColor&&(this._secondaryHeading.style.color=c.secondaryHeadingColor.toString()),this._bodyElement&&c.frameColor&&(this._bodyElement.style.borderColor=c.frameColor.toString())}_fillContainer(c){this.setCssClass("peekview-widget"),this._headElement=L.$(".head"),this._bodyElement=L.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),c.appendChild(this._headElement),c.appendChild(this._bodyElement)}_fillHead(c,C){const y=L.$(".peekview-title");this.options.supportOnTitleClick&&(y.classList.add("clickable"),L.addStandardDisposableListener(y,"click",I=>this._onTitleClick(I))),L.append(this._headElement,y),this._fillTitleIcon(y),this._primaryHeading=L.$("span.filename"),this._secondaryHeading=L.$("span.dirname"),this._metaHeading=L.$("span.meta"),L.append(y,this._primaryHeading,this._secondaryHeading,this._metaHeading);const w=L.$(".peekview-actions");L.append(this._headElement,w);const D=this._getActionBarOptions();this._actionbarWidget=new N.ActionBar(w,D),this._disposables.add(this._actionbarWidget),C||this._actionbarWidget.push(new M.Action("peekview.close",a.localize(1,null),E.Codicon.close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(c){}_getActionBarOptions(){return{actionViewItemProvider:l.createActionViewItem.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(c){}setTitle(c,C){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=c,this._primaryHeading.setAttribute("title",c),C?this._secondaryHeading.innerText=C:L.clearNode(this._secondaryHeading))}setMetaTitle(c){this._metaHeading&&(c?(this._metaHeading.innerText=c,L.show(this._metaHeading)):L.hide(this._metaHeading))}_doLayout(c,C){if(!this._isShowing&&c<0){this.dispose();return}const y=Math.ceil(this.editor.getOption(58)*1.2),w=Math.round(c-(y+2));this._doLayoutHead(y,C),this._doLayoutBody(w,C)}_doLayoutHead(c,C){this._headElement&&(this._headElement.style.height=`${c}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(c,C){this._bodyElement&&(this._bodyElement.style.height=`${c}px`)}};_=Ve([Ce(2,u.IInstantiationService)],_),e.PeekViewWidget=_,e.peekViewTitleBackground=(0,n.registerColor)("peekViewTitle.background",{dark:(0,n.transparent)(n.editorInfoForeground,.1),light:(0,n.transparent)(n.editorInfoForeground,.1),hc:null},a.localize(2,null)),e.peekViewTitleForeground=(0,n.registerColor)("peekViewTitleLabel.foreground",{dark:g.Color.white,light:g.Color.black,hc:g.Color.white},a.localize(3,null)),e.peekViewTitleInfoForeground=(0,n.registerColor)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hc:"#FFFFFF99"},a.localize(4,null)),e.peekViewBorder=(0,n.registerColor)("peekView.border",{dark:n.editorInfoForeground,light:n.editorInfoForeground,hc:n.contrastBorder},a.localize(5,null)),e.peekViewResultsBackground=(0,n.registerColor)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:g.Color.black},a.localize(6,null)),e.peekViewResultsMatchForeground=(0,n.registerColor)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:g.Color.white},a.localize(7,null)),e.peekViewResultsFileForeground=(0,n.registerColor)("peekViewResult.fileForeground",{dark:g.Color.white,light:"#1E1E1E",hc:g.Color.white},a.localize(8,null)),e.peekViewResultsSelectionBackground=(0,n.registerColor)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},a.localize(9,null)),e.peekViewResultsSelectionForeground=(0,n.registerColor)("peekViewResult.selectionForeground",{dark:g.Color.white,light:"#6C6C6C",hc:g.Color.white},a.localize(10,null)),e.peekViewEditorBackground=(0,n.registerColor)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:g.Color.black},a.localize(11,null)),e.peekViewEditorGutterBackground=(0,n.registerColor)("peekViewEditorGutter.background",{dark:e.peekViewEditorBackground,light:e.peekViewEditorBackground,hc:e.peekViewEditorBackground},a.localize(12,null)),e.peekViewResultsMatchHighlight=(0,n.registerColor)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},a.localize(13,null)),e.peekViewEditorMatchHighlight=(0,n.registerColor)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},a.localize(14,null)),e.peekViewEditorMatchHighlightBorder=(0,n.registerColor)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:n.activeContrastBorder},a.localize(15,null))}),define(ee[726],te([0,1,7,64,19,28,4,140,2,33,8,3,132,519,196,38,17,9,127,93,54,679,24,14,376]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u,n,r,s,o,m,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorMarkerNavigationBackground=e.editorMarkerNavigationInfoHeader=e.editorMarkerNavigationInfo=e.editorMarkerNavigationWarningHeader=e.editorMarkerNavigationWarning=e.editorMarkerNavigationErrorHeader=e.editorMarkerNavigationError=e.MarkerNavigationWidget=void 0;class f{constructor(I,T,F,P,R){this._openerService=P,this._labelService=R,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new b.DisposableStore,this._editor=T;const A=document.createElement("div");A.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),A.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),A.appendChild(this._relatedBlock),this._disposables.add(L.addStandardDisposableListener(this._relatedBlock,"click",O=>{O.preventDefault();const k=this._relatedDiagnostics.get(O.target);k&&F(k)})),this._scrollable=new N.ScrollableElement(A,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),I.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(O=>{A.style.left=`-${O.scrollLeft}px`,A.style.top=`-${O.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,b.dispose)(this._disposables)}update(I){const{source:T,message:F,relatedInformation:P,code:R}=I;let A=((T==null?void 0:T.length)||0)+"()".length;R&&(typeof R=="string"?A+=R.length:A+=R.value.length);const O=(0,v.splitLines)(F);this._lines=O.length,this._longestLineLength=0;for(const K of O)this._longestLineLength=Math.max(K.length+A,this._longestLineLength);L.clearNode(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(I)),this._editor.applyFontInfo(this._messageBlock);let k=this._messageBlock;for(const K of O)k=document.createElement("div"),k.innerText=K,K===""&&(k.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(k);if(T||R){const K=document.createElement("span");if(K.classList.add("details"),k.appendChild(K),T){const X=document.createElement("span");X.innerText=T,X.classList.add("source"),K.appendChild(X)}if(R)if(typeof R=="string"){const X=document.createElement("span");X.innerText=`(${R})`,X.classList.add("code"),K.appendChild(X)}else{this._codeLink=L.$("a.code-link"),this._codeLink.setAttribute("href",`${R.target.toString()}`),this._codeLink.onclick=Z=>{this._openerService.open(R.target,{allowCommands:!0}),Z.preventDefault(),Z.stopPropagation()};const X=L.append(this._codeLink,L.$("span"));X.innerText=R.value,K.appendChild(this._codeLink)}}if(L.clearNode(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,M.isNonEmptyArray)(P)){const K=this._relatedBlock.appendChild(document.createElement("div"));K.style.paddingTop=`${Math.floor(this._editor.getOption(58)*.66)}px`,this._lines+=1;for(const X of P){let Z=document.createElement("div"),q=document.createElement("a");q.classList.add("filename"),q.innerText=`${(0,S.getBaseLabel)(X.resource)}(${X.startLineNumber}, ${X.startColumn}): `,q.title=this._labelService.getUriLabel(X.resource),this._relatedDiagnostics.set(q,X);let H=document.createElement("span");H.innerText=X.message,Z.appendChild(q),Z.appendChild(H),this._lines+=1,K.appendChild(Z)}}const V=this._editor.getOption(43),B=Math.ceil(V.typicalFullwidthCharacterWidth*this._longestLineLength*.75),x=V.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:B,scrollHeight:x})}layout(I,T){this._scrollable.getDomNode().style.height=`${I}px`,this._scrollable.getDomNode().style.width=`${T}px`,this._scrollable.setScrollDimensions({width:T,height:I})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(I){let T="";switch(I.severity){case r.MarkerSeverity.Error:T=a.localize(0,null);break;case r.MarkerSeverity.Warning:T=a.localize(1,null);break;case r.MarkerSeverity.Info:T=a.localize(2,null);break;case r.MarkerSeverity.Hint:T=a.localize(3,null);break}let F=a.localize(4,null,T,I.startLineNumber+":"+I.startColumn);const P=this._editor.getModel();return P&&I.startLineNumber<=P.getLineCount()&&I.startLineNumber>=1&&(F=`${P.getLineContent(I.startLineNumber)}, ${F}`),F}}let c=class qi extends t.PeekViewWidget{constructor(I,T,F,P,R,A,O){super(I,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},R);this._themeService=T,this._openerService=F,this._menuService=P,this._contextKeyService=A,this._labelService=O,this._callOnDispose=new b.DisposableStore,this._onDidSelectRelatedInformation=new g.Emitter,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=r.MarkerSeverity.Warning,this._backgroundColor=E.Color.white,this._applyTheme(T.getColorTheme()),this._callOnDispose.add(T.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(I){this._backgroundColor=I.getColor(e.editorMarkerNavigationBackground);let T=e.editorMarkerNavigationError,F=e.editorMarkerNavigationErrorHeader;this._severity===r.MarkerSeverity.Warning?(T=e.editorMarkerNavigationWarning,F=e.editorMarkerNavigationWarningHeader):this._severity===r.MarkerSeverity.Info&&(T=e.editorMarkerNavigationInfo,F=e.editorMarkerNavigationInfoHeader);const P=I.getColor(T),R=I.getColor(F);this.style({arrowColor:P,frameColor:P,headerBackgroundColor:R,primaryHeadingColor:I.getColor(t.peekViewTitleForeground),secondaryHeadingColor:I.getColor(t.peekViewTitleInfoForeground)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}focus(){this._parentContainer.focus()}_fillHead(I){super._fillHead(I),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun(P=>this.editor.focus()));const T=[],F=this._menuService.createMenu(qi.TitleMenu,this._contextKeyService);(0,l.createAndFillInActionBarActions)(F,void 0,T),this._actionbarWidget.push(T,{label:!1,icon:!0,index:0}),F.dispose()}_fillTitleIcon(I){this._icon=L.append(I,L.$(""))}_fillBody(I){this._parentContainer=I,I.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),I.appendChild(this._container),this._message=new f(this._container,this.editor,T=>this._onDidSelectRelatedInformation.fire(T),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(I,T,F){this._container.classList.remove("stale"),this._message.update(I),this._severity=I.severity,this._applyTheme(this._themeService.getColorTheme());let P=i.Range.lift(I);const R=this.editor.getPosition();let A=R&&P.containsPosition(R)?R:P.getStartPosition();super.show(A,this.computeRequiredHeight());const O=this.editor.getModel();if(O){const k=F>1?a.localize(5,null,T,F):a.localize(6,null,T,F);this.setTitle((0,p.basename)(O.uri),k)}this._icon.className=`codicon ${o.SeverityIcon.className(r.MarkerSeverity.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(A,0),this.editor.focus()}updateMarker(I){this._container.classList.remove("stale"),this._message.update(I)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(I,T){super._doLayoutBody(I,T),this._heightInPixel=I,this._message.layout(I,T),this._container.style.height=`${I}px`}_onWidth(I){this._message.layout(this._heightInPixel,I)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};c.TitleMenu=new h.MenuId("gotoErrorTitleMenu"),c=Ve([Ce(1,_.IThemeService),Ce(2,s.IOpenerService),Ce(3,h.IMenuService),Ce(4,u.IInstantiationService),Ce(5,d.IContextKeyService),Ce(6,n.ILabelService)],c),e.MarkerNavigationWidget=c;let C=(0,m.oneOf)(m.editorErrorForeground,m.editorErrorBorder),y=(0,m.oneOf)(m.editorWarningForeground,m.editorWarningBorder),w=(0,m.oneOf)(m.editorInfoForeground,m.editorInfoBorder);e.editorMarkerNavigationError=(0,m.registerColor)("editorMarkerNavigationError.background",{dark:C,light:C,hc:m.contrastBorder},a.localize(7,null)),e.editorMarkerNavigationErrorHeader=(0,m.registerColor)("editorMarkerNavigationError.headerBackground",{dark:(0,m.transparent)(e.editorMarkerNavigationError,.1),light:(0,m.transparent)(e.editorMarkerNavigationError,.1),hc:null},a.localize(8,null)),e.editorMarkerNavigationWarning=(0,m.registerColor)("editorMarkerNavigationWarning.background",{dark:y,light:y,hc:m.contrastBorder},a.localize(9,null)),e.editorMarkerNavigationWarningHeader=(0,m.registerColor)("editorMarkerNavigationWarning.headerBackground",{dark:(0,m.transparent)(e.editorMarkerNavigationWarning,.1),light:(0,m.transparent)(e.editorMarkerNavigationWarning,.1),hc:"#0C141F"},a.localize(10,null)),e.editorMarkerNavigationInfo=(0,m.registerColor)("editorMarkerNavigationInfo.background",{dark:w,light:w,hc:m.contrastBorder},a.localize(11,null)),e.editorMarkerNavigationInfoHeader=(0,m.registerColor)("editorMarkerNavigationInfo.headerBackground",{dark:(0,m.transparent)(e.editorMarkerNavigationInfo,.1),light:(0,m.transparent)(e.editorMarkerNavigationInfo,.1),hc:null},a.localize(12,null)),e.editorMarkerNavigationBackground=(0,m.registerColor)("editorMarkerNavigation.background",{dark:m.editorBackground,light:m.editorBackground,hc:m.editorBackground},a.localize(13,null))}),define(ee[295],te([0,1,27,2,16,30,13,3,25,605,518,38,17,9,71,726]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NextMarkerAction=e.MarkerController=void 0;let d=class Xt{constructor(c,C,y,w,D){this._markerNavigationService=C,this._contextKeyService=y,this._editorService=w,this._instantiationService=D,this._sessionDispoables=new N.DisposableStore,this._editor=c,this._widgetVisible=m.bindTo(this._contextKeyService)}static get(c){return c.getContribution(Xt.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(c){if(this._model&&this._model.matches(c))return this._model;let C=!1;return this._model&&(C=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(c),C&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(h.MarkerNavigationWidget,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(y=>{var w,D,I;(!((w=this._model)===null||w===void 0?void 0:w.selected)||!S.Range.containsPosition((D=this._model)===null||D===void 0?void 0:D.selected.marker,y.position))&&((I=this._model)===null||I===void 0||I.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const y=this._model.find(this._editor.getModel().uri,this._widget.position);y?this._widget.updateMarker(y.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(y=>{this._editorService.openCodeEditor({resource:y.resource,options:{pinned:!0,revealIfOpened:!0,selection:S.Range.lift(y).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(c=!0){this._cleanUp(),c&&this._editor.focus()}showAtMarker(c){if(this._editor.hasModel()){const C=this._getOrCreateModel(this._editor.getModel().uri);C.resetIndex(),C.move(!0,this._editor.getModel(),new g.Position(c.startLineNumber,c.startColumn)),C.selected&&this._widget.showAtMarker(C.selected.marker,C.selected.index,C.selected.total)}}nagivate(c,C){return Me(this,void 0,void 0,function*(){if(this._editor.hasModel()){const y=this._getOrCreateModel(C?void 0:this._editor.getModel().uri);if(y.move(c,this._editor.getModel(),this._editor.getPosition()),!y.selected)return;if(y.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const w=yield this._editorService.openCodeEditor({resource:y.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:y.selected.marker}},this._editor);w&&(Xt.get(w).close(),Xt.get(w).nagivate(c,C))}else this._widget.showAtMarker(y.selected.marker,y.selected.index,y.selected.total)}})}};d.ID="editor.contrib.markerController",d=Ve([Ce(1,p.IMarkerNavigationService),Ce(2,t.IContextKeyService),Ce(3,E.ICodeEditorService),Ce(4,a.IInstantiationService)],d),e.MarkerController=d;class u extends M.EditorAction{constructor(c,C,y){super(y);this._next=c,this._multiFile=C}run(c,C){return Me(this,void 0,void 0,function*(){C.hasModel()&&d.get(C).nagivate(this._next,this._multiFile)})}}class n extends u{constructor(){super(!0,!1,{id:n.ID,label:n.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.focus,primary:512|66,weight:100},menuOpts:{menuId:h.MarkerNavigationWidget.TitleMenu,title:n.LABEL,icon:(0,l.registerIcon)("marker-navigation-next",L.Codicon.arrowDown,v.localize(1,null)),group:"navigation",order:1}})}}e.NextMarkerAction=n,n.ID="editor.action.marker.next",n.LABEL=v.localize(0,null);class r extends u{constructor(){super(!1,!1,{id:r.ID,label:r.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.focus,primary:1024|512|66,weight:100},menuOpts:{menuId:h.MarkerNavigationWidget.TitleMenu,title:n.LABEL,icon:(0,l.registerIcon)("marker-navigation-previous",L.Codicon.arrowUp,v.localize(3,null)),group:"navigation",order:2}})}}r.ID="editor.action.marker.prev",r.LABEL=v.localize(2,null);class s extends u{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:v.localize(4,null),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.focus,primary:66,weight:100},menuOpts:{menuId:i.MenuId.MenubarGoMenu,title:v.localize(5,null),group:"6_problem_nav",order:1}})}}class o extends u{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:v.localize(6,null),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.focus,primary:1024|66,weight:100},menuOpts:{menuId:i.MenuId.MenubarGoMenu,title:v.localize(7,null),group:"6_problem_nav",order:2}})}}(0,M.registerEditorContribution)(d.ID,d),(0,M.registerEditorAction)(n),(0,M.registerEditorAction)(r),(0,M.registerEditorAction)(s),(0,M.registerEditorAction)(o);const m=new t.RawContextKey("markersNavigationVisible",!1),_=M.EditorCommand.bindToContribution(d.get);(0,M.registerEditorCommand)(new _({id:"closeMarkersNavigation",precondition:m,handler:f=>f.close(),kbOpts:{weight:100+50,kbExpr:b.EditorContextKeys.focus,primary:9,secondary:[1024|9]}}))}),define(ee[727],te([0,1,7,227,28,4,2,42,33,165,3,31,40,39,68,640,132,524,9,43,127,161,14,131,123,378]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u,n,r,s,o,m,_,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferenceWidget=e.LayoutData=void 0;class c{constructor(I,T){this._editor=I,this._model=T,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new g.DisposableStore,this._callOnModelChange=new g.DisposableStore,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const I=this._editor.getModel();if(!!I){for(let T of this._model.references)if(T.uri.toString()===I.uri.toString()){this._addDecorations(T.parent);return}}}_addDecorations(I){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const T=[],F=[];for(let R=0,A=I.children.length;R<A;R++){let O=I.children[R];this._decorationIgnoreSet.has(O.id)||O.uri.toString()===this._editor.getModel().uri.toString()&&(T.push({range:O.range,options:c.DecorationOptions}),F.push(R))}const P=this._editor.deltaDecorations([],T);for(let R=0;R<P.length;R++)this._decorations.set(P[R],I.children[F[R]])}_onDecorationChanged(){const I=[],T=this._editor.getModel();if(!!T){for(let[F,P]of this._decorations){const R=T.getDecorationRange(F);if(!R)continue;let A=!1;if(!v.Range.equalsRange(R,P.range)){if(v.Range.spansMultipleLines(R))A=!0;else{const O=P.range.endColumn-P.range.startColumn,k=R.endColumn-R.startColumn;O!==k&&(A=!0)}A?(this._decorationIgnoreSet.add(P.id),I.push(F)):P.range=R}}for(let F=0,P=I.length;F<P;F++)this._decorations.delete(I[F]);this._editor.deltaDecorations(I,[])}}removeDecorations(){this._editor.deltaDecorations([...this._decorations.keys()],[]),this._decorations.clear()}}c.DecorationOptions=i.ModelDecorationOptions.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class C{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(I){let T,F;try{const P=JSON.parse(I);T=P.ratio,F=P.heightInLines}catch(P){}return{ratio:T||.7,heightInLines:F||18}}}e.LayoutData=C;class y extends o.WorkbenchAsyncDataTree{}let w=class extends d.PeekViewWidget{constructor(I,T,F,P,R,A,O,k,V,B,x,K){super(I,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},A);this._defaultTreeKeyboardSupport=T,this.layoutData=F,this._textModelResolverService=R,this._instantiationService=A,this._peekViewService=O,this._uriLabel=k,this._undoRedoService=V,this._keybindingService=B,this._modeService=x,this._languageConfigurationService=K,this._disposeOnNewModel=new g.DisposableStore,this._callOnDispose=new g.DisposableStore,this._onDidSelectReference=new E.Emitter,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new L.Dimension(0,0),this._applyTheme(P.getColorTheme()),this._callOnDispose.add(P.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(I,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,g.dispose)(this._preview),(0,g.dispose)(this._previewNotAvailableMessage),(0,g.dispose)(this._tree),(0,g.dispose)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(I){const T=I.getColor(d.peekViewBorder)||M.Color.transparent;this.style({arrowColor:T,frameColor:T,headerBackgroundColor:I.getColor(d.peekViewTitleBackground)||M.Color.transparent,primaryHeadingColor:I.getColor(d.peekViewTitleForeground),secondaryHeadingColor:I.getColor(d.peekViewTitleInfoForeground)})}show(I){this.editor.revealRangeInCenterIfOutsideViewport(I,0),super.show(I,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(I){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:I.ctrlKey||I.metaKey||I.altKey?"side":"open",source:"title"})}_fillBody(I){this.setCssClass("reference-zone-widget"),this._messageContainer=L.append(I,L.$("div.messages")),L.hide(this._messageContainer),this._splitView=new N.SplitView(I,{orientation:1}),this._previewContainer=L.append(I,L.$("div.preview.inline"));let T={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(p.EmbeddedCodeEditorWidget,this._previewContainer,T,this.editor),L.hide(this._previewContainer),this._previewNotAvailableMessage=new i.TextModel(u.localize(0,null),i.TextModel.DEFAULT_CREATION_OPTIONS,null,null,this._undoRedoService,this._modeService,this._languageConfigurationService),this._treeContainer=L.append(I,L.$("div.ref-tree.inline"));const F={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new h.AccessibilityProvider,keyboardNavigationLabelProvider:this._instantiationService.createInstance(h.StringRepresentationProvider),identityProvider:new h.IdentityProvider,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:d.peekViewResultsBackground}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(L.addStandardDisposableListener(this._treeContainer,"keydown",R=>{R.equals(9)&&(this._keybindingService.dispatchEvent(R,R.target),R.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(y,"ReferencesWidget",this._treeContainer,new h.Delegate,[this._instantiationService.createInstance(h.FileReferencesRenderer),this._instantiationService.createInstance(h.OneReferenceRenderer)],this._instantiationService.createInstance(h.DataSource),F),this._splitView.addView({onDidChange:E.Event.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:R=>{this._preview.layout({height:this._dim.height,width:R})}},N.Sizing.Distribute),this._splitView.addView({onDidChange:E.Event.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:R=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${R}px`,this._tree.layout(this._dim.height,R)}},N.Sizing.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));let P=(R,A)=>{R instanceof f.OneReference&&(A==="show"&&this._revealReference(R,!1),this._onDidSelectReference.fire({element:R,kind:A,source:"tree"}))};this._tree.onDidOpen(R=>{R.sideBySide?P(R.element,"side"):R.editorOptions.pinned?P(R.element,"goto"):P(R.element,"show")}),L.hide(this._treeContainer)}_onWidth(I){this._dim&&this._doLayoutBody(this._dim.height,I)}_doLayoutBody(I,T){super._doLayoutBody(I,T),this._dim=new L.Dimension(T,I),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(T),this._splitView.resizeView(0,T*this.layoutData.ratio)}setSelection(I){return this._revealReference(I,!0).then(()=>{!this._model||(this._tree.setSelection([I]),this._tree.setFocus([I]))})}setModel(I){return this._disposeOnNewModel.clear(),this._model=I,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=u.localize(1,null),L.show(this._messageContainer),Promise.resolve(void 0)):(L.hide(this._messageContainer),this._decorationsManager=new c(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(I=>this._tree.rerender(I))),this._disposeOnNewModel.add(this._preview.onMouseDown(I=>{const{event:T,target:F}=I;if(T.detail!==2)return;const P=this._getFocusedReference();!P||this._onDidSelectReference.fire({element:{uri:P.uri,range:F.range},kind:T.ctrlKey||T.metaKey||T.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),L.show(this._treeContainer),L.show(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[I]=this._tree.getFocus();if(I instanceof f.OneReference)return I;if(I instanceof f.FileReferences&&I.children.length>0)return I.children[0]}revealReference(I){return Me(this,void 0,void 0,function*(){yield this._revealReference(I,!1),this._onDidSelectReference.fire({element:I,kind:"goto",source:"tree"})})}_revealReference(I,T){return Me(this,void 0,void 0,function*(){if(this._revealedReference===I)return;this._revealedReference=I,I.uri.scheme!==S.Schemas.inMemory?this.setTitle((0,b.basenameOrAuthority)(I.uri),this._uriLabel.getUriLabel((0,b.dirname)(I.uri))):this.setTitle(u.localize(2,null));const F=this._textModelResolverService.createModelReference(I.uri);this._tree.getInput()===I.parent?this._tree.reveal(I):(T&&this._tree.reveal(I.parent),yield this._tree.expand(I.parent),this._tree.reveal(I));const P=yield F;if(!this._model){P.dispose();return}(0,g.dispose)(this._previewModelReference);const R=P.object;if(R){const A=this._preview.getModel()===R.textEditorModel?0:1,O=v.Range.lift(I.range).collapseToStart();this._previewModelReference=P,this._preview.setModel(R.textEditorModel),this._preview.setSelection(O),this._preview.revealRangeInCenter(O,A)}else this._preview.setModel(this._previewNotAvailableMessage),P.dispose()})}};w=Ve([Ce(3,m.IThemeService),Ce(4,l.ITextModelService),Ce(5,n.IInstantiationService),Ce(6,d.IPeekViewService),Ce(7,s.ILabelService),Ce(8,_.IUndoRedoService),Ce(9,r.IKeybindingService),Ce(10,a.IModeService),Ce(11,t.ILanguageConfigurationService)],w),e.ReferenceWidget=w}),define(ee[296],te([0,1,10,12,56,2,30,13,3,132,522,26,37,17,9,77,161,41,78,123,727]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u,n,r,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesController=e.ctxReferenceSearchVisible=void 0,e.ctxReferenceSearchVisible=new a.RawContextKey("referenceSearchVisible",!1,v.localize(0,null));let o=class ci{constructor(f,c,C,y,w,D,I,T){this._defaultTreeKeyboardSupport=f,this._editor=c,this._editorService=y,this._notificationService=w,this._instantiationService=D,this._storageService=I,this._configurationService=T,this._disposables=new E.DisposableStore,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=e.ctxReferenceSearchVisible.bindTo(C)}static get(f){return f.getContribution(ci.ID)}dispose(){var f,c;this._referenceSearchVisible.reset(),this._disposables.dispose(),(f=this._widget)===null||f===void 0||f.dispose(),(c=this._model)===null||c===void 0||c.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(f,c,C){let y;if(this._widget&&(y=this._widget.position),this.closeWidget(),!!y&&f.containsPosition(y))return;this._peekMode=C,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const w="peekViewLayout",D=s.LayoutData.fromJSON(this._storageService.get(w,0,"{}"));this._widget=this._instantiationService.createInstance(s.ReferenceWidget,this._editor,this._defaultTreeKeyboardSupport,D),this._widget.setTitle(v.localize(1,null)),this._widget.show(f),this._disposables.add(this._widget.onDidClose(()=>{c.cancel(),this._widget&&(this._storageService.store(w,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(T=>{let{element:F,kind:P}=T;if(!!F)switch(P){case"open":(T.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(F,!1,!1);break;case"side":this.openReference(F,!0,!1);break;case"goto":C?this._gotoReference(F):this.openReference(F,!1,!0);break}}));const I=++this._requestIdPool;c.then(T=>{var F;if(I!==this._requestIdPool||!this._widget){T.dispose();return}return(F=this._model)===null||F===void 0||F.dispose(),this._model=T,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(v.localize(2,null,this._model.title,this._model.references.length));let P=this._editor.getModel().uri,R=new S.Position(f.startLineNumber,f.startColumn),A=this._model.nearestReference(P,R);if(A)return this._widget.setSelection(A).then(()=>{this._widget&&this._editor.getOption(76)==="editor"&&this._widget.focusOnPreviewEditor()})}})},T=>{this._notificationService.error(T)})}changeFocusBetweenPreviewAndReferences(){!this._widget||(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(f){return Me(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const c=this._widget.position;if(!c)return;const C=this._model.nearestReference(this._editor.getModel().uri,c);if(!C)return;const y=this._model.nextOrPreviousReference(C,f),w=this._editor.hasTextFocus(),D=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(y),yield this._gotoReference(y),w?this._editor.focus():this._widget&&D&&this._widget.focusOnPreviewEditor()})}revealReference(f){return Me(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(f))})}closeWidget(f=!0){var c,C;(c=this._widget)===null||c===void 0||c.dispose(),(C=this._model)===null||C===void 0||C.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,f&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(f){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;const c=b.Range.lift(f.range).collapseToStart();return this._editorService.openCodeEditor({resource:f.uri,options:{selection:c}},this._editor).then(C=>{var y;if(this._ignoreModelChangeEvent=!1,!C||!this._widget){this.closeWidget();return}if(this._editor===C)this._widget.show(c),this._widget.focusOnReferenceTree();else{const w=ci.get(C),D=this._model.clone();this.closeWidget(),C.focus(),w.toggleWidget(c,(0,L.createCancelablePromise)(I=>Promise.resolve(D)),(y=this._peekMode)!==null&&y!==void 0?y:!1)}},C=>{this._ignoreModelChangeEvent=!1,(0,N.onUnexpectedError)(C)})}openReference(f,c,C){c||this.closeWidget();const{uri:y,range:w}=f;this._editorService.openCodeEditor({resource:y,options:{selection:w,pinned:C}},this._editor,c)}};o.ID="editor.contrib.referencesController",o=Ve([Ce(2,a.IContextKeyService),Ce(3,g.ICodeEditorService),Ce(4,u.INotificationService),Ce(5,l.IInstantiationService),Ce(6,n.IStorageService),Ce(7,t.IConfigurationService)],o),e.ReferencesController=o;function m(_,f){const c=(0,p.getOuterEditor)(_);if(!c)return;let C=o.get(c);C&&f(C)}h.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,M.KeyChord)(2048|41,60),when:a.ContextKeyExpr.or(e.ctxReferenceSearchVisible,p.PeekContext.inPeekEditor),handler(_){m(_,f=>{f.changeFocusBetweenPreviewAndReferences()})}}),h.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToNextReference",weight:100-10,primary:62,secondary:[70],when:a.ContextKeyExpr.or(e.ctxReferenceSearchVisible,p.PeekContext.inPeekEditor),handler(_){m(_,f=>{f.goToNextOrPreviousReference(!0)})}}),h.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:100-10,primary:1024|62,secondary:[1024|70],when:a.ContextKeyExpr.or(e.ctxReferenceSearchVisible,p.PeekContext.inPeekEditor),handler(_){m(_,f=>{f.goToNextOrPreviousReference(!1)})}}),i.CommandsRegistry.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),i.CommandsRegistry.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),i.CommandsRegistry.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),i.CommandsRegistry.registerCommand("closeReferenceSearch",_=>m(_,f=>f.closeWidget())),h.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:100-101,primary:9,secondary:[1024|9],when:a.ContextKeyExpr.and(p.PeekContext.inPeekEditor,a.ContextKeyExpr.not("config.editor.stablePeek"))}),h.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:200+50,primary:9,secondary:[1024|9],when:a.ContextKeyExpr.and(e.ctxReferenceSearchVisible,a.ContextKeyExpr.not("config.editor.stablePeek"))}),h.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2048|18]},when:a.ContextKeyExpr.and(e.ctxReferenceSearchVisible,d.WorkbenchListFocusContextKey),handler(_){var f;const C=(f=_.get(d.IListService).lastFocusedList)===null||f===void 0?void 0:f.getFocus();Array.isArray(C)&&C[0]instanceof r.OneReference&&m(_,y=>y.revealReference(C[0]))}}),h.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2048|3,mac:{primary:256|3},when:a.ContextKeyExpr.and(e.ctxReferenceSearchVisible,d.WorkbenchListFocusContextKey),handler(_){var f;const C=(f=_.get(d.IListService).lastFocusedList)===null||f===void 0?void 0:f.getFocus();Array.isArray(C)&&C[0]instanceof r.OneReference&&m(_,y=>y.openReference(C[0],!0,!0))}}),i.CommandsRegistry.registerCommand("openReference",_=>{var f;const C=(f=_.get(d.IListService).lastFocusedList)===null||f===void 0?void 0:f.getFocus();Array.isArray(C)&&C[0]instanceof r.OneReference&&m(_,y=>y.openReference(C[0],!1,!0))})}),define(ee[297],te([0,1,36,45,10,56,15,20,22,70,116,16,30,165,13,3,25,18,296,123,658,160,132,520,38,26,17,9,41,61,284]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u,n,r,s,o,m,_,f,c,C,y,w,D,I){"use strict";var T,F,P,R,A,O,k,V;Object.defineProperty(e,"__esModule",{value:!0}),e.DefinitionAction=void 0,f.MenuRegistry.appendMenuItem(f.MenuId.EditorContext,{submenu:f.MenuId.EditorContextPeek,title:_.localize(0,null),group:"navigation",order:100});const B=new Set;function x(j){const U=new j;return(0,i.registerInstantiatedEditorAction)(U),B.add(U.id),U}class K extends i.EditorAction{constructor(U,Y){super(Y);this._configuration=U}run(U,Y){if(!Y.hasModel())return Promise.resolve(void 0);const ne=U.get(w.INotificationService),J=U.get(t.ICodeEditorService),re=U.get(D.IEditorProgressService),ge=U.get(s.ISymbolNavigationService),pe=Y.getModel(),oe=Y.getPosition(),$=new p.EditorStateCancellationTokenSource(Y,1|4),ie=(0,M.raceCancellation)(this._getLocationModel(pe,oe,$.token),$.token).then(le=>Me(this,void 0,void 0,function*(){if(!le||$.token.isCancellationRequested)return;(0,N.alert)(le.ariaMessage);let de;if(le.referenceAt(pe.uri,oe)){const he=this._getAlternativeCommand(Y);he!==this.id&&B.has(he)&&(de=Y.getAction(he))}const fe=le.references.length;if(fe===0){if(!this._configuration.muteMessage){const he=pe.getWordAtPosition(oe);o.MessageController.get(Y).showMessage(this._getNoResultFoundMessage(he),oe)}}else if(fe===1&&de)de.run();else return this._onResult(J,ge,Y,le)}),le=>{ne.error(le)}).finally(()=>{$.dispose()});return re.showWhile(ie,250),ie}_onResult(U,Y,ne,J){return Me(this,void 0,void 0,function*(){const re=this._getGoToPreference(ne);if(!(ne instanceof a.EmbeddedCodeEditorWidget)&&(this._configuration.openInPeek||re==="peek"&&J.references.length>1))this._openInPeek(ne,J);else{const ge=J.firstReference(),pe=J.references.length>1&&re==="gotoAndPeek",oe=yield this._openReference(ne,U,ge,this._configuration.openToSide,!pe);pe&&oe?this._openInPeek(oe,J):J.dispose(),re==="goto"&&Y.put(ge)}})}_openReference(U,Y,ne,J,re){return Me(this,void 0,void 0,function*(){let ge;if((0,u.isLocationLink)(ne)&&(ge=ne.targetSelectionRange),ge||(ge=ne.range),!ge)return;const pe=yield Y.openCodeEditor({resource:ne.uri,options:{selection:h.Range.collapseToStart(ge),selectionRevealType:3}},U,J);if(!!pe){if(re){const oe=pe.getModel(),$=pe.deltaDecorations([],[{range:ge,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{pe.getModel()===oe&&pe.deltaDecorations($,[])},350)}return pe}})}_openInPeek(U,Y){let ne=n.ReferencesController.get(U);ne&&U.hasModel()?ne.toggleWidget(U.getSelection(),(0,M.createCancelablePromise)(J=>Promise.resolve(Y)),this._configuration.openInPeek):Y.dispose()}}class X extends K{_getLocationModel(U,Y,ne){return Me(this,void 0,void 0,function*(){return new r.ReferencesModel(yield(0,I.getDefinitionsAtPosition)(U,Y,ne),_.localize(1,null))})}_getNoResultFoundMessage(U){return U&&U.word?_.localize(2,null,U.word):_.localize(3,null)}_getAlternativeCommand(U){return U.getOption(50).alternativeDefinitionCommand}_getGoToPreference(U){return U.getOption(50).multipleDefinitions}}e.DefinitionAction=X;const Z=g.isWeb&&!L.isStandalone?2048|70:70;x((T=class ui extends X{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:ui.id,label:_.localize(4,null),alias:"Go to Definition",precondition:C.ContextKeyExpr.and(d.EditorContextKeys.hasDefinitionProvider,d.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:Z,weight:100},contextMenuOpts:{group:"navigation",order:1.1}});c.CommandsRegistry.registerCommandAlias("editor.action.goToDeclaration",ui.id)}},T.id="editor.action.revealDefinition",T)),x((F=class hi extends X{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:hi.id,label:_.localize(5,null),alias:"Open Definition to the Side",precondition:C.ContextKeyExpr.and(d.EditorContextKeys.hasDefinitionProvider,d.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:(0,E.KeyChord)(2048|41,Z),weight:100}});c.CommandsRegistry.registerCommandAlias("editor.action.openDeclarationToTheSide",hi.id)}},F.id="editor.action.revealDefinitionAside",F)),x((P=class gi extends X{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:gi.id,label:_.localize(6,null),alias:"Peek Definition",precondition:C.ContextKeyExpr.and(d.EditorContextKeys.hasDefinitionProvider,m.PeekContext.notInPeekEditor,d.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:512|70,linux:{primary:2048|1024|68},weight:100},contextMenuOpts:{menuId:f.MenuId.EditorContextPeek,group:"peek",order:2}});c.CommandsRegistry.registerCommandAlias("editor.action.previewDeclaration",gi.id)}},P.id="editor.action.peekDefinition",P));class q extends K{_getLocationModel(U,Y,ne){return Me(this,void 0,void 0,function*(){return new r.ReferencesModel(yield(0,I.getDeclarationsAtPosition)(U,Y,ne),_.localize(7,null))})}_getNoResultFoundMessage(U){return U&&U.word?_.localize(8,null,U.word):_.localize(9,null)}_getAlternativeCommand(U){return U.getOption(50).alternativeDeclarationCommand}_getGoToPreference(U){return U.getOption(50).multipleDeclarations}}x((R=class Gi extends q{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Gi.id,label:_.localize(10,null),alias:"Go to Declaration",precondition:C.ContextKeyExpr.and(d.EditorContextKeys.hasDeclarationProvider,d.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3}})}_getNoResultFoundMessage(U){return U&&U.word?_.localize(11,null,U.word):_.localize(12,null)}},R.id="editor.action.revealDeclaration",R)),x(class extends q{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:_.localize(13,null),alias:"Peek Declaration",precondition:C.ContextKeyExpr.and(d.EditorContextKeys.hasDeclarationProvider,m.PeekContext.notInPeekEditor,d.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:f.MenuId.EditorContextPeek,group:"peek",order:3}})}});class H extends K{_getLocationModel(U,Y,ne){return Me(this,void 0,void 0,function*(){return new r.ReferencesModel(yield(0,I.getTypeDefinitionsAtPosition)(U,Y,ne),_.localize(14,null))})}_getNoResultFoundMessage(U){return U&&U.word?_.localize(15,null,U.word):_.localize(16,null)}_getAlternativeCommand(U){return U.getOption(50).alternativeTypeDefinitionCommand}_getGoToPreference(U){return U.getOption(50).multipleTypeDefinitions}}x((A=class Zi extends H{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Zi.ID,label:_.localize(17,null),alias:"Go to Type Definition",precondition:C.ContextKeyExpr.and(d.EditorContextKeys.hasTypeDefinitionProvider,d.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4}})}},A.ID="editor.action.goToTypeDefinition",A)),x((O=class Yi extends H{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Yi.ID,label:_.localize(18,null),alias:"Peek Type Definition",precondition:C.ContextKeyExpr.and(d.EditorContextKeys.hasTypeDefinitionProvider,m.PeekContext.notInPeekEditor,d.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:f.MenuId.EditorContextPeek,group:"peek",order:4}})}},O.ID="editor.action.peekTypeDefinition",O));class G extends K{_getLocationModel(U,Y,ne){return Me(this,void 0,void 0,function*(){return new r.ReferencesModel(yield(0,I.getImplementationsAtPosition)(U,Y,ne),_.localize(19,null))})}_getNoResultFoundMessage(U){return U&&U.word?_.localize(20,null,U.word):_.localize(21,null)}_getAlternativeCommand(U){return U.getOption(50).alternativeImplementationCommand}_getGoToPreference(U){return U.getOption(50).multipleImplementations}}x((k=class Xi extends G{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Xi.ID,label:_.localize(22,null),alias:"Go to Implementations",precondition:C.ContextKeyExpr.and(d.EditorContextKeys.hasImplementationProvider,d.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:2048|70,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}},k.ID="editor.action.goToImplementation",k)),x((V=class Qi extends G{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Qi.ID,label:_.localize(23,null),alias:"Peek Implementations",precondition:C.ContextKeyExpr.and(d.EditorContextKeys.hasImplementationProvider,m.PeekContext.notInPeekEditor,d.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:2048|1024|70,weight:100},contextMenuOpts:{menuId:f.MenuId.EditorContextPeek,group:"peek",order:5}})}},V.ID="editor.action.peekImplementation",V));class z extends K{_getNoResultFoundMessage(U){return U?_.localize(24,null,U.word):_.localize(25,null)}_getAlternativeCommand(U){return U.getOption(50).alternativeReferenceCommand}_getGoToPreference(U){return U.getOption(50).multipleReferences}}x(class extends z{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:_.localize(26,null),alias:"Go to References",precondition:C.ContextKeyExpr.and(d.EditorContextKeys.hasReferenceProvider,m.PeekContext.notInPeekEditor,d.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:1024|70,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}_getLocationModel(U,Y,ne){return Me(this,void 0,void 0,function*(){return new r.ReferencesModel(yield(0,I.getReferencesAtPosition)(U,Y,!0,ne),_.localize(27,null))})}}),x(class extends z{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:_.localize(28,null),alias:"Peek References",precondition:C.ContextKeyExpr.and(d.EditorContextKeys.hasReferenceProvider,m.PeekContext.notInPeekEditor,d.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:f.MenuId.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(U,Y,ne){return Me(this,void 0,void 0,function*(){return new r.ReferencesModel(yield(0,I.getReferencesAtPosition)(U,Y,!1,ne),_.localize(29,null))})}});class W extends K{constructor(U,Y,ne){super(U,{id:"editor.action.goToLocation",label:_.localize(30,null),alias:"Go to Any Symbol",precondition:C.ContextKeyExpr.and(m.PeekContext.notInPeekEditor,d.EditorContextKeys.isInWalkThroughSnippet.toNegated())});this._references=Y,this._gotoMultipleBehaviour=ne}_getLocationModel(U,Y,ne){return Me(this,void 0,void 0,function*(){return new r.ReferencesModel(this._references,_.localize(31,null))})}_getNoResultFoundMessage(U){return U&&_.localize(32,null,U.word)||""}_getGoToPreference(U){var Y;return(Y=this._gotoMultipleBehaviour)!==null&&Y!==void 0?Y:U.getOption(50).multipleReferences}_getAlternativeCommand(){return""}}c.CommandsRegistry.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:b.URI},{name:"position",description:"The position at which to start",constraint:l.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(j,U,Y,ne,J,re,ge)=>Me(void 0,void 0,void 0,function*(){(0,S.assertType)(b.URI.isUri(U)),(0,S.assertType)(l.Position.isIPosition(Y)),(0,S.assertType)(Array.isArray(ne)),(0,S.assertType)(typeof J=="undefined"||typeof J=="string"),(0,S.assertType)(typeof ge=="undefined"||typeof ge=="boolean");const pe=j.get(t.ICodeEditorService),oe=yield pe.openCodeEditor({resource:U},pe.getFocusedCodeEditor());if((0,v.isCodeEditor)(oe))return oe.setPosition(Y),oe.revealPositionInCenterIfOutsideViewport(Y,0),oe.invokeWithinContext($=>{const ie=new class extends W{_getNoResultFoundMessage(le){return re||super._getNoResultFoundMessage(le)}}({muteMessage:!Boolean(re),openInPeek:Boolean(ge),openToSide:!1},ne,J);$.get(y.IInstantiationService).invokeFunction(ie.run.bind(ie),oe)})})}),c.CommandsRegistry.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:b.URI},{name:"position",description:"The position at which to start",constraint:l.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(j,U,Y,ne,J)=>Me(void 0,void 0,void 0,function*(){j.get(c.ICommandService).executeCommand("editor.action.goToLocations",U,Y,ne,J,void 0,!0)})}),c.CommandsRegistry.registerCommand({id:"editor.action.findReferences",handler:(j,U,Y)=>{(0,S.assertType)(b.URI.isUri(U)),(0,S.assertType)(l.Position.isIPosition(Y));const ne=j.get(t.ICodeEditorService);return ne.openCodeEditor({resource:U},ne.getFocusedCodeEditor()).then(J=>{if(!(0,v.isCodeEditor)(J)||!J.hasModel())return;const re=n.ReferencesController.get(J);if(!re)return;const ge=(0,M.createCancelablePromise)(oe=>(0,I.getReferencesAtPosition)(J.getModel(),l.Position.lift(Y),!1,oe).then($=>new r.ReferencesModel($,_.localize(33,null)))),pe=new h.Range(Y.lineNumber,Y.column,Y.lineNumber,Y.column);return Promise.resolve(re.toggleWidget(pe,ge,!1))})}}),c.CommandsRegistry.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations"),f.MenuRegistry.appendMenuItems([{id:f.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.revealDefinition",title:_.localize(34,null)},group:"4_symbol_nav",order:2}},{id:f.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.revealDeclaration",title:_.localize(35,null)},group:"4_symbol_nav",order:3}},{id:f.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.goToTypeDefinition",title:_.localize(36,null)},group:"4_symbol_nav",order:3}},{id:f.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.goToImplementation",title:_.localize(37,null)},group:"4_symbol_nav",order:4}},{id:f.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.goToReferences",title:_.localize(38,null)},group:"4_symbol_nav",order:5}}])}),define(ee[298],te([0,1,10,12,73,2,20,70,16,13,3,18,39,68,246,132,521,17,24,14,297,284,377]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u,n,r,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoDefinitionAtPositionEditorContribution=void 0;let m=class Bt{constructor(f,c,C){this.textModelResolverService=c,this.modeService=C,this.toUnhook=new E.DisposableStore,this.toUnhookForKeyboard=new E.DisposableStore,this.linkDecorations=[],this.currentWordAtPosition=null,this.previousPromise=null,this.editor=f;let y=new l.ClickLinkGesture(f);this.toUnhook.add(y),this.toUnhook.add(y.onMouseMoveOrRelevantKeyDown(([w,D])=>{this.startFindDefinitionFromMouse(w,(0,g.withNullAsUndefined)(D))})),this.toUnhook.add(y.onExecute(w=>{this.isEnabled(w)&&this.gotoDefinition(w.target.position,w.hasSideBySideModifier).then(()=>{this.removeLinkDecorations()},D=>{this.removeLinkDecorations(),(0,N.onUnexpectedError)(D)})})),this.toUnhook.add(y.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(f){return f.getContribution(Bt.ID)}startFindDefinitionFromCursor(f){return this.startFindDefinition(f).then(()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(c=>{c&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(f,c){if(f.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(f,c)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const C=f.target.position;this.startFindDefinition(C)}startFindDefinition(f){var c;this.toUnhookForKeyboard.clear();const C=f?(c=this.editor.getModel())===null||c===void 0?void 0:c.getWordAtPosition(f):null;if(!C)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===C.startColumn&&this.currentWordAtPosition.endColumn===C.endColumn&&this.currentWordAtPosition.word===C.word)return Promise.resolve(0);this.currentWordAtPosition=C;let y=new S.EditorState(this.editor,4|1|2|8);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,L.createCancelablePromise)(w=>this.findDefinition(f,w)),this.previousPromise.then(w=>{if(!w||!w.length||!y.validate(this.editor)){this.removeLinkDecorations();return}if(w.length>1)this.addDecoration(new v.Range(f.lineNumber,C.startColumn,f.lineNumber,C.endColumn),new M.MarkdownString().appendText(d.localize(0,null,w.length)));else{let D=w[0];if(!D.uri)return;this.textModelResolverService.createModelReference(D.uri).then(I=>{if(!I.object||!I.object.textEditorModel){I.dispose();return}const{object:{textEditorModel:T}}=I,{startLineNumber:F}=D.range;if(F<1||F>T.getLineCount()){I.dispose();return}const P=this.getPreviewValue(T,F,D);let R;D.originSelectionRange?R=v.Range.lift(D.originSelectionRange):R=new v.Range(f.lineNumber,C.startColumn,f.lineNumber,C.endColumn);const A=this.modeService.getModeIdByFilepathOrFirstLine(T.uri);this.addDecoration(R,new M.MarkdownString().appendCodeblock(A||"",P)),I.dispose()})}}).then(void 0,N.onUnexpectedError)}getPreviewValue(f,c,C){let y=C.targetSelectionRange?C.range:this.getPreviewRangeBasedOnBrackets(f,c);return y.endLineNumber-y.startLineNumber>=Bt.MAX_SOURCE_PREVIEW_LINES&&(y=this.getPreviewRangeBasedOnIndentation(f,c)),this.stripIndentationFromPreviewRange(f,c,y)}stripIndentationFromPreviewRange(f,c,C){let w=f.getLineFirstNonWhitespaceColumn(c);for(let I=c+1;I<C.endLineNumber;I++){const T=f.getLineFirstNonWhitespaceColumn(I);w=Math.min(w,T)}return f.getValueInRange(C).replace(new RegExp(`^\\s{${w-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(f,c){const C=f.getLineFirstNonWhitespaceColumn(c),y=Math.min(f.getLineCount(),c+Bt.MAX_SOURCE_PREVIEW_LINES);let w=c+1;for(;w<y;w++){let D=f.getLineFirstNonWhitespaceColumn(w);if(C===D)break}return new v.Range(c,1,w+1,1)}getPreviewRangeBasedOnBrackets(f,c){const C=Math.min(f.getLineCount(),c+Bt.MAX_SOURCE_PREVIEW_LINES),y=[];let w=!0,D=f.bracketPairs.findNextBracket(new p.Position(c,1));for(;D!==null;){if(y.length===0)y.push(D);else{const P=y[y.length-1];if(P.open[0]===D.open[0]&&P.isOpen&&!D.isOpen?y.pop():y.push(D),y.length===0)if(w)w=!1;else return new v.Range(c,1,D.range.endLineNumber+1,1)}const I=f.getLineMaxColumn(c);let T=D.range.endLineNumber,F=D.range.endColumn;if(I===D.range.endColumn&&(T++,F=1),T>C)return new v.Range(c,1,C+1,1);D=f.bracketPairs.findNextBracket(new p.Position(T,F))}return new v.Range(c,1,C+1,1)}addDecoration(f,c){const C={range:f,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:c}};this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[C])}removeLinkDecorations(){this.linkDecorations.length>0&&(this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[]))}isEnabled(f,c){return this.editor.hasModel()&&f.isNoneOrSingleMouseDown&&f.target.type===6&&(f.hasTriggerModifier||(c?c.keyCodeIsTriggerKey:!1))&&i.DefinitionProviderRegistry.has(this.editor.getModel())}findDefinition(f,c){const C=this.editor.getModel();return C?(0,o.getDefinitionsAtPosition)(C,f,c):Promise.resolve(null)}gotoDefinition(f,c){return this.editor.setPosition(f),this.editor.invokeWithinContext(C=>{const y=!c&&this.editor.getOption(77)&&!this.isInPeekEditor(C);return new s.DefinitionAction({openToSide:c,openInPeek:y,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(C,this.editor)})}isInPeekEditor(f){const c=f.get(u.IContextKeyService);return h.PeekContext.inPeekEditor.getValue(c)}dispose(){this.toUnhook.dispose()}};m.ID="editor.contrib.gotodefinitionatposition",m.MAX_SOURCE_PREVIEW_LINES=8,m=Ve([Ce(1,a.ITextModelService),Ce(2,t.IModeService)],m),e.GotoDefinitionAtPositionEditorContribution=m,(0,b.registerEditorContribution)(m.ID,m),(0,r.registerThemingParticipant)((_,f)=>{const c=_.getColor(n.editorActiveLinkForeground);c&&f.addRule(`.monaco-editor .goto-definition-link { color: ${c} !important; }`)})}),define(ee[728],te([0,1,7,19,10,12,2,33,3,192,159,291,152,295,529,93,54,61,24,14]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerHoverParticipant=e.MarkerHover=void 0;const s=L.$;class o{constructor(c,C,y){this.owner=c,this.range=C,this.marker=y}isValidForHoverAnchor(c){return c.type===1&&this.range.startColumn<=c.range.startColumn&&this.range.endColumn>=c.range.endColumn}}e.MarkerHover=o;const m={type:1,filter:{include:t.CodeActionKind.QuickFix}};let _=class{constructor(c,C,y,w){this._editor=c,this._hover=C,this._markerDecorationsService=y,this._openerService=w,this.recentMarkerCodeActionsInfo=void 0}computeSync(c,C){if(!this._editor.hasModel()||c.type!==1)return[];const y=this._editor.getModel(),w=c.range.startLineNumber,D=y.getLineMaxColumn(w),I=[];for(const T of C){const F=T.range.startLineNumber===w?T.range.startColumn:1,P=T.range.endLineNumber===w?T.range.endColumn:D,R=this._markerDecorationsService.getMarker(y.uri,T);if(!R)continue;const A=new b.Range(c.range.startLineNumber,F,c.range.startLineNumber,P);I.push(new o(this,A,R))}return I}renderHoverParts(c,C,y){if(!c.length)return g.Disposable.None;const w=new g.DisposableStore;c.forEach(I=>C.appendChild(this.renderMarkerHover(I,w)));const D=c.length===1?c[0]:c.sort((I,T)=>h.MarkerSeverity.compare(I.marker.severity,T.marker.severity))[0];return this.renderMarkerStatusbar(D,y,w),w}renderMarkerHover(c,C){const y=s("div.hover-row"),w=L.append(y,s("div.marker.hover-contents")),{source:D,message:I,code:T,relatedInformation:F}=c.marker;this._editor.applyFontInfo(w);const P=L.append(w,s("span"));if(P.style.whiteSpace="pre-wrap",P.innerText=I,D||T)if(T&&typeof T!="string"){const R=s("span");if(D){const V=L.append(R,s("span"));V.innerText=D}const A=L.append(R,s("a.code-link"));A.setAttribute("href",T.target.toString()),C.add(L.addDisposableListener(A,"click",V=>{this._openerService.open(T.target,{allowCommands:!0}),V.preventDefault(),V.stopPropagation()}));const O=L.append(A,s("span"));O.innerText=T.value;const k=L.append(w,R);k.style.opacity="0.6",k.style.paddingLeft="6px"}else{const R=L.append(w,s("span"));R.style.opacity="0.6",R.style.paddingLeft="6px",R.innerText=D&&T?`${D}(${T})`:D||`(${T})`}if((0,N.isNonEmptyArray)(F))for(const{message:R,resource:A,startLineNumber:O,startColumn:k}of F){const V=L.append(w,s("div"));V.style.marginTop="8px";const B=L.append(V,s("a"));B.innerText=`${(0,S.basename)(A)}(${O}, ${k}): `,B.style.cursor="pointer",C.add(L.addDisposableListener(B,"click",K=>{K.stopPropagation(),K.preventDefault(),this._openerService&&this._openerService.open(A,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:O,startColumn:k}}}).catch(E.onUnexpectedError)}));const x=L.append(V,s("span"));x.innerText=R,this._editor.applyFontInfo(x)}return y}renderMarkerStatusbar(c,C,y){if((c.marker.severity===h.MarkerSeverity.Error||c.marker.severity===h.MarkerSeverity.Warning||c.marker.severity===h.MarkerSeverity.Info)&&C.addAction({label:l.localize(0,null),commandId:a.NextMarkerAction.ID,run:()=>{this._hover.hide(),a.MarkerController.get(this._editor).showAtMarker(c.marker),this._editor.focus()}}),!this._editor.getOption(80)){const w=C.append(s("div"));this.recentMarkerCodeActionsInfo&&(h.IMarkerData.makeKey(this.recentMarkerCodeActionsInfo.marker)===h.IMarkerData.makeKey(c.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(w.textContent=l.localize(1,null)):this.recentMarkerCodeActionsInfo=void 0);const D=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?g.Disposable.None:y.add((0,M.disposableTimeout)(()=>w.textContent=l.localize(2,null),200));w.textContent||(w.textContent=String.fromCharCode(160));const I=this.getCodeActions(c.marker);y.add((0,g.toDisposable)(()=>I.cancel())),I.then(T=>{if(D.dispose(),this.recentMarkerCodeActionsInfo={marker:c.marker,hasCodeActions:T.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){T.dispose(),w.textContent=l.localize(3,null);return}w.style.display="none";let F=!1;y.add((0,g.toDisposable)(()=>{F||T.dispose()})),C.addAction({label:l.localize(4,null),commandId:i.QuickFixAction.Id,run:P=>{F=!0;const R=i.QuickFixController.get(this._editor),A=L.getDomNodePagePosition(P);this._hover.hide(),R.showCodeActions(m,T,{x:A.left+6,y:A.top+A.height+6})}})},E.onUnexpectedError)}}getCodeActions(c){return(0,M.createCancelablePromise)(C=>(0,v.getCodeActions)(this._editor.getModel(),new b.Range(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn),m,u.Progress.None,C))}};_=Ve([Ce(2,p.IMarkerDecorationsService),Ce(3,d.IOpenerService)],_),e.MarkerHoverParticipant=_,(0,r.registerThemingParticipant)((f,c)=>{const C=f.getColor(n.textLinkForeground);C&&c.addRule(`.monaco-hover .hover-contents a.code-link span { color: ${C}; }`);const y=f.getColor(n.textLinkActiveForeground);y&&c.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${y}; }`)})}),define(ee[729],te([0,1,16,30,296,37,17,9,41,78]),function(Q,e,L,N,M,E,g,S,b,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneReferencesController=void 0;let v=class extends M.ReferencesController{constructor(t,a,l,h,d,u,n){super(!0,t,a,l,h,d,u,n)}};v=Ve([Ce(1,g.IContextKeyService),Ce(2,N.ICodeEditorService),Ce(3,b.INotificationService),Ce(4,S.IInstantiationService),Ce(5,p.IStorageService),Ce(6,E.IConfigurationService)],v),e.StandaloneReferencesController=v,(0,L.registerEditorContribution)(M.ReferencesController.ID,v)}),define(ee[730],te([0,1,12,2,42,82,576,126,74,41,131]),function(Q,e,L,N,M,E,g,S,b,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoService=void 0;const i=!1;function t(_){return _.scheme===M.Schemas.file?_.fsPath:_.path}let a=0;class l{constructor(f,c,C,y,w,D,I){this.id=++a,this.type=0,this.actual=f,this.label=f.label,this.confirmBeforeUndo=f.confirmBeforeUndo||!1,this.resourceLabel=c,this.strResource=C,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=y,this.groupOrder=w,this.sourceId=D,this.sourceOrder=I,this.isValid=!0}setValid(f){this.isValid=f}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class h{constructor(f,c){this.resourceLabel=f,this.reason=c}}class d{constructor(){this.elements=new Map}createMessage(){const f=[],c=[];for(const[,y]of this.elements)(y.reason===0?f:c).push(y.resourceLabel);let C=[];return f.length>0&&C.push(g.localize(0,null,f.join(", "))),c.length>0&&C.push(g.localize(1,null,c.join(", "))),C.join(`
`)}get size(){return this.elements.size}has(f){return this.elements.has(f)}set(f,c){this.elements.set(f,c)}delete(f){return this.elements.delete(f)}}class u{constructor(f,c,C,y,w,D,I){this.id=++a,this.type=1,this.actual=f,this.label=f.label,this.confirmBeforeUndo=f.confirmBeforeUndo||!1,this.resourceLabels=c,this.strResources=C,this.groupId=y,this.groupOrder=w,this.sourceId=D,this.sourceOrder=I,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(f,c,C){this.removedResources||(this.removedResources=new d),this.removedResources.has(c)||this.removedResources.set(c,new h(f,C))}setValid(f,c,C){C?this.invalidatedResources&&(this.invalidatedResources.delete(c),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new d),this.invalidatedResources.has(c)||this.invalidatedResources.set(c,new h(f,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class n{constructor(f,c){this.resourceLabel=f,this.strResource=c,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const f of this._past)f.type===1&&f.removeResource(this.resourceLabel,this.strResource,0);for(const f of this._future)f.type===1&&f.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){let f=[];f.push(`* ${this.strResource}:`);for(let c=0;c<this._past.length;c++)f.push(`   * [UNDO] ${this._past[c]}`);for(let c=this._future.length-1;c>=0;c--)f.push(`   * [REDO] ${this._future[c]}`);return f.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}setElementsIsValid(f){for(const c of this._past)c.type===1?c.setValid(this.resourceLabel,this.strResource,f):c.setValid(f);for(const c of this._future)c.type===1?c.setValid(this.resourceLabel,this.strResource,f):c.setValid(f)}_setElementValidFlag(f,c){f.type===1?f.setValid(this.resourceLabel,this.strResource,c):f.setValid(c)}setElementsValidFlag(f,c){for(const C of this._past)c(C.actual)&&this._setElementValidFlag(C,f);for(const C of this._future)c(C.actual)&&this._setElementValidFlag(C,f)}pushElement(f){for(const c of this._future)c.type===1&&c.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(f),this.versionId++}createSnapshot(f){const c=[];for(let C=0,y=this._past.length;C<y;C++)c.push(this._past[C].id);for(let C=this._future.length-1;C>=0;C--)c.push(this._future[C].id);return new v.ResourceEditStackSnapshot(f,c)}restoreSnapshot(f){const c=f.elements.length;let C=!0,y=0,w=-1;for(let I=0,T=this._past.length;I<T;I++,y++){const F=this._past[I];C&&(y>=c||F.id!==f.elements[y])&&(C=!1,w=0),!C&&F.type===1&&F.removeResource(this.resourceLabel,this.strResource,0)}let D=-1;for(let I=this._future.length-1;I>=0;I--,y++){const T=this._future[I];C&&(y>=c||T.id!==f.elements[y])&&(C=!1,D=I),!C&&T.type===1&&T.removeResource(this.resourceLabel,this.strResource,0)}w!==-1&&(this._past=this._past.slice(0,w)),D!==-1&&(this._future=this._future.slice(D+1)),this.versionId++}getElements(){const f=[],c=[];for(const C of this._past)f.push(C.actual);for(const C of this._future)c.push(C.actual);return{past:f,future:c}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(f,c){for(let C=this._past.length-1;C>=0;C--)if(this._past[C]===f){c.has(this.strResource)?this._past[C]=c.get(this.strResource):this._past.splice(C,1);break}this.versionId++}splitFutureWorkspaceElement(f,c){for(let C=this._future.length-1;C>=0;C--)if(this._future[C]===f){c.has(this.strResource)?this._future[C]=c.get(this.strResource):this._future.splice(C,1);break}this.versionId++}moveBackward(f){this._past.pop(),this._future.push(f),this.versionId++}moveForward(f){this._future.pop(),this._past.push(f),this.versionId++}}class r{constructor(f){this.editStacks=f,this._versionIds=[];for(let c=0,C=this.editStacks.length;c<C;c++)this._versionIds[c]=this.editStacks[c].versionId}isValid(){for(let f=0,c=this.editStacks.length;f<c;f++)if(this._versionIds[f]!==this.editStacks[f].versionId)return!1;return!0}}const s=new n("","");s.locked=!0;let o=class{constructor(f,c){this._dialogService=f,this._notificationService=c,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}registerUriComparisonKeyComputer(f,c){return this._uriComparisonKeyComputers.push([f,c]),{dispose:()=>{for(let C=0,y=this._uriComparisonKeyComputers.length;C<y;C++)if(this._uriComparisonKeyComputers[C][1]===c){this._uriComparisonKeyComputers.splice(C,1);return}}}}getUriComparisonKey(f){for(const c of this._uriComparisonKeyComputers)if(c[0]===f.scheme)return c[1].getComparisonKey(f);return f.toString()}_print(f){console.log("------------------------------------"),console.log(`AFTER ${f}: `);let c=[];for(const C of this._editStacks)c.push(C[1].toString());console.log(c.join(`
`))}pushElement(f,c=v.UndoRedoGroup.None,C=v.UndoRedoSource.None){if(f.type===0){const y=t(f.resource),w=this.getUriComparisonKey(f.resource);this._pushElement(new l(f,y,w,c.id,c.nextOrder(),C.id,C.nextOrder()))}else{const y=new Set,w=[],D=[];for(const I of f.resources){const T=t(I),F=this.getUriComparisonKey(I);y.has(F)||(y.add(F),w.push(T),D.push(F))}w.length===1?this._pushElement(new l(f,w[0],D[0],c.id,c.nextOrder(),C.id,C.nextOrder())):this._pushElement(new u(f,w,D,c.id,c.nextOrder(),C.id,C.nextOrder()))}i&&this._print("pushElement")}_pushElement(f){for(let c=0,C=f.strResources.length;c<C;c++){const y=f.resourceLabels[c],w=f.strResources[c];let D;this._editStacks.has(w)?D=this._editStacks.get(w):(D=new n(y,w),this._editStacks.set(w,D)),D.pushElement(f)}}getLastElement(f){const c=this.getUriComparisonKey(f);if(this._editStacks.has(c)){const C=this._editStacks.get(c);if(C.hasFutureElements())return null;const y=C.getClosestPastElement();return y?y.actual:null}return null}_splitPastWorkspaceElement(f,c){const C=f.actual.split(),y=new Map;for(const w of C){const D=t(w.resource),I=this.getUriComparisonKey(w.resource),T=new l(w,D,I,0,0,0,0);y.set(T.strResource,T)}for(const w of f.strResources){if(c&&c.has(w))continue;this._editStacks.get(w).splitPastWorkspaceElement(f,y)}}_splitFutureWorkspaceElement(f,c){const C=f.actual.split(),y=new Map;for(const w of C){const D=t(w.resource),I=this.getUriComparisonKey(w.resource),T=new l(w,D,I,0,0,0,0);y.set(T.strResource,T)}for(const w of f.strResources){if(c&&c.has(w))continue;this._editStacks.get(w).splitFutureWorkspaceElement(f,y)}}removeElements(f){const c=typeof f=="string"?f:this.getUriComparisonKey(f);this._editStacks.has(c)&&(this._editStacks.get(c).dispose(),this._editStacks.delete(c)),i&&this._print("removeElements")}setElementsValidFlag(f,c,C){const y=this.getUriComparisonKey(f);this._editStacks.has(y)&&this._editStacks.get(y).setElementsValidFlag(c,C),i&&this._print("setElementsValidFlag")}hasElements(f){const c=this.getUriComparisonKey(f);if(this._editStacks.has(c)){const C=this._editStacks.get(c);return C.hasPastElements()||C.hasFutureElements()}return!1}createSnapshot(f){const c=this.getUriComparisonKey(f);return this._editStacks.has(c)?this._editStacks.get(c).createSnapshot(f):new v.ResourceEditStackSnapshot(f,[])}restoreSnapshot(f){const c=this.getUriComparisonKey(f.resource);if(this._editStacks.has(c)){const C=this._editStacks.get(c);C.restoreSnapshot(f),!C.hasPastElements()&&!C.hasFutureElements()&&(C.dispose(),this._editStacks.delete(c))}i&&this._print("restoreSnapshot")}getElements(f){const c=this.getUriComparisonKey(f);return this._editStacks.has(c)?this._editStacks.get(c).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(f){if(!f)return[null,null];let c=null,C=null;for(const[y,w]of this._editStacks){const D=w.getClosestPastElement();!D||D.sourceId===f&&(!c||D.sourceOrder>c.sourceOrder)&&(c=D,C=y)}return[c,C]}canUndo(f){if(f instanceof v.UndoRedoSource){const[,C]=this._findClosestUndoElementWithSource(f.id);return!!C}const c=this.getUriComparisonKey(f);return this._editStacks.has(c)?this._editStacks.get(c).hasPastElements():!1}_onError(f,c){(0,L.onUnexpectedError)(f);for(const C of c.strResources)this.removeElements(C);this._notificationService.error(f)}_acquireLocks(f){for(const c of f.editStacks)if(c.locked)throw new Error("Cannot acquire edit stack lock");for(const c of f.editStacks)c.locked=!0;return()=>{for(const c of f.editStacks)c.locked=!1}}_safeInvokeWithLocks(f,c,C,y,w){const D=this._acquireLocks(C);let I;try{I=c()}catch(T){return D(),y.dispose(),this._onError(T,f)}return I?I.then(()=>(D(),y.dispose(),w()),T=>(D(),y.dispose(),this._onError(T,f))):(D(),y.dispose(),w())}_invokeWorkspacePrepare(f){return Me(this,void 0,void 0,function*(){if(typeof f.actual.prepareUndoRedo=="undefined")return N.Disposable.None;const c=f.actual.prepareUndoRedo();return typeof c=="undefined"?N.Disposable.None:c})}_invokeResourcePrepare(f,c){if(f.actual.type!==1||typeof f.actual.prepareUndoRedo=="undefined")return c(N.Disposable.None);const C=f.actual.prepareUndoRedo();return C?(0,N.isDisposable)(C)?c(C):C.then(y=>c(y)):c(N.Disposable.None)}_getAffectedEditStacks(f){const c=[];for(const C of f.strResources)c.push(this._editStacks.get(C)||s);return new r(c)}_tryToSplitAndUndo(f,c,C,y){if(c.canSplit())return this._splitPastWorkspaceElement(c,C),this._notificationService.warn(y),new m(this._undo(f,0,!0));for(const w of c.strResources)this.removeElements(w);return this._notificationService.warn(y),new m}_checkWorkspaceUndo(f,c,C,y){if(c.removedResources)return this._tryToSplitAndUndo(f,c,c.removedResources,g.localize(2,null,c.label,c.removedResources.createMessage()));if(y&&c.invalidatedResources)return this._tryToSplitAndUndo(f,c,c.invalidatedResources,g.localize(3,null,c.label,c.invalidatedResources.createMessage()));const w=[];for(const I of C.editStacks)I.getClosestPastElement()!==c&&w.push(I.resourceLabel);if(w.length>0)return this._tryToSplitAndUndo(f,c,null,g.localize(4,null,c.label,w.join(", ")));const D=[];for(const I of C.editStacks)I.locked&&D.push(I.resourceLabel);return D.length>0?this._tryToSplitAndUndo(f,c,null,g.localize(5,null,c.label,D.join(", "))):C.isValid()?null:this._tryToSplitAndUndo(f,c,null,g.localize(6,null,c.label))}_workspaceUndo(f,c,C){const y=this._getAffectedEditStacks(c),w=this._checkWorkspaceUndo(f,c,y,!1);return w?w.returnValue:this._confirmAndExecuteWorkspaceUndo(f,c,y,C)}_isPartOfUndoGroup(f){if(!f.groupId)return!1;for(const[,c]of this._editStacks){const C=c.getClosestPastElement();if(!!C){if(C===f){const y=c.getSecondClosestPastElement();if(y&&y.groupId===f.groupId)return!0}if(C.groupId===f.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(f,c,C,y){return Me(this,void 0,void 0,function*(){if(c.canSplit()&&!this._isPartOfUndoGroup(c)){const I=yield this._dialogService.show(E.default.Info,g.localize(7,null,c.label),[g.localize(8,null,C.editStacks.length),g.localize(9,null),g.localize(10,null)],{cancelId:2});if(I.choice===2)return;if(I.choice===1)return this._splitPastWorkspaceElement(c,null),this._undo(f,0,!0);const T=this._checkWorkspaceUndo(f,c,C,!1);if(T)return T.returnValue;y=!0}let w;try{w=yield this._invokeWorkspacePrepare(c)}catch(I){return this._onError(I,c)}const D=this._checkWorkspaceUndo(f,c,C,!0);if(D)return w.dispose(),D.returnValue;for(const I of C.editStacks)I.moveBackward(c);return this._safeInvokeWithLocks(c,()=>c.actual.undo(),C,w,()=>this._continueUndoInGroup(c.groupId,y))})}_resourceUndo(f,c,C){if(!c.isValid){f.flushAllElements();return}if(f.locked){const y=g.localize(11,null,c.label);this._notificationService.warn(y);return}return this._invokeResourcePrepare(c,y=>(f.moveBackward(c),this._safeInvokeWithLocks(c,()=>c.actual.undo(),new r([f]),y,()=>this._continueUndoInGroup(c.groupId,C))))}_findClosestUndoElementInGroup(f){if(!f)return[null,null];let c=null,C=null;for(const[y,w]of this._editStacks){const D=w.getClosestPastElement();!D||D.groupId===f&&(!c||D.groupOrder>c.groupOrder)&&(c=D,C=y)}return[c,C]}_continueUndoInGroup(f,c){if(!f)return;const[,C]=this._findClosestUndoElementInGroup(f);if(C)return this._undo(C,0,c)}undo(f){if(f instanceof v.UndoRedoSource){const[,c]=this._findClosestUndoElementWithSource(f.id);return c?this._undo(c,f.id,!1):void 0}return typeof f=="string"?this._undo(f,0,!1):this._undo(this.getUriComparisonKey(f),0,!1)}_undo(f,c=0,C){if(!this._editStacks.has(f))return;const y=this._editStacks.get(f),w=y.getClosestPastElement();if(!w)return;if(w.groupId){const[I,T]=this._findClosestUndoElementInGroup(w.groupId);if(w!==I&&T)return this._undo(T,c,C)}if((w.sourceId!==c||w.confirmBeforeUndo)&&!C)return this._confirmAndContinueUndo(f,c,w);try{return w.type===1?this._workspaceUndo(f,w,C):this._resourceUndo(y,w,C)}finally{i&&this._print("undo")}}_confirmAndContinueUndo(f,c,C){return Me(this,void 0,void 0,function*(){if((yield this._dialogService.show(E.default.Info,g.localize(12,null,C.label),[g.localize(13,null),g.localize(14,null)],{cancelId:1})).choice!==1)return this._undo(f,c,!0)})}_findClosestRedoElementWithSource(f){if(!f)return[null,null];let c=null,C=null;for(const[y,w]of this._editStacks){const D=w.getClosestFutureElement();!D||D.sourceId===f&&(!c||D.sourceOrder<c.sourceOrder)&&(c=D,C=y)}return[c,C]}canRedo(f){if(f instanceof v.UndoRedoSource){const[,C]=this._findClosestRedoElementWithSource(f.id);return!!C}const c=this.getUriComparisonKey(f);return this._editStacks.has(c)?this._editStacks.get(c).hasFutureElements():!1}_tryToSplitAndRedo(f,c,C,y){if(c.canSplit())return this._splitFutureWorkspaceElement(c,C),this._notificationService.warn(y),new m(this._redo(f));for(const w of c.strResources)this.removeElements(w);return this._notificationService.warn(y),new m}_checkWorkspaceRedo(f,c,C,y){if(c.removedResources)return this._tryToSplitAndRedo(f,c,c.removedResources,g.localize(15,null,c.label,c.removedResources.createMessage()));if(y&&c.invalidatedResources)return this._tryToSplitAndRedo(f,c,c.invalidatedResources,g.localize(16,null,c.label,c.invalidatedResources.createMessage()));const w=[];for(const I of C.editStacks)I.getClosestFutureElement()!==c&&w.push(I.resourceLabel);if(w.length>0)return this._tryToSplitAndRedo(f,c,null,g.localize(17,null,c.label,w.join(", ")));const D=[];for(const I of C.editStacks)I.locked&&D.push(I.resourceLabel);return D.length>0?this._tryToSplitAndRedo(f,c,null,g.localize(18,null,c.label,D.join(", "))):C.isValid()?null:this._tryToSplitAndRedo(f,c,null,g.localize(19,null,c.label))}_workspaceRedo(f,c){const C=this._getAffectedEditStacks(c),y=this._checkWorkspaceRedo(f,c,C,!1);return y?y.returnValue:this._executeWorkspaceRedo(f,c,C)}_executeWorkspaceRedo(f,c,C){return Me(this,void 0,void 0,function*(){let y;try{y=yield this._invokeWorkspacePrepare(c)}catch(D){return this._onError(D,c)}const w=this._checkWorkspaceRedo(f,c,C,!0);if(w)return y.dispose(),w.returnValue;for(const D of C.editStacks)D.moveForward(c);return this._safeInvokeWithLocks(c,()=>c.actual.redo(),C,y,()=>this._continueRedoInGroup(c.groupId))})}_resourceRedo(f,c){if(!c.isValid){f.flushAllElements();return}if(f.locked){const C=g.localize(20,null,c.label);this._notificationService.warn(C);return}return this._invokeResourcePrepare(c,C=>(f.moveForward(c),this._safeInvokeWithLocks(c,()=>c.actual.redo(),new r([f]),C,()=>this._continueRedoInGroup(c.groupId))))}_findClosestRedoElementInGroup(f){if(!f)return[null,null];let c=null,C=null;for(const[y,w]of this._editStacks){const D=w.getClosestFutureElement();!D||D.groupId===f&&(!c||D.groupOrder<c.groupOrder)&&(c=D,C=y)}return[c,C]}_continueRedoInGroup(f){if(!f)return;const[,c]=this._findClosestRedoElementInGroup(f);if(c)return this._redo(c)}redo(f){if(f instanceof v.UndoRedoSource){const[,c]=this._findClosestRedoElementWithSource(f.id);return c?this._redo(c):void 0}return typeof f=="string"?this._redo(f):this._redo(this.getUriComparisonKey(f))}_redo(f){if(!this._editStacks.has(f))return;const c=this._editStacks.get(f),C=c.getClosestFutureElement();if(!!C){if(C.groupId){const[y,w]=this._findClosestRedoElementInGroup(C.groupId);if(C!==y&&w)return this._redo(w)}try{return C.type===1?this._workspaceRedo(f,C):this._resourceRedo(c,C)}finally{i&&this._print("redo")}}}};o=Ve([Ce(0,S.IDialogService),Ce(1,p.INotificationService)],o),e.UndoRedoService=o;class m{constructor(f){this.returnValue=f}}(0,b.registerSingleton)(v.IUndoRedoService,o)}),define(ee[167],te([0,1,48,33,22,9]),function(Q,e,L,N,M,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toWorkspaceFolder=e.WorkspaceFolder=e.Workspace=e.isWorkspaceFolder=e.isWorkspace=e.IWorkspaceContextService=void 0,e.IWorkspaceContextService=(0,E.createDecorator)("contextService");function g(i){const t=i;return!!(t&&typeof t=="object"&&typeof t.id=="string"&&Array.isArray(t.folders))}e.isWorkspace=g;function S(i){const t=i;return!!(t&&typeof t=="object"&&M.URI.isUri(t.uri)&&typeof t.name=="string"&&typeof t.toResource=="function")}e.isWorkspaceFolder=S;class b{constructor(t,a,l,h,d){this._id=t,this._transient=l,this._configuration=h,this._ignorePathCasing=d,this._foldersMap=L.TernarySearchTree.forUris(this._ignorePathCasing),this.folders=a}update(t){this._id=t.id,this._configuration=t.configuration,this._transient=t.transient,this._ignorePathCasing=t._ignorePathCasing,this.folders=t.folders}get folders(){return this._folders}set folders(t){this._folders=t,this.updateFoldersMap()}get id(){return this._id}get transient(){return this._transient}get configuration(){return this._configuration}set configuration(t){this._configuration=t}getFolder(t){return t&&this._foldersMap.findSubstr(t.with({scheme:t.scheme,authority:t.authority,path:t.path}))||null}updateFoldersMap(){this._foldersMap=L.TernarySearchTree.forUris(this._ignorePathCasing);for(const t of this.folders)this._foldersMap.set(t.uri,t)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}e.Workspace=b;class p{constructor(t,a){this.raw=a,this.uri=t.uri,this.index=t.index,this.name=t.name}toResource(t){return(0,N.joinPath)(this.uri,t)}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}e.WorkspaceFolder=p;function v(i){return new p({uri:i,index:0,name:(0,N.basenameOrAuthority)(i)},{uri:i.toString()})}e.toWorkspaceFolder=v}),define(ee[205],te([0,1,8,7,44,4,97,2,15,82,22,116,154,195,60,13,3,47,26,37,616,599,272,77,273,602,41,167,66,33]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u,n,r,s,o,m,_,f,c,C,y,w,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleWorkspaceTrustManagementService=e.SimpleLayoutService=e.SimpleUriLabelService=e.SimpleBulkEditService=e.updateConfigurationService=e.SimpleWorkspaceContextService=e.StandaloneTelemetryService=e.SimpleResourcePropertiesService=e.SimpleResourceConfigurationService=e.SimpleConfigurationService=e.StandaloneKeybindingService=e.StandaloneCommandService=e.SimpleNotificationService=e.SimpleDialogService=e.SimpleEditorProgressService=e.SimpleEditorModelResolverService=e.SimpleModel=void 0;class I{constructor(U){this.disposed=!1,this.model=U,this._onWillDispose=new E.Emitter}get onWillDispose(){return this._onWillDispose.event}resolve(){return Promise.resolve()}get textEditorModel(){return this.model}createSnapshot(){return this.model.createSnapshot()}isReadonly(){return!1}dispose(){this.disposed=!0,this._onWillDispose.fire()}isDisposed(){return this.disposed}isResolved(){return!0}getMode(){return this.model.getLanguageId()}}e.SimpleModel=I;function T(j,U,Y){return(0,i.isCodeEditor)(j)?U(j):Y(j)}let F=class{constructor(U){this.modelService=U}setEditor(U){this.editor=U}createModelReference(U){let Y=null;return this.editor&&(Y=T(this.editor,ne=>this.findModel(ne,U),ne=>this.findModel(ne.getOriginalEditor(),U)||this.findModel(ne.getModifiedEditor(),U))),Y?Promise.resolve(new S.ImmortalReference(new I(Y))):Promise.reject(new Error("Model not found"))}registerTextModelContentProvider(U,Y){return{dispose:function(){}}}canHandleResource(U){return!1}findModel(U,Y){let ne=this.modelService.getModel(Y);return ne&&ne.uri.toString()!==Y.toString()?null:ne}};F=Ve([Ce(0,u.IModelService)],F),e.SimpleEditorModelResolverService=F;class P{show(){return P.NULL_PROGRESS_RUNNER}showWhile(U,Y){return Me(this,void 0,void 0,function*(){yield U})}}e.SimpleEditorProgressService=P,P.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class R{confirm(U){return this.doConfirm(U).then(Y=>({confirmed:Y,checkboxChecked:!1}))}doConfirm(U){let Y=U.message;return U.detail&&(Y=Y+`

`+U.detail),Promise.resolve(window.confirm(Y))}show(U,Y,ne,J){return Promise.resolve({choice:0})}input(){return Promise.resolve({choice:0})}about(){return Promise.resolve(void 0)}}e.SimpleDialogService=R;class A{constructor(){this.onDidAddNotification=E.Event.None,this.onDidRemoveNotification=E.Event.None}info(U){return this.notify({severity:p.default.Info,message:U})}warn(U){return this.notify({severity:p.default.Warning,message:U})}error(U){return this.notify({severity:p.default.Error,message:U})}notify(U){switch(U.severity){case p.default.Error:console.error(U.message);break;case p.default.Warning:console.warn(U.message);break;default:console.log(U.message);break}return A.NO_OP}prompt(U,Y,ne,J){return A.NO_OP}status(U,Y){return S.Disposable.None}setFilter(U){}}e.SimpleNotificationService=A,A.NO_OP=new C.NoOpNotification;class O{constructor(U){this._onWillExecuteCommand=new E.Emitter,this._onDidExecuteCommand=new E.Emitter,this.onWillExecuteCommand=this._onWillExecuteCommand.event,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=U}executeCommand(U,...Y){const ne=n.CommandsRegistry.getCommand(U);if(!ne)return Promise.reject(new Error(`command '${U}' not found`));try{this._onWillExecuteCommand.fire({commandId:U,args:Y});const J=this._instantiationService.invokeFunction.apply(this._instantiationService,[ne.handler,...Y]);return this._onDidExecuteCommand.fire({commandId:U,args:Y}),Promise.resolve(J)}catch(J){return Promise.reject(J)}}}e.StandaloneCommandService=O;class k extends o.AbstractKeybindingService{constructor(U,Y,ne,J,re,ge){super(U,Y,ne,J,re);this._cachedResolver=null,this._dynamicKeybindings=[],this._register(N.addDisposableListener(ge,N.EventType.KEY_DOWN,pe=>{const oe=new M.StandardKeyboardEvent(pe);this._dispatch(oe,oe.target)&&(oe.preventDefault(),oe.stopPropagation())})),this._register(N.addDisposableListener(window,N.EventType.KEY_UP,pe=>{const oe=new M.StandardKeyboardEvent(pe);this._singleModifierDispatch(oe,oe.target)&&oe.preventDefault()}))}addDynamicKeybinding(U,Y,ne,J){const re=(0,g.createKeybinding)(Y,b.OS),ge=new S.DisposableStore;return re&&(this._dynamicKeybindings.push({keybinding:re.parts,command:U,when:J,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}),ge.add((0,S.toDisposable)(()=>{for(let pe=0;pe<this._dynamicKeybindings.length;pe++)if(this._dynamicKeybindings[pe].command===U){this._dynamicKeybindings.splice(pe,1),this.updateResolver({source:1});return}}))),ge.add(n.CommandsRegistry.registerCommand(U,ne)),this.updateResolver({source:1}),ge}updateResolver(U){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(U)}_getResolver(){if(!this._cachedResolver){const U=this._toNormalizedKeybindingItems(_.KeybindingsRegistry.getDefaultKeybindings(),!0),Y=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new m.KeybindingResolver(U,Y,ne=>this._log(ne))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(U,Y){let ne=[],J=0;for(const re of U){const ge=re.when||void 0,pe=re.keybinding;if(!pe)ne[J++]=new f.ResolvedKeybindingItem(void 0,re.command,re.commandArgs,ge,Y,null,!1);else{const oe=c.USLayoutResolvedKeybinding.resolveUserBinding(pe,b.OS);for(const $ of oe)ne[J++]=new f.ResolvedKeybindingItem($,re.command,re.commandArgs,ge,Y,null,!1)}}return ne}resolveKeybinding(U){return[new c.USLayoutResolvedKeybinding(U,b.OS)]}resolveKeyboardEvent(U){let Y=new g.SimpleKeybinding(U.ctrlKey,U.shiftKey,U.altKey,U.metaKey,U.keyCode).toChord();return new c.USLayoutResolvedKeybinding(Y,b.OS)}resolveUserBinding(U){return[]}_dumpDebugInfo(){return""}_dumpDebugInfoJSON(){return""}registerSchemaContribution(U){}}e.StandaloneKeybindingService=k;function V(j){return j&&typeof j=="object"&&(!j.overrideIdentifier||typeof j.overrideIdentifier=="string")&&(!j.resource||j.resource instanceof v.URI)}class B{constructor(){this._onDidChangeConfiguration=new E.Emitter,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new s.Configuration(new s.DefaultConfigurationModel,new s.ConfigurationModel)}getValue(U,Y){const ne=typeof U=="string"?U:void 0,J=V(U)?U:V(Y)?Y:{};return this._configuration.getValue(ne,J,void 0)}updateValues(U){const Y={data:this._configuration.toData()};let ne=[];for(const J of U){const[re,ge]=J;this.getValue(re)!==ge&&(this._configuration.updateValue(re,ge),ne.push(re))}if(ne.length>0){const J=new s.ConfigurationChangeEvent({keys:ne,overrides:[]},Y,this._configuration);J.source=7,J.sourceConfig=null,this._onDidChangeConfiguration.fire(J)}return Promise.resolve()}updateValue(U,Y,ne,J){return this.updateValues([[U,Y]])}inspect(U,Y={}){return this._configuration.inspect(U,Y,void 0)}keys(){return this._configuration.keys(void 0)}reloadConfiguration(){return Promise.resolve(void 0)}getConfigurationData(){const U={contents:{},keys:[],overrides:[]};return{defaults:U,user:U,workspace:U,folders:[]}}}e.SimpleConfigurationService=B;class x{constructor(U){this.configurationService=U,this._onDidChangeConfiguration=new E.Emitter,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this.configurationService.onDidChangeConfiguration(Y=>{this._onDidChangeConfiguration.fire({affectedKeys:Y.affectedKeys,affectsConfiguration:(ne,J)=>Y.affectsConfiguration(J)})})}getValue(U,Y,ne){const re=(h.Position.isIPosition(Y)?Y:null)?typeof ne=="string"?ne:void 0:typeof Y=="string"?Y:void 0;return typeof re=="undefined"?this.configurationService.getValue():this.configurationService.getValue(re)}updateValue(U,Y,ne,J){return this.configurationService.updateValue(Y,ne,{resource:U},J)}}e.SimpleResourceConfigurationService=x;let K=class{constructor(U){this.configurationService=U}getEOL(U,Y){const ne=this.configurationService.getValue("files.eol",{overrideIdentifier:Y,resource:U});return ne&&typeof ne=="string"&&ne!=="auto"?ne:b.isLinux||b.isMacintosh?`
`:`\r
`}};K=Ve([Ce(0,r.IConfigurationService)],K),e.SimpleResourcePropertiesService=K;class X{constructor(){this.telemetryLevel=0,this.sendErrorTelemetry=!1}setEnabled(U){}setExperimentProperty(U,Y){}publicLog(U,Y){return Promise.resolve(void 0)}publicLog2(U,Y){return this.publicLog(U,Y)}publicLogError(U,Y){return Promise.resolve(void 0)}publicLogError2(U,Y){return this.publicLogError(U,Y)}getTelemetryInfo(){throw new Error("Not available")}}e.StandaloneTelemetryService=X;class Z{constructor(){this._onDidChangeWorkspaceName=new E.Emitter,this.onDidChangeWorkspaceName=this._onDidChangeWorkspaceName.event,this._onWillChangeWorkspaceFolders=new E.Emitter,this.onWillChangeWorkspaceFolders=this._onWillChangeWorkspaceFolders.event,this._onDidChangeWorkspaceFolders=new E.Emitter,this.onDidChangeWorkspaceFolders=this._onDidChangeWorkspaceFolders.event,this._onDidChangeWorkbenchState=new E.Emitter,this.onDidChangeWorkbenchState=this._onDidChangeWorkbenchState.event;const U=v.URI.from({scheme:Z.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new y.WorkspaceFolder({uri:U,name:"",index:0})]}}getCompleteWorkspace(){return Promise.resolve(this.getWorkspace())}getWorkspace(){return this.workspace}getWorkbenchState(){return this.workspace?this.workspace.configuration?3:2:1}getWorkspaceFolder(U){return U&&U.scheme===Z.SCHEME?this.workspace.folders[0]:null}isInsideWorkspace(U){return U&&U.scheme===Z.SCHEME}isCurrentWorkspace(U){return!0}}e.SimpleWorkspaceContextService=Z,Z.SCHEME="inmemory";function q(j,U,Y){if(!U||!(j instanceof B))return;let ne=[];Object.keys(U).forEach(J=>{(0,a.isEditorConfigurationKey)(J)&&ne.push([`editor.${J}`,U[J]]),Y&&(0,a.isDiffEditorConfigurationKey)(J)&&ne.push([`diffEditor.${J}`,U[J]])}),ne.length>0&&j.updateValues(ne)}e.updateConfigurationService=q;class H{constructor(U){this._modelService=U}hasPreviewHandler(){return!1}setPreviewHandler(){return S.Disposable.None}apply(U,Y){return Me(this,void 0,void 0,function*(){const ne=new Map;for(let ge of U){if(!(ge instanceof t.ResourceTextEdit))throw new Error("bad edit - only text edits are supported");const pe=this._modelService.getModel(ge.resource);if(!pe)throw new Error("bad edit - model not found");if(typeof ge.versionId=="number"&&pe.getVersionId()!==ge.versionId)throw new Error("bad state - model changed in the meantime");let oe=ne.get(pe);oe||(oe=[],ne.set(pe,oe)),oe.push(l.EditOperation.replaceMove(d.Range.lift(ge.textEdit.range),ge.textEdit.text))}let J=0,re=0;for(const[ge,pe]of ne)ge.pushStackElement(),ge.pushEditOperations([],pe,()=>[]),ge.pushStackElement(),re+=1,J+=pe.length;return{ariaSummary:L.format(w.SimpleServicesNLS.bulkEditServiceSummary,J,re)}})}}e.SimpleBulkEditService=H;class G{constructor(){this.onDidChangeFormatters=E.Event.None}getUriLabel(U,Y){return U.scheme==="file"?U.fsPath:U.path}getUriBasenameLabel(U){return(0,D.basename)(U)}getWorkspaceLabel(U,Y){return""}getSeparator(U,Y){return"/"}registerFormatter(U){throw new Error("Not implemented")}getHostLabel(){return""}getHostTooltip(){}}e.SimpleUriLabelService=G;class z{constructor(U,Y){this._codeEditorService=U,this._container=Y,this.onDidLayout=E.Event.None}get dimension(){return this._dimension||(this._dimension=N.getClientArea(window.document.body)),this._dimension}get container(){return this._container}focus(){var U;(U=this._codeEditorService.getFocusedCodeEditor())===null||U===void 0||U.focus()}}e.SimpleLayoutService=z;class W{constructor(){this._neverEmitter=new E.Emitter,this.onDidChangeTrust=this._neverEmitter.event,this.onDidChangeTrustedFolders=this._neverEmitter.event,this.workspaceResolved=Promise.resolve(),this.workspaceTrustInitialized=Promise.resolve(),this.acceptsOutOfWorkspaceFiles=!0}isWorkspaceTrusted(){return!0}isWorkspaceTrustForced(){return!1}canSetParentFolderTrust(){return!1}setParentFolderTrust(U){return Me(this,void 0,void 0,function*(){})}canSetWorkspaceTrust(){return!1}setWorkspaceTrust(U){return Me(this,void 0,void 0,function*(){})}getUriTrustInfo(U){throw new Error("Method not supported.")}setUrisTrust(U,Y){return Me(this,void 0,void 0,function*(){})}getTrustedUris(){return[]}setTrustedUris(U){return Me(this,void 0,void 0,function*(){})}addWorkspaceTrustTransitionParticipant(U){throw new Error("Method not supported.")}}e.SimpleWorkspaceTrustManagementService=W}),define(ee[731],te([0,1,45,2,30,164,203,234,67,205,125,38,26,37,17,69,9,43,41,14,62,66,85,61,47,39,282,112]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u,n,r,s,o,m,_,f,c,C,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTextModel=e.StandaloneDiffEditor=e.StandaloneEditor=e.StandaloneCodeEditor=void 0;let w=0,D=!1;function I(O){if(!O){if(D)return;D=!0}L.setARIAContainer(O||document.body)}let T=class extends E.CodeEditorWidget{constructor(k,V,B,x,K,X,Z,q,H,G){const z=Object.assign({},V);z.ariaLabel=z.ariaLabel||o.StandaloneCodeEditorNLS.editorViewAccessibleLabel,z.ariaLabel=z.ariaLabel+";"+o.StandaloneCodeEditorNLS.accessibilityHelpMessage,super(k,z,{},B,x,K,X,q,H,G),Z instanceof p.StandaloneKeybindingService?this._standaloneKeybindingService=Z:this._standaloneKeybindingService=null,I(z.ariaContainerElement)}addCommand(k,V,B){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;let x="DYNAMIC_"+ ++w,K=l.ContextKeyExpr.deserialize(B);return this._standaloneKeybindingService.addDynamicKeybinding(x,k,V,K),x}createContextKey(k,V){return this._contextKeyService.createKey(k,V)}addAction(k){if(typeof k.id!="string"||typeof k.label!="string"||typeof k.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),N.Disposable.None;const V=k.id,B=k.label,x=l.ContextKeyExpr.and(l.ContextKeyExpr.equals("editorId",this.getId()),l.ContextKeyExpr.deserialize(k.precondition)),K=k.keybindings,X=l.ContextKeyExpr.and(x,l.ContextKeyExpr.deserialize(k.keybindingContext)),Z=k.contextMenuGroupId||null,q=k.contextMenuOrder||0,H=(j,...U)=>Promise.resolve(k.run(this,...U)),G=new N.DisposableStore,z=this.getId()+":"+V;if(G.add(t.CommandsRegistry.registerCommand(z,H)),Z){let j={command:{id:z,title:B},when:x,group:Z,order:q};G.add(i.MenuRegistry.appendMenuItem(i.MenuId.EditorContext,j))}if(Array.isArray(K))for(const j of K)G.add(this._standaloneKeybindingService.addDynamicKeybinding(z,j,H,X));let W=new S.InternalEditorAction(z,B,B,x,H,this._contextKeyService);return this._actions[V]=W,G.add((0,N.toDisposable)(()=>{delete this._actions[V]})),G}_triggerCommand(k,V){if(this._codeEditorService instanceof C.StandaloneCodeEditorServiceImpl)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(k,V)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(k,V)}};T=Ve([Ce(2,d.IInstantiationService),Ce(3,M.ICodeEditorService),Ce(4,t.ICommandService),Ce(5,l.IContextKeyService),Ce(6,u.IKeybindingService),Ce(7,r.IThemeService),Ce(8,n.INotificationService),Ce(9,s.IAccessibilityService)],T),e.StandaloneCodeEditor=T;let F=class extends T{constructor(k,V,B,x,K,X,Z,q,H,G,z,W,j,U,Y){const ne=Object.assign({},V);(0,p.updateConfigurationService)(W,ne,!1);const J=G.registerEditorContainer(k);typeof ne.theme=="string"&&G.setTheme(ne.theme),typeof ne.autoDetectHighContrast!="undefined"&&G.setAutoDetectHighContrast(Boolean(ne.autoDetectHighContrast));let re=ne.model;delete ne.model,super(k,ne,x,K,X,Z,q,G,z,j),this._contextViewService=H,this._configurationService=W,this._standaloneThemeService=G,this._register(B),this._register(J);let ge;if(typeof re=="undefined"?(ge=R(U,Y,ne.value||"",ne.language||y.Mimes.text,void 0),this._ownsModel=!0):(ge=re,this._ownsModel=!1),this._attachModel(ge),ge){let pe={oldModelUrl:null,newModelUrl:ge.uri};this._onDidChangeModel.fire(pe)}}dispose(){super.dispose()}updateOptions(k){(0,p.updateConfigurationService)(this._configurationService,k,!1),typeof k.theme=="string"&&this._standaloneThemeService.setTheme(k.theme),typeof k.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(k.autoDetectHighContrast)),super.updateOptions(k)}_attachModel(k){super._attachModel(k),this._modelData&&this._contextViewService.setContainer(this._modelData.view.domNode.domNode)}_postDetachModelCleanup(k){super._postDetachModelCleanup(k),k&&this._ownsModel&&(k.dispose(),this._ownsModel=!1)}};F=Ve([Ce(3,d.IInstantiationService),Ce(4,M.ICodeEditorService),Ce(5,t.ICommandService),Ce(6,l.IContextKeyService),Ce(7,u.IKeybindingService),Ce(8,h.IContextViewService),Ce(9,v.IStandaloneThemeService),Ce(10,n.INotificationService),Ce(11,a.IConfigurationService),Ce(12,s.IAccessibilityService),Ce(13,f.IModelService),Ce(14,c.IModeService)],F),e.StandaloneEditor=F;let P=class extends g.DiffEditorWidget{constructor(k,V,B,x,K,X,Z,q,H,G,z,W,j,U,Y){const ne=Object.assign({},V);(0,p.updateConfigurationService)(W,ne,!0);const J=G.registerEditorContainer(k);typeof ne.theme=="string"&&G.setTheme(ne.theme),typeof ne.autoDetectHighContrast!="undefined"&&G.setAutoDetectHighContrast(Boolean(ne.autoDetectHighContrast)),super(k,ne,{},Y,q,K,x,H,G,z,j,U),this._contextViewService=Z,this._configurationService=W,this._standaloneThemeService=G,this._register(B),this._register(J),this._contextViewService.setContainer(this._containerDomElement)}dispose(){super.dispose()}updateOptions(k){(0,p.updateConfigurationService)(this._configurationService,k,!0),typeof k.theme=="string"&&this._standaloneThemeService.setTheme(k.theme),typeof k.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(k.autoDetectHighContrast)),super.updateOptions(k)}_createInnerEditor(k,V,B){return k.createInstance(T,V,B)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(k,V,B){return this.getModifiedEditor().addCommand(k,V,B)}createContextKey(k,V){return this.getModifiedEditor().createContextKey(k,V)}addAction(k){return this.getModifiedEditor().addAction(k)}};P=Ve([Ce(3,d.IInstantiationService),Ce(4,l.IContextKeyService),Ce(5,u.IKeybindingService),Ce(6,h.IContextViewService),Ce(7,b.IEditorWorkerService),Ce(8,M.ICodeEditorService),Ce(9,v.IStandaloneThemeService),Ce(10,n.INotificationService),Ce(11,a.IConfigurationService),Ce(12,h.IContextMenuService),Ce(13,_.IEditorProgressService),Ce(14,m.IClipboardService)],P),e.StandaloneDiffEditor=P;function R(O,k,V,B,x){if(V=V||"",!B){const K=V.indexOf(`
`);let X=V;return K!==-1&&(X=V.substring(0,K)),A(O,V,k.createByFilepathOrFirstLine(x||null,X),x)}return A(O,V,k.create(B),x)}e.createTextModel=R;function A(O,k,V,B){return O.createModel(k,V,B)}}),define(ee[299],te([0,1,577,9]),function(Q,e,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IWorkspaceTrustRequestService=e.IWorkspaceTrustManagementService=e.IWorkspaceTrustEnablementService=e.workspaceTrustToString=e.WorkspaceTrustScope=void 0;var M;(function(g){g[g.Local=0]="Local",g[g.Remote=1]="Remote"})(M=e.WorkspaceTrustScope||(e.WorkspaceTrustScope={}));function E(g){return g?(0,L.localize)(0,null):(0,L.localize)(1,null)}e.workspaceTrustToString=E,e.IWorkspaceTrustEnablementService=(0,N.createDecorator)("workspaceTrustEnablementService"),e.IWorkspaceTrustManagementService=(0,N.createDecorator)("workspaceTrustManagementService"),e.IWorkspaceTrustRequestService=(0,N.createDecorator)("workspaceTrustRequestService")}),define(ee[300],te([0,1,10,27,2,8,16,29,49,31,238,67,39,258,285,684,559,37,9,54,76,24,71,14,299,388]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u,n,r,s,o,m,_,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShowExcludeOptions=e.DisableHighlightingOfNonBasicAsciiCharactersAction=e.DisableHighlightingOfInvisibleCharactersAction=e.DisableHighlightingOfAmbiguousCharactersAction=e.UnicodeHighlighterHoverParticipant=e.UnicodeHighlighterHover=e.UnicodeHighlighter=e.warningIcon=void 0,e.warningIcon=(0,m.registerIcon)("extensions-warning-message",N.Codicon.warning,d.localize(0,null));let c=class extends M.Disposable{constructor(X,Z,q,H){super();this._editor=X,this._editorWorkerService=Z,this._workspaceTrustService=q,this._highlighter=null,this._bannerClosed=!1,this._updateState=G=>{if(G&&G.hasMore){if(this._bannerClosed)return;const z=Math.max(G.ambiguousCharacterCount,G.nonBasicAsciiCharacterCount,G.invisibleCharacterCount);let W;if(G.nonBasicAsciiCharacterCount>=z)W={message:d.localize(1,null),command:new k};else if(G.ambiguousCharacterCount>=z)W={message:d.localize(2,null),command:new A};else if(G.invisibleCharacterCount>=z)W={message:d.localize(3,null),command:new O};else throw new Error("Unreachable");this._bannerController.show({id:"unicodeHighlightBanner",message:W.message,icon:e.warningIcon,actions:[{label:W.command.shortLabel,href:`command:${W.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(H.createInstance(h.BannerController,X)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=X.getOption(112),this._register(q.onDidChangeTrust(G=>{this._updateHighlighter()})),this._register(X.onDidChangeConfiguration(G=>{G.hasChanged(112)&&(this._options=X.getOption(112),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const X=C(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([X.nonBasicASCII,X.ambiguousCharacters,X.invisibleCharacters].every(q=>q===!1))return;const Z={nonBasicASCII:X.nonBasicASCII,ambiguousCharacters:X.ambiguousCharacters,invisibleCharacters:X.invisibleCharacters,includeComments:X.includeComments,allowedCodePoints:Object.keys(X.allowedCharacters).map(q=>q.codePointAt(0))};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new y(this._editor,Z,this._updateState,this._editorWorkerService):this._highlighter=new w(this._editor,Z,this._updateState)}getDecorationInfo(X){return this._highlighter?this._highlighter.getDecorationInfo(X):null}};c.ID="editor.contrib.unicodeHighlighter",c=Ve([Ce(1,i.IEditorWorkerService),Ce(2,f.IWorkspaceTrustManagementService),Ce(3,n.IInstantiationService)],c),e.UnicodeHighlighter=c;function C(K,X){var Z;return{nonBasicASCII:X.nonBasicASCII===S.inUntrustedWorkspace?!K:X.nonBasicASCII,ambiguousCharacters:X.ambiguousCharacters,invisibleCharacters:X.invisibleCharacters,includeComments:X.includeComments===S.inUntrustedWorkspace?!K:X.includeComments,allowedCharacters:(Z=X.allowedCharacters)!==null&&Z!==void 0?Z:{}}}let y=class extends M.Disposable{constructor(X,Z,q,H){super();this._editor=X,this._options=Z,this._updateState=q,this._editorWorkerService=H,this._model=this._editor.getModel(),this._decorationIds=new Set,this._updateSoon=this._register(new L.RunOnceScheduler(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorationIds=new Set(this._model.deltaDecorations(Array.from(this._decorationIds),[])),super.dispose()}_update(){if(!this._model.mightContainNonBasicASCII()){this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),[]));return}const X=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(Z=>{if(this._model.getVersionId()!==X)return;this._updateState(Z);const q=[];if(!Z.hasMore)for(const H of Z.ranges)q.push({range:H,options:this._options.includeComments?R:P});this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),q))})}getDecorationInfo(X){if(!this._decorationIds.has(X))return null;const Z=this._editor.getModel(),q=Z.getDecorationRange(X);if(!(0,a.isModelDecorationVisible)(Z,{range:q,options:this._options.includeComments?R:P,id:X,ownerId:0}))return null;const H=Z.getValueInRange(q);return{reason:F(H,this._options)}}};y=Ve([Ce(3,i.IEditorWorkerService)],y);class w extends M.Disposable{constructor(X,Z,q){super();this._editor=X,this._options=Z,this._updateState=q,this._model=this._editor.getModel(),this._decorationIds=new Set,this._updateSoon=this._register(new L.RunOnceScheduler(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorationIds=new Set(this._model.deltaDecorations(Array.from(this._decorationIds),[])),super.dispose()}_update(){if(!this._model.mightContainNonBasicASCII()){this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),[]));return}const X=this._editor.getVisibleRanges(),Z=[],q={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const H of X){const G=v.UnicodeTextModelHighlighter.computeUnicodeHighlights(this._model,this._options,H);for(const z of G.ranges)q.ranges.push(z);q.ambiguousCharacterCount+=q.ambiguousCharacterCount,q.invisibleCharacterCount+=q.invisibleCharacterCount,q.nonBasicAsciiCharacterCount+=q.nonBasicAsciiCharacterCount,q.hasMore=q.hasMore||G.hasMore}if(!q.hasMore)for(const H of q.ranges)Z.push({range:H,options:this._options.includeComments?R:P});this._updateState(q),this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),Z))}getDecorationInfo(X){if(!this._decorationIds.has(X))return null;const Z=this._editor.getModel(),q=Z.getDecorationRange(X),H=Z.getValueInRange(q);return(0,a.isModelDecorationVisible)(Z,{range:q,options:this._options.includeComments?R:P,id:X,ownerId:0})?{reason:F(H,this._options)}:null}}class D{constructor(X,Z,q){this.owner=X,this.range=Z,this.decoration=q}isValidForHoverAnchor(X){return X.type===1&&this.range.startColumn<=X.range.startColumn&&this.range.endColumn>=X.range.endColumn}}e.UnicodeHighlighterHover=D;let I=class{constructor(X,Z,q,H){this._editor=X,this._hover=Z,this._modeService=q,this._openerService=H}computeSync(X,Z){if(!this._editor.hasModel()||X.type!==1)return[];const q=this._editor.getModel(),H=this._editor.getContribution(c.ID),G=[];let z=300;for(const W of Z){let ne=function($){let ie=`\`U+${$.toString(16).padStart(4,"0")}\``;return E.InvisibleCharacters.isInvisibleCharacter($)||(ie+=` "${`${T($)}`}"`),ie};const j=H.getDecorationInfo(W.id);if(!j)continue;const Y=q.getValueInRange(W.range).codePointAt(0),J=ne(Y);let re;switch(j.reason.kind){case 0:re=d.localize(4,null,J,ne(j.reason.confusableWith.codePointAt(0)));break;case 1:re=d.localize(5,null,J);break;case 2:re=d.localize(6,null,J);break}const ge={codePoint:Y,reason:j.reason.kind},pe=d.localize(7,null),oe=[{value:`${re} [${pe}](command:${V.ID}?${encodeURIComponent(JSON.stringify(ge))})`,isTrusted:!0}];G.push(new l.MarkdownHover(this,W.range,oe,z++))}return G}renderHoverParts(X,Z,q){return(0,l.renderMarkdownHovers)(X,Z,this._editor,this._hover,this._modeService,this._openerService)}};I=Ve([Ce(2,t.IModeService),Ce(3,r.IOpenerService)],I),e.UnicodeHighlighterHoverParticipant=I;function T(K){return K===96?"`` ` ``":"`"+String.fromCodePoint(K)+"`"}function F(K,X){return v.UnicodeTextModelHighlighter.computeUnicodeHighlightReason(K,X)}const P=p.ModelDecorationOptions.register({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:{color:(0,_.themeColorFromId)(o.overviewRulerUnicodeHighlightForeground),position:b.OverviewRulerLane.Center},minimap:{color:(0,_.themeColorFromId)(o.minimapUnicodeHighlight),position:b.MinimapPosition.Inline},hideInCommentTokens:!0}),R=p.ModelDecorationOptions.register({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:{color:(0,_.themeColorFromId)(o.overviewRulerFindMatchForeground),position:b.OverviewRulerLane.Center},minimap:{color:(0,_.themeColorFromId)(o.minimapFindMatch),position:b.MinimapPosition.Inline}});class A extends g.EditorAction{constructor(){super({id:A.ID,label:d.localize(9,null),alias:"Disable highlighting of ambiguous characters",precondition:void 0});this.shortLabel=d.localize(8,null)}run(X,Z,q){return Me(this,void 0,void 0,function*(){let H=X==null?void 0:X.get(u.IConfigurationService);H&&this.runAction(H)})}runAction(X){return Me(this,void 0,void 0,function*(){yield X.updateValue(S.unicodeHighlightConfigKeys.ambiguousCharacters,!1,1)})}}e.DisableHighlightingOfAmbiguousCharactersAction=A,A.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";class O extends g.EditorAction{constructor(){super({id:O.ID,label:d.localize(11,null),alias:"Disable highlighting of invisible characters",precondition:void 0});this.shortLabel=d.localize(10,null)}run(X,Z,q){return Me(this,void 0,void 0,function*(){let H=X==null?void 0:X.get(u.IConfigurationService);H&&this.runAction(H)})}runAction(X){return Me(this,void 0,void 0,function*(){yield X.updateValue(S.unicodeHighlightConfigKeys.invisibleCharacters,!1,1)})}}e.DisableHighlightingOfInvisibleCharactersAction=O,O.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";class k extends g.EditorAction{constructor(){super({id:k.ID,label:d.localize(13,null),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0});this.shortLabel=d.localize(12,null)}run(X,Z,q){return Me(this,void 0,void 0,function*(){let H=X==null?void 0:X.get(u.IConfigurationService);H&&this.runAction(H)})}runAction(X){return Me(this,void 0,void 0,function*(){yield X.updateValue(S.unicodeHighlightConfigKeys.nonBasicASCII,!1,1)})}}e.DisableHighlightingOfNonBasicAsciiCharactersAction=k,k.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";class V extends g.EditorAction{constructor(){super({id:V.ID,label:d.localize(14,null),alias:"Show Exclude Options",precondition:void 0})}run(X,Z,q){return Me(this,void 0,void 0,function*(){const{codePoint:H,reason:G}=q,z=String.fromCodePoint(H),W=X.get(s.IQuickInputService),j=X.get(u.IConfigurationService);function U(J){return E.InvisibleCharacters.isInvisibleCharacter(J)?d.localize(15,null,`U+${J.toString(16)}`):d.localize(16,null,`U+${J.toString(16)} "${z}"`)}const Y=[{label:U(H),run:()=>B(j,[H])}];if(G===0){const J=new A;Y.push({label:J.label,run:()=>Me(this,void 0,void 0,function*(){return J.runAction(j)})})}else if(G===1){const J=new O;Y.push({label:J.label,run:()=>Me(this,void 0,void 0,function*(){return J.runAction(j)})})}else if(G===2){const J=new k;Y.push({label:J.label,run:()=>Me(this,void 0,void 0,function*(){return J.runAction(j)})})}else x(G);const ne=yield W.pick(Y,{title:d.localize(17,null)});ne&&(yield ne.run())})}}e.ShowExcludeOptions=V,V.ID="editor.action.unicodeHighlight.showExcludeOptions";function B(K,X){return Me(this,void 0,void 0,function*(){const Z=K.getValue(S.unicodeHighlightConfigKeys.allowedCharacters);let q;typeof Z=="object"&&Z?q=Z:q={};for(const H of X)q[String.fromCodePoint(H)]=!0;yield K.updateValue(S.unicodeHighlightConfigKeys.allowedCharacters,q,1)})}function x(K){throw new Error(`Unexpected value: ${K}`)}(0,g.registerEditorAction)(A),(0,g.registerEditorAction)(O),(0,g.registerEditorAction)(k),(0,g.registerEditorAction)(V),(0,g.registerEditorContribution)(c.ID,c)}),define(ee[301],te([0,1,2,154,30,67,274,39,614,47,290,156,205,282,686,125,38,26,37,601,17,675,69,603,126,9,598,157,43,127,161,75,606,93,41,61,78,86,14,167,673,192,638,62,158,74,597,85,580,131,730,678,76,40,299]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u,n,r,s,o,m,_,f,c,C,y,w,D,I,T,F,P,R,A,O,k,V,B,x,K,X,Z,q,H,G,z,W,j,U,Y,ne,J,re){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicStandaloneServices=e.StaticServices=void 0;var ge;(function(oe){const $=new y.ServiceCollection;class ie{constructor(ce,Se){this._serviceId=ce,this._factory=Se,this._value=null}get id(){return this._serviceId}get(ce){if(!this._value){if(ce&&(this._value=ce[this._serviceId.toString()]),this._value||(this._value=this._factory(ce)),!this._value)throw new Error("Service "+this._serviceId+" is missing!");$.set(this._serviceId,this._value)}return this._value}}oe.LazyStaticService=ie;let le=[];function de(se,ce){let Se=new ie(se,ce);return le.push(Se),Se}function fe(se){let ce=new y.ServiceCollection;for(const[Le,ue]of(0,H.getSingletonServiceDescriptors)())ce.set(Le,ue);for(let Le in se)se.hasOwnProperty(Le)&&ce.set((0,c.createDecorator)(Le),se[Le]);le.forEach(Le=>ce.set(Le.id,Le.get(se)));let Se=new C.InstantiationService(ce,!0);return ce.set(c.IInstantiationService,Se),[ce,Se]}oe.init=fe,oe.instantiationService=de(c.IInstantiationService,()=>new C.InstantiationService($,!0));const he=new t.SimpleConfigurationService;oe.configurationService=de(n.IConfigurationService,()=>he),oe.resourceConfigurationService=de(i.ITextResourceConfigurationService,()=>new t.SimpleResourceConfigurationService(he)),oe.resourcePropertiesService=de(i.ITextResourcePropertiesService,()=>new t.SimpleResourcePropertiesService(he)),oe.contextService=de(B.IWorkspaceContextService,()=>new t.SimpleWorkspaceContextService),oe.labelService=de(D.ILabelService,()=>new t.SimpleUriLabelService),oe.telemetryService=de(k.ITelemetryService,()=>new t.StandaloneTelemetryService),oe.dialogService=de(f.IDialogService,()=>new t.SimpleDialogService),oe.notificationService=de(R.INotificationService,()=>new t.SimpleNotificationService),oe.markerService=de(P.IMarkerService,()=>new F.MarkerService),oe.modeService=de(S.IModeService,se=>new b.ModeServiceImpl),oe.standaloneThemeService=de(h.IStandaloneThemeService,()=>new l.StandaloneThemeServiceImpl),oe.logService=de(T.ILogService,()=>new T.LogService(new T.ConsoleLogger)),oe.undoRedoService=de(j.IUndoRedoService,se=>new U.UndoRedoService(oe.dialogService.get(se),oe.notificationService.get(se))),oe.languageConfigurationService=de(J.ILanguageConfigurationService,se=>new J.LanguageConfigurationService(oe.configurationService.get(se),oe.modeService.get(se))),oe.modelService=de(p.IModelService,se=>new v.ModelServiceImpl(oe.configurationService.get(se),oe.resourcePropertiesService.get(se),oe.standaloneThemeService.get(se),oe.logService.get(se),oe.undoRedoService.get(se),oe.modeService.get(se),oe.languageConfigurationService.get(se))),oe.markerDecorationsService=de(K.IMarkerDecorationsService,se=>new X.MarkerDecorationsService(oe.modelService.get(se),oe.markerService.get(se))),oe.contextKeyService=de(s.IContextKeyService,se=>new r.ContextKeyService(oe.configurationService.get(se))),oe.codeEditorService=de(M.ICodeEditorService,se=>new a.StandaloneCodeEditorServiceImpl(null,oe.contextKeyService.get(se),oe.standaloneThemeService.get(se))),oe.editorProgressService=de(A.IEditorProgressService,()=>new t.SimpleEditorProgressService),oe.storageService=de(O.IStorageService,()=>new O.InMemoryStorageService),oe.editorWorkerService=de(E.IEditorWorkerService,se=>new g.EditorWorkerServiceImpl(oe.modelService.get(se),oe.resourceConfigurationService.get(se),oe.logService.get(se)))})(ge=e.StaticServices||(e.StaticServices={}));class pe extends L.Disposable{constructor($,ie){super();const[le,de]=ge.init(ie);this._serviceCollection=le,this._instantiationService=de;const fe=this.get(n.IConfigurationService),he=this.get(R.INotificationService),se=this.get(k.ITelemetryService),ce=this.get(V.IThemeService),Se=this.get(T.ILogService),Le=this.get(s.IContextKeyService);let ue=(Fe,ze)=>{let Ke=null;return ie&&(Ke=ie[Fe.toString()]),Ke||(Ke=ze()),this._serviceCollection.set(Fe,Ke),Ke};ue(Z.IAccessibilityService,()=>new G.AccessibilityService(Le,fe)),ue(I.IListService,()=>new I.ListService(ce));let we=ue(u.ICommandService,()=>new t.StandaloneCommandService(this._instantiationService)),ae=ue(w.IKeybindingService,()=>this._register(new t.StandaloneKeybindingService(Le,we,se,he,Se,$))),me=ue(q.ILayoutService,()=>new t.SimpleLayoutService(ge.codeEditorService.get(M.ICodeEditorService),$));ue(ne.IQuickInputService,()=>new Y.StandaloneQuickInputServiceImpl(de,ge.codeEditorService.get(M.ICodeEditorService)));let Ie=ue(m.IContextViewService,()=>this._register(new _.ContextViewService(me)));ue(z.IClipboardService,()=>new W.BrowserClipboardService),ue(m.IContextMenuService,()=>{const Fe=new o.ContextMenuService(se,he,Ie,ae,ce);return Fe.configure({blockMouse:!1}),this._register(Fe)}),ue(d.IMenuService,()=>new x.MenuService(we)),ue(N.IBulkEditService,()=>new t.SimpleBulkEditService(ge.modelService.get(p.IModelService))),ue(re.IWorkspaceTrustManagementService,()=>new t.SimpleWorkspaceTrustManagementService)}get($){let ie=this._serviceCollection.get($);if(!ie)throw new Error("Missing service "+$);return ie}set($,ie){this._serviceCollection.set($,ie)}has($){return this._serviceCollection.has($)}}e.DynamicStandaloneServices=pe}),define(ee[732],te([0,1,30,607,232,29,190,115,49,18,83,67,39,68,604,179,590,205,731,301,125,26,37,17,69,9,43,41,54,62,63,61,85,8,47,394]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u,n,r,s,o,m,_,f,c,C,y,w,D,I,T,F,P,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoEditorAPI=e.registerCommand=e.remeasureFonts=e.setTheme=e.defineTheme=e.tokenize=e.colorizeModelLine=e.colorize=e.colorizeElement=e.createWebWorker=e.onDidChangeModelLanguage=e.onWillDisposeModel=e.onDidCreateModel=e.getModels=e.getModel=e.onDidChangeMarkers=e.getModelMarkers=e.setModelMarkers=e.setModelLanguage=e.createModel=e.createDiffNavigator=e.createDiffEditor=e.onDidCreateEditor=e.create=void 0;function A(de,fe,he){let se=new r.DynamicStandaloneServices(de,fe),ce=null;se.has(a.ITextModelService)||(ce=new u.SimpleEditorModelResolverService(r.StaticServices.modelService.get()),se.set(a.ITextModelService,ce)),se.has(w.IOpenerService)||se.set(w.IOpenerService,new N.OpenerService(se.get(L.ICodeEditorService),se.get(o.ICommandService)));let Se=he(se);return ce&&ce.setEditor(Se),Se}function O(de,fe,he){return A(de,he||{},se=>new n.StandaloneEditor(de,fe,se,se.get(c.IInstantiationService),se.get(L.ICodeEditorService),se.get(o.ICommandService),se.get(_.IContextKeyService),se.get(C.IKeybindingService),se.get(f.IContextViewService),se.get(s.IStandaloneThemeService),se.get(y.INotificationService),se.get(m.IConfigurationService),se.get(D.IAccessibilityService),se.get(R.IModelService),se.get(t.IModeService)))}e.create=O;function k(de){return r.StaticServices.codeEditorService.get().onCodeEditorAdd(fe=>{de(fe)})}e.onDidCreateEditor=k;function V(de,fe,he){return A(de,he||{},se=>new n.StandaloneDiffEditor(de,fe,se,se.get(c.IInstantiationService),se.get(_.IContextKeyService),se.get(C.IKeybindingService),se.get(f.IContextViewService),se.get(i.IEditorWorkerService),se.get(L.ICodeEditorService),se.get(s.IStandaloneThemeService),se.get(y.INotificationService),se.get(m.IConfigurationService),se.get(f.IContextMenuService),se.get(T.IEditorProgressService),se.get(F.IClipboardService)))}e.createDiffEditor=V;function B(de,fe){return new M.DiffNavigator(de,fe)}e.createDiffNavigator=B;function x(de,fe,he){return(0,n.createTextModel)(r.StaticServices.modelService.get(),r.StaticServices.modeService.get(),de,fe,he)}e.createModel=x;function K(de,fe){r.StaticServices.modelService.get().setMode(de,r.StaticServices.modeService.get().create(fe))}e.setModelLanguage=K;function X(de,fe,he){de&&r.StaticServices.markerService.get().changeOne(fe,de.uri,he)}e.setModelMarkers=X;function Z(de){return r.StaticServices.markerService.get().read(de)}e.getModelMarkers=Z;function q(de){return r.StaticServices.markerService.get().onMarkerChanged(de)}e.onDidChangeMarkers=q;function H(de){return r.StaticServices.modelService.get().getModel(de)}e.getModel=H;function G(){return r.StaticServices.modelService.get().getModels()}e.getModels=G;function z(de){return r.StaticServices.modelService.get().onModelAdded(de)}e.onDidCreateModel=z;function W(de){return r.StaticServices.modelService.get().onModelRemoved(de)}e.onWillDisposeModel=W;function j(de){return r.StaticServices.modelService.get().onModelModeChanged(fe=>{de({model:fe.model,oldLanguage:fe.oldModeId})})}e.onDidChangeModelLanguage=j;function U(de){return(0,l.createWebWorker)(r.StaticServices.modelService.get(),de)}e.createWebWorker=U;function Y(de,fe){const he=r.StaticServices.standaloneThemeService.get();return he.registerEditorContainer(de),d.Colorizer.colorizeElement(he,r.StaticServices.modeService.get(),de,fe)}e.colorizeElement=Y;function ne(de,fe,he){return r.StaticServices.standaloneThemeService.get().registerEditorContainer(document.body),d.Colorizer.colorize(r.StaticServices.modeService.get(),de,fe,he)}e.colorize=ne;function J(de,fe,he=4){return r.StaticServices.standaloneThemeService.get().registerEditorContainer(document.body),d.Colorizer.colorizeModelLine(de,fe,he)}e.colorizeModelLine=J;function re(de){let fe=p.TokenizationRegistry.get(de);return fe||{getInitialState:()=>v.NULL_STATE,tokenize:(he,se,ce,Se)=>(0,v.nullTokenize)(de,he,ce,Se)}}function ge(de,fe){r.StaticServices.modeService.get().triggerMode(fe);let se=re(fe),ce=(0,P.splitLines)(de),Se=[],Le=se.getInitialState();for(let ue=0,we=ce.length;ue<we;ue++){let ae=ce[ue],me=se.tokenize(ae,!0,Le,0);Se[ue]=me.tokens,Le=me.endState}return Se}e.tokenize=ge;function pe(de,fe){r.StaticServices.standaloneThemeService.get().defineTheme(de,fe)}e.defineTheme=pe;function oe(de){r.StaticServices.standaloneThemeService.get().setTheme(de)}e.setTheme=oe;function $(){(0,I.clearAllFontInfos)()}e.remeasureFonts=$;function ie(de,fe){return o.CommandsRegistry.registerCommand({id:de,handler:fe})}e.registerCommand=ie;function le(){return{create:O,onDidCreateEditor:k,createDiffEditor:V,createDiffNavigator:B,createModel:x,setModelLanguage:K,setModelMarkers:X,getModelMarkers:Z,onDidChangeMarkers:q,getModels:G,getModel:H,onDidCreateModel:z,onWillDisposeModel:W,onDidChangeModelLanguage:j,createWebWorker:U,colorizeElement:Y,colorize:ne,colorizeModelLine:J,tokenize:ge,defineTheme:pe,setTheme:oe,remeasureFonts:$,registerCommand:ie,AccessibilitySupport:h.AccessibilitySupport,ContentWidgetPositionPreference:h.ContentWidgetPositionPreference,CursorChangeReason:h.CursorChangeReason,DefaultEndOfLine:h.DefaultEndOfLine,EditorAutoIndentStrategy:h.EditorAutoIndentStrategy,EditorOption:h.EditorOption,EndOfLinePreference:h.EndOfLinePreference,EndOfLineSequence:h.EndOfLineSequence,MinimapPosition:h.MinimapPosition,MouseTargetType:h.MouseTargetType,OverlayWidgetPositionPreference:h.OverlayWidgetPositionPreference,OverviewRulerLane:h.OverviewRulerLane,RenderLineNumbersType:h.RenderLineNumbersType,RenderMinimap:h.RenderMinimap,ScrollbarVisibility:h.ScrollbarVisibility,ScrollType:h.ScrollType,TextEditorCursorBlinkingStyle:h.TextEditorCursorBlinkingStyle,TextEditorCursorStyle:h.TextEditorCursorStyle,TrackedRangeStickiness:h.TrackedRangeStickiness,WrappingIndent:h.WrappingIndent,ConfigurationChangedEvent:E.ConfigurationChangedEvent,BareFontInfo:g.BareFontInfo,FontInfo:g.FontInfo,TextModelResolvedOptions:b.TextModelResolvedOptions,FindMatch:b.FindMatch,ApplyUpdateResult:E.ApplyUpdateResult,EditorType:S.EditorType,EditorOptions:E.EditorOptions}}e.createMonacoEditorAPI=le}),define(ee[733],te([0,1,28,3,146,18,40,128,179,301,451,265]),function(Q,e,L,N,M,E,g,S,b,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoLanguagesAPI=e.registerInlayHintsProvider=e.registerInlineCompletionsProvider=e.registerDocumentRangeSemanticTokensProvider=e.registerDocumentSemanticTokensProvider=e.registerSelectionRangeProvider=e.registerDeclarationProvider=e.registerFoldingRangeProvider=e.registerColorProvider=e.registerCompletionItemProvider=e.registerLinkProvider=e.registerOnTypeFormattingEditProvider=e.registerDocumentRangeFormattingEditProvider=e.registerDocumentFormattingEditProvider=e.registerCodeActionProvider=e.registerCodeLensProvider=e.registerTypeDefinitionProvider=e.registerImplementationProvider=e.registerDefinitionProvider=e.registerLinkedEditingRangeProvider=e.registerDocumentHighlightProvider=e.registerDocumentSymbolProvider=e.registerHoverProvider=e.registerSignatureHelpProvider=e.registerRenameProvider=e.registerReferenceProvider=e.setMonarchTokensProvider=e.setTokensProvider=e.setColorMap=e.TokenizationSupport2Adapter=e.EncodedTokenizationSupport2Adapter=e.setLanguageConfiguration=e.onLanguage=e.getEncodedLanguageId=e.getLanguages=e.register=void 0;function t(U){S.ModesRegistry.registerLanguage(U)}e.register=t;function a(){let U=[];return U=U.concat(S.ModesRegistry.getLanguages()),U}e.getLanguages=a;function l(U){return p.StaticServices.modeService.get().languageIdCodec.encodeLanguageId(U)}e.getEncodedLanguageId=l;function h(U,Y){let ne=p.StaticServices.modeService.get().onDidEncounterLanguage(J=>{J===U&&(ne.dispose(),Y())});return ne}e.onLanguage=h;function d(U,Y){const ne=p.StaticServices.modeService.get().validateLanguageId(U);if(!ne)throw new Error(`Cannot set configuration for unknown language ${U}`);return g.LanguageConfigurationRegistry.register(ne,Y,100)}e.setLanguageConfiguration=d;class u{constructor(Y,ne){this._languageId=Y,this._actual=ne}getInitialState(){return this._actual.getInitialState()}tokenize(Y,ne,J,re){if(typeof this._actual.tokenize=="function")return n.adaptTokenize(this._languageId,this._actual,Y,J,re);throw new Error("Not supported!")}tokenize2(Y,ne,J){let re=this._actual.tokenizeEncoded(Y,J);return new M.TokenizationResult2(re.tokens,re.endState)}}e.EncodedTokenizationSupport2Adapter=u;class n{constructor(Y,ne,J,re){this._languageId=Y,this._actual=ne,this._modeService=J,this._standaloneThemeService=re}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(Y,ne,J){let re=[],ge=0;for(let pe=0,oe=Y.length;pe<oe;pe++){const $=Y[pe];let ie=$.startIndex;pe===0?ie=0:ie<ge&&(ie=ge),re[pe]=new M.Token(ie+J,$.scopes,ne),ge=ie}return re}static adaptTokenize(Y,ne,J,re,ge){let pe=ne.tokenize(J,re),oe=n._toClassicTokens(pe.tokens,Y,ge),$;return pe.endState.equals(re)?$=re:$=pe.endState,new M.TokenizationResult(oe,$)}tokenize(Y,ne,J,re){return n.adaptTokenize(this._languageId,this._actual,Y,J,re)}_toBinaryTokens(Y,ne,J){const re=Y.encodeLanguageId(this._languageId),ge=this._standaloneThemeService.getColorTheme().tokenTheme;let pe=[],oe=0,$=0;for(let le=0,de=ne.length;le<de;le++){const fe=ne[le],he=ge.match(re,fe.scopes);if(oe>0&&pe[oe-1]===he)continue;let se=fe.startIndex;le===0?se=0:se<$&&(se=$),pe[oe++]=se+J,pe[oe++]=he,$=se}let ie=new Uint32Array(oe);for(let le=0;le<oe;le++)ie[le]=pe[le];return ie}tokenize2(Y,ne,J,re){let ge=this._actual.tokenize(Y,J),pe=this._toBinaryTokens(this._modeService.languageIdCodec,ge.tokens,re),oe;return ge.endState.equals(J)?oe=J:oe=ge.endState,new M.TokenizationResult2(pe,oe)}}e.TokenizationSupport2Adapter=n;function r(U){return"tokenizeEncoded"in U}function s(U){return U&&typeof U.then=="function"}function o(U){if(U){const Y=[null];for(let ne=1,J=U.length;ne<J;ne++)Y[ne]=L.Color.fromHex(U[ne]);p.StaticServices.standaloneThemeService.get().setColorMapOverride(Y)}else p.StaticServices.standaloneThemeService.get().setColorMapOverride(null)}e.setColorMap=o;function m(U,Y){const ne=p.StaticServices.modeService.get().validateLanguageId(U);if(!ne)throw new Error(`Cannot set tokens provider for unknown language ${U}`);const J=re=>r(re)?new u(ne,re):new n(ne,re,p.StaticServices.modeService.get(),p.StaticServices.standaloneThemeService.get());return s(Y)?E.TokenizationRegistry.registerPromise(U,Y.then(re=>J(re))):E.TokenizationRegistry.register(U,J(Y))}e.setTokensProvider=m;function _(U,Y){const ne=J=>(0,i.createTokenizationSupport)(p.StaticServices.modeService.get(),p.StaticServices.standaloneThemeService.get(),U,(0,v.compile)(U,J));return s(Y)?E.TokenizationRegistry.registerPromise(U,Y.then(J=>ne(J))):E.TokenizationRegistry.register(U,ne(Y))}e.setMonarchTokensProvider=_;function f(U,Y){return E.ReferenceProviderRegistry.register(U,Y)}e.registerReferenceProvider=f;function c(U,Y){return E.RenameProviderRegistry.register(U,Y)}e.registerRenameProvider=c;function C(U,Y){return E.SignatureHelpProviderRegistry.register(U,Y)}e.registerSignatureHelpProvider=C;function y(U,Y){return E.HoverProviderRegistry.register(U,{provideHover:(ne,J,re)=>{let ge=ne.getWordAtPosition(J);return Promise.resolve(Y.provideHover(ne,J,re)).then(pe=>{if(!!pe)return!pe.range&&ge&&(pe.range=new N.Range(J.lineNumber,ge.startColumn,J.lineNumber,ge.endColumn)),pe.range||(pe.range=new N.Range(J.lineNumber,J.column,J.lineNumber,J.column)),pe})}})}e.registerHoverProvider=y;function w(U,Y){return E.DocumentSymbolProviderRegistry.register(U,Y)}e.registerDocumentSymbolProvider=w;function D(U,Y){return E.DocumentHighlightProviderRegistry.register(U,Y)}e.registerDocumentHighlightProvider=D;function I(U,Y){return E.LinkedEditingRangeProviderRegistry.register(U,Y)}e.registerLinkedEditingRangeProvider=I;function T(U,Y){return E.DefinitionProviderRegistry.register(U,Y)}e.registerDefinitionProvider=T;function F(U,Y){return E.ImplementationProviderRegistry.register(U,Y)}e.registerImplementationProvider=F;function P(U,Y){return E.TypeDefinitionProviderRegistry.register(U,Y)}e.registerTypeDefinitionProvider=P;function R(U,Y){return E.CodeLensProviderRegistry.register(U,Y)}e.registerCodeLensProvider=R;function A(U,Y,ne){return E.CodeActionProviderRegistry.register(U,{providedCodeActionKinds:ne==null?void 0:ne.providedCodeActionKinds,provideCodeActions:(J,re,ge,pe)=>{let oe=p.StaticServices.markerService.get().read({resource:J.uri}).filter($=>N.Range.areIntersectingOrTouching($,re));return Y.provideCodeActions(J,re,{markers:oe,only:ge.only},pe)},resolveCodeAction:Y.resolveCodeAction})}e.registerCodeActionProvider=A;function O(U,Y){return E.DocumentFormattingEditProviderRegistry.register(U,Y)}e.registerDocumentFormattingEditProvider=O;function k(U,Y){return E.DocumentRangeFormattingEditProviderRegistry.register(U,Y)}e.registerDocumentRangeFormattingEditProvider=k;function V(U,Y){return E.OnTypeFormattingEditProviderRegistry.register(U,Y)}e.registerOnTypeFormattingEditProvider=V;function B(U,Y){return E.LinkProviderRegistry.register(U,Y)}e.registerLinkProvider=B;function x(U,Y){return E.CompletionProviderRegistry.register(U,Y)}e.registerCompletionItemProvider=x;function K(U,Y){return E.ColorProviderRegistry.register(U,Y)}e.registerColorProvider=K;function X(U,Y){return E.FoldingRangeProviderRegistry.register(U,Y)}e.registerFoldingRangeProvider=X;function Z(U,Y){return E.DeclarationProviderRegistry.register(U,Y)}e.registerDeclarationProvider=Z;function q(U,Y){return E.SelectionRangeRegistry.register(U,Y)}e.registerSelectionRangeProvider=q;function H(U,Y){return E.DocumentSemanticTokensProviderRegistry.register(U,Y)}e.registerDocumentSemanticTokensProvider=H;function G(U,Y){return E.DocumentRangeSemanticTokensProviderRegistry.register(U,Y)}e.registerDocumentRangeSemanticTokensProvider=G;function z(U,Y){return E.InlineCompletionsProviderRegistry.register(U,Y)}e.registerInlineCompletionsProvider=z;function W(U,Y){return E.InlayHintsProviderRegistry.register(U,Y)}e.registerInlayHintsProvider=W;function j(){return{register:t,getLanguages:a,onLanguage:h,getEncodedLanguageId:l,setLanguageConfiguration:d,setColorMap:o,setTokensProvider:m,setMonarchTokensProvider:_,registerReferenceProvider:f,registerRenameProvider:c,registerCompletionItemProvider:x,registerSignatureHelpProvider:C,registerHoverProvider:y,registerDocumentSymbolProvider:w,registerDocumentHighlightProvider:D,registerLinkedEditingRangeProvider:I,registerDefinitionProvider:T,registerImplementationProvider:F,registerTypeDefinitionProvider:P,registerCodeLensProvider:R,registerCodeActionProvider:A,registerDocumentFormattingEditProvider:O,registerDocumentRangeFormattingEditProvider:k,registerOnTypeFormattingEditProvider:V,registerLinkProvider:B,registerColorProvider:K,registerFoldingRangeProvider:X,registerDeclarationProvider:Z,registerSelectionRangeProvider:q,registerDocumentSemanticTokensProvider:H,registerDocumentRangeSemanticTokensProvider:G,registerInlineCompletionsProvider:z,registerInlayHintsProvider:W,DocumentHighlightKind:b.DocumentHighlightKind,CompletionItemKind:b.CompletionItemKind,CompletionItemTag:b.CompletionItemTag,CompletionItemInsertTextRule:b.CompletionItemInsertTextRule,SymbolKind:b.SymbolKind,SymbolTag:b.SymbolTag,IndentAction:b.IndentAction,CompletionTriggerKind:b.CompletionTriggerKind,SignatureHelpTriggerKind:b.SignatureHelpTriggerKind,InlayHintKind:b.InlayHintKind,InlineCompletionTriggerKind:b.InlineCompletionTriggerKind,FoldingRangeKind:E.FoldingRangeKind}}e.createMonacoLanguagesAPI=j}),define(ee[734],te([0,1,29,239,732,733,15,283]),function(Q,e,L,N,M,E,g,S){"use strict";var b;Object.defineProperty(e,"__esModule",{value:!0}),e.languages=e.editor=e.Token=e.Uri=e.MarkerTag=e.MarkerSeverity=e.SelectionDirection=e.Selection=e.Range=e.Position=e.KeyMod=e.KeyCode=e.Emitter=e.CancellationTokenSource=void 0,L.EditorOptions.wrappingIndent.defaultValue=0,L.EditorOptions.glyphMargin.defaultValue=!1,L.EditorOptions.autoIndent.defaultValue=3,L.EditorOptions.overviewRulerLanes.defaultValue=2,S.FormattingConflicts.setFormatterSelector((v,i,t)=>Promise.resolve(v[0]));const p=(0,N.createMonacoBaseAPI)();p.editor=(0,M.createMonacoEditorAPI)(),p.languages=(0,E.createMonacoLanguagesAPI)(),e.CancellationTokenSource=p.CancellationTokenSource,e.Emitter=p.Emitter,e.KeyCode=p.KeyCode,e.KeyMod=p.KeyMod,e.Position=p.Position,e.Range=p.Range,e.Selection=p.Selection,e.SelectionDirection=p.SelectionDirection,e.MarkerSeverity=p.MarkerSeverity,e.MarkerTag=p.MarkerTag,e.Uri=p.Uri,e.Token=p.Token,e.editor=p.editor,e.languages=p.languages,(((b=g.globals.MonacoEnvironment)===null||b===void 0?void 0:b.globalAPI)||typeof define=="function"&&define.amd)&&(self.monaco=p),typeof self.require!="undefined"&&typeof self.require.config=="function"&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})}),define(ee[735],te([0,1,138,134,310,140,42,58,15,33,22,578,9,276,167]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toStoreData=e.restoreRecentlyOpened=e.useSlashForPath=e.rewriteWorkspaceFileForNewLocation=e.toWorkspaceFolders=e.getStoredWorkspaceFolder=e.isRawUriWorkspaceFolder=e.isRawFileWorkspaceFolder=e.isStoredWorkspaceFolder=e.isUntitledWorkspace=e.reviveIdentifier=e.isWorkspaceIdentifier=e.toWorkspaceIdentifier=e.isSingleFolderWorkspaceIdentifier=e.isRecentFile=e.isRecentFolder=e.isRecentWorkspace=e.IWorkspacesService=e.hasWorkspaceFileExtension=e.UNTITLED_WORKSPACE_NAME=e.WORKSPACE_FILTER=e.WORKSPACE_EXTENSION=void 0,e.WORKSPACE_EXTENSION="code-workspace";const h=`.${e.WORKSPACE_EXTENSION}`;e.WORKSPACE_FILTER=[{name:(0,i.localize)(0,null),extensions:[e.WORKSPACE_EXTENSION]}],e.UNTITLED_WORKSPACE_NAME="workspace.json";function d(V){return(typeof V=="string"?(0,S.extname)(V):(0,p.extname)(V))===h}e.hasWorkspaceFileExtension=d,e.IWorkspacesService=(0,t.createDecorator)("workspacesService");function u(V){return V.hasOwnProperty("workspace")}e.isRecentWorkspace=u;function n(V){return V.hasOwnProperty("folderUri")}e.isRecentFolder=n;function r(V){return V.hasOwnProperty("fileUri")}e.isRecentFile=r;function s(V){const B=V;return typeof(B==null?void 0:B.id)=="string"&&v.URI.isUri(B.uri)}e.isSingleFolderWorkspaceIdentifier=s;function o(V){if(V.configuration)return{id:V.id,configPath:V.configuration};if(V.folders.length===1)return{id:V.id,uri:V.folders[0].uri}}e.toWorkspaceIdentifier=o;function m(V){const B=V;return typeof(B==null?void 0:B.id)=="string"&&v.URI.isUri(B.configPath)}e.isWorkspaceIdentifier=m;function _(V){const B=V;if(B==null?void 0:B.uri)return{id:B.id,uri:v.URI.revive(B.uri)};const x=V;if(x==null?void 0:x.configPath)return{id:x.id,configPath:v.URI.revive(x.configPath)};if(V==null?void 0:V.id)return{id:V.id}}e.reviveIdentifier=_;function f(V,B){return p.extUriBiasedIgnorePathCase.isEqualOrParent(V,B.untitledWorkspacesHome)}e.isUntitledWorkspace=f;function c(V){return C(V)||y(V)}e.isStoredWorkspaceFolder=c;function C(V){const B=V;return typeof(B==null?void 0:B.path)=="string"&&(!B.name||typeof B.name=="string")}e.isRawFileWorkspaceFolder=C;function y(V){const B=V;return typeof(B==null?void 0:B.uri)=="string"&&(!B.name||typeof B.name=="string")}e.isRawUriWorkspaceFolder=y;function w(V,B,x,K,X=!b.isWindows,Z){if(V.scheme!==K.scheme)return{name:x,uri:V.toString(!0)};let q=B?void 0:Z.relativePath(K,V);if(q!==void 0)q.length===0?q=".":b.isWindows&&V.scheme===g.Schemas.file&&!X&&(q=q.replace(/\//g,"\\"));else if(V.scheme===g.Schemas.file)q=V.fsPath,b.isWindows&&(q=(0,E.normalizeDriveLetter)(q),X&&(q=(0,L.toSlashes)(q)));else{if(!Z.isEqualAuthority(V.authority,K.authority))return{name:x,uri:V.toString(!0)};q=V.path}return{name:x,path:q}}e.getStoredWorkspaceFolder=w;function D(V,B,x){let K=[],X=new Set;const Z=x.dirname(B);for(let q of V){let H;if(C(q))q.path&&(H=x.resolvePath(Z,q.path));else if(y(q))try{H=v.URI.parse(q.uri),H.path[0]!=="/"&&(H=H.with({path:"/"+H.path}))}catch(G){console.warn(G)}if(H){let G=x.getComparisonKey(H);if(!X.has(G)){X.add(G);const z=q.name||x.basenameOrAuthority(H);K.push(new l.WorkspaceFolder({uri:H,name:z,index:K.length},q))}}}return K}e.toWorkspaceFolders=D;function I(V,B,x,K,X){let Z=T(B,V);const q=X.dirname(B),H=X.dirname(K),G=[],z=F(Z.folders);for(const Y of Z.folders){const ne=C(Y)?X.resolvePath(q,Y.path):v.URI.parse(Y.uri);let J;x?J=!1:J=!C(Y)||(0,S.isAbsolute)(Y.path),G.push(w(ne,J,Y.name,H,z,X))}const W={insertSpaces:!1,tabSize:4,eol:b.isLinux||b.isMacintosh?`
`:`\r
`},j=M.setProperty(V,["folders"],G,W);let U=M.applyEdits(V,j);return(0,p.isEqualAuthority)(Z.remoteAuthority,(0,a.getRemoteAuthority)(K))&&(U=M.applyEdits(U,M.removeProperty(U,["remoteAuthority"],W))),U}e.rewriteWorkspaceFileForNewLocation=I;function T(V,B){let x=N.parse(B);if(x&&Array.isArray(x.folders))x.folders=x.folders.filter(K=>c(K));else throw new Error(`${V} looks like an invalid workspace file.`);return x}function F(V){return b.isWindows?V.some(B=>C(B)&&B.path.indexOf("/")>=0):!0}e.useSlashForPath=F;function P(V){return V.workspace&&typeof V.workspace=="object"&&typeof V.workspace.id=="string"&&typeof V.workspace.configPath=="string"}function R(V){return typeof V.folderUri=="string"}function A(V){return typeof V.fileUri=="string"}function O(V,B){const x={workspaces:[],files:[]};if(V){const K=function(Z,q){for(let H=0;H<Z.length;H++)try{q(Z[H],H)}catch(G){B.warn(`Error restoring recent entry ${JSON.stringify(Z[H])}: ${G.toString()}. Skip entry.`)}},X=V;if(Array.isArray(X.entries))K(X.entries,Z=>{const q=Z.label,H=Z.remoteAuthority;P(Z)?x.workspaces.push({label:q,remoteAuthority:H,workspace:{id:Z.workspace.id,configPath:v.URI.parse(Z.workspace.configPath)}}):R(Z)?x.workspaces.push({label:q,remoteAuthority:H,folderUri:v.URI.parse(Z.folderUri)}):A(Z)&&x.files.push({label:q,remoteAuthority:H,fileUri:v.URI.parse(Z.fileUri)})});else{const Z=V;Array.isArray(Z.workspaces3)&&K(Z.workspaces3,(q,H)=>{const G=Array.isArray(Z.workspaceLabels)&&Z.workspaceLabels[H]||void 0;typeof q=="object"&&typeof q.id=="string"&&typeof q.configURIPath=="string"?x.workspaces.push({label:G,workspace:{id:q.id,configPath:v.URI.parse(q.configURIPath)}}):typeof q=="string"&&x.workspaces.push({label:G,folderUri:v.URI.parse(q)})}),Array.isArray(Z.files2)&&K(Z.files2,(q,H)=>{const G=Array.isArray(Z.fileLabels)&&Z.fileLabels[H]||void 0;typeof q=="string"&&x.files.push({label:G,fileUri:v.URI.parse(q)})})}}return x}e.restoreRecentlyOpened=O;function k(V){const B={entries:[]};for(const x of V.workspaces)n(x)?B.entries.push({folderUri:x.folderUri.toString(),label:x.label,remoteAuthority:x.remoteAuthority}):B.entries.push({workspace:{id:x.workspace.id,configPath:x.workspace.configPath.toString()},label:x.label,remoteAuthority:x.remoteAuthority});for(const x of V.files)B.entries.push({fileUri:x.fileUri.toString(),label:x.label,remoteAuthority:x.remoteAuthority});return B}e.toStoreData=k}),define(ee[736],te([0,1,140,58,33,8,324,40,122,549,735]),function(Q,e,L,N,M,E,g,S,b,p,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RandomBasedVariableResolver=e.WorkspaceBasedVariableResolver=e.TimeBasedVariableResolver=e.CommentBasedVariableResolver=e.ClipboardBasedVariableResolver=e.ModelBasedVariableResolver=e.SelectionBasedVariableResolver=e.CompositeSnippetVariableResolver=e.KnownSnippetVariableNames=void 0,e.KnownSnippetVariableNames=Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class i{constructor(s){this._delegates=s}resolve(s){for(const o of this._delegates){let m=o.resolve(s);if(m!==void 0)return m}}}e.CompositeSnippetVariableResolver=i;class t{constructor(s,o,m,_){this._model=s,this._selection=o,this._selectionIdx=m,this._overtypingCapturer=_}resolve(s){const{name:o}=s;if(o==="SELECTION"||o==="TM_SELECTED_TEXT"){let m=this._model.getValueInRange(this._selection)||void 0,_=this._selection.startLineNumber!==this._selection.endLineNumber;if(!m&&this._overtypingCapturer){const f=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);f&&(m=f.value,_=f.multiline)}if(m&&_&&s.snippet){const f=this._model.getLineContent(this._selection.startLineNumber),c=(0,E.getLeadingWhitespace)(f,0,this._selection.startColumn-1);let C=c;s.snippet.walk(w=>w===s?!1:(w instanceof b.Text&&(C=(0,E.getLeadingWhitespace)((0,E.splitLines)(w.value).pop())),!0));const y=(0,E.commonPrefixLength)(C,c);m=m.replace(/(\r\n|\r|\n)(.*)/g,(w,D,I)=>`${D}${C.substr(y)}${I}`)}return m}else{if(o==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(o==="TM_CURRENT_WORD"){const m=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return m&&m.word||void 0}else{if(o==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(o==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber)}}}}e.SelectionBasedVariableResolver=t;class a{constructor(s,o){this._labelService=s,this._model=o}resolve(s){const{name:o}=s;if(o==="TM_FILENAME")return N.basename(this._model.uri.fsPath);if(o==="TM_FILENAME_BASE"){const m=N.basename(this._model.uri.fsPath),_=m.lastIndexOf(".");return _<=0?m:m.slice(0,_)}else{if(o==="TM_DIRECTORY")return N.dirname(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel((0,M.dirname)(this._model.uri));if(o==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(o==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}e.ModelBasedVariableResolver=a;class l{constructor(s,o,m,_){this._readClipboardText=s,this._selectionIdx=o,this._selectionCount=m,this._spread=_}resolve(s){if(s.name!=="CLIPBOARD")return;const o=this._readClipboardText();if(!!o){if(this._spread){const m=o.split(/\r\n|\n|\r/).filter(_=>!(0,E.isFalsyOrWhitespace)(_));if(m.length===this._selectionCount)return m[this._selectionIdx]}return o}}}e.ClipboardBasedVariableResolver=l;class h{constructor(s,o){this._model=s,this._selection=o}resolve(s){const{name:o}=s,m=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),_=S.LanguageConfigurationRegistry.getComments(m);if(!!_){if(o==="LINE_COMMENT")return _.lineCommentToken||void 0;if(o==="BLOCK_COMMENT_START")return _.blockCommentStartToken||void 0;if(o==="BLOCK_COMMENT_END")return _.blockCommentEndToken||void 0}}}e.CommentBasedVariableResolver=h;class d{constructor(){this._date=new Date}resolve(s){const{name:o}=s;if(o==="CURRENT_YEAR")return String(this._date.getFullYear());if(o==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(o==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(o==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(o==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(o==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(o==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(o==="CURRENT_DAY_NAME")return d.dayNames[this._date.getDay()];if(o==="CURRENT_DAY_NAME_SHORT")return d.dayNamesShort[this._date.getDay()];if(o==="CURRENT_MONTH_NAME")return d.monthNames[this._date.getMonth()];if(o==="CURRENT_MONTH_NAME_SHORT")return d.monthNamesShort[this._date.getMonth()];if(o==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3))}}e.TimeBasedVariableResolver=d,d.dayNames=[p.localize(0,null),p.localize(1,null),p.localize(2,null),p.localize(3,null),p.localize(4,null),p.localize(5,null),p.localize(6,null)],d.dayNamesShort=[p.localize(7,null),p.localize(8,null),p.localize(9,null),p.localize(10,null),p.localize(11,null),p.localize(12,null),p.localize(13,null)],d.monthNames=[p.localize(14,null),p.localize(15,null),p.localize(16,null),p.localize(17,null),p.localize(18,null),p.localize(19,null),p.localize(20,null),p.localize(21,null),p.localize(22,null),p.localize(23,null),p.localize(24,null),p.localize(25,null)],d.monthNamesShort=[p.localize(26,null),p.localize(27,null),p.localize(28,null),p.localize(29,null),p.localize(30,null),p.localize(31,null),p.localize(32,null),p.localize(33,null),p.localize(34,null),p.localize(35,null),p.localize(36,null),p.localize(37,null)];class u{constructor(s){this._workspaceService=s}resolve(s){if(!this._workspaceService)return;const o=(0,v.toWorkspaceIdentifier)(this._workspaceService.getWorkspace());if(!!o){if(s.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(o);if(s.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(o)}}_resolveWorkspaceName(s){if((0,v.isSingleFolderWorkspaceIdentifier)(s))return N.basename(s.uri.path);let o=N.basename(s.configPath.path);return o.endsWith(v.WORKSPACE_EXTENSION)&&(o=o.substr(0,o.length-v.WORKSPACE_EXTENSION.length-1)),o}_resoveWorkspacePath(s){if((0,v.isSingleFolderWorkspaceIdentifier)(s))return(0,L.normalizeDriveLetter)(s.uri.fsPath);let o=N.basename(s.configPath.path),m=s.configPath.fsPath;return m.endsWith(o)&&(m=m.substr(0,m.length-o.length-1)),m?(0,L.normalizeDriveLetter)(m):"/"}}e.WorkspaceBasedVariableResolver=u;class n{resolve(s){const{name:o}=s;if(o==="RANDOM")return Math.random().toString().slice(-6);if(o==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(o==="UUID")return(0,g.generateUuid)()}}e.RandomBasedVariableResolver=n}),define(ee[302],te([0,1,19,2,8,20,60,3,23,31,127,167,122,736,385]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetSession=e.OneSnippet=void 0;class l{constructor(n,r,s,o){this._editor=n,this._snippet=r,this._offset=s,this._snippetLineLeadingWhitespace=o,this._nestingLevel=1,this._placeholderGroups=(0,L.groupBy)(r.placeholders,t.Placeholder.compareByIndex),this._placeholderGroupsIdx=-1}dispose(){this._placeholderDecorations&&this._editor.deltaDecorations([...this._placeholderDecorations.values()],[]),this._placeholderGroups.length=0}_initDecorations(){if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const n=this._editor.getModel();this._editor.changeDecorations(r=>{for(const s of this._snippet.placeholders){const o=this._snippet.offset(s),m=this._snippet.fullLen(s),_=S.Range.fromPositions(n.getPositionAt(this._offset+o),n.getPositionAt(this._offset+o+m)),f=s.isFinalTabstop?l._decor.inactiveFinal:l._decor.inactive,c=r.addDecoration(_,f);this._placeholderDecorations.set(s,c)}})}move(n){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){let o=[];for(const m of this._placeholderGroups[this._placeholderGroupsIdx])if(m.transform){const _=this._placeholderDecorations.get(m),f=this._editor.getModel().getDecorationRange(_),c=this._editor.getModel().getValueInRange(f),C=m.transform.resolve(c).split(/\r\n|\r|\n/);for(let y=1;y<C.length;y++)C[y]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+C[y]);o.push(g.EditOperation.replace(f,C.join(this._editor.getModel().getEOL())))}o.length>0&&this._editor.executeEdits("snippet.placeholderTransform",o)}let r=!1;n===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,r=!0):n===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,r=!0);const s=this._editor.getModel().changeDecorations(o=>{const m=new Set,_=[];for(const f of this._placeholderGroups[this._placeholderGroupsIdx]){const c=this._placeholderDecorations.get(f),C=this._editor.getModel().getDecorationRange(c);_.push(new b.Selection(C.startLineNumber,C.startColumn,C.endLineNumber,C.endColumn)),r=r&&this._hasPlaceholderBeenCollapsed(f),o.changeDecorationOptions(c,f.isFinalTabstop?l._decor.activeFinal:l._decor.active),m.add(f);for(const y of this._snippet.enclosingPlaceholders(f)){const w=this._placeholderDecorations.get(y);o.changeDecorationOptions(w,y.isFinalTabstop?l._decor.activeFinal:l._decor.active),m.add(y)}}for(const[f,c]of this._placeholderDecorations)m.has(f)||o.changeDecorationOptions(c,f.isFinalTabstop?l._decor.inactiveFinal:l._decor.inactive);return _});return r?this.move(n):s!=null?s:[]}_hasPlaceholderBeenCollapsed(n){let r=n;for(;r;){if(r instanceof t.Placeholder){const s=this._placeholderDecorations.get(r);if(this._editor.getModel().getDecorationRange(s).isEmpty()&&r.toString().length>0)return!0}r=r.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}computePossibleSelections(){const n=new Map;for(const r of this._placeholderGroups){let s;for(const o of r){if(o.isFinalTabstop)break;s||(s=[],n.set(o.index,s));const m=this._placeholderDecorations.get(o),_=this._editor.getModel().getDecorationRange(m);if(!_){n.delete(o.index);break}s.push(_)}}return n}get choice(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice}merge(n){const r=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(s=>{for(const o of this._placeholderGroups[this._placeholderGroupsIdx]){const m=n.shift();console.assert(!m._placeholderDecorations);const _=m._snippet.placeholderInfo.last.index;for(const c of m._snippet.placeholderInfo.all)c.isFinalTabstop?c.index=o.index+(_+1)/this._nestingLevel:c.index=o.index+c.index/this._nestingLevel;this._snippet.replace(o,m._snippet.children);const f=this._placeholderDecorations.get(o);s.removeDecoration(f),this._placeholderDecorations.delete(o);for(const c of m._snippet.placeholders){const C=m._snippet.offset(c),y=m._snippet.fullLen(c),w=S.Range.fromPositions(r.getPositionAt(m._offset+C),r.getPositionAt(m._offset+C+y)),D=s.addDecoration(w,l._decor.inactive);this._placeholderDecorations.set(c,D)}}this._placeholderGroups=(0,L.groupBy)(this._snippet.placeholders,t.Placeholder.compareByIndex)})}getEnclosingRange(){let n;const r=this._editor.getModel();for(const s of this._placeholderDecorations.values()){const o=(0,E.withNullAsUndefined)(r.getDecorationRange(s));n?n=n.plusRange(o):n=o}return n}}e.OneSnippet=l,l._decor={active:p.ModelDecorationOptions.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:p.ModelDecorationOptions.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:p.ModelDecorationOptions.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:p.ModelDecorationOptions.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const h={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};class d{constructor(n,r,s=h){this._templateMerges=[],this._snippets=[],this._editor=n,this._template=r,this._options=s}static adjustWhitespace(n,r,s,o,m){const _=n.getLineContent(r.lineNumber),f=(0,M.getLeadingWhitespace)(_,0,r.column-1);let c;return s.walk(C=>{if(!(C instanceof t.Text)||C.parent instanceof t.Choice)return!0;const y=C.value.split(/\r\n|\r|\n/);if(o){const D=s.offset(C);if(D===0)y[0]=n.normalizeIndentation(y[0]);else{c=c!=null?c:s.toString();let I=c.charCodeAt(D-1);(I===10||I===13)&&(y[0]=n.normalizeIndentation(f+y[0]))}for(let I=1;I<y.length;I++)y[I]=n.normalizeIndentation(f+y[I])}const w=y.join(n.getEOL());return w!==C.value&&(C.parent.replace(C,[new t.Text(w)]),c=void 0),!0}),f}static adjustSelection(n,r,s,o){if(s!==0||o!==0){const{positionLineNumber:m,positionColumn:_}=r,f=_-s,c=_+o,C=n.validateRange({startLineNumber:m,startColumn:f,endLineNumber:m,endColumn:c});r=b.Selection.createWithDirection(C.startLineNumber,C.startColumn,C.endLineNumber,C.endColumn,r.getDirection())}return r}static createEditsAndSnippets(n,r,s,o,m,_,f,c){const C=[],y=[];if(!n.hasModel())return{edits:C,snippets:y};const w=n.getModel(),D=n.invokeWithinContext(k=>k.get(i.IWorkspaceContextService)),I=n.invokeWithinContext(k=>new a.ModelBasedVariableResolver(k.get(v.ILabelService),w)),T=()=>f;let F=0,P=w.getValueInRange(d.adjustSelection(w,n.getSelection(),s,0)),R=w.getValueInRange(d.adjustSelection(w,n.getSelection(),0,o)),A=w.getLineFirstNonWhitespaceColumn(n.getSelection().positionLineNumber);const O=n.getSelections().map((k,V)=>({selection:k,idx:V})).sort((k,V)=>S.Range.compareRangesUsingStarts(k.selection,V.selection));for(const{selection:k,idx:V}of O){let B=d.adjustSelection(w,k,s,0),x=d.adjustSelection(w,k,0,o);P!==w.getValueInRange(B)&&(B=k),R!==w.getValueInRange(x)&&(x=k);const K=k.setStartPosition(B.startLineNumber,B.startColumn).setEndPosition(x.endLineNumber,x.endColumn),X=new t.SnippetParser().parse(r,!0,m),Z=K.getStartPosition(),q=d.adjustWhitespace(w,Z,X,_||V>0&&A!==w.getLineFirstNonWhitespaceColumn(k.positionLineNumber),!0);X.resolveVariables(new a.CompositeSnippetVariableResolver([I,new a.ClipboardBasedVariableResolver(T,V,O.length,n.getOption(70)==="spread"),new a.SelectionBasedVariableResolver(w,k,V,c),new a.CommentBasedVariableResolver(w,k),new a.TimeBasedVariableResolver,new a.WorkspaceBasedVariableResolver(D),new a.RandomBasedVariableResolver]));const H=w.getOffsetAt(Z)+F;F+=X.toString().length-w.getValueLengthInRange(K),C[V]=g.EditOperation.replace(K,X.toString()),C[V].identifier={major:V,minor:0},y[V]=new l(n,X,H,q)}return{edits:C,snippets:y}}dispose(){(0,N.dispose)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:n,snippets:r}=d.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer);this._snippets=r,this._editor.executeEdits("snippet",n,s=>this._snippets[0].hasPlaceholder?this._move(!0):s.filter(o=>!!o.identifier).map(o=>b.Selection.fromPositions(o.range.getEndPosition()))),this._editor.revealRange(this._editor.getSelections()[0])}merge(n,r=h){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,n]);const{edits:s,snippets:o}=d.createEditsAndSnippets(this._editor,n,r.overwriteBefore,r.overwriteAfter,!0,r.adjustWhitespace,r.clipboardText,r.overtypingCapturer);this._editor.executeEdits("snippet",s,m=>{for(const _ of this._snippets)_.merge(o);return console.assert(o.length===0),this._snippets[0].hasPlaceholder?this._move(void 0):m.filter(_=>!!_.identifier).map(_=>b.Selection.fromPositions(_.range.getEndPosition()))})}next(){const n=this._move(!0);this._editor.setSelections(n),this._editor.revealPositionInCenterIfOutsideViewport(n[0].getPosition())}prev(){const n=this._move(!1);this._editor.setSelections(n),this._editor.revealPositionInCenterIfOutsideViewport(n[0].getPosition())}_move(n){const r=[];for(const s of this._snippets){const o=s.move(n);r.push(...o)}return r}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get choice(){return this._snippets[0].choice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const n=this._editor.getSelections();if(n.length<this._snippets.length)return!1;let r=new Map;for(const s of this._snippets){const o=s.computePossibleSelections();if(r.size===0)for(const[m,_]of o){_.sort(S.Range.compareRangesUsingStarts);for(const f of n)if(_[0].containsRange(f)){r.set(m,[]);break}}if(r.size===0)return!1;r.forEach((m,_)=>{m.push(...o.get(_))})}n.sort(S.Range.compareRangesUsingStarts);for(let[s,o]of r){if(o.length!==n.length){r.delete(s);continue}o.sort(S.Range.compareRangesUsingStarts);for(let m=0;m<o.length;m++)if(!o[m].containsRange(n[m])){r.delete(s);continue}}return r.size>0}getEnclosingRange(){let n;for(const r of this._snippets){const s=r.getEnclosingRange();n?n=n.plusRange(s):n=s}return n}}e.SnippetSession=d}),define(ee[206],te([0,1,2,16,3,23,25,94,548,17,75,302]),function(Q,e,L,N,M,E,g,S,b,p,v,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetController2=void 0;const t={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let a=class Wt{constructor(d,u,n){this._editor=d,this._logService=u,this._snippetListener=new L.DisposableStore,this._modelVersionId=-1,this._inSnippet=Wt.InSnippetMode.bindTo(n),this._hasNextTabstop=Wt.HasNextTabstop.bindTo(n),this._hasPrevTabstop=Wt.HasPrevTabstop.bindTo(n)}static get(d){return d.getContribution(Wt.ID)}dispose(){var d;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(d=this._session)===null||d===void 0||d.dispose(),this._snippetListener.dispose()}insert(d,u){try{this._doInsert(d,typeof u=="undefined"?t:Object.assign(Object.assign({},t),u))}catch(n){this.cancel(),this._logService.error(n),this._logService.error("snippet_error"),this._logService.error("insert_template=",d),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(d,u){!this._editor.hasModel()||(this._snippetListener.clear(),u.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(d,u):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new i.SnippetSession(this._editor,d,u),this._session.insert()),u.undoStopAfter&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(n=>n.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState())))}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{choice:d}=this._session;if(!d){this._currentChoice=void 0;return}if(this._currentChoice!==d){this._currentChoice=d,this._editor.setSelections(this._editor.getSelections().map(n=>E.Selection.fromPositions(n.getStartPosition())));const[u]=d.options;(0,S.showSimpleSuggestions)(this._editor,d.options.map((n,r)=>({kind:13,label:n.value,insertText:n.value,sortText:"a".repeat(r+1),range:M.Range.fromPositions(this._editor.getPosition(),this._editor.getPosition().delta(0,u.value.length))})))}}finish(){for(;this._inSnippet.get();)this.next()}cancel(d=!1){var u;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),(u=this._session)===null||u===void 0||u.dispose(),this._session=void 0,this._modelVersionId=-1,d&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}getSessionEnclosingRange(){if(this._session)return this._session.getEnclosingRange()}};a.ID="snippetController2",a.InSnippetMode=new p.RawContextKey("inSnippetMode",!1,(0,b.localize)(0,null)),a.HasNextTabstop=new p.RawContextKey("hasNextTabstop",!1,(0,b.localize)(1,null)),a.HasPrevTabstop=new p.RawContextKey("hasPrevTabstop",!1,(0,b.localize)(2,null)),a=Ve([Ce(1,v.ILogService),Ce(2,p.IContextKeyService)],a),e.SnippetController2=a,(0,N.registerEditorContribution)(a.ID,a);const l=N.EditorCommand.bindToContribution(a.get);(0,N.registerEditorCommand)(new l({id:"jumpToNextSnippetPlaceholder",precondition:p.ContextKeyExpr.and(a.InSnippetMode,a.HasNextTabstop),handler:h=>h.next(),kbOpts:{weight:100+30,kbExpr:g.EditorContextKeys.editorTextFocus,primary:2}})),(0,N.registerEditorCommand)(new l({id:"jumpToPrevSnippetPlaceholder",precondition:p.ContextKeyExpr.and(a.InSnippetMode,a.HasPrevTabstop),handler:h=>h.prev(),kbOpts:{weight:100+30,kbExpr:g.EditorContextKeys.editorTextFocus,primary:1024|2}})),(0,N.registerEditorCommand)(new l({id:"leaveSnippet",precondition:a.InSnippetMode,handler:h=>h.cancel(!0),kbOpts:{weight:100+30,kbExpr:g.EditorContextKeys.editorTextFocus,primary:9,secondary:[1024|9]}})),(0,N.registerEditorCommand)(new l({id:"acceptSnippet",precondition:a.InSnippetMode,handler:h=>h.finish()}))}),define(ee[737],te([0,1,10,21,12,4,2,8,23,18,67,206,450,85,37,17,75,86,447,94]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestModel=e.LineContext=void 0;class s{constructor(C,y,w,D){this.leadingLineContent=C.getLineContent(y.lineNumber).substr(0,y.column-1),this.leadingWord=C.getWordUntilPosition(y),this.lineNumber=y.lineNumber,this.column=y.column,this.auto=w,this.shy=D}static shouldAutoTrigger(C){if(!C.hasModel())return!1;const y=C.getModel(),w=C.getPosition();y.tokenizeIfCheap(w.lineNumber);const D=y.getWordAtPosition(w);return!(!D||D.endColumn!==w.column||!isNaN(Number(D.word)))}}e.LineContext=s;function o(c){return c.getOption(105).preview}function m(c,C,y){if(!Boolean(C.getContextKeyValue("inlineSuggestionVisible")))return!0;const w=y.getValue("editor.inlineSuggest.allowQuickSuggestions");return w!==void 0?Boolean(w):!1}function _(c,C,y){if(!Boolean(C.getContextKeyValue("inlineSuggestionVisible")))return!0;const w=y.getValue("editor.inlineSuggest.allowSuggestOnTriggerCharacters");return w!==void 0?Boolean(w):!1}let f=class Ji{constructor(C,y,w,D,I,T,F){this._editor=C,this._editorWorkerService=y,this._clipboardService=w,this._telemetryService=D,this._logService=I,this._contextKeyService=T,this._configurationService=F,this._toDispose=new g.DisposableStore,this._quickSuggestDelay=10,this._triggerCharacterListener=new g.DisposableStore,this._triggerQuickSuggest=new L.TimeoutTimer,this._state=0,this._completionDisposables=new g.DisposableStore,this._onDidCancel=new E.Emitter,this._onDidTrigger=new E.Emitter,this._onDidSuggest=new E.Emitter,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new b.Selection(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters(),this._updateQuickSuggest()})),this._toDispose.add(p.CompletionProviderRegistry.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(R=>{this._onCursorChange(R)}));let P=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{P=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{P=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{P||this._refilterCompletionItems()})),this._updateTriggerCharacters(),this._updateQuickSuggest()}dispose(){(0,g.dispose)(this._triggerCharacterListener),(0,g.dispose)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateQuickSuggest(){this._quickSuggestDelay=this._editor.getOption(79),(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&this._quickSuggestDelay!==0||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(80)||!this._editor.hasModel()||!this._editor.getOption(108))return;const C=new Map;for(const w of p.CompletionProviderRegistry.all(this._editor.getModel()))for(const D of w.triggerCharacters||[]){let I=C.get(D);I||(I=new Set,I.add((0,r.getSnippetSuggestSupport)()),C.set(D,I)),I.add(w)}const y=w=>{if(!_(this._editor,this._contextKeyService,this._configurationService)||s.shouldAutoTrigger(this._editor))return;if(!w){const T=this._editor.getPosition();w=this._editor.getModel().getLineContent(T.lineNumber).substr(0,T.column-1)}let D="";(0,S.isLowSurrogate)(w.charCodeAt(w.length-1))?(0,S.isHighSurrogate)(w.charCodeAt(w.length-2))&&(D=w.substr(w.length-2)):D=w.charAt(w.length-1);const I=C.get(D);if(I){const T=this._completionModel?{items:this._completionModel.adopt(I),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,triggerCharacter:D},Boolean(this._completionModel),I,T)}};this._triggerCharacterListener.add(this._editor.onDidType(y)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(y))}get state(){return this._state}cancel(C=!1){var y;this._state!==0&&(this._triggerQuickSuggest.cancel(),(y=this._requestToken)===null||y===void 0||y.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:C}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._state!==0&&(!this._editor.hasModel()||!p.CompletionProviderRegistry.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._state===2,shy:!1},!0))}_onCursorChange(C){if(!this._editor.hasModel())return;const y=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!C.selection.isEmpty()||C.reason!==0&&C.reason!==3||C.source!=="keyboard"&&C.source!=="deleteLeft"){this.cancel();return}this._state===0&&C.reason===0?(y.containsRange(this._currentSelection)||y.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._state!==0&&C.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._state===0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){this._editor.getOption(78)!==!1&&(this._editor.getOption(105).snippetsPreventQuickSuggestions&&i.SnippetController2.get(this._editor).isInSnippet()||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._state!==0||!s.shouldAutoTrigger(this._editor)||!this._editor.hasModel())return;const C=this._editor.getModel(),y=this._editor.getPosition(),w=this._editor.getOption(78);if(w!==!1){if(w!==!0){C.tokenizeIfCheap(y.lineNumber);const D=C.getLineTokens(y.lineNumber),I=D.getStandardTokenType(D.findTokenIndexAtOffset(Math.max(y.column-1-1,0)));if(!(w.other&&I===0||w.comments&&I===1||w.strings&&I===2))return}!m(this._editor,this._contextKeyService,this._configurationService)||!p.CompletionProviderRegistry.has(C)||this.trigger({auto:!0,shy:!1})}},this._quickSuggestDelay)))}_refilterCompletionItems(){Promise.resolve().then(()=>{if(this._state===0||!this._editor.hasModel())return;const C=this._editor.getModel(),y=this._editor.getPosition(),w=new s(C,y,this._state===2,!1);this._onNewContext(w)})}trigger(C,y=!1,w,D){var I;if(!this._editor.hasModel())return;const T=this._editor.getModel(),F=C.auto,P=new s(T,this._editor.getPosition(),F,C.shy);this.cancel(y),this._state=F?2:1,this._onDidTrigger.fire({auto:F,shy:C.shy,position:this._editor.getPosition()}),this._context=P;let R={triggerKind:(I=C.triggerKind)!==null&&I!==void 0?I:0};C.triggerCharacter&&(R={triggerKind:1,triggerCharacter:C.triggerCharacter}),this._requestToken=new N.CancellationTokenSource;const A=this._editor.getOption(100);let O=1;switch(A){case"top":O=0;break;case"bottom":O=2;break}const{itemKind:k,showDeprecated:V}=Ji._createSuggestFilter(this._editor),B=t.WordDistance.create(this._editorWorkerService,this._editor),x=(0,r.provideSuggestionItems)(T,this._editor.getPosition(),new r.CompletionOptions(O,k,w,V),R,this._requestToken.token);Promise.all([x,B]).then(([K,X])=>Me(this,void 0,void 0,function*(){var Z;if((Z=this._requestToken)===null||Z===void 0||Z.dispose(),!this._editor.hasModel())return;let q=D==null?void 0:D.clipboardText;if(!q&&K.needsClipboard&&(q=yield this._clipboardService.readText()),this._state===0)return;const H=this._editor.getModel();let G=K.items;if(D){const W=(0,r.getSuggestionComparator)(O);G=G.concat(D.items).sort(W)}const z=new s(H,this._editor.getPosition(),F,C.shy);this._completionModel=new n.CompletionModel(G,this._context.column,{leadingLineContent:z.leadingLineContent,characterCountDelta:z.column-this._context.column},X,this._editor.getOption(105),this._editor.getOption(100),q),this._completionDisposables.add(K.disposable),this._onNewContext(z),this._reportDurationsTelemetry(K.durations)})).catch(M.onUnexpectedError)}_reportDurationsTelemetry(C){this._telemetryGate++%230==0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(C)}),this._logService.debug("suggest.durations.json",C)})}static _createSuggestFilter(C){const y=new Set;C.getOption(100)==="none"&&y.add(27);const D=C.getOption(105);return D.showMethods||y.add(0),D.showFunctions||y.add(1),D.showConstructors||y.add(2),D.showFields||y.add(3),D.showVariables||y.add(4),D.showClasses||y.add(5),D.showStructs||y.add(6),D.showInterfaces||y.add(7),D.showModules||y.add(8),D.showProperties||y.add(9),D.showEvents||y.add(10),D.showOperators||y.add(11),D.showUnits||y.add(12),D.showValues||y.add(13),D.showConstants||y.add(14),D.showEnums||y.add(15),D.showEnumMembers||y.add(16),D.showKeywords||y.add(17),D.showWords||y.add(18),D.showColors||y.add(19),D.showFiles||y.add(20),D.showReferences||y.add(21),D.showColors||y.add(22),D.showFolders||y.add(23),D.showTypeParameters||y.add(24),D.showSnippets||y.add(27),D.showUsers||y.add(25),D.showIssues||y.add(26),{itemKind:y,showDeprecated:D.showDeprecated}}_onNewContext(C){if(!!this._context){if(C.lineNumber!==this._context.lineNumber){this.cancel();return}if((0,S.getLeadingWhitespace)(C.leadingLineContent)!==(0,S.getLeadingWhitespace)(this._context.leadingLineContent)){this.cancel();return}if(C.column<this._context.column){C.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel();return}if(!!this._completionModel){if(C.leadingWord.word.length!==0&&C.leadingWord.startColumn>this._context.leadingWord.startColumn){const y=new Set(p.CompletionProviderRegistry.all(this._editor.getModel()));for(let D of this._completionModel.allProvider)y.delete(D);const w=this._completionModel.adopt(new Set);this.trigger({auto:this._context.auto,shy:!1},!0,y,{items:w,clipboardText:this._completionModel.clipboardText});return}if(C.column>this._context.column&&this._completionModel.incomplete.size>0&&C.leadingWord.word.length!==0){const{incomplete:y}=this._completionModel,w=this._completionModel.adopt(y);this.trigger({auto:this._state===2,shy:!1,triggerKind:2},!0,y,{items:w,clipboardText:this._completionModel.clipboardText})}else{let y=this._completionModel.lineContext,w=!1;if(this._completionModel.lineContext={leadingLineContent:C.leadingLineContent,characterCountDelta:C.column-this._context.column},this._completionModel.items.length===0){if(s.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<C.leadingWord.startColumn){this.trigger({auto:this._context.auto,shy:!1},!0);return}if(this._context.auto){this.cancel();return}else if(this._completionModel.lineContext=y,w=this._completionModel.items.length>0,w&&C.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:w})}}}}};f=Ve([Ce(1,v.IEditorWorkerService),Ce(2,a.IClipboardService),Ce(3,u.ITelemetryService),Ce(4,d.ILogService),Ce(5,h.IContextKeyService),Ce(6,l.IConfigurationService)],f),e.SuggestModel=f}),define(ee[303],te([0,1,45,19,10,21,12,4,97,2,15,87,20,70,16,60,13,3,25,206,122,622,596,551,38,26,17,9,77,75,94,595,448,737,449,721,86,33,88]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u,n,r,s,o,m,_,f,c,C,y,w,D,I,T,F,P,R,A,O,k,V){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerSuggestAction=e.SuggestController=void 0;let B=!1;class x{constructor(z,W){if(this._model=z,this._position=W,z.getLineMaxColumn(W.lineNumber)!==W.column){const U=z.getOffsetAt(W),Y=z.getPositionAt(U+1);this._marker=z.deltaDecorations([],[{range:u.Range.fromPositions(W,Y),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(z){if(this._model.isDisposed()||this._position.lineNumber!==z.lineNumber)return 0;if(this._marker){const W=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(W.getStartPosition())-this._model.getOffsetAt(z)}else return this._model.getLineMaxColumn(z.lineNumber)-z.column}}let K=class en{constructor(z,W,j,U,Y,ne,J){this._memoryService=W,this._commandService=j,this._contextKeyService=U,this._instantiationService=Y,this._logService=ne,this._telemetryService=J,this._lineSuffix=new p.MutableDisposable,this._toDispose=new p.DisposableStore,this._selectors=new X(oe=>oe.priority),this._telemetryGate=0,this.editor=z,this.model=Y.createInstance(P.SuggestModel,this.editor);const re=I.Context.InsertMode.bindTo(U);re.set(z.getOption(105).insertMode),this.model.onDidTrigger(()=>re.set(z.getOption(105).insertMode)),this.widget=this._toDispose.add(new M.IdleValue(()=>{const oe=this._instantiationService.createInstance(A.SuggestWidget,this.editor);this._toDispose.add(oe),this._toDispose.add(oe.onDidSelect(fe=>this._insertSuggestion(fe,0),this));const $=new F.CommitCharacterController(this.editor,oe,fe=>this._insertSuggestion(fe,2));this._toDispose.add($),this._toDispose.add(this.model.onDidSuggest(fe=>{fe.completionModel.items.length===0&&$.reset()}));const ie=I.Context.MakesTextEdit.bindTo(this._contextKeyService),le=I.Context.HasInsertAndReplaceRange.bindTo(this._contextKeyService),de=I.Context.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,p.toDisposable)(()=>{ie.reset(),le.reset(),de.reset()})),this._toDispose.add(oe.onDidFocus(({item:fe})=>{const he=this.editor.getPosition(),se=fe.editStart.column,ce=he.column;let Se=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!fe.completion.additionalTextEdits&&!(fe.completion.insertTextRules&4)&&ce-se===fe.completion.insertText.length&&(Se=this.editor.getModel().getValueInRange({startLineNumber:he.lineNumber,startColumn:se,endLineNumber:he.lineNumber,endColumn:ce})!==fe.completion.insertText),ie.set(Se),le.set(!d.Position.equals(fe.editInsertEnd,fe.editReplaceEnd)),de.set(Boolean(fe.provider.resolveCompletionItem)||Boolean(fe.completion.documentation)||fe.completion.detail!==fe.completion.label)})),this._toDispose.add(oe.onDetailsKeyDown(fe=>{if(fe.toKeybinding().equals(new b.SimpleKeybinding(!0,!1,!1,!1,33))||v.isMacintosh&&fe.toKeybinding().equals(new b.SimpleKeybinding(!1,!1,!1,!0,33))){fe.stopPropagation();return}fe.toKeybinding().isModifierKey()||this.editor.focus()})),oe})),this._overtypingCapturer=this._toDispose.add(new M.IdleValue(()=>this._toDispose.add(new R.OvertypingCapturer(this.editor,this.model)))),this._alternatives=this._toDispose.add(new M.IdleValue(()=>this._toDispose.add(new T.SuggestAlternatives(this.editor,this._contextKeyService)))),this._toDispose.add(Y.createInstance(m.WordContextKey,z)),this._toDispose.add(this.model.onDidTrigger(oe=>{this.widget.value.showTriggered(oe.auto,oe.shy?250:50),this._lineSuffix.value=new x(this.editor.getModel(),oe.position)})),this._toDispose.add(this.model.onDidSuggest(oe=>{if(!oe.shy){let $=-1;for(const ie of this._selectors.itemsOrderedByPriorityDesc)if($=ie.select(this.editor.getModel(),this.editor.getPosition(),oe.completionModel.items),$!==-1)break;$===-1&&($=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),oe.completionModel.items)),this.widget.value.showSuggestions(oe.completionModel,$,oe.isFrozen,oe.auto)}})),this._toDispose.add(this.model.onDidCancel(oe=>{oe.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{B||(this.model.cancel(),this.model.clear())}));let ge=I.Context.AcceptSuggestionsOnEnter.bindTo(U),pe=()=>{const oe=this.editor.getOption(1);ge.set(oe==="on"||oe==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>pe())),pe()}static get(z){return z.getContribution(en.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(z,W){if(!z||!z.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const j=this.editor.getModel(),U=j.getAlternativeVersionId(),{item:Y}=z,ne=[],J=new E.CancellationTokenSource;W&1||this.editor.pushUndoStop();const re=this.getOverwriteInfo(Y,Boolean(W&8));if(this._memoryService.memorize(j,this.editor.getPosition(),Y),Array.isArray(Y.completion.additionalTextEdits)){const pe=a.StableEditorScrollState.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",Y.completion.additionalTextEdits.map(oe=>h.EditOperation.replace(u.Range.lift(oe.range),oe.text))),pe.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!Y.isResolved){const pe=new i.StopWatch(!0);let oe;const $=j.onDidChangeContent(fe=>{if(fe.isFlush){J.cancel(),$.dispose();return}for(let he of fe.changes){const se=u.Range.getEndPosition(he.range);(!oe||d.Position.isBefore(se,oe))&&(oe=se)}});let ie=W;W|=2;let le=!1,de=this.editor.onWillType(()=>{de.dispose(),le=!0,ie&2||this.editor.pushUndoStop()});ne.push(Y.resolve(J.token).then(()=>{if(!Y.completion.additionalTextEdits||J.token.isCancellationRequested||oe&&Y.completion.additionalTextEdits.some(he=>d.Position.isBefore(oe,u.Range.getStartPosition(he.range))))return!1;le&&this.editor.pushUndoStop();const fe=a.StableEditorScrollState.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",Y.completion.additionalTextEdits.map(he=>h.EditOperation.replace(u.Range.lift(he.range),he.text))),fe.restoreRelativeVerticalPositionOfCursor(this.editor),(le||!(ie&2))&&this.editor.pushUndoStop(),!0}).then(fe=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",pe.elapsed(),fe),$.dispose(),de.dispose()}))}let{insertText:ge}=Y.completion;Y.completion.insertTextRules&4||(ge=s.SnippetParser.escape(ge)),r.SnippetController2.get(this.editor).insert(ge,{overwriteBefore:re.overwriteBefore,overwriteAfter:re.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(Y.completion.insertTextRules&1),clipboardText:z.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),W&2||this.editor.pushUndoStop(),Y.completion.command?Y.completion.command.id===Z.id?this.model.trigger({auto:!0,shy:!1},!0):(ne.push(this._commandService.executeCommand(Y.completion.command.id,...Y.completion.command.arguments?[...Y.completion.command.arguments]:[]).catch(g.onUnexpectedError)),this.model.cancel()):this.model.cancel(),W&4&&this._alternatives.value.set(z,pe=>{for(J.cancel();j.canUndo();){U!==j.getAlternativeVersionId()&&j.undo(),this._insertSuggestion(pe,1|2|(W&8?8:0));break}}),this._alertCompletionItem(Y),Promise.all(ne).finally(()=>{this._reportSuggestionAcceptedTelemetry(j,z),this.model.clear(),J.dispose()})}_reportSuggestionAcceptedTelemetry(z,W){var j;if(this._telemetryGate++%100!=0)return;const U=((j=W.item.provider._debugDisplayName)!==null&&j!==void 0?j:"unknown").split("(",1)[0].toLowerCase();this._telemetryService.publicLog2("suggest.acceptedSuggestion",{providerId:U,basenameHash:(0,V.hash)((0,k.basename)(z.uri)).toString(16),languageId:z.getLanguageId(),fileExtension:(0,k.extname)(z.uri)})}getOverwriteInfo(z,W){(0,t.assertType)(this.editor.hasModel());let j=this.editor.getOption(105).insertMode==="replace";W&&(j=!j);const U=z.position.column-z.editStart.column,Y=(j?z.editReplaceEnd.column:z.editInsertEnd.column)-z.position.column,ne=this.editor.getPosition().column-z.position.column,J=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:U+ne,overwriteAfter:Y+J}}_alertCompletionItem(z){if((0,N.isNonEmptyArray)(z.completion.additionalTextEdits)){let W=_.localize(0,null,z.textLabel,z.completion.additionalTextEdits.length);(0,L.alert)(W)}}triggerSuggest(z,W){this.editor.hasModel()&&(this.model.trigger({auto:W!=null?W:!1,shy:!1},!1,z),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(z){if(!this.editor.hasModel())return;const W=this.editor.getPosition(),j=()=>{W.equals(this.editor.getPosition())&&this._commandService.executeCommand(z.fallback)},U=Y=>{if(Y.completion.insertTextRules&4||Y.completion.additionalTextEdits)return!0;const ne=this.editor.getPosition(),J=Y.editStart.column,re=ne.column;return re-J!==Y.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:ne.lineNumber,startColumn:J,endLineNumber:ne.lineNumber,endColumn:re})!==Y.completion.insertText};S.Event.once(this.model.onDidTrigger)(Y=>{let ne=[];S.Event.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,p.dispose)(ne),j()},void 0,ne),this.model.onDidSuggest(({completionModel:J})=>{if((0,p.dispose)(ne),J.items.length===0){j();return}const re=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),J.items),ge=J.items[re];if(!U(ge)){j();return}this.editor.pushUndoStop(),this._insertSuggestion({index:re,item:ge,model:J},4|1|2)},void 0,ne)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(W,0),this.editor.focus()}acceptSelectedSuggestion(z,W){const j=this.widget.value.getFocusedItem();let U=0;z&&(U|=4),W&&(U|=8),this._insertSuggestion(j,U)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){!this.widget.isInitialized||this.widget.value.stopForceRenderingAbove()}registerSelector(z){return this._selectors.register(z)}};K.ID="editor.contrib.suggestController",K=Ve([Ce(1,o.ISuggestMemoryService),Ce(2,c.ICommandService),Ce(3,C.IContextKeyService),Ce(4,y.IInstantiationService),Ce(5,D.ILogService),Ce(6,O.ITelemetryService)],K),e.SuggestController=K;class X{constructor(z){this.prioritySelector=z,this._items=new Array}register(z){if(this._items.indexOf(z)!==-1)throw new Error("Value is already registered");return this._items.push(z),this._items.sort((W,j)=>this.prioritySelector(j)-this.prioritySelector(W)),{dispose:()=>{const W=this._items.indexOf(z);W>=0&&this._items.splice(W,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class Z extends l.EditorAction{constructor(){super({id:Z.id,label:_.localize(1,null),alias:"Trigger Suggest",precondition:C.ContextKeyExpr.and(n.EditorContextKeys.writable,n.EditorContextKeys.hasCompletionItemProvider),kbOpts:{kbExpr:n.EditorContextKeys.textInputFocus,primary:2048|10,secondary:[2048|39],mac:{primary:256|10,secondary:[512|9,2048|39]},weight:100}})}run(z,W,j){const U=K.get(W);if(!U)return;let Y;j&&typeof j=="object"&&j.auto===!0&&(Y=!0),U.triggerSuggest(void 0,Y)}}e.TriggerSuggestAction=Z,Z.id="editor.action.triggerSuggest",(0,l.registerEditorContribution)(K.ID,K),(0,l.registerEditorAction)(Z);const q=100+90,H=l.EditorCommand.bindToContribution(K.get);(0,l.registerEditorCommand)(new H({id:"acceptSelectedSuggestion",precondition:I.Context.Visible,handler(G){G.acceptSelectedSuggestion(!0,!1)}})),w.KeybindingsRegistry.registerKeybindingRule({id:"acceptSelectedSuggestion",when:C.ContextKeyExpr.and(I.Context.Visible,n.EditorContextKeys.textInputFocus),primary:2,weight:q}),w.KeybindingsRegistry.registerKeybindingRule({id:"acceptSelectedSuggestion",when:C.ContextKeyExpr.and(I.Context.Visible,n.EditorContextKeys.textInputFocus,I.Context.AcceptSuggestionsOnEnter,I.Context.MakesTextEdit),primary:3,weight:q}),f.MenuRegistry.appendMenuItem(I.suggestWidgetStatusbarMenu,{command:{id:"acceptSelectedSuggestion",title:_.localize(2,null)},group:"left",order:1,when:I.Context.HasInsertAndReplaceRange.toNegated()}),f.MenuRegistry.appendMenuItem(I.suggestWidgetStatusbarMenu,{command:{id:"acceptSelectedSuggestion",title:_.localize(3,null)},group:"left",order:1,when:C.ContextKeyExpr.and(I.Context.HasInsertAndReplaceRange,I.Context.InsertMode.isEqualTo("insert"))}),f.MenuRegistry.appendMenuItem(I.suggestWidgetStatusbarMenu,{command:{id:"acceptSelectedSuggestion",title:_.localize(4,null)},group:"left",order:1,when:C.ContextKeyExpr.and(I.Context.HasInsertAndReplaceRange,I.Context.InsertMode.isEqualTo("replace"))}),(0,l.registerEditorCommand)(new H({id:"acceptAlternativeSelectedSuggestion",precondition:C.ContextKeyExpr.and(I.Context.Visible,n.EditorContextKeys.textInputFocus),kbOpts:{weight:q,kbExpr:n.EditorContextKeys.textInputFocus,primary:1024|3,secondary:[1024|2]},handler(G){G.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:I.suggestWidgetStatusbarMenu,group:"left",order:2,when:C.ContextKeyExpr.and(I.Context.HasInsertAndReplaceRange,I.Context.InsertMode.isEqualTo("insert")),title:_.localize(5,null)},{menuId:I.suggestWidgetStatusbarMenu,group:"left",order:2,when:C.ContextKeyExpr.and(I.Context.HasInsertAndReplaceRange,I.Context.InsertMode.isEqualTo("replace")),title:_.localize(6,null)}]})),c.CommandsRegistry.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,l.registerEditorCommand)(new H({id:"hideSuggestWidget",precondition:I.Context.Visible,handler:G=>G.cancelSuggestWidget(),kbOpts:{weight:q,kbExpr:n.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})),(0,l.registerEditorCommand)(new H({id:"selectNextSuggestion",precondition:C.ContextKeyExpr.and(I.Context.Visible,I.Context.MultipleSuggestions),handler:G=>G.selectNextSuggestion(),kbOpts:{weight:q,kbExpr:n.EditorContextKeys.textInputFocus,primary:18,secondary:[2048|18],mac:{primary:18,secondary:[2048|18,256|44]}}})),(0,l.registerEditorCommand)(new H({id:"selectNextPageSuggestion",precondition:C.ContextKeyExpr.and(I.Context.Visible,I.Context.MultipleSuggestions),handler:G=>G.selectNextPageSuggestion(),kbOpts:{weight:q,kbExpr:n.EditorContextKeys.textInputFocus,primary:12,secondary:[2048|12]}})),(0,l.registerEditorCommand)(new H({id:"selectLastSuggestion",precondition:C.ContextKeyExpr.and(I.Context.Visible,I.Context.MultipleSuggestions),handler:G=>G.selectLastSuggestion()})),(0,l.registerEditorCommand)(new H({id:"selectPrevSuggestion",precondition:C.ContextKeyExpr.and(I.Context.Visible,I.Context.MultipleSuggestions),handler:G=>G.selectPrevSuggestion(),kbOpts:{weight:q,kbExpr:n.EditorContextKeys.textInputFocus,primary:16,secondary:[2048|16],mac:{primary:16,secondary:[2048|16,256|46]}}})),(0,l.registerEditorCommand)(new H({id:"selectPrevPageSuggestion",precondition:C.ContextKeyExpr.and(I.Context.Visible,I.Context.MultipleSuggestions),handler:G=>G.selectPrevPageSuggestion(),kbOpts:{weight:q,kbExpr:n.EditorContextKeys.textInputFocus,primary:11,secondary:[2048|11]}})),(0,l.registerEditorCommand)(new H({id:"selectFirstSuggestion",precondition:C.ContextKeyExpr.and(I.Context.Visible,I.Context.MultipleSuggestions),handler:G=>G.selectFirstSuggestion()})),(0,l.registerEditorCommand)(new H({id:"toggleSuggestionDetails",precondition:I.Context.Visible,handler:G=>G.toggleSuggestionDetails(),kbOpts:{weight:q,kbExpr:n.EditorContextKeys.textInputFocus,primary:2048|10,secondary:[2048|39],mac:{primary:256|10,secondary:[2048|39]}},menuOpts:[{menuId:I.suggestWidgetStatusbarMenu,group:"right",order:1,when:C.ContextKeyExpr.and(I.Context.DetailsVisible,I.Context.CanResolve),title:_.localize(7,null)},{menuId:I.suggestWidgetStatusbarMenu,group:"right",order:1,when:C.ContextKeyExpr.and(I.Context.DetailsVisible.toNegated(),I.Context.CanResolve),title:_.localize(8,null)}]})),(0,l.registerEditorCommand)(new H({id:"toggleExplainMode",precondition:I.Context.Visible,handler:G=>G.toggleExplainMode(),kbOpts:{weight:100,primary:2048|85}})),(0,l.registerEditorCommand)(new H({id:"toggleSuggestionFocus",precondition:I.Context.Visible,handler:G=>G.toggleSuggestionFocus(),kbOpts:{weight:q,kbExpr:n.EditorContextKeys.textInputFocus,primary:2048|512|10,mac:{primary:256|512|10}}})),(0,l.registerEditorCommand)(new H({id:"insertBestCompletion",precondition:C.ContextKeyExpr.and(n.EditorContextKeys.textInputFocus,C.ContextKeyExpr.equals("config.editor.tabCompletion","on"),m.WordContextKey.AtEnd,I.Context.Visible.toNegated(),T.SuggestAlternatives.OtherSuggestions.toNegated(),r.SnippetController2.InSnippetMode.toNegated()),handler:(G,z)=>{G.triggerSuggestAndAcceptBest((0,t.isObject)(z)?Object.assign({fallback:"tab"},z):{fallback:"tab"})},kbOpts:{weight:q,primary:2}})),(0,l.registerEditorCommand)(new H({id:"insertNextSuggestion",precondition:C.ContextKeyExpr.and(n.EditorContextKeys.textInputFocus,C.ContextKeyExpr.equals("config.editor.tabCompletion","on"),T.SuggestAlternatives.OtherSuggestions,I.Context.Visible.toNegated(),r.SnippetController2.InSnippetMode.toNegated()),handler:G=>G.acceptNextSuggestion(),kbOpts:{weight:q,kbExpr:n.EditorContextKeys.textInputFocus,primary:2}})),(0,l.registerEditorCommand)(new H({id:"insertPrevSuggestion",precondition:C.ContextKeyExpr.and(n.EditorContextKeys.textInputFocus,C.ContextKeyExpr.equals("config.editor.tabCompletion","on"),T.SuggestAlternatives.OtherSuggestions,I.Context.Visible.toNegated(),r.SnippetController2.InSnippetMode.toNegated()),handler:G=>G.acceptPrevSuggestion(),kbOpts:{weight:q,kbExpr:n.EditorContextKeys.textInputFocus,primary:1024|2}})),(0,l.registerEditorAction)(class extends l.EditorAction{constructor(){super({id:"editor.action.resetSuggestSize",label:_.localize(9,null),alias:"Reset Suggest Widget Size",precondition:void 0})}run(G,z){K.get(z).resetWidgetSize()}})}),define(ee[738],te([0,1,10,4,2,13,3,122,302,303,204,185,251]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.rangeStartsWith=e.SuggestWidgetInlineCompletionProvider=void 0;class a extends M.Disposable{constructor(n,r){super();this.editor=n,this.suggestControllerPreselector=r,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this.onDidChangeEmitter=new N.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.setInactiveDelayed=this._register(new L.RunOnceScheduler(()=>{this.isSuggestWidgetVisible||this._isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())},100)),this._register(n.onKeyDown(o=>{o.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(n.onKeyUp(o=>{o.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const s=p.SuggestController.get(this.editor);if(s){this._register(s.registerSelector({priority:100,select:(_,f,c)=>{const C=this.editor.getModel(),y=(0,v.minimizeInlineCompletion)(C,this.suggestControllerPreselector());if(!y)return-1;const w=E.Position.lift(f),D=c.map((T,F)=>{const P=d(s,w,T,this.isShiftKeyPressed),R=(0,v.minimizeInlineCompletion)(C,P==null?void 0:P.normalizedInlineCompletion);if(!R)return;const A=l(y.range,R.range)&&y.text.startsWith(R.text);return{index:F,valid:A,prefixLength:R.text.length,suggestItem:T}}).filter(T=>T&&T.valid),I=(0,t.findMaxBy)(D,(0,t.compareBy)(T=>T.prefixLength,(0,t.compareByNumber)()));return I?I.index:-1}}));let o=!1;const m=()=>{o||(o=!0,this._register(s.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(s.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.update(this._isActive)})),this._register(s.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(N.Event.once(s.model.onDidTrigger)(_=>{m()}))}this.update(this._isActive)}get state(){if(!!this._isActive)return{selectedItem:this._currentSuggestItemInfo}}update(n){const r=this.getSuggestItemInfo();let s=!1;h(this._currentSuggestItemInfo,r)||(this._currentSuggestItemInfo=r,s=!0),this._isActive!==n&&(this._isActive=n,s=!0),s&&this.onDidChangeEmitter.fire()}getSuggestItemInfo(){const n=p.SuggestController.get(this.editor);if(!n||!this.isSuggestWidgetVisible)return;const r=n.widget.value.getFocusedItem();if(!!r)return d(n,this.editor.getPosition(),r.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){const n=p.SuggestController.get(this.editor);n&&n.stopForceRenderingAbove()}forceRenderingAbove(){const n=p.SuggestController.get(this.editor);n&&n.forceRenderingAbove()}}e.SuggestWidgetInlineCompletionProvider=a;function l(u,n){return n.startLineNumber===u.startLineNumber&&n.startColumn===u.startColumn&&(n.endLineNumber<u.endLineNumber||n.endLineNumber===u.endLineNumber&&n.endColumn<=u.endColumn)}e.rangeStartsWith=l;function h(u,n){return u===n?!0:!u||!n?!1:u.completionItemKind===n.completionItemKind&&u.isSnippetText===n.isSnippetText&&(0,i.normalizedInlineCompletionsEquals)(u.normalizedInlineCompletion,n.normalizedInlineCompletion)}function d(u,n,r,s){if(Array.isArray(r.completion.additionalTextEdits)&&r.completion.additionalTextEdits.length>0)return{completionItemKind:r.completion.kind,isSnippetText:!1,normalizedInlineCompletion:{range:g.Range.fromPositions(n,n),text:""}};let{insertText:o}=r.completion,m=!1;if(r.completion.insertTextRules&4){const f=new S.SnippetParser().parse(o),c=u.editor.getModel();if(f.children.length>100)return;b.SnippetSession.adjustWhitespace(c,n,f,!0,!0),o=f.toString(),m=!0}const _=u.getOverwriteInfo(r,s);return{isSnippetText:m,completionItemKind:r.completion.kind,normalizedInlineCompletion:{text:o,range:g.Range.fromPositions(n.delta(0,-_.overwriteBefore),n.delta(0,Math.max(_.overwriteAfter,0)))}}}}),define(ee[739],te([0,1,10,12,2,18,184,204,185,738]),function(Q,e,L,N,M,E,g,S,b,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestWidgetPreviewModel=void 0;class v extends g.BaseGhostTextWidgetModel{constructor(a,l){super(a);this.cache=l,this.suggestionInlineCompletionSource=this._register(new p.SuggestWidgetInlineCompletionProvider(this.editor,()=>{var h,d;return(d=(h=this.cache.value)===null||h===void 0?void 0:h.completions[0])===null||d===void 0?void 0:d.toLiveInlineCompletion()})),this.updateOperation=this._register(new M.MutableDisposable),this.updateCacheSoon=this._register(new L.RunOnceScheduler(()=>this.updateCache(),50)),this.minReservedLineCount=0,this._register(this.suggestionInlineCompletionSource.onDidChange(()=>{this.updateCacheSoon.schedule(),this.suggestionInlineCompletionSource.state||(this.minReservedLineCount=0);const d=this.ghostText;d&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,i(d.parts.map(u=>u.lines.length-1)))),this.minReservedLineCount>=1?this.suggestionInlineCompletionSource.forceRenderingAbove():this.suggestionInlineCompletionSource.stopForceRenderingAbove(),this.onDidChangeEmitter.fire()})),this._register(this.cache.onDidChange(()=>{this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeCursorPosition(h=>{this.minReservedLineCount=0,this.updateCacheSoon.schedule(),this.onDidChangeEmitter.fire()})),this._register((0,M.toDisposable)(()=>this.suggestionInlineCompletionSource.stopForceRenderingAbove()))}get isActive(){return this.suggestionInlineCompletionSource.state!==void 0}isSuggestionPreviewEnabled(){return this.editor.getOption(105).preview}updateCache(){return Me(this,void 0,void 0,function*(){const a=this.suggestionInlineCompletionSource.state;if(!a||!a.selectedItem)return;const l={text:a.selectedItem.normalizedInlineCompletion.text,range:a.selectedItem.normalizedInlineCompletion.range,isSnippetText:a.selectedItem.isSnippetText,completionKind:a.selectedItem.completionItemKind},h=this.editor.getPosition(),d=(0,L.createCancelablePromise)(n=>Me(this,void 0,void 0,function*(){let r;try{r=yield(0,S.provideInlineCompletions)(h,this.editor.getModel(),{triggerKind:E.InlineCompletionTriggerKind.Automatic,selectedSuggestionInfo:l},n)}catch(s){(0,N.onUnexpectedError)(s);return}n.isCancellationRequested||(this.cache.setValue(this.editor,r,E.InlineCompletionTriggerKind.Automatic),this.onDidChangeEmitter.fire())})),u=new S.UpdateOperation(d,E.InlineCompletionTriggerKind.Automatic);this.updateOperation.value=u,yield d,this.updateOperation.value===u&&this.updateOperation.clear()})}get ghostText(){var a,l,h;const d=this.isSuggestionPreviewEnabled(),u=(0,S.minimizeInlineCompletion)(this.editor.getModel(),(l=(a=this.cache.value)===null||a===void 0?void 0:a.completions[0])===null||l===void 0?void 0:l.toLiveInlineCompletion()),n=this.suggestionInlineCompletionSource.state,r=(0,S.minimizeInlineCompletion)(this.editor.getModel(),(h=n==null?void 0:n.selectedItem)===null||h===void 0?void 0:h.normalizedInlineCompletion),s=u&&r&&u.text.startsWith(r.text)&&u.range.equalsRange(r.range);if(!d&&!s)return;const o=s?u:r||u,m=s?o.text.length-r.text.length:0;return this.toGhostText(o,m)}toGhostText(a,l){const h=this.editor.getOptions().get(105).previewMode;return a?(0,b.inlineCompletionToGhostText)(a,this.editor.getModel(),h,this.editor.getPosition(),l)||new g.GhostText(a.range.endLineNumber,[],this.minReservedLineCount):void 0}}e.SuggestWidgetPreviewModel=v;function i(t){return t.reduce((a,l)=>a+l,0)}}),define(ee[740],te([0,1,4,2,13,18,204,739,251,26]),function(Q,e,L,N,M,E,g,S,b,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SharedInlineCompletionCache=e.GhostTextModel=e.DelegatingModel=void 0;class v extends N.Disposable{constructor(){super(...arguments);this.onDidChangeEmitter=new L.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new N.MutableDisposable)}get targetModel(){var l;return(l=this.currentModelRef.value)===null||l===void 0?void 0:l.object}setTargetModel(l){var h;((h=this.currentModelRef.value)===null||h===void 0?void 0:h.object)!==l&&(this.currentModelRef.clear(),this.currentModelRef.value=l?(0,b.createDisposableRef)(l,l.onDidChange(()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()})):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}get ghostText(){var l,h;return this.hasCachedGhostText||(this.cachedGhostText=(h=(l=this.currentModelRef.value)===null||l===void 0?void 0:l.object)===null||h===void 0?void 0:h.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded(l){var h;(h=this.targetModel)===null||h===void 0||h.setExpanded(l)}get expanded(){return this.targetModel?this.targetModel.expanded:!1}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}}e.DelegatingModel=v;let i=class extends v{constructor(l,h){super();this.editor=l,this.commandService=h,this.sharedCache=this._register(new t),this.suggestWidgetAdapterModel=this._register(new S.SuggestWidgetPreviewModel(this.editor,this.sharedCache)),this.inlineCompletionsModel=this._register(new g.InlineCompletionsModel(this.editor,this.sharedCache,this.commandService)),this._register(this.suggestWidgetAdapterModel.onDidChange(()=>{this.updateModel()})),this.updateModel()}get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt(l){var h;const d=(h=this.activeInlineCompletionsModel)===null||h===void 0?void 0:h.ghostText;return d?d.parts.some(u=>l.containsPosition(new M.Position(d.lineNumber,u.column))):!1}triggerInlineCompletion(){var l;(l=this.activeInlineCompletionsModel)===null||l===void 0||l.trigger(E.InlineCompletionTriggerKind.Explicit)}commitInlineCompletion(){var l;(l=this.activeInlineCompletionsModel)===null||l===void 0||l.commitCurrentSuggestion()}hideInlineCompletion(){var l;(l=this.activeInlineCompletionsModel)===null||l===void 0||l.hide()}showNextInlineCompletion(){var l;(l=this.activeInlineCompletionsModel)===null||l===void 0||l.showNext()}showPreviousInlineCompletion(){var l;(l=this.activeInlineCompletionsModel)===null||l===void 0||l.showPrevious()}hasMultipleInlineCompletions(){var l;return Me(this,void 0,void 0,function*(){const h=yield(l=this.activeInlineCompletionsModel)===null||l===void 0?void 0:l.hasMultipleInlineCompletions();return h!==void 0?h:!1})}};i=Ve([Ce(1,p.ICommandService)],i),e.GhostTextModel=i;class t extends N.Disposable{constructor(){super(...arguments);this.onDidChangeEmitter=new L.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.cache=this._register(new N.MutableDisposable)}get value(){return this.cache.value}setValue(l,h,d){this.cache.value=new g.SynchronizedInlineCompletionsCache(l,h,()=>this.onDidChangeEmitter.fire(),d)}clearAndLeak(){return this.cache.clearAndLeak()}clear(){this.cache.clear()}}e.SharedInlineCompletionCache=t}),define(ee[304],te([0,1,2,8,16,145,25,250,740,641,532,17,9,77]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerInlineSuggestionAction=e.ShowPreviousInlineSuggestionAction=e.ShowNextInlineSuggestionAction=e.commitInlineSuggestionAction=e.ActiveGhostTextController=e.GhostTextController=void 0;let l=class tn extends L.Disposable{constructor(m,_){super();this.editor=m,this.instantiationService=_,this.triggeredExplicitly=!1,this.activeController=this._register(new L.MutableDisposable),this._register(this.editor.onDidChangeModel(()=>{this.updateModelController()})),this._register(this.editor.onDidChangeConfiguration(f=>{f.hasChanged(105)&&this.updateModelController(),f.hasChanged(54)&&this.updateModelController()})),this.updateModelController()}static get(m){return m.getContribution(tn.ID)}get activeModel(){var m;return(m=this.activeController.value)===null||m===void 0?void 0:m.model}updateModelController(){const m=this.editor.getOption(105),_=this.editor.getOption(54);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(m.preview||_.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(d,this.editor):void 0}shouldShowHoverAt(m){var _;return((_=this.activeModel)===null||_===void 0?void 0:_.shouldShowHoverAt(m))||!1}shouldShowHoverAtViewZone(m){var _,f;return((f=(_=this.activeController.value)===null||_===void 0?void 0:_.widget)===null||f===void 0?void 0:f.shouldShowHoverAtViewZone(m))||!1}trigger(){var m;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),(m=this.activeModel)===null||m===void 0||m.triggerInlineCompletion()}commit(){var m;(m=this.activeModel)===null||m===void 0||m.commitInlineCompletion()}hide(){var m;(m=this.activeModel)===null||m===void 0||m.hideInlineCompletion()}showNextInlineCompletion(){var m;(m=this.activeModel)===null||m===void 0||m.showNextInlineCompletion()}showPreviousInlineCompletion(){var m;(m=this.activeModel)===null||m===void 0||m.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var m;return Me(this,void 0,void 0,function*(){const _=yield(m=this.activeModel)===null||m===void 0?void 0:m.hasMultipleInlineCompletions();return _!==void 0?_:!1})}};l.inlineSuggestionVisible=new i.RawContextKey("inlineSuggestionVisible",!1,v.localize(0,null)),l.inlineSuggestionHasIndentation=new i.RawContextKey("inlineSuggestionHasIndentation",!1,v.localize(1,null)),l.inlineSuggestionHasIndentationLessThanTabSize=new i.RawContextKey("inlineSuggestionHasIndentationLessThanTabSize",!0,v.localize(2,null)),l.ID="editor.contrib.ghostTextController",l=Ve([Ce(1,t.IInstantiationService)],l),e.GhostTextController=l;class h{constructor(m){this.contextKeyService=m,this.inlineCompletionVisible=l.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=l.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=l.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService)}}let d=class extends L.Disposable{constructor(m,_,f){super();this.editor=m,this.instantiationService=_,this.contextKeyService=f,this.contextKeys=new h(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance(b.GhostTextModel,this.editor)),this.widget=this._register(this.instantiationService.createInstance(p.GhostTextWidget,this.editor,this.model)),this._register((0,L.toDisposable)(()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(!0)})),this._register(this.model.onDidChange(()=>{this.updateContextKeys()})),this.updateContextKeys()}updateContextKeys(){var m;this.contextKeys.inlineCompletionVisible.set(((m=this.model.activeInlineCompletionsModel)===null||m===void 0?void 0:m.ghostText)!==void 0);let _=!1,f=!0;const c=this.model.inlineCompletionsModel.ghostText;if(!!this.model.activeInlineCompletionsModel&&c&&c.parts.length>0){const{column:C,lines:y}=c.parts[0],w=y[0],D=this.editor.getModel().getLineIndentColumn(c.lineNumber);if(C<=D){let T=(0,N.firstNonWhitespaceIndex)(w);T===-1&&(T=w.length-1),_=T>0;const F=this.editor.getModel().getOptions().tabSize;f=E.CursorColumns.visibleColumnFromColumn(w,T+1,F)<F}}this.contextKeys.inlineCompletionSuggestsIndentation.set(_),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(f)}};d=Ve([Ce(1,t.IInstantiationService),Ce(2,i.IContextKeyService)],d),e.ActiveGhostTextController=d;const u=M.EditorCommand.bindToContribution(l.get);e.commitInlineSuggestionAction=new u({id:S.inlineSuggestCommitId,precondition:l.inlineSuggestionVisible,handler(o){o.commit(),o.editor.focus()}}),(0,M.registerEditorCommand)(e.commitInlineSuggestionAction),a.KeybindingsRegistry.registerKeybindingRule({primary:2,weight:200,id:e.commitInlineSuggestionAction.id,when:i.ContextKeyExpr.and(e.commitInlineSuggestionAction.precondition,g.EditorContextKeys.tabMovesFocus.toNegated(),l.inlineSuggestionHasIndentationLessThanTabSize)}),(0,M.registerEditorCommand)(new u({id:"editor.action.inlineSuggest.hide",precondition:l.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(o){o.hide()}}));class n extends M.EditorAction{constructor(){super({id:n.ID,label:v.localize(3,null),alias:"Show Next Inline Suggestion",precondition:i.ContextKeyExpr.and(g.EditorContextKeys.writable,l.inlineSuggestionVisible),kbOpts:{weight:100,primary:512|89}})}run(m,_){return Me(this,void 0,void 0,function*(){const f=l.get(_);f&&(f.showNextInlineCompletion(),_.focus())})}}e.ShowNextInlineSuggestionAction=n,n.ID="editor.action.inlineSuggest.showNext";class r extends M.EditorAction{constructor(){super({id:r.ID,label:v.localize(4,null),alias:"Show Previous Inline Suggestion",precondition:i.ContextKeyExpr.and(g.EditorContextKeys.writable,l.inlineSuggestionVisible),kbOpts:{weight:100,primary:512|87}})}run(m,_){return Me(this,void 0,void 0,function*(){const f=l.get(_);f&&(f.showPreviousInlineCompletion(),_.focus())})}}e.ShowPreviousInlineSuggestionAction=r,r.ID="editor.action.inlineSuggest.showPrevious";class s extends M.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:v.localize(5,null),alias:"Trigger Inline Suggestion",precondition:g.EditorContextKeys.writable})}run(m,_){return Me(this,void 0,void 0,function*(){const f=l.get(_);f&&f.trigger()})}}e.TriggerInlineSuggestionAction=s,(0,M.registerEditorContribution)(l.ID,l),(0,M.registerEditorAction)(s),(0,M.registerEditorAction)(n),(0,M.registerEditorAction)(r)}),define(ee[741],te([0,1,7,73,2,106,3,39,248,304,533,62,38,26,17,54]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionsHoverParticipant=e.InlineCompletionsHover=void 0;class d{constructor(r,s,o){this.owner=r,this.range=s,this.controller=o}isValidForHoverAnchor(r){return r.type===1&&this.range.startColumn<=r.range.startColumn&&this.range.endColumn>=r.range.endColumn}hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions()}}e.InlineCompletionsHover=d;let u=class{constructor(r,s,o,m,_,f,c,C){this._editor=r,this._hover=s,this._commandService=o,this._menuService=m,this._contextKeyService=_,this._modeService=f,this._openerService=c,this.accessibilityService=C}suggestHoverAnchor(r){const s=p.GhostTextController.get(this._editor);if(!s)return null;if(r.target.type===8){const o=r.target.detail;if(s.shouldShowHoverAtViewZone(o.viewZoneId))return new b.HoverForeignElementAnchor(1e3,this,g.Range.fromPositions(o.positionBefore||o.position,o.positionBefore||o.position))}return r.target.type===7&&r.target.range&&s.shouldShowHoverAt(r.target.range)?new b.HoverForeignElementAnchor(1e3,this,r.target.range):r.target.type===6&&r.target.range&&r.target.detail&&r.target.detail.mightBeForeignElement&&s.shouldShowHoverAt(r.target.range)?new b.HoverForeignElementAnchor(1e3,this,r.target.range):null}computeSync(r,s){const o=p.GhostTextController.get(this._editor);return o&&o.shouldShowHoverAt(r.range)?[new d(this,r.range,o)]:[]}renderHoverParts(r,s,o){const m=new M.DisposableStore,_=r[0];this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(_,s,m);const f=m.add(this._menuService.createMenu(t.MenuId.InlineCompletionsActions,this._contextKeyService)),c=o.addAction({label:v.localize(0,null),commandId:p.ShowNextInlineSuggestionAction.ID,run:()=>this._commandService.executeCommand(p.ShowNextInlineSuggestionAction.ID)}),C=o.addAction({label:v.localize(1,null),commandId:p.ShowPreviousInlineSuggestionAction.ID,run:()=>this._commandService.executeCommand(p.ShowPreviousInlineSuggestionAction.ID)});o.addAction({label:v.localize(2,null),commandId:p.commitInlineSuggestionAction.id,run:()=>this._commandService.executeCommand(p.commitInlineSuggestionAction.id)});const y=[c,C];for(const w of y)w.setEnabled(!1);_.hasMultipleSuggestions().then(w=>{for(const D of y)D.setEnabled(w)});for(const[w,D]of f.getActions())for(const I of D)I instanceof t.MenuItemAction&&o.addAction({label:I.label,commandId:I.item.id,run:()=>this._commandService.executeCommand(I.item.id)});return m}renderScreenReaderText(r,s,o){var m,_;const f=L.$,c=f("div.hover-row.markdown-hover"),C=L.append(c,f("div.hover-contents")),y=o.add(new E.MarkdownRenderer({editor:this._editor},this._modeService,this._openerService)),w=I=>{o.add(y.onDidRenderAsync(()=>{C.className="hover-contents code-hover-contents",this._hover.onContentsChanged()}));const T=v.localize(3,null),F=o.add(y.render(new N.MarkdownString().appendText(T).appendCodeblock("text",I)));C.replaceChildren(F.element)},D=(_=(m=r.controller.activeModel)===null||m===void 0?void 0:m.inlineCompletionsModel)===null||_===void 0?void 0:_.ghostText;if(D){const I=this._editor.getModel().getLineContent(D.lineNumber);w(D.renderForScreenReader(I))}s.appendChild(c)}};u=Ve([Ce(2,a.ICommandService),Ce(3,t.IMenuService),Ce(4,l.IContextKeyService),Ce(5,S.IModeService),Ce(6,h.IOpenerService),Ce(7,i.IAccessibilityService)],u),e.InlineCompletionsHoverParticipant=u}),define(ee[742],te([0,1,7,226,53,19,2,13,3,31,18,712,247,248,285,728,741,17,9,43,94,300,10]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d,u,n,r,s,o,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModesContentHoverWidget=void 0;const _=L.$;let f=class extends g.Disposable{constructor(w){super();this._keybindingService=w,this._hasContent=!1,this.hoverElement=_("div.hover-row.status-bar"),this.actionsElement=L.append(this.hoverElement,_("div.actions"))}get hasContent(){return this._hasContent}addAction(w){const D=this._keybindingService.lookupKeybinding(w.commandId),I=D?D.getLabel():null;return this._hasContent=!0,this._register(N.HoverAction.render(this.actionsElement,w,I))}append(w){const D=L.append(this.actionsElement,w);return this._hasContent=!0,D}};f=Ve([Ce(0,r.IKeybindingService)],f);class c{constructor(w,D){this._participants=D,this._editor=w,this._result=[],this._anchor=null}setAnchor(w){this._anchor=w,this._result=[]}clearResult(){this._result=[]}static _getLineDecorations(w,D){if(D.type!==1)return[];const I=w.getModel(),T=D.range.startLineNumber,F=I.getLineMaxColumn(T);return w.getLineDecorations(T).filter(P=>{if(P.options.isWholeLine)return!0;const R=P.range.startLineNumber===T?P.range.startColumn:1,A=P.range.endLineNumber===T?P.range.endColumn:F;if(P.options.showIfCollapsed){if(R>D.range.startColumn+1||D.range.endColumn-1>A)return!1}else if(R>D.range.startColumn||D.range.endColumn>A)return!1;return!0})}computeAsync(w){const D=this._anchor;if(!this._editor.hasModel()||!D)return m.AsyncIterableObject.EMPTY;const I=c._getLineDecorations(this._editor,D);return m.AsyncIterableObject.merge(this._participants.map(T=>this._computeAsync(T,I,D,w)))}_computeAsync(w,D,I,T){return w.computeAsync?w.computeAsync(I,D,T):m.AsyncIterableObject.EMPTY}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const w=c._getLineDecorations(this._editor,this._anchor);let D=[];for(const I of this._participants)D=D.concat(I.computeSync(this._anchor,w));return(0,E.coalesce)(D)}onResult(w,D){D?this._result=w.concat(this._result):this._result=this._result.concat(w)}getResult(){return this._result.slice(0)}getResultWithLoadingMessage(){if(this._anchor){for(const w of this._participants)if(w.createLoadingMessage){const D=w.createLoadingMessage(this._anchor);if(D)return this._result.slice(0).concat([D])}}return this._result.slice(0)}}let C=class fi extends M.Widget{constructor(w,D,I,T,F){super();this._hoverVisibleKey=D,this._keybindingService=T,this._contextKeyService=F,this.allowEditorOverflow=!0,this._participants=[I.createInstance(i.ColorHoverParticipant,w,this),I.createInstance(l.MarkdownHoverParticipant,w,this),I.createInstance(d.InlineCompletionsHoverParticipant,w,this),I.createInstance(o.UnicodeHighlighterHoverParticipant,w,this),I.createInstance(h.MarkerHoverParticipant,w,this)],this._editor=w,this._isVisible=!1,this._stoleFocus=!1,this._renderDisposable=null,this._hover=this._register(new N.HoverWidget),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this.onkeydown(this._hover.containerDomNode,P=>{P.equals(9)&&this.hide()}),this._register(this._editor.onDidChangeConfiguration(P=>{P.hasChanged(43)&&this._updateFont()})),this._editor.onDidLayoutChange(()=>this.layout()),this.layout(),this._editor.addContentWidget(this),this._showAtPosition=null,this._showAtRange=null,this._stoleFocus=!1,this._messages=[],this._messagesAreComplete=!1,this._lastAnchor=null,this._computer=new c(this._editor,this._participants),this._highlightDecorations=[],this._isChangingDecorations=!1,this._shouldFocus=!1,this._colorPicker=null,this._preferAbove=this._editor.getOption(52).above,this._hoverOperation=new t.HoverOperation(this._computer,P=>this._withResult(P,!0),null,P=>this._withResult(P,!1),this._editor.getOption(52).delay),this._register(L.addStandardDisposableListener(this.getDomNode(),L.EventType.FOCUS,()=>{this._colorPicker&&this.getDomNode().classList.add("colorpicker-hover")})),this._register(L.addStandardDisposableListener(this.getDomNode(),L.EventType.BLUR,()=>{this.getDomNode().classList.remove("colorpicker-hover")})),this._register(w.onDidChangeConfiguration(()=>{this._hoverOperation.setHoverTime(this._editor.getOption(52).delay),this._preferAbove=this._editor.getOption(52).above})),this._register(v.TokenizationRegistry.onDidChange(()=>{this._isVisible&&this._lastAnchor&&this._messages.length>0&&(this._hover.contentsDomNode.textContent="",this._renderMessages(this._lastAnchor,this._messages))}))}dispose(){this._hoverOperation.cancel(),this._editor.removeContentWidget(this),super.dispose()}getId(){return fi.ID}getDomNode(){return this._hover.containerDomNode}_shouldShowAt(w){const D=w.target.type;if(D===6)return!0;if(D===7){const I=this._editor.getOption(43).typicalHalfwidthCharacterWidth/2,T=w.target.detail;if(T&&!T.isAfterLines&&typeof T.horizontalDistanceToText=="number"&&T.horizontalDistanceToText<I)return!0}return!1}maybeShowAt(w){var D;const I=[];for(const T of this._participants)if(typeof T.suggestHoverAnchor=="function"){const F=T.suggestHoverAnchor(w);F&&I.push(F)}if(this._shouldShowAt(w)&&w.target.range){const F=[...((D=w.target.element)===null||D===void 0?void 0:D.classList.values())||[]].find(P=>P.startsWith("ced-colorBox"))&&w.target.range.endColumn-w.target.range.startColumn==1?new b.Range(w.target.range.startLineNumber,w.target.range.startColumn+1,w.target.range.endLineNumber,w.target.range.endColumn+1):w.target.range;I.push(new a.HoverRangeAnchor(0,F))}return I.length===0?!1:(I.sort((T,F)=>F.priority-T.priority),this._startShowingAt(I[0],0,!1),!0)}_showAt(w,D,I){this._showAtPosition=w,this._showAtRange=D,this._hoverVisibleKey.set(!0),this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._editor.render(),this._stoleFocus=I,I&&this._hover.containerDomNode.focus()}getPosition(){if(this._isVisible){let w=this._preferAbove;return!w&&this._contextKeyService.getContextKeyValue(s.Context.Visible.key)&&(w=!0),{position:this._showAtPosition,range:this._showAtRange,preference:w?[1,2]:[2,1]}}return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(D=>this._editor.applyFontInfo(D))}_updateContents(w){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(w),this._updateFont(),this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}layout(){const w=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:D,lineHeight:I}=this._editor.getOption(43);this._hover.contentsDomNode.style.fontSize=`${D}px`,this._hover.contentsDomNode.style.lineHeight=`${I/D}`,this._hover.contentsDomNode.style.maxHeight=`${w}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(this._editor.getLayoutInfo().width*.66,500)}px`}onModelDecorationsChanged(){this._isChangingDecorations||this._isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._colorPicker||this._hoverOperation.start(0))}startShowingAtRange(w,D,I){this._startShowingAt(new a.HoverRangeAnchor(0,w),D,I)}_startShowingAt(w,D,I){if(!(this._lastAnchor&&this._lastAnchor.equals(w))){if(this._hoverOperation.cancel(),this._isVisible)if(!this._showAtPosition||!this._lastAnchor||!w.canAdoptVisibleHover(this._lastAnchor,this._showAtPosition))this.hide();else{const T=this._messages.filter(F=>F.isValidForHoverAnchor(w));if(T.length===0)this.hide();else{if(T.length===this._messages.length&&this._messagesAreComplete)return;this._renderMessages(w,T)}}this._lastAnchor=w,this._computer.setAnchor(w),this._shouldFocus=I,this._hoverOperation.start(D)}}hide(){this._lastAnchor=null,this._hoverOperation.cancel(),this._isVisible&&(setTimeout(()=>{this._isVisible||this._hoverVisibleKey.set(!1)},0),this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._stoleFocus&&this._editor.focus()),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[]),this._isChangingDecorations=!1,this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null}isColorPickerVisible(){return!!this._colorPicker}setColorPicker(w){this._colorPicker=w}onContentsChanged(){this._hover.onContentsChanged()}_withResult(w,D){this._messages=w,this._messagesAreComplete=D,this._lastAnchor&&this._messages.length>0?this._renderMessages(this._lastAnchor,this._messages):D&&this.hide()}_renderMessages(w,D){this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null;let I=1073741824,T=D[0].range,F=null,P=document.createDocumentFragment();const R=new g.DisposableStore,A=new Map;for(const k of D)I=Math.min(I,k.range.startColumn),T=b.Range.plusRange(T,k.range),k.forceShowAtRange&&(F=k.range),A.has(k.owner)||A.set(k.owner,[]),A.get(k.owner).push(k);const O=R.add(new f(this._keybindingService));for(const k of this._participants)if(A.has(k)){const V=A.get(k);R.add(k.renderHoverParts(V,P,O))}O.hasContent&&P.appendChild(O.hoverElement),this._renderDisposable=R,P.hasChildNodes()&&(F?this._showAt(F.getStartPosition(),F,this._shouldFocus):this._showAt(new S.Position(w.range.startLineNumber,I),T,this._shouldFocus),this._updateContents(P)),this._colorPicker&&this._colorPicker.layout(),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,T?[{range:T,options:fi._DECORATION_OPTIONS}]:[]),this._isChangingDecorations=!1}};C.ID="editor.contrib.modesContentHoverWidget",C._DECORATION_OPTIONS=p.ModelDecorationOptions.register({description:"content-hover-highlight",className:"hoverHighlight"}),C=Ve([Ce(2,n.IInstantiationService),Ce(3,r.IKeybindingService),Ce(4,u.IContextKeyService)],C),e.ModesContentHoverWidget=C}),define(ee[305],te([0,1,56,2,16,3,25,39,298,742,615,527,17,9,54,24,14]),function(Q,e,L,N,M,E,g,S,b,p,v,i,t,a,l,h,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModesHoverController=void 0;let u=class nn{constructor(o,m,_,f,c){this._editor=o,this._instantiationService=m,this._openerService=_,this._modeService=f,this._toUnhook=new N.DisposableStore,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(C=>{C.hasChanged(52)&&(this._unhookEvents(),this._hookEvents())}),this._hoverVisibleKey=g.EditorContextKeys.hoverVisible.bindTo(c)}static get(o){return o.getContribution(nn.ID)}_hookEvents(){const o=()=>this._hideWidgets(),m=this._editor.getOption(52);this._isHoverEnabled=m.enabled,this._isHoverSticky=m.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(_=>this._onEditorMouseDown(_))),this._toUnhook.add(this._editor.onMouseUp(_=>this._onEditorMouseUp(_))),this._toUnhook.add(this._editor.onMouseMove(_=>this._onEditorMouseMove(_))),this._toUnhook.add(this._editor.onKeyDown(_=>this._onKeyDown(_))),this._toUnhook.add(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged()))):(this._toUnhook.add(this._editor.onMouseMove(_=>this._onEditorMouseMove(_))),this._toUnhook.add(this._editor.onKeyDown(_=>this._onKeyDown(_)))),this._toUnhook.add(this._editor.onMouseLeave(o)),this._toUnhook.add(this._editor.onDidChangeModel(o)),this._toUnhook.add(this._editor.onDidScrollChange(_=>this._onEditorScrollChanged(_)))}_unhookEvents(){this._toUnhook.clear()}_onModelDecorationsChanged(){var o,m;(o=this._contentWidget)===null||o===void 0||o.onModelDecorationsChanged(),(m=this._glyphWidget)===null||m===void 0||m.onModelDecorationsChanged()}_onEditorScrollChanged(o){(o.scrollTopChanged||o.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(o){this._isMouseDown=!0;const m=o.target.type;if(m===9&&o.target.detail===p.ModesContentHoverWidget.ID){this._hoverClicked=!0;return}m===12&&o.target.detail===v.ModesGlyphHoverWidget.ID||(m!==12&&o.target.detail!==v.ModesGlyphHoverWidget.ID&&(this._hoverClicked=!1),this._hideWidgets())}_onEditorMouseUp(o){this._isMouseDown=!1}_onEditorMouseMove(o){var m,_,f,c,C;let y=o.target.type;if(this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&y===9&&o.target.detail===p.ModesContentHoverWidget.ID||this._isHoverSticky&&!((_=(m=o.event.browserEvent.view)===null||m===void 0?void 0:m.getSelection())===null||_===void 0?void 0:_.isCollapsed)||!this._isHoverSticky&&y===9&&o.target.detail===p.ModesContentHoverWidget.ID&&((f=this._contentWidget)===null||f===void 0?void 0:f.isColorPickerVisible())||this._isHoverSticky&&y===12&&o.target.detail===v.ModesGlyphHoverWidget.ID)return;if(!this._isHoverEnabled){this._hideWidgets();return}if(this._getOrCreateContentWidget().maybeShowAt(o)){(c=this._glyphWidget)===null||c===void 0||c.hide();return}if(y===2&&o.target.position){(C=this._contentWidget)===null||C===void 0||C.hide(),this._glyphWidget||(this._glyphWidget=new v.ModesGlyphHoverWidget(this._editor,this._modeService,this._openerService)),this._glyphWidget.startShowingAt(o.target.position.lineNumber);return}this._hideWidgets()}_onKeyDown(o){o.keyCode!==5&&o.keyCode!==6&&o.keyCode!==57&&o.keyCode!==4&&this._hideWidgets()}_hideWidgets(){var o,m,_;this._isMouseDown&&this._hoverClicked&&((o=this._contentWidget)===null||o===void 0?void 0:o.isColorPickerVisible())||(this._hoverClicked=!1,(m=this._glyphWidget)===null||m===void 0||m.hide(),(_=this._contentWidget)===null||_===void 0||_.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(p.ModesContentHoverWidget,this._editor,this._hoverVisibleKey)),this._contentWidget}isColorPickerVisible(){var o;return((o=this._contentWidget)===null||o===void 0?void 0:o.isColorPickerVisible())||!1}showContentHover(o,m,_){this._getOrCreateContentWidget().startShowingAtRange(o,m,_)}dispose(){var o,m;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),(o=this._glyphWidget)===null||o===void 0||o.dispose(),(m=this._contentWidget)===null||m===void 0||m.dispose()}};u.ID="editor.contrib.hover",u=Ve([Ce(1,a.IInstantiationService),Ce(2,l.IOpenerService),Ce(3,S.IModeService),Ce(4,t.IContextKeyService)],u),e.ModesHoverController=u;class n extends M.EditorAction{constructor(){super({id:"editor.action.showHover",label:i.localize(0,null),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2048|41,2048|39),weight:100}})}run(o,m){if(!m.hasModel())return;let _=u.get(m);if(!_)return;const f=m.getPosition(),c=new E.Range(f.lineNumber,f.column,f.lineNumber,f.column),C=m.getOption(2)===2;_.showContentHover(c,1,C)}}class r extends M.EditorAction{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:i.localize(1,null),alias:"Show Definition Preview Hover",precondition:void 0})}run(o,m){let _=u.get(m);if(!_)return;const f=m.getPosition();if(!f)return;const c=new E.Range(f.lineNumber,f.column,f.lineNumber,f.column);b.GotoDefinitionAtPositionEditorContribution.get(m).startFindDefinitionFromCursor(f).then(()=>{_.showContentHover(c,1,!0)})}}(0,M.registerEditorContribution)(u.ID,u),(0,M.registerEditorAction)(n),(0,M.registerEditorAction)(r),(0,d.registerThemingParticipant)((s,o)=>{const m=s.getColor(h.editorHoverHighlight);m&&o.addRule(`.monaco-editor .hoverHighlight { background-color: ${m}; }`);const _=s.getColor(h.editorHoverBackground);_&&o.addRule(`.monaco-editor .monaco-hover { background-color: ${_}; }`);const f=s.getColor(h.editorHoverBorder);f&&(o.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${f}; }`),o.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${f.transparent(.5)}; }`),o.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${f.transparent(.5)}; }`),o.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${f.transparent(.5)}; }`));const c=s.getColor(h.textLinkForeground);c&&o.addRule(`.monaco-editor .monaco-hover a { color: ${c}; }`);const C=s.getColor(h.textLinkActiveForeground);C&&o.addRule(`.monaco-editor .monaco-hover a:hover { color: ${C}; }`);const y=s.getColor(h.editorHoverForeground);y&&o.addRule(`.monaco-editor .monaco-hover { color: ${y}; }`);const w=s.getColor(h.editorHoverStatusBarBackground);w&&o.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${w}; }`);const D=s.getColor(h.textCodeBlockBackground);D&&o.addRule(`.monaco-editor .monaco-hover code { background-color: ${D}; }`)})}),define(ee[743],te([0,1,2,16,3,305,292]),function(Q,e,L,N,M,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorContribution=void 0;class g extends L.Disposable{constructor(b){super();this._editor=b,this._register(b.onMouseDown(p=>this.onMouseDown(p)))}dispose(){super.dispose()}onMouseDown(b){var p;if(b.target.type!==6||![...((p=b.target.element)===null||p===void 0?void 0:p.classList.values())||[]].find(a=>a.startsWith("ced-colorBox"))||!b.target.range)return;const t=this._editor.getContribution(E.ModesHoverController.ID);if(!t.isColorPickerVisible()){const a=new M.Range(b.target.range.startLineNumber,b.target.range.startColumn+1,b.target.range.endLineNumber,b.target.range.endColumn+1);t.showContentHover(a,0,!1)}}}e.ColorContribution=g,g.ID="editor.contrib.colorContribution",g.RECOMPUTE_TIME=1e3,(0,N.registerEditorContribution)(g.ID,g)}),define(ee[744],te([0,1,163,164,203,232,648,697,649,698,650,701,703,743,653,654,655,704,293,711,656,657,591,304,297,298,295,305,714,660,713,715,717,718,719,720,682,661,662,206,303,663,286,300,664,722,723,294,724,66,141]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})});var ni=this&&this.__createBinding||(Object.create?function(Q,e,L,N){N===void 0&&(N=L),Object.defineProperty(Q,N,{enumerable:!0,get:function(){return e[L]}})}:function(Q,e,L,N){N===void 0&&(N=L),Q[N]=e[L]}),si=this&&this.__exportStar||function(Q,e){for(var L in Q)L!=="default"&&!Object.prototype.hasOwnProperty.call(e,L)&&ni(e,Q,L)};define(ee[747],te([0,1,734,744,665,666,667,618,669,670,668,729,671]),function(Q,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),si(L,e)})}).call(this);

//# sourceMappingURL=../../../min-maps/vs/editor/editor.main.js.map